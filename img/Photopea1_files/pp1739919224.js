(function(){var cC=window.location.hostname=="www.vectorpea.com"?1:0,h2=!0;(function(){var W;try{W=window.localStorage}catch(bu){}var q={};
if(W){var X=W.getItem("_ppp");if(X)q=JSON.parse(X);else{var k="0_uid 0_provider 0_token 0_stateLocal capShown localFonts __glm dpiUnit swfPrms lpOpt".split(" ");
for(var N=0;N<k.length;N++){var B=W.getItem(k[N]);if(B!=null)q[k[N]]=B}}}var U=window.locStor={};U.setItem=function(K,D){q[K]=D;
if(W)W.setItem("_ppp",JSON.stringify(q))};U.getItem=function(K){return q[K]};U.removeItem=function(K){delete q[K];
if(W)W.setItem("_ppp",JSON.stringify(q))};if(cC==0){window.showCap=function(){l(!0)};window.hideCap=function(){l(!1)};
function l(K){document.getElementById("cap").setAttribute("style",K?"":"display:none;");window.locStor.setItem("capShown",""+K)}if(window.locStor.getItem("capShown")=="false"||window.self!=window.top){}else window.showCap()}}());
var gv={vU:0,rk:null,MC:null,alR:null,xW:null,P0:null,azE:!0,am1:0,lj:!1};gv.event=function(W,q,X){if(cC!=0)return;
if(q!=null&&q<Math.random())return;if(X==null)X=0;var k=new XMLHttpRequest;k.open("GET","/papi/event.php?id="+W+"&g="+X+"&rnd="+Math.random());
k.send()};gv.MG=function(W){if(cC!=0)W="//www.photopea.com/"+W;return W};gv.yh=function(W){var q=location.href;
if(q.indexOf("photopea.com")!=-1||q.indexOf("vectorpea.com")!=-1)return"//vecpea.com/"+W;return gv.MG(W)};
gv.jj=function(){var W=gv.XV();if(W==null)return null;var q=I.o4(24)?" ":"",X=I.TD[I.jC("Uu,"+q)];X=X[I.jC(q+"$/")];
var k=gv.ahK(1,999);if(k&&gv.NB(k)*50>X()/20)return[0,k];var B=W.inTeams;if(B)for(var N=0;N<B.length;
N++)if(B[N][1]*50>X()/20)return[1,B[N]];return null};gv.c9=function(){return gv.asW()!=null};gv.wT=function(){return gv.NB(gv.ahK(1e3,999999999))};
gv.NB=function(W){return W==null?0:W[0]+W[1]*24*60*60};gv.ahK=function(W,q){var X=gv.XV(),k=X.pmnts,B=0,U=null;
if(k==null||k.length==0)return 0;for(var N=0;N<k.length;N++){var l=k[N],K=gv.NB(l);if(W<=l[2]&&l[2]<=q)if(B<K){B=K;
U=l}}return U};gv.XV=function(){return gv.P0};gv.Fs=function(W){window.addEventListener("message",gv.aGp,!1);
setInterval(gv.aH0,5e3);if(gv.c9()&&navigator.onLine){gv.rk=W;gv.qn()}else setTimeout(W,1)};gv.aH0=function(){if(gv.c9()&&gv.lj){gv.ax9(gv.Ja());
gv.lj=!1}};gv.XY=function(W){gv.rk=W;var q="https://www.photopea.com/papi/login.php?redirect="+encodeURIComponent(window.location.href);
gv.alR=window.open(q,"_blank")};gv.atm=function(){var W=window.locStor;W.removeItem(gv.vU+"_uid");W.removeItem(gv.vU+"_provider");
W.removeItem(gv.vU+"_token");gv.P0=null};gv.aGp=function(W){if(W.data instanceof ArrayBuffer||W.data instanceof Object)return;
if(W.data.charAt(0)!="{")return;var q=JSON.parse(W.data);if(q.prms==null)return;var X=q.prms.split(",");
if(X[0]=="papi_logged_in"){var k=window.locStor;k.setItem(gv.vU+"_uid",X[1]);gv.u_(X[2]);k.setItem(gv.vU+"_provider",X[3]);
gv.alR.close();gv.qn()}if(X[0]=="payment_complete"){gv.xW.close();gv.qn()}};gv.asW=function(){var W=window.locStor.getItem(gv.vU+"_token");
if(W!=null&&Date.now()*.001+10<parseInt(W.split("-")[0]))return W;return null};gv.u_=function(W){var q=window.locStor.getItem(gv.vU+"_token");
if(q!=null&&parseInt(W.split("-")[0])<parseInt(q.split("-")[0]))return;window.locStor.setItem(gv.vU+"_token",W);
clearTimeout(gv.am1);gv.am1=setTimeout(gv.asD,Math.min(1e9,parseInt(W.split("-")[0])*1e3-Date.now()-20*1e3))};
gv.aqN=function(W,q,X,k){if(!navigator.onLine)throw"a";var B=new XMLHttpRequest;B.open("POST","https://www.photopea.com/papi/record_new.php",!0);
B.onload=X;var U=gv.pK(0)+"&read=3&tuid="+W+"&tid="+q;if(k)U+="&tpl="+encodeURIComponent(k);B.setRequestHeader("Content-type","application/x-www-form-urlencoded");
B.send(U)};gv.asD=function(){if(!navigator.onLine)throw"a";var W=new XMLHttpRequest;W.open("POST","https://www.photopea.com/papi/record_new.php",!0);
W.onload=gv.azm;var q=gv.pK(0)+"&read=2";W.setRequestHeader("Content-type","application/x-www-form-urlencoded");
W.send(q)};gv.qn=function(){if(!navigator.onLine)throw"b";var W=new XMLHttpRequest;W.open("POST","https://www.photopea.com/papi/record_new.php",!0);
W.onload=gv.a7Z;var q=gv.pK(0)+"&read=1";W.setRequestHeader("Content-type","application/x-www-form-urlencoded");
W.send(q)};gv.ax9=function(W){if(!navigator.onLine)throw"c";var q=new XMLHttpRequest;q.open("POST","https://www.photopea.com/papi/record_new.php",!0);
q.onload=gv.aJX;var X=gv.pK(0)+"&read=0&score="+(W.tpl?1:0)+"&spublic="+gv.azE+"&record="+encodeURIComponent(JSON.stringify(W));
q.setRequestHeader("Content-type","application/x-www-form-urlencoded");q.send(X)};gv.a7Z=function(W){var q=JSON.parse(W.target.response);
if(q.error){}else{gv.P0=q.user;var X=gv.Ja(),k=q.record;if(q.record){gv.azE=q.spublic;gv.a0I(k)}else if(X)gv.ax9(X)}gv.u_(q.token);
var B=gv.rk,U=gv.MC;if(B){gv.rk=null;B()}if(U){gv.MC=null;U()}};gv.azm=function(W){var q=JSON.parse(W.target.response);
gv.u_(q.token)};gv.aJX=function(W){var q=JSON.parse(W.target.response);gv.u_(q.token);if(gv.MC)gv.qn()};
gv.pK=function(W){var q=window.locStor;return"app="+W+"&uid="+q.getItem(gv.vU+"_uid")+"&token="+q.getItem(gv.vU+"_token")};
gv.Ol=function(W){if(W){gv.MC=W;gv.qn()}return gv.Ja()};gv.Wt=function(W,q){gv.a0I(W);gv.lj=!0;if(q){gv.MC=q;
gv.aH0()}};gv.Ja=function(){var W=window.locStor.getItem(gv.vU+"_stateLocal"),q;if(W==null)return null;
try{q=JSON.parse(W)}catch(bu){return null}return q};gv.a0I=function(W){var q=JSON.stringify(W);window.locStor.setItem(gv.vU+"_stateLocal",q)};
gv.order=function(W,q,X){gv.rk=X;var k=window.locStor,B="https://www.photopea.com/papi/order.php?ptype="+q+"&param="+W+"&uid="+k.getItem(gv.vU+"_uid")+"&token="+k.getItem(gv.vU+"_token");
gv.xW=window.open(B,"_blank")};gv.apm=function(W,q){gv.rk=q;var X=window.locStor,k="https://www.photopea.com/papi/insertKey.php?key="+W+"&uid="+X.getItem(gv.vU+"_uid")+"&token="+X.getItem(gv.vU+"_token");
gv.xW=window.open(k,"_blank")};var ia={};ia.a20=function(W,q){var X=I.TD[I.jC("%|xK")];if(X==null)return"XYP";
var k=W.toString(16).slice(0,4),B=k+q+"aQYRDCB";return X(B).slice(5,17)+k.split("").reverse().join("")};
ia.kU=function(){var W=I.TD[I.wl("3M"+(I.o4(26)?"]K":"fa"))];W=W[I.wl("]["+(!I.o4(28)?",":"`"))];return Math.floor(W()/1e3)};
ia.o4=function(W){var q=0;for(var N=0;N<W;N++)q+=Math.random();return q/W<Math.PI/4};ia.wl=function(W){var q="";
if(!ia.o4(28))W+="-3";for(var N=0;N<W.length;N++){var X=W.charCodeAt(N);if(X<32||126<X)throw"e";q+=String.fromCharCode(32+(X-32+17+3*N)%95)}return q};
ia.jC=function(W){var q="";if(!ia.o4(28))W+="-1";for(var N=0;N<W.length;N++){var X=W.charCodeAt(N);X-=32;
X+=95e4;X-=17+3*N;X=X%95;q+=String.fromCharCode(32+X)}return q};ia.NS=ia.wl("XP");ia.SB=ia.wl("XYP");
ia.cW=ia.wl("c[Y");ia.aFk=ia.wl("][`");ia.zM=ia.wl("SU_");ia.yr=ia.wl("b^L");ia.a6w=ia.wl("61=");ia.Mh=ia.wl("Q[M_");
ia.zj=ia.wl("WQJJ");ia.rB=ia.wl("W^NL");ia.ado=ia.wl("[QOZ");ia.iJ=ia.wl("[[JJ");ia.a38=ia.wl("[[PU");
ia.by=ia.wl("^\\NT");ia.aAt=ia.wl("bQUL");ia.xc=ia.wl("bQWJ");ia.awh=ia.wl("3M]K");ia.a87=ia.wl("<M]N");
ia.apA=ia.wl("][WK");ia.aGE=ia.wl("?;<:");ia.e_=ia.wl("P_bTF");ia.Tv=ia.wl("RXRIN");ia.oA=ia.wl("aUPNW");
ia.FW=ia.wl("b`bRH");ia.anI=ia.wl("fUMZK");ia.a77=ia.wl("Q[]ZRM");ia.abi=ia.wl("WQRMKT");ia.arZ=ia.wl("WUMJHN");
ia.aV=ia.wl("XR[GPE");ia.a33=ia.wl("aMWJRM");ia.Dr=ia.wl("bO[OST");ia.aCG=ia.wl("cM[MHT");ia.a7_=ia.wl("^Z5OQE");
ia.UT=ia.wl("^ZUUDD");ia.aIu=ia.wl("_M[KQT");ia.arM=ia.wl("POLUXNQ");ia._3=ia.wl("R[WLLRJ");ia.ag2=ia.wl("SU\\VOAV");
ia.aif=ia.wl("XZMK[/C");ia.m3=ia.wl("aQYRDCB");ia.ge=ia.wl("[[LGWILH");ia.Ks=ia.wl("S[L[PEKN");ia.akC=ia.wl("_[\\OWILH");
ia.JK=ia.wl("aQOKURBL");ia.aEA=ia.wl("aQUGWIS?");ia.$D=ia.wl("aQ\\VRNP?");ia.aIW=ia.wl("XZWKU(1'#");
ia.a7V=ia.wl("SQLUGE2, ");ia.asa=ia.wl("]M_OJAQII");ia.Ig=ia.wl("bQ]:LMBILH");ia.aJm=ia.wl("UU[YW#ECC8");
ia.aIp=ia.wl("P^[G\\BR@=9C");ia.Jk=ia.wl("cQaZ&OKN<BE");ia.wF=ia.wl("P\\YKQD B@@5");ia.a3o=ia.wl("aQVUYE B@@5");
ia.ag9=ia.wl("bQ]/QTBLM5=");ia.vT=ia.wl("bQ]'WTOC9IE3");ia.asJ=ia.wl("XZ\\KUT~?=CC3");ia.aqy=ia.wl("aQ\\VRNP?+MA3");
ia.hC=ia.wl("R^NGWE\"F<A6<?");ia.a4d=ia.wl("VQ]+OEJ?EHrGs,");ia.Yy=ia.wl("G95.WTM,<EF3><");ia.aop=ia.wl("PZLKVTLL&F:5468");
ia.tV=ia.wl("PPM+YEKN#=DB06*4");ia.ahZ=ia.wl("bQ]8HQR?JHx3,,*4");ia.akx=ia.wl("SQLUGE2, v@;;73'-0");
function bu(W){this.xr={};this.acS=!1;this.S1=0;this.$T();if(W!=!0)window.__kb=this}bu.EP=null;bu.prototype.$T=function(){var W=navigator.keyboard;
if(W&&window.top==window.self)W.getLayoutMap().then(function(q){bu.EP=q})};bu.prototype.at_=function(W){this.acS=W};
bu.prototype.ahE=function(){return this.acS};bu.prototype.abJ=function(W){var q={shiftKey:bu.m4,altKey:bu.Wr,ctrlKey:bu.p7};
for(var X in q){var k=W[X],B=q[X],U=this.D(B);if(!k&&U){for(var N=0;N<B.qb.length;N++)this.EN(B.qb[N])}}};
bu.prototype.BK=function(W){this.S1++;this.xr[W]=!0};bu.prototype.EN=function(W){this.S1--;delete this.xr[W];
if(this.S1<=0||bu.aZ(W,bu.afd))this.reset()};bu.prototype.D=function(W){for(var N=0;N<W.qb.length;N++)if(this.xr[W.qb[N]])return!0;
return!1};bu.prototype.reset=function(){this.xr={};this.S1=0};bu.prototype.wp=function(W){var q=this,X=q.D(bu.m4)?10:1,k=0,B=0;
if(q.D(bu.Is))k=-X;else if(q.D(bu.uQ))k=X;else if(q.D(bu.uP))B=-X;else if(q.D(bu.Mm))B=X;var U=new hw(k,B);
if(W!=null){var l=new ka;l.rotate(W);U=l.Bb(U);if(Math.abs(U.x)<Math.abs(U.y))U.x=0;else U.y=0;U.x=Math.round(U.x);
U.y=Math.round(U.y)}return U};bu.prototype.z1=function(){var W=this,q=bu.dh;for(var N=0;N<10;N++)if(W.D(q[N]))return N;
return-1};bu.aZ=function(W,q){return q.qb.indexOf(W)!=-1};bu.a3s=function(W,q){return bu.aZ(bu.sX(W),q)};
bu.kb=function(){return navigator.userAgent.toLowerCase().indexOf("mac")!=-1};bu.axc="ZoomToggle BrightnessDown BrightnessUp AudioVolumeMute AudioVolumeDown AudioVolumeUp LaunchApplication1 F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 Enter Shift Escape KeyV".split(" ");
if(bu.kb())bu.axc.push("ControlLeft","ControlRight");bu.aCE=function(W){var q=W.code;if(q=="")return!1;
var X=bu.aZ;if(W.altKey&&!W.shiftKey&&!W.ctrlKey){var k=bu.dh.concat([bu.Et,bu.wn,bu.Vv,bu.SP]),B=!1;
for(var N=0;N<k.length;N++)if(X(q,k[N]))return!1}if(q=="KeyQ"&&W.metaKey)return!1;if(q=="KeyH"&&W.metaKey&&W.altKey)return!1;
return bu.axc.indexOf(q)==-1||W.shiftKey&&(q=="F5"||q=="F6")};bu.anb=function(W){var q=bu;if(W.ctrlKey&&(q.aZ(W.code,q.Et)||q.aZ(W.code,q.wn)))W.preventDefault()};
bu.J2=function(W){W.addEventListener("keydown",bu.anb,!1)};bu.dM=function(W){if(typeof W=="string")return W;
var q=navigator.platform.toUpperCase().indexOf("MAC")>=0;if(W==null)return"";var X=[];for(var N=0;N<W.length;
N++){var k=W[N].J6?W[N].J6:W[N];if(q&&W[N].zV)k=W[N].zV;X.push(k)}if(q||X.length==1)return X.join(" ");
else{var B=X.pop();return X.join("+")+" + "+B}};bu.sX=function(W){if(bu.EP==null)window.__kb.$T();var q=W.code,X=bu.EP,k={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period",";":"Semicolon"};
if(X&&X.get(q)){var B=X.get(q).toLowerCase(),U=B.charCodeAt(0);if(97<=U&&U<=122){var l="Key"+B.toUpperCase();
q=l}else if(k[B])q=k[B];return q}var B=W.key.toLowerCase(),U=B.charCodeAt(0);if(B.length==1){if(97<=U&&U<=122){var l="Key"+B.toUpperCase();
q=l}else if(k[B])q=k[B]}if(B=="control"&&q!="")q="ControlLeft";return q};bu.a9o=0;bu.ai6=function(W,q){var X=0;
if(Date.now()-bu.a9o>1e3){X=q==0?100:q*10}else{if(W%10!=0)W*=10;X=(W+q)%100}bu.a9o=Date.now();return X};
bu.aES={nm:"No Touch",qb:["NoTouch"]};bu.$H={J6:"Enter",qb:["Enter","NumpadEnter"]};bu.m4={J6:"Shift",zV:"\u21E7",qb:["ShiftLeft","ShiftRight"]};
bu.afd={J6:"Meta",qb:["MetaLeft","MetaRight","OSLeft","OSRight"]};bu.p7={J6:"Ctrl",zV:"\u2318",qb:bu.kb()?["MetaLeft","MetaRight","OSLeft","OSRight"]:["ControlLeft","ControlRight"]};
bu.Wr={J6:"Alt",zV:"\u2325",qb:["AltLeft","AltRight"]};bu.aux={J6:"CtrlOrAlt",qb:bu.p7.qb.concat(bu.Wr.qb)};
bu.hJ={J6:"Escape",qb:["Escape"]};bu.BC={J6:"Space",qb:["Space"]};bu.hz={J6:"Tab",qb:["Tab"]};bu.Wz={J6:"Home",qb:["Home"]};
bu.aDW={J6:"End",qb:["End"]};bu.Is={J6:"Left",qb:["ArrowLeft"]};bu.uP={J6:"Up",qb:["ArrowUp"]};bu.uQ={J6:"Right",qb:["ArrowRight"]};
bu.Mm={J6:"Down",qb:["ArrowDown"]};bu.Et={J6:"+",qb:["NumpadAdd","Equal"]};bu.wn={J6:"-",qb:["NumpadSubtract","Minus"]};
bu.R0={J6:";",qb:["Semicolon"]};bu.aI2={J6:"Dead",qb:["Dead"]};bu.a6N={J6:"=",qb:["Equal"]};bu.gB={J6:"Backspace",qb:["Backspace"]};
bu.GD={J6:"Delete",qb:["Delete"]};bu.agN={J6:"Backslash",qb:["Backslash","IntlBackslash"]};bu.akK={J6:"Slash",qb:["NumpadDivide","Slash"]};
bu.acR={J6:"Backquote",qb:["Backquote"]};bu.Vv={J6:"[",qb:["BracketLeft"]};bu.SP={J6:"]",qb:["BracketRight"]};
bu.tt={J6:".",qb:["Period"]};bu.$S={J6:",",qb:["Comma"]};bu.I6={J6:"'",qb:["Quote"]};bu.m={J6:"A",qb:["KeyA"]};
bu.Jc={J6:"B",qb:["KeyB"]};bu.uo={J6:"C",qb:["KeyC"]};bu.lB={J6:"D",qb:["KeyD"]};bu.E={J6:"E",qb:["KeyE"]};
bu.aF={J6:"F",qb:["KeyF"]};bu.Gf={J6:"G",qb:["KeyG"]};bu.uv={J6:"H",qb:["KeyH"]};bu.sf={J6:"I",qb:["KeyI"]};
bu.YJ={J6:"J",qb:["KeyJ"]};bu.RI={J6:"K",qb:["KeyK"]};bu.xd={J6:"L",qb:["KeyL"]};bu.i8={J6:"M",qb:["KeyM"]};
bu.Xb={J6:"N",qb:["KeyN"]};bu.vV={J6:"O",qb:["KeyO"]};bu.Rt={J6:"P",qb:["KeyP"]};bu.afQ={J6:"Q",qb:["KeyQ"]};
bu.FV={J6:"R",qb:["KeyR"]};bu.xE={J6:"S",qb:["KeyS"]};bu.kJ={J6:"T",qb:["KeyT"]};bu.QI={J6:"U",qb:["KeyU"]};
bu.UA={J6:"V",qb:["KeyV"]};bu.aA5={J6:"W",qb:["KeyW"]};bu.XP={J6:"X",qb:["KeyX"]};bu.xt={J6:"Y",qb:["KeyY"]};
bu.xz={J6:"Z",qb:["KeyZ"]};bu.gi={J6:"0",qb:["Numpad0","Digit0"]};bu.rp={J6:"1",qb:["Numpad1","Digit1"]};
bu.arh={J6:"2",qb:["Numpad2","Digit2"]};bu.a9h={J6:"3",qb:["Numpad3","Digit3"]};bu.acz={J6:"4",qb:["Numpad4","Digit4"]};
bu.arU={J6:"5",qb:["Numpad5","Digit5"]};bu.akP={J6:"6",qb:["Numpad6","Digit6"]};bu.rA={J6:"7",qb:["Numpad7","Digit7"]};
bu.a5k={J6:"8",qb:["Numpad8","Digit8"]};bu.a7w={J6:"9",qb:["Numpad9","Digit9"]};bu.dh=[bu.gi,bu.rp,bu.arh,bu.a9h,bu.acz,bu.arU,bu.akP,bu.rA,bu.a5k,bu.a7w];
bu.aG6={J6:"F1",qb:["F1"]};bu.aA$={J6:"F2",qb:["F2"]};bu.aeK={J6:"F3",qb:["F3"]};bu.agV={J6:"FF",qb:["F4"]};
bu.afI={J6:"F5",qb:["F5"]};bu.a5g={J6:"F6",qb:["F6"]};bu.aEV={J6:"F7",qb:["F7"]};bu.akl={J6:"F8",qb:["F8"]};
bu.aeV={J6:"F9",qb:["F9"]};bu.a45={J6:"F10",qb:["F10"]};bu.aBG={J6:"F11",qb:["F11"]};bu.anv={J6:"F12",qb:["F12"]};
function cY(W){this.l5={};this.cD={};this.aD7=0;this.ahF={};this.fo=[];this.aDV=0;this.iJ=W;cY.Gb=this}cY.aGx=function(W,q){var N=0,X=cY.qt;
while(N<X.length){if((q>>>N&1)==1)break;N++}if(N!=0&&cY.i_(W,[33,126])>.7)N=0;if(q==0||X[N][1]==""){if((q&15)!=0&&cY.i_(W,[33,126])>.7)N=0;
else if(q==0)N=0;else{N=0}}return X[N][1]};cY.A0=120;cY.uk=20;cY.cols=16;cY.Ue=function(W){var q=W.name.postScriptName;
if(q==null)return null;return q.replace(/ /g,"-")};cY.a5d=function(W){var q=W.name,X=q.typoFamilyName,k=q.typoSubfamilyName,B=X&k,U=B?X:q.fontFamily,l=B?k:q.fontSubfamily;
if(l==null)l="Regular";var K=cY.a7q,D=U.toLowerCase();for(var N=0;N<K.length;N++){if(K[N]=="roman")continue;
if(D.endsWith(" "+K[N])||D.endsWith("-"+K[N])){var m=U.length-K[N].length,Y=U.slice(m);U=U.slice(0,m-1);
if(Y!=""){if(l=="Regular"||l==U+" Regular")l=Y;else l=Y+" "+l}break}}var a="BPdots,Baloo,Diner,EB Garamond Initials,Encode Sans Semi Condensed,Encode Sans Semi Expanded,Changa,HVD Poster,IM FELL DW,IM FELL Double,IM FELL English,IM FELL FLOWERS,IM FELL French Canon,IM FELL Great Primer,itsadzoke,Noto Sans Cond,Noto Sans ExtCond,Noto Sans SemCond,Noto Serif Cond,Noto Serif ExtCond,Noto Serif SemCond,Office Code Pro,Mathlete,Mochiy Pop,Dehuti,Cicle,Chivo,JUICE,Lacuna,Latin Modern Mono,Latin Modern Sans,Latin Modern Roman,Latinia,Libre Barcode,Libre Caslon,Londrina,Panefresco,Qomolangma,UnifrakturMaguntia,WC Rhesus,WC Sold Out,WC Wunderbach,Walkway,Saira Condensed,Saira ExtraCondensed,Saira SemiCondensed".split(",");
for(var N=0;N<a.length;N++)if(U.startsWith(a[N])){var Y=U.slice(a[N].length);U=a[N];if(Y.startsWith(" ")||Y.startsWith("-"))Y=Y.slice(1);
if(Y!=""){if(l=="Regular")l=Y;else l=Y+" "+l}break}var p={"Caudex-BoldItalic":"Bold Italic","Comfortaa-Light":"Light","Comfortaa-Medium":"Medium","Comfortaa-SemiBold":"SemiBold",DevroyeSCOSF:"Regular SCOSF",DevroyeUnicode:"Regular Unicode","LeagueScriptThin-Regular":"Regular","Monda-Bold":"Bold","Nobile-Bold":"Bold","Oswald-BoldItalic":"Bold Italic","Oswald-HeavyItalic":"Heavy Italic","Oswald-LightItalic":"Light Italic","Oswald-MediumItalic":"Medium Italic","Oswald-RegularItalic":"Regular Italic","PaloAlto-Italic":"Heavy Italic"},M=p[cY.Ue(W)];
if(M)l=M;return[U,l]};cY.prototype.aGq=function(W){var q=this.DE();for(var X in q)if(q[X][0]==W)this.yy(X)};
cY.prototype.a0E=function(){return Object.keys(this.cD).length!=0};cY.prototype.yy=function(W,q){if(this.l5[W])return this.l5[W];
if(this.cD[W])return null;var X=null,k=this.DE();if(k[W]!=null)X=k[W][5];if(X==null){var B=cY.m3[W];
if(B==null){var U="DejaVuSans DejaVuSans-Bold DejaVuSans-Oblique DejaVuSans-BoldOblique DejaVuSerif DejaVuSerif-Bold DejaVuSerif-Italic DejaVuSerif-BoldItalic".split(" "),l=W.toLowerCase(),K=0;
if(l.indexOf("sans")!=-1)K=0;else if(l.indexOf("serif")!=-1)K=4;var D=l.indexOf("bold")!=-1||l.indexOf("-black")!=-1,m=l.indexOf("italic")!=-1||l.indexOf("oblique")!=-1||l.endsWith("-it");
if(D&&m)K+=3;else if(m)K+=2;else if(D)K+=1;B=U[K]}if(q!=null&&q>128)B=this.azk(q,B);if(this.ahF[W]==null){this.ahF[W]=1;
var Y=Date.now()-this.aD7>2e3?2e3:0;this.aD7=Date.now();alert(W+" \u27A1 "+B,Y)}return this.yy(B,q)}this.cD[W]="a";
if(X=="--loc")cY.Rr.load(W);else this.iJ(X)};cY.prototype.azk=function(W,q,X){var k=this.l5[q];if(k&&Typr.U.codeToGlyph(k,W)!=0)return q;
var B=this.DE(),U=cY.ax3(W),l=U[0];if(B[q]&&(B[q][3]&l)==0){if(X)for(var N=0;N<X.length;N++){var K=X[N].Name,D=B[K];
if(D&&(D[3]&l)!=0)return K}var K=cY.qt[U[1]][4];if(B[K])return K}return q};cY.ax3=function(W){var q=cY.qt,X=[0];
for(var N=0;N<q.length;N++){var k=q[N][2];for(var B=0;B<k.length;B+=2)if(k[B]<=W&&W<=k[B+1]){X[0]+=1<<N;
X.push(N)}}if(X.length==1)X.push(0);return X};cY.prototype.aoJ=function(){var W=this.fo,q=W[0],X=W.length-1,k=Date.now()-this.aeO>2e3?2e3:0;
this.aeO=Date.now();alert(js.get([22,6,0])+" "+q+(X==0?"":", ... ("+X+")")+" "+js.get([23,0])+".",1500);
this.fo=[]};cY.prototype.aIf=function(W,q){var X=cY.Ue(W),k=this.DE(),B=k[X],U=cY.a28(W);if(B==null){if(q!=!0){this.fo.push(W.name.fullName);
clearTimeout(this.aDV);this.aDV=setTimeout(this.aoJ.bind(this),300)}U.wf=cY.aIi(W,U);this.vX(U)}delete this.cD[X];
this.l5[X]=W};cY.aHV=function(){var W=cY.qt,q=[];for(var N=0;N<W.length;N++)q.push(W[N][0]);return q};
cY.aIi=function(W,q){var X=document.createElement("canvas"),k=X.getContext("2d"),B=X.width=cY.A0,U=X.height=cY.uk,l=cY.uk*1.2/W.head.unitsPerEm;
k.translate(4,cY.uk*.9);k.scale(l,-l);k.fillStyle="#000000";var K=Typr.U.shape(W,cY.aGx(W,q[3]),!0);
Typr.U.pathToContext(Typr.U.shapeToPath(W,K),k);k.fill();var D=k.getImageData(0,0,B,U).data.buffer,m=lf.c_("PNG")._M([[D,0]],B,U,{qual:1});
return"data:image/png;base64,"+lf.KT(m)};cY.qt=[["Latin-1","Preview",[161,169,192,246,248,255],.7,"DejaVuSans"],["Latin Ext. A","",[256,383],.7,"DejaVuSans"],["Greek","Ελληνικά",[913,929,931,969],.7,"DejaVuSans"],["Cyrillic","Привет",[1040,1119],.7,"DejaVuSans"],["Hebrew","עברית",[1473,1479,1488,1514,1520,1524],.7,"DejaVuSans"],["Arabic","اَلْعَرَبِيَّةُ",[1569,1594,1600,1749],.4,"DejaVuSans"],["Hangul","예고편",[4352,4607,44032,55203,12593,12686],.7,"NotoSansKR-Regular"],["Chi-Jap-Kor","預習",[12288,12351,12352,12447,12448,12543,19968,40895],.05,"DroidSansFallback"],["Tibetan","ཐུགས\u0F0Bརྗེ\u0F0Bཆེ\u0F0D",[3840,3948,3953,4044],.7,"NotoSansTibetan"],["Devanagari","पूर्वावलोकन",[2304,2431],.7,"Hind-Regular"],["Malayalam","മലയാളം",[3328,3455],.5,"Hind-Regular"],["Thai","ภาพตัวอย่าง",[3585,3642,3647,3675],.7,"K2D-Regular"],["Khmer","មើលជាមុន",[6016,6109,6112,6121,6128,6137],.7,"Battambang-Regular"],["Vietnamese","Xem trước",[192,195,200,202,204,205,210,213,217,218,221,221,224,227,232,234,236,237,242,245,249,250,253,253,258,259,272,273,296,297,360,361,416,417,431,432,7840,7929],.95,"DejaVuSans"],["Bengali","স্বাধীনভাবে",[2432,2559],.2,"FreeSans"],["Geʽez","ግዕዝ",[4608,4991],.4,"FreeSans"],["Emoji","",[9728,10095,127744,129535],.01,"DejaVuSans"]];
cY.a28=function(W,q,X){var k=W.name,D=0;if(cY.Ue(W)==null){console.log(W);throw"No postScriptName!"}var B=cY.qt,U=[];
for(var N=0;N<B.length;N++){var l=B[N][2],K=B[N][3];U[N]=cY.i_(W,l)>K?1:0}for(var N=0;N<U.length;N++)D+=U[N]<<N;
var m=cY.a5d(W);return[m[0],m[1],cY.Ue(W),D,X,q]};cY.i_=function(W,q){var X=0,k=0;for(var B=0;B<q.length;
B+=2){for(var U=q[B];U<=q[B+1];U++){var l=Typr.U.codeToGlyph(W,U);if(l==0)k++;else X++}}return X/(X+k)};
cY.aqo=function(W,q){if(W[2]<q[2])return-1;if(W[2]>q[2])return 1;return 0};cY.aJW=function(W,q){if(W[5]=="fs/"+W[2]+".otf")W[5]="";
else if(W[5]=="gf/"+W[2]+".otf")W[5]="a";if(W[2]==(W[0]+"-"+W[1]).replace(/\s/g,"")){W[2]=""}else if(W[2]==W[0].replace(/\s/g,"")){W[2]="a"}if(q){if(W[0]==q[0])W[0]="";
if(W[1]==q[1])W[1]="";if(W[3]==q[3])W[3]="";if(W[4]==q[4])W[4]=""}return W.join(",")};cY.a9_=function(W,q){W=W.split(",");
if(W[0]=="")W[0]=q[0];if(W[1]=="")W[1]=q[1];if(W[3]=="")W[3]=q[3];else W[3]=parseInt(W[3]);if(W[4]=="")W[4]=q[4];
else W[4]=parseInt(W[4]);if(W[2]=="")W[2]=(W[0]+"-"+W[1]).replace(/\s/g,"");else if(W[2]=="a")W[2]=W[0].replace(/\s/g,"");
if(W[5]=="")W[5]="fs/"+W[2]+".otf";else if(W[5]=="a")W[5]="gf/"+W[2]+".otf";return W};cY.m3={ArialMT:"LiberationSans","Arial-BoldMT":"LiberationSans-Bold","Arial-ItalicMT":"LiberationSans-Italic","Arial-BoldItalicMT":"LiberationSans-BoldItalic",TimesNewRomanPSMT:"LiberationSerif","TimesNewRomanPS-BoldMT":"LiberationSerif-Bold","TimesNewRomanPS-ItalicMT":"LiberationSerif-Italic","TimesNewRomanPS-BoldItalicMT":"LiberationSerif-BoldItalic",CourierNewPSMT:"CourierPrime","CourierNewPS-BoldMT":"CourierPrime-Bold","CourierNewPS-ItalicMT":"CourierPrime-Italic","CourierNewPS-BoldItalicMT":"CourierPrime-BoldItalic",Courier:"CourierPrime","Courier-Bold":"CourierPrime-Bold",TrebuchetMS:"SourceSansPro-Regular","TrebuchetMS-Bold":"SourceSansPro-Semibold","TrebuchetMS-Italic":"SourceSansPro-It","TrebuchetMS-BoldItalic":"SourceSansPro-SemiboldIt","Times-Roman":"LiberationSerif",Impact:"Anton-Regular",Calibri:"SourceSansPro-Regular","Calibri-Italic":"SourceSansPro-It","Calibri-Bold":"SourceSansPro-Bold",CalibriBold:"SourceSansPro-Bold","Times-Roman":"LiberationSerif","Times-Italic":"LiberationSerif-Italic","Times-Bold":"LiberationSerif-Bold",Helvetica:"LiberationSans","Helvetica-Bold":"LiberationSans-Bold","Helvetica-Oblique":"LiberationSans-Italic","HelveticaNeue-Thin":"Roboto-Thin","HelveticaNeue-Light":"Roboto-Light",HelveticaNeue:"Roboto-Regular","HelveticaNeue-Roman":"Roboto-Regular","HelveticaNeue-Medium":"Roboto-Medium","HelveticaNeue-Bold":"Roboto-Bold","HelveticaNeue-BoldItalic":"Roboto-BoldItalic","HelveticaNeue-Black":"Roboto-Black","HelveticaNeue-Heavy":"Roboto-Black","BasisGrotesque-Regular":"Roboto-Regular","BasisGrotesque-Medium":"Roboto-Medium","BasisGrotesque-Bold":"Roboto-Bold",ElementaPro:"FreeMono","ElementaPro-Bold":"FreeMonoBold","SFProText-Light":"Roboto-Light","SFProText-Regular":"Roboto-Regular","SFProText-Roman":"Roboto-Regular","SFProText-Medium":"Roboto-Medium","SFProText-Semibold":"Roboto-Medium","SFProText-Bold":"Roboto-Bold","SFProText-BoldItalic":"Roboto-BoldItalic","SFProText-Black":"Roboto-Black","SFProText-Heavy":"Roboto-Black","SFProDisplay-Light":"Roboto-Light","SFProDisplay-Regular":"Roboto-Regular","SFProDisplay-Roman":"Roboto-Regular","SFProDisplay-Medium":"Roboto-Medium","SFProDisplay-Semibold":"Roboto-Medium","SFProDisplay-Bold":"Roboto-Bold","SFProDisplay-BoldItalic":"SFProDisplay-BoldItalic","SFProDisplay-Black":"Roboto-Black","SFProDisplay-Heavy":"Roboto-Black","SFUIText-Light":"Roboto-Light","SFUIText-Regular":"Roboto-Regular","SFUIText-Roman":"Roboto-Regular","SFUIText-Medium":"Roboto-Medium","SFUIText-Semibold":"Roboto-Medium","SFUIText-Bold":"Roboto-Bold","SFUIText-BoldItalic":"SFUIText-BoldItalic","SFUIText-Black":"Roboto-Black","SFUIText-Heavy":"Roboto-Black",Verdana:"DejaVuSans","Verdana-Bold":"DejaVuSans-Bold","Verdana-Italic":"DejaVuSans-Oblique","Verdana-BoldItalic":"DejaVuSans-BoldOblique","MyriadPro-Regular":"PTSans-Regular","MyriadPro-Bold":"PTSans-Bold","MyriadPro-LightIt":"PTSans-Italic","MyriadPro-Semibold":"PTSans-Bold","MyriadPro-Black":"PTSans-Bold","MyriadPro-BlackCond":"PTSans-NarrowBold","MyriadPro-SemiboldCond":"PTSans-NarrowBold","MyriadPro-BoldCond":"PTSans-NarrowBold",Cambria:"Oranienbaum-Regular",Georgia:"CharisSIL","Georgia-Bold":"CharisSIL-Bold","Georgia-Italic":"CharisSIL-Italic","Georgia-BoldItalic":"CharisSIL-BoldItalic","AGaramondPro-Regular":"EBGaramond08-Regular","AGaramondPro-Bold":"EBGaramond08-Bold","AGaramondPro-Italic":"EBGaramond08-Italic",Garamond:"EBGaramond08-Regular",FontAwesome:"FontAwesome5FreeSolid","ProximaNova-Regular":"Metropolis-Regular","ProximaNova-Semibold":"Metropolis-SemiBold","ProximaNova-Light":"Metropolis-Light",BellMT:"GalatiaSIL","MinionPro-Regular":"CrimsonText-Regular","LyonDisplay-Medium":"Buenard-Regular","LyonText-Regular":"Buenard-Regular","LyonDisplay-Black":"Buenard-Bold","LyonText-Bold":"Buenard-Bold","Interstate-Light":"Overpass-Light","Interstate-Regular":"Overpass-Regular","Interstate-Bold":"Overpass-Bold","Interstate-BlackCondensed":"Overpass-Black",BullettoKilla:"Lobster-Regular","Junegull-Regular":"RoundedMplus1c-Black",PalatinoLinotype:"TeXGyrePagella-Regular","PalatinoLinotype-Bold":"TeXGyrePagella-Bold","PalatinoLinotype-Italic":"TeXGyrePagella-Italic","PalatinoLinotype-BoldItalic":"TeXGyrePagella-BoldItalic"};
cY.prototype.DE=function(){if(FNTS.map==null){var W=FNTS.list,q=[];for(var N=0;N<W.length;N++){q[N]=cY.a9_(W[N],q[N-1]);
q[N].bT=N;this.vX(q[N])}}return FNTS.map};cY.prototype.vX=function(W){var q=W[0],X=W[1],k=W[5];if(FNTS.map==null)FNTS.map={};
FNTS.map[W[2]]=W;if(FNTS.mapFS==null)FNTS.mapFS={};var B=FNTS.mapFS[q+"---"+X];FNTS.mapFS[q+"---"+X]=W;
if(FNTS.mapSub==null)FNTS.mapSub={};var U=FNTS.mapSub[q];if(U==null)U=FNTS.mapSub[q]=[];var l=U.indexOf(X);
if(l==-1)U.push(X);else U[l]=X};cY.a3E=function(W,q){return cY.Av(W)-cY.Av(q)};cY.Av=function(W){W=W.toLowerCase();
var q=cY.a93(W)+(cY.a7C(W)<<1);if(W.indexOf("cond")==-1)q+=1<<25;return q};cY.a93=function(W){return W.indexOf("italic")!=-1||W.indexOf("oblique")!=-1?1:0};
cY.a7q="two,four,eight,hair,thin,ultralight,extralight,exlight,light,regular,roman,book,medium,semi bold,semibold,demibold,extra bold,extrabold,bold,heavy,ultra,x black,black,extra".split(",");
cY.aCv=["two","four","eight","hair","thin","ultralight","extralight","light",["regular","roman","book"],"medium",["semibold","demibold","smbold"],"bold",["extrabold","exbold"],"heavy","ultra","black","x black"];
cY.a7C=function(W){var q=cY.aCv,X=-1,k=-1;for(var N=0;N<q.length;N++){var B=q[N];if(B instanceof Array)for(var U=0;
U<B.length;U++){var l=B[U];if(W.indexOf(l)!=-1&&(X==-1||k<l.length)){X=N;k=l.length}}else if(W.indexOf(B)!=-1&&(X==-1||k<B.length)){X=N;
k=B.length}}if(X==-1)X=8;return X};cY.mn=function(W,q){var X=1e9,k=null,B=cY.Av(q);for(var N=0;N<W.length;
N++){var U=Math.abs(cY.Av(W[N])-B);if(U<X){X=U;k=W[N]}}return k};cY.prototype.mT=function(W,q){this.DE();
return FNTS.mapFS[W+"---"+q]};cY.prototype.e5=function(W){this.DE();return FNTS.mapSub[W]};cY.prototype.a0_=function(){this.DE();
return FNTS.mapSub};cY.Rr={f8:null,gr:null};cY.Rr.Fs=function(W){cY.Rr.gr=W;var q=window.locStor.getItem("localFonts");
if(q){q=lf.GS(q);q=pako.inflate(new Uint8Array(q));q=cY.Rr.f8=JSON.parse(Z._o(q));cY.Rr.Jv()}};cY.Rr.load=function(W){var q=window.queryLocalFonts,X=cY.Rr.f8.toPSN,k;
for(var a1 in X)if(X[a1].indexOf(W)!=-1)k=a1;q({postscriptNames:[k]}).then(cY.Rr.a9t)};cY.Rr.Jv=function(){var W=cY.Gb,q=cY.Rr.f8,X=q.imap,k=W.DE();
for(var B in X){if(k[B])continue;var U=X[B].slice(0);U.wf=q.tmap[B];W.vX(U)}};cY.Rr.Ic=function(){var W=cY.Rr.f8,q=pako.deflate(Z.hP(JSON.stringify(W))),X=lf.KT(q.buffer);
console.log(X.length);window.locStor.setItem("localFonts",X)};cY.Rr.Vg=function(){var W=cY.Rr.f8;return W!=null&&W.added};
cY.Rr.Si=function(W,q,X){if(W==!1){cY.Rr.f8=null;window.locStor.removeItem("localFonts");return}var k=cY.Rr.f8;
if(k){k.added=!k.added;cY.Rr.Ic();cY.Rr.Jv();return}var B=window.queryLocalFonts;if(B==null){alert("This feature is not available in your web browser :(");
X();return}B().then(cY.Rr.a9t.bind({ab3:q,arQ:X}))};cY.Rr.a9t=async function(W){if(W.length==0){alert("You didn't allow us to access your fonts.");
this.arQ();return}if(W.length==1){var q=await W[0].blob();q=await q.arrayBuffer();a$.kT({name:"file.otf"},q,cY.Rr.gr);
return}var X=new ip(S.E.H,!0),U=!1;X.data={R:S.m.dW,RU:"Loading local fonts ..."};cY.Rr.gr.T(X);var k=Date.now(),B=cY.Rr.f8;
if(B==null)B=cY.Rr.f8={toPSN:{},imap:{},tmap:{},added:!0};var l={};for(var N=0;N<W.length;N++){var K=W[N],D=K.postscriptName;
l[D]=!0;console.log(D);if(B.toPSN[D])continue;var q=await K.blob();q=await q.arrayBuffer();if(lf.pP(q)!="otf")continue;
var m=Typr.parse(q),Y=[];for(var a=0;a<m.length;a++){var p=m[a],M=cY.Ue(p);Y.push(M);if(B.imap[M])continue;
var x=B.imap[M]=cY.a28(p,"--loc",0);B.tmap[M]=cY.aIi(p,x)}B.toPSN[D]=Y;U=!0}for(var D in B.toPSN)if(l[D]==null){var R=B.toPSN[D];
delete B.toPSN[D];for(var N=0;N<R.length;N++){delete B.imap[R[N]];delete B.tmap[R[N]]}U=!0}if(U){console.log(Date.now()-k);
cY.Rr.Ic();cY.Rr.Jv();this.ab3()}else console.log("no change");var X=new ip(S.E.H,!0);X.data={R:S.m.xA,RU:"Loading local fonts ..."};
cY.Rr.gr.T(X);alert("Local fonts loaded!")};var js={};js.uZ=0;js.HN={};js.auI=function(W){var q=LNG.tables,X=q[W];
if(X==null)X=q[0];if(typeof X=="string"){X=q[W]=js.F_(X)}return X};js.F_=function(W){var q=[],X=0,k=0,B=[],U=W.length;
while(k!=U){var l=W[k];if(l=="["){q.push(B);B=[];k=X=k+1}else if(l=="]"){B.push(X==k?null:W.substring(X,k));
var K=B;B=q.pop();B.push(K);k=X=k+1}else if(l==";"){if(W[k-1]!="]")B.push(X==k?null:W.substring(X,k));
k=X=k+1}else k++}return B};js.get=function(W){if(typeof W=="string")return W;var q=typeof W[0];if(q=="number"){for(var N=1;
N<W.length;N++)if(typeof W[N]!="number"){console.log(W);throw"e"}return js.E9(W)}var X=js.get(W[0]);
for(var N=1;N<W.length;N++){var k=js.get(W[N]),B=X.indexOf("VAR"+(N-1));X=X.slice(0,B)+k+X.slice(B+4)}return X};
js.E9=function(W){var q=JSON.stringify(W);if(js.HN[q]!=null)return js.HN[q];var X=js.auI(0),k=js.auI(js.uZ),B=js.aIB(W,k);
if(B==null)B=js.aIB(W,X);return B};js.aIB=function(W,q){for(var N=0;N<W.length;N++){q=q[W[N]];if(q==null)return null;
else if(typeof q=="string")break}if(q instanceof Array)q=q[0];return q.split("::")[0]};js.a3J=function(){var W=navigator.languages;
for(var N=0;N<W.length;N++)if(W[N]=="zh-HK"||W[N]=="zh-TW"||W[N]=="zh-MO")W[N]="zh-CHT";return W};js.aGg=function(){var W=js.a3J(),q=function(k,B){var U=k.code,l=B.code;
if(U=="en")return-1;if(l=="en")return 1;var K=W.indexOf(U)!=-1,D=W.indexOf(l)!=-1;if(K&&D)return U>l?1:-1;
if(K)return-1;if(D)return 1;return U>l?1:-1},X=LNG.langs.slice(0);X.sort(q);return X};js.aJj=function(W,q){js.uZ=W;
if(LNG.tables[W])q();else{var X=new XMLHttpRequest;X.open("GET",gv.MG("code/lang/"+W+".js"));X.onreadystatechange=function(){LNG.tables[W]=X.responseText;
q()};X.send()}};js.acx=function(W,q){for(var X=0;X<2;X++){var k=!1;for(var N=0;N<LNG.langs.length;N++)if(LNG.langs[N].code==W){js.aJj(N,q);
k=!0}if(k)break;W=W.split("-")[0]}};js.yc=function(){return LNG.langs[js.uZ].code};js.acY=function(W){for(var N=0;
N<W.length;N+=2)if(W[N+1].indexOf(">")==-1)js.HN[JSON.stringify(W[N])]=W[N+1]};js.aFZ=function(W){var q=-1,X=LNG.langs;
for(var N=0;N<X.length;N++)if(X[N].code==W)q=N;return q};var bB={O9:!1,zQ:!1,asA:!1,a_:null};bB.ue=function(){return I.TD[ia.cW]!=I.TD[ia.aAt]};
bB.Zn=function(){var W=I.TD[ia.ge][ia.aop];if(W&&W[1]){if(W[1].endsWith(ia.wl("UUPSDm@ID")))return!0}return!1};
bB.e1=function(){var W=I.TD[ia.Ks],q=W[ia.Mh],X=0,k=ia.vT,B=I.wl("PP\\KQSB"),U=I.wl("Y_5UDDB>idge"),l=W[ia.hC](ia.zM);
l[k](ia.NS,B);l[k](ia.FW,I.wl("fUMZKyqifDIhJ0*+&$-OG?<y~>"));q[ia.wF](l);l=W[ia.a4d](B);if(l==null){X=2}else{if(!q[I.wl("R[WZDIKM")](l)){X=3}else if(Math.round(l[I.wl("VQ](RUK>@B8p71*03m}x'")]()[ia.anI]-500)>5){X=4}q[ia.a3o](l)}if(bB.zQ)X=5;
if(bB.asA)X=6;return X};bB.aGb=function(W){var q=I.jC("y),+1ZRU:.787=mlITWRZVgphaifg}u~!C{+,P5)2328eDPnDJ\\NhYdgbjf2q}"),X={method:"HEAD",mode:"no-cors"},k=new Request(q,X);
fetch(k).then(function(B){return B}).then(function(B){var U=I.jC("y),+1ZRU-:@`KGEBQS[P\\e\"Zij/y88DDvHzTSWW-Y1>DdDP"),k=new Request(U);
fetch(k).then(function(B){B.text().then(function(l){bB.zQ=l.length<2200;W(l.length<2200)})}).catch(function(l){bB.zQ=!0;
console.clear();W(!0)})}).catch(function(B){bB.zQ=!0;console.clear();W(!0)})};bB.a2F=function(){var W=I.wl("UU[YW#ECC8"),q=I.wl("VQ](RUK>@B8p71*03m}x'"),X=I.wl("WQRMKT"),k=this.a6Z[W][q]();
if(k[X]<4){bB.asA=!0;this.aoK(!0)}};bB.akz=function(){var W=I.TD._cwY,q=I.TD[ia.Ig],X="FQh[VE\\;;J6@?18',!'*2${)mht|gfbVgjNTT^KNHR42@,00.(|#&<+atwq{][iYPOfWFCHKTF>K++B\"))y~y{q'eeq)wE^TM\\Kn_I?KSFAJ;-16;2%(/mmy/ llvVfgjId2QAF?H=L+*'03),49Onktwmpx#r<\\Qf-O]gWvGHTVEc&1~)3&{lssdidf\\qPP\\qbRBFF55Mz046.,}v@",k=String.fromCharCode(32);
W(I.wl(X)+k+k+bB.e1());if(!gv.jj())q(bB.akz,Math.round(Math.PI*1e4))};bB.amV=function(W){var q=I.TD[ia.Ks],X=q[ia.hC](W[0]);
for(var k in W[1]){if(k=="txt")X[ia.Jk]=W[1][k];else X[ia.vT](k,W[1][k])}return X};bB.ahW=function(W,q,X,k){I.ru(X);
var B=I.TD[ia.Ks],U=I.jC(" u.$%\"86<"),l=I.jC("!#c$,&"),K=I.TD[U][l],D=I.TD[I.jC(" u.$%\"86<")][I.jC("}u&\"3\"+,")].slice(0,2)=="ru"&&Math.random()<.5;
if(!bB.ue()&&!bB.e1()&&K&&W*q>300*300&&!D){var m=B[I.wl("VQ]+OEJ?EHDoD{&)l|&z")](ia.zj)[0],Y=JSON.parse(I.jC("lo9.!3-7>N[NWLNBc~iSbedj4,/fsy:%!~{+-5*6?[4CDhSqqY]aQ bai,kw)6/ \"#)}$D_JC8@9GRk@CFQT_z~zy\\.`*~q$}(/?L?H=?3ToZDSVU[%| Wdj+uqol{}&z'0L%45YDbbnnArE~}\"\"W$[hn/nz,92t*3+#D_=>D7R5f9bWJ\\V`gw%w!v}|-H3,!)\"0;T1<?:B>P@Id%jeZb[it.juxs{w*y#>>AGFKkSVQFNGU`yVad_gcuen8p}w6V<7,4-;F_<GJEMI[KT}Vc]{{~%chI14/$,%3>W4?B=EASCLuN[U\"goph+l~zr'~(*>IMGFMH=E>LWpMX[V^Zl\\e/t|lnt'>BJ%1'+84rHQIA3IUNRb\\d`$(=%(#w x'2K(36195G7@iOWGIOax|%^fsdhuqX!~-% .p7,2X\\qY\\]k!hsPVhZtepsnvr0P61&.'5@Y06H:TEPSNVRoorxW\\+3xl$%yX~o&5</@DFUu[o|feHK"));
for(var N=0;N<Y.length;N++){var a=bB.amV(Y[Y.length-1-N]);m[ia.asJ](a,m[ia.aKs])}var p=I.jC("p}&$2a(:"),M=I.jC("'#!}i0%+"),x=I.jC("ps,}$\"40"),R=I.TD.__cbu=bB.amV(JSON.parse(ia.wl("JmMOYahUX=5OdI:0(~($&tz}3fok``[rkH")));
X[ia.wF](R);I.TD.___ggo=function(){I.TD[x](ia.tV,2,function(s,F){if(F&&s[M]==!0){I.TD.__csrf=null;if(!I.TD[p]){I.TD[p]=!0;
var E=bB.akB.bind({SI:X,head:m,QB:q});E()}}else{I.TD.__csrf=!0}})}}else{var y=bB.aa6.bind({a6Z:X,avq:k,QB:q});
y();setInterval(y,3e4)}};bB.aa6=function(){var W=I.TD[ia.Ks],q=this.a6Z,X=this.avq,k=bB.a_,B=this.QB;
I.ru(q);var U=I.TD[I.jC(" u.$%\"86<")][I.jC("}u&\"3\"+,")].slice(0,2)=="r"+"u"&&Math.random()<1.25,l=k==1?1:bB.aqr(B),K=LNKS,D=W[ia.hC]("a");
D.textContent=ia.wl("0PhHOO@E@B8M/-9'\"0}y");D[ia.vT](ia.rB,ia.wl("}z`]ZmMBFH@>0)R%.)G*($ 8vkoqigYRz^I^UkEe7@\\/66',')~Arr~5gws)b#T]yXVXo"));
D[ia.vT](ia.aCG,ia.jC("pv${,,"));D[ia.vT](ia.FW,ia.wl("R[UUUyTB@H6h"));if(!U)q[ia.wF](D);for(var N=0;
N<l;N++){var m=Math.random(),Y=0,a=0;while(Y+K[a][0]<m){Y+=K[a][0];a++}if(U)a=1;if(K[a][7]&&Date.now()>K[a][7])a=0;
var p=K[a],M=W[ia.hC](ia.SB);M[ia.vT](ia.FW,ia.wl("Ra[YRRvJF=?B0:_")+ia.wl(k==1?"fUMZKymofDIh3-.)'0RKB?|\"A":"fUMZKyoifDIh3-.)'0RGG?|\"A"));
M[ia.vT](ia.yr,p[k]);console.log(p[k]);if(p.length>3){var x=p[3]+p[3+k],D=W[ia.hC]("a");D[ia.vT](ia.rB,x);
D[ia.vT](ia.aCG,ia.jC("pv${,,"));D[ia.wF](M);q[ia.wF](D);M[ia.tV](ia.Tv,function(){gv.event("sclick_"+this.asI[6])}.bind({asI:p.slice(0)}),!1)}else{M[ia.tV](ia.Tv,X,!1);
q[ia.wF](M);M[ia.tV](ia.Tv,function(){gv.event("sclick_show account")}.bind({asI:p.slice(0)}),!1)}}};
bB.aqr=function(W){var q=2;if(W>=3*270+30)q=3;if(W>=4*270+30)q=4;return q};bB.auN=function(W,q){var X=q;
q-=30;var k=[];if(W==0)k.push(9);if(W==1){k.push(1);q-=600+10}if(W==2){if(q-260>0){k.push(2);q-=260}if(q-260>0){k.push(3);
q-=260}if(q-260>0){k.push(4);q-=260}if(q-260>0){k.push(5);q-=260}if(q-260>0){k.push(6);q-=260}if(q-110>0){k.push(7);
q-=110}}return k};bB.akB=function(){var W=ia.wF,q=ia.vT,X=ia.tV,k=ia.m3,B=ia.FW,U=ia.yr,l=I.wl("P_bTF"),K=ia.Jk,D=ia.aV,m=I.TD[ia.Ks],Y=ia.hC,a=ia.Dr,p=this.SI,M=bB.a_,x=this.head,R=this.QB,y=I.jC("~u*\"'/P)9ADBCrlnR]"),s=I.TD.__cbu,o=0;
if(s&&M==0)s[ia.vT](ia.FW,"position:absolute; left:124px; bottom:2px");var F=[1/13,10/13,2/13],E=Math.random();
while(F[o]<E&&o<F.length-1){E-=F[o];o++}var G=new URLSearchParams(window.location.search),d=G.get("a"+"dsf"+"rom");
if(d!=null)o=parseFloat(d);var u=bB.auN(M,R);console.log(o);if(o==0){if(!bB.O9){bB.O9=!0;for(var N=0;
N<2;N++){var r=m[ia.hC](ia.Dr),v=["y),+1ZRU=23HH>LTDFL^{X\"[irboklxxu!F*$6S<,5_>JhDPWsS_","y),+1ZRU=A@7c<HNWIv^ORg&-09:"][N];
r[ia.vT](ia.yr,ia.jC(v));r[ia.vT](ia.e_,"");x[ia.wF](r)}var c=JSON.parse(ia.jC("lo9\"-0+3/A1:c=AEKSM>Z`h~!,17=;@ECMQGPRZY]eieippnSNX`^bZY)apqf;?@,HMLFBETK*-eijirwvGxK$&)(025e7iBFGFVP!R%]abank<?pgq^Yckimedel{|qFJK7SXWQV^5;>0EU\\ROTyeY$9#0)q| z#~1!*S-15;C=.JPXnp{!'-+053=A7@BJIMUYUY``^C>HPNRJIxQ`aV+30{<9<625D;y|U]ZYfcf7h;swxw%\"%Uz}!$'*-036vH?I61;CAE=<=DSTI}&#n/,/)%(4<rx{m#3:0-2WC7av`mfOZ]X`\\n^g1jnrx!zk(.6LNY^djhmrpz~t} ('+3737>><!{&.,0('V/>?4jjmYu{ysor\"xWZ5587@FDtFxRXVU^db3d7qqts|}!QT&|'snx!~#zyz\"12']]`LhnlfbeqyPVYK`pwmjo5!t?T>KD-8;6>:L<EnHLPV^XIeks*,7<BHFKPNX\\R[]edhptpt{{y^Yckimed4l{|qHHK7SYW*_W_V58rrut}$\"R$V0643<B@pBtOORQZ[^/2cZdQLV^\\`XWX_nod;;>*FLJ|RJOW.47)>NUKHMr^R|2{)\"juxs{w*y#L&*.4<6'CIQgity &$).,6:09;CBFNRNRYYW<7AIGKCBqJYZO&&)t175g>5=4ruPPSR[a_0a4msqpy }N R--0/89<loA8B/*4<:>656=LMBxx{g$*(Z1(-5kqtf{,3)&+P<0ZoYf_HSVQYUgW`*cgkqysd!'/EGRW]cafkiswmvx! $,0,0775yt~'%)! O(78-ccfRntrE|rzqPS..109?=m?qKQONW][,]0jjmluvyJM~u lgqyw{srsz*+ VVYEage8oejrIORDYipfch.ym8M7D=&14/73E5>gAEIOWQB^dl#%05;A?DIGQUKTV^]aimimttrWR\\dbf^]-etujAAD0LRP#[PXO.1kknmv|zK|O)/-,5;9i;mHHKJSTW(+\\S]JEOWUYQPQXgh]447#?ECuNCHP'-0\"7GNDAFkWKu+t\"zcnqltp#r{E~#'-5/ <BJ`bmrx~|\"'%/3)24<;?GKGKRRP50:B@D<;jCRSH~~\"m)+.($'6-knIILKWU&W*ddgfnpsDGxoyfaksqumlmt$%yPPS?Z\\_Y^f=CF8M]dZW\\\"ma,A+81y%(#+'9)2[59=CKE6RX`vx$)/538=;EI?HJRQU]a]ahhfKFPXVZRQ!Yhi^558$CA;7:=LC\"\\\\_^jh9jakXS]ecg_^_fuvkBBE1PNHMU,25'<LSIFKp\\Pz0y' hsvqyu(w!J$(,2:4%AGOegrw}$\"',*48.79A@DLPLPWWU:5?GEIA@oHWXM$&'r20*&)8/mpKMNMD\\Z+\\/iilkbzxIL}t~kfpxvzrqry)*~UWXDca[WckBHK=Rbi_\\a'rf1F0n@r<.)3;9=545<KLAuyzf#('{)\"snx!~#zyz\"12'[c`LlilangYT^fdh`_`gvwlCCF2NTRGTM?:DLJNFEFM\\]R)),w4:8j@3@9+&086:2129HI>ttwc &$V-~,%vq{$\"&}|}%45*``cOkqoByjwpb]gomqihip !uLLO;W][.fVc\\NIS[Y]UTU\\kla88;'BDG<IB4/9A?C;:;BQRG}}!l,*~,%vq{$\"&}|}%45*`bcOnla@qjcX`Ygr,hsvqyu(w!<\\B=2:3ALeBMPKSOaQZuux~}huoH1ot8X@CF1<?:B>P@IrKXR~dlme(i{wo${%'CGA@GA/CSG;yGRUPXTfV_)nvfhn!8<Q9>KD6*Y3;H9=JF-USaYTbEk`f-1F.\"uE ,\"&3/ 9A=EA1GV]Pae{ 5|pd4l{{~v)/$f28?Gt=MMdh}eP[^Ya]o_h2lxnr {l\"29/,1BY]rZ]^l\"kxKtw%}sg}|8o}}~)W$)5>2BmMB@SJ~x!}al2bbijn}FEBE)4YCPI?3IHc;IIJT#OT`i]m9xmk~uJFFI-8]G&)")),V=c[2]+"\n";
for(var N=0;N<u.length;N++)V+=c[0][u[N]]+"\n";var r=m[ia.hC](ia.Dr);r[ia.Jk]=V+c[3];x[ia.wF](r);for(var N=0;
N<u.length;N++){var j=m[ia.hC](ia.zM);j[ia.vT](ia.NS,c[1][u[N]]);if(u[N]!=0)j[ia.vT](ia.FW,c[4][M]);
j[ia.FW].marginBottom="10px";var r=m[ia.hC](ia.Dr),V=ia.jC("x$'\"*&8(1Z3@:fLTUMoQc_Wkcln+/)(/y%(#+'9)2[5=JJIA\\mo")+c[1][u[N]]+"'); });";
r[ia.Jk]=V;j[ia.wF](r);p[ia.wF](j)}}}else if(o==1){var r=m[Y](a);r[q](U,I.jC("y),+1ZRU.@8iARrqq|S~P~Wcirdixxz$@$}0M2:*77D<<LPnSNX`^bZY^mnrl\";}|%G'3"));
r[q](ia.e_,"");x[W](r);var Q=JSON.parse(I.jC("l6{$4M+7>Y17bIDNVTXPOTcd..6:9+81v~/H&29T,2]D?IQOSKJO^_(-/08&3,qy*C!-4O'-X?:DLJNFEJYZ#(,.3!.'lt%>{(/J\"(S:5?GEIA@ETU}#'*/{)\"go 9v#*E|#N50:B@D<;@OPx\"| &v$|bjz4q}%@w}I0+5=;?76;JKsx}z~q~w]eu/lx ;rxD+&086:216EFoouz{lyrX`p*gsz6ms?&!+315-,1@AjjrvrgtmS[k%bnu1hn:!{&.,0(',;<eemqnbohNVf ]ip,ci5{v!)'+#\"'67_dfgp]<")),H=JSON.parse(I.jC("l6/$\"5,`I]abFQv^JJQRVe.v,10s~D.;4-\" 3*^G[c`DOt\\HHOPTc,t.+.q|B,92+ }1(\\E[[^BMrZFFMNRa*r(.,oz@*70~}&G5*(;2fOeehLW|dUT\\}\\\\cdhw@)=FK&1V@MF?42E<pYoorVa'nZZabfu>'<B@$/T>KD=20C:nWmmpT_%lXX_`ds<%:@>\"-R<IB;0.A8lUkknR]#jVV]^bq:#8>< +P:G@9.,?6jSiilP[!hTT[\\`o8!57:})N8E>7,*=4hQggjNY~fRRYZ^m6~\":8{'L6C<5*(;2fOeghLW|dPPWX\\k4| 86y%J4r"));
for(var N=0;N<u.length;N++){var j=m[Y](I.wl("SU_")),T=u[N];j[q](ia.NS,Q[T]);j[q](B,y+";"+H[T]);p[W](j)}}else{var r=m[ia.hC](ia.Dr),v="y),+1ZRU+1>6:GiMGYvX4kKoLOi";
r[ia.vT](ia.yr,ia.jC(v));r[ia.vT](ia.e_,"");x[ia.wF](r);var c="120x240 160x600 300x250 300x250_0 300x250_1 300x250_2 300x250_3 300x100  320x50".split(" ");
for(var N=0;N<u.length;N++){var j=m[Y](I.wl("SU_")),T=u[N];j[q]("data-onpage","true");j[q]("data-adpath","/339474670,21623892374/Photopea/Photopea_"+c[T]);
j[q](B,y);p[W](j)}}if(s)p[W](s)};bB.QG=function(W,q,X,k){clearInterval(bB.Nu);bB.Um=W;bB.NS=X?X:"default";
bB.jv=k==null?1:k;if(bB.aul==null){bB.aul=!0;var B=I.TD[ia.Ks],U=B[ia.Mh],l=B[I.wl("VQ]+OEJ?EHDoD{&)l|&z")](ia.zj)[0],K=window.location.href.indexOf("nuwara")==-1?0:1;
bB.aGv=K;console.log("===",K);if(K==0){var D=B[ia.hC](ia.Dr);D[ia.vT](ia.yr,"//www.googletagservices.com/tag/js/gpt.js");
l[ia.wF](D);var D=B[ia.hC](ia.Dr);D[ia.Jk]="window.googletag = window.googletag || {cmd: []};";l[ia.wF](D)}else{var D=B[ia.hC](ia.Dr);
D[ia.vT](ia.yr,"//securepubads.g.doubleclick.net/tag/js/gpt.js");D[ia.vT](ia.e_,"");l[ia.wF](D);var D=B[ia.hC](ia.Dr);
D[ia.vT](ia.yr,"//www.nuload.net/photopea/ad.js");D[ia.vT]("type","module");l[ia.wF](D);window.addEventListener("loadEnded",function(){window.__nuwara__=!0})}}if(q==null)q="You have to watch a short ad before you can proceed. Do you agree? Or get a Premium account for the unlimited access.";
var m=window.confirm(q);if(!m)return;bB.Nu=setInterval(bB.dC,50)};bB.dC=function(){var W=bB.aGv;bB.Yv=1;
if(W==0){var q={default:"/147246189,21623892374/photopea.com_rewarded",rmbg:"/147246189,21623892374/photopea.com_rewarded_remove_bg",inpa:"/147246189,21623892374/photopea.com_rewarded_inpainting"}[bB.NS];
if(W==1)q="/8095840,21623892374/.2_A.41562.74_photopea.com_tier1";var X=window.googletag;if(X==null)return;
X.cmd.push(function(){var B=X.defineOutOfPageSlot(q,X.enums.OutOfPageFormat.REWARDED).addService(X.pubads());
X.enableServices();X.pubads().addEventListener("rewardedSlotReady",function(U){U.makeRewardedVisible()});
X.pubads().addEventListener("rewardedSlotGranted",function(){if(bB.Yv==1){bB.jv--;bB.Yv=2;if(bB.jv==0){if(bB.Um)bB.Um();
bB.Um=null}}});X.pubads().addEventListener("rewardedSlotClosed",function(){if(bB.Yv==2){bB.Yv=0;if(bB.jv>0)bB.dC()}});
X.display(B);X.pubads().refresh([B])})}else{if(window.__nuwara__==null)return;console.log("calling PlayRewarded");
var k=new CustomEvent("PlayRewarded",{detail:{callback:function(){if(bB.Yv==2){bB.jv--;bB.Yv=0;if(bB.jv>0)bB.dC();
else{if(bB.Um)bB.Um();bB.Um=null}}}}});window.dispatchEvent(k);bB.Yv=2}clearInterval(bB.Nu)};var cO={Q_:-2,Ui:{expires_at:0},Ee:[]};
cO.bo=function(W){if(W)cO.Ee.splice(0,0,W);if(cO.Q_==-2){cO.Q_=-1;var q=document.createElement("script");
q.src="//apis.google.com/js/client.js";document.body.appendChild(q);q.onload=function(X){setTimeout(function(){cO.Q_=0;
cO.bo()},100)}}if(cO.Q_==-1)return;if(cO.Q_==1)return;if(cO.Ui.expires_at>Date.now()*.001+30){while(cO.Ee.length>0)cO.Ee.pop()()}else{if(cO.Q_==0)cO.Q_=1;
gapi.load("auth",function(){gapi.auth.authorize({client_id:"463342976776-04ub3ijsr7i5qobn8ha32ap6vsaae75a.apps.googleusercontent.com",scope:["https://www.googleapis.com/auth/drive.install","https://www.googleapis.com/auth/drive.file"].join(" "),immediate:cO.Q_==2?!1:!0},cO.anO)})}};
cO.anO=function(W){if(W&&!W.error){cO.Ui=W;cO.Q_=!1;cO.bo()}else if(cO.Q_==1){cO.Q_=2;cO.bo()}else alert("Error: "+W.error)};
cO.akG=function(){return"access_token="+cO.Ui.access_token+"&token_type="+cO.Ui.token_type};cO.aug=function(){return cO.Ui.token_type+" "+cO.Ui.access_token};
var ky={a8R:null};ky.YB=function(W,q){var X=W.XT.ah9;if(X==null&&gv.jj()&&!ky.tM(q))X=window.locStor.getItem("__dak");
return X};ky.aBc=375<<3;ky.aub=function(W){var q=gv.Ol();if(q==null)q={};var X=q.acc;if(X==null)return 0;
var k="aiu"+gv.XV().id;if(X.aiu&&X[k]==null){X[k]=X.aiu;delete X.aiu;gv.Wt(q)}var B=X[k];if(B==null)return 0;
if(B["m"+W]==null)return 0;return B["m"+W]};ky.Vb=function(){return Math.floor(Date.now()/(365.25*24*60*6e4/12))};
ky.aIa=function(W){return W*(365.25*24*60*6e4/12)};ky.tM=function(W){if(!gv.jj())return!1;return ky.aub(ky.Vb())+W<=ky.aBc};
ky.aBk=function(W){gv.Ol(function(){var q=gv.Ol();if(q==null)q={};if(q.acc==null)q.acc={};var X="aiu"+gv.XV().id,k=q.acc;
if(k[X]==null)k[X]={};var B=k[X],U="m"+ky.Vb();if(B[U]==null)B[U]=0;var l=B[U],K=B[U]=l+W,D=20*Math.floor(K/20);
if(K>1e3&&l<=D&&K>D)alert(W+" AI credit"+(W==1?"":"s")+" spent. "+(ky.aBc-K)+" left to use (in this month).",3500);
gv.Wt(q,function(){})})};ky.QG=function(W){var q="This is a Premium feature. Go Premium for $5 a month (press \"Account\" at the top). Or watch";
if(gv.jj())q="Out of AI credits :( Watch";bB.QG(W,q+" two short ads to do it for free?","inpa",2)};ky.sv=function(W){if(W&&ky.DI(W)==null){alert("Your area is too big, we support only smaller areas.");
return!1}return!0};ky.DI=function(W){function q(d,u){if((d&u)==0)return d;return d+u+1-(d&u)}var X=W.U[W.Y[0]],k=X.add.SoLd&&W.d==null,B=new dU(0,0,W.r,W.$),U=k?X.Jx():W.d,l=U.S.x$(B),x=7;
if(!0){var K=0,y=0;while(!0){var D=1/Math.pow(2,K),m=l.r*D,Y=l.$*D;if(Math.max(m,Y)<=1024&&m*Y*1.2<512*512)break;
K++}var a=8<<K,p=l.P(),M=(512<<K)*(512<<K),x=1024<<K;while(!0){var R=p.P();R.Pt(1,1);R.x$(B);if(R.C()*1.2<M&&Math.max(R.r,R.$)<x&&R.C()>p.C())p=R;
else break}for(var N=0;N<1e6;N++){var s=p.C(),F=N&3,E=p.r%a,o=p.$%a;if(o!=0&&F==0){p.y--;p.$++}if(E!=0&&F==1){p.r++}if(o!=0&&F==2){p.$++}if(E!=0&&F==3){p.x--;
p.r++}p=p.x$(B);if(p.C()==s)y++;if(y>1e3)break}var E=p.r%a,o=p.$%a;p.r=Math.min(p.r,x);if(E!=0)p.r+=a-E;
p.$=Math.min(p.$,x);if(o!=0)p.$+=a-o;return[p,K]}if(l.C()>1e3*1e3)return null;var G=q(l.r,7)*q(l.$,7)*1.2>512*512||Math.max(q(l.r,7),q(l.$,7))>1024;
if(Math.max(l.r,l.$)>1024*(G?2:1))return null;var M=512*512;if(G){M=1024*1024;x=15}while(!0){var p=l.P();
p.Pt(1,1);p=p.x$(B);var m=q(p.r,x),Y=q(p.$,x);if(p.C()>l.C()&&m*Y<=M&&Math.max(m,Y)<=2048)l=p;else break}l.r=q(l.r,x);
l.$=q(l.$,x);return l};ky.aB3=function(W,q,X,k,B){if(!navigator.onLine){alert("Get online to use this feature.");
return}var U=0,l,K,D,m="l6(--.4;KXQHFL?@NJivodh\\jp\"/(v{sw\":G@4*)77DH@=<VLYR[]Q*W,]jrwkv~(8E>37'+846>>ASTMVXL\"R'X104u!-:3|,/.4]UX.@<c=AYITuN]^#x&~th~}>x v !@MF19>2=ENFNJgtmX`^lZgneno/<5$z0+\"/6-67Vc\\6m(LdT_ A^u!.'{l{\"!|-?LE+::@C5jI>MFZ]Odu#{cousj!1>7#,&C\"",M=!1;
if(X){l=ky.DI(X)[0];U=ky.DI(X)[1]}m=JSON.parse(ia.jC(m));var Y={};Y[m[0]]=W;Y[m[1]]=U>0?2:1;Y[m[2]]=30;
Y[m[3]]=X?m[4]:m[5];Y[m[12]]=m[13];Y[m[14]]=m[15];if(B)for(var a in B)Y[a]=B[a];console.log(Y);var p="nude nudity nudify naked slut vagina pussy penis dick cock tits nipples boobs".split(" ");
for(var N=0;N<p.length;N++)if(W.indexOf(p[N])!=-1)M=!0;if(M){var x=ky.tM(3)?"Premium":"Free";gv.event("dez"+"go_Nu"+"de "+x)}var R=new FormData;
if(X==null)K=D=512;else{var y=X.U[X.Y[0]],s=X.d;if(y.add.SoLd&&X.d==null)s=y.Jx();var F=g.j(l.C()*4);
g.YE(g.Cn(X.OL(),8),new dU(0,0,X.r,X.$),F,l);var E=g.j(l.C());g.Z_(g.Cn(s.c,8),s.S,E,l);g.round(E);for(var N=0;
N<E.length;N++)if(F[N*4+3]<128)E[N]=255;for(var N=0;N<U;N++){console.log("downscaling");var o=g.ly(F,l);
F=o.kl;var G=g.Jo(E,l);E=G.kl;l=G.S}var d=lf.c_("jpg"),u=d._M([[F.buffer]],l.r,l.$,{qual:85}),r=g.j(l.C()*4);
r.fill(255);g.LO(E,r);var v=UPNG.encode([r.buffer],l.r,l.$,null,null,null,!0);R.append(m[9],new Blob([u],{type:"image/jpeg"}));
R.append(m[10],new Blob([v],{type:"image/png"}));K=l.r>>>U;D=l.$>>>U}for(var a in Y)R.append(a,Y[a]);
ky.aso(X==null?m[7]:m[8],R,q,k);ky.a8R=[K,D,U,q==null];return 1};ky.aso=function(W,q,X,k){var B=ia.wl("W`]VVykh8D:[/-?).I{% >"),U=ia.wl("31C-2ls kta^n_TQOPLVHP@L?4A.,.*'4|.zs\"|zns`amg[eNQ\\HIT==5E4@:),&%|vzwpo{xa`om]"),l=new I.TD[ia.Yy],K;
if(X==null){var D=0,m=ia.wl("XYJMH"),Y=ia.wl("XZRZBIJ;>9"),prompt=ia.wl("_^XSST");if(q.get(m))D+=q.get(m).size;
if(q.get(Y))D+=q.get(Y).size;if(q.get(prompt))D+=q.get(prompt).length;var a=D*19+47631,p=String.fromCharCode(65+(a&15))+String.fromCharCode(100+(a>>>4&15));
K=ia.wl("W`]VVykhNKH[;046.,}v@r{v5samc&X^W]ZvoODIt")+"m="+W+ia.wl("tYNZKOAv")+p;l[ia.by](ia.aGE,K,!0)}else{K=B+W;
l[ia.by](ia.aGE,K,!0);l[ia.ahZ](ia.wl("Gx-K]GLf\"9J"),X?X:U)}l[ia.UT]=k;l[ia.aqy]=ia.aIp;l[ia.xc](q)};
ky.H3=function(W,q){var X=ky.tM(q);gv.event("rembg_"+W+": "+(X?"Premium":"Free"));if(X){for(var N=0;
N<q;N++)gv.event("aiusg_"+gv.XV().id);ky.aBk(q)}};function hw(W,q){if(!W)W=0;if(!q)q=0;this.x=W;this.y=q}hw.prototype.add=function(W){return new hw(this.x+W.x,this.y+W.y)};
hw.prototype.P=function(){return new hw(this.x,this.y)};hw.prototype.ny=function(W){this.x=W.x;this.y=W.y};
hw.prototype.AB=function(W){return this.x==W.x&&this.y==W.y};hw.prototype.normalize=function(W){var q=Math.sqrt(this.x*this.x+this.y*this.y);
this.x*=W/q;this.y*=W/q};hw.prototype.offset=function(W,q){this.x+=W;this.y+=q};hw.prototype.cQ=function(W,q){this.x=W;
this.y=q};hw.prototype.SR=function(W){return new hw(this.x-W.x,this.y-W.y)};hw.tj=function(W,q){return hw.abV(W.x-q.x,W.y-q.y)};
hw.aig=function(W,q,X){return new hw(W.x+X*(q.x-W.x),W.y+X*(q.y-W.y))};hw.and=function(W,q){return new hw(W*Math.cos(q),W*Math.sin(q))};
hw.abV=function(W,q){return Math.sqrt(W*W+q*q)};hw.s2={};hw.IT={};hw.s2.create=function(){var W=new Float32Array(4);
return W};hw.IT.create=function(W){var q=new Float32Array(16);q[0]=q[5]=q[10]=q[15]=1;if(W)hw.IT.set(W,q);
return q};hw.s2.add=function(W,q,X){X[0]=W[0]+q[0];X[1]=W[1]+q[1];X[2]=W[2]+q[2];X[3]=W[3]+q[3]};hw.s2.set=function(W,q){q[0]=W[0];
q[1]=W[1];q[2]=W[2];q[3]=W[3]};hw.IT.set=function(W,q){q[0]=W[0];q[1]=W[1];q[2]=W[2];q[3]=W[3];q[4]=W[4];
q[5]=W[5];q[6]=W[6];q[7]=W[7];q[8]=W[8];q[9]=W[9];q[10]=W[10];q[11]=W[11];q[12]=W[12];q[13]=W[13];q[14]=W[14];
q[15]=W[15]};hw.IT.multiply=function(W,q,X){var k=W[0],B=W[1],U=W[2],l=W[3],K=W[4],D=W[5],m=W[6],Y=W[7],a=W[8],p=W[9],M=W[10],x=W[11],R=W[12],y=W[13],s=W[14],F=W[15],E=q[0],o=q[1],G=q[2],d=q[3];
X[0]=E*k+o*K+G*a+d*R;X[1]=E*B+o*D+G*p+d*y;X[2]=E*U+o*m+G*M+d*s;X[3]=E*l+o*Y+G*x+d*F;E=q[4];o=q[5];G=q[6];
d=q[7];X[4]=E*k+o*K+G*a+d*R;X[5]=E*B+o*D+G*p+d*y;X[6]=E*U+o*m+G*M+d*s;X[7]=E*l+o*Y+G*x+d*F;E=q[8];o=q[9];
G=q[10];d=q[11];X[8]=E*k+o*K+G*a+d*R;X[9]=E*B+o*D+G*p+d*y;X[10]=E*U+o*m+G*M+d*s;X[11]=E*l+o*Y+G*x+d*F;
E=q[12];o=q[13];G=q[14];d=q[15];X[12]=E*k+o*K+G*a+d*R;X[13]=E*B+o*D+G*p+d*y;X[14]=E*U+o*m+G*M+d*s;X[15]=E*l+o*Y+G*x+d*F;
return X};hw.IT.inverse=function(W,q){var X=W[0],k=W[1],B=W[2],U=W[3],l=W[4],K=W[5],D=W[6],m=W[7],Y=W[8],a=W[9],p=W[10],M=W[11],x=W[12],R=W[13],y=W[14],s=W[15],F=X*K-k*l,E=X*D-B*l,o=X*m-U*l,G=k*D-B*K,d=k*m-U*K,u=B*m-U*D,r=Y*R-a*x,v=Y*y-p*x,c=Y*s-M*x,V=a*y-p*R,j=a*s-M*R,Q=p*s-M*y,H=F*Q-E*j+o*V+G*c-d*v+u*r;
if(!H){return null}H=1/H;q[0]=(K*Q-D*j+m*V)*H;q[1]=(B*j-k*Q-U*V)*H;q[2]=(R*u-y*d+s*G)*H;q[3]=(p*d-a*u-M*G)*H;
q[4]=(D*c-l*Q-m*v)*H;q[5]=(X*Q-B*c+U*v)*H;q[6]=(y*o-x*u-s*E)*H;q[7]=(Y*u-p*o+M*E)*H;q[8]=(l*j-K*c+m*r)*H;
q[9]=(k*c-X*j-U*r)*H;q[10]=(x*d-R*o+s*F)*H;q[11]=(a*o-Y*d-M*F)*H;q[12]=(K*v-l*V-D*r)*H;q[13]=(X*V-k*v+B*r)*H;
q[14]=(R*E-x*G-y*F)*H;q[15]=(Y*G-a*E+p*F)*H;return q};hw.IT.aix=function(W,q,X){var k=q[0],B=q[1];X[0]=k*W[0]+B*W[4]+W[12];
X[1]=k*W[1]+B*W[5]+W[13]};hw.IT.a1j=function(W,q,X){var k=q[0],B=q[1],U=q[2],l=q[3];X[0]=W[0]*k+W[4]*B+W[8]*U+W[12]*l;
X[1]=W[1]*k+W[5]*B+W[9]*U+W[13]*l;X[2]=W[2]*k+W[6]*B+W[10]*U+W[14]*l;X[3]=W[3]*k+W[7]*B+W[11]*U+W[15]*l};
function dU(W,q,X,k){if(!W)W=0;if(!q)q=0;if(!X)X=0;if(!k)k=0;this.x=W;this.y=q;this.r=X;this.$=k}dU.prototype.C=function(){return this.r*this.$};
dU.prototype.P=function(){return new dU(this.x,this.y,this.r,this.$)};dU.prototype.contains=function(W,q){return W>=this.x&&W<=this.x+this.r&&(q>=this.y&&q<=this.y+this.$)};
dU.prototype.BS=function(W){return this.contains(W.x,W.y)};dU.prototype.Ox=function(W){return this.x<=W.x&&this.y<=W.y&&W.x+W.r<=this.x+this.r&&W.y+W.$<=this.y+this.$};
dU.prototype.ny=function(W){this.x=W.x;this.y=W.y;this.r=W.r;this.$=W.$};dU.prototype.AB=function(W){return this.x==W.x&&this.y==W.y&&this.r==W.r&&this.$==W.$};
dU.prototype.Pt=function(W,q){this.x-=W;this.y-=q;this.r+=2*W;this.$+=2*q};dU.prototype.a0V=function(W){this.Pt(W.x,W.y)};
dU.prototype.x$=function(W){var q=Math.max(this.x,W.x),X=Math.max(this.y,W.y),k=Math.min(this.x+this.r,W.x+W.r),B=Math.min(this.y+this.$,W.y+W.$);
if(k<q||B<X)return new dU;else return new dU(q,X,k-q,B-X)};dU.prototype.ty=function(W){if(W.y+W.$<this.y||W.x>this.x+this.r||W.y>this.y+this.$||W.x+W.r<this.x)return!1;
return!0};dU.prototype.PM=function(){return this.r<=0||this.$<=0};dU.prototype.offset=function(W,q){this.x+=W;
this.y+=q};dU.prototype.aud=function(W){this.offset(W.x,W.y)};dU.prototype.asS=function(){this.x=this.y=this.r=this.$=0};
dU.prototype.cQ=function(W,q,X,k){this.x=W;this.y=q;this.r=X;this.$=k};dU.prototype.xw=function(W){if(this.PM())return W.P();
if(W.PM())return this.P();var q=this.P();q.avF(W);return q};dU.rK=new Float32Array(2);dU.prototype.avF=function(W){if(W.PM())return;
if(this.PM()){this.ny(W);return}this.aK_(W.x,W.y);this.aK_(W.x+W.r,W.y+W.$)};dU.prototype.aK_=function(W,q){var X=Math.min(this.x,W),k=Math.min(this.y,q);
this.r=Math.max(this.x+this.r,W)-X;this.$=Math.max(this.y+this.$,q)-k;this.x=X;this.y=k};dU.prototype.a3D=function(W,q){this.x=W;
this.y=q;this.r=this.$=0};function ka(W,q,X,k,B,U){if(typeof W==="undefined"){W=1;q=0;X=0;k=1;B=0;U=0}this.iM=W;
this.X=q;this.bO=X;this.kv=k;this.Wy=B;this.rY=U}ka.prototype.Lr=function(){return Math.sqrt(Math.abs(this.iM*this.kv-this.X*this.bO))};
ka.prototype.a6$=function(){var W=this,q=function(X){return Math.abs(X)<1e-9?0:X};W.iM=q(W.iM);W.X=q(W.X);
W.bO=q(W.bO);W.kv=q(W.kv);W.Wy=q(W.Wy);W.rY=q(W.rY)};ka.prototype.Bb=function(W){return new hw(W.x*this.iM+W.y*this.bO+this.Wy,W.x*this.X+W.y*this.kv+this.rY)};
ka.prototype.translate=function(W,q){this.Wy+=W;this.rY+=q};ka.prototype.rotate=function(W){var q=new ka(Math.cos(W),-Math.sin(W),Math.sin(W),Math.cos(W),0,0);
this.concat(q)};ka.prototype.scale=function(W,q){var X=new ka(W,0,0,q,0,0);this.concat(X)};ka.prototype.concat=function(W){this.ny(new ka(this.iM*W.iM+this.X*W.bO,this.iM*W.X+this.X*W.kv,this.bO*W.iM+this.kv*W.bO,this.bO*W.X+this.kv*W.kv,this.Wy*W.iM+this.rY*W.bO+W.Wy,this.Wy*W.X+this.rY*W.kv+W.rY))};
ka.prototype.i5=function(){var W=this.iM*this.kv-this.X*this.bO;this.ny(new ka(this.kv/W,-this.X/W,-this.bO/W,this.iM/W,(this.bO*this.rY-this.kv*this.Wy)/W,(this.X*this.Wy-this.iM*this.rY)/W))};
ka.prototype.P=function(){return new ka(this.iM,this.X,this.bO,this.kv,this.Wy,this.rY)};ka.prototype.ny=function(W){this.iM=W.iM;
this.X=W.X;this.bO=W.bO;this.kv=W.kv;this.Wy=W.Wy;this.rY=W.rY};ka.U9=function(W){return[W.iM,W.X,W.bO,W.kv,W.Wy,W.rY]};
ka.aaE=function(W){return new ka(W[0],W[1],W[2],W[3],W[4],W[5])};function lf(){}lf.aKN={axk:"PNG JPG WEBP PDF SVG GIF MP4".split(" "),aIU:"DDS TIFF AVIF TGA BMP ICO DXF RAW EMF PPM".split(" ")};
lf.iP="psd jpg png gif webp svg bmp".split(" ");lf.Q0=function(W,q){var X=W.memory.buffer.byteLength,k=(q-X>>>16)+1;
try{if(X<q)W.memory.grow(k)}catch(bu){return k*65536}return 0};lf.Nx={in:function(W,q){fetch(W).then(function(X){return X.arrayBuffer()}).then(function(X){var k=new Uint8Array(X),B=0,D="";
if(q){B=k.length;var U={level:9},l=pako.deflateRaw(k,U),K=UZIP.deflateRaw(k,U);console.log(B,l.length,K.length);
k=l.length<K.length?l:K}for(var N=0;N<k.length;N++)D+=String.fromCharCode(k[N]);var m=btoa(D);console.log(JSON.stringify([B,m]))})},get:function(W,q){var X=BINDB[W],k=Date.now(),B=atob(X[1]),U=B.length,l=new Uint8Array(U);
for(var N=0;N<U;N++)l[N]=B.charCodeAt(N);if(X[0]!=0){var K=new Uint8Array(X[0]);UZIP.inflateRaw(l,K);
l=K}if(q){var D=lf.pP(l.buffer);l=lf.c_(D).Vp(l.buffer)}return l}};lf.a9q=function(W,q){return new Promise(function(X,k){W.Vp(q,null,function(B,U){X(U)})})};
lf.pP=function(W){if(!(W instanceof ArrayBuffer)){console.log("Input is not ArrayBuffer")}var q=new Uint8Array(W),X=lf.auu,k,B=0,U=q.length-1;
if(X(q,[239,187,191]))B=3;while(B<q.length&&(q[B]==9||q[B]==10||q[B]==13||q[B]==32))B++;while(U!=0&&(q[U]==9||q[U]==10||q[U]==13||q[U]==32))U--;
if(X(q,[56,66,80,83]))k="psd";if(X(q,[6,6,237,245]))k="indd";if(X(q,[68,73,67,77],128))k="dcm";if(X(q,[99,104,108,118]))k="chlv";
if(X(q,[208,207,17,224])){if(Z.Ka(q,"L\0t\0f\0H\0e\0a\0d\0e\0r")!=-1)k="ufo";else k="office"}if(X(q,[102,116,121,112,109,105,102,49],4)||X(q,[102,116,121,112,97,118,105,102],4))k="avif";
if(X(q,[102,116,121,112,104,101,105,99],4)||X(q,[102,116,121,112,109,105,102,49],4)||X(q,[102,116,121,112,109,115,102,49],4))k="heic";
if(X(q,[102,116,121,112,105,115,111,109],4))k="mp4";if(X(q,[102,116,121,112,109,112,52,50],4))k="mp4";
if(X(q,[102,116,121,112,113,116,32,32],4))k="mp4";if(X(q,[102,116,121,112,105,115,111,53],4))k="mp4";
if(X(q,[26,69,223,163]))k="mkv";if(X(q,[102,116,121,112,99,114,120,32],4))k="cr3";if(X(q,[0,255,75,65]))k="afphoto";
if(X(q,[67,83,70,67,72,85,78,75]))k="clip";if(X(q,[83,65,73,45,67,65]))k="sai2";if(X(q,[70,82,65,67]))k="frac";
if(X(q,[120])&&[94,156,218].indexOf(q[1])!=-1)k="pxd";if(X(q,[80,68,78,51]))k="pdn";if(X(q,[103,105,109,112,32,120,99,102,32]))k="xcf";
if(X(q,[102,105,103,45,107,105,119,105]))k="fig";if(X(q,[105,99,110,115]))k="icns";if(X(q,[137,80,78,71,13,10,26,10])){k="png";
var l=8;while(l<q.length){var K=Z.WP(q,l);l+=4;var D=Z.zD(q,l,4);l+=4;if(D=="mkTS")k="fpng";l+=K+4}}if(X(q,[87,76]))k="cdr";
if(X(q,[82,73,70,70])){var m=eB.WZ(q),Y=m.Y_;if(Y=="WEBP")k="webp";else if(Y.slice(0,3)=="CDR")k="cdr";
else k=Y}if(X(q,[70,79,82,77])||X(q,[70,79,82,52])||X(q,[76,73,83,84])||X(q,[67,65,84,32])){var m=gJ.WZ(q),Y=m.Y_;
if(Y=="ILBM"||Y=="CIMG"||Y=="ANIM")k="ilbm";else k=Y}if(X(q,[255,216,255]))k="jpg";if(X(q,[0,0,0,12,106,80,32,32]))k="jpg";
if(X(q,[48,0,1,0],4))k="jb2";if(X(q,[71,73,70,56]))k="gif";if(X(q,[255,10])||X(q,[0,0,0,12,74,88,76,32,13,10,135,10]))k="jxl";
if(X(q,[0,0,0,2,121,102,113,76]))k="msh";if(X(q,[0,0,0,3,121,102,113,76]))k="msh";if(X(q,[0,0,0,16]))k="atn";
if(X(q,[0,1]))k="aco";if(X(q,[0,2]))k="aco";if(X(q,[65,83,69,70]))k="aco";if([0,1].indexOf(q[1])!=-1&&[1,2,3,9,10,11].indexOf(q[2])!=-1&&[0,16,24,32].indexOf(q[7])!=-1)k="tga";
if(X(q,[0,2,56,66,83,76]))k="asl";if(X(q,[0,1,0,-1,0,2,0]))k="abr";if(X(q,[0,2,0,-1,0,2,0]))k="abr";
if(X(q,[0,6,0,1]))k="abr";if(X(q,[0,6,0,2]))k="abr";if(X(q,[0,7,0,2]))k="abr";if(X(q,[0,9,0,2]))k="abr";
if(X(q,[0,10,0,2]))k="abr";if(X(q,[56,66,70,83]))k="shc";if(X(q,[56,66,80,84]))k="pat";if(X(q,[56,66,71,82]))k="grd";
if(X(q,[71,73,77,80,32,71,114,97]))k="grd";if(X(q,[56,66,84,80]))k="tpl";if(X(q,[0,4,0,5]))k="acv";if(X(q,[99,117,115,104]))k="csh";
if(X(q,[0,1,0,0,0]))k="otf";if(X(q,[79,84,84,79]))k="otf";if(X(q,[116,116,99,102]))k="otf";if(X(q,[119,79,70,70]))k="otf";
if(X(q,[68,68,83,32]))k="dds";if(X(q,[80,86,82,3]))k="pvr";if(X(q,[86,84,70,0]))k="vtf";if(X(q,[83,73,77,80]))k="fits";
if((X(q,[0,0,1,0])||X(q,[0,0,2,0]))&&q[4]!=0)k="ico";if(X(q,[66,77]))k="bmp";if(X(q,[40,0,0,0]))k="bmp";
if(X(q,[80,49]))k="ppm";if(X(q,[80,50]))k="ppm";if(X(q,[80,51]))k="ppm";if(X(q,[80,52]))k="ppm";if(X(q,[80,53]))k="ppm";
if(X(q,[80,54]))k="ppm";if(X(q,[73,73,42,0]))k="tiff";if(X(q,[77,77,0,42]))k="tiff";if(X(q,[73,73,85,0]))k="tiff";
if(X(q,[73,73,82,83]))k="tiff";if(X(q,[73,73,82,79]))k="tiff";if(k=="tiff"){var a=UTIF.decode(q),p=lf.B5.anU(a);
if(p[1])k=p[1];else if(a[0].t37724)k="ptif"}if(X(q,[70,85,74,73,70,73,76,77]))k="raf";if(X(q,[112]))k="lif";
if(X(q,[73,73,26,0]))k="ciff";if(X(q,[83,81,76,105]))k="sketch";if(X(q,[80,75])){var M=UZIP.parse(W,!0);
if(M["document.json"])k="sketch";else if(M.manifest)k="xd";else if(M["maindoc.xml"])k="kra";else if(M["content/root.dat"])k="cdr";
else if(M["content/riffData.cdr"])k="cdr";else if(M["canvas.fig"])k="fig";else if(M["manifest.json"])k="pxz";
else k="zip"}if(q.length>260&&X(q,[117,115,116,97,114,32],257))k="zip";if(X(q,[55,122,188,175]))k="7z";
if(X(q,[123]))k="json";if(Z.WP(q,0)==q.length)k="icc";if(X(q,[35])&&k==null)k="icc";if(X(q,[84,73,84,76],B))k="icc";
if(X(q,[76,85,84,95],B))k="icc";if(X(q,[60,63,120,109],B)){if(Z.Ka(q,"<look>")!=-1)k="icc";else k="svg"}if(X(q,[255,254,60,0],B))k="svg";
if(X(q,[60,115,118,103],B))k="svg";if(X(q,[60,33,100,111],B)||X(q,[60,33,68,79],B)||X(q,[60,33,45,45],B)||X(q,[60,104,116,109],B)||X(q,[60,72,84,77],B)){if(Z.Ka(q,"<svg")!=-1)k="svg";
else k="html"}if(X(q,[37,33])||X(q,[197,208,211,198])){if(Z.Ka(q,"%AI9_PrivateDataBegin")!=-1||Z.Ka(q,"%AI5_BeginLayer")!=-1)k="ai";
else k="eps"}if(X(q,[37,80,68,70],B)){var x=Z.Ka(q,"/AIMetaData ");if(x!=-1){if(Z.Ka(q,">>/Encrypt ",x)!=-1)k="pdf";
else k="ai"}else k="pdf"}else if(X(q,[10,69,79,70],U-3))k="dxf";if(X(q,[1,0,9,0]))k="wmf";if(X(q,[215,205,198,154]))k="wmf";
if(X(q,[1,0,0,0]))k="emf";if(X(q,[118,47,49,1]))k="exr";if(X(q,[35,63,82,65]))k="hdr";if(X(q,[35,63,82,71]))k="hdr";
if(X(q,[10,10,10,10]))k="jsx";if(X(q,[77,90]))k="exe";if(k==null){if(X(q,[0,5,22,7]))k="adoub";if(X(q,[73,68,51]))k="mp3";
if(X(q,[73,103,103,83]))k="ogg";if(X(q,[91,73,110,116]))k="url";if(X(q,[98,112,108,105]))k="bpli";if(X(q,[98,118,52,49]))k="lz4";
if(X(q,[119,79,70,50]))k="woff2";if(X(q,[60,63,112,104]))k="php";if(X(q,[82,97,114,33]))k="rar"}if(k==null&&g.raw.tP(q.length)!=null)return"tiff";
return k};lf.auu=function(W,q,X){if(X==null)X=0;for(var N=0;N<q.length;N++)if(q[N]!=-1&&W[X+N]!=q[N])return!1;
return!0};lf.c_=function(W){var q={BMP:lf.arg,CDR:lf.QJ,DDS:lf.Rn,EMF:lf.cz,DXF:lf.M9,EPS:lf.i9,FIG:lf.sH,FPNG:lf.Ec,INDD:lf.bK,CHLV:lf.a4G,GIF:lf.Bf,ICO:lf.yE,ILBM:lf.a4J,FITS:lf.as8,EXR:lf.iA,HDR:lf.ng,JPG:lf.WJ,LIF:lf.wg,DCM:lf.aAG,PDF:lf.bM,PDN:lf.vm,PNG:lf.hW,ICNS:lf.axj,PPM:lf.wG,PSD:lf.mH,PXD:lf.sE,PXZ:lf.f3,RAW:lf.Xy,SKETCH:lf.cZ,UFO:lf.BB,OFFICE:lf.q$,SVG:lf.fu,TGA:lf.VF,AVIF:lf.h5,HEIC:lf.h5,JXL:lf.h5,TIFF:lf.B5,PTIF:lf.PS,DNG:lf.B5,CR2:lf.B5,NEF:lf.B5,ARW:lf.B5,RW2:lf.B5,ORF:lf.B5,FFF:lf.B5,RAF:lf.CQ,CR3:lf.Ny,VTF:lf.at7,WEBP:lf.Ro,WMF:lf.Ax,XCF:lf.Bn,XD:lf.jU,KRA:lf.kS,EXE:lf.axn,AI:lf.Mz,AFPHOTO:lf.RC,CLIP:lf.NM,SAI2:lf.ML,FRAC:lf._v,MP4:lf.aFO,MKV:lf.aFO};
return q[W.toUpperCase()]};lf.dT=function(N){var W=lf.aKN.axk,q=lf.aKN.aIU,X,k=[];if(N==null)X=W.concat(q);
else X=N==0?W:q;for(var N=0;N<X.length;N++)if(lf.c_(X[N])._M)k.push(X[N]);return k};lf.aCS=function(){var W;
function q(k){var B=k.target,U=B.width,l=B.height,K=document.createElement("canvas");K.width=U;K.height=l;
var D=K.getContext("2d");D.drawImage(B,0,0);W({oq:new dU(0,0,U,l),data:D.getImageData(0,0,U,l).data.buffer})}function X(k,B,U){W=U;
var l=document.createElement("img");l.onload=q;l.src="data:"+B+";base64,"+lf.KT(k)}return X}();lf.Te=function(W,q,X,k,B){var U=lf.nn(W,q,X,k,B),l=lf.zP(U);
return l.buffer};lf.zP=function(W){var q=atob(W.split(",").pop()),X=new Uint8Array(q.length);for(var N=0;
N<q.length;N++)X[N]=q.charCodeAt(N);return X};lf.nn=function(W,q,X,k,B,U){if(!(W instanceof ArrayBuffer))throw"e";
if(k==null)k="png";if(k=="png"&&U==!0){var l=lf.c_("PNG")._M([[W,0]],q,X);return"data:image/png;base64,"+lf.KT(l)}var K=lf.Sk;
if(K==null)K=lf.Sk=document.createElement("canvas");if(K.width!=q||K.height!=X){K.width=q;K.height=X}var D=K.getContext("2d"),m=new ImageData(new Uint8ClampedArray(W,0,q*X*4),q,X);
D.putImageData(m,0,0);return K.toDataURL("image/"+k,B)};lf.aaH=function(W,q,X,k,B){if(B==null)B=0;var U="<defs> \t<filter id=\"sofGlow\" height=\"300%\" width=\"300%\" x=\"-75%\" y=\"-75%\"> \t\t<!-- Thicken out the original shape --> \t<feMorphology operator=\"dilate\" radius=\"3\" in=\"SourceAlpha\" result=\"thicken\" /> \t\t<!-- Use a gaussian blur to create the soft blurriness of the glow -->\t\t<feGaussianBlur in=\"thicken\" stdDeviation=\"4\" result=\"blurred\" />\t\t<!-- Change the colour -->\t\t<feFlood flood-color=\"rgb(255,255,255)\" result=\"glowColor\" />\t\t<!-- Color in the glows -->\t\t<feComposite in=\"glowColor\" in2=\"blurred\" operator=\"in\" result=\"softGlow_colored\" />\t\t<!--\tLayer the effects together -->\t\t<feMerge>\t\t\t<feMergeNode in=\"softGlow_colored\"/>\t\t\t<feMergeNode in=\"SourceGraphic\"/>\t\t</feMerge>\t</filter></defs>",l="<svg  xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"  width=\"128\"  height=\"128\"> "+U+"<g transform=\"translate(64 64) scale("+.25+")\">";
if(W==1)l+="<g transform=\"scale(0.07 0.07) translate(-550 -112)\"  style=\"fill:#ffffff; stroke:#000000; stroke-width:60px;\">"+"<path d=\"m 555.1899,112.08836 0,120.71094 0,920.7109 232.42188,-232.42184 111.90429,270.44924 169.76363,-84.8828 -114.09371,-273.8555 320.71481,0 z\"/>"+"</g>";
l+="<g filter=\"url(#sofGlow)\"><image transform=\"rotate("+B+")\" xlink:href=\""+q+"\" x=\""+80*X+"\" y=\""+80*k+"\" height=\"80\" width=\"80\"/></g>"+"</g>"+"</svg>";
var K=new Uint8Array(l.length);Z.o9(l,K,0);var D="data:image/svg+xml;base64,"+lf.KT(K.buffer);return{S0:D,OM:new dU(0,0,128,128),Qv:new hw(64,64)}};
lf.KT=function(W){var q=new Uint8Array(W),X="";for(var N=0;N<q.length;N++)X+=String.fromCharCode(q[N]);
return btoa(X)};lf.GS=function(W){var q=atob(W),X=q.length,k=new Uint8Array(X);for(var N=0;N<X;N++)k[N]=q.charCodeAt(N);
return k.buffer};lf.aL9=function(W,q,X,k){var B=new Uint8Array(W),U=~~(B.length/(q*X*2)),l;if(k)for(var N=0;
N<B.length;N+=2){var K=B[N];B[N]=B[N+1];B[N+1]=K}B=new Uint16Array(B.buffer,0,B.buffer.byteLength>>>1);
if(U==4)l=B.buffer;else if(U==3||U==2||U==1){var D=new Uint16Array(q*X*4);l=D.buffer;D.fill(65535);for(var m=0;
m<D.length;m+=4){var N=m>>>2,Y=m>>>1,a=N*3;if(U==3){D[m]=B[a];D[m+1]=B[a+1];D[m+2]=B[a+2]}else if(U==2){D[m]=D[m+1]=D[m+2]=B[Y];
D[m+3]=B[Y+1]}else D[m]=D[m+1]=D[m+2]=B[N]}}else throw U;return l};lf.azP=function(W){var q=[],X=[];
for(var N=0;N<W.U.length;N++){var k=W.U[N];if(k.getName().slice(0,3)=="_a_"){q.push(N);X.push(k.P$())}}return[q,X]};
lf.Xi=function(W,q,X,k,B,U){if(X==null)X=W.r;if(k==null)k=W.$;var l=new dU(0,0,W.r,W.$),K=new ka(X/(W.r+.001),0,0,k/(W.$+.001),0,0),m;
q=q.toUpperCase();var D=lf.c_(q);if(D.MM){m=D._M(W,X,k,B,U)}else if(cC==1){var Y=W.CZ(U,X,k);m=D._M([[Y,0,W.mC,W.qq]],X,k,B)}else{var a=lf.azP(W),p=a[0],M=a[1],x=W.Pb(),R=x&&B?B.srgb:!1,y=x&&!R?x[0]:null,s=null;
if(W.RH.length!=0){s=[];for(var N=0;N<W.RH.length;N++)s.push(W.RH[N].sA(l))}if(p.length<2){var F=lf.atx(W.OL(),x,R,W,B&&B.ke16?16:8),E;
if(X==W.r&&k==W.$)E=F.buffer;else{var o=_.Gz.k6([F,l],K);E=o.buffer.buffer;if(s){var G=g.j(l.C()*4);
for(var N=0;N<s.length;N++){g.fP(s[N],G,3);var o=_.Gz.k6([G,l],K),d=s[N]=g.j(o.S.C());g.u6(o.buffer,d,3)}}}m=D._M([[E,0,W.mC,W.qq,s,y]],X,k,B)}else{var u=[];
for(var N=0;N<p.length;N++){var r=p[N],v=W.root.Vf(r),Y;if(v.B.S3()){var c=v.children;for(var V=0;V<c.length;
V++){if(p.indexOf(c[V].index)!=-1)alert("You have a frame inside a folder, which is also a frame. This folder should not be a frame (should not start with _a_).",6e3)}}for(var V=0;
V<p.length;V++)W.U[p[V]].ZR(p[V]==r);W.Hm();W.I_();W.HQ();if(X==W.r&&k==W.$)Y=W.OL().slice(0);else{var o=_.Gz.k6([W.OL(),l],K);
Y=o.buffer}var E=lf.atx(Y,x,R,W,B&&B.ke16?16:8).buffer,j=W.U[r].getName().split(",");u.push([E,j[1]?parseInt(j[1]):100,W.mC,W.qq,s,y])}for(var N=0;
N<p.length;N++)W.U[p[N]].ZR(M[N]);W.I_();W.HQ();if(B){var Q=B.rvrs,H=B.bmrn,T=B.sped/100,e=1;if(T!=1)for(var N=0;
N<u.length;N++)u[N][1]=Math.round((u[N][1]==0?16:u[N][1])/T);if(e<1){var z=0,J=[],A=0,V=0;for(var N=0;
N<u.length;++N){z+=u[N][1];if(N>0){J.push(J[J.length-1]+u[N-1][1])}else{J.push(0)}}var P=e*u.length,L=z/P,h=[];
for(var N=0;N<P;++N){var C=0;while(A>J[V]&&V+1<u.length){C+=u[V][1];++V}if(C!=0){var w=Math.round(Math.min(1,(J[V]-A)/u[V][1])*C);
h[h.length-1][1]+=C-w;if(u[V][1]<u[V-1][1]/2){h.push(u[V-1])}else{h.push(u[V])}h[h.length-1][1]=u[V][1]+w}else if(V<u.length){h.push(u[V])}A+=L;
++V}while(V<u.length){h[h.length-1][1]+=u[V][1];++V}u=h}if(Q)u.reverse();if(H){var f=u.slice(1,u.length-1);
f.reverse();u=u.concat(f)}}m=D._M(u,X,k,B)}}return m};lf.atx=function(W,q,X,k,B){var U=k.XZ();if(k.depth==32&&B!=32)for(var N=0;
N<W.length;N++)W[N]=Math.min(1,W[N]);if(X){W=W.slice(0);ICC.U.applyLUT(q[3],q[2],W,W)}else if(U&&k.add.fcmy==1){W=W.slice(0);
ICC.U.applyLUT(U[k.add.fcmy==1?5:3],U[2],W,W)}if(k.depth>B){W=g.Cn(W,B);alert("Converting "+k.depth+"-bit to "+B+"-bit colors",3e3)}return W};
lf.apW=function(W,q){var X=new Uint8Array(W.data),k=new Uint8Array(q.data),B=0,U=0;for(var l=0;l<X.length;
l+=4){var K=X[l]-k[l],D=X[l+1]-k[l+1],m=X[l+2]-k[l+2],Y=X[l+3]-k[l+3],a=K*K+D*D+m*m+Y*Y>>>2;B+=a;if(a>25)U++}var p=U/W.oq.C()<1e-4;
return p};lf.kB=function(W,q){var X=q[0].vk&&q[0].vk.startsWith("_a_"),k;if(X&&!1){var B=0,U=q.length;
for(var N=0;N<q.length-1;N++){var l=q[N],K=q[N+1],D=lf.apW(l,K);if(D){var m=parseFloat(l.vk.split(",").pop()),Y=parseFloat(K.vk.split(",").pop());
l.vk=l.vk.split(",")[0]+","+Math.round(m+Y);q.splice(N+1,1);N--;B++}}if(B!=0){alert("Deleted "+B+" frames out of "+U+".");
for(var N=0;N<q.length;N++){var a=q[N],p=a.vk;a.vk="_a_frm"+N+","+p.split(",")[1]}}}var M=new ey(W+"."+["psd","ai"][cC]);
if(q[0].depth)M.depth=q[0].depth;var y=new dU(0,0,1,1);if(X){k=M.Sh();k.add.lsct=e5.B2;k.YY(W);k.JY="pass";
k.Z9=24;k.ZR(!0);M.U.push(M.rS())}for(var N=0;N<q.length;N++){var s=q[N];y=y.xw(s.oq);var F=M.Sh();F.ZR(N==0);
F.YY(q.length==1?"Background":"Layer "+N);if(N==0&&s.mC)M.mC=s.mC;if(N==0&&s.qq)M.qq=s.qq;if(s.vk)F.YY(s.vk);
if(s.Pz)for(var E=0;E<s.Pz.length;E++){var o=s.Pz[E],G=ey.hQ(o[0]);G.add.vmsk.G=o[1];g.z.Y9(o[1],new ka(y.r,0,0,y.$,0,0));
M.RM.push(G)}if(s.UZ)M.UZ=s.UZ;F.S=s.oq.P();var d=s.depth?s.depth:M.depth;if(d==8)F.buffer=new Uint8Array(s.data);
else if(d==16)F.buffer=new Uint16Array(s.data);else if(d==32)F.buffer=new Float32Array(s.data);F.buffer=g.Cn(F.buffer,M.depth);
if(N==0&&s.AO)M.JM(s.AO);g.gu(F,!0);M.U.push(F)}if(X)M.U.push(k);if(q[0].RH){for(var N=0;N<q[0].RH.length;
N++){var u=new b.pj;M.RH.push(u);u.S=q[0].oq.P();u.c=q[0].RH[N]}}M.Y=[X?M.U.length-1:0];M.r=y.r;M.$=y.$;
if(cC==0)M.buffer=g.j(y.C()*4,M.depth);M.I_();return M};lf.ar2=function(W,q,X){var k=W.length-X,B=new Uint8Array(k);
for(var N=0;N<q;N++)B[N]=W[N];for(var N=q;N<k;N++)B[N]=W[N+X];return B};lf.afi=function(W,q,X){var k=W.length,B=X.length,U=new Uint8Array(k+B);
for(var N=0;N<q;N++)U[N]=W[N];for(var N=q;N<k;N++)U[N+B]=W[N];U.set(X,q);return U};lf.aoS=function(W,q,X,k,B,U,l,K,D){var m=new ip(S.E.O,!0);
m.J=_.Yo;m.data={R:"h_stepbck"};var Y={};for(var a=1;a<X.length;a++){var p=W.Y.slice(0),M=lf.afX(W,D,q,X,k,a),x="img"+a,R=X[0].indexOf(l);
if(l!=""){if(R==-1)alert("Column "+l+" not found.");else x=X[a][R]}Y[x+"."+B.toLowerCase()]=new Uint8Array(lf.Xi(W,B,null,null,U,K));
for(var N=0;N<M;N++)D.T(m)}return UZIP.encode(Y)};lf.afX=function(W,q,X,k,B,U){var l=new ip(S.E.H,!0),m=0;
l.data={R:S.m.qS};var K=new ip(S.E.O,!0);K.J=_.b9;K.data={R:b.xi,PW:{buffer:null,S:null}};var D=K.data.PW;
for(var Y=0;Y<X.length;Y++){var a=X[Y],p=a.trait,M=parseInt(a.docRef.slice(4,-2)),x=-1;for(var N=0;N<W.U.length;
N++)if(W.U[N].add.lyid==M)x=N;if(x==-1)continue;var R=k[0].indexOf(a.varName);if(R==-1){alert("Column "+a.varName+" is missing");
return}var y=k[U][R],s=W.U[x];W.Y=[x];if(p=="textcontent"){l.data.eg="app.activeDocument.activeLayer.textItem.contents = "+JSON.stringify(y)+";";
q.T(l);m++}if(p=="visibility"&&s.P$()+""!=y.toLowerCase()){y=y.trim().toLowerCase();if(y!="true"&&y!="false")y=y==""?"false":"true";
l.data.eg="app.activeDocument.activeLayer.visible = "+y+";";if(s.P$()+""!=y){q.T(l);m++}}if(p=="fileref"){var F=y.split("/").pop(),E=null;
for(var a1 in B)if(a1.split("/").pop()==F)E=B[a1];if(E==null){alert("Image "+F+" is missing.")}else{var o=lf.c_(lf.pP(E.buffer)).Vp(E.buffer)[0],G=o.oq,d=s.S,c=0,V=0;
if(s.add.SoLd){var u=_.Gz.rQ(s.add.SoLd.nonAffineTransform);d=g.b.DS(u)}var r=d.r/d.$,v=G.r/G.$;if(r>v){V=d.$;
c=~~(V*v)}else{c=d.r;V=~~(c/v)}l.data.eg="app.activeDocument.activeLayer.visible = false;";q.T(l);m++;
var j=_.Gz.k6([new Uint8Array(o.data),G],new ka(c/G.r,0,0,V/G.$,0,0));D.S=j.S;D.buffer=j.buffer;j.S.x=d.x+(d.r-c>>>1);
j.S.y=d.y+(d.$-V>>>1);q.T(K);m++;var Q=W.U[W.Y[0]];Q.zO=s.zO;Q.Oa=s.Oa;Q.JY=s.JY;Q.BD=s.BD}}}return m};
lf.hW={};lf.hW._M=function(W,q,X,k){if(k==null)k={qual:100,rept:0};var B={sRGB:1,loop:k.rept},U=W[0],l=Math.floor(U[0].byteLength/(q*X*4))*8,p;
if(U[5]!=null){delete B.sRGB;B.iCCP=U[5]}if(U[2]!=null){var K=Math.round(U[2]*(1e4/254));B.pHYs=[K,K,1]}if(U[3]!=null&&k.mtdt&&Object.keys(U[3]).length!=0){B.iTXt={"XML:com.adobe.xmp":ei.Bc(U[3])}}var D=k.qual,m=D==100?0:Math.max(2,Math.floor(D*5));
if(m==5)m=4;var Y=[],a=[];for(var N=0;N<W.length;N++){Y.push(W[N][0]);a.push(W[N][1])}if(k.ctoa&&W[0][4]){Y[0]=Y[0].slice(0);
g.fP(W[0][4][0],new Uint8Array(Y[0]),3)}if(l==8)p=UPNG.encode(Y,q,X,m,a,B,k.nplt);else{var M=[];for(var x=0;
x<Y.length;x++){var R=M[x]=Y[x].slice(0),y=new Uint8Array(R);for(var N=0;N<y.length;N+=2){var s=y[N];
y[N]=y[N+1];y[N+1]=s}}p=UPNG.encodeLL(M,q,X,3,1,16,a,B,!1)}return p};lf.hW.GC=function(W,q,X,k){if(k==null)k=8;
if(k==16){W=W.slice(0);var B=new Uint8Array(W);for(var N=0;N<B.length;N+=2){var U=B[N];B[N]=B[N+1];B[N+1]=U}}return UPNG.encodeLL([W],q,X,3,1,k,null,null,!0)};
lf.hW.Vp=function(W){var q=Date.now(),X=UPNG.decode(W),k=X.width,B=X.height,U=8,l=X.ctype,K,D=0,m=null,Y=X.tabs.iCCP;
if(X.tabs.pHYs)D=Math.round(X.tabs.pHYs[0]*254/1e4);var a=X.tabs.iTXt;if(a&&a["XML:com.adobe.xmp"])m=ei.T7(a["XML:com.adobe.xmp"]);
if(h2&&X.depth==16){K=[lf.aL9(X.data.buffer.slice(0,k*B*8),k,B,!0)];U=16}else K=UPNG.toRGBA8(X);if(K.length==1)return[{oq:new dU(0,0,k,B),data:K[0],mC:D,AO:Y,qq:m,depth:U}];
var p=[];for(var N=0;N<K.length;N++){p.push({vk:"_a_frm"+N+","+X.frames[N].delay,oq:new dU(0,0,k,B),data:K[N],mC:D,AO:Y,qq:m,depth:U})}return p};
lf.wG={};lf.wG._M=function(W,q,X,k){var B=new Uint8Array(W[0][0]),U=q*X,l=U*3,K="P6\n"+q+" "+X+"\n255\n",D=K.length,m=new Uint8Array(D+l);
for(var N=0;N<D;N++)m[N]=K.charCodeAt(N);for(var N=0;N<U;N++){var Y=N*4,a=N*3+D;m[a]=B[Y];m[a+1]=B[Y+1];
m[a+2]=B[Y+2]}return m.buffer};lf.wG.Vp=function(W){W=new Uint8Array(W);var q=[" ".charCodeAt(0),"\n".charCodeAt(0),"\t".charCodeAt(0),"\r".charCodeAt(0)],X=0,k=String.fromCharCode(W[0])+String.fromCharCode(W[1]),B=[],U=0,l=k=="P1"||k=="P4"?2:3;
for(X=2;X<W.length;X++){var K=W[X],D=String.fromCharCode(K);if(K=="#".charCodeAt(0)){while(W[X]!="\n".charCodeAt(0))X++;
continue}var m=q.indexOf(K)!=-1;if(U==0&&!m){B.push(D);U=1;continue}if(U==1&&!m){B[B.length-1]+=D;continue}if(U==1&&m){U=0;
if(B.length==l)break;continue}}var Y=parseInt(B[0]),a=parseInt(B[1]),p=Y*a*4,M=k=="P1"||k=="P4"?1:255/parseInt(B[2]),x=g.j(p);
if(k=="P1"||k=="P2"||k=="P3"){var R="",y=0,U=0,s="#".charCodeAt(0);for(var N=X;N<W.length;N++){var K=W[N],D=String.fromCharCode(K),m=q.indexOf(K)!=-1;
if(K==s){while(W[N]!="\n".charCodeAt(0))N++}else if(U==0&&!m){R=D;U=1}else if(U==1){if(m){U=0;var F=parseInt(R);
R="";if(k=="P1"){x[y]=x[y+1]=x[y+2]=(1-F)*255;x[y+3]=255;y+=4}if(k=="P2"){x[y]=x[y+1]=x[y+2]=Math.round(F*M);
x[y+3]=255;y+=4}if(k=="P3"){x[y]=Math.round(F*M);y++;if((y&3)==3){x[y]=255;y++}}}else R+=D}}}var E=Y*a;
if(k=="P4")for(var o=0;o<a;o++){var G=o*8*Math.ceil(Y/8);for(var d=0;d<Y;d++){var N=G+d,u=W[X+1+(N>>3)];
u=u>>7-(N&7)&1;var r=o*Y+d<<2;x[r]=x[r+1]=x[r+2]=(1-u)*255;x[r+3]=255}}if(k=="P5")for(var N=0;N<E;N++){var r=4*N;
x[r]=x[r+1]=x[r+2]=Math.round(W[X+1+N]*M);x[r+3]=255}if(k=="P6")for(var N=0;N<E;N++){var r=4*N,v=X+1+3*N;
x[r]=Math.round(W[v]*M);x[r+1]=Math.round(W[v+1]*M);x[r+2]=Math.round(W[v+2]*M);x[r+3]=255}return[{oq:new dU(0,0,Y,a),data:x.buffer}]};
lf.Rn={};lf.Rn._M=function(W,q,X,k){if(k==null)k={cmpr:0,mpmp:!0};if(typeof k[0]=="boolean")k[0]=0;var B=new Uint8Array(W[0][0]);
if(k.ctoa&&W[0][4]){B=B.slice(0);g.fP(W[0][4][0],B,3)}var U=q&3,l=X&3;if(U!=0||l!=0){var K=q+(U==0?0:4-U),D=X+(l==0?0:4-l),m=new Uint8Array(K*D*4);
g.WD(m,4278190080);g.YE(B,new dU(0,0,q,X),m,new dU(0,0,K,D));B=m;q=K;X=D}var Y=UTEX.DDS.encode(B.buffer,q,X,[k.cmpr,k.mpmp,k.dxsr]);
if(!1){var a=UTEX.DDS.decode(Y)[0],m=new Uint8Array(a.jx),p=0;for(var N=0;N<B.length;N++){var M=B[N]-m[N];
p+=M*M}console.log(p)}return Y};lf.Rn.Vp=function(W){var q=UTEX.DDS.decode(W)[0],X={oq:new dU(0,0,q.width,q.height),data:q.image};
g.aeB(X);return[X]};lf.at7={};lf.at7.Vp=function(W){var q=UTEX.VTF.decode(W).pop(),X={oq:new dU(0,0,q.width,q.height),data:q.image};
g.aeB(X);return[X]};lf.WJ={};lf.WJ.ai8=null;lf.WJ.a8B=function(W,q){var X=lf.WJ.ai8,k=W.byteLength,B=q.width,U=q.height,l=B*U,K=5e6+2*k+l*(q.progressive?Math.max(2,q.numComponents)*4+1:8),D=X.instance.exports;
lf.Q0(D,K);var m=new Uint8Array(D.memory.buffer),Y=D.malloc(k);m.set(new Uint8Array(W),Y);var a=D.malloc(4),p=D.malloc(4),a1=D.malloc(4),M=D.stbi_load_from_memory(Y,k,a,p,a1,4);
D.free(Y);D.free(a,p,a1);D.free(M);var x=m.slice(M,M+l*4);return x};(function(){var W=lf.Nx.get("wasm/jpg").buffer;
if(window.WebAssembly==null)window.alert("Your browser is too old (no WebAssembly). Please, update it.");
WebAssembly.instantiate(W).then(function(q){lf.WJ.ai8=q})}());lf.WJ._M=function(W,q,X,k){if(k==null)k={qual:85,mtdt:!0};
var B=W[0],U=new Uint8Array(B[0]);if(g.VR(U)){var l=new Uint8Array(U.length);l.fill(255);var K=new dU(0,0,q,X);
g.v.HX("norm",U,K,l,K,K,1);U=l}var D=new Uint8Array(lf.Te(U.buffer,q,X,"jpeg",k.qual/100));if(D.length<2e4||B[5]){var m=Z.Ka(D,[255,226]);
if(m!=-1){var Y=Z.U_(D,m+2);D=lf.ar2(D,m,Y+2)}}if(B[5]!=null){var a=4+Z.U_(D,4),p=B[5].length+16,M=new Uint8Array(p+2);
M[0]=255;M[1]=226;Z.SX(M,2,p);Z.o3(M,4,"ICC_PROFILE");M[16]=M[17]=1;M.set(B[5],18);D=lf.afi(D,a,M)}if(B[2]!=null){var x=lf.WJ.SK(D)[224][0]+2;
x+=9;D[x]=1;Z.SX(D,x+1,B[2]);Z.SX(D,x+3,B[2])}if(B[3]!=null&&k.mtdt==!0&&Object.keys(B[3]).length!=0){var R=0,y=0,s=0,F=ei.zq(B[3]),E=new Uint8Array(UTIF.encode([F])),o="http://ns.adobe.com/xap/1.0/",a=20;
R=4+6+E.length;var G=ei.Bc(B[3]),d=Z.hP(G);y=4+o.length+1+d.length;var u=ei.at$(B[3]);if(u.length!=0){var r=0,V=0;
for(var N=0;N<u.length;N++)r+=5+u[N][1].length;var v=r+(r&1),c=g.j(14+4+4+4+v);Z.o3(c,V,"Photoshop 3.0");
V+=14;Z.o3(c,V,"8BIM");V+=4;c[V++]=4;c[V++]=4;V+=2;Z.Tj(c,V,r);V+=4;for(var N=0;N<u.length;N++){var j=u[N],Q=j[1];
c[V++]=28;c[V++]=2;c[V++]=j[0];Z.SX(c,V,Q.length);V+=2;Z.o3(c,V,Q);V+=Q.length}s=4+c.length}var H=R+y+s,T=new Uint8Array(D.length+H);
for(var N=0;N<20;N++)T[N]=D[N];for(var N=20;N<D.length;N++)T[N+H]=D[N];T[a]=255;T[a+1]=225;Z.SX(T,a+2,R-2);
Z.o3(T,a+4,"Exif");for(var N=0;N<E.length;N++)T[a+10+N]=E[N];a+=R;T[a]=255;T[a+1]=225;Z.SX(T,a+2,y-2);
Z.o3(T,a+4,o);for(var N=0;N<d.length;N++)T[a+4+o.length+1+N]=d[N];a+=y;if(s!=0){T[a]=255;T[a+1]=237;
Z.SX(T,a+2,s-2);for(var N=0;N<c.length;N++)T[a+4+N]=c[N];a+=s}D=T}return D.buffer};lf.WJ.SK=function(W){var q=0,X=[],k=W.length;
while(q<k){while(W[q]!=255&&q<k)q++;while(W[q]==255)q++;if(q==k)break;var B=W[q];q++;if(X[B]==null)X[B]=[];
X[B].push(q-2);if(B==216)continue;if(B==217)break;if(224<=B&&B<=239||B==218||B==219||B==192||B==193||B==194||B==196||B==221||B==254){var U=Z.U_(W,q);
q+=U;if(B==218)while(q<k&&(W[q]!=255||(W[q+1]==0||208<=W[q+1]&&W[q+1]<=215)))q++;continue}console.log("unknown marker ",B.toString(16),q);
break}if(X[217]==null){console.log("EOI marker missing");var l=W.length-2;W[l]=255;W[l+1]=217;X[217]=[l]}return X};
lf.WJ.aH8=function(W){W=new Uint8Array(W);if(W[0]!=255)return W.buffer;var q=lf.WJ.SK(W),X=lf.WJ.aJD(W,q);
if(X.numComponents!=4)return W.buffer;var k=X.width,B=X.height,U=lf.WJ.arK(W,q,!0);return lf.WJ._M([[U[0].data]],k,B,{qual:85})};
lf.WJ.aJD=function(W,q){var X=(q[192]?q[192]:q[193]?q[193]:q[194])[0]+4,k={};k.progressive=q[194]!=null;
k.precision=W[X];X++;k.height=Z.U_(W,X);X+=2;k.width=Z.U_(W,X);X+=2;k.numComponents=W[X];X++;if(q[224]){var B=k.jfif={};
X=q[224][0]+2+2+5+2;B.densityUnits=W[X];X++;B.xDensity=Z.U_(W,X);X+=2;B.yDensity=Z.U_(W,X);X+=2}if(q[238]){var B=k.adobe={};
X=q[238][0]+2+2+6;B.version=W[X];X++;B.flags0=Z.U_(W,X);X+=2;B.flags1=Z.U_(W,X);X+=2;B.transform=W[X];
X++}return k};lf.WJ.a6d=function(W,q,X){var k=q,B=Z.U_(W,k);k+=2;var U=Z.zD(W,k,4);if(U=="Exif"){k+=6;
var l=W.slice(k,k+B-8),K;try{K=UTIF.decode(l.buffer,{parseMN:!1,debug:!1})}catch(bu){}if(K&&K.length!=0)X.exif=K}else if(U=="http"){var D=0;
while(W[k+D]!=0)D++;var m=Z.zD(W,k,D);k+=D+1;if(m=="http://ns.adobe.com/xmp/extension/"){var Y=Z.zD(W,k,32);
k+=32;k+=8;var a=q+B-k;while(W[k+a-1]==0)a--;if(X.xmp_extn==null)X.xmp_extn="";try{X.xmp_extn+=Z._o(W,k,a)}catch(bu){}}else if(m=="http://ns.adobe.com/xap/1.0/"){var p=Z._o(W.slice(k,k+B-D-3));
if(p[0]=="?")p="<"+p;X.xmp=p}}else console.log(U)};lf.WJ.arK=function(W,q,X){var k=lf.WJ.aJD(W,q),B=k.width,U=k.height,l=B*U,K,o=72,G,u,r=null;
if(B*U*4>2e9&&window.chrome!=null){alert("A bug in Chromium doesn't allow us open such large images. Try it in Firefox!",2600);
return null}var D=-1;if(k.adobe)D=k.adobe.transform;if(X||B*U>1e7||D==0||D==2||k.progressive||window.WebAssembly==null){var m=new PDFJS.JpegImage;
m.parse(W);var Y=m.getData({width:B,height:U,forceRGB:!0,isSourcePDF:X}),K=g.j(l*4);for(var N=0;N<l;
N++){var a=N<<2,p=a-N;K[a]=Y[p];K[a+1]=Y[p+1];K[a+2]=Y[p+2];K[a+3]=255}}else{K=lf.WJ.a8B(W.buffer,k)}var M=q[225];
if(M)for(var N=0;N<M.length;N++)lf.WJ.a6d(W,M[N]+2,k);var x=q[226];if(x){for(var N=0;N<x.length;N++){var R=x[N],y=Z.U_(W,R+2),s=Z.zD(W,R+4,11);
if(k.icc==null&&s=="ICC_PROFILE"){var F=Z.WP(W,R+18);k.icc=W.slice(R+18,R+18+F)}}}var E=q[217][0]+2;
if(E!=W.length)k.suffix=W.slice(E);var d=[B,U,1,0,0,0,1,0];if(k.jfif&&k.jfif.densityUnits!=0){o=Math.round([72,1,2.54][k.jfif.densityUnits]*k.jfif.xDensity)}else if(k.exif&&k.exif[0].t282!=null){var v=k.exif[0].t282[0];
o=v[0]/v[1]}if(k.exif){var c=k.exif;G=ei.xZ(c[0]);var V=c[0].t274;if(V)V=V[0];if(V!=null&&V>1&&V<20)d=g.raw.aza(V,B,U)}if(k.xmp){G=ei.T7(k.xmp,G)}if(k.icc)u=k.icc;
var j=q[237],Q=[],H=[];if(j){var T=new Uint8Array(65536),e=0,R=0;for(var N=0;N<j.length;N++){R=j[N]+2;
var z=R+Z.U_(W,R);R+=2;var J=R;while(W[R]!=0)R++;R++;var P=Z.zD(W,J,R-J-1),L=z-R;if(L<0)break;while(e+L>T.length){var A=new Uint8Array(T.length*2);
A.set(T);T=A}var h=new Uint8Array(W.buffer,R,L);T.set(h,e);e+=L}R=0;W=T;while(R<e){var C=Z.zD(W,R,4);
R+=4;var w=Z.U_(W,R);R+=2;var f=W[R++],O=Z.zD(W,R,f);R+=f;if((f&1)==0)R++;var y=Z.WP(W,R);R+=4;var E=R+y+(y&1);
if(w==1028){while(R+4<E){var n=W[R++],$=W[R++],d9=W[R++],i=Z.U_(W,R);R+=2;if(n==28&&$==2)Q.push([d9,Z.zD(W,R,i)]);
R+=i}}else if(w==1032)r=dS.a8r(W,R);else if((w&2e3)==2e3){var dF=jz.rd(W,R,y);H.push([O,dF])}else{}R=E}if(Q.length!=0)G=ei.ayg(Q,G)}var t=[{oq:new dU(0,0,B,U),data:K.buffer,mC:o,qq:G,AO:u,Pz:H.length==0?null:H,UZ:r}],G=k.xmp_extn;
if(G){var im=new DOMParser,bc=im.parseFromString(G,"image/svg+xml"),bc=bc.children[0].children[0].children[0],at=[bc.getAttribute("GImage:Data"),bc.getAttribute("GDepth:Data")];
for(var N=0;N<at.length;N++)if(at[N]){var l9=atob(at[N]),fF=new Uint8Array(l9.length);Z.o3(fF,0,l9);
fF=fF.buffer;var g$=lf.pP(fF),fR=lf.c_(g$).Vp(fF);t.push(fR[0])}}if(k.suffix){var cr=k.suffix,eE=!1,bQ=Z.zD(cr,4,4),hT=Z.Ka(cr,[255,216,255]);
if(lf.auu(cr,[0,0,1,10,14,0,0,0])){if(eE)console.log("Samsung");var R=0;while(R!=cr.length){var df=Z.Sm(cr,R+2);
R+=4;var eV={2272:12,2320:21,2561:13,2625:21,2721:3,2608:0}[df];if(eV!=null){var gU=Z.P2(cr,R);R+=4;
var i8=Z.zD(cr,R,gU);R+=gU;var bv=Z.zD(cr,R,eV);R+=eV;if(df==2608){var fE=R,d5=Z.WP(cr,R+24);R+=d5+24;
var aR=Z.WP(cr,R);R+=aR;var l8=cr.slice(fE,R);lf.WJ.aeJ(l8)}}else if(df==18502){while(Z.zD(cr,R,4)!="SEFT")R+=4;
R+=4}else{break;console.log(Z.xa(cr,R,128));console.log(cr.slice(R));throw df.toString(16)}}}else if(bQ=="ftyp"){if(eE)console.log("MP4 Video");
lf.WJ.aeJ(cr)}else if(Z.zD(cr,0,4)=="fixe"){if(eE)console.log("fixe");alert("Unknown data - "+cr.length+" B - at the end of the file",3e3);
var R=4,y=Z.P2(cr,R);R+=4;var au=Z.P2(cr,R);R+=4;var hx=Z.P2(cr,R);R+=4;console.log(y,au,hx,cr.slice(R,R+84));
R+=84;var fw=Z.zD(cr,R,32);R+=32;R+=8;var fw=Z.zD(cr,R,32);R+=32}else if(Z.zD(cr,8,13)=="FocusShot_Map"){if(eE)console.log("FocusShot_Map");
var cx=Z.WP(cr,0),i=Z.P2(cr,4),fF=g.j(l*4),fg=g.j(l*4);for(var iI=0;iI<U;iI++)for(var eq=0;eq<B;eq++){var N=iI*B+eq,a=N<<2,fS=8+13+((iI>>>1)*B+eq>>>1),f1=cr[fS],c4=cr[fS+(l>>>2)];
fF[a]=fF[a+1]=fF[a+2]=f1;fF[a+3]=255;fg[a]=fg[a+1]=fg[a+2]=c4;fg[a+3]=255}t.push({oq:new dU(0,0,B,U),data:fF.buffer},{oq:new dU(0,0,B,U),data:fg.buffer})}else if(bQ=="edof"){if(eE)console.log("edof");
var V=cr[8+7];console.log(V.toString(16));var R=8+16,ea=Z.Sm(cr,R),ie=Z.Sm(cr,R+2),l=ea*ie;R+=4;R+=32+16;
var i$=g.j(l*4);for(var N=0;N<l;N++){var a=N<<2;i$[a]=i$[a+1]=i$[a+2]=cr[R+N];i$[a+3]=255}if(V==16){}else if(V==19){var cI=i$.slice(0);
g.F.Pj(i$,cI,ea,ie);var cD=ea;ea=ie;ie=cD;g.F.z9(cI,i$,ea,ie)}else throw"Unknown orientation of a depth map";
t.push({oq:new dU(0,0,ea,ie),data:i$.buffer})}else if(Z.zD(cr,0,64).indexOf("DualShot")!=-1){if(eE)console.log("DualShot");
var fG=Z.P2,cH=Z.zD,hL=Z.Sm,R=0;function ee(){var hP=fG(cr,R);if(fG(cr,R+4)!=0)throw"e";R+=8;return hP}var aj=Z.WP(cr,R);
R+=4;try{if(aj==45066){R=1226;var B=ee(),U=ee();R=3445}else if(aj==45322){var iA=fG(cr,R);R+=4;var fw=cH(cr,R,iA);
R+=iA;if(fw!="DualShot_DepthMap_1")throw fw;B=1008;U=756;if(t[0].oq.r==4080){B=1020;U=764}}else throw aj;
var eL=g.j(B*U*4);eL.fill(255);g.LO(cr.slice(R,R+B*U),eL);t.push({oq:new dU(0,0,B,U),data:eL.buffer})}catch(bu){console.log("error reading a depth map")}try{if(hT!=0)cr=cr.slice(hT);
t=t.concat(lf.c_("jpg").Vp(cr.buffer))}catch(bu){}}else if(hT!=-1&&!(cr[0]==255&&cr[1]==129)){if(eE)console.log("another JPG at",hT);
try{if(hT!=0)cr=cr.slice(hT);t=t.concat(lf.c_("jpg").Vp(cr.buffer))}catch(bu){}}else if(Z.zD(cr,0,4)=="PMPD"){if(eE)console.log("Xiaomi stuff");
var R=4,hZ=Z.P2(cr,12),bZ=Z.P2(cr,16),ea=Z.P2(cr,1060),ie=Z.P2(cr,1064),k_=ea>ie,kW=t[0].oq.r>t[0].oq.$,iU=cr.slice(cr.length-ea*ie-4),kO=g.j(ea*ie);
for(var iI=0;iI<ie;iI++)for(var eq=0;eq<ea;eq++)kO[iI*ea+eq]=iU[(ie-iI-1)*ea+eq];var eL=g.j(ea*ie*4);
eL.fill(255);g.LO(kO,eL);if(k_!=kW){var cI=eL.slice(0);g.F.Pj(eL,cI,ea,ie);var cD=ea;ea=ie;ie=cD;g.F.z9(cI,eL,ea,ie)}t.push({oq:new dU(0,0,ea,ie),data:eL.buffer})}else console.log(Z.zD(cr,0,4),cr)}if(t.length>1){var hq=t[0].oq,gi=!1,jZ=!0;
t[0].vk="Main";var e8=[!1];for(var N=1;N<t.length;N++){e8[N]=lf.WJ.agz(new Uint8Array(t[N].data));if(e8[N])gi=!0;
if(!t[N].oq.AB(t[0].oq))jZ=!1}if(!gi&&!jZ)t=t.slice(0,1);else for(var N=1;N<t.length;N++){t[N].vk=e8[N]?"Depth Map":null;
var cg=t[N].oq;if(!cg.AB(hq)){var hn=hq.r/cg.r,bF=hq.$/cg.$,gf=new ka;gf.scale(hn,bF);var eH=_.Gz.JJ([new Uint8Array(t[N].data),cg],1,g.F.af(gf));
t[N].oq=eH.S;t[N].data=eH.buffer}}}if(lf.WJ.Qy==1)if(d[2]!=1||d[6]!=1)for(var N=0;N<t.length;N++){var h5=t[N],gS=new Uint8Array(h5.data),B=h5.oq.r,U=h5.oq.$,ea=d[0],ie=d[1],K=g.j(ea*ie*4);
g.F.G4(gS,B,U,K,d);h5.oq=new dU(0,0,ea,ie);h5.data=K.buffer}return t};lf.WJ.aeJ=function(W){if(window.confirm("Photopea found a "+eb.qc(W.length)+" MP4 video inside your image. Would you like to save it?",4e3)){ch.save(W.slice(0).buffer,"video.mp4")}};
lf.WJ.agz=function(W){var q=!0;for(var N=0;N<W.length;N+=4){q=q&&W[N]==W[N+1]&&W[N+1]==W[N+2]}return q};
lf.WJ.Qy=0;lf.WJ.Vp=function(W,q,X){W=new Uint8Array(W);if(W[0]==255){var k=lf.WJ.SK(W);if(k[195]==null){lf.WJ.Qy++;
var B=lf.WJ.arK(W,k,!1);lf.WJ.Qy--;return B}var U=Z.U_(W,k[195][0]+5),l=Z.U_(W,k[195][0]+7),K=UTIF.LosslessJpegDecode(W),D=l*U,m=g.j(D*4);
for(var N=0;N<D;N++){var Y=N<<2,a=Y-N;m[Y]=K[a];m[Y+1]=K[a+1];m[Y+2]=K[a+2];m[Y+3]=255}return[{oq:new dU(0,0,l,U),data:m.buffer}]}else if(W[0]==0&&W[4]==48&&W[6]==1){var p=W,M=new PDFJS.Jbig2Image,x=[];
if(q)x.push({data:q,start:0,end:q.length});x.push({data:p,start:0,end:p.length});var K=M.parseChunks(x);
if(!X)for(var N=0;N<K.length;N++)K[N]=~K[N];var l=Z.WP(W,11),U=Z.WP(W,15),R=Math.ceil(l/8),y=g.j(l*U*4);
for(var s=0;s<U;s++){var F=s*R;for(var E=0;E<l;E++){var Y=(s*l+E)*4,o=K[F+(E>>>3)]>>>7-(E&7)&1,G=o*255;
y[Y]=G;y[Y+1]=G;y[Y+2]=G;y[Y+3]=255}}return[{oq:new dU(0,0,l,U),data:y.buffer}]}else{var M=new PDFJS.JpxImage;
M.parse(W);var l=M.width,U=M.height,d=M.tiles,u=M.componentsCount,r=new Uint8Array(l*U*4),v=new dU(0,0,l,U);
for(var M=0;M<d.length;M++){var c=d[M],V=c.width,j=c.height,Q=V*j,H=c.items,T=new dU(c.left,c.top,V,j),e=new Uint8Array(Q*4);
if(u==1)for(var N=0;N<Q;N++){var z=H[N],Y=N*4;e[Y]=z;e[Y+1]=z;e[Y+2]=z;e[Y+3]=255}else if(u==3)for(var N=0;
N<Q;N++){var a=N*3,Y=N*4;e[Y]=H[a];e[Y+1]=H[a+1];e[Y+2]=H[a+2];e[Y+3]=255}else if(u==4)e.set(H);else console.log("Unknown number of components: "+u);
g.YE(e,T,r,v)}return[{oq:v,data:r.buffer}]}};lf.Ro={};lf.Ro._M=function(W,q,X,k){if(k==null)k={qual:70,mtdt:!0,rept:0};
var B=k.qual/100,G=0;if(W.length==1){var U=new Uint8Array(lf.Te(W[0][0],q,X,"webp",B));if(lf.pP(U.buffer)!="webp"){alert("Your browser cannot export WEBP :(",3e3);
throw"e"}if(U.length<2e4){var l=eB.WZ(U.buffer),K=l.sub;for(var N=0;N<K.length;N++)if(K[N].I8=="ICCP"){var D=K[N];
U=lf.ar2(U,D.h-8,D.size+8);Z.Tk(U,4,l.size-(D.size+8));break}}if(k.mtdt&&W[0][3]){var m=W[0][3],Y=new Uint8Array(UTIF.encode([ei.zq(m)])),a=Y,p=Z.hP(ei.Bc(m)),M=8+a.length;
M+=M&1;var x=8+p.length;x+=x&1;var R=new Uint8Array(M+x);Z.o3(R,0,"EXIF");Z.Tk(R,4,a.length);R.set(a,8);
Z.o3(R,M,"XMP ");Z.Tk(R,M+4,p.length);R.set(p,M+8);var y=new Uint8Array(U.length+R.length),l=eB.WZ(U.buffer),K=l.sub;
y.set(U,0);y.set(R,U.length);Z.Tk(y,4,Z.P2(y,4)+R.length);U=y;var s=eB.WZ(U.buffer)}return U.buffer}var F=Z.Me,E=Z.au,o=new dl;
F(o,G,"RIFF    WEBPVP8X");G+=16;E(o,G,10);G+=4;E(o,G,18);G+=4;E(o,G,q-1);G+=3;E(o,G,X-1);G+=3;F(o,G,"ANIM");
G+=4;E(o,G,6);G+=4;o.Td(G,4);o.data[G+3]=255;Z.Hk(o,G+4,k.rept);G+=6;var d=[];for(var N=0;N<W.length;
N++){d.push(W[N][0])}var u=UPNG.encode.compress(d,q,X,B==1?0:Math.max(2,Math.floor(B*500)),[!1,!0,!0,0,!0]).frames;
function r(l,L,A,h){var T=l.h-8,e=l.size+8;A.Td(h,e);for(var N=0;N<e;N++)A.data[h+N]=L[T+N];return h+e}for(var N=0;
N<W.length;N++){F(o,G,"ANMF");G+=4;var v=G,T=0,e=0;G+=4;var c=u[N],V=c.rect,j=[V.x>>>1,V.y>>>1,V.width-1,V.height-1,W[N][1]];
for(var Q=0;Q<5;Q++)E(o,G+3*Q,j[Q]);G+=15;o.Td(G,1);o.data[G]=1-c.blend<<1|c.dispose;G++;var H=new Uint8Array(lf.Te(c.img.buffer,V.width,V.height,"webp",1)),K=eB.WZ(H.buffer).sub,z={};
for(var J=0;J<K.length;J++)z[K[J].I8]=K[J];if(z.VP8L)G=r(z.VP8L,H,o,G);else throw"e";var P=G-v-4;E(o,v,P);
if((P&1)==1){o.Td(G,1);G++}}E(o,4,G-8);return o.data.slice(0,G).buffer};(function(){var W=lf.Nx.get("wasm/webp").buffer;
WebAssembly.instantiate(W).then(function(q){var X=q.instance.exports;lf.Ro.exp=X})}());lf.Ro.Vp=function(W){var q=new Uint8Array(W),X=lf.Ro.aqU,k=null,B=eB.WZ(W).sub,U={},l=null;
for(var N=0;N<B.length;N++)U[B[N].I8]=B[N];if(U.EXIF){var K=U.EXIF,D=K.h,m=D+K.size;if(q[K.h]==69)D+=6;
var Y=W.slice(D,m),K=UTIF.decode(Y)[0];console.log(K);if(K)l=ei.xZ(K);console.log(l)}var K=U["XMP\0"];
if(K==null)K=U["XMP "];if(K){var Y=new Uint8Array(W,K.h,K.size);if(l==null)l={};l=ei.T7(Z._o(Y),l)}var a=U.ANIM,p=U.VP8L,M=U["VP8 "],x=U.VP8X;
if(a==null){var R,y;if(M){R=Z.Sm(q,M.h+6);y=Z.Sm(q,M.h+8)}else if(p){var s=Z.P2(q,p.h+1);R=(s&(1<<14)-1)+1;
y=(s>>>14&(1<<14)-1)+1}else throw"e";var F=X(k,W,{h:0,size:q.length},R,y);F.qq=l;return[F]}var E=x.h,R=1+(Z.P2(q,E+4)&16777215),y=1+(Z.P2(q,E+7)&16777215),o=[],G=new dU(0,0,R,y),d=g.j(R*y*4);
for(var N=0;N<B.length;N++){var u=B[N];if(u.I8!="ANMF")continue;var r=[];for(var v=0;v<5;v++)r.push(Z.P2(q,u.h+v*3)&16777215);
var c=new dU(r[0]*2,r[1]*2,r[2]+1,r[3]+1),V=r[4],j=X(k,W,{h:u.h+16,size:u.size-16},R,y),Q=new Uint8Array(j.data),H=q[u.h+15];
if(H>>>1==0)g.v.HX("norm",Q,c,d,G,c,1);else g.YE(Q,c,d,G);o.push({vk:"_a_"+o.length+","+V,oq:G.P(),data:d.buffer.slice(0)});
if((H&1)==1){Q.fill(0);g.YE(Q,c,d,G)}}return o};lf.Ro.aqU=function(W,q,X,k,B){var U=lf.Ro.exp,l=U.memory,K=5e6+2*X.size+k*B*10;
lf.Q0(U,K);var D=new Uint8Array(l.buffer),m=U.malloc(X.size);D.set(new Uint8Array(q,X.h,X.size),m);var Y=U.malloc(8),a=U.WebPDecodeARGB(m,X.size,Y,Y+4),p=Z.P2(D,Y),M=Z.P2(D,Y+4),x=p*M*4,R=g.j(x);
for(var N=0;N<x;N+=4){R[N]=D[a+N+1];R[N+1]=D[a+N+2];R[N+2]=D[a+N+3];R[N+3]=D[a+N]}U.WebPFree(a);U.free(Y);
U.free(m);return{oq:new dU(0,0,p,M),data:R.buffer}};lf.arg=function(){function W(K,D,m,Y){var a=new Uint8Array(K[0][0]),p=new Uint32Array(a.buffer),M=[],x={},y=24,s=0,d=0;
for(var N=0;N<p.length;N++){var R=p[N]&16777215;if(x[R]==null){x[R]=M.length;M.push(R);if(M.length>256){M=null;
break}}}if(Y&&Y.nplt)M=null;if(M){y=1;while(1<<y<M.length)y*=2;if(y==2)y=4}var F={Ah:D,QB:m,eI:1,OT:y,C5:0,aBU:s},E=4*Math.floor((F.OT*F.Ah+31)/32);
F.size=E*F.QB+2;var o=new dl,G=M?(1<<y)*4:0;Z.Me(o,d,"BM");d+=2;Z.au(o,d,E*m+16+40+G);d+=4;Z.au(o,d,0);
d+=4;Z.au(o,d,54+G);d+=4;o.Td(d,40);Z.au(o,d,40);d+=4;l(o.data,d,F,E);d+=36;if(M){o.Td(d,G);var u=o.data;
for(var N=0;N<M.length;N++){var r=d+N*4,v=M[N]>>>16,c=M[N]>>>8&255,j=M[N]&255;u[r]=v;u[r+1]=c;u[r+2]=j}d+=G}o.Td(d,E*m);
if(y==24)for(var Q=0;Q<m;Q++){var H=d+(m-1-Q)*E;for(var T=0;T<D;T++){var e=(Q*D+T)*4;o.data[H+T*3+2]=a[e];
o.data[H+T*3+1]=a[e+1];o.data[H+T*3+0]=a[e+2]}}else if(y==8)for(var Q=0;Q<m;Q++){var H=d+(m-1-Q)*E;for(var T=0;
T<D;T++){var e=Q*D+T,z=x[p[e]&16777215];o.data[H+T]|=z}}else if(y==4)for(var Q=0;Q<m;Q++){var H=d+(m-1-Q)*E;
for(var T=0;T<D;T++){var e=Q*D+T,z=x[p[e]&16777215];o.data[H+(T>>>1)]|=z<<4-(T&1)*4}}else if(y==1)for(var Q=0;
Q<m;Q++){var H=d+(m-1-Q)*E;for(var T=0;T<D;T++){var e=Q*D+T,z=x[p[e]&16777215];o.data[H+(T>>>3)]|=z<<7-(T&7)}}d+=E*m+2;
return o.data.slice(0,d).buffer}function q(K){K=new Uint8Array(K);if(Z.P2(K,0)==40)return[X(K.buffer,0)];
var D=0,m=Z.zD(K,D,2);D+=2;if(m!="BM"){alert("Unsupported BMP format: "+m);return}var Y=Z.P2(K,D);D+=4;
D+=4;var a=Z.P2(K,D);D+=4;return[X(K.buffer,D,a)]}function X(K,D,m){K=new Uint8Array(K);var Y=Z.P2(K,D),a=U(K,D+4);
if(a.eI!=1)alert("unsupported number of color planes: "+a.eI);if(a.C5!=0&&a.C5!=1&&a.C5!=2&&a.C5!=3){alert("Unsupported BMP compression: "+a.C5);
return}D+=Y;var p=D,M=K;if(m==null)m=D;if(a.C5==1||a.C5==2){var x=B(K,m,a);a.OT=8;K=x;m=0}var R=4*Math.floor((a.OT*a.Ah+31)/32),y=a.Ah,s=Math.abs(a.QB),F=new Uint8Array(y*s*4);
F.fill(255);if(a.OT==32)for(var E=0;E<s;E++){var o=m+(s-1-E)*R;for(var G=0;G<y;G++){var d=(E*y+G)*4;
F[d]=K[o+G*4+2];F[d+1]=K[o+G*4+1];F[d+2]=K[o+G*4+0];F[d+3]=K[o+G*4+3]}}else if(a.OT==24)for(var E=0;
E<s;E++){var o=m+(s-1-E)*R;for(var G=0;G<y;G++){var d=(E*y+G)*4;F[d]=K[o+G*3+2];F[d+1]=K[o+G*3+1];F[d+2]=K[o+G*3+0]}}else if(a.OT==16)for(var E=0;
E<s;E++){var o=m+(s-1-E)*R;for(var G=0;G<y;G++){var d=(E*y+G)*4,u=K[o+G*2+1]<<8|K[o+G*2];if(m==D){F[d]=(u>>>10&31)*(255/31);
F[d+1]=(u>>>5&31)*(255/31);F[d+2]=(u&31)*(255/31)}else{F[d]=(u>>>11)*(255/31);F[d+1]=(u>>>5&63)*(255/63);
F[d+2]=(u&31)*(255/31)}}}else if(a.OT==8)for(var E=0;E<s;E++){var o=m+(s-1-E)*R;for(var G=0;G<y;G++){var d=(E*y+G)*4,r=K[o+G];
F[d]=M[p+4*r+2];F[d+1]=M[p+4*r+1];F[d+2]=M[p+4*r+0]}}else if(a.OT==4)for(var E=0;E<s;E++){var o=m+(s-1-E)*R;
for(var G=0;G<y;G++){var d=(E*y+G)*4,r=K[o+(G>>1)];r=r>>4-4*(G&1);r=r&15;F[d]=M[p+4*r+2];F[d+1]=M[p+4*r+1];
F[d+2]=M[p+4*r+0]}}else if(a.OT==1)for(var E=0;E<s;E++){var o=m+(s-1-E)*R;for(var G=0;G<y;G++){var d=(E*y+G)*4,v=K[o+(G>>3)];
v=v>>7-(G&7);v=v&1;F[d]=M[p+4*v+2];F[d+1]=M[p+4*v+1];F[d+2]=M[p+4*v+0]}}else throw"Unknown bit depth "+a.OT;
if(a.QB<0){var c=new Uint32Array(F.buffer),V=s>>>1;for(var E=0;E<V;E++){var j=E*y,Q=(s-E-1)*y;for(var G=0;
G<y;G++){var H=c[j+G];c[j+G]=c[Q+G];c[Q+G]=H}}}return{oq:new dU(0,0,y,s),data:F.buffer}}function k(K,N){return K>>>4-((N&1)<<2)&15}function B(K,D,m){var Y=m.Ah,a=Math.abs(m.QB),p=new Uint8Array(Y*a),M=0,x=0,N=0;
while(x<a){var R=K[D++],y=K[D++],s=x*Y+M;if(R>0){if(m.OT==4)for(N=0;N<R;N++){p[s+N]=k(y,N)}else for(N=0;
N<R;N++){p[s+N]=y}M+=R}else if(R==0&&y==0){x++;M=0}else if(R==0&&y==1){break}else if(R==0&&y==2){M+=K[D++];
x+=K[D++]}else{var F=y;if(m.OT==4){for(N=0;N<y;N++){p[s+N]=k(K[D+(N>>>1)],N)}F=Math.ceil(y/2)}else{for(N=0;
N<y;N++){p[s+N]=K[D+N]}}if((F&1)!=0)F++;D+=F;M+=y}}return p}function U(K,D){var m=Z.qX,Y=Z.P2,a=Z.Sm,p={};
p.Ah=m(K,D);D+=4;p.QB=m(K,D);D+=4;p.eI=a(K,D);D+=2;p.OT=a(K,D);D+=2;p.C5=Y(K,D);D+=4;p.size=Y(K,D);D+=4;
var M=m(K,D);D+=4;var x=m(K,D);D+=4;p.aBU=Y(K,D);D+=4;D+=4;return p}function l(K,D,m,Y){Z.Tk(K,D,m.Ah);
D+=4;Z.Tk(K,D,m.QB);D+=4;Z.fZ(K,D,m.eI);D+=2;Z.fZ(K,D,m.OT);D+=2;Z.Tk(K,D,m.C5);D+=4;Z.Tk(K,D,m.size);
D+=4;Z.Tk(K,D,2834);D+=4;Z.Tk(K,D,2834);D+=4;Z.Tk(K,D,m.aBU);D+=4;D+=4}return{Vp:q,_M:W,aev:X}}();lf.Bf={};
lf.Bf._M=function(W,q,X,k){if(k==null)k={qual:100,dthr:!1};var B=[],U=[],l=q*X*4,R=null;for(var K=0;
K<W.length;K++){var D=new Uint8Array(W[K][0].slice(0));for(var N=0;N<l;N+=4){var m=D[N+3]=D[N+3]>127?255:0;
if(m==0)D[N]=D[N+1]=D[N+2]=0}B.push(D.buffer);U.push(W[K][1])}var Y=Math.round(2+254*k.qual/100),a=UPNG.encode.compress(B,q,X,Y,[!0,!1,!1,8,!1,k.dthr]),p=a.plte,M=new Uint8Array(4),x=new Uint32Array(M.buffer);
for(var N=0;N<p.length;N++){x[0]=p[N];var y=M[0];M[0]=M[2];M[2]=y;p[N]=x[0];if(x[0]==0&&R==null)R=N}while(p.length<256)p.push(0);
var s=new Uint8Array(2e4+Math.round(1.5*q*X*W.length)),F=k.rept,E={palette:p};if(F!=1)E.loop=F==0?0:F-1;
var o=new GifWriter(s,q,X,E);for(var N=0;N<W.length;N++){var G=a.frames[N],d=G.rect,u=G.blend,r=G.dispose,v=Math.round(U[N]/10);
if(v<2)v=2;o.addFrame(d.x,d.y,d.width,d.height,G.img,{transparent:R,disposal:r+1,delay:v})}return s.slice(0,o.end()).buffer};
lf.Bf.Vp=function(W){var q=Date.now(),X=[],k=UGIF.decode(W),B=UGIF.toRGBA8(k),U=new dU(0,0,k.width,k.height);
for(var N=0;N<B.length;N++){var l=k.frames[N];X.push({oq:U.P(),vk:"_a_frm"+N+","+l.delay*10,data:B[N]})}return X};
lf.yE={};lf.yE._M=function(W,q,X,k){if(q>256||X>256){alert("Maximum ICO size is 256x256 px. Will be cropped.",4e3);
var B=Math.min(q,256),U=Math.min(X,256),l=new dU(0,0,B,U),K=g.j(l.C()*4),D=new dU(0,0,q,X),m=new Uint8Array(W[0][0]);
g.YE(m,D,K,l);W[0][0]=K.buffer;q=B;X=U}var Y=new Uint8Array(W[0][0]).slice(0),p=0;Y[3]=Math.min(Y[3],254);
var a=new dl,M=k&&k[0]==!0;Z.Hk(a,p,0);p+=2;Z.Hk(a,p,M?2:1);p+=2;Z.Hk(a,p,1);p+=2;var x=new Uint8Array(UPNG.encode([Y.buffer],q,X,null,null,null,!0));
a.Td(p,16);a.data[p]=q==256?0:q;p++;a.data[p]=X==256?0:X;p++;p+=2;Z.Hk(a,p,M?Math.round(q/2):1);p+=2;
Z.Hk(a,p,M?Math.round(X/2):32);p+=2;Z.au(a,p,x.length);p+=4;Z.au(a,p,6+16);p+=4;a.Td(p,x.length);a.data.set(x,p);
p+=x.length;return a.data.slice(0,p).buffer};lf.yE.Vp=function(W){W=new Uint8Array(W);var q=4,X=Z.Sm(W,q);
q+=2;var k=[];for(var N=0;N<X;N++){var B=lf.yE.auc(W,q+N*16),U=W.buffer.slice(B.offset,B.offset+B.size),l=lf.pP(U);
l=l?l:"bmp";if(l=="png"){var K=lf.c_(l),D=K.Vp(U);B.jq=D[0]}else{var m=lf.c_("BMP").aev(U,0),U=g.j(B.Ah*B.QB*4);
g.YE(new Uint8Array(m.data),new dU(0,0,m.oq.r,m.oq.$),U,new dU(0,B.QB,B.Ah,B.QB));m.data=U.buffer;m.oq.$=B.QB;
B.jq=m}k.push(B)}k.sort(function(Y,a){if(Y.Ah!=a.Ah)return Y.Ah-a.Ah;return Y.ac6-a.ac6});return[k.pop().jq]};
lf.yE.auc=function(W,q){var X={};X.Ah=W[q];q++;if(X.Ah==0)X.Ah=256;X.QB=W[q];q++;if(X.QB==0)X.QB=256;
X.aqw=W[q];q++;q++;X.aty=Z.Sm(W,q);q+=2;X.ac6=Z.Sm(W,q);q+=2;X.size=Z.P2(W,q);q+=4;X.offset=Z.P2(W,q);
q+=4;return X};lf.B5={};lf.B5.anU=function(W){var q,X="dng";if(W[0].t33421)q=W[0];else if(W[0].subIFD&&W[0].t271&&W[0].t271[0]=="Hasselblad"){X="fff";
q=W[0].subIFD[0];q.t33421=[2,2]}else if(W[0].subIFD&&W[0].subIFD[0].t33421){q=W[0].subIFD[0];if(q.t50706==null){if(q.t258[0]==8)q.t258[0]=12}X=q.t50713||q.t50717?"dng":"arw"}else if(W[0].subIFD&&W[0].subIFD[0]&&W[0].subIFD[0].t262&&W[0].subIFD[0].t262[0]==34892)q=W[0].subIFD[0];
else if(W[0].t50706)q=W[0];else if(W[0].subIFD&&W[0].subIFD[1]&&W[0].subIFD[1].t33421){X="nef";q=W[0].subIFD[1]}else if(W[0].subIFD&&W[0].subIFD[2]&&W[0].subIFD[2].t33421){X="nef";
q=W[0].subIFD[2]}else if(W[3]&&W[3].t50648){X="cr2";var k=W[0].exifIFD,B=k.makerNote;q=W[3];var U=B.t224[1],l=B.t224[2];
q.t256=[U];q.t257=[l];q.t258=[16];q.t259=[7];q.t262=[32803];q.t277=[1];q.t33421=[2,2];var K=q.t50656[0],D=g.raw.jH[K];
if(D==null)throw"e";q.t33422=D}else if(W[0].t1&&W[0].t1.length==4){X="rw2";var m=W[0],Y={2:256,3:257,8:277,11:259,271:271,272:272,279:279,280:273,278:278,273:273,278:278},a=m.t280==null;
q={};for(var p in Y)if(m["t"+p])q["t"+Y[p]]=m["t"+p];q.t2=m.t2;q.t3=m.t3;q.t10=m.t10;q.t45=m.t45;q.t258=[16];
q.t33421=[2,2];var M=m.t9[0];if(a)M=2;q.t33422=[[0,1,1,2],[1,0,2,1],[1,2,0,1],[2,1,1,0]][M-1];var x=m.t4[0],R=m.t5[0],y=m.t6[0],s=m.t7[0];
q.t50829=[x,R,y,s];var F=m.t36[0],E=m.t37[0],o=m.t38[0];q.t50728=[E/F,E/E,E/o]}else if(W[0].t258&&W[0].t258[0]>=12&&W[0].t258.length==1&&W[0].t271&&(W[0].t271[0].startsWith("OLYMPUS")||W[0].t271[0].startsWith("OM Digital Solutions"))){X="orf";
q=W[0];q.t33421=[2,2]}return[q,q?X:null]};lf.B5.Vp=function(W){var q=Date.now();if(g.raw.tP(W.byteLength))return[g.raw.a2_(W)];
var X=UTIF.decode(W);console.log(X.slice(0));console.log(X[0]);var k=lf.B5.anU(X),B=k[0];if(B){UTIF.decodeImage(W,B,X);
for(var U in X[0])if((U[0]=="t"||U[0]=="e"||U[0]=="d")&&B[U]==null)B[U]=X[0][U];B.cC=X[0].t274?X[0].t274[0]:1;
return[B]}var l=[];for(var N=0;N<X.length;N++){var K=X[N],D=null,R=72,d,u=8;UTIF.decodeImage(W,K,X);
if(K.width==null)continue;if(K.t258&&K.t258[0]==16&&K.t277&&K.t277[0]==1){var m=0,Y=0,a=0,p=K.data;for(var M=0;
M<p.length;M+=2){var x=p[M+1]<<8|p[M];if(x>m)m=x;Y+=x;a++}D=1/256*65535/(.5*m+.5*(2*Y/a))}var y=K.t282,s=K.t296,F=ei.xZ(K),E=K.t258,o=K.width,G=K.height;
if(y!=null&&s!=null){R=y[0][0]/y[0][1];if(s[0]==3)R=Math.round(R/2.54)}if(h2&&E[0]==16){d=lf.aL9(K.data.buffer,o,G);
u=16}else d=UTIF.toRGBA8(K,D).buffer;l.push({oq:new dU(0,0,o,G),data:d,mC:R,qq:F,AO:K.t34675?K.t34675.slice(0):null,depth:u})}return l};
lf.B5._M=function(W,q,X,k){if(k==null)k={mtdt:!0};var B={},U=W[0].slice(0),l=new Uint8Array(U[0]);if(!g.VR(l)&&U[4]&&U[4][0]){l=l.slice(0);
g.fP(U[4][0],l,3)}if(U[3]!=null&&k.mtdt)B=ei.zq(U[3]);if(U[2]!=null){B.t282=B.t283=[[Math.round(U[2]),1]];
B.t296=[2]}return UTIF.encodeImage(l.buffer,q,X,B)};lf.PS={};lf.PS.MM=!0;lf.PS.Vp=function(W,q){var X=Z.Ka(new Uint8Array(W),"Alpha 1"),k=UTIF.decode(W),B=k[0],M=0;
console.log(k);var U=q.r=B.t256[0],l=q.$=B.t257[0],K=U*l;q.buffer=g.j(K*4);q.je=!1;q.JI=B.t258[0];q.yn=3;
var D=B.t34377;if(D){var m=new Uint8Array(D.length+4);m.set(D,4);Z.Tj(m,0,D.length);kg.a6p(q,m,0);kg.aFL(q)}var Y=B.t37724.slice(36),a=Z.zD(Y,0,4)=="MIB8";
aK.Rb(Y,0,Y.length,q.add,!1,q,a);var p=a?Z.P2:Z.WP;while(M<Y.length){var x=Z.LS(Y,M,a);M+=4;var R=Z.LS(Y,M,a);
M+=4;var y=p(Y,M);M+=4;if(R=="Layr"){dS.AH(q,Y,M,a);for(var N=0;N<q.U.length;N++){var s=q.U[N];if(s.add.vstk)s.Ae(q)}}M+=y;
if((y&3)!=0)M+=4-(y&3)}var F=B.t277[0],E=new Uint8Array(W,B.t273[0]);for(var N=3;N<F;N++){var o=g.j(K);
for(var G=0;G<K;G++)o[G]=E[G*F+N];var d=new b.pj;q.RH.push(d);d.name=q.Oe?q.Oe[N-3]:"Alpha";d.c=o;d.S=new dU(0,0,U,l)}};
lf.axj={};lf.axj.Vp=function(W){W=new Uint8Array(W);var q=8,X,k=0;while(q<W.length){var B=Z.zD(W,q,4),U=Z.WP(W,q+4);
if(B.startsWith("ic")){var l=W.slice(q+8,q+U),K=lf.pP(l.buffer),D=lf.c_(K),m=D.Vp(l.buffer),Y=m[0].oq.C();
if(Y>k){k=Y;X=m}}q+=U}return X};lf.mH={};lf.mH.MM=!0;lf.mH.Vp=function(W,q){dS.WZ(W,q)};lf.mH.aoC=function(W,q,X,k){if(k==null)k=[!1,!1,!1,!1,!1];
if(!k[0])W.OL();var B=new dl,U=dS.FN(W,B,k);return[B.data.buffer,U]};lf.mH._M=function(W,q,X,k){var B=lf.mH.aoC(W,q,X,k),U=B[0],l=B[1];
return U.byteLength==l?U:U.slice(0,l)};lf.sE={};lf.sE.MM=!0;lf.sE.Vp=function(W,q){var X=pako.inflate(new Uint8Array(W)),k=Z.U_(X,0),B=Z.U_(X,2),U=4;
q.r=Z.WP(X,U);U+=4;q.$=Z.WP(X,U);U+=4;q.buffer=g.j(q.r*q.$*4);var l=Z.U_(X,U);U+=2;U+=4;for(var K=0;
K<l;K++){var D=q.Sh(),x=0,e=1,z=2,J=3,P=0;q.U.push(D);var m=Z.WP(X,U);U+=4;var Y=U,a=Z.U_(X,Y);Y+=2;
var p=Z._o(X,Y,a);Y+=a;D.YY(p);var M=X[Y];Y++;if(M!=0&&M!=1)throw M;D.S.x=Z.WU(X,Y);Y+=4;D.S.y=Z.WU(X,Y);
Y+=4;D.S.r=Z.WP(X,Y);Y+=4;D.S.$=Z.WP(X,Y);Y+=4;if(k>3){x=Z.WU(X,Y);Y+=4}D.zO=Math.round(255*X[Y]/100);
Y++;var R=X[Y];Y++;D.ZR(R!=0);D.JY="norm,lddg,norm,dark,diff,norm,hLit,norm,norm,lite,mul ,over,scrn,fsub".split(",")[X[Y]];
Y++;var y=X[Y];Y++;if(y)D.add.lspf=1<<31;if(k>3){var s=Z.U_(X,Y);Y+=2;if(s!=0){var F=JSON.parse(Z._o(X,Y,s));
Y+=s;var E=F.text,o=F.textSettings,G=o.font,d=o.size,u=o.padding,r=parseInt(o.color.slice(1),16);D.add.lnsr="rend";
D.add.TySh=gZ.nG(0,0);D.add.TySh.oJ=new dU(0,0,100,100);var v=D.add.TySh.M=new ka,c=D.S.r/2,V=D.S.$/2;
v.translate(-c,-V);v.rotate(-x*Math.PI/180);v.translate(c,V);v.translate(D.S.x+u,D.S.y+u);var j=D.add.TySh.FZ;
gZ.XM(j,1);gZ.eR(j,[0,0,D.S.r-u*2,D.S.$]);gZ.L3(j,0,E);var Q=gZ.J0(j,0,1);Q.n6.FontSize=d;Q.n6.FillColor={Type:1,Values:[1,(r>>>16&255)/255,(r>>>8&255)/255,(r>>>0&255)/255]};
if(o.bold)G+="-Bold";gZ.j_(Q,G);Q.D8.Justification=["left","right","center"].indexOf(o.align);gZ.oM(j,0,E.length,Q)}}var H=Z.WP(X,Y);
Y+=4;if(H!=D.S.C()*4){for(var N=D.S.r;N>D.S.r/2;N--){var T=H/(N*4);if(T==Math.round(T)){D.S.r=N;D.S.$=T;
break}}}D.buffer=g.j(D.S.C()*4);if(k>3){e=0;z=1;J=2;P=3}for(var N=0;N<H;N+=4){D.buffer[N]=X[Y+N+e];D.buffer[N+1]=X[Y+N+z];
D.buffer[N+2]=X[Y+N+J];D.buffer[N+3]=X[Y+N+P]}Y+=H;var L=Z.WP(X,Y);Y+=4;if(L==0&&k>3){U+=m;continue}var A=X[Y];
Y++;var h=Z.U_(X,Y);Y+=2;if(L!=0){D.BD=new b.pj;D.BD.S=D.S.P();D.BD.c=g.j(D.S.C());for(var N=0;N<L;N+=4)D.BD.c[N>>>2]=X[Y+N+1];
Y+=L}if(A!=0){var C=JSON.parse(kE.default);D.add.lmfx=C;for(var N=0;N<kE.order.length;N++)C[kE.m1[N]]={t:"VlLs",v:[]};
var w={"102":9,"101":2,"103":0,"104":3,"105":8};for(var N=0;N<A;N++){var f=Z.U_(X,Y),O=Y+f+4,n=X.slice(Y,O),$=X[Y+2];
Y+=3;var d9=w[$+""],i=JSON.parse(kE.iv[d9]);C[kE.m1[d9]].v.push({t:"Objc",v:i});if(d9!=0){i.Md.v.BlnM=jm.yq("norm");
i.Opct.v.val=X[Y];Y++;if(d9==9||d9==2){i.Dstn.v.val=X[Y+1];Y+=2}else Y+=2;i.blur.v.val=Math.round(X[Y]*1.2);
Y++;if(d9==9||d9==2){i.uglg.v=!1;i.lagl.v.val=180-Z.U_(X,Y);Y+=2}i.Clr.v=g.ov.E2({o:X[Y+1],L:X[Y+2],X:X[Y+3]})}else{i.hglM.v.BlnM=i.sdwM.v.BlnM=jm.yq("norm");
Y+=2;var t=X[Y++],im=X[Y++];i.blur.v.val=Math.round(Math.sqrt(im*t)*1.3);i.srgR.v.val=Math.round(100*t/im);
i.uglg.v=!1;i.lagl.v.val=180-Z.U_(X,Y);Y+=2;i.hglO.v.val=X[Y++];i.hglC.v=g.ov.E2({o:X[Y+1],L:X[Y+2],X:X[Y+3]});
Y+=4;i.sdwO.v.val=X[Y++];i.sdwC.v=g.ov.E2({o:X[Y+1],L:X[Y+2],X:X[Y+3]});Y+=4}Y=O}}if(Y-U<m){var bc=Z.WP(X,Y),fF=0;
Y+=4;Y++;var a=Z.U_(X,Y);Y+=2;var E=Z._o(X,Y,a);Y+=a;E=E.replace(/\r/g,"\n");var a=Z.U_(X,Y);Y+=2;var G=Z._o(X,Y,a);
Y+=a;var d=Z.U_(X,Y);Y+=2;var at=D.S.x,l9=D.S.r;if(bc&4)fF=1;if(bc&2)fF=2;var g$=Math.round(d*.4);if(fF==0||fF==2)l9+=g$;
if(fF==1||fF==2){l9+=g$;at-=g$}D.add.lnsr="rend";D.add.TySh=gZ.nG(0,0);D.add.TySh.oJ=new dU(0,0,100,100);
D.add.TySh.M=new ka(1,0,0,1,at,D.S.y+d*.25);var j=D.add.TySh.FZ;gZ.XM(j,1);gZ.eR(j,[0,0,l9,D.S.$]);gZ.L3(j,0,E);
var Q=gZ.J0(j,0,1);Q.n6.FontSize=d;Q.n6.FillColor={Type:1,Values:[1,X[Y+1]/255,X[Y+2]/255,X[Y+3]/255]};
Y+=4;if(X[Y+5])G+="-Bold";if(X[Y+6])G+="-Italic";gZ.j_(Q,G);Q.D8.Justification=fF;Y+=8;gZ.oM(j,0,E.length,Q)}U+=m}};
lf.f3={};lf.f3.MM=!0;lf.f3.Vp=function(W,q){var X=UZIP.parse(W),k=JSON.parse(Z._o(X["manifest.json"].buffer));
q.r=k.width;q.$=k.height;q.buffer=g.j(q.r*q.$*4);q.name=k.name+".psd";var B=k.stack;for(var U=0;U<B.length;
U++){var l=B[U],K=l.type,D=l.rect,m=l.format,Y=m?m.fill:null,a=q.Sh();a.YY(l.name);a.ZR(l.visible);a.zO=Math.round(255*l.opacity);
var p=a.S=new dU(D.x,D.y,D.w,D.h),M=D.r;if(M==null)M=0;q.U.push(a);if(K=="image"&&M!=0||K=="shape"&&m.variant=="svg"){var x=q.ow(X[l.content],a.getName(),0,0);
x.Z9=a.Z9;x.zO=a.zO;a=x;q.U.pop();q.U.push(a);var R=g.b.Lw(p).n;g.b.M(R,lf.f3.n8(p,M),R);a.add.SoLd.Trnf=_.Gz.If(R);
a.add.SoLd.nonAffineTransform=_.Gz.If(R);a.uz(q,!1)}else if(K=="image"){if(p.C()!=0){var y=X[l.content].buffer,s=lf.pP(y),F=lf.c_(s),E=F.Vp(y)[0];
p.r=E.oq.r;p.$=E.oq.$;a.buffer=new Uint8Array(E.data)}}else if(K=="shape"){a.Z9|=16;var o=a.add.vstk=kE.Cs.wy(!0),G=a.add.vmsk=new b.jY,d,u=m.variant;
if(u=="rectangle"||u=="rounded"){d=g.z.oz.Rect(p.x,p.y,p.r,p.$,m.radii)}else if(u=="ellipse"){d=g.z.oz.am(p.x,p.y,p.r,p.$)}else if(u=="path"){var r=Typr.U.SVGToPath(l.content),v={zb:r.cmds,n:r.crds};
d=g.b.gH(v);var c=g.z.Sa(d);g.z.Y9(d,new ka(p.r/c.r,0,0,p.$/c.$,p.x,p.y))}else if(u=="line"){var v={zb:["M","L"],n:[p.x,p.y,p.x+p.r,p.y]};
d=g.b.gH(v)}else console.log(m);a.add.SoCo={classID:"null",Clr:{t:"Objc",v:g.ov.E2({o:0,L:0,X:0})}};
if(Y==null){o.fillEnabled.v=!1}else if(Y.type=="color"){a.add.SoCo.Clr.v=g.ov.E2(CSS.Hj(Y.value))}else if(Y.type=="gradient"){delete a.add.SoCo;
a.add.GdFl=lf.f3.tQ(Y,M)}else console.log(Y);var V=lf.f3.n8(p,M);g.z.Y9(d,V);var j=l.style;if(j&&j.outline){var Q=j.outline;
o.strokeEnabled.v=!0;o.strokeStyleLineWidth.v.val=Q.size;o.strokeStyleContent.v.Clr.v=g.ov.E2(CSS.Hj(Q.color))}G.G=d;
a.tw();a.Ae(q)}else if(K=="text"){a.add.lnsr="rend";a.add.TySh=gZ.nG(0,0);a.add.TySh.oJ=new dU(0,0,100,100);
var H=a.add.TySh.FZ;gZ.XM(H,1);gZ.eR(H,[0,0,p.r,p.$]);var T=l.content;gZ.L3(H,0,T);var z=gZ.J0(H,0,Math.min(T.length,1)),J=m.font.name,P=m.font.content;
if(P&&X[P]){var L=X[P];if(L instanceof Uint8Array)L=X[P]=Typr.parse(L.buffer)[0];J=L.name.postScriptName}gZ.j_(z,J);
var h=z.n6.FontSize=Math.round(m.size);if(Y&&Y.value){var C=null;if(Y.type=="color")C=Y.value;else if(Y.type=="gradient")C=Y.value.stops[0].color;
if(C){var w=CSS.Hj(C);z.n6.FillColor={Type:1,Values:[1,w.o/255,w.L/255,w.X/255]}}}var f=m.linespace;
if(f){z.n6.AutoLeading=!1;z.n6.Leading=Math.round(h*(1.06+parseFloat(f)));console.log(f,z.n6)}z.n6.FauxBold=m.bold;
z.D8.Justification=["left","right","center","justify"].indexOf(m.align);gZ.oM(H,0,T.length,z);var O=new ka,n=p.r/2,$=p.$/2;
O.translate(Math.round(h*0),Math.round(h*.25));O.translate(-n,-$);O.rotate(-M*Math.PI/180);O.translate(n,$);
O.translate(p.x,p.y);a.add.TySh.M=O;a.S=new dU}else console.log(l)}q.Tr=!0};lf.f3.n8=function(W,q){var X=W.x+W.r/2,k=W.y+W.$/2,B=new ka;
B.translate(-X,-k);B.rotate(-q*Math.PI/180);B.translate(X,k);return B};lf.f3.tQ=function(W,q){var X=JSON.parse(kE.iv[kE.order.indexOf("GrFl")]),k=X.Grad.v;
k.Intr.v=0;var B=[],U=W.value.stops;for(var N=0;N<U.length;N++){var l=U[N],K=CSS.Hj(l.color);B.push([l.position,[K.o/255,K.L/255,K.X/255]])}g.ov.mi(B,k);
X.Angl.v.val=-(W.value.direction+q)+90+180;return X};lf.kS={};lf.kS.MM=!0;lf.kS.Vp=function(W,q){cu.WZ(W,q)};
var cu=function(){function W(a,p){var M=Date.now(),x=UZIP.parse(a),R=x["maindoc.xml"],y=new DOMParser,s=y.parseFromString(Z._o(R),"image/svg+xml").children[0].children[0],F=s.getAttribute("name"),E=p.r=m(s,"width"),o=p.$=m(s,"height");
p.mC=Math.round(m(s,"x-res"));var G=s.children[0].children;q(G,p,{eA:F,ar:x,b3:null});console.log(Date.now()-M);
M=Date.now()}function q(a,p,M){for(var x=0;x<a.length;x++){var R=a[a.length-1-x],y=R.getAttribute("nodetype");
if(y=="transparencymask"){M.b3.BD=Y(R,M);continue}var s=R.getAttribute("compositeop"),F=R.getAttribute("filename"),E=R.getAttribute("channelflags"),o=R.children;
o=o.length==0?null:o[0].children;var G=p.Sh();if(y=="paintlayer"){var d=m(R,"x"),u=m(R,"y"),r=M.ar[M.eA+"/layers/"+F+".defaultpixel"],v=M.ar[M.eA+"/layers/"+F],c=D(v);
G.S=c[0];G.S.offset(d,u);G.buffer=c[1];if(G.S.PM()&&r.join()!="0,0,0,0"){G.add.SoCo={classID:"null",Clr:{t:"Objc",v:g.ov.E2({o:r[0],L:r[1],X:r[2]})}};
G.Ae(p)}}else if(y=="grouplayer"){G.add.lsct=e5.B2;G.JY="pass";G.Z9|=24;p.U.push(p.rS());var V=M.b3;
M.b3=G;q(o,p,M);M.b3=V}else if(y=="shapelayer"){var v=M.ar[M.eA+"/layers/"+F+".shapelayer/content.svg"],j=Z._o(v),Q=p.ow(v,G.getName(),0,0);
G=Q;var H=new dU(0,0,p.r,p.$),T=g.b.Lw(H).n;G.add.SoLd.Trnf=_.Gz.If(T);G.add.SoLd.nonAffineTransform=_.Gz.If(T);
G.uz(p,!1)}else if(y=="clonelayer"){var N=-1;for(var e=0;e<a.length;e++)if(a[e].getAttribute("name")==R.getAttribute("clonefrom"))N=e;
if(N!=-1){q([a[N]],p,M);G=p.U.pop()}}else console.log(y,R);G.YY(R.getAttribute("name"));if(m(R,"locked")==1)G.add.lspf=1<<31;
G.ZR(m(R,"visible")==1);var z={normal:"norm",multiply:"mul ",diff:"diff",hard_light:"hLit"}[s];if(z)G.JY=z;
else console.log(s);G.zO=m(R,"opacity");if(E=="1110")G.Oa=!0;var J=o?o[0]:null;if(J&&J.tagName=="mask")G.BD=Y(J,M);
p.U.push(G)}}function X(a,p){var M=0,x=0,R=a.length,y,s,F;while(M<R){y=a[M++];if(y>31){s=y>>>5;if(s==7)s=7+a[M++];
F=(y&31)<<8|a[M++];var E=x-F-1,o=s>>>1;p[x++]=p[E++];p[x++]=p[E++];for(var N=0;N<o;N++){p[x++]=p[E++];
p[x++]=p[E++]}if((s&1)==1)p[x++]=p[E++]}else{for(var N=0;N<=y;N++){p[x++]=a[M++]}}}}function k(a,p){var M=0;
while(a[p+M]!=10)M++;return Z.zD(a,p,M)}var B=new dU(0,0,64,64),U=new Uint8Array(64*64*4),l=new Uint8Array(64*64*4);
function K(){for(var N=0;N<4096;N++){var a=N<<2;U[a+0]=l[N+8192];U[a+1]=l[N+4096];U[a+2]=l[N];U[a+3]=l[N+12288]}}function D(a){var p=0,M={};
for(var N=0;N<5;N++){var x=k(a,p);p+=x.length+1;x=x.split(" ");M[x[0]]=parseInt(x[1])}var R=M.PIXELSIZE,y=[],s=new dU;
while(p<a.length){var x=k(a,p),F=x.split(",");p+=x.length+1;if(F[2]!="LZF")throw F[2];B.x=parseInt(F[0]);
B.y=parseInt(F[1]);s=s.xw(B);var E=parseInt(F[3]);y.push([B.P(),new Uint8Array(a.buffer,p+1,E-1)]);p+=E}var o=g.j(s.C()*R);
for(var N=0;N<y.length;N++){var G=y[N];X(G[1],l);if(R==4){K();g.YE(U,G[0],o,s)}else g.Z_(l,G[0],o,s)}return[s,o]}function m(a,p){return parseInt(a.getAttribute(p))}function Y(a,p){var M=a.getAttribute("filename"),x=p.ar[p.eA+"/layers/"+M+".pixelselection"],R=D(x),y=new b.pj;
y.xP=m(a,"visible")==1;y.S=R[0];y.c=R[1];return y}return{WZ:W}}();lf.cZ={};lf.cZ.MM=!0;lf.cZ.Vp=function(W,q){eU.WZ(W,q)};
lf._v={};lf._v.Vp=function(W){var q=new Uint8Array(W),X=lf._v.c3(q,0,0),k=X.sub[2],B=lf._v.agu(q,k),U=X.sub[3],l=lf._v.agu(q,U);
return[B,l]};lf._v.agu=function(W,q){var X=q.sub[q.sub.length-1],k=X.sub[0].h,B=X.sub[1].h,U=W.slice(k,k+16),l=W.slice(B,B+X.sub[1].size),K=Z.P2,D=W[k],m=K(W,k+1),Y=K(W,k+5),a=W[k+13],p=new dU(0,0,m,Y),M=g.j(m*Y*4);
if(a){g.WD(M,4278190080)}else{UTEX.readBC1(W,B,M,m,Y)}return{oq:p,data:M}};lf._v.c3=function(W,q,X){var k=Z.zD,B=Z.P2,U=k(W,q,4);
U=U.split("").reverse().join("");var l=B(W,q+4);if(l!=0){console.log(W.slice(q-8));throw l}var K=B(W,q+8);
while((K&3)!=0)K++;var D={I8:U,h:q+12,size:K};if(U=="CARF"||U=="CTEX"||U=="CREW"||U=="BMAP"){D.sub=[];
q+=12;if(U=="CTEX"||U=="CREW")q+=32;var m=D.h+D.size;while(q<m){var Y=lf._v.c3(W,q,X+1);D.sub.push(Y);
q+=12+Y.size+(Y.size&1)}}return D};lf.jU={};lf.jU.MM=!0;lf.jU.Vp=function(W,q){kQ.WZ(W,q)};lf.sH={};
lf.sH.MM=!0;lf.sH.Vp=function(W,q){f4.WZ(W,q)};lf.Bn={};lf.Bn.MM=!0;lf.Bn.Vp=function(W,q){kk.WZ(W,q)};
lf.Ec={};lf.Ec.MM=!0;lf.Ec.Vp=function(W,q){bm.WZ(W,q)};lf.RC={};lf.RC.MM=!0;lf.RC.Vp=function(W,q){iu.WZ(W,q)};
lf.fu={};lf.fu.MM=!0;lf.fu._M=function(W,q,X,k,B,U){if(k==null)k={arst:!0,mini:!0};var l=jH.zX(W,{KW:k.arst,hidden:k.ahid,awL:k.vtxt,awr:k.rtxt,iO:k.mini,alF:q,adY:X},B.yK,U);
return l};lf.fu.Vp=function(W,q,X){jH.WZ(W,q,X)};lf.i9={};lf.i9.MM=!0;lf.i9.Vp=function(W,q){var X=150,k=new ka(1,0,0,-1,0,0);
k.scale(X/72,X/72);q.mC=X;var B=new kb(q,k,!0);FromPS.Parse(W,B)};lf.bM={};lf.bM.MM=!0;lf.bM._M=function(W,q,X,k,B){if(k==null)k={pags:"",qual:100};
k.fmts=["jpg"];var U=new ToPDF;b1.zX(W,k,U,B.yK,q,X);return U.buffer};lf.bM.Vp=function(W,q,X){var k=2;
while(!0){var B=k*72,U=new ka(1,0,0,-1,0,0);U.scale(B/72,B/72);q.mC=B;var l=new kb(q,U,!0);FromPDF.Parse(W,l);
var K=Math.max(q.r,q.$);if(X&&K<Math.max(X[0],X[1])){q.U=[];var D=k;while(K*(k/D)<Math.max(X[0],X[1]))k++}else break}};
lf.Ax={};lf.Ax.MM=!0;lf.Ax.Vp=function(W,q){var X=72,k=new ka(1,0,0,1,0,0);k.scale(X/72,X/72);q.mC=X;
var B=new kb(q,k,!1);FromWMF.Parse(W,B)};lf.cz={};lf.cz.D1=!0;lf.cz.MM=!0;lf.cz._M=function(W,q,X,k,B){if(k==null)k={pags:"",qual:100};
k.fmts=[];var U=new ToEMF;b1.zX(W,k,U,B.yK);return U.buffer};lf.cz.Vp=function(W,q){var X=72,k=new ka(1,0,0,1,0,0);
k.scale(X/72,X/72);q.mC=X;var B=new kb(q,k,!1);FromEMF.Parse(W,B)};lf.QJ={};lf.QJ.MM=!0;lf.QJ.Vp=function(W,q){return b4.WZ(W,q)};
lf.a4J={};lf.a4J.Vp=function(){var W,q,X,k,B,U,l=0,K=0,D=0,m=0,Y=0,F="eJzt0lGR6kAUBNBIQEIkICESWgISkICESLgSIgEJkbAS2sG+s7AO+HkfO1RXQZPcOanJsnx/L5/k489n2/+tv/W3PlwXWeUqm0RucpeH7DJyyFNO+ZL+NwOuv9fvv//3PW7Vr/pVv+rXvsdv+k2/6Tf91vftN/3Nl5v+pr/1PXLX7/rdj12/90059If+0B/6o2/aqT/1p/7Un31Tq6+++urb15OGPwCxWfjj4vCHP/zhD3/4wx/+8Ic//OGPseEPf/jDH/7YKvzhD3/4wx/+8Ic//OEPf/jDH/7whz/84Q9/+MMf/vDP62SucpNdnqLnH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7XsfCXv/zl/2nLX/7yl7/85S9/+ctf/vKX/3Ws/OUvf/nL/zpq/vKXv/zlL3/5y1/+8pe//OUvf/nLX/7+vEL8tVENLX+Vl8tlWdd1uV6vy7ZtS+JNYrjf78vj8fDKetaZ5TiO5fl8Lud5Ll9fX/8ACveX4A==",E=null;
function a(o){var G=gJ.WZ(o),d=G.Y_,j=0,Q,H;console.log(G);var u=new Uint8Array(o);if(d=="ILBM")return p(G,u);
if(d=="CIMG")return R(G,u);if(d=="ANIM"&&G.sub[0].I8=="ADAT")return s(G,u);if(d!="ANIM")throw d;var r=Z.U_,v=Z.WP,c=G.sub,V=p(c[0],u);
for(var T=1;T<c.length-2;T++){var z=V[Math.max(0,T-2)].a5M.slice(0),J=c[T];for(var P=0;P<J.sub.length;
P++){var L=J.sub[P],A=L.h;if(L.I8=="ANHD"){var h=u[A++];if(h!=5)throw h;var k=u[A++],C=r(u,A),w=r(u,A+2);
if(C!=0&&C!=W)throw C;if(w!=0&&w!=q)throw w;var f=r(u,A+4),O=r(u,A+6);if(f!=0||O!=0)throw f;A+=8;var $=r(u,A);
A+=2;Q=r(u,A);A+=2;if(u[A++]!=0)throw"e";if(u[A++]!=0)throw"e";H=r(u,A);A+=2}else if(L.I8=="DLTA"){var d9=[],im=A;
for(var N=0;N<16;N++)d9.push(v(u,A+N*4));A+=64;var bc=U;for(var at=0;at<B;at++){if(d9[at]==0)continue;
A=im+d9[at];for(var l9=0;l9<bc;l9++){var fF=u[A++],g$=0;if(fF==0)continue;for(var N=0;N<fF;N++){var fR=u[A++];
if(fR==0){var cr=u[A++],eE=u[A++];for(var bQ=0;bQ<cr;bQ++){z[(g$*B+at)*bc+l9]=eE;g$++}}else if(fR<128){g$+=fR}else{fR-=128;
for(var bQ=0;bQ<fR;bQ++){z[(g$*B+at)*bc+l9]=u[A+bQ];g$++}A+=fR}}}}}else console.log(L.I8)}if(T==1&&Q>100)Q=0;
var hT=Q==0?17:Math.round((Q-j)*1e3/60);V.push({data:x(u,z).buffer,oq:new dU(0,0,W,q),a5M:z,vk:"_a_frm"+T+","+hT});
j=Q}if(D!=0&&W>q*2){var df=new Uint32Array(W*q*2);df.fill(4294967295);for(var T=0;T<V.length;T++){var eV=V[T],gU=new Uint32Array(eV.data);
for(var g$=0;g$<q;g$++){var i8=g$*2;for(var l9=0;l9<W;l9++)df[i8*W+l9]=gU[g$*W+l9];i8++;for(var l9=0;
l9<W;l9++)df[i8*W+l9]=gU[g$*W+l9]}eV.oq.$*=2;eV.data=df.slice(0).buffer}}return V}function p(o,G){var d,u,r;
l=0;K=0;m=0;Y=0;D=0;for(var v=0;v<o.sub.length;v++){var c=o.sub[v],V=c.h;if(c.I8=="BMHD"){var j=[];for(var N=0;
N<4;N++)j[N]=Z.U_(G,V+2*N);V+=8;var Q=j[2],H=j[3];W=j[0];q=j[1];X=G[V++];k=G[V++];r=G[V++];if(r!=0&&r!=1)throw r;
U=W+15>>>4<<1;B=X+k}else if(c.I8=="CMAP")l=V;else if(c.I8=="CAMG"){var T=Z.WP(G,V);K=T&32768,D=T&4,m=T&2048;
Y=T&128}else if(c.I8=="BODY"){u=g.j(U*q*B);if(r==0)u=G.slice(V,V+u.length);if(r==1)dI.be(G,V,c.size,u,0,u.length)}else if(c.I8=="PLTP"){console.log(G.slice(V,V+c.size))}}d=x(G,u);
return[{oq:new dU(0,0,W,q),data:d.buffer,a5M:u}]}function M(o,a1){return o[a1>>>3]>>>7-(a1&7)&1}function x(o,G){var d=X-2,u=(1<<d)-1,r=Math.round(255/u),v,c,V,j=U*8;
if(l!=0){var Q=1<<X,H=!0;for(var N=1;N<Q;N++){var T=l+N*3;if(o[T]!=o[T-3]||o[T+1]!=o[T-2]||o[T+2]!=o[T-1]&&o[T+2]!=o[T-1]+1)H=!1}if(H){for(var N=0;
N<Q;N++){var T=l+N*3,e=Math.round(N*255/(Q-1));o[T]=o[T+1]=o[T+2]=e}}}var z=g.j(W*q*4);for(var J=0;J<q;
J++)for(var P=0;P<W;P++){var L=0;for(var A=0;A<B;A++){var h=(J*B+A)*j+P,C=M(G,h);L|=C<<A}L=L&(1<<X)-1;
var N=J*W+P,w=N<<2;if(l!=0){if(m!=0&&L>>>d!=0){var f=L>>>d,O=(L&u)*r;if(f==1)V=O;else if(f==2)v=O;else if(f==3)c=O}else{var O=l+L*3;
v=o[O+0];c=o[O+1];V=o[O+2]}}else{if(X==24){v=L>>>0&255;c=L>>>8&255;V=L>>>16&255}else if(X==16){var n=0,$=1,i=4;
for(var A=0;A<16;A++)n+=(L>>>A&1)<<15-A;var d9=(1<<$)-1,dF=(1<<i)-1;v=(n>>>7&d9)*(255/d9);c=V=v}else throw X}z[w+0]=v;
z[w+1]=c;z[w+2]=V;z[w+3]=255}return z}function R(o,G){var d=1,u=2,r=4,v=Z.WP,c=Z.U_,W=200,q=200,V,j,Q,H;
for(var T=0;T<o.sub.length;T++){var e=o.sub[T],z=e.h;if(e.I8=="TBHD"){W=v(G,z);z+=4;q=v(G,z);z+=4;H=g.j(W*q*4);
Q=new dU(0,0,W,q);z+=4;var J=v(G,z);z+=4;var P=c(G,z);z+=2;if(P!=0)throw"e";j=c(G,z);z+=2;var L=v(G,z);
z+=4;if(L!=1)throw L;V=0;if(J&d)V+=3;if(J&u)V+=1}if(e.Y_=="TBMP"){var A=e.sub;for(var h=0;h<A.length;
h++){var C=A[h].h,w=A[h].size,f=c(G,C),O=c(G,C+2),n=c(G,C+4)-f+1,$=c(G,C+6)-O+1;C+=8;var d9=g.j(n*$*4),i=g.j(n*$);
d9.fill(255);for(var N=0;N<4;N++){C=y(G,C,w-8,i,0);g.fP(i,d9,3-N)}if(C!=A[h].h+w)throw"e";g.YE(d9,new dU(f,O,n,$),H,Q)}}}return[{oq:Q,data:H.buffer}]}function y(o,G,d,u,r){var v=G;
while(r<u.length){var c=o[G++],cB=(c&127)+1;if(c&128){c=o[G++];for(var N=0;N<cB;++N)u[r++]=c}else{for(var N=0;
N<cB;++N)u[r++]=o[G++]}}return G}function s(o,G){if(E==null){var d=lf.GS(F);E=new Uint32Array(pako.inflate(new Uint8Array(d)).buffer)}var u=Z.WP,r=Z.U_,v=o.sub[0],c=o.sub[1],W=r(G,v.h),q=r(G,v.h+2),V=r(G,v.h+4),e,N,z,J,P,L;
if(V!=3)throw V;var j=new dU(0,0,W,q),Q=g.j(W*q*4),H=g.j(W*q);Q.fill(255);var T=new Uint32Array(Q.buffer),A=c.h;
for(J=0;J<2;J++){L=J;P=0;e=Math.floor((W*q+2-J-1)/2);while(e>0){N=G[A++];if(N&128){N=257-N;e-=N;z=G[A++];
P=P&E[z]|E[z+256];do{T[L]=P;L+=2}while(--N)}else{N++;e-=N;do{z=G[A++];T[L]=P=P&E[z]|E[z+256];L+=2}while(--N)}}}for(var N=0;
N<Q.length;N+=4){var h=Q[N+3],C=Q[N+2],w=Q[N+1];Q[N]=h;Q[N+1]=C;Q[N+2]=w;Q[N+3]=255}for(var f=0;f<q>>>1;
f++){for(var O=0;O<W;O++){var N=f*W+O,z=(q-1-f)*W+O,n=T[N];T[N]=T[z];T[z]=n}}return[{oq:j,data:Q.buffer}]}return a}();
lf.VF={};lf.VF.MM=!1;lf.VF._M=function(W,q,X,k){var B=null,U=new Uint8Array(W[0][0]),l=2;if(k.ctoa&&W[0][4])B=W[0][4];
else if(g.VR(U)){B=[new Uint8Array(U.length>>>2)];g.u6(U,B[0],3)}var K=B?!0:!1,D=K?4:3,m=new Uint8Array(q*X*D);
for(var Y=0;Y<X;Y++)for(var a=0;a<q;a++){var p=Y*q+a<<2,M=((X-Y-1)*q+a)*D;m[M]=U[p+2];m[M+1]=U[p+1];
m[M+2]=U[p+0];if(K)m[M+3]=B[0][Y*q+a]}if(!0){var x=m.length,R=0,y=new Uint8Array(x*2),s=0,F=0,E=q*D;
while(F<x){var o=F,G=0,d=E*(Math.floor(F/E)+1);while(o<d&&G<128){var u=!0;for(var N=0;N<D;N++)u=u&m[F+N]==m[o+N];
if(!u)break;o+=D;G++}if(G==1){var r=1;while(r<128&&F+(r+1)*D<d){var u=!0,v=F+r*D;for(var N=0;N<D;N++)u=u&m[v+N]==m[v+D+N];
if(u)break;r++}y[s++]=r-1;for(var c=0;c<r;c++)for(var N=0;N<D;N++)y[s++]=m[F++]}else{y[s++]=127+G;for(var N=0;
N<D;N++)y[s+N]=m[F+N];s+=D;F+=D*G;R+=G}}m=y.slice(0,s);l+=8}var V=new Uint8Array(18+m.length+26);V[2]=l;
Z.fZ(V,12,q);Z.fZ(V,14,X);V[16]=D*8;V[17]=D==4?8:0;V.set(m,18);Z.o3(V,18+m.length+8,"TRUEVISION-XFILE.");
return V.buffer};lf.VF.Vp=function(W){var q=new Uint8Array(W),X=0,k=q[0],B=q[1],U=q[2],l=q[4]*256+q[3],K=q[6]*256+q[5],D=q[7],m=q[9]*256+q[8],Y=q[11]*256+q[10],a=q[13]*256+q[12],p=q[15]*256+q[14],M=q[16],x=q[17],R=x>>>4,y=Z.zD(q,18,k),s=g.j(a*p*4),X=18+k+(K*D>>>3),F=new Uint8Array(q.buffer,X);
if(U>3){var E=0,o=q,G=new Uint8Array(a*p*M>>>3),d=X,u=0,r=q.length,v=M>>>3;while(u<G.length){var a1=o[d];
d++;if(a1<128)for(var N=0;N<a1+1;N++){for(var c=0;c<v;c++){G[u]=o[d];u++;d++}}else{for(var N=0;N<a1-127;
N++){for(var c=0;c<v;c++){G[u]=o[d+c];u++}}d+=v}}U-=8;F=G;X=d}else X+=a*p*M>>>3;var V=new Uint8Array(4),j=lf.VF.a8N;
for(var Q=0;Q<p;Q++)for(var H=0;H<a;H++){var T=(R&2)==0?(p-Q-1)*a+H:Q*a+H,e=Q*a+H,z,J,P,L=255,A=T*M>>>3;
if(U==1){var h=0;if(M==8)h=F[A];else throw"e";j(q,18+k+l+(h*D>>>3),D,V);z=V[0];J=V[1];P=V[2];L=V[3]}else if(U==2){j(F,A,M,V);
z=V[0];J=V[1];P=V[2];L=V[3]}else if(U==3){if(M==8)z=J=P=F[A];else throw"e"}var C=e*4;s[C]=z;s[C+1]=J;
s[C+2]=P;s[C+3]=L}var V={oq:new dU(0,0,a,p),data:s.buffer,vk:y};if(g.VR(s)){var w=g.j(a*p);g.u6(s,w,3);
g._5(s,1);V.RH=[w]}return[V]};lf.VF.a8N=function(W,q,X,k){var B,U,l,K=255;if(X==24||X==32){l=W[q];U=W[q+1];
B=W[q+2];if(X==32)K=W[q+3]}else if(X==16){var D=W[q+1]<<8|W[q+0];B=D>>>10&31;U=D>>>5&31;l=D>>>0&31;B=Math.round(B*(255/31));
U=Math.round(U*(255/31));l=Math.round(l*(255/31))}else throw"e";k[0]=B;k[1]=U;k[2]=l;k[3]=K};lf.h5=function(){var W=[],q=!1,X,k=null,B=50,U=10,a;
function l(x,R,y,s){W.push([0,x,s,y]);Y()}async function K(x,R,y,s){B=s.qual;U=s.smlr?5:10;return new Promise(function(F){W.push([1,x,R,y,F]);
Y()})}function D(x){var R=W.shift();R[3](null,[x],R[2]);q=!1;Y()}function m(){k=I.a("iframe");k.setAttribute("src","code/ext_formats/formatsLoader.html");
I.w(k,"display:none");window.addEventListener("message",M,!1);document.body.appendChild(k)}function Y(){if(q||W.length==0)return;
q=!0;var x=W[0];if(x[0]==0&&lf.pP(x[1])=="avif"){lf.aCS(x[1],"image/avif",D)}else if(k==null)m();else p()}async function p(){var x=W[0],R;
if(x[0]==0){var y=x[1],s=new Uint8Array(y),F=new Blob([y]);R={subject:"open",body:F};var E=Z.Ka(s,"Exif\0\0MM");
X=null;if(E!=-1){var o=UTIF.decode(y.slice(E+6));X=ei.xZ(o[0])}}else{var G={fmt:"avif",speed:U,quality:B,nochroma:0,lossless:0},d=new ImageData(new Uint8ClampedArray(x[1][0][0]),x[2],x[3]);
R={subject:"save",body:d,prms:G}}a=Date.now();k.contentWindow.postMessage(R)}function M(x){var R=x.data,y=R.subject,s=R.body;
console.log(R);if(y=="rdy"){q=!1;Y()}else if(y=="img"){D({oq:new dU(0,0,s.width,s.height),data:s.data.buffer,qq:X})}else if(y=="file"){console.log(Date.now()-a);
W[0][4](s.buffer);q=!1;W.shift();Y()}else console.log(R)}return{MM:!1,Zr:!0,Vp:l,_M:K}}();lf.aFO=function(){var W,q=[],X=10,K,D,m,Y=0,a,p,M;
function k(E){var o=lf.pP(E);if(o=="mp4")return new hr(new Blob([E]));else return new cF(new Blob([E]))}async function B(E,o,G,d,u){W=G;
q.push(E,d);var r=k(E),v=(await r.nO()).he;console.log(v);var a=v.width,p=v.height,c=v.B_,V=c/v.R1,j=c/V,Q=a+" \xD7 "+p+" px, "+c+" frames, "+eb.qc(a*p*4*c)+" decoded<br/>";
Q+=V.toFixed(2)+" seconds, "+j.toFixed(2)+" FPS";var H=new ip(S.E.H,!0);H.data={R:S.m.K_,ud:"setFPS",bG:X,tO:U,asq:Q};
u.T(H)}function U(E){X=Math.max(1,Math.min(60,E));var o=window.VideoDecoder;if(o)l();else x()}async function l(){var E=Date.now(),o=q.shift(),M=[],G=k(o),d=(await G.nO()).he,a=d.width,p=d.height,u=d.B_,r=u/d.R1,v=u/r,c=Math.min(v,X),V=Math.max(1,Math.round(v/c));
for(var N=0;N<u;N++){if(N%V!=0)continue;var j=await G.mW(0,N);M.push({vk:"_a_"+M.length+","+Math.round(1e3/c),oq:new dU(0,0,a,p),data:j.buffer})}W(null,M,q.shift());
if(q.length!=0)l()}function x(){if(q.length==0)return;K=document.createElement("canvas");D=K.getContext("2d");
m=document.createElement("video");var E="data:"+"video/mp4"+";base64,"+lf.KT(q.shift());m.src=E;m.muted=!0;
m.currentTime=0;m.addEventListener("canplay",R,!1);m.addEventListener("timeupdate",y,!1)}function R(E){m.removeEventListener("canplay",R);
a=K.width=m.videoWidth;p=K.height=m.videoHeight;M=[];m.play()}function y(E){clearTimeout(Y);D.drawImage(m,0,0);
M.push({vk:"_a_"+M.length+","+Math.round(1e3/X),oq:new dU(0,0,a,p),data:D.getImageData(0,0,a,p).data.buffer});
var o=m.currentTime+1/X;if(o<m.duration&&E){m.currentTime=o;Y=setTimeout(y,1e3)}else{W(null,M,q.shift());
m.removeEventListener("timeupdate",y);x();M=null}}function s(){this.MR=new Uint8Array(1024);this.h=0}s.prototype.write=function(E){var o=this.MR,G=this.h;
if(E instanceof ArrayBuffer)E=new Uint8Array(E);if(E instanceof Uint8Array){while(o.length<G+E.length){var d=new Uint8Array(o.length*2);
d.set(o);o=d}o.set(E,G);G+=E.length}else if(E.I=="write"){o.set(E.data,E.position)}else{console.log(E);
throw"e"}this.MR=o;this.h=G};s.prototype.close=function(){this.MR=this.MR.slice(0,this.h)};async function F(E,a,p,o){var G=a,d=p;
if((a&1)!=0)a++;if((p&1)!=0)p++;var u=a!=G||p!=d,r=u?g.j(a*p*4):null,v={he:{M_:1,B_:E.length,R1:1e3/E[0][1],width:a,height:p}},c=new s,V=.02*(1+Math.pow(3.2*o.qual/100,2.3)),j=new b9(c,v,V);
for(var N=0;N<E.length;N++){var Q=E[N],H=new Uint8Array(Q[0]),T=H;if(u){g.YE(H,new dU(0,0,G,d),r,new dU(0,0,a,p));
T=r}await j.awv(T,0,N)}await j.finish();return c.MR.buffer}return{MM:!1,Zr:!0,Vp:B,_M:F}}();lf.wg={};
lf.wg.Vp=function(W){var q=new Uint8Array(W),X=0,k=112,B=42,U=Z.P2,Y;X+=8;var l=q[X];X++;if(l!=B)throw"e";
var K=U(q,X);X+=4;var D=Z.gq(q,X,K);X+=K*2;var m=[];while(X<q.length){Y=U(q,X);X+=4;if(Y!=k)throw Y;
X+=4;Y=q[X];X++;if(Y!=B)throw Y;var a=U(q,X);X+=4;var p=q[X];X++;if(p!=B){X-=5;a=U(q,X);X+=8;Y=q[X];
X++;if(Y!=B)throw Y}var M=U(q,X)*2;X+=4;if(a>0)m.push(X+M);X+=M+a}var x=new DOMParser,R=x.parseFromString(D,"image/svg+xml").firstChild.firstChild,y=[];
lf.wg.aCB(R,q,m,y);return y};lf.wg.aCB=function(W,q,X,k){var B=W.firstChild.firstChild;if(B.tagName=="Image"){var U=B.getElementsByTagName("ImageDescription")[0],l=U.children[0].children,K=U.children[1].children,D=X.shift(),m=[];
for(var N=0;N<K.length;N++)m.push(parseInt(K[N].getAttribute("NumberOfElements")));while(m.length>3)m[2]*=m.pop();
var Y=l.length,a=m[0],p=m[1],M=m[2],x=parseInt(K[0].getAttribute("BytesInc"));for(var R=0;R<M;R++){var y=g.j(a*p*4);
y.fill(255);for(var s=0;s<Y;s++){var F=g.j(a*p);if(x==1)for(var E=0;E<F.length;E++)F[E]=q[D+E];else if(x==2)for(var E=0;
E<F.length;E++)F[E]=Math.min(255,(q[D+E*2+1]<<8|q[D+E*2])>>>2);else throw x;if(s!=3)g.fP(F,y,s);if(Y==1){g.fP(F,y,1);
g.fP(F,y,2)}D+=a*p*x}k.push({oq:new dU(0,0,a,p),data:y.buffer})}}else{var o=W.children,G=0;while(G<o.length&&o[G].tagName!="Children")G++;
if(G==o.length)throw"e";o=o[G].children;for(var d=0;d<o.length;d++)lf.wg.aCB(o[d],q,X,k)}};lf.aAG=function(){function W(l,K,D,m,Y){var a=new Int8Array(l.buffer),p=new Int8Array(m.buffer),M=K+D;
while(K<M){var a1=a[K];K++;if(a1>=0&&a1<128)for(var N=0;N<a1+1;N++){p[Y]=a[K];Y++;K++}if(a1>=-127&&a1<0){for(var N=0;
N<-a1+1;N++){p[Y]=a[K];Y++}K++}}return Y}function q(l,K,D,m,Y,a){var p=K*D*m>>>3,M=g.j(p*Y),x=k(l,0,0,0)[0];
for(var R=0;R<Y;R++){var y=x[R+1];if(a){var s=lf.c_("jpg").Vp(y.buffer),F=g.j(p);g.Iv(new Uint8Array(s[0].data),F);
M.set(F,p*R)}else if(y[0]==255&&y[1]==216&&y[2]==255){var E=UTIF.LosslessJpegDecode(y);M.set(new Uint8Array(E.buffer),p*R)}else W(y,64,y.length,M,p*R)}return M}function X(l){var K=new Uint8Array(l),D=0,m=Z.zD(K,0,128);
D+=128;var Y=Z.zD(K,D,4);D+=4;var a=B(K,D,0)[0],p=a.g28;if(p==null){alert("No image.");return[]}var M=p.cols,x=p.rows,R=M*x,y=p.photoInterpret,s=p.bitsAlloc,F=p.bitsStored,E=p.lossyCompr;
if(E==null)E=a.g8.lossyCompr;var o=a.g7fe0.pixelData,G=p.numOfFrames;G=G?parseInt(G):1;var d=new Uint8Array(o.buffer),u=R*s>>>3;
if(d.length!=u*G){o=q(o,M,x,s,G,E)}else{}if(s==16)o=new Uint16Array(o.buffer);console.log(p);console.log(a);
var r=[];for(var v=0;v<G;v++){var c=v*u,l=g.j(M*x*4);l.fill(255);if(y=="MONOCHROME2"){var V=0,j=255,Q=p.largestValue,H=p.smallestValue;
if(Q!=null){j=Q;V=H}else if(F!=8){j=0;V=1e9;for(var N=0;N<R;N++){var T=o[c+N];if(T>1<<F-8){if(T>j)j=T;
if(T<V)V=T}}}var e=255/(j-V);for(var N=0;N<R;N++){var T=Math.max(0,Math.min(255,(o[c+N]-V)*e)),z=N*4;
l[z]=l[z+1]=l[z+2]=T}}else if(y=="PALETTE COLOR"){var J=p.pltRed,P=p.pltGreen,L=p.pltBlue;for(var N=0;
N<R;N++){var A=o[c+N],z=N*4;l[z]=J[A]>>>8;l[z+1]=P[A]>>>8;l[z+2]=L[A]>>>8}}else throw y;r.push({oq:new dU(0,0,M,x),data:l.buffer})}return r}function k(l,K,D,m){if(D==0)D=l.length;
var Y=Z.Sm,a=Z.lm,p=Z.P2,M=[],x=K;while(K<D){var R=Y(l,K);K+=2;var y=Y(l,K);K+=2;var s=p(l,K);K+=4;if(R==65534&&y==57344){if(s==4294967295){var F=B(l,K,m+1);
M.push(F[0]);K=F[1]}else{M.push(l.slice(K,K+s));K+=s}}else if(R==65534&&y==57357){}else if(R==65534&&y==57565)break;
else throw"e"}return[M,K]}function B(l,K,D){var m=Z.Sm,Y=Z.lm,a=Z.P2,p={},M="\t".repeat(D);while(K<l.length){var x=m(l,K),F="",E=0,G=null;
K+=2;var R=m(l,K);K+=2;var y=x.toString(16),s=R.toString(16);if(x==65532)break;if(x==65534&&R==57357){K-=4;
break}if(x==65534&&R==57565)throw"e";if(R==0){K+=8;continue}if(65<=l[K+1]){F=Z.zD(l,K,2);K+=2;if(F=="OB"||F=="SQ"||F=="OW"){E=a(l,K+2);
K+=6}else{E=m(l,K);K+=2}}else{F=U[y][s].split(",")[1];E=a(l,K);K+=4}console.log(y,s,F,E);var o=U[y][s];
if(o)o=o.split(",")[0];if(o==null){o="t"+s}if(F=="SQ"){var d=k(l,K,K+E,D);G=d[0];K=d[1];E=0}else if(F=="US")G=m(l,K);
else if(F=="SS")G=Y(l,K);else if(F=="UL")G=a(l,K);else if(F=="FL")G=Z.EI(l,K);else if(F=="AT")G=[m(l,K),m(l,K+2)];
else if(F=="OB")G=l.slice(K,K+E);else if(F=="OW")G=new Uint16Array(l.slice(K,K+E).buffer);else if(F=="FD")G=new Float64Array(l.slice(K,K+E).buffer);
else if("UI CS DA TM DT SH LO ST LT PN AE AS DS IS".split(" ").indexOf(F)!=-1){var u=K+E;while(l[u-1]==0)u--;
G=Z.zD(l,K,u-K).trim()}else{console.log(M,JSON.stringify(Z.zD(l,K,Math.min(E,32))));throw F}if(p["g"+y]==null)p["g"+y]={};
p["g"+y][o]=G;K+=E}return[p,K]}var U={"2":{"1":"fmiVersion","2":"classUID","3":"instanceUID","10":"syntaxUID","12":"icUID","13":"implVerName","16":"appTitle"},"4":{"1130":"fileSetID"},"8":{"5":"charSet","8":"imageType,CS","16":"classUID,UI","18":"instanceUID,UI","20":"studyDate","21":"seriesDate","22":"acqDate","23":"contentDate","2a":"acqDateTime","30":"studyTime","32":"acqTime","33":"contentTime","50":"accNumber","60":"modality,CS","64":"convType,CS","70":"manufacturer","80":"institutionName","81":"institutionAddress","90":"rpName","1010":"stationName","1030":"studyDescription","103e":"seriesDesc","1050":"ppName","1090":"modelName","1150":"rclassUID","1155":"rinstanceUID","2110":"lossyCompr","2112":"imageSequence"},"9":{},"10":{"10":"patientName,PN","20":"patientID,LO","30":"patientBirthDate","40":"patientSex","1010":"patientAge"},"18":{"60":"KVP","1020":"swVersion","1063":"frameTime","1150":"expTime","1151":"xrayTubeCurrent","1152":"exposure","1155":"radiation","1500":"posMotion","1510":"posAngle0","1511":"posAngle1"},"19":{},"20":{d:"studyUID,UI",e:"seriesUID,UI","10":"studyID","11":"seriesNumber","12":"acqNumber,IS","13":"instanceNumber,IS","20":"patientOrientation"},"21":{},"28":{"2":"spp,US","4":"photoInterpret,CS","8":"numOfFrames","9":"frameIncPointer","10":"rows,US","11":"cols,US","30":"pixelSpacing","100":"bitsAlloc,US","101":"bitsStored,US","102":"highBit,US","103":"pixRepresentation,US","106":"smallestValue","107":"largestValue","120":"pixPaddingValue","1040":"pixIntensityRelation","1050":"windCenter","1051":"windWidth","1090":"viewMode","1101":"pdRed","1102":"pdGreen","1103":"pdBlue","1199":"paletteUID","1201":"pltRed","1202":"pltGreen","1203":"pltBlue","2110":"lossyCompr","6010":"repFrameNum","6020":"foi","6022":"foiDescription","6040":"rWavePointer","6100":"maskSubtraction","6101":"maskOp","6110":"maskFrameNum"},"29":{},"37":{},"40":{},"50":{"4":"calibImage"},"5000":{"5":"curveDim","10":"numOfPoints","20":"typeOfData","30":"axisUnits","103":"dataValRepr","104":"minCrdValue","105":"maxCrdValue","106":"curveRange","110":"curveDataDesc","112":"crdStartValue","114":"crdStepValue","3000":"curveData"},"7fe0":{"10":"pixelData,OB"}};
return{Vp:X}}();lf.as8={};lf.as8.Vp=function(W){var q=new Uint8Array(W),X=0,k={};for(var N=0;N<306;N++){var B=Z.zD(q,X,8).trim(),U=Z.zD(q,X+9,71).split("/")[0].trim();
k[B]=U;X+=80;if(B=="END"){X=Math.ceil(X/2880)*2880;break}}var l=parseInt(k.NAXIS1),K=parseInt(k.NAXIS2),D=l*K,m=parseInt(k.BITPIX),Y=k.BZERO?parseInt(k.BZERO):0,a=k.NAXIS3?parseInt(k.NAXIS3):1,p=new Float32Array(W,X,W.byteLength-X>>>2),M=new Float32Array(D),x=g.j(D*4,16);
x.fill(65535);var R=g.j(D,16);for(var y=0;y<a;y++){var s=1e9,F=-1e9;for(var N=0;N<D;N++){if(m==-32){var E=q[X+0];
q[X+0]=q[X+3];q[X+3]=E;var E=q[X+1];q[X+1]=q[X+2];q[X+2]=E;M[N]=p[N];X+=4}else if(m==16){M[N]=Y+Z.dd(q,X);
X+=2}else throw m;var o=M[N];if(o<s)s=o;if(o>F)F=o}var G=1/F;for(var d=0;d<K;d++)for(var u=0;u<l;u++){var N=d*l+u,r=(K-d-1)*l+u,o=M[N]*G;
R[N]=65535*o}if(a==1)g.LO(R,x);else g.fP(R,x,y)}return[{oq:new dU(0,0,l,K),data:x,vk:k.OBJECT,depth:16}]};
lf.CQ={};lf.CQ.Vp=function(W){var q=new Uint8Array(W),X=16,k=Z.zD(q,X,4),U=32,s=0,F=0,E=!1,J;X+=4;var B=Z.zD(q,X,8);
X+=8;while(q[X+U-1]==0)U--;var l=Z.zD(q,X,U);X+=32;var K=Z.zD(q,X,4);X+=4;X+=20;var D=Z.WP(q,X);X+=4;
var m=Z.WP(q,X);X+=4;var Y=Z.WP(q,X);X+=4;var a=Z.WP(q,X);X+=4;var p=Z.WP(q,X);X+=4;var M=Z.WP(q,X);
X+=4;var x=l,R=[0,1,1,2];if(x=="X10"){x="FinePix X10";R=[2,1,1,0]}var y={t271:["FujiFilm"],t272:[x],t277:[1],t33421:[2,2],t33422:R,cC:1};
X=Y;var o=[],G=Z.U_,d=Z.WP(q,X);X+=4;for(var N=0;N<d;N++){var u=G(q,X);X+=2;var r=G(q,X);X+=2;if(u==256){F=G(q,X);
s=G(q,X+2)}else if(u==272){o=[G(q,X),G(q,X+2)]}else if(u==273){o.push(G(q,X),G(q,X+2))}else if(u==304){E=!(q[X]>>>7)}else if(u==305){var v=Math.round(Math.sqrt(r)),c=[];
for(var V=0;V<r;V++)c.push(q[X+V]);c.reverse();y.t33421=[v,v];y.t33422=c}else if(u==12272){var j=G(q,X),Q=G(q,X+2),H=G(q,X+6);
y.t50728=[j/Q,1,j/H]}X+=r}var T=s<F,e=q.slice(p,p+M),z=Math.round(M*8/(s*F));if(e[0]==73&&e[1]==73&&e[2]==42){J=UTIF.decode(e.buffer)[0].fujiIFD;
z=J.t61443[0];var P=J.t61454,L=J.t61450;if(L)y.t50714=L;if(P)y.t50728=[P[0]/P[1],1,P[0]/P[2]];var A=J.t61447[0];
e=e.slice(A,A+J.t61448[0])}var M=e.length,h=M*8<s*F*z;if(h){console.log("compressed");var C=y.t33422,w=~~Math.sqrt(C.length),f=[];
for(var N=0;N<w;N++)f[N]=C.slice(N*w,N*w+w);e=new Uint8Array(UTIF._decompressRAF(e,f).buffer);M=e.length}function O(dF,t,im){im=im<<8-(t&7);
var bc=t>>>3;dF[bc]|=im>>>16;dF[bc+1]|=im>>>8;dF[bc+2]|=im}var n=M*8/(s*F);if(n==16)for(var N=0;N<M;
N+=2){var $=e[N];e[N]=e[N+1];e[N+1]=$}else if(n==14){for(var N=0;N<M;N+=4){var $=e[N];e[N]=e[N+3];e[N+3]=$;
$=e[N+1];e[N+1]=e[N+2];e[N+2]=$}}else if(n==12)for(var N=0;N<M;N+=3){var d9=e[N+2]<<16|e[N+1]<<8|e[N+0];
d9=d9>>>12|(d9&4095)<<12;e[N]=d9>>>16&255;e[N+1]=d9>>>8&255;e[N+2]=d9&255}if(T)e=lf.CQ.amm(e,s,F);var i=T?2:1;
s*=i;y.t256=[s];y.t257=[F];y.t258=[z];y.t50719=[o[1],o[0]*i];y.t50720=[o[3],o[2]*i];y.width=s;y.height=F;
y.data=new Uint8Array(e.buffer);return[y]};lf.CQ.amm=function(W,q,X){W=new Uint16Array(W.buffer);var k=new Uint16Array(q*X*2);
for(var B=0;B<X;B+=2)for(var U=0;U<q;U++){var l=B*q+U,K=l*2,D=W[l],m=W[l+q];k[K+1]=k[K+2*q]=m;if(((B>>>1)+U&1)==0){k[K]=D;
k[K+2*q+1]=W[l+1]}else{k[K]=W[l-1];k[K+2*q+1]=D}}return k};lf.Ny={};lf.Ny.aGJ=function(W,q,X){X=X<<8-(q&7);
var k=q>>>3;W[k]|=X>>>16;W[k+1]|=X>>>8;W[k+2]|=X};lf.Ny.Zr=!0;lf.Ny.Vp=async function(W,q,X,k){var B=new Uint8Array(W),U=0,l=Date.now(),K=await kL.WZ(new Blob([W])),D=K.moov.uuid[0],m=new CR3Parser(W),Y=m.getTrack().meta,a=D.CMT1[0],p=a.t256[0]=Y.width,M=a.t257[0]=Y.height,x=p*M,R=a.exifIFD=D.CMT2[0],y=R.makerNote=D.CMT3[0],s=K.moov.trak[3].mdia.minf.stbl,F=s.co64[0],E=B.slice(F,F+s.stsz[0]),o=0;
while(o<E.length){var G=Z.P2(E,o);o+=4;var d=Z.Sm(E,o);o+=2;var u=E[o]==1;o+=2;o+=4;if(d==8||d==9){var r=UTIF.decode(E.slice(o+8,o+G-12).buffer)[0];
for(var v in r)y[v]=r[v]}o+=G-12}a.t277=[1];a.t33421=[2,2];a.t33422=[0,1,1,2];a.cC=1;if(a.t274)a.cC=a.t274[0];
var c=m.extractCFA(),V=Y.bitDepth;if(V!=14)throw"e";a.t258=[V];var j=new Uint8Array(Math.ceil(x*V/8)),Q=16-V;
for(var N=0;N<x;N++)lf.Ny.aGJ(j,N*14,c[N]<<Q);a.width=p;a.height=M;a.data=j;X(null,[a],k)};lf.Xy={};
lf.Xy.D1=!0;lf.Xy._M=function(W,q,X,k){var B=new Uint8Array(W[0][0]),U=q*X,l=[1,3,4][k.cnum],K=8+8*k.dpth,D=k.endi;
if(l==1){var m=new Uint8Array(q*X);g.u6(B,m,0);B=m}if(l==3){var m=new Uint8Array(q*X*3);for(var N=0;
N<U;N++){var Y=N*4,a=N*3;m[a]=B[Y];m[a+1]=B[Y+1];m[a+2]=B[Y+2]}B=m}if(K==16){var p=B.length,m=new Uint8Array(p*2);
for(var N=0;N<p;N++){var M=Math.round(B[N]*(65535/255));m[N*2+D]=M>>>8;m[N*2+1-D]=M&255}B=m}return B.buffer};
lf.iA={};lf.iA.Vp=function(W,q){function X(f){return~~(.5+g.Kz(Math.max(0,Math.min(1,f)))*255)}var k=new Uint8Array(W),B=4,U=Z.P2(k,B);
B+=4;console.log(k);var l={};B=lf.iA.pO(k,B,l);var K=l.compression,D=l.channels,m=D.length,Y=Date.now();
if(K==3&&m>4){var a=l.dataWindow,p=a[2]+1,M=a[3]+1,x=[];while(!0){var R=Z.P2(k,B+x.length*8);if(R==0)break;
x.push(R)}B+=x.length*8;function y(i,f,w,dF,Q,P){var t=i[w*(m*p)+dF*p+f];return X(t)}function s(i,e){for(var z=0,a1=Math.floor((i.length+1)/2),dF=0,N=i.length-1;
!(dF>N||(e[dF++]=i[z++],dF>N));)e[dF++]=i[a1++]}var F=[],E={},o=[];for(var N=0;N<D.length;N++){var G=D[N],d=G[0];
if(d.indexOf(".")==-1)d="main."+d;var u=d.split(".");while(u.length>2)u[0]=u.shift()+"_"+u[0];var r=u[0],v=u[1];
if(E[r]==null){E[r]=F.length;var c=g.j(p*M*4);F.push(c);c.fill(255)}o.push([E[r],{R:0,G:1,B:2,A:3}[v]])}for(var N=0;
N<x.length;N++){var V=x[N],j=Z.P2(k,V),T;V+=4;var Q=N==x.length-1?M-j:16,H=Z.P2(k,V);V+=4;if(K==3){var T=new Uint8Array(Q*p*m*4);
UZIP.inflateRaw(k.slice(V+2,V+H),T);for(var e=1;e<T.length;e++){var z=T[e-1]+T[e]-128;T[e]=z}var J=new Uint8Array(T.length);
s(T,J);T=new Float32Array(J.buffer)}var P=g.j(T.length);for(var L=0;L<m;L++){var A=o[L],h=F[A[0]],C=A[1];
for(var w=0;w<Q;w++){for(var f=0;f<p;f++){var O=((w+j)*p+f)*4;h[O+C]=y(T,f,w,L,Q,P)}}}}var n=[];for(var d in E){n.push({oq:new dU(0,0,p,M),data:F[E[d]].buffer,vk:d})}console.log(Date.now()-Y);
return n.reverse()}else{var $=EXRLoader.parse(W),p=$.width,M=$.height,h=g.j(p*M*4,32);for(var w=0;w<M;
w++)for(var f=0;f<p;f++){var N=(w*p+f)*4,d9=((M-w-1)*p+f)*4;h[N]=$.data[d9+0];h[N+1]=$.data[d9+1];h[N+2]=$.data[d9+2];
h[N+3]=$.data[d9+3]}return[{oq:new dU(0,0,p,M),data:h.buffer,depth:32,AO:lf.Nx.get("icc/srgb_lin")}]}};
lf.iA._M=function(W,q,X,k,B){var U=W[0],l=Math.floor(U[0].byteLength/(q*X*4))*8,K=new Uint8Array(6e6),D=0;
Z.Tk(K,D,20000630);D+=4;Z.Tk(K,D,2);D+=4;D=lf.iA.GJ(K,D,B);return K};lf.iA.GJ=function(W,q,X){var k={"Exif:ImageHistory":"string",Software:"string",capDate:"string",channels:"chlist",screenWindowCenter:"v2f",dataWindow:"box2i",displayWindow:"box2i",pixelAspectRatio:"float",screenWindowWidth:"float"},B=Z.o3,U=Z.Tk,l=Z.Ns;
for(var K in X){var D=k[K],m=X[K],Y=0;if(D==null)D=K;B(W,q,K);q+=K.length+1;B(W,q,D);q+=D.length+1;var a=q;
q+=4;if(D=="box2i"){for(var N=0;N<4;N++)U(W,q+N*4,m[N]);Y=16}else if(D=="float"){l(W,q,m);Y=4}else if(D=="v2f"){for(var N=0;
N<2;N++)l(W,q+N*4,m[N]);Y=8}else if(D=="string"){B(W,q,m);Y=m.length}else if(D=="chlist"){var p=q;for(var N=0;
N<m.length;N++){var M=m[N];B(W,p,M[0]);p+=M[0].length+1;U(W,p,M[1]);p+=4;U(W,p,M[2]);p+=4;U(W,p,M[3]);
p+=4;U(W,p,M[4]);p+=4}Y=p-q+1}else{W[q]=m;Y=1}U(W,a,Y);q+=Y}};lf.iA.pO=function(W,q,X){function k(x,R){var y=R;
while(x[y]!=0)y++;return y-R}while(W[q]!=0){var B=Z.zD(W,q,k(W,q));q+=B.length+1;var U=Z.zD(W,q,k(W,q));
q+=U.length+1;var l=Z.P2(W,q);q+=4;var K=W.slice(q,q+l);if(l==1)K=W[q];else if(U=="box2i"){K=[];for(var N=0;
N<4;N++)K.push(Z.qX(W,q+4*N))}else if(U=="float")K=Z.EI(W,q);else if(U=="v2f"){K=[];for(var N=0;N<2;
N++)K.push(Z.EI(W,q+4*N))}else if(U=="chlist"){var D=q;K=[];while(W[D]!=0){var m=Z.zD(W,D,k(W,D));D+=m.length+1;
var Y=Z.P2(W,D);D+=4;var a=W[D];D++;D+=3;var p=Z.P2(W,D);D+=4;var M=Z.P2(W,D);D+=4;K.push([m,Y,a,p,M])}}else if(U=="string"){K=Z.zD(K,0,K.length)}else console.log("-----",U);
X[B]=K;q+=l}return q+1};lf.ng={};lf.ng.Vp=function(W,q){var X=new Uint8Array(W),k=0,B=[],U,l,K;while(!0){var D=k;
while(X[D]!=10&&D-k<80&&X[D]<128)D++;if(X[D]!=10)break;var m=Z.zD(X,k,D-k);if(m.startsWith("-Y")){var Y=m.split(" ");
l=parseInt(Y[1]);U=parseInt(Y[3]);K=g.j(U*l*4)}k=D+1}var a=Date.now();lf.ng.aJ0(X,K,k,U,l);var p=new Float32Array(U*l*4),M=[];
for(var N=0;N<256;N++)M[N]=1/255*Math.pow(2,N-128);for(var N=0;N<U*l;N++){var x=N*4,R=K[x+3];if(R!=0){var y=M[R];
p[x]=(K[x+0]+.5)*y;p[x+1]=(K[x+1]+.5)*y;p[x+2]=(K[x+2]+.5)*y}p[x+3]=1}return[{oq:new dU(0,0,U,l),data:p.buffer,depth:32,AO:lf.Nx.get("icc/srgb_lin")}]};
lf.ng.aJ0=function(W,q,X,k,B){var U=new Int8Array(W.buffer);for(var l=0;l<B;l++){var K=l*k,D=U[X],m=U[X+1],Y=U[X+2];
X+=4;if(D==2&&m==2&&Y>=0){for(var a=0;a<4;a++){var p=K,M=0;while(M<k){var x=W[X];X++;if(x<=128){for(var N=0;
N<x;N++){q[a+p*4]=W[X];X++;p++}}else{var R=W[X];X++;x-=128;for(N=0;N<x;N++){q[a+p*4]=R;p++}}M+=x}}}else{var p=K;
for(var M=0;M<k;M++){var D=0,m=0,Y=0,y=0;if(M>0){D=U[X];m=U[X+1];Y=U[X+2];y=U[X+3];X+=4}if(D==1&&m==1&&Y==1){console.log("doing a run");
var x=y&255,s=q[(p-1)*4],F=q[(p-1)*4+1],E=q[(p-1)*4+2],o=q[(p-1)*4+3];for(N=0;N<x;N++){q[p*4+0]=s;q[p*4+1]=F;
q[p*4+2]=E;q[p*4+3]=o;p+=1}M+=x-1}else{q[p*4+0]=W[X-4];q[p*4+1]=W[X-3];q[p*4+2]=W[X-2];q[p*4+3]=W[X-1];
p+=1}}}}};lf.M9={};lf.M9.D1=!0;lf.M9.MM=!0;lf.M9._M=function(W,q,X,k,B){k={pags:"",qual:100};k.fmts=["jpg"];
var U=new ToDXF;b1.zX(W,k,U,B.yK);return U.buffer};lf.M9.Vp=function(W,q){var X=72,k=new ka(1,0,0,1,0,0);
k.scale(X/72,X/72);q.mC=X;var B=new kb(q,k,!1);FromDXF.Parse(W,B)};lf.axn={};lf.axn.Vp=function(){var W=Z.Sm,q=Z.P2,X=Z.zD,k;
function B(l,K,D,m,Y){var a=q(l,D),p=q(l,D+4),M=q(l,D+8),x=W(l,D+12),R=W(l,D+14);D+=16;var y={};for(var N=0;
N<x+R;N++){var s=q(l,D),F=q(l,D+4),E,o;if(s>>>31==1){s=s&16777215}if(N<x)E=Z.gq(l,K+s+2,W(l,K+s));else E="id"+s;
var G=m.slice(0);G.push(E);if(F>>>31==1){F=F&268435455;o=B(l,K,K+F,G,Y)}else{var d=q(l,K+F),u=q(l,K+F+4),r=q(l,K+F+8),v=q(l,K+F+12);
if(v!=0)throw"e";if(d<Y[0]||d>Y[0]+Y[1])throw"e";var c=Y[2]+d-Y[0];o=l.slice(c,c+u);var V=lf.pP(o.buffer);
if(V&&["bmp","png","ico"].indexOf(V)!=-1){var j=lf.c_(V);if(!j.MM){var Q=null;try{Q=j.Vp(o.buffer)}catch(bu){}if(Q){Q[0].vk=G[1];
k.push(Q[0])}}}else if(V)console.log(V)}y[E]=o;D+=8}return y}function U(l){k=[];var K=new Uint8Array(l),D=0,m=W(K,D);
D+=2;D+=58;var Y=q(K,D);D+=4;D=Y;var a=X(K,D,4);D+=4;var p=W(K,D);D+=2;var M=W(K,D);D+=2;var x=q(K,D);
D+=4;var R=q(K,D);D+=4;var y=q(K,D);D+=4;var s=W(K,D);D+=2;var F=W(K,D);D+=2;D+=s;var E={};for(var N=0;
N<M;N++){var o=D;while(K[o]!=0)o++;var G=X(K,D,o-D),d=q(K,D+8),u=q(K,D+12),r=q(K,D+16),v=q(K,D+20),c=q(K,D+24),V=q(K,D+28),j=W(K,D+32),Q=W(K,D+34),F=q(K,D+36);
E[G]=[u,d,v,r,F];if(c+V!=0)throw"e";D+=40}for(var H in E){var T=E[H];D=T[2];if(H==".rsrc"){var e=B(K,D,D,[],T),z="id134"}}return k}return U}();
lf.Mz={};lf.Mz.MM=!0;lf.Mz.Vp=function(W,q,X){if(X&&X.length!=2)X=null;jt.WZ(W,q,X)};lf.Mz._M=function(W,q,X){return jt.zX(W)};
(function(){var W=lf.Nx.get("wasm/zstd").buffer;WebAssembly.instantiate(W).then(function(q){var X=q.instance.exports;
lf.Mz.ahR=X})}());lf.Mz.eG=function(W,q){var X=lf.Mz.ahR,k=W.length,B=X.memory,U=2*k+1e6,D=4;lf.Q0(X,U);
var l=new Uint8Array(B.buffer),K=X.malloc(k);l.set(W,K);while(!0){var m=q==null?k*D:q,Y=lf.Q0(X,U+m);
if(Y!=0){alert("This file is too bif for your browser (WASM memory grow breaks at "+eb.qc(Y)+")",5e3);
return null}var a=X.malloc(m),p=X.ZSTD_decompress(a,m,K,k);if(p==-70){X.free(a);D+=D>>>1;if(q!=null)throw"error"}else{l=new Uint8Array(B.buffer);
W=l.slice(a,a+p);X.free(a);break}}X.free(K);return W};lf.vm={};lf.vm.MM=!0;lf.vm.Vp=function(){var W=0,q=1,X=2,k=3,B=4,U=5,l=6,K=7,D=1,m=2,Y=7,a=8,p=9,M,x,R,y,s;
function F(){var a1=Z.qX(M,x);x+=4;return a1}function E(){var J=0,P=0;for(var N=0;N<5;N++){var L=M[x++];
J+=(L&127)<<P;P+=7;if((L&128)==0)break}return J}function o(){var J=E(),P=Z._o(M,x,J);x+=J;return P}function G(){return{typeName:o(),aER:F()}}function d(){var J=F(),P=o(),L=[],A=F();
for(var N=0;N<A;N++)L.push([o()]);return{id:J,em:P,agP:L}}function u(J){var P=J.agP,L=[];for(var N=0;
N<P.length;N++)P[N].push(M[x++]);for(var N=0;N<P.length;N++){var A=P[N][1],h;P[N].push(r(A))}}function r(J){var P;
if(J==W)P=M[x++];else if(J==k)P=o();else if(J==B)P=G();else if(J==q||J==X||J==l||J==U){}else throw J;
return P}function v(J,P,L){var A;if(J==W){if(P==D)A=M[x++]==1;else if(P==m){A=M[x++]}else if(P==a)A=F();
else if(P==p){A=F();F()}else throw P}else if(J==k){A=Q(L+1)}else if(J==B){A=Q(L+1)}else if(J==U){A=Q(L+1)}else if(J==q){A=Q(L+1)}else if(J==l){A=Q(L+1)}else if(J==X){A=Q(L+1)}else throw J;
return A}function c(J,P){var L=R["c"+J],A=L.agP,h={_class:L.em};for(var N=0;N<A.length;N++){var C=A[N],w=C[1],f=C[2],O=v(w,f,P),n=C[0];
h[n]=O}return h}function V(J,P,L,A){var h=[];for(var N=0;N<J;N++){var C=v(P,L,A);if(C.t&&C.t=="null_count"){var w=C.he;
for(var f=0;f<w;f++)h.push(null);N+=w-1}else h.push(C)}return h}function j(){return[F(),F()]}function Q(J){if(J==null)throw"e";
var P=null,L=M[x],A=null;x++;if(L==0){var h=F(),C=F(),w=F(),f=F();P=[h,C,w,f]}else if(L==1){A=F();var O=F();
P=c(O,J)}else if(L==4){var n=d();A=n.id;u(n);R["c"+n.id]=n;P=c(n.id,J)}else if(L==5){var n=d();A=n.id;
u(n);var $=F();R["c"+n.id]=n;P=c(n.id,J)}else if(L==6){A=F();var d9=o();P=d9}else if(L==7){A=F();var i=M[x++];
if(i!=0)throw i;var dF=F();if(dF!=1)throw dF;var t=F(),im=M[x++],bc=r(im);P=V(t,im,bc,J)}else if(L==9){var at=F();
P={t:"ref",he:at};s["o"+at]=!0}else if(L==10){P={t:"null_count",he:1}}else if(L==11){P={t:"end"}}else if(L==12){var $=F(),l9=o()}else if(L==13){var fF=M[x++];
P={t:"null_count",he:fF}}else if(L==16){var g$=j();A=g$[0];P=V(g$[1],B,null,J)}else if(L==17){var g$=j();
A=g$[0];P=V(g$[1],q,null,J)}else throw"e";if(A!=null&&A>0){if(y["o"+A]!=null)throw"e";y["o"+A]=P}return P}function H(J,y){if(J instanceof Array){for(var N=0;
N<J.length;N++)J[N]=T(J[N],y)}else if(J instanceof Object){for(var P in J)J[P]=T(J[P],y)}}function T(J,y){if(J&&J.t&&J.t=="ref")return y["o"+J.he];
else return J}function e(J,P,L){var A=Date.now();M=new Uint8Array(J);x=0;R={};y={};s={};var h=Z.zD(M,0,4);
if(h!="PDN3")throw h;x+=4;var C=Z.Sm(M,x)+M[x+2]*256*256;x+=3;var w=Z.zD(M,x,C);x+=C;x+=2;while(!0){var f=Q(0);
if(f&&f.t&&f.t=="end")break}for(var O in s)if(y[O]==null)throw O;for(var O in y)H(y[O],y);var n=y.o1;
console.log(n);P.r=n.width;P.$=n.height;P.buffer=g.j(P.r*P.$*4);var $=n.layers["ArrayList+_items"];for(var N=0;
N<$.length;N++){var d9=$[N];if(d9==null)continue;var i=d9["Layer+width"],dF=d9["Layer+height"],t=d9["Layer+properties"],im=d9.properties,bc=im.blendOp._class.split("+").pop();
bc=bc.slice(0,bc.length-7);var at={Normal:"norm",Multiply:"mul ",Additive:"lddg",ColorBurn:"idiv",ColorDodge:"div ",Reflect:"lddg",Glow:"hMix",Overlay:"over",Difference:"diff",Negation:"smud",Lighten:"lite",Darken:"dark",Screen:"scrn",Xor:"smud"}[bc],l9=P.Sh();
l9.YY(t.name);l9.zO=t.opacity;l9.ZR(t.visible);l9.JY=at;if(M[x]!=0)throw"e";x++;var fF=Z.WP(M,x);x+=4;
var g$=Math.ceil(i*dF*4/fF);l9.S=new dU(0,0,i,dF);var fR=l9.buffer=g.j(i*dF*4);for(var cr=0;cr<g$&&x<M.length;
cr++){var eE=z();fR.set(eE[1],eE[0]*fF)}for(var bQ=0;bQ<fR.length;bQ+=4){var hT=fR[bQ+0];fR[bQ+0]=fR[bQ+2];
fR[bQ+2]=hT}P.U.push(l9)}}function z(){var J=Z.WP(M,x);x+=4;var P=Z.WP(M,x);x+=4;x+=10;P-=10;var L=pako.inflateRaw(M.slice(x,x+P));
x+=P;return[J,L]}return e}();lf.bK={};lf.bK.MM=!0;lf.bK.Vp=function(W,q){iW.WZ(W,q)};lf.NM={};lf.NM.MM=!0;
lf.NM.Vp=function(){var W,q,y=null,u,r;function X(){var e=W[q];q+=1;return e}function k(){var e=Z.U_(W,q);
q+=2;return e}function B(){var e=Z.WP(W,q);q+=4;return e}function U(){var e=Z.WU(W,q);q+=4;return e}function l(){var e=Z.sa(W,q);
q+=8;return e}function K(){var e=B();if(e>200)throw e;var z=Z.Pa(W,q,e);q+=e*2;return z}function D(){var e=Z.Rm(W,q);
q+=8;return e}function m(){var e=Z.Op(W,q);q+=4;return e}function Y(){var e=B();if(B()!=4)throw"e";var z=[];
for(var N=0;N<e;N++)z.push(B());return z}function a(e,z,J){for(var N=0;N<e.length;N++)if(e[N][z]==J)return e[N]}function p(e,z){var J=Date.now();
W=new Uint8Array(e);q=Z.Ka(W,"CH"+"NK"+"SQ"+"Li")+8;var P=l(),L=bs.parse(W.buffer.slice(q,q+P)),A=bs.atS(L,!0);
console.log(A);var h=A.Canvas[0],C=h.Width,w=h.Height,f=h.Unit,O=z.mC=h.Resolution;if(f==0){}else if(f==1){C=Math.round(C*O/2.54);
w=Math.round(w*O/2.54)}else if(f==2){C=Math.round(C*O/25.4);w=Math.round(w*O/25.4)}else if(f==3){C=Math.round(C*O);
w=Math.round(w*O)}else if(f==5){C=Math.round(C*O/72);w=Math.round(w*O/72)}else{console.log(h);throw f}z.r=C;
z.$=w;z.buffer=g.j(C*w*4);console.log(Date.now()-J);var n=a(A.Layer,"MainId",h.RootFolder);j(A,W,z,n.FirstChildIndex,0);
console.log(Date.now()-J)}function M(){var e=Z.Sm(W,q);q+=2;return e}function x(){var e=Z.P2(W,q);q+=4;
return e}function R(){var e=Z.qX(W,q);q+=4;return e}function s(e){var z={11:"runs",31:"font",32:"size",33:"unit",34:"colr",42:"bbox",57:"fnts",63:"bdim",64:"bplg"},P=0;
W=e;q=0;var J={};while(q<W.length){var L=x(),A=x(),h=q+A;if(A==0)continue;var C=[];if(L==11){var w=x();
for(var f=0;f<w;f++){var O=[x(),x()];C.push(O);P+=O[1];var n=q+x()-4;O.push(M(),M(),M(),M());O.push(Z.mx(W,q));
q+=8;var $=M();O.push(Z.gq(W,q,$));q+=$*2;if(q!=n)throw"e"}}else if(L==31){C=Z._o(W,q,A);q+=A}else if(L==34)for(var N=0;
N<3;N++)C.push(x()>>>16);else if(L==42)for(var N=0;N<4;N++)C.push(R());else if([32,33,35,37,38,43,44,45,46,48,49,50,51,52,53,55,58,59,60,61,62].indexOf(L)!=-1){if(A!=4)throw"e";
C=x();if([37,45,46,51,53,55,61,62].indexOf(L)!=-1){q=h;continue}}else if(L==47){var d9=M();if(x()!=50)throw"e";
if(x()!=0)throw"e";var i=M();C=Z.zD(W,q,i);q+=i}else if(L==57){var w=M();for(var N=0;N<w;N++){var dF=M(),t=Z.zD(W,q,dF);
q+=dF;var im=M(),bc=Z.zD(W,q,im);q+=im;C.push([t,bc])}if(q<h){var at=x();for(var N=0;N<w;N++)C[N].push(at)}}else if(L==39||L==63)C.push(x(),x());
else if(L==64){for(var N=0;N<8;N++)C.push(Z.qX(W,q+N*4)/100);q+=32}else{C=W.slice(q,h);q+=A}var l9=z[L];
if(l9==null)l9="t"+L;if(J[l9])throw"e";J[l9]=C;if(q!=h)throw L}if(y){}y=J;return J}function F(e){W=e;
q=0;var z=B();if(z!=e.length)throw"e";var J=B(),P=K(),L=B(),A=D(),h=[B()/4294967295,B()/4294967295,B()/4294967295];
return[L,A,h]}function E(e,z){function J(){var ea=[];for(var N=0;N<4;N++)ea.push(Z.WU(W,q+N*4));q+=16;
return ea}function P(a1){var ea=[];for(var N=0;N<a1;N++)ea.push(m());return ea}function L(ea){var ie="";
for(var N=q;N<ea;N+=4)ie+=W.slice(N,N+4).join(", ")+"\n";return ie}W=e;q=z+8;var A=l(),h=q+A;q+=56;if(q==h)return;
var C=[],w=[],f=[],O=[],n=[];while(q<h){var $=B(),fR=1;if($!=88&&$!=92&&$!=96&&$!=100)throw $;var d9=B();
if(d9!=72&&d9!=76)throw d9;var i=B();if(i!=88&&i!=104&&i!=120)throw i;var dF=B();if(dF!=88)throw dF;
var t=B(),im=B(),bc=J(),at=[];f.push(at);for(var N=0;N<6;N++){at.push(o(B()))}var l9=D();if(d9==76)B();
var fF=B();if((im&1)==0){console.log("8 extra bytes");B();fF=B()}var g$=D();O.push(g$);var cr=B(),eE=(im&256)!=0,bQ=[],hT=[],df={88:1,104:2,120:3}[i];
for(var N=0;N<t;N++){var eV=N==0?1:df;for(var gU=0;gU<eV;gU++)bQ.push(D(),D());hT.push(eV==1?N==0?"M":"L":eV==2?"Q":"C");
var i8=J(),bv=B();fR=m();var fE=P(10),d5=B(),aR=B()}n.push(fR);if(i==104){var l8=D(),au=D();if(eE){hT.push("Q");
bQ.push(l8,au,bQ[0],bQ[1])}}if(i==120){var l8=D(),au=D(),hx=D(),fw=D();if(eE){hT.push("C");bQ.push(l8,au,hx,fw,bQ[0],bQ[1])}}if(im&128){var cx=["M"],fg=[bQ[0],bQ[1]],iI=bQ.length>>>1,eq=g.b.ajM(bQ);
for(var N=0;N<iI;N++){var fS=bQ[2*N],f1=bQ[2*N+1],c4=.7;for(var gU=0;gU<2;gU++){eq[N*4+gU*2]=c4*eq[N*4+gU*2]+(1-c4)*fS;
eq[N*4+gU*2+1]=c4*eq[N*4+gU*2+1]+(1-c4)*f1}}for(var N=1;N<iI;N++){cx.push("C");fg.push(eq[N*4-2],eq[N*4-1],eq[N*4],eq[N*4+1],bQ[N*2],bQ[N*2+1])}if(eE){cx.push("C");
fg.push(eq[iI*4-2],eq[iI*4-1],eq[0],eq[1],bQ[0],bQ[1])}bQ=fg;hT=cx}if(eE)hT.push("Z");w=w.concat(bQ);
C=C.concat(hT)}if(q!=h)throw"e";return[{n:w,zb:C},f,O,n]}function o(e){return Math.min(255,Math.round(e/16777216))}function G(e){W=e;
q=0;var z=B();if(z!=16)throw z;var J=B();if(J!=102)throw J;var P=B();if(P!=42&&P!=58)throw P;var L=B();
if(e.length-L!=118+P)throw e.length-L;var A=K();if(A!="Parameter")throw A;var h=B(),C=B(),w=B(),f=B(),O=[];
for(var N=0;N<16;N++)O.push(B());var A=K();if(A!="InitColor")throw A;if(B()!=20)throw"e";var n=B(),$=B(),d9=B();
if(B()!=4)throw"e";if(P==58){var i=[];O.push(i);for(var N=0;N<4;N++)i.push(o(B()))}var A=K();if(A!="BlockSize")throw A;
var dF=B();if(dF!=12)throw dF;var t=Y();if(q!=W.length)throw"e";return[h,C,w,f,n*255,O]}function d(e,z){var J=Z.zD(z,0,40),P=a(e["ExternalC"+"hunk"],"Exte"+"rnalID",J);
if(P==null){console.log("chnk not found",J)}return P?P.Offset:-1}function v(e,z,J,P){if(u==null){u=g.j(256*256*4);
r=g.j(256*256)}var L=e.Mipmap,A=e.MipmapInfo,h=e.Offscreen,C=a(L,"MainId",J),w=a(A,"MainId",C.BaseMipmapInfo),f=a(h,"MainId",w.Offscreen),O=d(e,f.BlockData),p=null;
if(O==-1)return null;var n=lf.NM.aff(z,O),$=G(f.Attribute),d9=$[0],i=$[1],dF=$[2],t=$[3],im=$[4],bc=$[5],at=bc[16],l9=bc[1],fF=bc[2],g$=l9+fF;
if(fF!=bc[5])throw"e";if(l9!=bc[7])throw"e";var fR=g.j(256*(bc[6]+bc[8])),cr=new dU;if(at)cr=new dU(0,0,d9,i);
else{for(var eE=0;eE<t;eE++)for(var bQ=0;bQ<dF;bQ++){var hT=n[eE*dF+bQ];if(hT.length==0)continue;cr=cr.xw(new dU(bQ<<8,eE<<8,256,256))}}var df=cr.x$(new dU(0,0,d9,i)),eV=g.j(df.C()*(g$==1?1:4));
if(at)g.WD(eV,255<<24|at[0]<<16|at[1]<<8|at[2]);if(g$==1)eV.fill(im);var gU=new Uint32Array(u.buffer),i8={};
for(var eE=0;eE<t;eE++)for(var bQ=0;bQ<dF;bQ++){var hT=n[eE*dF+bQ];if(hT.length==0)continue;var bv=new Uint8Array(hT.buffer,hT.byteOffset+2,hT.length-6),fE=new dU(bQ<<8,eE<<8,256,256),d5=fR;
if(bv.length<2e3){var J=bv.length+","+fR.length+","+bv.slice(0,16).join(":");if(i8[J]==null){UZIP.inflateRaw(bv,fR);
i8[J]=fR.slice(0)}d5=i8[J]}else UZIP.inflateRaw(bv,fR);if(g$==1){if(bc[8]==32){c(d5,0,r);g.Z_(r,fE,eV,df)}else g.Z_(d5,fE,eV,df)}else if(g$==2){if(bc[8]==32){g.WD(u,267387135);
c(d5,0,r);g.fP(r,u,3);c(d5,256*32,r);g.LO(r,u)}else for(var N=0;N<262144;N+=4){var at=d5[65536+(N>>>2)];
u[N]=at;u[N+1]=at;u[N+2]=at;u[N+3]=d5[N>>>2]}g.YE(u,fE,eV,df)}else if(g$==5){for(var N=0;N<262144;N+=4){gU[N>>>2]=d5[N>>>2]<<24|d5[65536+N+0]<<16|d5[65536+N+1]<<8|d5[65536+N+2]}g.YE(u,fE,eV,df)}else throw g$}if(P&&g$==1){var aR=g.j(d9*i*4);
g.fP(eV,aR,3);eV=aR}return[df,eV,im]}function c(e,q,z){for(var N=0;N<z.length;N++){z[N]=(e[q+(N>>>3)]>>>7-(N&7)&1)*255}}var V=["norm","dark","mul ","idiv","lbrn",null,"dkCl","lite","scrn","div ","div ","lddg","lddg",null,"over","sLit","hLit","vLit","lLit","pLit",null,null,"smud",null,null,null,null,null,null,null,"pass",null,null,null,null,null,"fdiv"];
function j(e,z,J,P,L){var A=e.Layer,h=e.Canvas[0];while(P!=0){var C=a(A,"MainId",P),w=C.Type,t=!1;console.log(C);
var f=J.Sh();f.YY(C.Name);f.zO=Math.min(255,C.Opacity);f.ZR((C.Visibility&1)!=0);f.JY=V[C.Composite];
if(f.JY==null){alert("Unknown blend mode "+C.Composite);f.JY="norm"}f.Oa=C.Clip==1;J.U.push(f);var O=C.LayerMaskMipmap;
if(O!=0){var n=v(e,z,O,!1);if(n){f.BD=new b.pj;f.BD.S=n[0];f.BD.c=n[1];f.BD.color=n[2];Q(f.BD.S,C,"Mask","Mask");
f.BD.xX()}}var $=[];for(var N=0;N<3;N++)$.push(o(C["DrawColorMain"+["Red","Green","Blue"][N]]));var d9={t:"Objc",v:g.ov.E2({o:$[0],L:$[1],X:$[2]})},i=JSON.parse(kE.default);
for(var N=0;N<kE.order.length;N++)i[kE.m1[N]]={t:"VlLs",v:[]};if(C.DrawColorEnable==1&&w!=1584){t=!0;
var im=JSON.parse(kE.iv[kE.order.indexOf("SoFi")]);im.Clr=d9;i.solidFillMulti.v.push({t:"Objc",v:im})}if(C.EffectInfo){var bc=F(C.EffectInfo),$=bc[2];
if(bc[0]==1){t=!0;var im=JSON.parse(kE.iv[kE.order.indexOf("FrFX")]);im.Clr.v=g.ov.E2({o:$[0]*255,L:$[1]*255,X:$[2]*255});
im.Sz.v.val=Math.round(bc[1]);i.frameFXMulti.v.push({t:"Objc",v:im})}}if(C.FilterLayerInfo){W=C.FilterLayerInfo;
q=0;var at=B(),l9=B();if(l9!=W.length-q)throw"e";var fF={1:"brit",3:"curv",4:"hue2",5:"blnc",6:"nvrt",9:"grdm"}[at];
if(fF!=null){var g$=dY.wy(fF);f.add[fF]=g$?g$:{};if(fF=="brit")dY.U9["g"+fF](g$,[U(),U(),!0]);if(fF=="hue2")cW.jr(g$,0,[U(),U(),U()]);
if(fF=="curv"){var fR=[],cr=q;for(var N=0;N<32;N++){q=cr+N*130;var eE=k(),bQ=[];fR.push(bQ);for(var hT=0;
hT<eE;hT++)bQ.push(k()/65535,k()/65535)}for(var N=0;N<4;N++){var bQ=fR[N],df=eR.XN(g$,N),eV=df[0];for(var hT=0;
hT<bQ.length;hT+=2){var gU=df[hT>>>1]=g.N(eV);gU.v.Hrzn.v=Math.round(bQ[hT]*255);gU.v.Vrtc.v=Math.round(bQ[hT+1]*255)}eR.jr(g$,N,df)}}if(fF=="grdm"){var i8=g$.Grad.v,bv=[],fE=B();
if(fE!=l9-4)throw fE;var d5=B();if(d5!=16&&d5!=24)throw d5;var aR=B();if(aR!=28)throw aR;var l8=B();
for(var N=0;N<l8;N++){var au=0,hx=[];for(var hT=0;hT<7;hT++)hx.push(B());bv.push([hx[6]/32768,[hx[1]/4294967295,hx[2]/4294967295,hx[3]/4294967295],hx[4]/4294967295])}g.ov.mi(bv,i8)}if(fF=="blnc"){g$.PrsL.v=B()==1;
for(var N=0;N<3;N++){var fw=g$[["ShdL","MdtL","HghL"][N]].v;for(var hT=0;hT<3;hT++)fw[hT].v=U()}}}else console.log("Unknown adjustment",at,l9,f.getName())}if(w==1584){f.Z9|=16;
f.add.SoCo={classID:"null",Clr:d9};f.Ae(J)}else if(w==800){J.U.pop()}else if(C.Folder!=0){f.add.lsct=(C.Folder&16)!=0?e5.Fn:e5.B2;
f.JY="pass";J.U.pop();J.U.push(J.rS());j(e,z,J,C.FirstChildIndex,L+1);J.U.push(f)}else if(w==0||w==1||w==2||w==3){var n=v(e,z,C.RenderMipmap,!0);
if(n){f.S=n[0];f.buffer=n[1];Q(f.S,C,"Render","");if(f.S.C()<2e6)f.xX()}if(C.ResizableOriginalMipmap){var cx=v(e,z,C.ResizableOriginalMipmap,!0),fg=cx[0],iI;
if(fg.C()>4e6)iI=lf.hW.GC(cx[1].buffer,fg.r,fg.$);else iI=lf.c_("PNG")._M([[cx[1].buffer,0]],fg.r,fg.$);
var eq=J.ow(new Uint8Array(iI),f.getName(),0,0);f.add.SoLd=eq.add.SoLd;f.buffer=eq.buffer;f.S=eq.S;W=C.ResizableImageInfo;
q=0;var fS=[];for(var N=0;N<10;N++)fS.push(B());var f1=[];for(var N=0;N<7;N++)f1.push(D());for(var N=0;
N<6;N++)fS.push(B());var c4=[];for(var N=0;N<8;N++)c4.push(D());var ea=c4[4];c4[4]=c4[6];c4[6]=ea;ea=c4[5];
c4[5]=c4[7];c4[7]=ea;for(var N=0;N<8;N+=2){c4[N]+=C.OffsetX;c4[N+1]+=C.OffsetY}f.add.SoLd.Trnf=_.Gz.If(c4);
f.add.SoLd.nonAffineTransform=_.Gz.If(c4);if(f.P$()||g.b.Hb(c4).C()<1e8)f.uz(J,!1)}if(C.TextLayerType!=null){var ie="TextLayerString",i$="TextLayerAttributes",cI=[C[ie]],cD=[C[i$]];
if(C[ie+"Array"]){W=C[ie+"Array"];q=0;while(q<W.length){var l9=x();cI.push(W.slice(q,q+l9));q+=l9}W=C[i$+"Array"];
q=0;while(q<W.length){var l9=x();cD.push(W.slice(q,q+l9));q+=l9}}var fG=f;J.U.pop();for(var cH=0;cH<cI.length;
cH++){var f=fG.P(),k_=0,kW=0;J.U.push(f);var hL=s(cD[cH]),ee=hL.runs,aj=hL.fnts,iA=hL.bplg,eL=hL.bbox,hZ=eL[2]-eL[0],bZ=eL[3]-eL[1];
if(iA){k_=iA[2]-iA[0];kW=iA[3]-iA[1]}var iU=new ka;iU.translate(-hZ/2,-bZ/2);iU.rotate(Math.atan2(-kW,k_));
iU.translate(hZ/2,bZ/2);var kO=eL[0]+C.OffsetX,hq=eL[1]+C.OffsetY;iU.translate(kO,hq);f.add.lnsr="rend";
f.add.TySh=gZ.nG(0,0);f.add.TySh.oJ=new dU(0,0,500,500);f.add.TySh.M=iU;var e8=f.add.TySh.FZ,gi=Z._o(cI[cH]);
f.YY(gi);gZ.L3(e8,0,gi);gZ.XM(e8,1);gZ.eR(e8,[0,0,hZ,bZ]);if(ee)for(var N=0;N<ee.length;N++){var jZ=ee[N],cg=jZ[0],hn=cg+jZ[1],bF=jZ[2],gf=gZ.J0(e8,cg,hn),eH=J.mC/72*hL.size/100;
if((bF&512)!=0)eH*=jZ[6]/100;gf.n6.FontSize=Math.round(eH);var d9=(bF&256)!=0?jZ.slice(3):hL.colr;gf.n6.FillColor={Type:1,Values:[1,d9[0]/65535,d9[1]/65535,d9[2]/65535]};
var h5=jZ[7]==""?hL.font:jZ[7];if(aj){if(aj[N])h5=aj[N][1];else for(var hT=0;hT<aj.length;hT++)if(aj[hT][0]==h5)h5=aj[hT][1]}gZ.j_(gf,h5);
gZ.oM(e8,cg,hn,gf)}if(f.S.C()==0)J.Tr=!0;else{f.S=new dU(kO,hq,hZ,bZ);f.buffer=g.j(f.S.C()*4);g.YE(fG.buffer,fG.S,f.buffer,f.S)}}}}var gS=e.VectorObjectList;
if(C.VectorNormalType!=null&&gS&&a(gS,"LayerId",P)){var hP=a(gS,"LayerId",P).VectorData,iy=d(e,hP),cs=E(z,iy);
if(cs){var fH=null;if(f.add.TySh){var fH=f.P();J.U.push(fH);delete f.add.TySh}H(f,C,cs[0]);if(f.S3()){f.Z9|=24;
var eq=J.Sh();eq.YY(f.getName());eq.zO=f.zO;J.U.push(eq);H(eq,C,cs[0]);T(eq,cs);eq.Ae(J)}else{T(f,cs,fH!=null)}f.Ae(J);
if(fH){fH.add.TySh.M.concat(new ka(1,0,0,1,f.S.x+f.S.r/2,f.S.y+f.S.$/2))}}}if(t)f.add.lmfx=i;if(P==h.CurrentLayer)J.Y=[J.U.indexOf(f)];
P=C.NextIndex}}function Q(e,z,J,P){e.x+=z[J+"OffscrOffsetX"]+z[P+"OffsetX"];e.y+=z[J+"OffscrOffsetY"]+z[P+"OffsetY"]}function H(e,z,J){e.add.vmsk=new b.jY;
g.b.M(J.n,new ka(1,0,0,1,z.OffsetX,z.OffsetY),J.n);e.add.vmsk.G=g.b.gH(J);e.tw()}function T(e,z,J){var P=z[1][0],L=z[2][0];
e.Z9|=16;var A=e.add.vstk=kE.Cs.wy(!0,!0);A.fillEnabled.v=J==!0;e.add.SoCo={classID:"null",Clr:{t:"Objc",v:g.ov.E2({o:255,L:255,X:255})}};
A.strokeStyleContent.v.Clr.v=g.ov.E2({o:P[0],L:P[1],X:P[2]});A.strokeStyleLineWidth.v.val=L*2;A.strokeStyleLineCapType.v.strokeStyleLineCapType="strokeStyleRoundCap"}return p}();
lf.NM.aff=function(W,q){var X={MR:W,V0:q+8},D=0;function k(v){var c=Z.WP(v.MR,v.V0);v.V0+=4;return c}function B(v){var c=k(v);
if(c>200)throw c;var V=Z.Pa(v.MR,v.V0,c);v.V0+=c*2;return V}function U(v){var c=k(v);if(k(v)!=4)throw"e";
var m=[];for(var N=0;N<c;N++)m.push(k(v));return m}var l=Z.sa(X.MR,X.V0);X.V0+=8;var K=X.V0+l;X.V0+=56;
var m=[];while(X.V0<K){var Y=k(X),a=X.V0+Y-4;if(a>K)throw"e";if(Y==11){X.V0-=4;var p=B(X),M=k(X);if(M!=12)throw"e";
var x=U(X),R=B(X),M=k(X);if(M!=12)throw"e";var y=U(X);if(X.V0!=K)throw"e"}else{var s=B(X),F=k(X);if(F!=D)throw F;
D++;var E=Z.U_(X.MR,X.V0);X.V0+=2;if(E!=0&&E!=1&&E!=2&&E!=5)throw E;var o=X.MR[X.V0++];if(o!=0&&o!=32&&o!=64)throw o;
var G=k(X);if(G!=1)throw G;if(k(X)!=1)throw"e";if(X.MR[X.V0++]!=0)throw"e";if(k(X)==1){var d=k(X),u=Z.P2(X.MR,X.V0);
if(d!=u+4)throw"e";m.push(new Uint8Array(X.MR.buffer,X.V0+4,u));X.V0+=d}else m.push(new Uint8Array(0));
var r=B(X);if(X.V0!=a)throw X.V0}}return m};lf.ML={};lf.ML.MM=!0;lf.ML.Vp=function(W,q){jS.WZ(W,q)};
lf.BB={};lf.BB.MM=!0;lf.BB.Vp=function(W,q){var X=Date.now(),k=j8.parse(W),B=Z.qX,U=Z.lm,l=k.LtfHeader,K=0,D=B(l,K);
K+=4;if(D!=l.length)throw"e";var m=B(l,K);K+=4;if(m!=4609100)throw"e";var Y=B(l,K);K+=4;if(Y!=400&&Y!=500&&Y!=600)throw Y;
var a=U(l,K);K+=2;if(a!=2&&a!=4&&a!=32)throw a;var p=U(l,K);K+=2;var M=B(l,K),x=B(l,K+4);K+=8;var R=B(l,K)/1e4;
K+=8;var Y=B(l,K),a=B(l,K+4);K+=8;if(Y!=0&&Y!=1&&Y!=2)throw Y;if(Y==600)for(var N=0;N<20;N++)if(l[K+N]!=0)throw N;
K+=20;var Y=B(l,K);K+=4;if(Y!=0&&Y!=1)throw Y;var y=B(l,K);K+=4;if(y!=0&&y!=1)throw y;for(var N=0;N<476;
N++)if(l[K+N]!=0)throw N;K+=476;var s=K+104;q.r=M;q.$=x;q.buffer=g.j(M*x*4);var F=k.LtfMainPalette,E=k.LtfObjectList;
K=0;if(E){var a1=B(E,0);if(B(E,4)!=a1)throw"e";for(var o=0;o<a1;o++){K=8+o*192;var G=K+128;while(E[G]!=0)G+=2;
var d=Z.gq(E,K+128,G-(K+128)>>>1);lf.BB.X3(k[d],q,F)}}var u=q.Sh();q.U.push(u);u.YY("Background");if(k.LtfMainImage){var r=lf.BB.EA(k.LtfMainImage,null,F);
u.buffer=r[0];u.S=r[1]}else{u.S=new dU(0,0,M,x);var v=B(l,s);lf.BB.ayK(u,F?B(F,2+v*4):v)}q.U.reverse()};
lf.BB.aBV=function(W){var q="";for(var N=0;N<W.length;N++){var X=""+W[N];while(X.length<3)X=" "+X;q+=X+", "}return q};
lf.BB.X3=function(W,q,X){var k=Z.qX,B=q.Sh(),l=0;q.U.push(B);var U=W.ObjectData;if(k(U,0)!=U.length)throw"e";
l+=4;var K=l;while(U[K]!=0)K++;B.YY(Z.zD(U,l,K-l));l=K+1;if(K==5){if(U[l]!=0)throw"e";l++}var D=W.ObjectMask0,m=W.PathStream;
if(m&&D==null){var Y=B.add.vmsk=new b.jY;Y.G=lf.BB.v7(m);B.add.SoCo={classID:"null",Clr:{t:"Objc",v:g.ov.E2({o:U[232],L:U[233],X:U[234]})}};
B.add.vstk=kE.Cs.wy(!0);B.Ae(q)}if(D==null)return;B.S=new dU(k(D,0),k(D,4),k(D,8),k(D,12));if(W.ObjectImage){var a=lf.BB.EA(W.ObjectImage,null,X,B.S.r);
if(a[1].r!=B.S.r)throw"e";B.buffer=a[0]}else lf.BB.ayK(B,k(U,188));lf.BB.EA(new Uint8Array(D.buffer,16),B.buffer)};
lf.BB.ayK=function(W,q){W.buffer=g.j(W.S.C()*4);g.WD(W.buffer,255<<24|q)};lf.BB.v7=function(W){var q=Z.lm,X=Z.qX,k=Z.EI,l=0;
function B(y,s){var F=q(y,s),E=q(y,s+2);return E}var U=pako.inflate(W.slice(12));l=128;for(var N=0;N<260;
N++)if(U[l+N]!=0)throw N;l+=260;if(X(U,l)!=50)throw"e";l+=4;if(X(U,l)!=0)throw"e";l+=4;if(X(U,l)!=0)throw"e";
l+=4;var K=X(U,l);l+=4;var K=X(U,l);if(K!=106&&K!=186&&K!=196&&K!=236)throw X(U,l);l+=4;if(X(U,l)!=0)throw"e";
l+=4;if(X(U,l)!=24)throw"e";l+=4;if(X(U,l)!=0)throw"e";l+=4;var K=X(U,l);l+=4;var D=X(U,l);l+=4;if(X(U,l)!=0)throw"e";
l+=4;if(X(U,l)!=0)throw"e";l+=4;if(X(U,l)!=1280)throw"e";l+=4;for(var N=0;N<24;N++)if(U[l+N]!=0)throw N;
l+=24;var m=X(U,l);l+=4;if(42+m*10!=D)throw"e";var Y=X(U,l);l+=4;var a=X(U,l);l+=4;var p=[{I:6},{I:8,all:0}];
p.push({I:0,length:m,R3:0,HG:2,Wm:0,jA:0});for(var N=0;N<m;N++){var M=B(U,l+2),x=B(U,l+6),R=new hw(M,x);
p.push({I:2,mp:R.P(),WL:R,ko:R.P()});l+=10}return p};lf.BB.EA=function(W,q,X,k){var B=Z.qX,U=Z.Sm,l=lf.BB.aBV,K=0,D=B(W,K),x,R=0,T;
K+=4;var m=B(W,K);K+=4;var Y=B(W,K);K+=4;var a=B(W,K);K+=4;var p=B(W,K);K+=4;var M=D*m,y=W.length;if(M==y-20)x=new Uint8Array(W.buffer,20+W.byteOffset);
else if(Y==64*64*3||q&&Y==64*64){var s=lf.c_("jpg"),F=0,E=0;x=g.j(D*m);while(K<W.length){var o=B(W,K);
K+=4;var G=s.Vp(W.slice(K,K+o))[0],a=G.oq,d=new Uint8Array(G.data),u=q?D:D/3;for(var r=0;r<a.$;r++)for(var v=0;
v<a.r;v++){var c=r*a.r+v,V=(r+E)*u+(v+F);if(q)x[V]=d[c*4];else{x[V*3+0]=d[c*4+2];x[V*3+1]=d[c*4+1];x[V*3+2]=d[c*4+0]}}F+=64;
if(F>u){E+=64;F=0}K+=o}}else{x=g.j(M);for(var c=0;c<M;c+=Y){var j=c+Y,Q=B(W,K);K+=4;while(R<j&&K<y){var H=W[K];
K++;if(H<128)for(var N=0;N<H+1;N++){x[R++]=W[K++];if(q)continue;x[R++]=W[K++];x[R++]=W[K++]}else{H-=127;
for(var N=0;N<H;N++){x[R++]=W[K+0];if(q)continue;x[R++]=W[K+1];x[R++]=W[K+2]}K+=q?1:3}}}}if(q){for(var N=0;
N<M;N++)q[N*4+3]=x[N];return[x,new dU(0,0,D,m)]}if(X){T=g.j(M*4);for(var N=0;N<M;N++){var e=N<<2,Y=2+x[N]*4;
T[e]=X[Y];T[e+1]=X[Y+1];T[e+2]=X[Y+2];T[e+3]=255}}else if(k!=null&&k==D){T=g.j(M*4);T.fill(255);for(var N=0;
N<M;N++)T[N*4+0]=T[N*4+1]=T[N*4+2]=x[N]}else{D=Math.round(D/3);M=D*m;T=g.j(M*4);for(var N=0;N<M;N++){var V=N*3,e=N<<2;
T[e]=x[V];T[e+1]=x[V+1];T[e+2]=x[V+2];T[e+3]=255}}return[T,new dU(0,0,D,m)]};lf.q$={};lf.q$.MM=!0;lf.q$.Vp=function(){var W=Z.Sm,q=Z.P2,X=0;
function k(U,l){X=W(U,l+2);console.log("nFib",X,X.toString(16));l+=32;if(W(U,l)!=14)throw"e";l+=2;l+=28;
if(W(U,l)!=22)throw"e";l+=2;var K=q(U,l);l+=4;l+=8;var D=q(U,l);l+=4;var m=q(U,l);l+=4;var Y=q(U,l);
l+=4;l+=4;var a=q(U,l);l+=4;var p=q(U,l);l+=4;var M=q(U,l);l+=4;var x=q(U,l);l+=4;l+=11*4;var R=W(U,l);
l+=2;for(var N=0;N<R;N++){var y=q(U,l),s=q(U,l+4);l+=8}}function B(U,l){var K=j8.parse(U),D=K.WordDocument,m=[],Y=0;
while(Y<D.length){var a=Z.Ka(D,[255,216,255],Y);if(a==-1)break;m.push(a);Y=a+1}if(m.length==0){alert("No images found inside a document.");
return}var p=[],M=new dU;for(var N=0;N<m.length;N++){var x=D.slice(m[N],m[N+1]),R=lf.WJ.Vp(x.buffer)[0];
M=M.xw(R.oq);var y=l.Sh();l.U.push(y);y.YY("Layer");y.S=R.oq;y.buffer=new Uint8Array(R.data)}l.r=M.r;
l.$=M.$;l.buffer=g.j(M.C()*4)}return B}();lf.a4G={};lf.a4G.Vp=function(W){var q=new Uint8Array(W),X=Z.P2,l=16;
if(Z.zD(q,0,4)!="chlv")throw"e";var k=X(q,4),B=X(q,8),U=X(q,12),K=[];while(l<q.length){var D=X(q,l),m=X(q,l+48),Y=X(q,l+52),a=m*Y,p=m*4,M=g.j(m*Y*4);
M.fill(255);for(var x=0;x<Y;x++)for(var R=0;R<m;R+=4){var N=x*m+R,y=N*4,s=l+108+(N>>>2)*6;M[y]=q[s+1];
M[y+4]=q[s+3];M[y+8]=q[s+4];M[y+12]=q[s+5];for(var F=0;F<16;F+=4){M[y+F+1]=q[s+0];M[y+F+2]=q[s+2]}}var E=new Int8Array(M.buffer),o=new Uint8ClampedArray(M.buffer);
for(var x=0;x<Y;x++)for(var R=0;R<m;R++){var N=(x*m+R)*4,G=M[N],d=E[N+1],u=E[N+2],r=G+(45*u>>5),v=G-(11*d+23*u>>5),c=G+(113*d>>6);
o[N]=r;o[N+1]=v;o[N+2]=c}l+=D+4;K.push({oq:new dU(0,0,m,Y),data:M.buffer,vk:"_a_"+K.length})}return K};
var dd={};dd.gP=!1;dd.aCD=!1;dd.V$=!1;dd.mL=document.createElement("canvas");dd.Ca=null;dd.i7=null;dd.Ey=0;
(function(){var W={alpha:!0,antialias:!1,depth:!1,premultipliedAlpha:!1},q;if(!q)q=dd.mL.getContext("webgl2",W);
if(q){dd.gP=!0;dd.aCD=!0;dd.Ca=q;dd.i7=q.createFramebuffer();q.bindFramebuffer(q.FRAMEBUFFER,dd.i7);
q.disable(q.BLEND);q.disable(q.DEPTH_TEST);var X=q.createBuffer();q.bindBuffer(q.ARRAY_BUFFER,X);q.bufferData(q.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),q.STATIC_DRAW);
q.enableVertexAttribArray(0);q.vertexAttribPointer(0,2,q.FLOAT,!1,0,0)}}());dd.aHy=function(W){W=W.replace(/\s\s+/g," ");
W=W.replace(/; /g,";");W=W.replace(/} /g,"}");W=W.replace(/ }/g,"}");W=W.replace(/{ /g,"{");W=W.replace(/ {/g,"{");
W=W.replace(/= /g,"=");W=W.replace(/ =/g,"=");W=W.replace(/\| /g,"|");W=W.replace(/ \|/g,"|");return W};
dd.Nw=function(W,q){var X=dd.Ca;if(W>X.getParameter(X.MAX_TEXTURE_SIZE)){dd.gP=!1;alert("Too big texture ("+W+" px), Disabling WebGL")}if(q==16&&X.getExtension("EXT_texture_norm16")==null){dd.gP=!1;
alert("EXT_texture_norm16 missing, Disabling WebGL")}};dd.hw=function(W,q){return new Float32Array([(W.x-q.x)/q.r,(W.y-q.y)/q.$,W.r/q.r,W.$/q.$])};
dd.Nm=function(){return this.mL};dd.vo=function(W,q){var X=dd.Ca;X.bindFramebuffer(X.FRAMEBUFFER,dd.i7);
X.framebufferTexture2D(X.FRAMEBUFFER,X.COLOR_ATTACHMENT0,X.TEXTURE_2D,W.hc,0);X.viewport(0,0,W.r,W.$);
if(q){X.enable(X.SCISSOR_TEST);X.scissor(q.x,q.y,q.r,q.$)}else X.disable(X.SCISSOR_TEST)};dd.aFT=function(W,q,X){if(X)throw"error";
var k=dd.Ca;k.disable(k.SCISSOR_TEST);k.bindFramebuffer(k.FRAMEBUFFER,null);k.viewport(0,0,W,q);if(X){k.enable(k.SCISSOR_TEST);
k.scissor(X.x,X.y,Math.round(X.r),Math.round(X.$))}else k.disable(k.SCISSOR_TEST)};dd.JT=function(){var W=dd.Ca;
W.colorMask(!1,!1,!1,!0);dd.Ds(255<<24);W.colorMask(!0,!0,!0,!0)};dd.Ds=function(W){var q=dd.Ca,X=(W>>>0&255)*(1/255),k=(W>>>8&255)*(1/255),B=(W>>>16&255)*(1/255),U=(W>>>24&255)*(1/255);
q.clearColor(X,k,B,U);q.clear(q.COLOR_BUFFER_BIT)};dd.PF=function(W,q,X,k,B){var U=q.x$(k);if(B)U=U.x$(B);
if(U.PM())return;var l=dd.Ca;dd.vo(W);l.bindTexture(l.TEXTURE_2D,X.hc);l.copyTexSubImage2D(l.TEXTURE_2D,0,U.x-k.x,U.y-k.y,U.x-q.x,U.y-q.y,U.r,U.$)};
dd.I9=function(N,W,q,X){if(X==null)X=8;var k=dd.a7b[N];if(k==null||k.r!=W||k.$!=q||k.depth!=X){if(k)k.delete();
k=new dd.rV(W,q,X)}dd.a7b[N]=k;return k};dd.a7b=[];dd.E$=function(){this.eM=null;this.QI=null};dd.E$.tW=null;
dd.E$.prototype.Hw=function(W){if(this.QI)return;this.QI={};var q=dd.Ca,X=this.eM,k=this.QI;for(var N=0;
N<W.length;N++){var B=W[N];k[B]=q.getUniformLocation(X,B)}};dd.E$.prototype.kr=function(){};dd.E$.prototype.Ob=function(W){var q=dd.Ca;
for(var N=0;N<W.length;N+=2){q.uniform1i(W[N],N>>>1);q.activeTexture(q["TEXTURE"+(N>>>1)]);q.bindTexture(q.TEXTURE_2D,W[N+1])}q.activeTexture(q.TEXTURE0)};
dd.E$.prototype.Fs=function(W,q){var X=dd.Ca,k=X.createShader(X.FRAGMENT_SHADER);X.shaderSource(k,W);
X.compileShader(k);if(!X.getShaderParameter(k,X.COMPILE_STATUS))console.log(X.getShaderInfoLog(k));var B=X.createShader(X.VERTEX_SHADER);
X.shaderSource(B,q);X.compileShader(B);if(!X.getShaderParameter(B,X.COMPILE_STATUS))console.log(X.getShaderInfoLog(B));
var U=X.createProgram();X.attachShader(U,B);X.attachShader(U,k);X.linkProgram(U);if(!X.getProgramParameter(U,X.LINK_STATUS))console.log("Could not initialise shaders");
this.eM=U};dd.E$.prototype.m2=function(){if(dd.E$.tW!=this){dd.Ca.useProgram(this.eM);dd.E$.tW=this}};
dd.i2=function(W,q,X){dd.jZ++;dd.Ey+=W*q;if(dd.V$)console.log("GL.Channels instances: "+dd.jZ+", memory: "+dd.Ey);
var k=dd.Ca;this.r=W;this.$=q;if(X==null)X=8;if(X==16){k.getExtension("EXT_texture_norm16")}this.depth=X;
this.yZ=X==8?k.R8:X==16?33322:k.R32F;this.Q7=X==8?k.RED:X==16?k.RED:k.RED;this.yo=X==8?k.UNSIGNED_BYTE:X==16?k.UNSIGNED_SHORT:k.FLOAT;
this.hc=k.createTexture();this.SD=null;this.Al(this.hc,W,q)};dd.i2.prototype.Al=function(W,q,X){var k=dd.Ca;
k.bindTexture(k.TEXTURE_2D,W);k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,k.NEAREST);k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,k.NEAREST);
k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,k.CLAMP_TO_EDGE);k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,k.CLAMP_TO_EDGE);
k.texImage2D(k.TEXTURE_2D,0,this.yZ,q,X,0,this.Q7,this.yo,null)};dd.i2.prototype.set=function(W,q){var X=dd.Ca;
X.bindTexture(X.TEXTURE_2D,this.hc);X.pixelStorei(X.UNPACK_ALIGNMENT,1);var k=this.r*this.$;if(q==null||q.C()*10>k)X.texImage2D(X.TEXTURE_2D,0,this.yZ,this.r,this.$,0,this.Q7,this.yo,W);
else{var B=new dU(0,0,this.r,this.$),U=g.j(q.C(),this.depth);g.Z_(W,B,U,q);X.texSubImage2D(X.TEXTURE_2D,0,q.x,q.y,q.r,q.$,this.Q7,this.yo,U)}X.pixelStorei(X.UNPACK_ALIGNMENT,4)};
dd.i2.prototype.delete=function(){var W=dd.Ca;if(this.hc){W.deleteTexture(this.hc);dd.jZ--;dd.Ey-=this.r*this.$}if(dd.V$)if(dd.V$)console.log("GL.Channels instances: "+dd.jZ+", memory: "+dd.Ey*4)};
dd.jZ=0;dd.rV=function(W,q,X,k){if(X==null)X=8;if(k==null)k=!1;dd.jZ++;dd.Ey+=W*q*4;if(dd.V$)console.log("GL.Channels instances: "+dd.jZ+", memory: "+dd.Ey);
var B=dd.Ca;if(X==16){B.getExtension("EXT_texture_norm16")}if(X==32){B.getExtension("EXT_color_buffer_float");
if(B.getExtension("OES_texture_float_linear")==null)k=!1}this.a6u=k;this.r=W;this.$=q;this.depth=X;this.yZ=X==8?B.RGBA:X==16?32859:X==32?B.RGBA32F:B.RGBA16F;
this.Q7=X==8?B.RGBA:X==16?B.RGBA:B.RGBA;this.yo=X==8?B.UNSIGNED_BYTE:X==16?B.UNSIGNED_SHORT:B.FLOAT;
this.hc=B.createTexture();this.SD=null;this.Al(this.hc,W,q)};dd.XI=function(){var W=dd.Ca;return W.getExtension("OES_texture_float_linear")?32:33};
dd.rV.prototype.set=function(W,q){var X=dd.Ca;X.disable(X.SCISSOR_TEST);X.bindTexture(X.TEXTURE_2D,this.hc);
if(W==null||W instanceof Uint8Array||W instanceof Uint16Array||W instanceof Float32Array){var k=this.r,B=this.$,U=k*B;
if((q==null||q.C()*10>U)&&(W==null||W.length>=U*4))X.texImage2D(X.TEXTURE_2D,0,this.yZ,k,B,0,this.Q7,this.yo,W);
else{var l=W;if(W.length==U*4){var l=g.j(q.C()*4,this.depth);g.YE(W,new dU(0,0,k,B),l,q)}X.texSubImage2D(X.TEXTURE_2D,0,q.x,q.y,q.r,q.$,this.Q7,this.yo,l)}}else X.texImage2D(X.TEXTURE_2D,0,this.yZ,this.Q7,this.yo,W)};
dd.rV.prototype.get=function(W){var q=dd.Ca;dd.vo(this);q.readPixels(0,0,this.r,this.$,this.Q7,this.yo,W)};
dd.rV.prototype.Dx=function(W){if(W.PM())return;var q=dd.Ca;if(this.SD==null){this.SD=q.createTexture();
this.Al(this.SD,this.r,this.$);dd.jZ++;dd.Ey+=this.r*this.$*4}q.bindFramebuffer(q.FRAMEBUFFER,dd.i7);
q.bindTexture(q.TEXTURE_2D,this.SD);if(W){var X=Math.max(W.x,0),k=Math.max(W.y,0);q.copyTexSubImage2D(q.TEXTURE_2D,0,X,k,X,k,W.r,W.$)}else q.copyTexImage2D(q.TEXTURE_2D,0,this.Q7,0,0,this.r,this.$,0)};
dd.rV.prototype.Al=function(W,q,X){var k=dd.Ca;k.bindTexture(k.TEXTURE_2D,W);k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,this.a6u?k.LINEAR:k.NEAREST);
k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,k.NEAREST);k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,k.CLAMP_TO_EDGE);
k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,k.CLAMP_TO_EDGE);k.texImage2D(k.TEXTURE_2D,0,this.yZ,q,X,0,this.Q7,this.yo,null)};
dd.rV.prototype.delete=function(){var W=dd.Ca;if(this.hc){W.deleteTexture(this.hc);dd.jZ--;dd.Ey-=this.r*this.$*4}if(this.SD){W.deleteTexture(this.SD);
dd.jZ--;dd.Ey-=this.r*this.$*4}if(dd.V$)if(dd.V$)console.log("GL.Channels instances: "+dd.jZ+", memory: "+dd.Ey)};
dd.rV.prototype.P=function(){var W=dd.Ca,q=new dd.rV(this.r,this.$);dd.vo(this);W.bindTexture(W.TEXTURE_2D,q.hc);
W.copyTexImage2D(W.TEXTURE_2D,0,this.Q7,0,0,this.r,this.$,0);return q};dd._P={aFG:"  vec3 ocbrn(vec3 a, vec3 b, float f) {  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(ONE3 - min(ONE3,(ONE3-b)/d), ZERO3, vec3(vec3(greaterThan(vec3(0.001),d))) );  }  ",asK:"  vec3 ocddg(vec3 a, vec3 b, float f) {  return mix(        min(ONE3,       b/(ONE3 - a*f))    ,   ONE3   , vec3(equal(a*f,ONE3 )) );  }  ",C0:"const vec3 ZERO3 = vec3(0.0,0.0,0.0) ;\t\t\tconst vec3 QUAR3 = vec3(0.25,0.25,0.25) ;\t\t\tconst vec3 HALF3 = vec3(0.5,0.5,0.5) ;\t\t\tconst vec3 ONE3  = vec3(1.0,1.0,1.0) ;",Lg:" float hueDiff(float shue, float hue) { \t\t\t\tfloat df = hue-shue, adf=abs(df), df0 = df-1.0, df1 = df+1.0; \t\t\t\tif(abs(df0) < adf)  df = df0; \t\t\t\telse if(abs(df1) < adf)  df = df1; \t\t\t\treturn df; \t\t\t}",ait:" float hueCF(float hueS, float hue0) { \t\t\t\tfloat df = hueDiff(hue0, hueS)*6.0; \t\t\t\treturn   max(0.0, min(1.0,  (df<0.0) ? 1.0+df : 1.0-df  ));  } ",mk:"float sat(vec3 c) { return max(c.x,max(c.y,c.z)) - min(c.x,min(c.y,c.z)); }",L2:"float lum(vec3 c) { return dot(c, vec3(0.3,0.59,0.11)); } ",lB:"vec3  D  (vec3 x) { return mix( sqrt(x), ((16.0*x-12.0)*x+4.0)*x  , vec3(lessThanEqual(x,QUAR3))  ); }",abq:"float midSat (vec3 v, float s) { return ((v.y-v.z)*s)/(v.x-v.z); }",Wg:"vec3 setSat (vec3 c, float s) \t\t\t{\t\t\t\tvec3 o;\t\t\t\tif(c.r==c.g && c.g==c.b) o = ZERO3;\t\t\t\telse if(c.r>c.g)  {\t\t\t\t\tif(c.r>c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(s, midSat(c.rgb,s), 0.0); \t\t\t\t\t\telse\to = vec3(s, 0.0, midSat(c.rbg,s)); \t\t\t\t\t}\t\t\t\t\telse\t\to = vec3(midSat(c.brg,s), 0.0, s); \t\t\t\t} else  {\t\t\t\t\tif(c.r<c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(0.0, s, midSat(c.gbr,s)); \t\t\t\t\t\telse\t    o = vec3(0.0, midSat(c.bgr,s), s); \t\t\t\t\t}\t\t\t\t\telse\t\t    o = vec3(midSat(c.grb,s), s, 0.0);\t\t\t\t}\t\t\t\treturn o;\t\t\t}",als:"vec3 clipCol(vec3 c) \t\t\t{ \t\t\t\tvec3 o = c;  float l = lum(c); \t\t\t\tfloat n = min(c.r,min(c.g,c.b)); \t\t\t\tfloat x = max(c.r,max(c.g,c.b)); \t\t\t\tif(n<0.0) o = l + (o-l)*(l/(l-n));\t\t\t\tif(x>1.0) o = l + (o-l)*(1.0-l)/(x-l);\t\t\t\treturn o;\t\t\t}",At:"vec3 setLum (vec3 c, float l) { return clipCol(c+l-lum(c)); } ",aKA:"bool in01(vec2 c) { return (0.0<=c.x) && (c.x<=1.0) && (0.0<=c.y) && (c.y<=1.0); }",hash:"float hash(vec2 v) { return fract(sin(dot(v ,vec2(12.9898,78.233))) * 43758.5453); }",Kp:"vec3 rgbToHsl (vec3 rgb) {\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, l = (mx + mn) * 0.5;\t\t\t\t\t\t\t\tif(mx == mn) h = s = 0.0; \t\t\t\telse{ \t\t\t\t\tfloat d = mx - mn; \t\t\t\t\ts = l > 0.5 ? d / (2.0 - mx - mn) : d / (mx + mn);  \t\t\t\t\t\t\t\t\t\tif(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\t\t\th /= 6.0; \t\t\t\t}  \t\t\t\treturn vec3(h,s,l); }",Vy:"vec3 hslToRgb (float h, float s, float l){\t\t\t\tfloat r, g, b;\t\t\t\t\t\t\t\tif(s == 0.0)  r = g = b = l; \t\t\t\telse{ \t\t\t\t\tfloat q = l < 0.5 ? l * (1.0 + s) : l + s - l * s; \t\t\t\t\tfloat p = 2.0 * l - q; \t\t\t\t\tr = hue2rgb(p, q, h + 1.0/3.0); \t\t\t\t\tg = hue2rgb(p, q, h); \t\t\t\t\tb = hue2rgb(p, q, h - 1.0/3.0); \t\t\t\t} \t\t\t\treturn vec3(r,g,b); } ",Ow:"float hue2rgb(float p, float q, float t){ \t\t\t\tif(t < 0.0) t += 1.0;\t\t\t\tif(t > 1.0) t -= 1.0;\t\t\t\tif(t < 1.0/6.0) return p + (q - p) * 6.0 * t; \t\t\t\tif(t < 1.0/2.0) return q; \t\t\t\tif(t < 2.0/3.0) return p + (q - p) * (2.0/3.0 - t) * 6.0; \t\t\t\treturn p;\t}",v9:"vec3 rgbToHsv(vec3 rgb){\t\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, v = mx; \t\t\t\t\t\t\t\tfloat d = mx - mn; \t\t\t\ts = mx == 0.0 ? 0.0 : d / mx; \t\t\t\t\t\t\t\tif(mx == mn) h = 0.0;  \t\t\t\telse if(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\th /= 6.0; \t\t\t\treturn vec3(h,s,v);  }",C7:"vec3 hsvToRgb(float h, float s, float v)  { \t\t\t\tfloat r, g, b, f, p, q, t, i; \t\t\t\ti = floor(h * 6.0); \t\t\t\tf = h * 6.0 - i; \t\t\t\tp = v * (1.0 - s); \t\t\t\tq = v * (1.0 - f * s); \t\t\t\tt = v * (1.0 - (1.0 - f) * s); \t\t\t\t\t\t\t\tif     (i==0.0) { r = v, g = t, b = p; }\t\t\t\telse if(i==1.0) { r = q, g = v, b = p; }\t\t\t\telse if(i==2.0) { r = p, g = v, b = t; }\t\t\t\telse if(i==3.0) { r = p, g = q, b = v; }\t\t\t\telse if(i==4.0) { r = t, g = p, b = v; }\t\t\t\telse if(i==5.0) { r = v, g = p, b = q; }\t\t\t\t\t\t\t\treturn vec3(r,g,b); }",j7:"\t\tfloat srgbUngamma(float x) {\t\t\treturn (x<0.04045) ? (x / 12.92) : pow( ( x + 0.055 ) / 1.055,  2.4);\t\t}\t\tfloat xyzScale(float x) {\t\t\treturn (x>0.008856) ? pow(x,1.0/3.0) : (903.3*x+16.0)*(1.0/116.0); \t\t}\t\tvec3 rgbToLab(vec3 rgb) {\t\t\tbool ok = true;\t\t\trgb.r = srgbUngamma(rgb.r); \t\t\trgb.g = srgbUngamma(rgb.g); \t\t\trgb.b = srgbUngamma(rgb.b); \t\t\tok = ok && 0.0318<=rgb.r && rgb.r<=0.0319; \t\t\tok = ok && 0.127 <=rgb.g && rgb.g<=0.128 ; \t\t\tok = ok && 0.3047<=rgb.b && rgb.b<=0.305; \t\t\t\t\t\tmat3 srgb2xyz = mat3(0.4360747164307918, 0.222504478679176, 0.013932173981751634,    0.3850649153329662, 0.7168786002139355, 0.09710452396580642,    0.14308038098632878, 0.06061692340677909, 0.7141732835334675); \t\t\t\t\t\tvec3 xyz = srgb2xyz*rgb; \t\t\tok = ok && 0.106<=xyz[0] && xyz[0]<=0.107;  \t\t\t\t\t\txyz=xyz*vec3(100.0/96.72, 100.0/100.0, 100.0/81.427);  \t\t\txyz.x = xyzScale(xyz.x); \t\t\txyz.y = xyzScale(xyz.y); \t\t\txyz.z = xyzScale(xyz.z); \t\t\t\t\t\treturn vec3(116.0*xyz.y-16.0, 500.0*(xyz.x-xyz.y), 200.0*(xyz.y-xyz.z));  \t\t} \t\tfloat labSimilar(vec3 lab, vec3 mnm, vec3 mxm, float lim)  {\t\t\tfloat L=lab.x, a=lab.y, b=lab.z; \t\t\tfloat dl = ((L<mnm.x) ? (mnm.x-L) : ((mxm.x<L) ? (mxm.x-L) : 0.0))*(1.0/100.0); \t\t\tfloat da = ((a<mnm.y) ? (mnm.y-a) : ((mxm.y<a) ? (mxm.y-a) : 0.0))*(1.0/116.0); \t\t\tfloat db = ((b<mnm.z) ? (mnm.z-b) : ((mxm.z<b) ? (mxm.z-b) : 0.0))*(1.0/116.0); \t\t\t/*float dl  = (slab.x-lab.x)*(1.0/100.0), da=(slab.y-lab.y)*(1.0/116.0), db=(slab.z-lab.z)*(1.0/116.0);*/ \t\t\tfloat dst = sqrt(dl*dl+da*da+db*db)*1.35; \t\t\treturn (dst<=lim) ? min(1.0,1.17*(1.0 - (dst/lim))) : 0.0; \t\t}",a1Q:"  mat3 rgbToYuv = mat3(0.299, -0.147, 0.615,    0.587,  -0.289,  -0.515,   0.114, 0.436, -0.100 );  ",an5:"  mat3 yuvToRgb = mat3(1.0, 1.0, 1.0,   0.0, -0.3946, 2.03199,    1.1398, -0.5805, -0.00048  ); ",kL:"\t\tfloat _blendIf(float c, vec4 br) {  return min((c-br.x)*br.y,  (c-br.w)*br.z);  }  \t\tfloat blendIf(vec4 sc, vec4 tc, vec4 br[10]) {  \t\t\tfloat sg = lum(sc.rgb); \t\t\tfloat tg = lum(tc.rgb); \t\t\tfloat ms = _blendIf(sg,br[0]); \t\t\tms = min(ms, _blendIf(sc.r,br[2])); \t\t\tms = min(ms, _blendIf(sc.g,br[4])); \t\t\tms = min(ms, _blendIf(sc.b,br[6])); \t\t\t\t\t\tfloat mt = _blendIf(tg,br[1]); \t\t\tmt = min(mt, _blendIf(tc.r,br[3])); \t\t\tmt = min(mt, _blendIf(tc.g,br[5])); \t\t\tmt = min(mt, _blendIf(tc.b,br[7])); \t\t\tmt=max(mt,1.0-tc.w);\t\t\t\t\t\tfloat mi=min(ms,mt);\t\t\treturn clamp(mi,0.0,1.0);\t\t}",a3p:"\t\t\tvec4 mapLut(vec4 src, sampler2D lut, float N) {\t\t\t\tfloat iN = 1.0/N; \t\t\t\tfloat fb = 0.5*iN + src.b*(1.0-iN); \t\t\t\tfloat fg = 0.5*iN + src.g*(1.0-iN); \t\t\t\tfloat R  = src.r*(N-1.0)*0.999999; \t\t\t\tfloat ir = floor(R);  \t\t\t\t\t\t\t\tvec4 c0 = texture2D(lut, vec2(fb, (ir    + fg   )*iN)); \t\t\t\tvec4 c1 = texture2D(lut, vec2(fb, (ir+1.0+ fg   )*iN)); \t\t\t\tvec4 rs = mix(c0,c1,clamp(R-ir,0.0,1.0));  \t\t\t\treturn rs;  \t\t\t}"};
dd.v={};dd.v.vD={};dd.v.aw3=null;dd.v.x6=null;dd.v.mB=null;dd.v.a3l=function(W,q,X,k,B,U,l,K){if(K==null)K=dx.$V();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(W)==-1){l=l*K.fill;K.fill=1;K.style=!1}var D=q instanceof Array,m=W+(K.cu?"1":"0")+(D?"1":"0");
if(dd.v.vD[m]==null)dd.v.vD[m]=new dd.v._x(W,K.cu!=null,D);var Y=dd.v.vD[m],a=X.x$(B).x$(U);a.offset(-B.x,-B.y);
if(a.PM())return;var p=dd.Ca;dd.vo(k,a);k.Dx(a);Y.m2();Y.kr(D?q[1].hc:q.hc,k.SD,dd.hw(X,B),l,K.fill,K.style?1:0,K.TP?1:0,K.cu?new Float32Array(K.cu):null,D?q[0]:null);
p.drawArrays(p.TRIANGLES,0,6)};dd.v.G3=function(W,q,X,k,B,U,l,K,D,m,Y){if(dd.v.abx==null)dd.v.abx=new dd.v.gp(!0,!0,1);
if(dd.v.av5==null)dd.v.av5=new dd.v.gp(!0,!0,4);if(dd.v.x6==null)dd.v.x6=new dd.v.gp(!0,!1,1);if(dd.v.mB==null)dd.v.mB=new dd.v.gp(!1,!0,1);
var a=m?1:0,p=W?B?B instanceof dd.i2?dd.v.abx:dd.v.av5:dd.v.x6:dd.v.mB,M=new Float32Array(Y?[Y[0],Y[1],Y[2],1]:[1,1,1,1]),x=q?q.x$(k).x$(K):k.x$(K);
if(x.PM())return;x.offset(-k.x,-k.y);var R=dd.Ca;dd.vo(X,x);X.Dx(x);p.m2();if(W==null)p.kr(null,X.SD,B.hc,dd.hw(k,k),dd.hw(U,k),l/255,D,a,M);
else if(B)p.kr(W.hc,X.SD,B.hc,dd.hw(q,k),dd.hw(U,k),l/255,D,a,M);else p.kr(W.hc,X.SD,null,dd.hw(q,k),null,l/255,D,a,M);
R.drawArrays(R.TRIANGLES,0,6)};dd.v.a86=function(W,q,X){if(dd.v.ah7==null)dd.v.ah7=new dd.v.RW;var k=dd.v.ah7,B=new dU(0,0,W.r,W.$),U=dd.Ca;
dd.vo(q);q.Dx(B);k.m2();k.kr(B,W.hc,q.SD,X.hc);U.drawArrays(U.TRIANGLES,0,6)};dd.v.aF={norm:"return a;",diss:"return a;",dark:"return min(a,b);","mul ":"return a*b;",idiv:"  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(mix(ONE3-((ONE3-b)/max(d,vec3(1e-6))), ZERO3, vec3(greaterThanEqual(ONE3-b,d)) ), ONE3   ,   vec3(equal(b,ONE3) ));   ",lbrn:"return max(ZERO3, a*f+b-f);",dkCl:"return ( lum(a)<lum(b) ? a : b );",lite:"return max(a,b);",scrn:"return b+a-b*a;","div ":"a*=f;  return mix(    mix(  min(ONE3,b/(1.0-a)), ONE3,  step(1.0-a, b))     , ZERO3, vec3(equal(b,ZERO3)) );",lddg:"a*=f;  return min(ONE3,a+b);",lgCl:"return ( lum(a)>lum(b) ? a : b );",over:"return mix( a+(2.0*b -1.0)-a*(2.0*b-1.0) ,  2.0*b*a , step(-HALF3,-b) );",sLit:"return mix( b+(2.0*a -1.0)*(D(b)-b)  , b-(1.0-2.0*a)*b*(1.0-b) , step(-HALF3,-a) );",hLit:"return mix( b+(2.0*a -1.0)-b*(2.0*a-1.0) ,  2.0*a*b , step(-HALF3,-a) );",vLit:" return mix( ocddg(2.0*a-1.0,b,f)  ,  ocbrn(2.0*a,b,f)  ,  vec3(greaterThanEqual(HALF3,a))); ",lLit:"return mix( min(ONE3, (2.0*a-1.0)*f+b) , max(ZERO3, 2.0*a*f+b-f)  , step(-HALF3,-a));",pLit:"return mix( max(2.0*a-1.0,b) , min(2.0*a, b) , step(-HALF3,-a)  );",hMix:"if(f>0.99) return vec3(greaterThanEqual(a+b,ONE3));   return  min( ONE3, max(ZERO3,  (b+a*f-f)/(1.0-f+1e-6)  ))  ;  ",diff:"return abs(a*f-b);",smud:"return a+b-2.0*a*b;",fsub:"return max(b-a, ZERO3);",fdiv:"return min(b/max(a,vec3(0.000001)), ONE3);","hue ":"return  setLum( setSat(a, sat(b)) , lum(b) ); ","sat ":"return  setLum( setSat(b, sat(a)) , lum(b) ); ",colr:"return  setLum( a, lum(b) ); ","lum ":"return  setLum( b, lum(a) ); "};
dd.v._x=function(W,q,X){dd.E$.call(this);var k="\t\t\tprecision highp float;\t\t\t"+dd._P.C0+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform float alpha;\t\t\tuniform float fill;\t\t\tuniform float style;\t\t\tuniform float keepBGA;\t\t\t"+(X?"uniform vec4 scolor;":"")+"\t\t\t"+(q?"uniform vec4 blIf[10];":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\t\t"+dd._P.mk+"\t\t\t"+dd._P.L2+"\t\t\t"+dd._P.lB+"\t\t\t"+dd._P.aFG+"\t\t\t"+dd._P.asK+"\t\t\t"+dd._P.abq+"\t\t\t"+dd._P.Wg+"\t\t\t"+dd._P.als+"\t\t\t"+dd._P.At+"\t\t\t"+dd._P.hash+"\t\t\t"+(q?dd._P.kL:"")+"\t\t\t\t\t\tvec3  BB(vec3  a, vec3  b, float f) { "+dd.v.aF[W]+" } \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = "+(X?"scolor; src.a=texture2D(source, sCoord).r;":"texture2D(source, sCoord);"),B="\t\t\tattribute vec2 verPos;\t\t\tuniform vec4 srct;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
if(W=="diss")k+="\t\t\t\t\tgl_FragColor = (hash(tCoord) >= (keepBGA + (1.0-keepBGA)*src.w)*alpha ? tgt : vec4(src.xyz, keepBGA*tgt.w + (1.0-keepBGA)));  }";
else k+="  \t\t\t\t\tfloat as = (keepBGA + (1.0-keepBGA)*src.w) * alpha, at = keepBGA + (1.0-keepBGA)*tgt.w; \t\t\t\t\t"+(q?"  as*=blendIf(src,tgt,blIf);  ":"")+"\t\t\t\t\tfloat ats = at * (1.0-as), ao = as + ats, iao = (ao==0.0) ? 0.0 : (1.0/ao); \t\t\t\t\tfloat ccf = (style==1.0) ? 1.0 : as; \t\t\t\t\tvec3 ncl = ( (1.0-at)*as*src.xyz + (1.0-ccf)*at*tgt.xyz + ccf*at*BB(src.xyz, tgt.xyz, (1.0+as-ccf)*fill)  ) * iao;\t\t\t\t\tgl_FragColor = vec4(ncl, keepBGA*tgt.w + (1.0-keepBGA)*(as*fill + at*(1.0-as*fill)));\t\t\t\t\t\t\t}";
this.Fs(k,B)};dd.v._x.prototype=new dd.E$;dd.v._x.prototype.kr=function(W,q,X,k,B,U,l,K,D){this.Hw("srct alpha source target fill style keepBGA blIf scolor".split(" "));
var m=dd.Ca,Y=this.QI;m.uniform4fv(Y.srct,X);m.uniform1f(Y.alpha,k);m.uniform1f(Y.fill,B);m.uniform1f(Y.style,U);
m.uniform1f(Y.keepBGA,l);if(K)m.uniform4fv(Y.blIf,K);if(D){var a=D?1/g.bH(g.Oj(D)):0;m.uniform4fv(Y.scolor,new Float32Array([D[0]*a,D[1]*a,D[2]*a,0]))}this.Ob([Y.source,W,Y.target,q])};
dd.v.gp=function(W,q,X){dd.E$.call(this);this.aHG=W;this.hS=q;var k="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform sampler2D weight;\t\t\tuniform vec4 cswitch;\t\t\tuniform float wcolor;\t\t\tuniform float awg; /* additional weight */\t\t\tuniform float dissv;\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\t"+dd._P.aKA+"\t\t\t"+dd._P.hash+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = "+(W?"texture2D(source, sCoord)":"vec4(0.0)")+"; \t\t\t\tfloat wg = awg "+(q?"* (in01(wCoord) ? texture2D(weight, wCoord)."+(X==1?"r":"a")+" : wcolor)":"")+";\t\t\t\t"+(W?"":"wg = 1.0-wg;")+"\t\t\t\tfloat hwg = hash(tCoord)>=wg ? 0.0 : 1.0;  wg = dissv*hwg + (1.0-dissv)*wg; \t\t\t\tfloat as = wg*src.w, at = (1.0-wg)*tgt.w, ao = as+at;\t\t\t\t\t\t\t\tvec4 nc = vec4( ao==0.0 ? vec3(0,0,0) : (as*src.xyz + at*tgt.xyz)/ao, ao );  \t\t\t\tgl_FragColor =  "+(q?"nc":"cswitch*nc + (1.0- cswitch)*tgt")+";    \t\t\t}",B="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec4 wrct;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\twCoord = (verPos-wrct.xy)/wrct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.Fs(k,B)};dd.v.gp.prototype=new dd.E$;dd.v.gp.prototype.kr=function(W,q,X,k,B,U,l,K,D){if(this.hS)this.Hw("srct wrct wcolor awg dissv source target weight cswitch".split(" "));
else this.Hw("srct awg dissv source target cswitch".split(" "));var m=dd.Ca,Y=this.QI;m.uniform4fv(Y.srct,k);
if(this.hS){m.uniform4fv(Y.wrct,B);m.uniform1f(Y.wcolor,U)}else{m.uniform4fv(Y.cswitch,D)}m.uniform1f(Y.awg,l);
m.uniform1f(Y.dissv,K);var a=[Y.source,W,Y.target,q];if(this.hS)a.push(Y.weight,X);this.Ob(a)};dd.v.RW=function(){dd.E$.call(this);
var W="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D prev;\t\t\tuniform sampler2D next;\t\t\tuniform sampler2D alpha;\t\t\t\t\t\tvarying vec2 coord;\t\t\t\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec3 or = texture2D(prev , coord).rgb;\t\t\t\tvec3 ir = texture2D(next , coord).rgb; \t\t\t\tfloat al = texture2D(alpha, coord).r; \t\t\t\tgl_FragColor =  vec4(  (ir-(1.0-al)*or)*(1.0/al)   ,1.0 );  \t\t\t}",q="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 coord;\t\t\t\t\t\tuniform vec4 rct;\t\t\tvoid main(void) {\t\t\t\tcoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.Fs(W,q)};dd.v.RW.prototype=new dd.E$;dd.v.RW.prototype.kr=function(W,q,X,k){this.Hw(["rct","prev","next","alpha"]);
var B=dd.Ca,U=this.QI;B.uniform4fv(U.rct,[0,0,1,1]);this.Ob([U.prev,q,U.next,X,U.alpha,k])};dd._h={IR:{},IA:"\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}"};
dd._h.Mn=function(W,q){var X=dZ.Ap,k=[X.lr,X.Cy,X.ev,X.R_,X.Or,X.X7,X.OE,X.bX].indexOf(W.I),B=dd._h.IR[W.I];
if(B==null)B=dd._h.IR[W.I]=new dd.IR[k];B.m2();B.kr(q,W);dd.Ca.drawArrays(dd.Ca.TRIANGLES,0,6)};dd.IR=[];
dd.IR[0]=function(){dd.E$.call(this);this.aoa={};var W="\t\t\tprecision highp float;\t\t\t"+dd._P.L2+"\t\t\t"+dd._P.C0+"\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float toGray;\t\t\tuniform float presLum;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\tvec4 getC(float x) { \t\t\t\tif(x>1.0) {  \t\t\t\t\tvec4 a = texture2D(map, vec2((254.5/256.0), 0));\t\t\t\t\tvec4 b = texture2D(map, vec2((255.5/256.0), 0));\t\t\t\t\treturn b + (b-a)*(x-1.0)*255.0; \t\t\t\t} \t\t\t\treturn texture2D(map, vec2((0.5/256.0)+x*(255.0/256.0), 0)); \t\t\t}\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat olum = lum(src.rgb); \t\t\t\tsrc.rgb = toGray * vec3(olum) + (1.0-toGray)*src.rgb; \t\t\t\tfloat r = getC(src.r).r;\t\t\t\tfloat g = getC(src.g).g;\t\t\t\tfloat b = getC(src.b).b;\t\t\t\tvec3 col = vec3(r,g,b); \t\t\t\tif(presLum==1.0) { \t\t\t\t\tfloat nlum = lum(col); \t\t\t\t\tif(olum>nlum) col += (olum-nlum)/(1.0-nlum)*(ONE3-col); \t\t\t\t\telse if(nlum==0.0) col = ZERO3; \t\t\t\t\telse col = (olum/nlum) * col; \t\t\t\t}\t\t\t\tgl_FragColor = vec4(col,src.w);\t\t\t\t\t\t\t}";
this.Fs(W,dd._h.IA)};dd.IR[0].prototype=new dd.E$;dd.IR[0].prototype.kr=function(W,q){var X={o:q.Cx,L:q.TN,X:q.Dz,iM:new Float32Array(q.Cx.length)};
X.iM.fill(1);var k=X.o.length,B=this.aoa["m"+k];if(B==null)B=this.aoa["m"+k]={acK:new dd.rV(k,1,dd.XI()),kl:g.j(k*4,32)};
g.Aw(X,B.kl);var U=B.acK;U.set(B.kl);this.Hw(["source","map","toGray","presLum"]);var l=dd.Ca,K=this.QI;
l.uniform1f(K.toGray,q.CV?1:0);l.uniform1f(K.presLum,q.rI?1:0);this.Ob([K.source,W,K.map,U.hc]);l.activeTexture(l.TEXTURE1);
var D=l.LINEAR;l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,D);l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,D);
l.activeTexture(l.TEXTURE0)};dd.IR[1]=function(){dd.E$.call(this);this.G6=new dd.rV(256,1,dd.XI());var W="\t\t\t\tprecision highp float;\t\t\t\t"+dd._P.Ow+"\t\t\t\t"+dd._P.Kp+"\t\t\t\t"+dd._P.Vy+"\t\t\t\t\t\t\t\tuniform sampler2D source;\t\t\t\tuniform sampler2D map;\t\t\t\tuniform float cfa; \t\t\t\tuniform float cfb; \t\t\t\tuniform int colorize; \t\t\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\tvoid main(void) { \t\t\t\t\tvec4 src = texture2D(source, sCoord);\t\t\t\t\tvec3 rgb = src.rgb;\t\t\t\t\tfloat mn=min(rgb.r,min(rgb.g,rgb.b)), mx = max(rgb.r,max(rgb.g,rgb.b));\t\t\t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\tfloat h = hsl.r, s = hsl.g, l = hsl.b; \t\t\t\t\t\t\t\t\t\tvec4 mapv = texture2D(map, vec2(h+0.0015, 0));\t\t\t\t\tfloat nh = mapv.r; \t\t\t\t\tfloat sc = mapv.g; \t\t\t\t\tfloat lc = mapv.b; \t\t\t\t\t\t\t\t\t\tfloat cf = -lc, tv=mn;\t\t\t\t\tif(0.0<lc) {  cf=lc;  tv=mx;  }\t\t\t\t\t\t\t\t\t\tfloat a0 = cfa + cfb*cf*tv, a1 = cfb*(1.0-cf);\t\t\t\t\trgb = a0 + a1 * rgb;\t\t\t\t\t\t\t\t\t\thsl = rgbToHsl(rgb);  s = hsl.g;  l = hsl.b; \t\t\t\t\tfloat ns = sc; \t\t\t\t\tif(colorize==0) {\t\t\t\t\t\tif(sc>0.0) sc = pow(tan((3.14159265359*0.5)*sc),1.3);\t\t\t\t\t\tns = min(s * (1.0 + sc), 1.0); \t\t\t\t\t} \t\t\t\t\t\t\t\t\t\tgl_FragColor = vec4(hslToRgb(nh,ns,l),src.w); \t\t\t\t\t\t\t\t\t}";
this.Fs(W,dd._h.IA)};dd.IR[1].prototype=new dd.E$;dd.IR[1].prototype.kr=function(W,q){this.G6.set(q.map);
this.Hw(["source","map","cfa","cfb","colorize"]);var X=dd.Ca,k=this.QI;X.uniform1f(k.cfa,q.ahc);X.uniform1f(k.cfb,q.$X);
X.uniform1i(k.colorize,q.a8h);this.Ob([k.source,W,k.map,this.G6.hc]);X.activeTexture(X.TEXTURE1);var B=X.LINEAR;
X.texParameteri(X.TEXTURE_2D,X.TEXTURE_MIN_FILTER,B);X.texParameteri(X.TEXTURE_2D,X.TEXTURE_MAG_FILTER,B);
X.activeTexture(X.TEXTURE0)};dd.IR[2]=function(){dd.E$.call(this);var W="\t\t\tprecision mediump float;\t\t\t"+dd._P.Ow+"\t\t\t"+dd._P.v9+"\t\t\t"+dd._P.C7+"\t\t\t"+dd._P.Kp+"\t\t\t"+dd._P.Vy+"\t\t\t"+dd._P.a1Q+"\t\t\t"+dd._P.an5+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float vib; \t\t\tuniform float sat; \t\t\tuniform vec3  yF; \t\t\tconst float PI = 3.141592653; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\tvec3 vibrate(vec3 rgb) {  \t\t\t\tvec3 yuv = rgbToYuv * rgb; \t\t\t\treturn yuvToRgb * (yuv * yF); \t\t\t} \t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\trgb = pow(rgb,vec3(2.4)); \t\t\t\t\t\t\t\trgb = clamp(vibrate(rgb), 0.0, 1.0); \t\t\t\t\t\t\t\trgb = pow(rgb,vec3(1.0/2.4)); \t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb);  \t\t\t\tfloat nsat = max(0.0, min(1.0, hsl.y*(1.0+sat)));  \t\t\t\trgb = hslToRgb(hsl.x, nsat, hsl.z);  \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t}";
this.Fs(W,dd._h.IA)};dd.IR[2].prototype=new dd.E$;dd.IR[2].prototype.kr=function(W,q){this.Hw(["source","vib","sat","yF"]);
var X=dd.Ca,k=this.QI;X.uniform1f(k.vib,q.rl[0]);X.uniform1f(k.sat,q.rl[1]);X.uniform3fv(k.yF,new Float32Array([q.rl[2],q.rl[3],q.rl[3]]));
this.Ob([k.source,W])};dd.IR[3]=function(){dd.E$.call(this);var W="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform mat4  trf; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 nsr = vec4(src.rgb,1.0); \t\t\t\tgl_FragColor = vec4((trf*nsr).rgb,src.w); \t\t\t\t\t\t\t}";
this.Fs(W,dd._h.IA)};dd.IR[3].prototype=new dd.E$;dd.IR[3].prototype.kr=function(W,q){this.Hw(["source","trf"]);
var X=dd.Ca,k=this.QI;X.uniformMatrix4fv(k.trf,!1,new Float32Array(g.Id.Pj(q.Ez)));this.Ob([k.source,W])};
dd.IR[4]=function(){dd.E$.call(this);var W="\t\t\tprecision mediump float; \t\t\t"+dd._P.j7+"\t\t\t"+dd._P.Ow+"\t\t\t"+dd._P.Vy+"\t\t\t"+dd._P.Kp+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 mnm;\t  \t\t\tuniform vec3 mxm;\t  \t\t\tuniform vec3 shift;   \t\t\tuniform float lim;    \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\t\t\t\t\tvec3 lab = rgbToLab(src.rgb);\t\t\t\tfloat scl = labSimilar(lab, mnm,mxm, lim);\t\t\t\t\t\t\t\tvec3 hsv = rgbToHsl(src.rgb); \t\t\t\tfloat nh = 2.0 + hsv[0]+shift[0]; \t\t\t\thsv[0] = fract(nh); \t\t\t\thsv[1] = max(0.0, min(1.0, hsv[1] + shift[1])); \t\t\t\thsv[2] = max(0.0, min(1.0, hsv[2] + shift[2])); \t\t\t\t\t\t\t\tvec3 rgb = hslToRgb(hsv[0], hsv[1], hsv[2]); \t\t\t\t\t\t\t\tgl_FragColor = vec4(mix(src.rgb,rgb,scl),src.w); \t\t\t\t\t\t\t}";
this.Fs(W,dd._h.IA)};dd.IR[4].prototype=new dd.E$;dd.IR[4].prototype.kr=function(W,q){this.Hw(["source","mnm","mxm","shift","lim"]);
var X=dd.Ca,k=this.QI;X.uniform3fv(k.mnm,new Float32Array(q.fF));X.uniform3fv(k.mxm,new Float32Array(q.qK));
X.uniform3fv(k.shift,new Float32Array(q.shift));X.uniform1f(k.lim,q.su);this.Ob([k.source,W])};dd.IR[5]=function(){dd.E$.call(this);
var W="\t\t\tprecision mediump float;\t\t\t"+dd._P.C0+"\t\t\t"+dd._P.Lg+"\t\t\t"+dd._P.ait+"\t\t\t"+dd._P.Kp+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 cfs[18]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat mx = max(rgb.r, max(rgb.g, rgb.b)); \t\t\t\tfloat mn = min(rgb.r, min(rgb.g, rgb.b)); \t\t\t\t\t\t\t\tvec3 CMY = ONE3 - rgb; \t\t\t\tvec3 d = ZERO3; \t\t\t\t\t\t\t\tfor(int j=0; j<9; j++) \t\t\t\t{ \t\t\t\t    vec3 NCMY = CMY * cfs[j+j] + cfs[j+j+1]; \t\t\t\t\t\t\t\t\t\tfloat cfK = 0.0;\t\t\t\t\tif     (j< 6) { \t\t\t\t\t\tcfK = hueCF(float(j)*(1.0/6.0), hsl.x); \t\t\t\t\t\tcfK = cfK * hsl.y * 2.0*min(hsl.z, 1.0-hsl.z); \t\t\t\t\t} \t\t\t\t\telse if(j==6) cfK = max(0.0,mn-0.5)*2.0;\t\t\t\t\telse if(j==7) cfK = 1.0-(abs(mx-0.5)+abs(mn-0.5));\t\t\t\t\telse          cfK = max(0.0,0.5-mx)*2.0;\t\t\t\t\t\t\t\t\t\td += (max(ZERO3, min(ONE3, NCMY))-CMY)*cfK; \t\t\t\t} \t\t\t\t\t\t\t\tCMY = max(ZERO3, min(ONE3, CMY+d)); \t\t\t\trgb = ONE3 - CMY; \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.Fs(W,dd._h.IA)};dd.IR[5].prototype=new dd.E$;dd.IR[5].prototype.kr=function(W,q){this.Hw(["source","cfs"]);
var X=dd.Ca,k=this.QI;X.uniform3fv(k.cfs,q.aoT);this.Ob([k.source,W])};dd.IR[6]=function(){dd.E$.call(this);
var W="\t\t\tprecision mediump float;\t\t\t"+dd._P.Ow+"\t\t\t"+dd._P.Lg+"\t\t\t"+dd._P.ait+"\t\t\t"+dd._P.Kp+"\t\t\t"+dd._P.Vy+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float wght[6]; \t\t\tuniform float prms[6]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\t\t\t\t\tfloat tint=prms[0], hue=prms[1], lum=prms[2], mcf=prms[3], x0=prms[4], x1=prms[5]; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\t\t\t\tfloat cf = 0.0;\t\t\t\tfor(int j=0; j<6; j++) cf += min(1.0, 1.7*(1.0-hsl.z)) * hsl.y *  wght[j] * hueCF(hsl.x, float(j)*(1.0/6.0));\t\t\t\t\t\t\t\tfloat lig = max(0.0, min(1.0, hsl.z*(1.0+cf)));\t\t\t\tif(tint==1.0) {  \t\t\t\t\tfloat totl = 0.0;\t\t\t\t\tif     (lig<x0) totl = lig*(0.5/lum); \t\t\t\t\telse if(lig<x1) totl = lig + (mcf)*(0.5 - lum); \t\t\t\t\telse            totl = 1.0 - (1.0-lig)*0.5/(1.0-lum); \t\t\t\t\t\t\t\t\t\thsl.x = hue;  \t\t\t\t\thsl.y = min(1.0, mcf + 3.0*mcf*abs(lig-0.5*(x0+x1))); \t\t\t\t\thsl.z = totl; \t\t\t\t} \t\t\t\telse {  hsl.x=0.0;  hsl.y=0.0;  hsl.z=lig;  } \t\t\t\t\t\t\t\trgb = hslToRgb(hsl.x, hsl.y, hsl.z); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.Fs(W,dd._h.IA)};dd.IR[6].prototype=new dd.E$;dd.IR[6].prototype.kr=function(W,q){this.Hw(["source","wght","prms"]);
var X=dd.Ca,k=this.QI,B=[q.Ej,q.aeb,q.L2,q.ax8,q.BV,q.aiS];X.uniform1fv(k.wght,new Float32Array(q.aG3));
X.uniform1fv(k.prms,new Float32Array(B));this.Ob([k.source,W])};dd.IR[7]=function(){dd.E$.call(this);
this.RP={};var W="\t\t\tprecision mediump float;\t\t\t"+dd._P.a3p+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D lut;\t\t\tuniform float N;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 rs = mapLut(src, lut, N); \t\t\t\tgl_FragColor = vec4(rs.rgb,src.w); \t\t\t\t\t\t\t}";
this.Fs(W,dd._h.IA)};dd.IR[7].prototype=new dd.E$;dd.IR[7].prototype.kr=function(W,q){this.Hw(["source","lut","N"]);
var X=dd.Ca,k=this.QI,B=q.Xb,U=q.Wa;if(this.RP["m"+B]==null)this.RP["m"+B]=new dd.rV(B,B*B,dd.XI());
var l=this.RP["m"+B];l.set(U);X.uniform1f(k.N,B);this.Ob([k.source,W,k.lut,l.hc]);X.activeTexture(X.TEXTURE1);
var K=X.LINEAR;X.texParameteri(X.TEXTURE_2D,X.TEXTURE_MIN_FILTER,K);X.texParameteri(X.TEXTURE_2D,X.TEXTURE_MAG_FILTER,K);
X.activeTexture(X.TEXTURE0)};dd.filter={Ux:{},IA:"1u,/0*&<>2OI;<m^XJZ;]d/vp^r|ows/)z{M>5g7:@5nVPLIGeVMX`|njge-'&-$V&)/$BbHB4D%GNx`KSI=_f_menp%E+%vwKB4&'XQY``edhootpjxp&%*'vhxY{#>5HINMDXX]YnVW",a57:0,atN:1,Ua:2,aib:8,a2A:3,afa:4,alU:5,rb:6,al1:7};
dd.filter.Mn=function(W,q){var X=dd.filter,k,B=W.I+":"+(W.g2?W.g2.join(","):""),k=dd.filter.Ux[B];if(k==null)k=dd.filter.Ux[B]=new dd.Ux[W.I](W.g2);
k.m2();k.kr(q,W);dd.Ca.drawArrays(dd.Ca.TRIANGLES,0,6)};dd.Ux=[0,0,0,0,0,0,0,0,0,0,0,0];dd.Ux[7]=function(){dd.E$.call(this);
var W="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]LIYXH)P1o]q{nvr.(yzL=4f69?4mLHECaRIT\\xjfca)~|noC2).)[8*+^U`_felkrn$R[aVlzaoxD:;@N|)/G)28-CQNtjkp~`&*#!&4u*-.(q}$<}'-\"8FBi_`esTz~wuz)i~\"#xvhi=,r~(U0$:9==3bw^MLUUINwne8gjpe/}opB;/FMMRQBX__d`dGXLo%P\\e$kca,Bkw!?uR.3.CQf0<E_DAQP@QYbxm!-+0.~2iJ0).)L4,*YjDIDg>zJRH2aS\\;jjpvD}#}N4";
this.Fs(ia.jC(W),ia.jC(dd.filter.IA))};dd.Ux[7].prototype=new dd.E$;dd.Ux[7].prototype.kr=function(W,q){this.Hw(["source","iwh","kern"]);
var X=dd.Ca,k=this.QI;X.uniform2fv(k.iwh,q.Bt);X.uniform1fv(k.kern,q.au2);this.Ob([k.source,W])};dd.Ux[6]=function(W){dd.E$.call(this);
var q=W[0],X=W[1],k=W[2],B="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]SEK%cQeobjf\"{mn@1(Z*-3(a@<97UF=HPl^ZWU|rpbc7&|\"|O,}~RITSZY`_fbwFOUJ`nUcl8./4Bp|#;|&,!7EAh[\"'zuV|!7<0+k!$%zkk0$J>'x~:=<d<.4[U<KMVNV`S,j\\]1 fr{I$w.-11'VkRA@II=BkbY,[^dY#qcd6/NVb<@#4(K`,8A_G?=g}GS\\zQ.ini~-Bkw!Lw&/HK^D=B=ar<JS|X]X{c[Y):sxs7mJy\"wa1#,j::@FsMRM}c",U=ia.jC(B);
U=U.replaceAll("PRC",k+".0");U=U.replaceAll("DIR",["x,0","0,x"][X]);this.Fs(U,dd._h.IA)};dd.Ux[6].prototype=new dd.E$;
dd.Ux[6].prototype.kr=function(W,q){this.Hw(["source","iwh","rad"]);var X=dd.Ca,k=this.QI;X.uniform2fv(k.iwh,q.Bt);
X.uniform1f(k.rad,q.aH);this.Ob([k.source,W])};dd.Ux[4]=function(W){dd.E$.call(this);var q=W[0],X=W[1],k="\t\t\tprecision highp float;\t\t\tuniform sampler2D source;\t\t\tuniform vec2 iwh;\t\t\tuniform float rrad;\t\t\tuniform float tr;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\tconst float PRC="+W[2]+".0; \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 sclr = texture2D(source, sCoord);\t\t\t\tfloat rad = rrad; \t\t\t\tif(rad!=0.0) {\t\t\t\t\tvec4 sum=vec4("+["1.0,1.0,1.0,0.0","0.0,0.0,0.0,1.0","0.0"][X]+"); vec4 cnt = vec4(0.0);\t\t\t\t\tfor(float y=-PRC; y<=PRC; y++) {\t\t\t\t\t\tif(y<-rad || y>rad) continue; \t\t\t\t\t\tfor(float x=-PRC; x<=PRC; x++) { \t\t\t\t\t\t\tif("+["x<-rad || x>rad","(x*x+y*y)>rad*rad"][q]+") continue; \t\t\t\t\t\t\tvec4 clr = texture2D(source, sCoord+vec2(x,y)*iwh);  \t\t\t\t\t\t\t"+["if(clr.w!=0.0) sum.rgb=min(sum.rgb,clr.rgb);  sum.w=max(sum.w,clr.w)","sum.rgb=max(sum.rgb,clr.rgb);  sum.w=min(sum.w,clr.w)","if(abs(sclr.r-clr.r)<tr) {  sum.r+=clr.r;  cnt.r+=1.0;  };"+"if(abs(sclr.g-clr.g)<tr) {  sum.g+=clr.g;  cnt.g+=1.0;  };"+"if(abs(sclr.b-clr.b)<tr) {  sum.b+=clr.b;  cnt.b+=1.0;  };"][X]+"; \t\t\t\t\t\t\t\t\t\t\t\t\t}\t\t\t\t\t}\t\t\t\t\t\t\t\t\t\tsclr = "+(X==2?"vec4(sum.rgb/cnt.rgb, sclr.w)":"sum")+";\t\t\t\t}\t\t\t\tgl_FragColor=sclr; \t\t\t}";
this.Fs(k,dd._h.IA)};dd.Ux[4].prototype=new dd.E$;dd.Ux[4].prototype.kr=function(W,q){this.Hw(["source","iwh","rrad","tr"]);
var X=dd.Ca,k=this.QI;X.uniform2fv(k.iwh,q.Bt);X.uniform1f(k.rrad,q.l6);X.uniform1f(k.tr,q.a5n);this.Ob([k.source,W]);
var B=X.LINEAR;B=X.NEAREST;X.activeTexture(X.TEXTURE0);X.texParameteri(X.TEXTURE_2D,X.TEXTURE_MIN_FILTER,B);
X.texParameteri(X.TEXTURE_2D,X.TEXTURE_MAG_FILTER,B);X.activeTexture(X.TEXTURE0)};dd.Ux[5]=function(){dd.E$.call(this);
var W="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwn_ntso BW6-050`>:88DJH]WIJ{lYj^4qmkkw}{1z$*~5C(7;DmKGEEQWUjT]cXn|egmoG&s(2%-)D>01bSJ|LOUJ$O^`hlzdmsh~-bPKGLZ9520N?6AIeWSPNuki[\\0~qht}K(yzNEPQVRg6?E:P^YX]X+!\"'5sef:)xQO*}4377-\\qXGJOJkbY,[^dY!6dpv/py t+96\\OwcEjn'rThklbP\\bz\\ek`v%!H;cO0VZr^?TWXNL>?paSK(a4cfla+ykl>7+A2DH+<0eD67jYAS ZNdcgg]-B)wz z<3%|EL/gc2;A6LZ#}HV^tTf ]o+\"{mnB9DEKOUOVW^d^efpjrrwsv,Zci^t#}pIt+&@HcKLXZ]^cVd\\gssxxP_cl$()55::q!%.EISUX[^_d`cxXW\\Wlz0m`7neqz+9N,~D2&<;??5dy`ONWWKPypbZ#8}!mukU%v ^..4:g;:L^I@LUt`_d_!wocyx||rBW>-,55).WNEwGJPElriRTZ\\\"7|";
this.Fs(ia.jC(W),ia.jC(dd.filter.IA))};dd.Ux[5].prototype=new dd.E$;dd.Ux[5].prototype.kr=function(W,q){this.Hw(["source","ssum","iwh","amnt","edgf"]);
var X=dd.Ca,k=this.QI;X.uniform2fv(k.iwh,q.Bt);X.uniform1f(k.amnt,q.atb);X.uniform1f(k.edgf,q.alz);this.Ob([k.source,W,k.ssum,q.ayh])};
dd.Ux[3]=function(){dd.E$.call(this);var W="1%* !*709;O@;=ETOUgQZ`Uk5rnllx~|2)y)/.*:\\qPGFOOCH!^ZXXdjh}wij<-y+~T2.,,8><Q;DJ?Uc[NR`.kgeeqwu+t}$x/=36(.gEA??KQOd^PQ#sjjbc>{wuu\"(&;5'(ZJ<@=JtRNLLX^\\qbYo2!tvv'@N,(&&286K<3IkZNPP`z(fThremi%~pqC4+]-06+d/?BBXEM2TTdugYZ.|v,\" qrF5)X,#=OAWACCSlkYoY[[k&!6pfx||{0!w2D-$>P<\\J`HhWioTKewc$s(o0|14JNDEJX>:,-_OE7G@qi[MN!pdo&|vhi<, ,>42$%WG=/H*8FySLTp\\g{&))4:;7CC;$0CSRPXZ_cg]Wd]quw~$}'-/50=wm $$#7-~8y(6L\\R<EKNTlZLeGUc#8}ykl?/yv./QI;-.`PDOe\\VHI{k_k}smcuyyx-8&w(!RJ6AW?K]bM?OHyq}}%'#lw.66B8\".@E0\"2+\\Tb`fbLXmxu\"wal %oaqj<4?@KOE/;PWXea]GRe_owv{nz~))3<\"}opC3,(&&UM?12dTHSi`ZLM oco\"wqgy}}|1'x)\"SK7BX@L^bmlqqxx},qZiksw&ox~s*8kpda^Z[`nMIFDbSJU]ykgdb* }opD3*|)2_:.DCGG=l\"hWV__SX\"xoBqtzo7Lz$*~5C+/=D;r:>RiYLP^}gZfo.z/Dr{\"v-;1#)d/3AH?cORDJ$UUygY_~>45:6,*{|O?6;6f5>D9O]T[$yz ~ubjb?66;Iw$*B$-3(>LIob).\"|^$(>C72s(+,\"rzrOFFKK+3+e77[PuiRDJehh0gY_'!gvx\"y\",~W&28P2;A6LZV}p7<0+k26LQE@!6KCBGC9'06+AO6NuTiKSK&WW{o6*rdj&)(P(y GA(79B:BL?wIImiU]Bddt&wij>5s,B3H2$*T[\\a]`c]DSU^V^h[4rde9(nz$Q, 6599/^sZIHQQEJsja4cfla+ykl>7u.D5GK.?3Vk:CI>TbIM)PTh obft4my#A.BW&/5*@N3K?wmnvpMYb!h$,-7>2nz$B~EMNTWS0<Ec;vENTI_mWfZ7pphi7%9uyB~#\\..R/G;tMMEFsbtnUaj)phfD2>>CC /#KO,8A_G?=]kcM\\Pyi[\\/'9384Iw!'{2@49>iW6:t@DRYPj-p{~^bpwn6os;D|!/6-PJgP[:>y|rsx+~ %2#ae1ko}%{?H $KNc2;A6LZAX!ww||chm7ry0En&L(-(H]'>S0<EcKCA|beywX`V@oajIxx~%R\"*n11ARD67jaippus_2adj_,y.98=<@GGLJ6h8;A6bQdonsrzx {~8rde90<:B@HFNI]=/0cZedkjqpxs)z#vm`luC qrF=,1,P8?V^^c_tZVHI{k_S2n`a4,zM| &zG5K6h8;A6bQfontp]0_bh]*w+@~pqD4(|Z7)*\\TCuEHNCo^s}{#',$pCru{p=+AJIQK8j:=C8dSezYKL~n`dk`;osp};*PSIJOBdHA=;;jbNBoWLuo-u`]tu80{o=%yCX**N8<9FcSx{rrwsm_cj_+x@tx t@/U*.5*UEhD7CLjRJHhv,yY]kri.uyv$A/BF.29.f6>4}M?H'VV\\b0i\\hq=#";
this.Fs(ia.jC(W),ia.jC(dd.filter.IA))};dd.Ux[3].prototype=new dd.E$;dd.Ux[3].prototype.kr=function(W,q){this.Hw("source iwh tdep rrad spec nois poly0 poly1".split(" "));
var X=dd.Ca,k=this.QI;X.uniform2fv(k.iwh,q.Bt);X.uniform1f(k.tdep,q.aI_);X.uniform1f(k.rrad,q.l6);X.uniform2fv(k.spec,q.abU);
X.uniform3fv(k.nois,q.aBh);X.uniformMatrix4fv(k.poly0,!1,q.av_);X.uniformMatrix4fv(k.poly1,!1,q.agj);
this.Ob([k.source,W]);var B=X.LINEAR;X.activeTexture(X.TEXTURE0);X.texParameteri(X.TEXTURE_2D,X.TEXTURE_MIN_FILTER,B);
X.texParameteri(X.TEXTURE_2D,X.TEXTURE_MAG_FILTER,B);X.activeTexture(X.TEXTURE0)};dd.Ux[0]=function(){dd.E$.call(this);
var W="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZTFGyiYT.unjhhtzx.w!'{2@7/3;5mUO=Q[NVRmgYZ,|sFux~sM5~(.#9G23E'?;AOZm_QR$th$}|$mv|q(62M?_E=1GFJJ@o%kZYbbV[%{o-{mn@9AHHMLCVW\\X\\?PDgo\\#jT]cXn|x5&F,$w.-11'VkRA@II=BkbVsbTU' z//43*=>C?C&7+NVCiQ;DJ?Uc`zl-rj^tswwm=R9('00$)RI=ZI;<mfatuzy}%%*&*l}q5=*P8\"+1&<JGbSsYQE[Z^^T$9 nmvvjo90$A0\"#TMH[\\a`WkkplpSdX{$p7~hqwl#1x0J=]CVWc[R:Qm^~doc }l(#8 irxm$2y2L>^DWXd\\S;Sn_ epe!~n)$9!zlm@0\"6V<.286-;;O=bTFGyqyTk(#`x31(8r*DA~7ROF.E_\\:Rlgj g]Seiih|drz1xs>$AV>?D>:75SD;FNj\\XUSztszdmsh~-({6V<PPUHVN9:L.FBHVatc6ehnc+/{sw yR:%-#l<.7uEEKQa\"g_Sihllb2G.|{%%x}G>5g7:@5\\`QEzbc";
this.Fs(ia.jC(W),ia.jC(dd.filter.IA))};dd.Ux[0].prototype=new dd.E$;dd.Ux[0].prototype.kr=function(W,q){this.Hw(["source","iwh","ld","shine"]);
var X=dd.Ca,k=this.QI;X.uniform2fv(k.iwh,q.Bt);X.uniform3fv(k.ld,q.azM);X.uniform1f(k.shine,q.a4g);this.Ob([k.source,W,k.tang,q.z$])};
dd.Ux[1]=function(){dd.E$.call(this);var W="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZDMSH^lYfY4{tpnnz!~4}'-\"8F,?9FJEAya[I]gZb^ysef8) R\"%+ YA+4:/ES?;PHjLU[Pfths*!jsyn%3'3E?>E/8>3IWM?X:HVl-ribj'r}2<??JPQMYYQ:FYihfnpuy}smzs(,.5:4=CEKFS;1'9==<PF8Q3AOeukU^dgm&se~`n|<Q9:?)28-CQ<=O,PMZOtfXY+{n+%$+%vwI:.@`FQ<ZI;<mfwuzx}|%(1+0,/3u#uP82$%VG9>PpV@IORXp\\w-tn`a3$u|]0P6*I.3`H2;A6LZQqt$]V^z'**/+@(\"stF7}M@`F-<CZDIdhUux&mgYZ,|c4&F,r\")@*/L;-._Xddihppuqtxe&)6}gpvk\"0\"6V<($91S2abPfApq`r(oYbh]s\"sz+K1|x.&H'WWE[6efUg|dNW]Rhvha @&qm#z={KL:P+[[J\\qYCLRG]k]dYw8}iezr5sDD2H#SSBTiQ;DJ?UcOzl-rcbt'p%4+|$@&-mN<OdL6?E:P^Jvg(m^]o\"kd/t{p;!(hI7J_G1:@5KYS_ eVUgy])'}i63x `A0BW?9EeKVHTsZmnxoi,o#$)6005C+t}$x/=373>LlRLXf^DWQ^b]Yv$|hdyq4r\")@,L:MQ>^a_:IPgSsbtxe&)$9!vl~##\"6,0,7OP\\\\acjhmi~fglfb_]{lcnv3%!}{C=<C=/0aRNR[{aX+Z]cX&cth>& qrF5{++AaG?3IHLLBq'm\\[ddX]'}tGvy t<Q9 //S*KkQ<=O,PMZOthl~4{fndN}oxW''-3CcI0??pXY";
this.Fs(ia.jC(W),ia.jC(dd.filter.IA))};dd.Ux[1].prototype=new dd.E$;dd.Ux[1].prototype.kr=function(W,q){this.Hw(["source","iwh","isc","bristle"]);
var X=dd.Ca,k=this.QI;X.uniform2fv(k.iwh,q.Bt);X.uniform1f(k.isc,q.aer);X.uniform1f(k.bristle,q.ads);
this.Ob([k.source,W])};dd.Ux[2]=function(){dd.E$.call(this);var W="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$zkz! {,NcB:*:6lTMIGGSYWlfXY+{hymC+$ }}*0.C-6<1GULEFOF#jc_]]iom#lu{p'5}4/1_GA/CM@HD_YKL}ne8gjpe?'py t+94%,-1@NY;DJ?Uc_rlkrh^ptts(p'\"<7G.0;NBX5KFHdmivuzwd]^g^*vopyp;5AV>?D>:75SD;FNj\\XUSztszdmsh~-x+S-&'0'S?89B9u]GPVKaofmx9~338F.(yzN=494IiOG;QPTTJy/udcll`e/&|O~\"(|DYA;-._P:GYy_tsxuvfZpossi9N5%t%!H?6h8;A6]eSWmZLM~w#$.(/0:14I1+|}O@(FfL6CpXBNTlQYbp]4*8 lB;G/{@CD>=D>01bSGYy_V)X[aV0wams,mv|q(6,YOPUcKAmfgjmns\"i_z}~xw~xjk=.~x7W=RQVSTD8NMQQGv,rbRb^&|p,4\"&<)z{MFQR\\V]^h_bw_LLpP^f|e_*e-C:;@<65<-'bU93lTUZB`!fWQ+rfx'<\"rl5w)|R:$-3(>LGRrXSDKLP_uc|2ypup&4I/*?-!76::0_t[JIRRFKtk_z0wnu,A~E-yy>,Z\\+=QK1D:9Fx`afN*|Yf4{|\"ltjT$u~]--39IiOFKFefrrwyah|2yz";
this.Fs(ia.jC(W),ia.jC(dd.filter.IA))};dd.Ux[2].prototype=new dd.E$;dd.Ux[2].prototype.kr=function(W,q){this.Hw(["source","tang","iwh","sigma","expo"]);
var X=dd.Ca,k=this.QI;X.uniform2fv(k.iwh,q.Bt);X.uniform1f(k.sigma,q.Ul);X.uniform1f(k.expo,q.sp);this.Ob([k.source,W,k.tang,q.z$]);
var B=X.LINEAR;X.activeTexture(X.TEXTURE0);X.texParameteri(X.TEXTURE_2D,X.TEXTURE_MIN_FILTER,B);X.texParameteri(X.TEXTURE_2D,X.TEXTURE_MAG_FILTER,B);
X.activeTexture(X.TEXTURE0)};dd.Ux[8]=function(){dd.E$.call(this);var W="n\\[KFIPCFBP;0,.7,,8{~~m}A#ukc]cc[j[FOOH>HdsL=693! R4'|tnttl{lW``YOYu%]O9C9iK>4,&,,$3'rm9$juc3tg]UOUUM\\@CC2BJ;.),|S5)p~#oqg|p\\W#m^+TQQ@sUI?6.F1\"')?+!wo1%}~beeTdlR^!TGBE6\\B503$Z< ##q\"*z{!;z)#\"*k_KFs\\MLAPjJ<*:31+zDS4|uxr`_#sd1ZWWFgvXL83`I;%@Z:,y*#!zj4C$mWaWxiZ'PMM<]lNB.)T?#*6P0?87.)r\\&mk{bNItglgk_`[_PM\\>2}xD/p)C#fm5vZ``rQSV^EuemO6eX^@'EB=1*+~je1{iu0o`-VSSBuW;AAS/22!19)P@;:B$s:-(%\"|{$eUjgbVOPD0+VA, 8R2A:90+tbrkicS|,lV@J@aR@UW?=M4 zF9>9=12-1\"~.oVPnHPRbE9]3TdUPOE923}qG4qe9zutVn)hSGz\\JV^mM8,N+6$S5&%y)1@ q_ohf`Py)iRKNH65XI7L[=./?<I+qk*q:6^jxlLYIBIuWRQ3hU,3Z<76z|lPyehAjdddn)hYXMfaga`\\>?M\\>9";
this.Fs(ia.wl(W),ia.jC(dd.filter.IA))};dd.Ux[8].prototype=new dd.E$;dd.Ux[8].prototype.kr=function(W,q){this.Hw(["source","tang","iwh","sigma"]);
var X=dd.Ca,k=this.QI;X.uniform2fv(k.iwh,q.Bt);X.uniform1f(k.sigma,q.Ul);this.Ob([k.source,W,k.tang,q.z$]);
var B=X.LINEAR;X.activeTexture(X.TEXTURE0);X.texParameteri(X.TEXTURE_2D,X.TEXTURE_MIN_FILTER,B);X.texParameteri(X.TEXTURE_2D,X.TEXTURE_MAG_FILTER,B);
X.activeTexture(X.TEXTURE0)};function g(){}g.u={};g.ayt={};g.N=function(W){return JSON.parse(JSON.stringify(W))};
g.Oj=function(W){if(W instanceof dd.rV)return W.depth;return W instanceof Float32Array?32:W instanceof Uint16Array?16:8};
g.bH=function(W){return W==8?255:W==16?65535:1};g.Cn=function(W,q,X){var k=g.Oj(W),B=W.length;if(k==q)return W;
if(X==null)X=g.j(B,q);if(q==8){if(k==16)for(var N=0;N<B;N++)X[N]=W[N]>>>8;if(k==32)for(var N=0;N<B;N++)X[N]=Math.min(255,~~(.5+255*W[N]))}else if(q==16){if(k==8)for(var N=0;
N<B;N++)X[N]=W[N]<<8|W[N];if(k==32)for(var N=0;N<B;N++)X[N]=Math.min(65535,65535*W[N])}else if(q==32){if(k==8)for(var N=0;
N<B;N++)X[N]=W[N]*(1/255);if(k==16)for(var N=0;N<B;N++)X[N]=W[N]*(1/65535)}return X};g.a7S=function(W,q){for(var N=0;
N<W.length;N+=2)W[N]=g.Cn(W[N],q)};g.aft=function(){var W=[64,64,128,256,512,1024,2048],q=[];for(var N=0;
N<W.length;N++){var X=W[N],k=document.createElement("canvas");k.width=X;k.height=X;q.push(k.getContext("2d",{willReadFrequently:!0}))}return q}();
g.Nm=function(W,q){var X,k=g.aft,N=1,B=Math.max(W,q);while(N<k.length&&B>k[N].canvas.width)N++;if(N==k.length){X=k[0];
var U=X.canvas;U.width=W;U.height=q}else{X=k[N];X.clearRect(0,0,W,q)}return X};g.AE=function(W,q,X,k){if(k==null)k=new Uint32Array(q*X);
k[0]=W[0];for(var B=1;B<q;B++)k[B]=k[B-1]+W[B];for(var U=1;U<X;U++){var N=U*q;k[N]=k[N-q]+W[N];for(var B=1;
B<q;B++)k[N+B]=W[N+B]+k[N+B-1]+k[N+B-q]-k[N+B-q-1]}return k};g.Bm=function(W,q,X,k,B,U){var l=(B-1)*q,K=U*q;
return W[K+k]-W[K+X-1]-W[l+k]+W[l+X-1]};g.ahV=function(W,q,X,k){var B=q*4;if(k==null)k=new Uint32Array(q*X*4);
k[0]=W[0];k[1]=W[1];k[2]=W[2];k[3]=W[3];for(var U=1;U<q;U++)g.aaT(W,k,4,U<<2);for(var l=1;l<X;l++){var N=l*q<<2;
g.aaT(W,k,B,N);for(var U=4;U<B;U+=4){var K=N+U;k[K]=W[K]+k[K-4]+k[K-B]-k[K-B-4];k[K+1]=W[K+1]+k[K-3]+k[K-B+1]-k[K-B-3];
k[K+2]=W[K+2]+k[K-2]+k[K-B+2]-k[K-B-2];k[K+3]=W[K+3]+k[K-1]+k[K-B+3]-k[K-B-1]}}return k};g.aaT=function(W,q,X,N){q[N]=q[N-X]+W[N];
q[N+1]=q[N-X+1]+W[N+1];q[N+2]=q[N-X+2]+W[N+2];q[N+3]=q[N-X+3]+W[N+3]};g.a2d=function(W,q,X,k,B,U){var l=B+X<<2,K=B+q<<2,D=k+X<<2,m=k+q<<2;
U[0]+=W[l]-W[K]-W[D]+W[m];U[1]+=W[l+1]-W[K+1]-W[D+1]+W[m+1];U[2]+=W[l+2]-W[K+2]-W[D+2]+W[m+2];U[3]+=W[l+3]-W[K+3]-W[D+3]+W[m+3]};
g.Md=function(W,q,X){var k={},B=0,U=0,l=new Uint32Array(W.buffer),K=l.length,D=Date.now();for(var m=1;
m<X-1;m++)for(var Y=1;Y<q-1;Y++){var a=m*q+Y,p=l[a];if(p>>>24<230)U++;if(k[p]==null){k[p]=!0;B++}}if(U!=0||B<20)return!1;
return!0};g.Vh=function(W,q,X,k,B,U){if(B==null)B=U=0;var l=Math.round(Math.log(k)/Math.log(2)),K=new Uint32Array(W.buffer);
for(var N=0;N<X;N++)for(var D=0;D<q;D++){K[N*q+D]=g.aAk(N+U,D+B,l)}};g.a1I=function(N,W,q){return 255-((N>>>q)+(W>>>q)&1)*51};
g.aAk=function(N,W,q){return 4294967295-((N>>>q)+(W>>>q)&1)*3355443};g.gC=function(W,q){var X=q==null?1:q/255;
return{o:(W>>>16&255)*X,L:(W>>>8&255)*X,X:(W&255)*X}};g.xS=function(W,q){var X=q==null?1:255/q;return Math.round(W.o*X)<<16|Math.round(W.L*X)<<8|Math.round(W.X*X)};
g.Ga=function(W){var q=W.toString(16);while(q.length<6)q="0"+q;return q};g.aBq=function(W){return parseInt(W,16)};
g.L2=function(W){return.3*W.o+.59*W.L+.11*W.X};g.mk=function(W){return Math.max(W.o,W.L,W.X)-Math.min(W.o,W.L,W.X)};
g.jN=function(W,q,X){return.3*W+.59*q+.11*X};g.ah$=function(W,q,X){return Math.max(W,q,X)-Math.min(W,q,X)};
g.Lg=function(W,q){var X=q-W,k=Math.abs(X),B=X-1,U=X+1;if(Math.abs(B)<k)X=B;else if(Math.abs(U)<k)X=U;
return X};g.Kz=function(W){return W<.0031308?12.92*W:1.055*Math.pow(W,1/2.4)-.055};g.Ni=function(W){return W<.04045?W/12.92:Math.pow((W+.055)/1.055,2.4)};
g.aAP=function(W,q){var X=Math.min(W.length,q.length);for(var N=0;N<X;N+=4){var k=W[N],B=W[N+1],U=W[N+2];
q[N]=16+Math.floor(65.481/255*k+128.553/255*B+24.966/255*U+.5);q[N+1]=128-Math.floor(37.797/255*k-74.203/255*B+112/255*U+.5);
q[N+2]=128+Math.floor(112/255*k-93.786/255*B-18.214/255*U+.5);q[N+3]=W[N+3]}};g.avP=function(W,q,X){var k,B,U,l=Math.max(W,q,X),K=Math.min(W,q,X);
U=l;if(l!=0)B=(l-K)/l;else B=0;if(B==0)k=0;else{var D=l-K,m=(l-W)/D,Y=(l-q)/D,a=(l-X)/D;if(W==l)k=a-Y;
else if(q==l)k=2+m-a;else k=4+Y-m;k*=1/6;if(k<0)k=k+1}return{QB:k,Sp:B,X:U}};g.abE=function(W,q,X){var k=0,B=0,U=0;
if(q==0)k=B=U=X;else{var l=(W-Math.floor(W))*6,K=Math.floor(l),D=l-Math.floor(l),m=X*(1-q),Y=X*(1-q*D),a=X*(1-q*(1-D));
switch(K){case 0:k=X;B=a;U=m;break;case 1:k=Y;B=X;U=m;break;case 2:k=m;B=X;U=a;break;case 3:k=m;B=Y;
U=X;break;case 4:k=a;B=m;U=X;break;case 5:k=X;B=m;U=Y;break}}return{o:k,L:B,X:U}};g.Kp=function(W,q,X){var k=Math.max(W,q,X),B=Math.min(W,q,X),U=0,l=0,K=(k+B)*.5;
if(k!=B){var D=k-B;l=K>.5?D/(2-(k+B)):D/(k+B);switch(k){case W:U=(q-X)/D+(q<X?6:0);break;case q:U=(X-W)/D+2;
break;case X:U=(W-q)/D+4;break}U*=1/6}return{QB:U,Sp:l,RG:K}};g.Vy=function(W,q,X){var k,B,U;if(q==0)k=B=U=X;
else{var l=X<.5?X*(1+q):X+q-X*q,K=2*X-l;k=g.Ow(K,l,W+1/3);B=g.Ow(K,l,W);U=g.Ow(K,l,W-1/3)}return{o:k,L:B,X:U}};
g.Ow=function(W,q,X){if(X<0)X+=1;if(X>1)X-=1;if(X<1/6)return W+(q-W)*6*X;if(X<1/2)return q;if(X<2/3)return W+(q-W)*(2/3-X)*6;
return W};g.v9=function(W,q,X){var k=Math.max(W,q,X),B=Math.min(W,q,X),U,l,K=k,D=k-B;l=k==0?0:D/k;if(k==B)U=0;
else{switch(k){case W:U=(q-X)/D+(q<X?6:0);break;case q:U=(X-W)/D+2;break;case X:U=(W-q)/D+4;break}U*=1/6}return{QB:U,Sp:l,he:K}};
g.C7=function(W,q,X){var k,B,U,N,l,K,D,m;N=Math.floor(W*6);l=W*6-N;K=X*(1-q);D=X*(1-l*q);m=X*(1-(1-l)*q);
switch(N%6){case 0:k=X,B=m,U=K;break;case 1:k=D,B=X,U=K;break;case 2:k=K,B=X,U=m;break;case 3:k=K,B=D,U=X;
break;case 4:k=m,B=K,U=X;break;case 5:k=X,B=K,U=D;break}return{o:k,L:B,X:U}};g.DV=function(){var W=[],q=[];
for(var N=0;N<8e3;N++){var X=N*(1/4e3);W[N]=g.Ni(X);q[N]=X>.008856?Math.pow(X,1/3):(903.3*X+16)*(1/116)}return[W,q]}();
g.j7=function(W,q,X,k){if(k==null)k=[.9642,1,.8249];var B=g.DV[0],U=g.DV[1];W=B[~~(.5+W*(4e3/255))];
q=B[~~(.5+q*(4e3/255))];X=B[~~(.5+X*(4e3/255))];var l=g.Id.aeL,K=l[0]*W+l[1]*q+l[2]*X,D=l[4]*W+l[5]*q+l[6]*X,m=l[8]*W+l[9]*q+l[10]*X;
K=K*(1/k[0]);D=D*(1/k[1]);m=m*(1/k[2]);return g.alT(K,D,m)};g.alT=function(W,q,X){var k=g.DV[1],B=k[~~(.5+W*4e3)],U=k[~~(.5+q*4e3)],l=k[~~(.5+X*4e3)];
return{xd:116*U-16,iM:500*(B-U),X:200*(U-l)}};g.sR=function(W,q,X){var k=903.3,B=.008856,U=(W+16)/116,l=U*U*U,K=U-X/200,D=K*K*K,m=q/500+U,Y=m*m*m,a=D>B?D:(116*K-16)/k,p=l>B?l:(116*U-16)/k,M=Y>B?Y:(116*m-16)/k,x=M*96.42,R=p*100,y=a*82.49,s=g.Id.Z2(g.Id.Ck,[x/100,R/100,y/100,0]);
for(var N=0;N<4;N++)s[N]=Math.max(0,Math.min(255,g.Kz(s[N])*255));return{o:s[0],L:s[1],X:s[2]}};g.ae0=function(W,q,X,k,B){var U=W.xd,l=W.iM,K=W.X,D=(U<q.xd?q.xd-U:X.xd<U?X.xd-U:0)*(1/100),m=(l<q.iM?q.iM-l:X.iM<l?X.iM-l:0)*(1/116),Y=(K<q.X?q.X-K:X.X<K?X.X-K:0)*(1/116),a=Math.sqrt(D*D+m*m+Y*Y)*1.35;
return a<=k?Math.min(1,1.17*(1-a*B)):0};g.eL=function(W){var q=g.El("cmykToRgb"),X=q[2],k=q[3],B=[0,0,0,0];
ICC.U.applyLUT4(k,X,W,B);return B};g.a7k=function(W){var q=g.El("cmykToRgb"),X=q[2],k=q[3];ICC.U.applyLUT4(k,X,W,W)};
g.adQ=function(){var W=function(a1){return Math.round(a1*255)},q="",X=3;for(var N=0;N<tab.length;N++){var k=W(tab[N]);
if(X<=N)k=k-W(tab[N-X])+256&255;q+=k.toString(16).padStart(2,"0")}return q};g.El=function(W){var q=LUTS["_"+W];
if(q==null){var X=LUTS[W],k=X[0],a1=X[1],B=X[2],U=X[3],l=[];for(var N=0;N<U.length;N+=2)l.push(parseInt(U.slice(N,N+2),16));
for(var N=a1;N<l.length;N++)l[N]=l[N]+l[N-a1]&255;for(var N=0;N<l.length;N++)l[N]*=1/255;q=LUTS["_"+W]=[k,a1,B,l]}return q};
g.s6=function(W){var q=g.El("rgbToCmyk"),X=q[2],k=q[3],B=[0,0,0,0];ICC.U.applyLUT3to4(k,X,W,B);return B};
g.aqH=function(W){var q=g.El("rgbToCmyk"),X=q[2],k=q[3];ICC.U.applyLUT3to4(k,X,W,W);g.i5(W)};g.Iv=function(W,q,X){var k=W.length,B=.3,U=.59,l=.11;
if(X){B=X[0];U=X[1];l=X[2]}for(var N=0;N<k;N+=4)q[N>>2]=~~(W[N+0]*B+W[N+1]*U+W[N+2]*l+.5)};g.LO=function(W,q){var X=q.length;
for(var N=0;N<X;N+=4){var k=W[N>>>2];q[N]=k;q[N+1]=k;q[N+2]=k}};g.Aw=function(W,q){var X=g.Oj(W.iM),k=g.Oj(q);
if(X!=k)throw"e";if(X==8)g.aoy(W,q);else{var B=W.o,U=W.L,l=W.X,K=W.iM;for(var N=0;N<q.length;N+=4){var D=N>>>2;
q[N]=B[D];q[N+1]=U[D];q[N+2]=l[D];q[N+3]=K[D]}}};g.aoy=function(W,q){var X=W.iM,k=W.o,B=W.L,U=W.X,l=Math.min(W.iM.length,q.buffer.byteLength>>>2),K=4*Math.floor(l/4),D=new Uint32Array(q.buffer),m=new Uint32Array(X.buffer),Y=new Uint32Array(k.buffer),a=new Uint32Array(B.buffer),p=new Uint32Array(U.buffer);
for(var N=0;N<K;N+=4){var M=m[N>>2],x=p[N>>2],R=a[N>>2],y=Y[N>>2];D[N]=M<<24|(x&255)<<16|(R&255)<<8|y&255;
D[N+1]=(M&65280)<<16|(x&65280)<<8|R&65280|(y&65280)>>>8;D[N+2]=(M&16711680)<<8|x&16711680|(R&16711680)>>>8|(y&16711680)>>>16;
D[N+3]=M&4278190080|(x&4278190080)>>>8|(R&4278190080)>>>16|(y&4278190080)>>>24}for(var N=K;N<l;N++)D[N]=X[N]<<24|U[N]<<16|B[N]<<8|k[N]};
g.EX=function(W,q){var X=g.Oj(q.iM),k=g.Oj(W);if(X!=k)throw"e";if(X==8)g.arw(W,q);else{var B=q.o,U=q.L,l=q.X,K=q.iM;
for(var N=0;N<W.length;N+=4){var D=N>>>2;B[D]=W[N];U[D]=W[N+1];l[D]=W[N+2];K[D]=W[N+3]}}};g.arw=function(W,q){var X=q.iM,k=q.o,B=q.L,U=q.X,l=Math.min(q.iM.length,W.buffer.byteLength>>>2),K=4*Math.floor(l/4),D=new Uint32Array(W.buffer),m=new Uint32Array(X.buffer),Y=new Uint32Array(k.buffer),a=new Uint32Array(B.buffer),p=new Uint32Array(U.buffer);
for(var N=0;N<K;N+=4){var M=D[N],x=D[N+1],R=D[N+2],y=D[N+3];Y[N>>2]=M&255|(x&255)<<8|(R&255)<<16|y<<24;
a[N>>2]=(M&65280)>>8|x&65280|(R&65280)<<8|(y&65280)<<16;p[N>>2]=(M&16711680)>>16|(x&16711680)>>8|R&16711680|(y&16711680)<<8;
m[N>>2]=M>>>24|x>>>24<<8|R>>>24<<16|y&4278190080}for(var N=K;N<l;N++){var s=D[N];k[N]=s>>0&255;B[N]=s>>8&255;
U[N]=s>>16&255;X[N]=s>>24&255}};g.u6=function(W,q,X){var k=Math.min(W.length/4,q.length),B=g.Oj(W);if(B!=g.Oj(q))throw"e";
if(B==8){for(var N=0;N<k;N++){q[N]=W[(N<<2)+X]}}else for(var N=0;N<k;N++){q[N]=W[(N<<2)+X]}};g.fP=function(W,q,X){var k=g.Oj(W);
if(k!=g.Oj(q))throw"e";var B=Math.min(q.length/4,W.length);if(k==8){var U=new Uint8Array(q.buffer),l=new Uint32Array(W.buffer),N=0;
while(N+4<B){var K=l[N>>>2];U[(N<<2)+X]=K&255;U[(N<<2)+X+4]=K>>>8&255;U[(N<<2)+X+8]=K>>>16&255;U[(N<<2)+X+12]=K>>>24;
N+=4}while(N<B){U[(N<<2)+X]=W[N];N++}}else{for(var N=0;N<B;N++)q[(N<<2)+X]=W[N]}};g.WD=function(W,q){new Uint32Array(W.buffer).fill(q)};
g.t3=function(W,q,X,k){var B=g.Oj(W),U=g.bH(B),l=W.length,K=Math.round(q*U),D=Math.round(X*U),m=Math.round(k*U);
if(B==8)for(var N=0;N<l;N+=4){W[N]=K;W[N+1]=D;W[N+2]=m}if(B==16)for(var N=0;N<l;N+=4){W[N]=K;W[N+1]=D;
W[N+2]=m}if(B==32)for(var N=0;N<l;N+=4){W[N]=q*U;W[N+1]=X*U;W[N+2]=k*U}};g._5=function(W,q){var X=g.Oj(W),k=g.bH(X),B=W.length,U=Math.round(q*k);
if(X==8)for(var N=0;N<B;N+=4){W[N+3]=U}if(X==16)for(var N=0;N<B;N+=4){W[N+3]=U}if(X==32)for(var N=0;
N<B;N+=4){W[N+3]=q*k}};g.ake=function(W,q,X,k,B){if(B==null)B=0;var U=new Uint32Array(W.buffer);X=X.x$(q);
var l=X.x-q.x,K=X.y-q.y,D=X.r,m=X.$,Y=q.r;for(var a=0;a<m;a++){var N=(K+a)*Y+l;for(var p=0;p<D;p++){U[N]=U[N]&B|k;
N++}}};g.cX=function(W,q){var X=Math.min(W.buffer.byteLength,q.buffer.byteLength),k=X>>>2,B=new Uint32Array(W.buffer,0,k),U=new Uint32Array(q.buffer,0,k);
U.set(B)};g.AB=function(W,q){var X=W.buffer.byteLength,k=q.buffer.byteLength,B=new Uint32Array(W.buffer,0,X>>2),U=new Uint32Array(q.buffer,0,k>>2);
if(X!=k)return!1;var l=B.length;for(var N=0;N<l;N++)if(U[N]!=B[N])return!1;return!0};g.i5=function(W){var q=g.Oj(W),X=W.length;
if(q==8)for(var N=0;N<X;N++)W[N]=~W[N];if(q==16)for(var N=0;N<X;N++)W[N]=~W[N];if(q==32)for(var N=0;
N<X;N++)W[N]=1-W[N]};g.amH=function(W){var q=W.length;for(var N=0;N<q;N+=4){W[N]=~W[N];W[N+1]=~W[N+1];
W[N+2]=~W[N+2]}};g.aod=function(W){var q=W.length;for(var N=3;N<q;N+=4)W[N]=~W[N]};g.ahy=function(W){return W+(W%4==0?0:4-W%4)};
g.j=function(W,q){if(q==null)q=8;var X=q==8?Uint8Array:q==16?Uint16Array:Float32Array;if(q==8)W=g.ahy(W);
if(q==16)W+=W&1;try{var k=new X(W)}catch(bu){alert("Not enough RAM! (need "+Math.round(W/(1<<20))+" MB)",7e3);
throw"low_ram"}return k};g.aeB=function(W){var q=W.oq.r,X=W.oq.$,k=q*4,B=q*X,U=new Uint8Array(W.data),l=0,K=0;
for(var D=1;D<X;D++)for(var m=1;m<q;m++){var N=(D*q+m)*4;if(U[N-1]==0&&U[N+3]==0&&U[N-k+3]==0){K++;var Y=U[N],a=U[N+1],p=U[N+2],M=Y-U[N-4],x=Y-U[N-k],R=a-U[N-3],y=a-U[N-k+1],s=p-U[N-2],F=p-U[N-k+2];
if(M*M+R*R+s*s!=0&&x*x+y*y+F*F!=0)l++}}if(K/B>.01&&l/K>.05){var E=g.j(q*X);g.u6(U,E,3);W.RH=[E];for(var N=0;
N<U.length;N+=4)U[N+3]=255}};g.a1t=function(W,q,X,k){if(k==null)k=0;var B=0;while(B+3<W.length&&W[B+3].C()>=k&&q.Lr()*(1<<(B>>>1))<X)B+=2;
var U=W[1],l=W[B+1],K=new ka;K.translate(-l.x,-l.y);K.scale(U.r/l.r,U.$/l.$);K.translate(U.x,U.y);K.concat(q);
return[B,K]};g.z0=function(W){var q=W.length,X=W[q-2],k=W[q-1];while(k.r>=2&&k.$>=2){var B=g.ly(X,k);
W.push(B.kl,B.S);X=B.kl;k=B.S}};g.HJ=function(W){var q=W.length,X=W[q-2],k=W[q-1];while(k.r>=2&&k.$>=2){var B=g.Jo(X,k);
W.push(B.kl,B.S);X=B.kl;k=B.S}};g.ly=function(W,q,X){var k=q.r,B=q.$,U=k>>1,l=B>>1,K=new dU(q.x>>>1,q.y>>>1,U,l),D,m=g.Oj(W);
if(m==8){D=X&&X.length==U*l*4?X:g.j(U*l*4);var Y=new Uint32Array(W.buffer),a=new Uint32Array(D.buffer);
for(var p=0;p<l;p++)for(var M=0;M<U;M++){var x=p*U+M,R=(p<<1)*k+(M<<1),y=Y[R],s=Y[R+1],F=Y[R+k],E=Y[R+k+1],o=y>>>24,G=s>>>24,d=F>>>24,u=E>>>24,r=o+G+d+u;
if(r==1020){var v=(y>>>0&255)+(s>>>0&255)+(F>>>0&255)+(E>>>0&255)+2>>>2,c=(y>>>8&255)+(s>>>8&255)+(F>>>8&255)+(E>>>8&255)+2>>>2,V=(y>>>16&255)+(s>>>16&255)+(F>>>16&255)+(E>>>16&255)+2>>>2;
a[x]=255<<24|V<<16|c<<8|v}else if(r==0)a[x]=0;else{var v=(y>>>0&255)*o+(s>>>0&255)*G+(F>>>0&255)*d+(E>>>0&255)*u,c=(y>>>8&255)*o+(s>>>8&255)*G+(F>>>8&255)*d+(E>>>8&255)*u,V=(y>>>16&255)*o+(s>>>16&255)*G+(F>>>16&255)*d+(E>>>16&255)*u,j=1/r;
v=~~(v*j+.5);c=~~(c*j+.5);V=~~(V*j+.5);a[x]=r+2>>>2<<24|V<<16|c<<8|v}}}else{D=g.j(U*l*4,m);for(var p=0;
p<l;p++)for(var M=0;M<U;M++){var x=p*U+M<<2,R=(p<<1)*k+(M<<1)<<2,Q=R,H=R+4,T=R+k*4,e=R+k*4+4,o=W[Q+3],G=W[H+3],d=W[T+3],u=W[e+3],r=o+G+d+u;
if(r==0){}else{var j=1/r;D[x]=(W[Q]*o+W[H]*G+W[T]*d+W[e]*u)*j;D[x+1]=(W[Q+1]*o+W[H+1]*G+W[T+1]*d+W[e+1]*u)*j;
D[x+2]=(W[Q+2]*o+W[H+2]*G+W[T+2]*d+W[e+2]*u)*j;D[x+3]=r*.25}}}return{S:K,kl:D}};g.a8X=function(W,q,X){var k=q.r,B=q.$,U=k>>1,l=B>>1,K=new dU(q.x,q.y,U,l),D=X&&X.length==U*l*4?X:g.j(U*l*4),m=new Uint32Array(W.buffer),Y=new Uint32Array(D.buffer);
for(var a=0;a<l;a++)for(var p=0;p<U;p++){var M=a*U+p,x=(a<<1)*k+(p<<1),R=m[x],y=m[x+1],s=m[x+k],F=m[x+k+1],E=2+(R>>>0&255)+(y>>>0&255)+(s>>>0&255)+(F>>>0&255)>>>2,o=2+(R>>>8&255)+(y>>>8&255)+(s>>>8&255)+(F>>>8&255)>>>2,G=2+(R>>>16&255)+(y>>>16&255)+(s>>>16&255)+(F>>>16&255)>>>2,d=2+(R>>>24&255)+(y>>>24&255)+(s>>>24&255)+(F>>>24&255)>>>2;
Y[M]=d<<24|G<<16|o<<8|E}return{S:K,kl:D}};g.aDz=function(W,q,X){var k=q.r,B=q.$,U=2*Math.floor(k/3),l=2*Math.floor(B/3),K=new dU(q.x,q.y,U,l),D=X&&X.length==U*l*4?X:g.j(U*l*4),m=new Uint32Array(W.buffer),Y=new Uint32Array(D.buffer);
for(var a=0;a<l;a+=2)for(var p=0;p<U;p+=2){var M=a*U+p,x=(a*3>>>1)*k+(p*3>>>1),R=m[x],y=m[x+1],s=m[x+2],F=m[x+k],E=m[x+1+k],o=m[x+2+k],G=m[x+k+k],d=m[x+1+k+k],u=m[x+2+k+k],r=R>>>24<<2,v=(R>>>16&255)*r,c=(R>>>8&255)*r,V=(R&255)*r,j=y>>>24<<1,Q=(y>>>16&255)*j,H=(y>>>8&255)*j,T=(y&255)*j,e=s>>>24<<2,z=(s>>>16&255)*e,J=(s>>>8&255)*e,P=(s&255)*e,L=F>>>24<<1,A=(F>>>16&255)*L,h=(F>>>8&255)*L,C=(F&255)*L,w=E>>>24,f=(E>>>16&255)*w,O=(E>>>8&255)*w,n=(E&255)*w,$=o>>>24<<1,d9=(o>>>16&255)*$,i=(o>>>8&255)*$,dF=(o&255)*$,t=G>>>24<<2,im=(G>>>16&255)*t,bc=(G>>>8&255)*t,at=(G&255)*t,l9=d>>>24<<1,fF=(d>>>16&255)*l9,g$=(d>>>8&255)*l9,fR=(d&255)*l9,cr=u>>>24<<2,eE=(u>>>16&255)*cr,bQ=(u>>>8&255)*cr,hT=(u&255)*cr,df=r+j+L+w,eV=e+j+$+w,gU=t+l9+L+w,i8=cr+l9+$+w,bv=df==0?0:1/df,fE=eV==0?0:1/eV,d5=gU==0?0:1/gU,aR=i8==0?0:1/i8,l8=0,au=0,hx=0,fw=0;
l8=~~(.5+(V+T+C+n)*bv);au=~~(.5+(c+H+h+O)*bv);hx=~~(.5+(v+Q+A+f)*bv);fw=~~(.5+df*(1/9));Y[M]=fw<<24|hx<<16|au<<8|l8;
l8=~~(.5+(P+T+dF+n)*fE);au=~~(.5+(J+H+i+O)*fE);hx=~~(.5+(z+Q+d9+f)*fE);fw=~~(.5+eV*(1/9));Y[M+1]=fw<<24|hx<<16|au<<8|l8;
l8=~~(.5+(at+fR+C+n)*d5);au=~~(.5+(bc+g$+h+O)*d5);hx=~~(.5+(im+fF+A+f)*d5);fw=~~(.5+gU*(1/9));Y[M+U]=fw<<24|hx<<16|au<<8|l8;
l8=~~(.5+(hT+fR+dF+n)*aR);au=~~(.5+(bQ+g$+i+O)*aR);hx=~~(.5+(eE+fF+d9+f)*aR);fw=~~(.5+i8*(1/9));Y[M+U+1]=fw<<24|hx<<16|au<<8|l8}return{S:K,kl:D}};
g.azn=function(W,q,X){var k=q.r,B=q.$,U=2*Math.floor(k/3),l=2*Math.floor(B/3),K=new dU(q.x,q.y,U,l),D=X&&X.length==U*l*4?X:g.j(U*l*4),m=new Uint32Array(W.buffer),Y=new Uint32Array(D.buffer);
for(var a=0;a<l;a+=2)for(var p=0;p<U;p+=2){var M=a*U+p,x=(a*3>>>1)*k+(p*3>>>1),R=m[x],y=m[x+1],s=m[x+2],F=m[x+k],E=m[x+1+k],o=m[x+2+k],G=m[x+k+k],d=m[x+1+k+k],u=m[x+2+k+k],r=(R>>>16&255)<<2,v=(R>>>8&255)<<2,c=(R&255)<<2,V=(y>>>16&255)<<1,j=(y>>>8&255)<<1,Q=(y&255)<<1,H=(s>>>16&255)<<2,T=(s>>>8&255)<<2,e=(s&255)<<2,z=(F>>>16&255)<<1,J=(F>>>8&255)<<1,P=(F&255)<<1,L=E>>>16&255,A=E>>>8&255,h=E&255,C=(o>>>16&255)<<1,w=(o>>>8&255)<<1,f=(o&255)<<1,O=(G>>>16&255)<<2,n=(G>>>8&255)<<2,$=(G&255)<<2,d9=(d>>>16&255)<<1,i=(d>>>8&255)<<1,dF=(d&255)<<1,t=(u>>>16&255)<<2,im=(u>>>8&255)<<2,bc=(u&255)<<2,at=0,l9=0,fF=0;
at=~~(.5+(c+Q+P+h)*(1/9));l9=~~(.5+(v+j+J+A)*(1/9));fF=~~(.5+(r+V+z+L)*(1/9));Y[M]=255<<24|fF<<16|l9<<8|at;
at=~~(.5+(e+Q+f+h)*(1/9));l9=~~(.5+(T+j+w+A)*(1/9));fF=~~(.5+(H+V+C+L)*(1/9));Y[M+1]=255<<24|fF<<16|l9<<8|at;
at=~~(.5+($+dF+P+h)*(1/9));l9=~~(.5+(n+i+J+A)*(1/9));fF=~~(.5+(O+d9+z+L)*(1/9));Y[M+U]=255<<24|fF<<16|l9<<8|at;
at=~~(.5+(bc+dF+f+h)*(1/9));l9=~~(.5+(im+i+w+A)*(1/9));fF=~~(.5+(t+d9+C+L)*(1/9));Y[M+U+1]=255<<24|fF<<16|l9<<8|at}return{S:K,kl:D}};
g.VR=function(W){var q=255,X=W.length;X-=X&31;for(var N=3;N<X;N+=32)q=q&W[N]&W[N+4]&W[N+8]&W[N+12]&W[N+16]&W[N+20]&W[N+24]&W[N+28];
return q!=255};g.asd=function(W,q,X,k){var B=g.ly,U=g.aDz,l={kl:W,S:q},K=g.an1(X);for(var N=0;N<K.length;
N++){if(K[N]==2)l=B(l.kl,l.S,k);else l=U(l.kl,l.S,k)}return l};g.ax2=function(W,q,X,k){var B=g.Jo,U=g.acI,l={kl:W,S:q},K=g.an1(X);
for(var N=0;N<K.length;N++){if(K[N]==2)l=B(l.kl,l.S,k);else l=U(l.kl,l.S,k)}return l};g.an1=function(W){var q=[],X=W;
while(X<.499){q.push(2);X*=2}q.push(X<.5001?2:3);return q};g.Jo=function(W,q,X){var k=q.r,B=q.$,U=k>>1,l=B>>1,K=new dU(q.x,q.y,U,l);
if(W==null)return{S:K};var D=X&&X.length>=U*l?X:g.j(U*l);for(var m=0;m<l;m++){var Y=m*U;for(var a=0;
a<U;a++){var p=(m<<1)*k+(a<<1);D[Y+a]=2+W[p]+W[p+1]+W[p+k]+W[p+k+1]>>>2}}return{S:K,kl:D}};g.acI=function(W,q,X){var k=q.r,B=q.$,U=2*Math.floor(k/3),l=2*Math.floor(B/3),K=new dU(q.x,q.y,U,l);
if(W==null)return{S:K};var D=X&&X.length>=U*l?X:g.j(U*l);for(var m=0;m<l;m+=2)for(var Y=0;Y<U;Y+=2){var a=m*U+Y,p=(m*3>>>1)*k+(Y*3>>>1),M=W[p]<<2,x=W[p+1]<<1,R=W[p+2]<<2,y=W[p+k]<<1,s=W[p+1+k],F=W[p+2+k]<<1,E=W[p+k+k]<<2,o=W[p+1+k+k]<<1,G=W[p+2+k+k]<<2;
D[a]=~~(.5+(M+x+y+s)*(1/9));D[a+1]=~~(.5+(R+x+F+s)*(1/9));D[a+U]=~~(.5+(E+o+y+s)*(1/9));D[a+U+1]=~~(.5+(G+o+F+s)*(1/9))}return{S:K,kl:D}};
g.ahr=function(W,q,X,k,B){var U=q.x$(k);if(B)U=U.x$(B);var l=Math.max(0,U.x-q.x),K=Math.max(0,U.x-k.x),D=Math.max(0,U.y-q.y),m=Math.max(0,U.y-k.y),Y=U.r,a=U.$;
for(var N=0;N<a;N++){var p=(D+N)*q.r+l,M=(m+N)*k.r+K;for(var x=0;x<Y;x++){X[M+x]=Math.max(X[M+x],W[p+x])}}};
g.Z_=function(W,q,X,k,B){var U=q.x$(k);if(B)U=U.x$(B);var l=Math.max(0,U.x-q.x),K=Math.max(0,U.x-k.x),D=Math.max(0,U.y-q.y),m=Math.max(0,U.y-k.y),Y=U.r,a=U.$,p=g.Oj(W),M=g.Oj(X);
if(p!=M)throw"e";var x=p>>>3,R=new Uint8Array(X.buffer);for(var N=0;N<a;N++){var y=(D+N)*q.r+l,s=(m+N)*k.r+K;
R.set(new Uint8Array(W.buffer,y*x,Y*x),s*x)}};g.aiL=function(W,q,X,k){if(q.AB(k)){g.fP(W,X,3);return}var B=q.x$(k),U=Math.max(0,B.x-q.x),l=Math.max(0,B.x-k.x),K=Math.max(0,B.y-q.y),D=Math.max(0,B.y-k.y),m=B.r,Y=B.$;
for(var N=0;N<Y;N++){var a=(K+N)*q.r+U,p=(D+N)*k.r+l;for(var M=0;M<m;M++)X[(p+M<<2)+3]=W[a+M]}};g.Fr=function(W,q,X,k){var B=q.x$(k),U=Math.max(0,B.x-q.x),l=Math.max(0,B.x-k.x),K=Math.max(0,B.y-q.y),D=Math.max(0,B.y-k.y),m=B.r,Y=B.$;
for(var N=0;N<Y;N++){var a=(K+N)*q.r+U,p=(D+N)*k.r+l;for(var M=0;M<m;M++)X[p+M]=W[(a+M<<2)+3]}};g.YE=function(W,q,X,k,B){if(q.AB(k)&&(B==null||B.AB(k))){X.set(W);
return}var U=q.x$(k);if(B)U=U.x$(B);var l=Math.max(0,U.x-q.x),K=Math.max(0,U.x-k.x),D=Math.max(0,U.y-q.y),m=Math.max(0,U.y-k.y),Y=U.r,a=U.$,p=4*(g.Oj(X)>>>3),M=new Uint8Array(X.buffer);
for(var N=0;N<a;N++){var x=(D+N)*q.r+l,R=(m+N)*k.r+K;M.set(new Uint8Array(W.buffer,x*p,Y*p),R*p)}};g.PF=function(W,q,X,k){var B=q.x$(k),U=Math.max(0,B.x-q.x),l=Math.max(0,B.x-k.x),K=Math.max(0,B.y-q.y),D=Math.max(0,B.y-k.y),m=B.r,Y=B.$,a=W.iM,p=W.o,M=W.L,x=W.X,R=X.iM,y=X.o,s=X.L,F=X.X;
for(var N=0;N<Y;N++){var E=(K+N)*q.r+U,o=(D+N)*k.r+l;for(var G=0;G<m;G++){R[o+G]=a[E+G];y[o+G]=p[E+G];
s[o+G]=M[E+G];F[o+G]=x[E+G]}}};g.ui=function(W){var q=W.length,X=g.Oj(W),k=g.bH(X),B=1/k;if(X==8)for(var N=0;
N<q;N+=4){var U=W[N+3];if(U==255)continue;W[N]=~~(W[N]*U*(1/255)+.5);W[N+1]=~~(W[N+1]*U*(1/255)+.5);
W[N+2]=~~(W[N+2]*U*(1/255)+.5)}else for(var N=0;N<q;N+=4){var U=W[N+3];if(U==k)continue;W[N]=W[N]*(U*B);
W[N+1]=W[N+1]*(U*B);W[N+2]=W[N+2]*(U*B)}};g.dU=function(W){var q=W.length,X=g.Oj(W),k=g.bH(X),B=1/k;
if(X==8)for(var N=0;N<q;N+=4){var U=W[N+3];if(U==0||U==255)continue;var l=255/U;W[N]=~~(W[N]*l+.5);W[N+1]=~~(W[N+1]*l+.5);
W[N+2]=~~(W[N+2]*l+.5)}else{for(var N=0;N<q;N+=4){var U=W[N+3];if(U==0||U==k)continue;var l=k/U;W[N]=W[N]*l;
W[N+1]=W[N+1]*l;W[N+2]=W[N+2]*l}}};g.Xe=function(W,q){for(var N=0;N<W.length;N++)if(W[N]!=q)return!1;
return!0};g.NO=function(W){return W+1+(W>>>8)>>>8};g.round=function(W,q){var X=g.Oj(W),k=W.length;if(q==null)q=g.bH(X)>>>1;
if(X==8)for(var N=0;N<k;N++)W[N]=W[N]<q?0:255;if(X==16)for(var N=0;N<k;N++)W[N]=W[N]<q?0:65535;if(X==32)for(var N=0;
N<k;N++)W[N]=W[N]<q?0:1};g.Ky=function(W,q){var X=W.length,k=g.Oj(W);if(k==8)for(var N=0;N<X;N++)W[N]=Math.round(W[N]*q);
if(k==16)for(var N=0;N<X;N++)W[N]=Math.round(W[N]*q);if(k==32)for(var N=0;N<X;N++)W[N]=W[N]*q};g.Fz=function(W,q){var X=g.Oj(W);
if(X==8){var k=new Uint32Array(W.buffer),B=new Uint32Array(q.buffer),U=k.length;for(var N=0;N<U;N++){var l=k[N],K=B[N];
B[N]=g.NO((l>>>24)*(K>>>24))<<24|g.NO((l>>>16&255)*(K>>>16&255))<<16|g.NO((l>>>8&255)*(K>>>8&255))<<8|g.NO((l&255)*(K&255))}}else{var D=1/(X==16?65535:1);
for(var N=0;N<W.length;N++)q[N]=q[N]*W[N]*D}};g.Qj=function(W,q){var X=g.Oj(W);if(X!=g.Oj(q))throw"e";
var k=W.length;if(X==8)for(var N=0;N<k;N++)q[(N<<2)+3]=q[(N<<2)+3]*W[N]*(1/255);if(X==16)for(var N=0;
N<k;N++)q[(N<<2)+3]=q[(N<<2)+3]*W[N]*(1/65535);if(X==32)for(var N=0;N<k;N++)q[(N<<2)+3]=q[(N<<2)+3]*W[N]};
g.a14=function(W,q,X,k){var B=Math.max(0,k.x-q.x),U=Math.max(0,q.x-k.x),l=Math.max(0,k.y-q.y),K=Math.max(0,q.y-k.y),D=Math.min(q.x+q.r,k.x+k.r)-Math.max(q.x,k.x),m=Math.min(q.y+q.$,k.y+k.$)-Math.max(q.y,k.y);
for(var N=0;N<m;N++){var Y=(l+N)*q.r+B,a=(K+N)*k.r+U;for(var p=0;p<D;p++){X[a]=g.NO(X[a]*W[Y]);Y++;a++}}};
g.Jd=function(W,q,X,k){var B=g.Oj(W),U=Math.max(0,k.x-q.x),l=Math.max(0,q.x-k.x),K=Math.max(0,k.y-q.y),D=Math.max(0,q.y-k.y),m=Math.min(q.x+q.r,k.x+k.r)-Math.max(q.x,k.x),Y=Math.min(q.y+q.$,k.y+k.$)-Math.max(q.y,k.y);
for(var N=0;N<Y;N++){var a=(K+N)*q.r+U,p=((D+N)*k.r+l<<2)+3;for(var M=0;M<m;M++){if(B==8)X[p]=g.NO(X[p]*W[a]);
else if(B==16)X[p]=X[p]*W[a]*(1/65535);else if(B==32)X[p]=X[p]*W[a];a++;p+=4}}};g.b_=function(W,q,X,k){var B=Math.max(0,k.x-q.x),U=Math.max(0,q.x-k.x),l=Math.max(0,k.y-q.y),K=Math.max(0,q.y-k.y),D=Math.min(q.x+q.r,k.x+k.r)-Math.max(q.x,k.x),m=Math.min(q.y+q.$,k.y+k.$)-Math.max(q.y,k.y);
for(var N=0;N<m;N++){var Y=((l+N)*q.r+B<<2)+3,a=((K+N)*k.r+U<<2)+3;for(var p=0;p<D;p++){X[a]=g.NO(X[a]*W[Y]);
Y+=4;a+=4}}};g.n7=function(W,q){var X=g.Oj(W),k=g.bH(X),B=255/k,p=0;if(q==null)q=1;var U=4*q,l=W.length>>>2,K=new Float64Array(256),D=new Float64Array(256),m=new Float64Array(256),Y=new Float64Array(256),a=4*Math.floor(l/q)*q;
for(var N=0;N<a;N+=U){var M=Math.min(255,Math.round(B*W[N+0])),x=Math.min(255,Math.round(B*W[N+1])),R=Math.min(255,Math.round(B*W[N+2])),y=B*W[N+3]*q,s=y*(1/255);
D[M]+=s;m[x]+=s;Y[R]+=s;p+=y}for(var N=0;N<256;N++)K[N]=D[N]+m[N]+Y[N];return[K,D,m,Y,l,p/255]};g.a5Y=function(W,q){function X(d,u){var r=-1,v=0;
while(v<=u){r++;v+=d[r]}return r}function k(d,u){var r=256,v=0;while(v<=u){r--;v+=d[r]}return r}function B(d){var u=0,r=0;
for(var N=0;N<256;N++){r+=d[N];u+=d[N]*N*(1/255)}return u/r}var U=W[0],l=W[1]/100,K=W[2]/100,D=[],m=[];
for(var N=0;N<4;N++){var Y=N==0?3:1;D[N]=X(q[N],Y*l*q[5]);m[N]=k(q[N],Y*K*q[5])}var a=[B(q[1]),B(q[2]),B(q[3])],p=a.slice(0);
p.sort(function(d,u){return d-u});var M=a.indexOf(p[1]),x=(a[0]+a[1]+a[2])/3,R=[];for(var N=0;N<4;N++){var y=0,s=255,F=D[N],E=m[N];
if(U==0&&N==0){y=F;s=E}if(U==1&&N!=0){y=F;s=E}if(U==2&&N!=0){var Y=a[N-1]/x;s=Math.max(0,Math.min(255,m[M]*Y))}var o=[y,s];
R.push(o);if(U==3&&N==0){var G=255*(1-x);o.push(G)}}return R};g.a6V=function(W,q){var X=new Uint32Array(W.buffer),k=X.length;
for(var N=0;N<k;N++){var B=X[N],U=B&255,l=B>>8&255,K=B>>16&255,D=B>>24&255;X[N]=q[U]|q[l]<<8|q[K]<<16|q[D]<<24}};
g.ao2=function(W,q,X,k,B,U,l){var K=W.length,D=g.Oj(W),m=D==8?255:D==16?65535:1,Y=1/m,a=(X.length-1)*.999999,p=g.ayk;
if(!l&&!U){for(var N=0;N<K;N+=4){var M=W[N]*Y,x=W[N+1]*Y,R=W[N+2]*Y,y=p(X,a*M),s=p(k,a*x),F=p(B,a*R);
q[N]=y*m;q[N+1]=s*m;q[N+2]=F*m;q[N+3]=W[N+3]}return}for(var N=0;N<K;N+=4){var M=W[N]*Y,x=W[N+1]*Y,R=W[N+2]*Y;
if(U)M=x=R=M*.3+x*.59+R*.11;var y=p(X,a*M),s=p(k,a*x),F=p(B,a*R);if(l){var E=g.jN(M,x,R),o=g.jN(y,s,F);
if(E>o){var G=(E-o)/(1-o);y+=G*(1-y);s+=G*(1-s);F+=G*(1-F)}else if(o==0)y=s=F=0;else{var G=E/o;y=G*y;
s=G*s;F=G*F}}q[N]=y*m;q[N+1]=s*m;q[N+2]=F*m;q[N+3]=W[N+3]}};g.ayk=function(W,q){var X=W.length;if(q>=X)return W[X-1]+(W[X-1]-W[X-2])*(q-X);
var k=~~q,B=q-k;return W[k]*(1-B)+W[k+(k==X-1?0:1)]*B};g.Iu=function(W,q){var X=g.Cn(W,8),k=q.r,B=q.$,top=0,U=0,l=0,K=0,D=0;
D=0;for(var m=0;m<B;m++){var Y=m*k;for(var N=0;N<k;N++)D|=X[Y+N];if(D!=0)break;top++}if(top==B)return new dU(0,0,0,0);
D=0;for(var m=B-1;m>=0;m--){var Y=m*k;for(var N=0;N<k;N++)D|=X[Y+N];if(D!=0)break;l++}var a=B-l;D=0;
for(var N=0;N<k;N++){for(var m=top;m<a;m++)D|=X[m*k+N];if(D!=0)break;U++}D=0;for(var N=k-1;N>=0;N--){for(var m=top;
m<a;m++)D|=X[m*k+N];if(D!=0)break;K++}var p=new dU(q.x+U,q.y+top,k-U-K,B-top-l);return p};g.BF=function(W,q,X,k,B){var U=g.Cn(W,8),top=0,m=0,Y=0,a=0,p=!1;
if(k==null)k=[!0,!0,!0,!0];if(X==null)X=0;if(B==null)B=4294967295;var l=new Uint32Array(U.buffer),K=q.r,D=q.$,M=[l[0],l[l.length-1],0][X];
p=!1;if(k[0])for(var x=0;x<D;x++){var R=x*K;for(var N=0;N<K;N++)if(l[R+N]&B^M)p=!0;if(p)break;top++}p=!1;
if(k[2])for(var x=D-1;x>=0;x--){var R=x*K;for(var N=0;N<K;N++)if(l[R+N]&B^M)p=!0;if(p)break;Y++}p=!1;
if(k[1])for(var N=0;N<K;N++){for(var x=0;x<D;x++)if(l[x*K+N]&B^M)p=!0;if(p)break;m++}p=!1;if(k[3])for(var N=K-1;
N>=0;N--){for(var x=0;x<D;x++)if(l[x*K+N]&B^M)p=!0;if(p)break;a++}var y=new dU(q.x+m,q.y+top,K-m-a,D-top-Y);
return y.PM()?new dU(0,0,0,0):y};g.xX=function(W){var q=g.Iu(W.c,W.S);if(q.AB(W.S))return;var X=g.j(q.C(),g.Oj(W.c));
g.Z_(W.c,W.S,X,q);W.c=X;W.S=q};g.gu=function(W,q){var X=g.BF(W.buffer,W.S,2,null,q?null:4278190080);
if(X.AB(W.S))return;var k=new g.j(X.C()*4,g.Oj(W.buffer));g.YE(W.buffer,W.S,k,X);W.buffer=k;W.S=X};g.extend=function(W,q,X){if(W.S.Ox(q))return;
var k=W.S.xw(q),B=g.Oj(W.c),U=g.j(k.C(),B);if(X!=null)U.fill(g.bH(B)*X);g.Z_(W.c,W.S,U,k);W.S=k;W.c=U};
g.ajq=function(W,q){if(q.PM()||W.S.Ox(q))return;var X=W.S.xw(q),k=g.j(X.C()*4,g.Oj(W.buffer));g.YE(W.buffer,W.S,k,X);
W.S=X;W.buffer=k};g.Sj=function(W,q,X){if(!X.BS(W))return!1;var k=Math.floor(W.x)-X.x,B=Math.floor(W.y)-X.y,N=B*X.r+k;
return q[N]>128};g.abm=function(W,q,X){if(!X.BS(W))return!1;var k=Math.floor(W.x)-X.x,B=Math.floor(W.y)-X.y,N=B*X.r+k;
return q[4*N+3]>128};g.rV=function(W){this.iM=g.j(W);this.o=g.j(W);this.L=g.j(W);this.X=g.j(W)};g.rV.prototype.P=function(){var W=this.iM.length,q=new g.rV(1);
q.iM=this.iM.slice(0);q.o=this.o.slice(0);q.L=this.L.slice(0);q.X=this.X.slice(0);return q};g.u.aEP=function(W,q,X,k,B){var U=B[0]+1,l=B[1],K=Math.abs(l-25)/4,D=B[2],m=D%2+D*D>>1,Y=g.u.Z;
Y.Fs(q,X);var a=Y.T3(1),p=Y.T3(1),M=Y.T3(1);Y.q1(W,k,D,D,m);Y.vI(k);Y.pd(k,a);Y.fn(a,p,U,U,1);Y.fn(a,M,U,U,U*U);
Y.sub(M,p);Y.Fz(p,K);(l<25?Y.sub:Y.add)(a,p);Y.k5(p,k);Y.SJ(k)};g.u.axG=function(W,q,X,k,B){var U=g.u.Z;
U.Fs(q,X);var l=B[0]*2.55,K=B[1],D=K>>1,m=B[2]*.25,Y=U.T3(4),a=U.T3(1),p=U.T3(1);U.jP(W,Y,K,1,!0,D);
U.jP(W,k,K,1,!1,D);U.EH(W,a);U.rG(a,l);U.ZL(a,p,3);U.lC(k,p,Y);U.BW(Y,k,m)};g.u.a8D=function(W,q,X,k,B){var U=g.u.Z;
U.Fs(q,X);U.g_(B[3]);var l=B[0]*-3+80,K=B[1]*-3+80,D=B[2]/2+.5,m=B[4],Y=B[5],a=U.T3(1),p=U.T3(1),M=U.T3(1),x=U.T3(1),R=U.T3(4),y=U.T3(4);
U.EH(W,a);U.cX(a,p);U.k_(a,K,5);U.am$(a,.4,0);U.ZL(a,M,3);U.g8(M,a,9,3,!0,27);U.cX(p,M);U.i5(M);var s=U.rE(l,5,M);
for(var N=0;N<U.Fk;N++){p[N]=s[255-p[N]]}U.am$(p,.4,0);U.cX(p,M);U.ZL(M,x,2);U.g8(x,M,5,3,!1,15);U.Fz(a,D);
U.Fz(M,D);U.ti(k,2155905279);U.ti(y,m);U.ti(R,Y);U.lC(y,a,k);U.lC(R,M,k)};g.u.a8S=function(W,q,X,k,B){var U=g.u.Z;
U.Fs(q,X);var l=new Uint8Array(256),K=5+10*B[1];K+=B[1]>3?(B[1]-3)*10:0;var D=~~(B[2]*.73)+50,m=Math.min(D+K,128),Y=m-D,a=-255*D;
for(var N=0;N<256;N++){var p=N*65;l[N]=U.yL(a/Y);a+=255}var M=U.T3(1),x=U.T3(1),R=U.T3(1);U.EH(W,M);
U.cX(M,R);U.ZL(M,x,2*B[0]+1);U.sub(x,M);U.Fz(M,65);U.g8(M,x,9,3,!0,20);for(var N=0;N<U.Fk;N++){var y=R[N],s=x[N];
M[N]=s>0?~~((s*y+(255-s)*128)/255):128}U.ZL(M,x,3);U.g8(x,M,15,2,!0,16);U.g8(x,R,15,2,!1,15);U.MH(M,R);
U.ek(R,x,2);U.w4(x,l);U.ZL(x,M,2);U.mV(M,k)};g.u.auO=function(W,q,X,k,B){var U=g.u.Z;U.Fs(q,X);var l=2*B[0]+1,K=U.aeg[B[1]],D=B[2]*5.1,m=B[3],Y=U.T3(1),a=U.T3(1),p=U.T3(4),M=U.T3(4);
U.ti(p,m);U.vI(p,k);U.atf(Y,D);U.k5(Y,k);U.SJ(k,p);U.EH(W,a);U.ZL(a,Y,l);U.sub(Y,a);U.Fz(a,K);U.g8(a,Y,9,3,!0,20);
U.lC(W,Y,p);U.fB(p,k,3);U.jP(k,p,15,2,!0,16);U.jP(k,M,15,2,!1,16);U.MH(p,M);U.BW(M,k,2)};g.u.aJC=function(W,q,X,k,B){var U=g.u.Z;
U.Fs(q,X);var l=(15-B[0])/4+1,K=(15-B[1])/4+1,D=B[2],m=B[3],Y=U.EG(B[4]),a=B[5]+1,p=B[6],M=B[7],x=B[8],R=U.T3(1),y=U.T3(1),s=U.T3(1),F=U.T3(1),E=U.T3(4),o=U.T3(4);
U.Ik(s,D,m,p);U.EH(W,y);U.ZL(y,R,5);U.TA(s,R,F,a,Y);U.Fz(F,l);U.Hg(F,2);U.i5(R);U.TA(s,R,y,a,Y);U.Fz(y,K);
U.Hg(y,2);U.ti(E,2155905279);U.ti(o,M);U.ti(k,x);U.lC(E,y,o);U.lC(o,F,k)};g.u.ae8=function(W,q,X,k,B){var U=g.u.Z;
U.Fs(q,X);U.g_(B[3]);var l=B[0],K=B[1]/10,D=B[2]/10,m=U.T3(1),Y=U.T3(1),a=U.T3(1),p=U.w6(),M=U.w6(),x=U.w6();
U.KF(m);U.ZL(m,Y,11);U.ZL(Y,m,11);U.vM(m,p);U.MW(W,m);U.cX(m,a);U.ZL(m,Y,9);U.ZL(Y,m,9);U.vM(m,M);U.CI(M,x,5);
U.CI(x,M,5);U.a4C(p,.8);U.avm(p,M,.8,.9);U.aFf(M,m,l);U.fn(m,Y,2,2,1);U.fn(Y,m,2,2,3);U.fn(m,Y,2,2,3);
U.fn(a,m,5,5,13);U.sS(Y,m,Y,K);U.Fc(m,Y,Y,D);U.TA(Y,Y,m,5,1);U.vI(W,k);U.k5(m,k);U.SJ(k)};g.u.aBb=function(W,q,X,k,B){var U=g.u.Z;
U.Fs(q,X);var l=B[0],K=B[1]/2,D=B[2],m=l/2,Y=U.T3(4),a=U.T3(4);U.cX(W,k);for(var p=0;p<D;p++){U.jP(k,Y,l,1,!0,m);
U.jP(k,a,l,1,!1,m);U.MH(a,Y);U.fB(Y,a,2);U.BW(a,k,K)}};g.u.apU=function(W,q,X,k,B){var U=g.u.Z;U.Fs(q,X);
var l=B[0]*10,K=B[1]*4.9,D=B[2]*4.9,m=U.T3(1),Y=U.T3(1),a=U.T3(4),p=U.T3(4);U.EH(W,m);U.rG(m,U.agO(m,l));
U.ZL(m,Y,3);U.jP(W,a,5,1,!1,1);U.jP(W,k,15,2,!0,16);U.lC(k,Y,a);U.vI(a,k);U.pd(k,m);U.k_(m,K,D);U.k5(m,k);
U.SJ(k)};g.u.aKJ=function(W,q,X,k,B){var U=g.u.Z;U.Fs(q,X);U.g_(B[4]);var l=B[0]/20,K=[0,.75,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.5,3,3.5,4][B[1]],D=[0,.25,.5,.75,.9,1,1.1,1.2,1.3,1.4,1.5,1.6,1.7,1.8,1.9,2,2.25,2.5,3,3.5,4][B[2]],m=B[3],Y=new Int16Array(256);
for(var N=0;N<256;N++){Y[N]=~~((N-128)*l)}var a=U.T3(1),p=U.T3(1),M=U.T3(4);U.EH(W,a);U.ZL(a,p,25);U.Fz(p,K);
U.Hg(p,D);U.ZL(p,a,25);U.KF(p);U.a1A(a,p,Y);U.cX(W,k);U.ti(M,m);U.lC(M,a,k)};g.u.adX=function(W,q,X,k,B){var U=g.u.Z;
U.Fs(q,X);var l=B[0]+5,K=15-B[1],D=l*l/2,m=1-(3-B[2])/10,Y=~~(K*K*m-1),a=~~(K*K*(1-m));if(a==0)a=1;var p=U.T3(1),M=U.T3(1),x=U.T3(1),R=U.T3(4);
U.EH(W,x);U.fn(x,p,l,l,D);U.ZL(x,M,l);U.sub(p,M);U.rG(M,1);U.q1(W,R,K,K,Y);U.q1(W,k,K,K,a);U.lC(R,M,k)};
g.u.a9Y=function(W,q,X,k,B){var U=g.u.Z;U.Fs(q,X);U.g_(B[3]);var l=(20-B[0])*.05,K=B[1]*-2.75+60,D=65-K,m=B[2]/10,Y=U.T3(1),a=U.T3(1);
U.MW(W,a);var p=U.rE(K,D,a);U.vI(W,k);U.pd(k,a);U.KF(Y);U.Cw(a,Y,l);U.w4(a,p);U.Fz(a,B[2]/10);U.add(Y,a);
U.k5(a,k);U.SJ(k)};g.u.apV=function(W,q,X,k,B){var U=g.u.Z;U.Fs(q,X);var l=5+B[0],K=15-B[1],D=B[2],m=l*l/2+l*l%2*1,Y=1-(3-B[2])/10,a=~~(K*K*Y-1),p=~~(K*K*(1-Y));
if(p==0)p=1;var M=U.T3(1),x=U.T3(1),R=U.T3(1),y=U.T3(1),s=U.T3(1);U.MW(W,x);U.ek(x,M,3);U.fn(M,x,2,2,1);
var F=U.rE(20,20,x);U.w4(x,F);U.ZL(x,s,5);U.fn(s,M,l,l,m);U.fn(s,x,K,K,a);U.fn(s,R,K,K,p);U.ZL(s,y,l);
U.sub(M,y);U.rG(y,1);U.aha(x,y,R);U.vI(W,k);U.k5(R,k);U.SJ(k)};g.u.auY=function(W,q,X,k,B){var U=g.u.Z;
U.Fs(q,X);U.g_(B[5]);var l=U.Fk,K=U.wq,D=B[0],m=B[1],Y=B[2],a=B[3],p=B[4],M=.05*D+1,x=D/100,R=D>>1,y=2*D-100,s=+(m==9),F=+(m==7),E=[4,1][s],o=[3,2][s],G=[1,2][F],d=[2,1][F],u=[50,75][s],r=m<4?Y:(Y>>1)+50,v=U.a7K(u,r),c=U.Ld(a),V=U.Ld(p),j=U.T3(4),Q=U.T3(4),T=U.T3(1),e=U.T3(1);
function z(k,v){if(r!=50){U.asQ(k,v)}}function J(W,i){for(var N=0;N<l;N++){W[N]=U.yL(W[N]+(i[N]-128)*x)}}function P(W,i){for(var N=0,dF=0;
N<l;N++){W[dF]=U.yL(W[dF]+(i[dF]-128)*x);W[dF+1]=U.yL(W[dF+1]+(i[dF+1]-128)*x);W[dF+2]=U.yL(W[dF+2]+(i[dF+2]-128)*x);
dF+=4}}function L(W,k){U.KF(Q);U.cX(W,k);P(k,Q);z(k,v)}function A(i){var dF=0;for(var t=0;t<12;t++)dF+=U.random();
return U.yL(R*(dF-6)+i)}function h(W,k){U.cX(W,k);for(var N=0;N<K;N+=4){k[N]=A(k[N]);k[N+1]=A(k[N+1]);
k[N+2]=A(k[N+2])}z(k,v)}function C(W,k){U.cX(W,k);for(var N=0;N<K;N+=4){if(U.random()<x){k[N]=c[0];k[N+1]=c[1];
k[N+2]=c[2]}}z(k,v)}function w(W,k){U.KF(j);U.q1(j,Q,o,o,E);U.cX(W,j);P(j,Q);U.q1(j,k,5,5,13);z(k,v)}function f(W,k){U.KF(Q);
U.cX(W,j);P(j,Q);z(k,v);U.q1(j,k,o,o,E)}function O(W,k){U.cX(W,j);z(k,v);U.EH(j,T);for(var N=0,i=0;N<l;
N++){var dF=((y-T[N]+255)*128.5+.5)/32767;if(U.random()<=dF){k[i++]=V[0];k[i++]=V[1];k[i++]=V[2]}else{k[i++]=c[0];
k[i++]=c[1];k[i++]=c[2]}k[i]=W[i];i++}}function n(W,k){U.vI(W,k);U.pd(k,T);U.ek(T,e,M);U.fn(e,T,o,o,E);
U.w4(T,v);U.k5(T,k);U.SJ(k)}function $(W){var i=0;if(m==8){for(var dF=0;dF<q;dF++){W[i++]=~~(U.random()*255)}for(var N=1;
N<X;N++){for(var dF=0;dF<q;dF++){W[i++]=W[dF]}}}else{for(var N=0;N<X;N++){var t=~~(U.random()*255);for(var dF=0;
dF<q;dF++){W[i++]=t}}}}function d9(W,k){U.EH(W,T);U.KF(e);J(T,e);$(e);J(T,e);U.fB(W,j,9);U.fB(j,Q,9);
U.ZL(T,e,2);U.w4(e,v);U.ZL(e,T,2);U.vI(Q,k);U.k5(T,k);U.SJ(k)}[L,h,C,w,w,f,O,d9,d9,n][m](W,k)};g.u.abv=function(W,q,X,k,B){var U=[-1e3,34,51,61,71,80,87,95,101,108,113,119,124,129,134,139,143,148,153,157,161,165,168,172,175,180,183,186,190,194,197,200,203,207,210,213,216,218,222,225,228,230,233,236,239,241,244,247,250,252,255],l=g.u.Z,R=0,y,N,G,d,u,r=0,v=1,c=255;
l.Fs(q,X);l.g_(B[3]);var K=l.T3(1),D=l.T3(1);l.EH(W,K);var m=B[0],Y=B[1],a=Y<=50?U[Y]/255:1+(255-U[101-Y])/255,p=B[2],M=K.length,x=new Float32Array(M),s=1+1/10*m,F=(1-1/s)/2,E=16/256,o=q-1;
for(N=0;N<l.Fk;N++){x[N]=K[N]/255;D[N]=m==1?l.random()<1/255?c:v:v}function V(j,Q){var H=j*q+Q;if(D[H]!=v||j>=X||Q>=q){return}var d=x[H],T=a-d,e=l.random(),z=e/s+F;
if(R==0||Math.abs(u-d)>E){y=z<=T?r:c;R=~~(l.random()*m)}else if(.1<e){R--}else{R=0}D[H]=y;u=d}if(p==0){for(N=0;
N<q;N++){for(G=0;G<q;G++){d=N+G;if(d>=q)break;V(G,o-d)}R=0}for(N=1;N<X;N++){for(G=0;G<X;G++){d=N+G;if(d>=X||G>=q)break;
V(d,o-G)}R=0}}else if(p==1){for(N=0;N<X;N++){for(G=0;G<q;G++){V(N,G)}R=0}}else if(p==2){for(N=0;N<q;
N++){for(G=0;G<q;G++){d=N+G;if(d>=q)break;V(G,d)}R=0}for(N=1;N<X;N++){for(G=0;G<X;G++){d=N+G;if(d>=X||G>=q)break;
V(d,G)}R=0}}else{for(N=0;N<q;N++){for(G=0;G<X;G++){V(G,N)}R=0}}l.mV(D,k)};g.u.adf=function(W,q,X,k,B){var U=g.u.Z;
U.Fs(q,X);var l=B[0],K=B[1],D=B[2],m=U.T3(1),Y=U.T3(1),a=U.T3(1),p=U.T3(1),M=U.T3(4),x=U.T3(4);U.pd(W,p,3,4);
U.EH(W,m);U.fn(m,Y,3,3,1);U.fn(m,a,3,3,9);U.sub(a,Y);U.ZL(Y,m,3);U.k_(m,40,10,p);U.jP(W,k,l,2,!1,l);
U.jP(W,M,l,2,!0,l);U.ti(x,255);U.lC(k,m,x);U.lC(x,m,M);U.BW(M,k,1);U.vI(k);U.pd(k,m);U.k_(m,K,D,p);U.k5(m,k);
U.SJ(k)};g.u.ahv=function(W,q,X,k,B){var U=g.u.Z;U.Fs(q,X);U.g_(B[3]);var l=B[0],K=B[1],D=B[2]/10;l=l+K;
var m=U.T3(1),Y=U.T3(1),a=U.w6(),p=U.w6();U.KF(m);U.ZL(m,Y,11);U.ZL(Y,m,11);U.vM(m,a);U.CI(a,p,5);U.CI(p,a,5);
U.a4C(p,.97);U.aFf(p,m,l);U.fn(m,Y,K,K,1);U.MW(W,m);U.sS(Y,m,Y,.6);U.Fc(m,Y,Y,D);U.TA(Y,Y,m,5,1);U.vI(W,k);
U.k5(m,k);U.SJ(k)};g.u.aBy=function(W,q,X,k,B){var U=g.u.Z;U.Fs(q,X);var l=Math.abs(B[0]),K=l+[1,0,1,2,1,2,1,2,3,2,3,2,3,2,3,2,3,4,3,4,5,4,5,4,5][l],D=2*l+1,m=B[1]/10,Y=m*13/15,a=U.T3(1),p=U.T3(1),M=U.T3(1),x=U.T3(1),R=U.T3(4),y=U.T3(4),s=U.T3(4),F=U.T3(4),E=U.T3(4);
U.EH(W,a);if(B[0]>=0){U.i5(a)}U.cX(a,M);U.ZL(a,x,K);U.ZL(x,a,K);U.Fz(a,m);U.cX(a,p);U.ZL(a,x,D);U.ZL(x,a,D);
U.Fz(a,Y);U.ti(s,B[2]);U.ti(F,B[3]);U.ti(E,B[4]);U.lC(s,a,F,R);U.lC(E,p,R,y);U.lC(F,M,y,k);U.pd(W,M,3);
U.k5(M,k,3)};g.u.aCT=function(W,q,X,k,B){var U=g.u.Z;U.Fs(q,X);U.g_(B[5]);var l=B[0]*5.1,K=B[1]/100,D=U.a8F[B[2]],m=U.T3(1),Y=U.T3(1),a=U.T3(1);
U.EH(W,m);U.atf(Y,255);U.KF(a);U.rG(m,l);U.Cw(Y,m,.7);U.Cw(a,m,K);U.TA(m,m,Y,5,D);U.cX(W,k);U.aB_(k,l,B[4],B[3]);
U.vI(k);U.k5(Y,k);U.SJ(k)};g.u.aob=function(W,q,X,k,B){var U=g.u.Z;U.Fs(q,X);var l=B[0],K=4-B[1],D=11-B[2],m=U.T3(1),Y=U.T3(1),a=U.T3(4);
U.MW(W,Y);for(var N=0;N<K;N++){U.cX(Y,m);U.a3$(m,Y,l,l)}U.fB(W,a,l);U.vI(a,a);U.k5(Y,a);U.SJ(a,a);(D<11?U.a7j:U.cX)(a,k,D)};
g.u.aJJ=function(W,q,X,k,B){var U=g.u.Z;U.Fs(q,X);U.g_(B[2]);var l=B[0]+5,K=~~(l/5+1),D=~~(l/2)+1,m=D*D,Y=~~(l/3),a=U.a8F[B[1]],p=new Array(256);
for(var N=0;N<256;N++){p[N]=~~(.2*(N-128))}var M=U.T3(1),x=U.T3(1);U.aik(W,k,l);U.vI(k);U.pd(k,M);U.KF(x);
U.a1A(M,x,p);U.arC(x,l,l,K,K);U.sS(M,x,M,1);U.ZL(M,x,Y);U.ZL(x,M,Y);U.fn(M,x,D,D,m);U.TA(x,x,M,5,a);
U.k5(M,k);U.SJ(k)};g.u.af3=function(W,q,X,k,B){var U=g.u.Z;U.Fs(q,X);var l=U.T3(1),K=U.T3(1),D=U.T3(1),m=U.w6(),Y=U.w6();
U.EH(W,l);U.ZL(l,K,B[2]);U.rG(K,B[0]*5.1);U.fn(K,l,2,2,4);U.ZL(l,K,3);U.ZL(K,l,3);U.cX(l,D);U.ZL(l,K,5);
U.ZL(K,l,5);U.vM(l,m);U.CI(m,Y,5);U.CI(Y,m,5);U.avu(m,K,B[1]);U.i5(K);U.sS(D,K,D,1);U.mV(D,k)};g.u.agZ=function(W,q,X,k,B){var U=g.u.Z;
U.Fs(q,X);var l=1<<7-B[2],K=U.T3(1),D=U.T3(1),m=U.T3(1);U.MW(W,D);U.ZL(D,K,3);U.cX(K,D);U.ZL(K,m,B[0]+5);
U.sub(m,D);U.k_(D,1,B[1]);U.Fz(K,1/l);U.Fz(K,l);U.sub(K,D);U.vI(W,k);U.k5(D,k);U.SJ(k)};g.u.auq=function(W,q,X,k,B){var U=g.u.Z;
U.Fs(q,X);U.g_(B[3]);var l=U.T3(1),K=U.T3(1),D=U.T3(1);U.EH(W,l);U.a04(K,B[0]/50);U.ZL(K,D,3);U.fn(l,K,9,9,41);
U.k_(K,B[1],B[2]);U.sS(K,D,D,.75);U.Fc(K,D,K,.5);U.cX(K,l);U.fn(l,D,3,3,8);U.sS(D,K,D,.75);U.Fz(D,1.2);
U.ek(D,l,1);U.ZL(l,D,2);U.ek(D,l,2);U.Fz(l,1.2);U.ZL(l,D,2);U.mV(D,k)};g.u.amn=function(W,q,X,k,B){var U=g.u.Z;
U.Fs(q,X);var l=B[0]+9,K=B[1]/2,D=B[2],m=B[3],Y=U.EG(B[4]),a=B[5]+1,p=B[6],M=U.T3(1),x=U.T3(1),R=U.T3(4),y=U.T3(4);
U.Ik(x,D,m,p);U.aGm(W,k,l,1,1);U.aGm(k,R,l,1,1);U.aHs(R,R,y,7,K);U.Fz(y,1.2);U.Hg(y,1.2);U.TA(x,M,M,a,Y);
U.Fz(M,3);U.cX(W,k);U.lC(y,M,k)};g.u.ahq=function(W,q,X,k,B){var U=g.u.Z;U.Fs(q,X);U.g_(B[3]);var l=B[0]+4,K=l*2/5+(l%5|0);
l--;var D=B[1]*-2.75+60,m=65-D,Y=B[2]/10,a=U.T3(1),p=U.T3(1);U.KF(a);U.MW(W,p);var M=U.rE(D,m,p);U.vI(W,k);
U.pd(k,p);U.Cw(p,a,.8);U.w4(p,M);U.Fz(p,Y);U.add(a,p);U.g8(p,a,l,3,!1,K);U.k5(a,k);U.SJ(k)};g.u.aj2=function(W,q,X,k,B){var U=g.u.Z;
U.Fs(q,X);U.g_(B[3]);var l=B[0]+5,K=(l*l>>1)+l%2,D=B[1]/10,m=B[2],Y=(m*m>>1)+m%2,a=U.T3(1),p=U.T3(1),M=U.T3(1),x=U.T3(4),R=U.T3(4),y=U.T3(4);
U.KF(M);U.vI(W,y);U.pd(y,a);U.Cw(a,M,.8);U.ZL(M,a,3);U.ek(a,M,D);U.k5(M,y);U.SJ(y,y);U.EH(y,M);U.fn(M,a,l,l,K);
U.ZL(M,p,l);U.sub(a,p);U.rG(p,1);U.q1(y,x,7,7,40);U.q1(y,R,7,7,10);U.lC(x,p,R);U.q1(R,k,m,m,Y)};g.u.afN=function(W,q,X,k,B){var U=g.u.Z,K=255,N,m;
U.Fs(q,X);var l=B[0];if(l<2)K=l;else if(l<12)K=5*l-5;else if(l<47)K=2*l+28;else if(l<50){N=l-47;K=125+12.5*N+12.5*N*N}var D=new Uint8Array(256);
for(N=75,m=15;N<256;N++,m+=24)D[N]=Math.min(255,m);var Y=U.T3(1),a=U.T3(1),p=U.T3(1);U.EH(W,Y);U.ZL(Y,a,11);
U.ZL(a,p,11);U.sub(p,Y);U.Fz(Y,8);U.sub(p,Y);U.rG(Y,K);U.i5(Y);U.ZL(Y,a,5);U.rG(a,51);U.ZL(a,Y,B[1]);
U.ZL(Y,a,B[1]);U.i5(a);U.w4(a,D);U.mV(a,k)};g.u.a7U=function(W,q,X,k,B){var U=g.u.Z;U.Fs(q,X);var l=U.aeg[B[1]],K=B[2],D=K*1.5,m=U.T3(1),Y=U.T3(1),a=U.T3(1);
U.MW(W,m);U.g8(m,Y,15,2,!0,15);U.cX(Y,a);U.k_(a,K,D);U.ZL(a,m,3);U.ZL(Y,a,B[0]);U.sub(a,Y);U.Fz(Y,l);
U.sub(m,Y);U.ZL(Y,m,3);U.g8(m,Y,3,1,!1,1);U.fB(W,k,15);U.vI(k);U.k5(Y,k);U.SJ(k)};g.u.awm=function(W,q,X,k,B){var U=g.u.Z;
U.Fs(q,X);U.g_(B[3]);var l=B[0]*5.1,K=16-B[1],D=[1,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.25,2.5,2.75,3,3.5,4,5,6,8,10][B[2]],m=U.T3(1),Y=U.T3(1),a=U.T3(1);
U.EH(W,m);U.rG(m,l);U.ZL(m,Y,K);U.ZL(Y,m,K);U.KF(a);U.Fc(m,a,a,1);U.sS(m,a,m,.75);U.Fz(m,D);U.Hg(m,D);
U.fn(m,Y,2,2,2);U.mV(Y,k)};g.u.aeY=function(W,q,X,k,B){var U=g.u.Z;U.Fs(q,X);var l=B[0]+9,K=B[1]+9,D=B[2],m=B[3],Y=U.EG(B[4]),a=B[5]+1,p=B[6],M=U.T3(1),x=U.T3(1),R=U.T3(1),y=U.T3(1),s=U.T3(1),F=U.T3(4);
U.MW(W,M);U.a3$(M,R,l,l);U.ZL(R,M,K);U.cX(R,s);U.cX(M,y);U.sub(s,y);U.sub(M,s);U.add(s,y);U.Fz(y,10);
U.Ik(x,D,m,p);U.TA(x,M,s,a,Y);U.aha(s,y,R,.8);U.fB(W,F,9);U.fB(F,k,9);U.vI(k);U.k5(R,k);U.SJ(k)};g.u.auD=function(W,q,X,k,B){var U=g.u.Z;
U.Fs(q,X);var l=16-B[0],K=B[1]*8,D=1-(3-B[2])/10,m=~~(l*l*D-1),Y=~~(l*l*(1-D));if(Y==0)Y=1;var a=U.T3(1),p=U.T3(1),M=U.T3(1),x=U.T3(4);
U.EH(W,M);U.fn(M,a,7,7,25);U.ZL(M,p,7);U.sub(a,p);U.rG(p,1);U.q1(W,x,l,l,m);U.q1(W,k,l,l,Y);U.lC(x,p,k);
U.vI(k);U.pd(k,a);U.fn(a,M,3,3,1);U.fn(a,p,3,3,9);U.sub(p,M);U.cX(M,p);U.sub(a,M);U.sub(M,p);U.fn(p,a,3,3,8);
U.k_(a,K,1);U.k5(a,k);U.SJ(k)};g.u.a3Q=function(W,q,X,k,B){var U=g.u.Z;U.Fs(q,X);U.g_(B[3]);var l=B[0],K=B[1],D=B[2],m=l>>1,Y=Math.max(~~(l/5),1),a=Math.max(~~(l*2/3),1),p=U.a7K(K,D),M=U.T3(1),x=U.T3(1),R=U.T3(1),y=U.T3(1),s=U.T3(4);
U.MW(W,M);U.avr(2147483647,4,2,2,0,255,x);U.avr(4,2147483647,2,2,0,255,y);U.KF(R);U.Fc(x,R,x,1);U.Fc(y,R,y,1);
U.Fc(x,M,x,1);U.Fc(y,M,y,1);U.fB(W,s,m);U.fB(s,k,m);U.fn(x,M,1,l,Y);U.fn(M,x,3,l,a);U.fn(y,M,l,1,Y);
U.fn(M,y,l,3,a);U.MH(x,y);U.vI(k);U.k5(y,k);U.SJ(k);U.asQ(k,p)};g.u.el=function(W,q,X){var k=X.akv,B=X.Fk,U=X.T3(1),top=X.T3(1),l=X.T3(1),K=X.T3(1),D=X.T3(1),m=X.T3(1),Y=X.T3(1),a=X.T3(1),p=X.T3(1),M=X.Ah,x=X.QB,R=g.PG.HK,y=g.PG.XH;
R(W,U,M,x,y([8,5,2,5,2,-1,2,-1,-4]));R(W,top,M,x,y([5,5,5,2,2,2,-1,-1,-1]));R(W,l,M,x,y([2,5,8,-1,2,5,-4,-1,2]));
R(W,K,M,x,y([5,2,-1,5,2,-1,5,2,-1]));R(W,D,M,x,y([2,2,2,2,2,2,2,2,2]));R(W,m,M,x,y([-1,2,5,-1,2,5,-1,2,5]));
R(W,Y,M,x,y([2,-1,-4,5,2,-1,8,5,2]));R(W,a,M,x,y([-1,-1,-1,2,2,2,5,5,5]));R(W,p,M,x,y([-4,-1,2,-1,2,5,2,5,8]));
var s=[U,top,l,K,D,m,Y,a,p];for(var F=0;F<x;F++){for(var E=0;E<M;E++){var o=F*M+E,G=W[o],d=null,u=0;
for(var r=-1;r<2;r++){for(var v=-1;v<2;v++){var c=s[(r+1)*3+v+1],V=Math.max(0,Math.min(F+r,x-1)),j=Math.max(0,Math.min(E+v,M-1)),Q=c[V*M+j],H=Math.abs(Q-G);
if(d==null||H<d){d=H;u=Q}}}q[o]=u}}};g.u.aI7=function(W,q,X,k,B){var self=g.u.Z;self.Fs(q,X);var U=self.T3(1),l=self.T3(1);
for(var N=0;N<4;N++){self.pd(W,U,N);if(N<3){g.u.el(U,l,self);g.u.el(l,U,self);g.u.el(U,l,self);g.u.el(l,U,self);
g.u.el(U,l,self);g.u.el(l,U,self);g.u.el(U,l,self);g.u.el(l,U,self);g.u.el(U,l,self)}else l=U;self.k5(l,k,N)}};
g.u.Z={};g.u.Z.Ah=0;g.u.Z.QB=0;g.u.Z.Fk=0;g.u.Z.Sn=0;g.u.Z.wq=0;g.u.Z.Fs=function(W,q){var X=W*q,self=g.u.Z;
self.Ah=W;self.QB=q;self.Fk=X;self.Sn=X<<1;self.wq=X<<2};g.u.Z.g_=function(W){g.u.Z.random=function(){var q=W+=1831565813;
q=Math.imul(q^q>>>15,q|1);q^=q+Math.imul(q^q>>>7,q|61);return((q^q>>>14)>>>0)/4294967296}};g.u.Z.T3=function(W){var q=g.u.Z;
return new Uint8Array([-1,q.Fk,q.Sn,-1,q.wq][W])};g.u.Z.w6=function(){return new Int32Array(g.u.Z.Sn)};
g.u.Z.ZL=function(W,q,X,k){if(k==null)k=X;var self=g.u.Z,B=self.Ah,U=self.QB,l=k,K=k>>1,D=X,m=X>>1,Y=X*k,a=0;
for(var N=0;N<U;N++){var p=0;for(var M=0;M<l;M++){for(var x=0;x<D;x++){var R=0-m+x,y=N-K+M;if(R<0)R=0;
else if(R>=B)R=B-1;if(y<0)y=0;else if(y>=U)y=U-1;p+=W[y*B+R]}}q[a++]=~~(p/Y);for(var s=1;s<B;s++){for(var M=0;
M<l;M++){var F=s-m-1,E=F+D,y=N-K+M;if(F<0)F=0;if(E>=B)E=B-1;if(y<0)y=0;else if(y>=U)y=U-1;p+=W[y*B+E]-W[y*B+F]}q[a++]=~~(p/Y)}}};
g.u.Z.CI=function(W,q,X,k){var self=g.u.Z,B=new Int32Array(self.Fk),U=new Int32Array(self.Fk);for(var N=0;
N<2;N++){self.pd(W,B,N,2);self.ZL(B,U,X,k);self.k5(U,q,N,2)}};g.u.Z.fB=function(W,q,X,k){var self=g.u.Z,B=self.T3(1),U=self.T3(1);
for(var N=0;N<4;N++){self.pd(W,B,N);if(N<3)self.ZL(B,U,X,k);else U=B;self.k5(U,q,N)}};g.u.Z.aGm=function(W,q,X,k,B){var self=g.u.Z,U=self.Ah,l=self.QB,K=X+k-1,D=X>>1,m=K>>1,Y=0,a=X*k,p=new Int32Array(X);
for(var N=0;N<l;N++){var M=0,x=0,R=0;for(var y=0;y<X;y++){var s=B?K-y-k:y;for(var F=s,E=k+s;F<E;F++){var o=0-m+F,G=N-D+y;
if(F==s){p[y]=o}if(o<0)o=0;else if(o>=U)o=U-1;if(G<0)G=0;else if(G>=l)G=l-1;var d=U*G+o<<2;M+=W[d];x+=W[d+1];
R+=W[d+2]}}q[Y++]=~~(M/a);q[Y++]=~~(x/a);q[Y++]=~~(R/a);q[Y]=W[Y];Y++;for(var u=1;u<U;u++){for(var y=0;
y<X;y++){var G=N-D+y,s=p[y]+1;p[y]=s;var r=s-1,v=s+k-1;if(G<0)G=0;else if(G>=l)G=l-1;if(r<0)r=0;else if(r>=U)r=U-1;
if(v<0)v=0;else if(v>=U)v=U-1;var c=G*U+r<<2,V=G*U+v<<2;M=M+W[V]-W[c];x=x+W[V+1]-W[c+1];R=R+W[V+2]-W[c+2]}q[Y++]=~~(M/a);
q[Y++]=~~(x/a);q[Y++]=~~(R/a);q[Y]=W[Y];Y++}}};g.u.Z.g8=function(W,q,X,k,B,U){var self=g.u.Z,l=self.Ah,K=self.QB,D=X+k-1,m=X>>1,Y=D>>1,a=0,p=new Int32Array(X),M=new Int32Array(256),x=new Int32Array(16);
for(var N=0;N<K;N++){for(var R=0;R<256;R++){M[R]=0}for(var R=0;R<16;R++){x[R]=0}for(var y=0;y<X;y++){var s=B?D-y-k:y;
for(var F=s,E=k+s;F<E;F++){var o=0-Y+F,G=N-m+y;if(F==s){p[y]=o}if(o<0)o=0;else if(o>=l)o=l-1;if(G<0)G=0;
else if(G>=K)G=K-1;M[W[G*l+o]]++;x[W[G*l+o]>>>4]++}}var d=0,u=0;while(d+x[u>>>4]<U){d+=x[u>>>4];u+=16}for(;
u<256;u++){d+=M[u];if(d>=U)break}q[a++]=u;for(var R=1;R<l;R++){for(var y=0;y<X;y++){var G=N-m+y,s=p[y]+1;
p[y]=s;var r=s-1,v=s+k-1;if(G<0)G=0;else if(G>=K)G=K-1;if(r<0)r=0;else if(r>=l)r=l-1;if(v<0)v=0;else if(v>=l)v=l-1;
M[W[G*l+r]]--;M[W[G*l+v]]++;x[W[G*l+r]>>>4]--;x[W[G*l+v]>>>4]++}d=0;u=0;while(d+x[u>>>4]<U){d+=x[u>>>4];
u+=16}for(;u<256;u++){d+=M[u];if(d>=U)break}q[a++]=u}}};g.u.Z.jP=function(W,q,X,k,B,U){var self=g.u.Z,l=self.T3(1),K=self.T3(1);
for(var N=0;N<4;N++){self.pd(W,l,N);if(N<3)self.g8(l,K,X,k,B,U);else K=l;self.k5(K,q,N)}};g.u.Z.fn=function(W,q,X,k,B){B=Math.min(k*X,B);
var self=g.u.Z,U=self.Ah,l=self.QB,K=k>>1,D=X>>1,m=0,Y=new Int32Array(k),a=new Int32Array(256),p=new Int32Array(16);
for(var N=0;N<l;N++){for(var M=0;M<256;M++){a[M]=0}for(var M=0;M<16;M++){p[M]=0}for(var x=0;x<k;x++){for(var R=0,y=X;
R<y;R++){var s=0-D+R,F=N-K+x;if(R==0){Y[x]=s}if(s<0)s=0;else if(s>=U)s=U-1;if(F<0)F=0;else if(F>=l)F=l-1;
a[W[F*U+s]]++;p[W[F*U+s]>>>4]++}}var E=0,o=0;while(E+p[o>>>4]<B){E+=p[o>>>4];o+=16}for(;o<256;o++){E+=a[o];
if(E>=B)break}q[m++]=o;for(var M=1;M<U;M++){for(var x=0;x<k;x++){var F=N-K+x,G=Y[x]+1;Y[x]=G;var d=G-1,u=G+X-1;
if(F<0)F=0;else if(F>=l)F=l-1;if(d<0)d=0;else if(d>=U)d=U-1;if(u<0)u=0;else if(u>=U)u=U-1;a[W[F*U+d]]--;
a[W[F*U+u]]++;p[W[F*U+d]>>>4]--;p[W[F*U+u]>>>4]++}E=0;for(o=0;o<256;o++){E+=a[o];if(E>=B)break}q[m++]=o}}};
g.u.Z.q1=function(W,q,X,k,B){var self=g.u.Z,U=self.T3(1),l=self.T3(1);for(var N=0;N<4;N++){self.pd(W,U,N);
if(N<3)self.fn(U,l,X,k,B);else l=U;self.k5(l,q,N)}};g.u.Z.ek=function(W,q,X){var self=g.u.Z,k=self.Ah,B=self.QB,U=0;
for(var N=0;N<B;N++){var l=N*k,K=(N-1)*k,D=(N+1)*k;if(K<0)K=l;if(D>=B)D=l;for(var m=0;m<k;m++){var Y=m-1,a=m+1;
if(Y<0)Y=m;if(a>=k)a=m;var p=l+Y,M=l+a,x=K+m,R=D+m,y=l+m,s=W[p],F=W[M],E=W[x],o=W[R],G=W[y],d=G+(G*4*X+.5);
d=d-((s+F+o+E)*X+.5);q[U++]=self.yL(d)}}};g.u.Z.BW=function(W,q,X){var self=g.u.Z,k=self.T3(1),B=self.T3(1);
for(var N=0;N<4;N++){self.pd(W,k,N);if(N<3)self.ek(k,B,X);else B=k;self.k5(B,q,N)}};g.u.Z.a7j=function(W,q,X){var self=g.u.Z,k=self.Ah,B=self.QB,U=0,l=X+4;
for(var N=0;N<B;N++){var K=N*k,D=(N-1)*k,m=(N+1)*k;if(D<0)D=K;if(m>=B)m=K;for(var Y=0;Y<k;Y++){var a=Y-1,p=Y+1;
if(a<0)a=Y;if(p>=k)p=Y;var M=K+a<<2,x=K+p<<2,R=D+Y<<2,y=m+Y<<2,s=K+Y<<2;for(var F=0;F<3;F++){var E=W[M+F],o=W[x+F],G=W[R+F],d=W[y+F],u=W[s+F];
q[U++]=(u*X+E+o+d+G)/l}q[U]=W[U];U++}}};g.u.Z.a3$=function(W,q,X,k){var self=g.u.Z,B=self.Ah,U=self.QB,l=X>>1,K=k>>1,D=0,m=new Int32Array(X),Y=new Int32Array(256);
for(var N=0;N<U;N++){for(var a=0;a<256;a++){Y[a]=0}for(var p=0;p<X;p++){for(var M=0,x=k;M<x;M++){var R=0-K+M,y=N-l+p;
if(M==0){m[p]=R}if(R<0)R=0;else if(R>=B)R=B-1;if(y<0)y=0;else if(y>=U)y=U-1;Y[W[y*B+R]]++}}var s=0,F=0;
for(var E=0;E<256;E++){if(s<Y[E]){F=E;s=Y[E]}}q[D++]=F;for(var a=1;a<B;a++){for(var p=0;p<X;p++){var y=N-l+p,o=m[p]+1;
m[p]=o;var G=o-1,d=o+k-1;if(y<0)y=0;else if(y>=U)y=U-1;if(G<0)G=0;else if(G>=B)G=B-1;if(d<0)d=0;else if(d>=B)d=B-1;
Y[W[y*B+G]]--;Y[W[y*B+d]]++}s=0;F=0;for(var E=0;E<256;E++){if(s<Y[E]){F=E;s=Y[E]}}q[D++]=F}}};g.u.Z.aip=[function(W,q,X,k,B,U,l,K,D,m){return B+(W+q+X)*m-(D+K+l)*m},function(W,q,X,k,B,U,l,K,D,m){return B+(q+X+U)*m-(K+l+k)*m},function(W,q,X,k,B,U,l,K,D,m){return B+(X+U+D)*m-(l+k+W)*m},function(W,q,X,k,B,U,l,K,D,m){return B+(U+D+K)*m-(k+W+q)*m},function(W,q,X,k,B,U,l,K,D,m){return B+(D+K+l)*m-(W+q+X)*m},function(W,q,X,k,B,U,l,K,D,m){return B+(K+l+k)*m-(q+X+U)*m},function(W,q,X,k,B,U,l,K,D,m){return B+(l+k+W)*m-(X+U+D)*m},function(W,q,X,k,B,U,l,K,D,m){return B+(k+W+q)*m-(U+D+K)*m}];
g.u.Z.TA=function(W,q,X,k,B){var self=g.u.Z,U=self.Ah,l=self.QB,K=U,D=self.aip[k-1];for(var N=0;N<l;
N++){var m=(N>0?N-1:0)*K,Y=N*K,a=(N<l?N+1:N)*K;for(var p=0;p<U;p++){var M=p>0?p-1:0,x=p<U?p+1:p,R=Y+p,y=W[m+M],s=W[m+p],F=W[m+x],E=W[Y+M],o=q[R],G=W[Y+x],d=W[a+M],u=W[a+p],r=W[a+x];
X[R]=self.yL(D(y,s,F,E,o,G,d,u,r,B))}}};g.u.Z.aHs=function(W,q,X,k,B){var self=g.u.Z,U=self.T3(1),l=self.T3(1),K=self.T3(1);
for(var N=0;N<3;N++){self.pd(W,U,N);self.pd(q,l,N);self.TA(U,l,K,k,B);self.k5(K,X,N)}self.pd(q,U,3);
self.k5(U,X,3)};g.u.Z.EH=function(W,q){var X=W.length,k=0;for(var N=0;N<X;N++){q[k++]=~~((W[N++]+W[N++]+W[N++]+2)/3)}};
g.u.Z.mV=function(W,q){var X=q.length,k=0;for(var N=0;N<X;N++){var B=W[N];q[k++]=B;q[k++]=B;q[k++]=B;
q[k++]=255}if(q[0]==255)q[0]--;else q[0]++};g.u.Z.MW=function(W,q){var X=q.length,k=0;for(var N=0;N<X;
N++){var B=W[k++],U=W[k++],l=W[k++];k++;if(U>B)B=U;if(l>B)B=l;q[N]=B}};g.u.Z.vI=function(W,q){if(q==null)q=W;
var X=W.length;for(var k=0;k<X;k+=4){var B=W[k],U=W[k+1],l=W[k+2],K=B,D=0,m=B,a;if(U<=B){B=U}else{D=1;
m=U}if(l<=m){if(B>l){B=l}}else{D=2;m=l}var Y=m-B;if(Y!=0){if(D==0){a=~~(43*(U-l)/Y)}else if(D==1){a=~~(43*(l+2*Y-K)/Y)}else{a=43*(K+4*Y-U)/Y}if(a<0){a=255&a-1}q[k]=a;
q[k+1]=~~(255*Y/m)}else{q[k]=Y;q[k+1]=Y}q[k+2]=m;q[k+3]=W[k+3]}};g.u.Z.SJ=function(W,q){if(q==null)q=W;
var X=W.length;for(var k=0;k<X;k+=4){var B=W[k],U=W[k+1],l=W[k+2];if(U){if(B==255)B=0;var K=~~(6*B/255),D=~~(-255*K+6*B);
if(K==0){q[k]=l;q[k+1]=~~(l*(255-U*(255-D)/255)/255);q[k+2]=~~(l*(255-U)/255)}else if(K==1){q[k]=~~(l*(255-U*D/255)/255);
q[k+1]=l;q[k+2]=~~(l*(255-U)/255)}else if(K==2){q[k]=~~(l*(255-U)/255);q[k+1]=l;q[k+2]=~~(l*(255-U*(255-D)/255)/255)}else if(K==3){q[k]=~~(l*(255-U)/255);
q[k+1]=~~(l*(255-U*D/255)/255);q[k+2]=l}else if(K==4){q[k]=~~(l*(255-U*(255-D)/255)/255);q[k+1]=~~(l*(255-U)/255);
q[k+2]=l}else{q[k]=l;q[k+1]=~~(l*(255-U)/255);q[k+2]=~~(l*(255-U*D/255)/255)}}else{q[k]=l;q[k+1]=l;q[k+2]=l}q[k+3]=W[k+3]}};
g.u.Z.k5=function(W,q,X,k){if(X==null)X=2;if(k==null)k=4;var B=W.length;for(var N=0;N<B;N++){q[X]=W[N];
X+=k}};g.u.Z.pd=function(W,q,X,k){if(X==null)X=2;if(k==null)k=4;var B=q.length;for(var N=0;N<B;N++){q[N]=W[X];
X+=k}};g.u.Z.aha=function(W,q,X,k){if(k==null)k=1;var B=q.length,U=0,l;for(var U=0;U<B;U++){l=q[U];if(l){l*=k;
X[U]=~~((l*W[U]+(255-l)*X[U])/255)}}};g.u.Z.lC=function(W,q,X,k){if(k==null)k=X;var B=q.length,U=0,l,K;
for(var N=0;N<B;N++){l=q[N];if(l){K=255-l;k[U]=~~((l*W[U]+K*X[U])/255);k[U+1]=~~((l*W[U+1]+K*X[U+1])/255);
k[U+2]=~~((l*W[U+2]+K*X[U+2])/255)}k[U+3]=W[U+3];U+=4}};g.u.Z.sS=function(W,q,X,k){var B=~~(k*255),U=X.length;
for(var N=0;N<U;N++){X[N]=((255-B*(255-W[N])/255)*q[N]+W[N]*(B*(255-W[N])/255))/255}};g.u.Z.Fc=function(W,q,X,k){var B=~~(k*255),U=X.length;
for(var N=0;N<U;N++){X[N]=((255-B*W[N]/255)*q[N]+W[N]*(B*W[N]/255))/255}};g.u.Z.Cw=function(W,q,X){var k=q.length;
for(var N=0;N<k;N++){q[N]=~~(W[N]*X+.5)+(q[N]-~~(q[N]*X+.5))}};g.u.Z.sub=function(W,q){var X=W.length;
for(var N=0;N<X;N++){q[N]=Math.max(W[N]-q[N],0)}};g.u.Z.add=function(W,q){var X=W.length;for(var N=0;
N<X;N++){q[N]=Math.min(W[N]+q[N],255)}};g.u.Z.akv=function(W,q){var X=W.length;for(var N=0;N<X;N++){q[N]=W[N]+q[N]}};
g.u.Z.MH=function(W,q){var X=W.length;for(var N=0;N<X;N++){q[N]=W[N]+q[N]>>1}};g.u.Z.cX=function(W,q){var X=W.length;
for(var N=0;N<X;N++){q[N]=W[N]}};g.u.Z.w4=function(W,q){var X=W.length;for(var N=0;N<X;N++){W[N]=q[W[N]]}};
g.u.Z.asQ=function(W,q){var X=g.u.Z.wq;for(var N=0;N<X;N+=4){var k=W[N],B=W[N+1],U=W[N+2],l=k;if(B>k)l=B;
if(U>k)l=U;var K=q[l];if(K){W[N]=~~(K*k/l);W[N+1]=~~(K*B/l);W[N+2]=~~(K*U/l)}else{W[N]=K;W[N+1]=K;W[N+2]=K}}};
g.u.Z.Fz=function(W,q){for(var N=0,X=W.length;N<X;N++){W[N]=Math.min(255,~~(.5+W[N]*q))}};g.u.Z.Hg=function(W,q){for(var N=0,X=W.length;
N<X;N++){W[N]=255-Math.min(255,~~(.5+(255-W[N])*q))}};g.u.Z.i5=function(W){var q=W.length;for(var N=0;
N<q;N++){W[N]=255-W[N]}};g.u.Z.rG=function(W,q,X,k){if(X==null)X=0;if(k==null)k=255;for(var N=0,B=W.length;
N<B;N++){W[N]=W[N]>=q?k:X}};g.u.Z.Ld=function(W){return[W>>24&255,W>>16&255,W>>8&255,W&255]};g.u.Z.aB_=function(W,q,X,k){if(X==null)X=255;
if(k==null)k=4278190335;var B=g.u.Z,U=B.wq,l=B.Ld(X),K=B.Ld(k);for(var N=0;N<U;N+=4){var D=~~((W[N]+W[N+1]+W[N+2]+2)/3);
if(D>=q){W[N]=l[0];W[N+1]=l[1];W[N+2]=l[2]}else{W[N]=K[0];W[N+1]=K[1];W[N+2]=K[2]}}};g.u.Z.ti=function(W,q){var X=g.u.Z,k=X.wq,B=X.Ld(q);
for(var N=0;N<k;){W[N++]=B[0];W[N++]=B[1];W[N++]=B[2];W[N++]=B[3]}};g.u.Z.atf=function(W,q){var X=W.length;
for(var N=0;N<X;){W[N++]=q}};g.u.Z.a7K=function(W,q){W=W>5?(100-Math.max(4,W))/100:.95;q=q!=100?Math.max(4,q)/100:.9995;
var X=new Uint8Array(256),k=q>.5?.5/(1-q):q*2,B=~~(k*256),U=~~((.5-W*k)*256)<<8;for(var N=0;N<256;N++){X[N]=g.u.Z.yL(U>>8);
U+=B}return X};g.u.Z.KF=function(W){for(var N=0,q=g.u.Z,X=W.length;N<X;N++){W[N]=~~(q.random()*256)}};
g.u.Z.a04=function(W,q){for(var N=0,X=g.u.Z,k=W.length;N<k;N++){W[N]=X.random()<q?255:0}};g.u.Z.am$=function(W,q,X){for(var N=0,k=g.u.Z,B=W.length;
N<B;N++){if(k.random()<q)W[N]=X}};g.u.Z.a1A=function(W,q,X){var k=W.length;for(var N=0;N<k;N++){W[N]=g.u.Z.yL(W[N]+X[q[N]])}};
g.u.Z.$B=function(W){var q=new Uint32Array(256);for(var N=0,X=W.length;N<X;N++)q[W[N]]++;return q};g.u.Z.aIm=function(W,q){var X=0,k=0,B=new Uint32Array(256),U=new Float32Array(256);
for(var N=0,l=W.length;N<l;N++){var K=W[N],D=q[N];if(D==255){B[K]++;X++}else if(D>0){D/=255;k+=D;U[K]+=D;
if(k>=1){k--;X++}if(U[K]>=1){U[K]--;B[K]++}}}return[X,B]};g.u.Z.rE=function(W,q,X,k){var self=g.u.Z,B,U,Y=0,p=256;
if(k){var l=self.aIm(X,k);B=l[1];U=l[0]/100}else{B=self.$B(X);U=self.Fk/100}var K=new Uint8Array(256),D=U*W,m=U*q,a=-1;
do{Y+=B[++a]}while(Y<=D);Y=0;do{Y+=B[--p]}while(Y<=m);if(p-a<=0)p=a+1;if(p>255){p=255;a=254}var M=255/(p-a),x=-a;
for(var N=0;N<256;N++){K[N]=self.yL(M*x+.5);x++}return K};g.u.Z.k_=function(W,q,X,k){var B=g.u.Z;B.w4(W,B.rE(q,X,W,k))};
g.u.Z.agO=function(W,q){var self=g.u.Z,X=self.$B(W),k=self.Fk*q/100,B=0,U=-1;do{B+=X[++U]}while(B<=k);
return U};g.u.Z.vM=function(W,q){var X=0,self=g.u.Z,k=self.Ah,B=self.QB,U=1/Math.PI,l=U*255;for(var N=0;
N<B;N++){var K=N+1;if(K==B)K--;var D=N*k,m=~~((1-(N+1)/B)*255);for(var Y=0;Y<k;Y++){var a=Y+1;if(a==k)a--;
var p=W[D+Y],M=W[D+a],x=W[K*k+Y];if(p-x==0){q[X++]=m}else{var R=p-x+255;if(R==255){R=0}else{R=~~(Math.atan2(1/(255-R),1)*l+.5);
if(R<0)R+=255}q[X++]=R}if(p-M==0){q[X++]=~~((1-(Y+1)/k)*255)}else{var R=p-M+255;if(R==255){R=0}else{R=~~(Math.atan2(1/(255-R),1)*l+.5);
if(R<0)R+=255}q[X++]=R}}}};g.u.Z.a4C=function(W,q){var self=g.u.Z,X=self.Ah,k=self.QB,B=0;for(var N=0;
N<k;N++){for(var U=0;U<X;U++){W[B]=~~(N*q+.5)+~~(W[B]*(1-q)+.5);B++;W[B]=~~(U*q+.5)+~~(W[B]*(1-q)+.5);
B++}}};g.u.Z.avm=function(W,q,X,k){var self=g.u.Z,B=self.Ah,U=self.QB,l=0;for(var N=0;N<U;N++){for(var K=0;
K<B;K++){q[l]=~~(q[l]*(1-X)+.5)+~~(W[l]*k+.5);l++;q[l]=~~(q[l]*(1-X)+.5)+~~(W[l]*k+.5);l++}}};g.u.Z.aFf=function(W,q,X){var self=g.u.Z,k=self.Ah,B=self.QB,U=0,l=0;
for(var N=0;N<B;N++){for(var K=0;K<k;K++){var D=W[U++],m=W[U++];q[l++]=m%X>=2&&D%X>=2?255:0}}};g.u.Z.avr=function(W,q,X,k,B,U,l){var self=g.u.Z,K=self.Ah,D=self.QB,m=0,Y=0,a=0;
for(var N=0;N<D;N++){var p=N%W<X||D-X<=N;for(var M=0;M<K;M++){l[m++]=p||M%q<k||K-k<=M?B:U}}};g.u.Z.Ik=function(W,q,X,k){var self=g.u.Z,B=self.Ah,U=self.QB,l=jJ.Ik(q),K=l[1],D=l[0].r,m=l[0].$,Y=100/X;
for(var a=0;a<U;a++)for(var p=0;p<B;p++){var M=g.F.nW(p*Y,a*Y,K,D,m);W[a*B+p]=k?255-M:M}};g.u.Z.yL=function(W){return~~Math.min(255,Math.max(0,W))};
g.u.Z.aeg=[0,5,10,15,20,25,35,45,65,85,105,125,145,165,185,205];g.u.Z.a8F=[0,.2,.4,.5,.6,.7,.8,.9,1,1.1,1.2,1.3,1.4,1.5,1.7,2,2.5,3,3.5,4,5,6,7,8,9,10];
g.u.Z.EG=function(W){return W>40?[1.25,1.5,1.75,2,2.5,3,4,5,7.5,10][W-41]:W/40};g.u.Z.aik=function(W,q,X){var self=g.u.Z,k=self.Ah,B=self.QB,U=X,l=X>>1,K=l-1,D=U*U,m=0;
for(var N=0;N<B;N++){var Y=0,a=0,p=0,M=~~(N/X)*X,x=0;for(var R=0;R<U;R++){for(var y=0;y<U;y++){var s=x+y,F=M+R;
if(s>=k)s=k-1;if(F>=B)F=B-1;Y+=W[F*k+s<<2];a+=W[(F*k+s<<2)+1];p+=W[(F*k+s<<2)+2]}}var E=~~(Y/D),o=~~(a/D),G=~~(p/D);
q[m]=E;q[m+1]=o;q[m+2]=G;q[m+3]=W[m+3];m+=4;for(var d=1;d<k;d++){for(var R=0;R<U;R++){var u=d-1,r=u+U,F=M+R;
if(r>=k)r=k-1;if(F>=B)F=B-1;var v=F*k,c=v+r<<2,V=v+u<<2;Y+=W[c]-W[V];a+=W[c+1]-W[V+1];p+=W[c+2]-W[V+2]}if(d%X==0){E=~~(Y/D);
o=~~(a/D);G=~~(p/D)}q[m]=E;q[m+1]=o;q[m+2]=G;q[m+3]=W[m+3];m+=4}}};g.u.Z.arC=function(W,q,X,k,B){var self=g.u.Z,U=self.Ah,l=self.QB,K=0,D=0,m=0,Y=0;
for(var N=Y;N<l+Y;N++){var a=N%q>=k||N<k||l+Y-k<=N;for(var p=0;p<U;p++){W[K++]=a&&(p%X>=B||p<B||U-B<=p)?255:0}}};
g.u.Z.avu=function(W,q,X){var k=function(m,Y){return Y<=m?m/Y&1?Y-m%Y:m%Y:m},B=[function(K,D){return k(K,255)/255},function(K,D){return(255+k(K,255)-k(D,255))/510},function(K,D){return(255-k(D,255))/255},function(K,D){return(510-k(K,255)-k(D,255))/510},function(K,D){return(255-k(K,255))/255},function(K,D){return(255-k(K,255)+k(D,255))/510},function(K,D){return k(D,255)/255},function(K,D){return(k(K,255)+k(D,255))/510}][X],U=0,l=0;
for(var N=0;N<g.u.Z.Fk;N++){var K=W[U++],D=W[U++];q[l++]=~~(255*B(K,D))}};g.u.aEW=function(){var W=[],q=new Uint8Array(512),X=new Float32Array(512),k=new Float32Array(512),B=[1,-1,1,-1,1,-1,0,0],U=[1,1,-1,-1,0,0,1,-1],l=0,K,x=0;
for(;l<256;l++)W[l]=l;while(l!=0){l--;K=Math.floor(Math.random()*l);W[K]^=W[l]^(W[l]=W[K])}function D(D){D=Math.floor(D*65536);
if(D<256){D|=D<<8}for(var N=0;N<256;N++){var s=N+256,F=W[N]^(N&1?D:D>>8)&255;q[N]=q[s]=F;F=F%8;X[N]=X[s]=B[F];
k[N]=k[s]=U[F]}}function m(s){return s*s*s*(s*(s*6-15)+10)}function Y(s,F,E){return(1-E)*s+E*F}function a(s,F){return s&F}function p(s,F){return s%F}function M(s,F,E,o,G){var d=Math.floor(s),u=Math.floor(F),l,r,v,c,V,j;
s=s-d;F=F-u;d=d&255;u=u&255;l=d+q[u];c=X[l]*s+k[l]*F;l=d+q[G(u+1,o)];v=X[l]*s+k[l]*(F-1);l=G(d+1,E)+q[u];
V=X[l]*(s-1)+k[l]*F;l=G(d+1,E)+q[G(u+1,o)];j=X[l]*(s-1)+k[l]*(F-1);r=m(s);return Y(Y(c,V,r),Y(v,j,r),m(F))}function R(s,l,F){s[l]=F}function y(s,F,E,o,G){var d=Math.min(Math.min(F,256),Math.min(256,E)),u=d==256||d<8,r=8,v=new Uint32Array(r),c=new Uint32Array(r),V=new Float32Array(r),j=new Float32Array(r),Q=1,H=1,T=u?a:p,e=R,z;
for(var N=0;N<r;N++){z=H*1/d;if(u){c[N]=(1<<Math.ceil(Math.log2(E*z)))-1;v[N]=(1<<Math.ceil(Math.log2(F*z)))-1}else{c[N]=z*E;
v[N]=z*F}V[N]=Q;j[N]=z;Q*=.5;H=H<<1}D(Math.random());for(var J=0,l=0;J<E;J++){for(var P=0;P<F;P++){var L=0;
for(var A=0;A<r;A++){z=j[A];L+=M(P*z,J*z,v[A],c[A],T)*V[A]}e(o,l++,Math.round(Math.max(0,255*Math.min(1,.5+L*.5))))}}}return y}();
g.u.aGC=function(){function W(q,X,k,B){var U=new Uint8Array(q.length>>>2),l=new Uint8Array(q.length>>>2),K=new Uint8Array(q.length);
for(var N=0;N<q.length;N+=4){var D=q[N+0]*.3+q[N+1]*.59+q[N+2]*.11;l[N>>>2]=D;K[N]=q[N];K[N+1]=q[N+1];
K[N+2]=q[N+2]}g.PG.a2U(l,U,X,k);g.PG.LH(q,B,X,k,g.PG.h3[1],!1,!0);for(var N=0;N<q.length;N+=4){K[N+3]=255-U[N>>>2]}for(var N=0,m=q.length;
N<m;N+=4){var Y=K[N+3]/255;B[N]=K[N]*Y+B[N]*(1-Y);B[N+1]=K[N+1]*Y+B[N+1]*(1-Y);B[N+2]=K[N+2]*Y+B[N+2]*(1-Y)}}return W}();
g.u.anM=function(){function W(U,l,K,D,m){var Y=new Uint32Array(U.buffer),a=0;for(var N=0;N<K;N++){for(var p=0;
p<l;p++,a+=4){var M=Y[N*l+p],x=M&255,R=M>>>8&255,y=M>>>16&255,s=M>>>24&255,F=~~(Math.random()*8),E=F%3,o=0,G=0;
if(F<3){G--}else if(F>4){G++}if(E==0){o--}else if(E==2){o++}var d=p+o,u=N+G;if(d<0)d=0;else if(d>l-1)d=l-1;
if(u<0)u=0;else if(u>K-1)u=K-1;var M=Y[u*l+d],r=M&255,v=M>>>8&255,c=M>>>16&255,V=M>>>24&255;D[a]=m(x,r);
D[a+1]=m(R,v);D[a+2]=m(y,c);D[a+3]=m(s,V)}}}function q(U,l){return l}function X(U,l){return U>l?l:U}function k(U,l){return U<l?l:U}function B(U,l,K,D,m){var Y=m[0];
if(Y==0)W(U,l,K,D,q);else if(Y==1)W(U,l,K,D,X);else if(Y==2)W(U,l,K,D,k);else if(Y==3){console.error("Not implemented")}else console.error("Mew mew")}return B}();
g.u.alW=function(){function W(q,X,k,B,U){var l=U&&U[0]?U[0]:4,K,D,m,Y,a,p,M;for(var N=0;N<k;N++){var x=Math.max(N-l,0),R=Math.min(N+l,k-1);
for(var y=0;y<X;y++){var s=Math.max(y-l,0),F=Math.min(y+l,X-1);K=x*X+s<<2;Y=q[K];a=q[K+1];p=q[K+2];M=q[K+3];
K=x*X+F<<2;Y+=q[K];a+=q[K+1];p+=q[K+2];M+=q[K+3];K=R*X+s<<2;Y+=q[K];a+=q[K+1];p+=q[K+2];M+=q[K+3];K=R*X+F<<2;
Y+=q[K];a+=q[K+1];p+=q[K+2];M+=q[K+3];K=N*X+y<<2;B[K]=Y+2>>>2;B[K+1]=a+2>>>2;B[K+2]=p+2>>>2;B[K+3]=M+2>>>2}}}return W}();
g.u.aKS=function(){function W(q,X,k,B){var U=new Uint8Array(q.length),l=new Uint8Array(q.length>>>2),K=new Uint8Array(q.length>>>2);
g.PG.LH(q,U,X,k,g.PG.h3[2],!1,!0);for(var N=0;N<q.length;N+=4){var D=U[N+0]*.3+U[N+1]*.59+U[N+2]*.11;
l[N>>>2]=D;B[N+0]=q[N+0];B[N+1]=q[N+1];B[N+2]=q[N+2];B[N+3]=q[N+3]}g.PG.a2U(l,K,X,k);for(var N=0;N<q.length;
N+=4){U[N+3]=~~(Math.max(0,255-K[N>>>2]-50)*(255/205))}for(var N=0,m=q.length;N<m;N+=4){var Y=U[N+3]/255;
B[N]=U[N]*Y+B[N]*(1-Y);B[N+1]=U[N+1]*Y+B[N+1]*(1-Y);B[N+2]=U[N+2]*Y+B[N+2]*(1-Y)}}return W}();g.u.ud=function(){function W(F,E){return F[E]+F[E+1]+F[E+2]+F[E+3]}function q(F,E){return F[E]+F[E+1]+F[E+2]+2*F[E+3]}function X(F,E,o,G){F[E]=o[G];
F[E+1]=o[G+1];F[E+2]=o[G+2];F[E+3]=o[G+3]}function k(F,E,o){F[E]=F[o];F[E+1]=F[o+1];F[E+2]=F[o+2];F[E+3]=F[o+3]}function B(F,E,o){F[o]=E[o];
F[o+1]=E[o+1];F[o+2]=E[o+2];F[o+3]=255-E[o+3]}function U(F){for(var N=0,E=F.length;N<E;N+=4){F[N+3]=255-F[N+3]}}function l(){var F=Math.random();
if(F>.5)return 0;if(F>.25)return 1;if(F>.1)return 2;if(F>.02143)return 3;if(F>.00445)return 4;if(F>65e-5)return 5;
if(F>415e-6)return 6;if(F>55e-6)return 7;return 8}function K(F,E,o,G,d,u){F[E]=o[G]+(d[u]-o[G]>>1);F[E+1]=o[G+1]+(d[u+1]-o[G+1]>>1);
F[E+2]=o[G+2]+(d[u+2]-o[G+2]>>1);F[E+3]=o[G+3]+(d[u+3]-o[G+3]>>1)}function D(F,E,o,G,d,u){F[E]=d[u]+o[G]>>1;
F[E+1]=d[u+1]+o[G+1]>>1;F[E+2]=d[u+2]+o[G+2]>>1;F[E+3]=d[u+3]+o[G+3]>>1}function m(F,E,o,G,d,u,r,v,c){var V=0,j=0,Q=0,N,H=d[u],T;
K(v,0,F,E,F,o);for(N=0;N<H;N++){K(v,(N+1)*4,v,N*4,F,o)}j=(H+1)*4;Q+=H;u--;X(F,E,v,j-4);G[u]=W(F,E);E-=c;
while(u>0&&G[u-1]<G[u]){T=v;v=r;r=T;V=j;D(v,0,F,E-c,r,0);for(N=4;N<V;N+=4){D(v,N,v,N-4,r,N)}H=d[u];for(N=Q;
N<H;N++){K(v,j,v,j-4,r,V-4);j+=4;Q++}u--;X(F,E,v,j-4);G[u]=W(F,E);E-=c}}function Y(F,E,o,G,d){var u=E*4,r=0,v,c,V=new Uint8Array(E+1),j=new Uint8Array(10*4),Q=new Uint8Array(10*4);
for(var N=0;N<o;N++){B(G,F,r);d[0]=W(G,r);V[0]=l();v=r;r+=4;for(var H=1;H<E;H++){B(G,F,r);d[H]=W(G,r);
c=l();V[H]=c;if(d[H-1]<d[H]&&c>0){m(G,r-4,r,d,V,H,j,Q,4)}r+=4}d[E]=d[0];V[E]=V[0];if(d[E-1]<d[E]&&c>0){m(G,r,v,d,V,E,j,Q,4)}}U(G)}function a(){var F=Math.random();
if(F>.659755)return 0;if(F>.1625)return 10;if(F>.06)return 20;if(F>.01)return 30;if(F>.0035)return 40;
if(F>65e-5)return 50;if(F>415e-6)return 60;if(F>55e-6)return 70;return 80}function p(F,E,o,G,d,u){var r=a()+1,v=G[d];
for(var N=1;N<r;N++){if(0>d)break;if(G[d-N]<v){k(F,E,o)}else{break}E+=u}}function M(F,E,o,G,d){var u=E*4,r=0;
for(var N=0;N<o;N++){B(G,F,r);d[0]=W(G,r);r+=4;for(var v=1;v<E;v++){B(G,F,r);d[v]=W(F,r);if(d[v-1]<d[v]){p(G,r-4,r,d,v,-4)}r+=4}d[E]=d[0];
if(d[v-1]<d[v]){p(G,r-4,r-u,d,v,-4)}}U(G)}function x(F,E,o,G,d,u){var r=1,v,c,V=new Uint8Array(4),j,Q=E;
while(Math.random()<1/r){Q=E;if(G<=1)break;v=o[G];c=o[G-1];if(v<=c)break;X(V,0,F,Q-u);j=!0;for(var N=G;
N<d;N++){if(c>o[N]){X(F,Q-u,V,0);o[N-1]=c;j=!1;break}X(F,Q-u,F,Q);o[N-1]=o[N];Q+=u}if(j){X(F,Q-u,V,0);
o[d-1]=c}r++;G--;E-=u}}function R(F,E,o,G,d){var u=0,r=0,v=E*4;for(var N=0;N<o;N++){r=u;for(var c=0;
c<E;c++){B(G,F,u);d[c]=q(G,u);u+=4}u=r;for(var c=1;c<E;c++){if(d[c-1]<d[c]&&Math.random()<.66){x(G,u+4,d,c,E,4)}u+=4}u+=4}U(G)}function y(F,E,o,G,d){var u=d[0],r=d[1],v=new Uint16Array(E+1),c=F,V=G,j;
if(r){j=G.slice(0);s(F,G,E,o);c=G;V=j}if(u==0)Y(c,E,o,V,v);else if(u==1)M(c,E,o,V,v);else if(u==2)R(c,E,o,V,v);
if(r){s(j,G,E,o)}}function s(F,E,o,G){for(var d=0;d<G;d++)for(var u=0;u<o;u++){var r=d*o+u<<2,v=d*o+(o-1-u)<<2;
E[v]=F[r];E[v+1]=F[r+1];E[v+2]=F[r+2];E[v+3]=F[r+3]}}return y}();g.u.a9E=function(W,q,X,k,B){var U=g.u.Z,l=1,y=0,E=0;
U.Fs(q,X);U.g_(B[2]);var K=3<<13,D=Math.PI/2.43,m=D/256,Y=Math.PI*2/256;function a(){var u=U.random()*256,r=U.random()*256;
return l*~~(Math.tan(D-u*m)*325*Math.cos(r*Y)*256)+K>>16}l=B[0];var p=B[1],M=(p+2)/2,x=U.random()*255,R=U.T3(1);
for(var N=0;N<X;N++){var s=U.yL(a()+x);for(var F=0;F<q;F++){s=U.yL(a()+s);R[y++]=s}}y=q;for(var N=1;
N<X;N++){var o=U.yL(a()+R[E++]);R[y++]=o;for(var F=1;F<q;F++){var G=E+1;if(F+1==q){G--}var d=(M+o+R[G]+R[E]*p)/(p+2);
o=U.yL(a()+d);R[y++]=o;E++}}U.mV(R,k)};var kw=function(){function W(w){w=w^61^w>>>16;w=w+(w<<3);w=w^w>>>4;
w=w*668265261;w=w^w>>>15;return w}var q=function(){var q=function(w){if(w){this.iM=w}this.iM=W(this.iM);
return(this.iM&16777215)*(1/16777215)};return q};function X(w,f){if(f==null){f=[0,0]}return Math.sqrt((f[0]-w[0])*(f[0]-w[0])+(f[1]-w[1])*(f[1]-w[1]))}function k(w,f){if(f==null){f=[0,0]}return[-(f[1]-w[1])/X(w,f),(f[0]-w[0])/X(w,f)]}function B(w){return[Math.cos(w),Math.sin(w)]}function U(w){var f=X(w,[0,0]),O=[w[0]/f,w[1]/f],n=Math.atan(O[1]/O[0]);
if(O[0]>0&&O[1]<0){n+=2*Math.PI}else if(O[0]<0&&O[1]<0){n+=Math.PI}else if(O[0]<0&&O[1]>0){n+=Math.PI}return n}function l(w){var l=0;
for(var N=1;N<w.length/2;++N){l+=X([w[2*N],w[2*N+1]],[w[2*(N-1)],w[2*(N-1)+1]])}return l}function K(w,f,O){var n=new Float32Array(w.length),$=1/(w.length/2),d9=G(O);
for(var N=0;N<w.length/2;++N){var i=N*$,dF=i/2+.5,t=1,im=0;if(O.shape==2){t=1/(2*dF)}if(O.shape==3){dF=(1-i)/2+.5;
t=1/(2*dF)+.5}if(O.shape==4){dF=i;t=Math.sin(3/2*Math.PI*dF)/4+1}if(O.shape==5){dF=(i-.5)*6;t=(-Math.atan(dF)/1.25+1)/5+.6-.2*i}var bc=[null,null];
if(N==0){bc=k([w[2*N],w[2*N+1]],[w[2*(N+1)],w[2*(N+1)+1]])}else if(N==w.length/2-1){bc=k([w[2*(N-1)],w[2*(N-1)+1]],[w[2*N],w[2*N+1]])}else{bc=k([w[2*(N-1)],w[2*(N-1)+1]],[w[2*(N+1)],w[2*(N+1)+1]])}n[2*N]=w[2*N]+(t*f+im)*bc[0];
n[2*N+1]=w[2*N+1]+(t*f+im)*bc[1];if(O.style==2){n[2*N]+=d(2*N/n.length,d9,O)}}return n}function D(w,f,O){var n=new Float32Array(w.length),$=1/(w.length/2);
for(var N=0;N<w.length/2;++N){var d9=N*$,i=[null,null],dF=.6*O.hu*v(d9,f.anc)*O.B0/100,t=.6*O.hu*v(d9,f.aqA)*O.B0/100,im=f.asT*dF+(1-f.asT)*t;
if(N==0){i=k([w[2*N],w[2*N+1]],[w[2*(N+1)],w[2*(N+1)+1]])}else if(N==w.length/2-1){i=k([w[2*(N-1)],w[2*(N-1)+1]],[w[2*N],w[2*N+1]])}else{i=k([w[2*(N-1)],w[2*(N-1)+1]],[w[2*(N+1)],w[2*(N+1)+1]])}n[2*N]=w[2*N]+im*i[0];
n[2*N+1]=w[2*N+1]+im*i[1]}return n}function m(w){if(w.R6==1){return[.150684932,.205479452,.465753425,.178082192]}else if(w.R6==2){return[.126829268,.131707317,.156097561,.317073171,.141463415,.126829268]}else{var f=[],O=1/(Q(w)-1);
for(var N=0;N<Q(w)-1;++N){f.push(O)}return f}}function Y(w,f,O){var n=[],$=f-w,d9=w;for(var N=0;N<O.length-1;
++N){n.push(d9+O[N]*$);d9=n[N]}return n}function a(w,f,O,n){var $=new Float32Array(O.length),d9=0,i={shape:Math.floor(n.random()*2.99),aho:n.random()*.1+.15};
for(var N=0;N<O.length-1;++N){var dF=d9+O[N];$[N]=((1-dF)*w+dF*f)*s(n,dF,i);d9=dF}return $}function p(w,f,O,n){var $=V(n),d9=n.random(),i=d9*20+(1-d9)*26,dF=new Float32Array(O.length),t=0;
for(var N=0;N<O.length-1;++N){var im=t+O[N];dF[N]=(1-im)*w+im*f+$/i*(2/3*Math.sin(Math.PI*im)+1/3*Math.sqrt(Math.sin(Math.PI*im)));
t=im}return dF}function M(w,f,O){var n=[];for(var N=0;N<f.length-1;++N){n.push(f[N].slice());var $=N*(Q(O)-1),d9=(N+1)*(Q(O)-1),i=w[d9]-w[$];
for(var dF=$+1;dF<d9;++dF){var t=G(O),im=new Float32Array(f[0].length),bc=(w[dF]-w[$])/i;for(var at=0;
at<f[0].length/2;++at){im[2*at]=(1-bc)*f[N][2*at]+bc*f[N+1][2*at];im[2*at+1]=(1-bc)*f[N][2*at+1]+bc*f[N+1][2*at+1];
if(O.style==2){im[2*at]+=d(2*at/f[0].length,t,O)}}n.push(im)}}n.push(f[f.length-1]);return n}function x(w,f,O){var n=new Array(f.length),$=L(w),i=null;
for(var N=0;N<f.length;++N){n[N]=K($,(f[N]-.5)*O.B0,O)}var d9=1+.05*O.acD*V(O)/V({R6:1});for(var N=0;
N<f.length;++N){if(f[N]==0){i=N}}for(var N=0;N<f.length;++N){var dF=(O.random()-.5)*2,t=Math.round(O.random()*9+1),im=new Float32Array(t*2+2);
for(var bc=0;bc<=t;++bc){im[2*bc]=n[N][0]-(n[N][2*bc]-n[N][0]);im[2*bc+1]=n[N][1]-(n[N][2*bc+1]-n[N][1])}if(N==i){dF*=.1}for(var bc=(n[N].length-1)/2;
bc>t;--bc){n[N][2*bc]=(1-dF)*n[N][2*bc]+dF*(n[N][2*(bc-t)]+d9*(n[N][2*bc]-n[N][2*(bc-t)]));n[N][2*bc+1]=(1-dF)*n[N][2*bc+1]+dF*(n[N][2*(bc-t)+1]+d9*(n[N][2*bc+1]-n[N][2*(bc-t)+1]))}for(var bc=t-1;
bc>=0;--bc){n[N][2*bc]=(1-dF)*n[N][2*bc]+dF*(im[2*(t-bc)]+d9*(n[N][2*bc]-im[2*(t-bc)]));n[N][2*bc+1]=(1-dF)*n[N][2*bc+1]+dF*(im[2*(t-bc)+1]+d9*(n[N][2*bc+1]-im[2*(t-bc)+1]))}}var at=r(f,O);
if(O.hu>0){var l9=0;for(var N=0;N<f.length;++N){if(N==0){l9+=f[N]}else{l9+=Math.abs(f[N]-f[N-1])}var fF=l9-Math.floor(l9),g$=1;
if(fF==0){g$=0}n[N]=D(n[N],{anc:at[Math.floor(l9)],aqA:at[Math.floor(l9)+g$],asT:fF},O)}}return n}function R(w,f){var O=e(f,w),n=z(f,w),$=[],d9=[],i=[],dF=m(w);
for(var N=0;N<f.length-1;++N){$.push(f[N]);d9.push(O[N]);i.push(n[N]);var t=Y(f[N],f[N+1],dF),im=a(O[N],O[N+1],dF,w),bc=p(n[N],n[N+1],dF,w);
for(var at=0;at<t.length;++at){$.push(t[at]);d9.push(im[at]);i.push(bc[at])}}$.push(f[f.length-1]);d9.push(O[O.length-1]);
i.push(n[n.length-1]);return{a1z:$,aqP:d9,Fv:i}}function y(w,f,O,n){var $=new Float32Array(2*n),d9=w.length/2,i=d9-f,dF=O*i,t=dF/n;
for(var N=0;N<n;++N){var im=Math.floor(f+N*t),bc=Math.ceil(f+N*t),O=f+N*t,at=bc-im,l9=1,fF=0;if(at!=0){l9=(bc-O)/at;
fF=(O-im)/at}$[2*N]=l9*w[2*im]+fF*w[2*bc];$[2*N+1]=l9*w[2*im+1]+fF*w[2*bc+1]}return $}function s(w,f,O){var n=O.aho,$=f*2*Math.PI,d9=$,i=0;
if(O.shape==0){i=(Math.sin(2*d9+Math.PI/2)+1)/2}else if(O.shape==1){i=(Math.sin(d9+Math.PI/2)+1)/2}else{i=(4*Math.sin(3/4*d9+Math.PI)+Math.sin(Math.PI/2+2*d9)-2*d9/Math.PI+6)/7}return Math.min(1,1-n+n*i)}function F(w,f,O,n){var $=[];
for(var N=0;N<w.length;++N){$.push(y(w[N],f[N],O[N],n))}return $}function E(w,f,O){var n=[];for(var N=0;
N<w.length;++N){var $=B(2*Math.PI*O.random()),d9=B(2*Math.PI*O.random()),i=O.MA*.5*H({R6:1})/H(O),dF=i*O.B0/200,t=i*f/500,im=new Float32Array(w[0].length);
for(var bc=0;bc<w[0].length/2;++bc){var at=B(2*Math.PI*O.random()),l9=2*bc/w[0].length;im[2*bc]=w[N][2*bc]+dF*(at[0]+((1-l9)*$[0]+l9*d9[0]));
im[2*bc+1]=w[N][2*bc+1]+t*(at[1]+((1-l9)*$[1]+l9*d9[1]))}n.push(im)}return n}function o(w,f,O){var n=O.ND,$=2/n,d9=[1/10,1/30,1/40,1/45,1/100],i=d9[O.R6-1],dF=4*(O.zO/25*$*i)*(1-O.MA/150),at=0,fF=0;
if(O.style==3){return dF*.09}var t=2.2*(w-.5),im=t*t*t*t+.27+Math.max(0,(O.zO-50)/15),bc=2*(Math.sin(3*Math.PI*f)/(Math.PI*f+2)+1.1)-f/2;
f=2*f;if(f<.41){var l9=2*Math.PI*f/.41;at=(Math.sin(l9-Math.PI/2)+1)/4+.5}else if(f<.77){var l9=2*Math.PI*(f-.41)/.36;
at=(Math.sin(l9-Math.PI/2)+1)/4+.5-l9/2/Math.PI*.5}else{var l9=2*Math.PI*(f-.77)/.23;at=(Math.sin(l9-Math.PI/2)+1)/2*.12}at*=3;
at+=Math.max(0,(O.zO-50)/15);if(O.I==6){fF=bc}else{fF=at}return dF*im*fF}function G(w){return{m:w.random()*7/2+.5,Jc:w.random()*2*Math.PI}}function d(w,f,O){return O.B0/300*Q({R6:1})/Q(O)*10*(Math.sin(f.m*2*Math.PI*w+f.Jc)+10*(O.random()-.5))}function u(w){var f=Math.exp(-w.hu/25);
return{m:w.random()*3/2+.5,Jc:w.random()*2*Math.PI,uo:(w.random()-.5)*10*f}}function r(w,f){var O=Math.ceil(J(w)),n=[];
for(var N=0;N<=O;++N){n.push(u(f))}return n}function v(w,f){var O=f.m*4*Math.PI*w+f.Jc;return Math.exp(-1/2*Math.PI*w)*Math.cos(O)*Math.cos(O)*Math.cos(O)*Math.cos(O)*Math.cos(O)+w*f.uo-f.uo/4}function c(w,f,O,n,$){var d9=0,i=H(f)-1;
for(var N=0;N<i;++N){for(var dF=0;dF<w.length-1;dF+=Q(f)-1){for(var t=N;t<w[0].length/2-i;t+=i){for(var im=dF;
im<dF+(Q(f)-1);++im){O[$+d9]=o(im*(f.ND-1)/(w.length-1)%1,t/w[0].length,f);var bc=0,at=0;if(f.I==6&&im!=0&&im!=w.length-1){at=(w[im][2*(t+1)+1]-w[im][2*t+1])/2;
bc=(w[im][2*(t+1)]-w[im][2*t])/2}n[8*$+8*d9]=w[im][2*t]+bc;n[8*$+8*d9+1]=w[im][2*t+1]+at;n[8*$+8*d9+2]=w[im][2*(t+i)]+bc;
n[8*$+8*d9+3]=w[im][2*(t+i)+1]+at;n[8*$+8*d9+4]=w[im+1][2*(t+i)];n[8*$+8*d9+5]=w[im+1][2*(t+i)+1];n[8*$+8*d9+6]=w[im+1][2*t];
n[8*$+8*d9+7]=w[im+1][2*t+1];++d9}}}}}function V(w){var f=[100,300,500,700,1e3];return f[w.R6-1]}function j(w){var f=[30,70,100,140,300];
return f[w.R6-1]}function Q(w){var f=[5,7,26,40,100];return f[w.R6-1]}function H(w){if(w.R6==1){return 4}else if(w.R6==2){return 8}else{return Math.floor(j(w)/9)}}function T(w){var f=w.ND,O=new Float32Array(f),n=null;
for(var N=0;N<f;++N){O[N]=w.random()}if(w.ND<=3){O[0]=0;O[w.ND-1]=1}else{for(var N=0;N<2;++N){var $=Math.floor(w.random()*f);
if(n==null||n!=$){O[$]=N;n=$}else{O[$+1]=N}}}return O}function e(w,f){var O=[],n=.2,d9=0;for(var N=0;
N<w.length;++N){var $=f.random()*(1-n)+n;O.push($)}var i=Math.min(3,f.ND);for(var N=0;N<w.length;++N){if(O[N]>.9){++d9}}while(d9<i){var dF=Math.floor(f.random()*w.length);
if(O[dF]<=.9){O[dF]=.9+.1*f.random();++d9}}return O}function z(w,f){var O=V(f),n=V({R6:1}),$=[];for(var N=0;
N<w.length;++N){$.push(Math.max(1,(f.random()*10+2)*O/n))}return $}function J(w){var f=0;for(var N=0;
N<w.length;++N){if(N==0){f+=w[N]}else{f+=Math.abs(w[N]-w[N-1])}}return f}function P(w,f){if(w.length/2-1==V(f)){return w}var O=new Float32Array(2*(V(f)+1)),n=(w.length-2)/(O.length-2);
for(var N=0;N<O.length/2;++N){var $=N*n,d9=Math.floor($),i=Math.ceil($),dF=i-d9,t=1,im=0;if(dF!=0){t=(i-$)/dF;
im=($-d9)/dF}O[2*N]=t*w[2*d9]+im*w[2*i];O[2*N+1]=t*w[2*d9+1]+im*w[2*i+1]}return O}function L(w,f){var O=w.length/2,n=l(w),$=n/O,d9=!1,t=0,im=0,bc=1;
if(f){var i=Math.floor(n/f.amB),dF=f.amB;if(f.au7&&w[0]==w[w.length-2]&&w[1]==w[w.length-1]){d9=!0;dF=n/(i+1)}if(f.I==2&&!d9&&dF*i+f.length>n){O=i+1}else{O=i+2}$=dF}var at=new Float32Array(O*2);
at[0]=w[0];at[1]=w[1];for(var N=1;N<O;++N){while(t<=N*$){im=t;t+=X([w[2*bc],w[2*bc+1]],[w[2*(bc-1)],w[2*(bc-1)+1]]);
++bc}var l9=1-(N*$-im)/(t-im);at[2*N]=(1-l9)*w[2*bc]+l9*w[2*(bc-1)];at[2*N+1]=(1-l9)*w[2*bc+1]+l9*w[2*(bc-1)+1]}at[at.length-2]=w[w.length-2];
at[at.length-1]=w[w.length-1];return at}function A(w,f){var O=L(w,f),n=[];for(var N=0;N<(O.length-2)/2;
++N){var $=[];$.push(O[2*N]);$.push(O[2*N+1]);var d9=X([O[2*(N+1)],O[2*(N+1)+1]],[O[2*N],O[2*N+1]]),i=[(O[2*(N+1)]-O[2*N])/d9,(O[2*(N+1)+1]-O[2*N+1])/d9],dF=B((f.azv-90)/360*2*Math.PI),t=i;
if(f.I==3){t=dF}else if(f.I==4){t=B(U(i)+U(dF))}else if(f.I==5){t=B(((f.random()-.5)*f.azv-90)/360*2*Math.PI)}var im=f.length;
if(f.aqG){im=2*f.random()*f.length}$.push(O[2*N]+t[0]*im);$.push(O[2*N+1]+t[1]*im);n.push($)}return n}function h(w){if(w.at3){w.iS=100*Math.random()}else{w.iS=w.aBO}w.random=new q;
w.random(w.iS);if(w.I==6){w.ND=2;w.shape=5;w.acD=0}}function C(w,f){w=P(w,f);var O=[w],im=0;if(f.I>=2&&f.I<6){O=A(w,f)}var n=H(f)-1,$=j(f)-n,d9=(f.ND-1)*(Q(f)-1),i=O.length*$*d9,dF=new Float32Array(i),t=new Float32Array(8*i);
for(var N=0;N<O.length;++N){for(var bc=0;bc<1e4;++bc){f.iS=W(f.iS)}f.random(f.iS);var w=P(O[N],f),at=T(f),l9=J(at),fF=x(w,at,f),g$=R(f,at),fR=M(g$.a1z,fF,f);
fR=F(fR,g$.Fv,g$.aqP,j(f));if(f.MA>0){fR=E(fR,l(O[N]),f)}c(fR,f,dF,t,im);im+=$*d9}return[dF,t]}var kw=function(w){var f=performance.now(),O=w[0],n=w[1];
h(n);var $=[new Float32Array(0),new Float32Array(0)];for(var N=0;N<O.length;++N){n.iS=W(n.iS);var d9=C(O[N],n),i=new Float32Array($[0].length+d9[0].length),dF=new Float32Array($[1].length+d9[1].length);
i.set($[0]);i.set(d9[0],$[0].length);$[0]=i;dF.set($[1]);dF.set(d9[1],$[1].length);$[1]=dF}var t=performance.now();
if(n.ajg){console.nO("Geometry: "+String(t-f)+"ms")}return $};return kw}(),aB=function(){function W(B,U){var l=[],K=0,D=U.length,m=0,Y=0,a=new dU,p=0,M=1e9;
for(Y=0;Y<D;Y++){var x=Y*8,R=U[Y];if(R<M)M=R;var y=B[x+0],s=B[x+1],F=B[x+2],E=B[x+3],o=B[x+4],G=B[x+5],d=B[x+6],u=B[x+7],r=Math.min(y,F,o,d),v=Math.max(y,F,o,d),c=Math.min(s,E,G,u),V=Math.max(s,E,G,u),j=new dU(r,c,v-r,V-c),Q=j.xw(a),H=p+R;
if(Y-m<10&&(Y==m||Q.C()*.8<j.C()+a.C())){a=Q;p=H}else{l.push(Y-m);m=Y;a=j;p=R;M=R}}if(Y!=m)l.push(Y-m);
return l}function q(B,U,l,K,D,m){var Y=document.createElement("canvas"),s=0,i=.8;Y.width=U;Y.height=l;
var a=Y.getContext("2d"),p=D[0],M=D[1],x=new Float64Array(U*l),R=Date.now(),y=W(M,p);for(var F=0;F<y.length;
F++){var E=s,o=s+y[F],u=1e9,v=1e9,e=0;s=o;var G=E*8,d=o*8,r=-u,c=-v;for(var V=G;V<d;V+=2){var j=M[V],Q=M[V+1];
if(j<u)u=j;if(j>r)r=j;if(Q<v)v=Q;if(Q>c)c=Q}u=Math.floor(u);r=Math.ceil(r);v=Math.floor(v);c=Math.ceil(c);
var H=r-u,T=c-v;for(var z=E;z<o;z++)e+=p[z];for(var V=G;V<d;V+=8){var J=p[V>>>3],P=M[V+0],L=M[V+1],A=M[V+2],h=M[V+3],C=M[V+4],w=M[V+5],f=M[V+6],O=M[V+7];
a.fillStyle="rgba(0,0,0,"+J/e+")";a.beginPath();a.moveTo(P,L);a.lineTo(A,h);a.lineTo(C,w);a.lineTo(f,O);
a.closePath();a.fill()}var n=a.getImageData(u,v,H,T).data;for(var Q=0;Q<T;Q++)for(var j=0;j<H;j++){var N=Q*H+j,$=n[N*4+3],d9=(v+Q)*U+u+j;
if($!=0)x[d9]+=$*e}a.clearRect(u,v,H,T)}var dF=m[1].color,t=Math.pow(dF.o/255,i),im=Math.pow(dF.L/255,i),bc=Math.pow(dF.X/255,i),at=new dU(0,0,U,l),l9=g.j(U*l*4);
for(var Q=0;Q<l;Q++)for(var j=0;j<U;j++){var N=Q*U+j,z=N*4,p=x[N]*(1/255);l9[z]=k(t,p);l9[z+1]=k(im,p);
l9[z+2]=k(bc,p);l9[z+3]=Math.min(255,p*255)}g.v.HX("norm",l9,at,K,at,at,1)}var X=new Uint8Array(2e3);
for(var N=0;N<2e3;N++)X[N]=255*Math.min(1,Math.log(N/700+1));function k(B,U){return X[Math.min(1500,~~(B*U*1e3))]}return q}(),ew=function(){var W=new Float32Array(3e3),q=new Float32Array(3e3),X=new Float32Array(256),k=new Float32Array(3e3);
function B(){var M=W.length;W[0]=Math.log10(157647e-9);for(var N=1;N<M;++N)W[N]=Math.log10(N/M)}function U(){var M=q.length;
for(var N=0;N<M;++N)q[N]=Math.pow(10,20*(N-M/2)/M)}function l(){var M=X.length;for(var N=0;N<M;++N)X[N]=g.Ni(N/255)}function K(){var M=k.length;
for(var N=0;N<M;++N)k[N]=255*g.Kz(N/(M-1))}function D(M,x){var R=M.length>>>2;for(var N=0;N<R;++N){var y=X[M[4*N]],s=X[M[4*N+1]],F=X[M[4*N+2]],E=.3811*y+.5783*s+.0402*F,o=.1967*y+.7244*s+.0782*F,G=.0241*y+.1288*s+.8444*F;
E=W[~~(E*W.length)];o=W[~~(o*W.length)];G=W[~~(G*W.length)];x[3*N]=(E+o+G)*.5773502692;x[3*N+1]=(E+o-2*G)*.4082482905;
x[3*N+2]=(E-o)*.7071067812}}function m(M,x){var R=x.length>>>2,y=k.length-1;for(var N=0;N<R;++N){var s=.5773502692*M[3*N],F=.4082482905*M[3*N+1],E=.7071067812*M[3*N+2],o=q[~~((s+F+E+10)*(3e3/20))],G=q[~~((s+F-E+10)*(3e3/20))],d=q[~~((s-2*F+10)*(3e3/20))],u=4.4679*o-3.5873*G+.1193*d,r=-1.2186*o+2.3809*G-.1624*d,v=.0497*o-.2439*G+1.2045*d;
x[4*N]=k[~~(y*Math.max(0,Math.min(1,u)))];x[4*N+1]=k[~~(y*Math.max(0,Math.min(1,r)))];x[4*N+2]=k[~~(y*Math.max(0,Math.min(1,v)))]}}function Y(M){var x=0,R=0,y=0;
for(var N=0;N<M.length;N+=3){x+=M[N];R+=M[N+1];y+=M[N+2]}return[x/(M.length/3),R/(M.length/3),y/(M.length/3)]}function a(M,Y){var x=0,R=0,y=0;
for(var N=0;N<M.length;N+=3){var s=M[N]-Y[0],F=M[N+1]-Y[1],E=M[N+2]-Y[2];x+=s*s;R+=F*F;y+=E*E}return[Math.sqrt(x/(M.length/3)),Math.sqrt(R/(M.length/3)),Math.sqrt(y/(M.length/3))]}function p(M,x,R,y,s,F){B();
U();l();K();var E=0,L,A;if(F[0]>100)E=-(F[0]-100)/100*.13;else if(F[0]>=75)E=(100-F[0])/25*.04;else if(F[0]>=50)E=.04+(75-F[0])/25*.04;
else if(F[0]>=25)E=.08+(50-F[0])/25*.08;else E=.16+(25-F[0])/25*.24;var o=(F[1]-100+100)/100,G=F[2]/100,d=F[3],u=new Float32Array(M.length*3/4),r=new Float32Array(y.length*3/4),v=Date.now();
D(M,u);D(y,r);var c=Date.now(),V=Y(u),j=Y(r),Q=Date.now(),H=a(u,V),T=a(r,j),e=Date.now();j[0]*=Math.pow(10,E);
var z=[T[0]/H[0],T[1]/H[1],T[2]/H[2]],J=u.length,P=1/-1.1546978950500488;for(var N=0;N<J;N+=3){if(d){var h=Math.max(0,Math.min(1,u[N]*P));
h=1-Math.sqrt(h);L=h*j[1];A=h*j[2]}else{L=j[1];A=j[2]}u[N]=(u[N]-V[0])*z[0]+j[0];u[N+1]=(u[N+1]-V[1])*z[1]*o+L;
u[N+2]=(u[N+2]-V[2])*z[2]*o+A}var C=Date.now();m(u,s);var w=s.length>>>2;for(var N=0;N<w;++N){s[4*N]=(1-G)*s[4*N]+G*M[4*N];
s[4*N+1]=(1-G)*s[4*N+1]+G*M[4*N+1];s[4*N+2]=(1-G)*s[4*N+2]+G*M[4*N+2];s[4*N+3]=255}}return p}(),fU=function(){function W(q,X,k,B,U){var l=[-1,-1,-1,-1],K=255,D=160,m,Y=!1,a=new Array(4);
a[0]=new Array(X);a[1]=new Array(k);a[2]=new Array(X);a[3]=new Array(k);var p=new Array(2);p[0]=new Array(k);
p[1]=new Array(k);function M(T,e,z,J,P){this.start=J;this.axis=P;this.dir=T;this.end=-1;this.source=e;
this.C=z}function x(T,e,z,J,P){if(z%2==0){if(!a[z][T])a[z][T]=new Array;a[z][T].push(new M(z,J,P,e,T))}else{if(!a[z][e])a[z][e]=new Array;
a[z][e].push(new M(z,J,P,T,e))}var L=Date.now()}function R(N){var T=!1,e=0;if(q[4*N+3]<K)return T;var z=N%X,J=Math.floor(N/X);
y(z,J);if(N+X<X*k&&q[4*(N+X)+3]<K&&q[4*(N-X)+3]>=K&&q[4*(N-2*X)+3]>=K){var P=2;if(q[4*(N+X)+3]<=D)e=-1;
if(q[4*(N+2*X-1)+3]<K&&q[4*(N+2*X+1)+3]<K)T=!0;else if(q[4*(N+2*X-1)+3]>=K&&q[4*(N+1)+3]>=K)T=!0;else if(q[4*(N+2*X+1)+3]>=K&&q[4*(N-1)+3]>=K)T=!0;
x(z,J,P,e,T)}else if(N-X>=0&&q[4*(N-X)+3]<K&&q[4*(N+X)+3]>=K&&q[4*(N+2*X)+3]>=K){var P=0;if(q[4*(N-X)+3]<=D)e=-1;
if(q[4*(N-2*X-1)+3]<K&&q[4*(N-2*X+1)+3]<K)T=!0;else if(q[4*(N-2*X-1)+3]>=K&&q[4*(N+1)+3]>=K)T=!0;else if(q[4*(N-2*X+1)+3]>=K&&q[4*(N-1)+3]>=K)T=!0;
x(z,J,P,e,T)}e=0;if(N+1<X*k&&q[4*(N+1)+3]<K&&q[4*(N-1)+3]>=K&&q[4*(N-2)+3]>=K){var P=3;if(q[4*(N+1)+3]<=D)e=-1;
if(!T&&q[4*(N+X+2)+3]<K&&q[4*(N-X+2)+3]<K){T=!0;x(z,J,P,e,!0)}else x(z,J,P,e,!1)}else if(N>=1&&q[4*(N-1)+3]<K&&q[4*(N+1)+3]>=K&&q[4*(N+2)+3]>=K){var P=1;
if(q[4*(N-1)+3]<=D)e=-1;if(!T&&q[4*(N+X-2)+3]<K&&q[4*(N-X-2)+3]<K){T=!0;x(z,J,P,e,!0)}else x(z,J,P,e,!1)}return T}function y(N,T){if(l[0]==-1){l[0]=N;
l[1]=T;l[2]=1;l[3]=1}if(N<l[0]){l[2]+=l[0]-N;l[0]=N}if(N>l[0]+l[2])l[2]=N-l[0];if(T<l[1]){l[3]+=l[1]-T;
l[1]=T}if(T>l[1]+l[3])l[3]=T-l[1]}function s(T,N,e,z){if(!e.C)return;var J=(T+2)%4,P=e.start,L=l[1];
if(T==2)L+=l[3];else if(T==1)L=l[0];else if(T==3)L=l[0]+l[2];var A=e.source;if(a[J][N])for(var h=0;h<a[J][N].length;
++h){if(T>1){var C=P+Math.floor((a[J][N][h].start-P)/2);if(a[J][N][h].start>P&&C<L)L=C}else{var C=P-Math.floor((P-a[J][N][h].start)/2);
if(a[J][N][h].start<P&&C>L)L=C}}for(var w=1;w<Math.abs(L-P);++w){var h=P+w;if(T==1||T==0)h=P-w;for(var f=0;
f<2;++f){var O=2*f,n=!1;if(T%2==0)O+=1;if(a[O][h]){for(var $=0;$<a[O][h].length;++$){if(a[O][h][$].C){var d9=a[O][h][$].start,i=N-d9,dF=h-P;
if(O==0||O==1)i=-i;if(i<=0)continue;if(T==0||T==1)dF=-dF;if(dF>i){L=h;n=!0;break}}}if(n)break}}}e.end=L;
o(T,N,P,L,A)}function F(T){for(var N=0;N<a[T].length;++N){if(a[T][N])for(var e=0;e<a[T][N].length;++e){s(T,N,a[T][N][e])}}}function E(){var T=[2,0,3,1];
for(var N=0;N<T.length;++N)F(T[N])}function o(T,N,e,z,J){if(T==2)for(var P=e;P<=z;++P){if(!G(P*X+N,(e+J)*X+N))return!1}else if(T==0)for(var P=e;
P>=z;--P){if(!G(P*X+N,(e-J)*X+N))return!1}else if(T==1)for(var P=e;P>=z;--P){if(!G(N*X+P,N*X+e-J))return!1}else if(T==3)for(var P=e;
P<=z;++P){if(!G(N*X+P,N*X+e+J))return!1}}function G(T,e){if(!m[T]){B[4*T]=B[4*e];B[4*T+1]=B[4*e+1];B[4*T+2]=B[4*e+2];
if(Y)B[4*T+3]=255;m[T]=!0;return!0}return!1}function d(){for(var N=0;N<4;N+=1){for(var T=0;T<a[N].length;
++T){if(a[N][T])for(var e=0;e<a[N][T].length;++e){var z=a[N][T][e];for(var J=1;J<3;J+=2){var P=(N+J)%4;
if(a[P][z.start])for(var L=0;L<a[P][z.start].length;++L){if(a[P][z.start][L].start==z.axis){var a1=X*z.start+z.axis;
if(N%2==1){a1=z.start+X*z.axis;u(a[P][z.start][L])}else u(z)}}}}}}}function u(T){if(T.dir%2==0){var a1=X*T.start+T.axis,e=T.start,z=1;
if(!m[a1+1])z=3;else if(m[a1-1])return;var J=B[4*a1],P=B[4*a1+1],L=B[4*a1+2];while(B[4*a1]==J&&B[4*a1+1]==P&&B[4*a1+2]==L){if(z==1){if(!p[0][e])p[0][e]=new Array;
p[0][e].push(new M(z,0,!1,T.axis,e))}else{if(!p[1][e])p[1][e]=new Array;p[1][e].push(new M(z,0,!1,T.axis,e))}if(T.dir==2){a1+=X;
e++}else{a1-=X;e--}}}}function r(){for(var T=0;T<2;++T){var e=(T+1)%2;for(var N=0;N<p[T].length;++N){if(p[T][N])for(var z=0;
z<p[T][N].length;++z){var J=l[0];if(T==1)J+=l[2];var P=p[T][N][z].start;if(p[e][N])for(var L=0;L<p[e][N].length;
++L){var A=p[e][N][L].Sp;if(T==0){if(A>J&&A<P){J=P-Math.floor((P-A)/2)}}else{if(A<J&&A>P){J=P+Math.ceil((A-P)/2)}}}if(T==0)o(p[T][N][z].dir,N,P-1,J,-1);
else o(p[T][N][z].dir,N,P+1,J,-1)}}}for(var N=0;N<m.length;++N){if(!m[N]&&N%X>=l[0]&&N%X<=l[0]+l[2]&&Math.floor(N/X)>=l[1]&&Math.floor(N/X)<=l[1]+l[3]){var P=X;
if(N<P||!m[N-P])P=1;B[4*N]=B[4*(N-P)];B[4*N+1]=B[4*(N-P)+1];B[4*N+2]=B[4*(N-P)+2];m[N]=!0;if(Y)B[4*N+3]=255}}}function v(){m=new Array(q.length/4);
for(var N=0;N<B.length/4;++N){m[N]=!1;B[4*N]=q[4*N];B[4*N+1]=q[4*N+1];B[4*N+2]=q[4*N+2];B[4*N+3]=q[4*N+3];
if(B[4*N+3]==255)m[N]=!0;if(R(N))m[N]=!1}if(l[0]>0){l[0]--;l[2]++}if(l[1]>0){l[1]--;l[3]++}if(l[0]+l[2]<X){l[2]++}if(l[1]+l[3]<k){l[3]++}}var c=Date.now();
v();var V=Date.now();E();var j=Date.now();d();var Q=Date.now();r();var H=Date.now();console.log("Init: "+String(V-c));
console.log("Filling: "+String(j-V));console.log("Check areas: "+String(Q-j));console.log("Fill areas: "+String(H-Q))}return W}();
function l5(){}l5.axd=function(W){var q=[g.Ni(W[0]),g.Ni(W[1]),g.Ni(W[2]),0];return g.Id.Z2(g.Id.aeL,q)};
l5.alX=function(W){var q=g.Id.Z2(g.Id.Ck,W);return[g.Kz(q[0]),g.Kz(q[1]),g.Kz(q[2])]};l5.b6=function(W,q){var X={},k=5003,B=1667,U=25e3,l=57.4,K=16.1,D=1.8,m=0,Y=1.54,a=.75,x=0;
if(q>0){W-=q/100*4}if(W<0){K=22.54;l=80.36;Y=.756}if(q>0){D=1.3;a=.2}var p=Math.min(k+l*W,U),M=Math.max(k-K*W,B);
if(W<0){p=Math.max(k+K*W,B);M=Math.min(k-l*W,U)}if(W>0){if(W<=14){x=(W-1)/13*.075+.025}else if(W<=29){x=.1}else if(W<=60){x=.1-.1*(W-29)/(60-29)}else{var R=W-60;
m=-20*(R/40);x=-.3*(R/40)}}else{if(W<-60){var R=W+60;m=-20*(R/40)}}var y=Math.abs(W)/100*Y+Math.abs(q)/100*a+x,s=-(q*D+m),F=hi.oN(p,-s),E=hi.H1(F),o=hi.oN(M,0),G=hi.H1(o),d=hi.aCb(E,G);
X.aJ_=y;X.aow=d;if(W==0&&q==0)X.agk=!0;else X.agk=!1;return X};l5.aIR=function(W,q,X,k){if(k.agk){return[W,q,X]}var B=this.axd([W,q,X]),U=B[0],l=B[1],K=B[2],D=l+1e-12,m=[U/D,l/D,K/D,0],Y=g.Id.Z2(k.aow,m),a=0,p=.4;
Y[0]*=D;Y[1]*=D;Y[2]*=D;if(D>p)a=1/(1-p)*(D-p);B[0]=(1-a)*Y[0]+a*U;B[1]=(1-a)*Y[1]+a*l;B[2]=(1-a)*Y[2]+a*K;
return this.alX(B)};g.anz={eC:function(W,q){var N=W.length;W.push(q);var X=N>>>1;while(X!=0&&W[N][0]<W[X][0]){var k=W[N];
W[N]=W[X];W[X]=k;N=X;X=N>>>1}},Lo:function(W){if(W.length==2)return W.pop();var top=W[1],N=1;W[1]=W.pop();
var q=W.length;while(!0){var X=N<<1,k=X+1,B=N;if(X<q&&W[X][0]<W[B][0])B=X;if(k<q&&W[k][0]<W[B][0])B=k;
if(B==N)break;var U=W[N];W[N]=W[B];W[B]=U;N=B}return top},a0c:function(W){for(var N=1;N<W.length;N++){var q=N,X=1e9;
while(q!=0){var k=W[q][0];if(k>X){console.log(N);throw"e"}X=k;q=q>>>1}}}};g.v={};g.v._G=new Float64Array(256);
g.v.rJ=new Uint8Array(256*256);g.v.a80=new Uint8Array(256*256);(function(){for(var N=0;N<256;N++)g.v._G[N]=255/N;
for(var N=0;N<256;N++)for(var W=0;W<256;W++)g.v.rJ[N*256+W]=N==0?0:Math.round(W*255/N);for(var N=0;N<256;
N++)for(var W=0;W<256;W++)g.v.a80[N*256+W]=Math.round(N*(255-W)/255)}());g.v.HX=function(W,q,X,k,B,U,l,K){if(K==null)K=dx.$V();
var D=g.Oj(q instanceof Array?q[0]:q);if(D!=g.Oj(k))throw"e";if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(W)==-1){l=l*K.fill;
K.fill=1;K.style=!1}var m="norm,dark,mul ,idiv,lbrn,lite,scrn,div ,lddg,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv".split(","),Y="dkCl,lgCl,hue ,sat ,colr,lum ".split(","),a=g.v[W+"F"];
if(D==8){if(K.cu==null&&W=="norm")g.v.a60(q,X,k,B,U,l,a,K.TP?1:0);else if(W=="diss")g.v.aa2(q,X,k,B,U,l,a,K.TP?1:0);
else if(m.indexOf(W)!=-1)g.v.a1W(q,X,k,B,U,l,a,K);else if(Y.indexOf(W)!=-1)g.v.ady(q,X,k,B,U,l,a,K)}else{if(W=="diss")g.v.adH(q,X,k,B,U,l,a,K.TP?1:0);
else if(m.indexOf(W)!=-1)g.v.axy(q,X,k,B,U,l,a,K);else if(Y.indexOf(W)!=-1)g.v.a46(q,X,k,B,U,l,a,K)}};
g.v.aqx=function(W,q,X){var k=W*X+1-X;return k<.001?0:1-Math.min(1,(1-q)/k)};g.v.aqd=function(W,q,X){return W*X==1?1:Math.min(1,q/(1-W*X))};
g.v.lB=function(W){return W<=.25?((16*W-12)*W+4)*W:Math.sqrt(W)};g.v.normF=function(W,q,X){return W};
g.v.darkF=function(W,q,X){return Math.min(W,q)};g.v["mul F"]=function(W,q,X){return W*q};g.v.idivF=function(W,q,X){var k=W*X+1-X;
return q==1?1:1-q>=k?0:1-(1-q)/k};g.v.lbrnF=function(W,q,X){return Math.max(0,W*X+q-X)};g.v.dkClF=function(W,q,X){var k=g.L2(W)<g.L2(q)?W:q;
X.o=k.o;X.L=k.L;X.X=k.X;return X};g.v.liteF=function(W,q,X){return Math.max(W,q)};g.v.scrnF=function(W,q,X){return q+W-q*W};
g.v["div F"]=function(W,q,X){W*=X;return q==0?0:q>=1-W?1:q/(1-W)};g.v.lddgF=function(W,q,X){W*=X;return Math.min(1,W+q)};
g.v.lgClF=function(W,q,X){var k=g.L2(W)>g.L2(q)?W:q;X.o=k.o;X.L=k.L;X.X=k.X;return X};g.v.overF=function(W,q,X){return g.v.hLitF(q,W,X)};
g.v.sLitF=function(W,q,X){return W<=.5?q-(1-2*W)*q*(1-q):q+(2*W-1)*(g.v.lB(q)-q)};g.v.hLitF=function(W,q,X){return W<=.5?g.v["mul F"](2*W,q,X):g.v.scrnF(2*W-1,q,X)};
g.v.vLitF=function(W,q,X){return W<=.5?g.v.aqx(2*W,q,X):g.v.aqd(2*W-1,q,X)};g.v.lLitF=function(W,q,X){return W<=.5?g.v.lbrnF(2*W,q,X):g.v.lddgF(2*W-1,q,X)};
g.v.pLitF=function(W,q,X){return W<=.5?g.v.darkF(2*W,q,X):g.v.liteF(2*W-1,q,X)};g.v.hMixF=function(W,q,X){if(X>.99)return W+q<1?0:1;
return Math.min(1,Math.max(0,(q+W*X-X)/(1-X+1e-6)))};g.v.diffF=function(W,q,X){W*=X;return Math.abs(W-q)};
g.v.smudF=function(W,q,X){return W+q-2*W*q};g.v.fsubF=function(W,q,X){return Math.max(q-W,0)};g.v.fdivF=function(W,q,X){return Math.min(q/W,1)};
g.v["hue F"]=function(W,q,X){g.v.Wg(W,g.mk(q),X);g.v.At(X,g.L2(q),X)};g.v["sat F"]=function(W,q,X){g.v.Wg(q,g.mk(W),X);
g.v.At(X,g.L2(q),X)};g.v.colrF=function(W,q,X){g.v.At(W,g.L2(q),X)};g.v["lum F"]=function(W,q,X){g.v.At(q,g.L2(W),X)};
g.v.At=function(W,q,X){var k=q-g.L2(W);X.o=W.o+k;X.L=W.L+k;X.X=W.X+k;g.v.a2S(X)};g.v.a2S=function(W){var q=W.o,X=W.L,k=W.X,B=g.jN(q,X,k),a1=Math.min(q,X,k),U=Math.max(q,X,k);
if(a1<0){var l=B/(B-a1);q=B+(q-B)*l;X=B+(X-B)*l;k=B+(k-B)*l}if(U>1){var l=(1-B)/(U-B);q=B+(q-B)*l;X=B+(X-B)*l;
k=B+(k-B)*l}W.o=q;W.L=X;W.X=k};g.v.Wg=function(W,q,X){var k=g.v.a4a,B=W.o,U=W.L,l=W.X;if(B==U&&U==l){X.o=X.L=X.X=0}else if(B>U){if(B>l){if(U>l){X.o=q;
X.L=k(B,U,l,q);X.X=0}else{X.o=q;X.X=k(B,l,U,q);X.L=0}}else{X.X=q;X.o=k(l,B,U,q);X.L=0}}else{if(B<l){if(U>l){X.L=q;
X.X=k(U,l,B,q);X.o=0}else{X.X=q;X.L=k(l,U,B,q);X.o=0}}else{X.L=q;X.o=k(U,B,l,q);X.X=0}}};g.v.a4a=function(W,q,X,k){return(q-X)*k/(W-X)};
g.v.a60=function(W,q,X,k,B,U,l,K){var D=q.x$(k).x$(B),m=Math.max(0,D.x-q.x),Y=Math.max(0,D.x-k.x),a=Math.max(0,D.y-q.y),p=Math.max(0,D.y-k.y),M=D.r,x=D.$,R=q.r,y=k.r,s=W instanceof Array,F=s?W[1]:null,E=new Uint32Array((s?W[0]:W).buffer),o=new Uint32Array(X.buffer),G=E[0]&16777215;
for(var N=0;N<x;N++){var d=(a+N)*R+m,u=(p+N)*y+Y;for(var r=0;r<M;r++){var v=s?G|F[d+r]<<24:E[d+r],J=1;
if(v>>>24==0)continue;if(v>>>24==255&&U==1&&K==0){o[u+r]=v;continue}var c=o[u+r],V=v&255,j=v>>>8&255,Q=v>>>16&255,H=c&255,T=c>>>8&255,e=c>>>16&255,z=U,P=(c>>>24)*(1/255);
if(K==0){z=(v>>>24)*U*(1/255);J=P}var L=J*(1-z),A=z+L,h=1/A;o[u+r]=~~(.5+(K*P+(1-K)*A)*255)<<24|~~(.5+(Q*z+e*L)*h)<<16|~~(.5+(j*z+T*L)*h)<<8|~~(.5+(V*z+H*L)*h)}}};
g.v.ak8=function(W,q,X,k,B,U){var l=q.x$(k).x$(B),K=Math.max(0,l.x-q.x),D=Math.max(0,l.x-k.x),m=Math.max(0,l.y-q.y),Y=Math.max(0,l.y-k.y),a=l.r,p=l.$,M=q.r,x=k.r,R=g.v.rJ,y=g.v.a80,s=new Uint32Array(W.buffer),F=new Uint32Array(X.buffer),E=Math.floor(Math.random()*16777215),o=0;
for(var N=0;N<p;N++){var G=(m+N)*M+K,d=(Y+N)*x+D;for(var u=0;u<a;u++){var r=s[G+u];if(r>>>24==0)continue;
if(r>>24==255&&U==1){F[d+u]=r;continue}var v=F[d+u],c=(r>>>24)*U*(1/255),V=(v>>>24)*(1/255),j=V*(1-c),Q=c+j,H=r&255,T=r>>>8&255,e=r>>>16&255,z=v&255,J=v>>>8&255,P=v>>>16&255;
o>>>=8;if((u&3)==0)o=g.v.es(d+u+E);var L=Q==0?0:1/Q,A=Math.floor(Q*(256*255))+(o&255)>>>8,h=Math.floor((e*c+P*j)*L+.5),C=Math.floor((T*c+J*j)*L+.5),w=Math.floor((H*c+z*j)*L+.5);
F[d+u]=A<<24|h<<16|C<<8|w}}};g.v.kL=function(W,q,X,k,B,U,l,K){var D=g.jN(W,q,X),m=g.jN(k,B,U),Y=Math.min,a=g.v.a2f,p=a(D,K,0);
p=Y(p,a(W,K,8));p=Y(p,a(q,K,16));p=Y(p,a(X,K,24));var M=a(m,K,4);M=Y(M,a(k,K,12));M=Y(M,a(B,K,20));M=Y(M,a(U,K,28));
M=Math.max(M,1-l);var x=Math.min(p,M);return x<0?0:x>1?1:x};g.v.a2f=function(W,q,N){return Math.min((W-q[N])*q[N+1],(W-q[N+3])*q[N+2])};
g.v.FV=function(W){return~~(W+.5)};g.v.a1W=function(W,q,X,k,B,U,l,K){var D=1/255,m=D*U,Y=g.v.FV,a=K.TP?1:0,p=K.fill,M=K.style,x=q.x$(k).x$(B),R=Math.max(0,x.x-q.x),y=Math.max(0,x.x-k.x),s=Math.max(0,x.y-q.y),F=Math.max(0,x.y-k.y),E=x.r,o=x.$,G=q.r,d=k.r,u=W instanceof Array,r=u?W[1]:null,v=new Uint32Array((u?W[0]:W).buffer),c=new Uint32Array(X.buffer),V=v[0]&16777215;
for(var N=0;N<o;N++){var j=(s+N)*G+R,Q=(F+N)*d+y;for(var H=0;H<E;H++,j++,Q++){var T=u?V|r[j]<<24:v[j],w=1;
if(T>>>24==0)continue;var e=c[Q],z=(T&255)*D,J=(T>>>8&255)*D,P=(T>>>16&255)*D,L=(e&255)*D,A=(e>>>8&255)*D,h=(e>>>16&255)*D,C=U;
if(a==0){C=(T>>>24)*m;w=(e>>>24)*D}if(K.cu)C*=g.v.kL(z,J,P,L,A,h,w,K.cu);var f=w*(1-C),O=C+f,n=O==0?0:255/O,$=M?1:C,d9=((1-w)*C*z+(1-$)*w*L+$*w*l(z,L,(1+C-$)*p))*n,i=((1-w)*C*J+(1-$)*w*A+$*w*l(J,A,(1+C-$)*p))*n,dF=((1-w)*C*P+(1-$)*w*h+$*w*l(P,h,(1+C-$)*p))*n;
O=C*p+w*(1-C*p);c[Q]=Y(a*(e>>>24)+(1-a)*Y(O*255))<<24|Y(dF)<<16|Y(i)<<8|Y(d9)}}};g.v.axy=function(W,q,X,k,B,U,l,K){var D=g.Oj(X),m=D==32?1:D==16?65535:255,Y=1/m,a=K.TP?1:0,p=K.fill,M=K.style,x=g.v.FV,R=q.x$(k).x$(B),y=Math.max(0,R.x-q.x),s=Math.max(0,R.x-k.x),F=Math.max(0,R.y-q.y),E=Math.max(0,R.y-k.y),o=R.r,G=R.$,d=q.r,u=k.r,r=W instanceof Array,v=r?W[1]:null;
if(r)W=W[0];for(var N=0;N<G;N++){var c=(F+N)*d+y,V=(E+N)*u+s;for(var j=0;j<o;j++,c++,V++){var Q=r?0:c*4,H=V*4,T=W[Q]*Y,e=W[Q+1]*Y,z=W[Q+2]*Y,J=(r?v[c]:W[Q+3])*Y*U;
if(J==0)continue;var P=X[H]*Y,L=X[H+1]*Y,A=X[H+2]*Y,h=X[H+3]*Y;if(K.cu)J*=g.v.kL(T,e,z,P,L,A,h,K.cu);
var C=h*(1-J),w=J+C,f=w==0?0:m/w,O=M?1:J,n=((1-h)*J*T+(1-O)*h*P+O*h*l(T,P,(1+J-O)*p))*f,$=((1-h)*J*e+(1-O)*h*L+O*h*l(e,L,(1+J-O)*p))*f,d9=((1-h)*J*z+(1-O)*h*A+O*h*l(z,A,(1+J-O)*p))*f;
w=J*p+h*(1-J*p);if(D==16){X[H]=x(n);X[H+1]=x($);X[H+2]=x(d9);X[H+3]=x(a*X[H+3]+(1-a)*(w*m))}else{X[H]=n;
X[H+1]=$;X[H+2]=d9;X[H+3]=a*X[H+3]+(1-a)*(w*m)}}}};g.v.ady=function(W,q,X,k,B,U,l,K){var D=1/255,m=D*U,Y=K.TP?1:0,a=q.x$(k).x$(B),p=Math.max(0,a.x-q.x),M=Math.max(0,a.x-k.x),x=Math.max(0,a.y-q.y),R=Math.max(0,a.y-k.y),y=a.r,s=a.$,F=W instanceof Array,E=F?W[1]:null,o=new Uint32Array((F?W[0]:W).buffer),G=new Uint32Array(X.buffer),d=o[0]&16777215,u={o:0,L:0,X:0},r={o:0,L:0,X:0},v={o:0,L:0,X:0};
for(var N=0;N<s;N++){var c=(x+N)*q.r+p,V=(R+N)*k.r+M;for(var j=0;j<y;j++,c++,V++){var Q=F?d|E[c]<<24:o[c],H=G[V],T=(Q&255)*D,e=(Q>>>8&255)*D,z=(Q>>>16&255)*D,J=(H&255)*D,P=(H>>>8&255)*D,L=(H>>>16&255)*D,A=U,h=1;
if(Y==0){A=(Q>>>24)*m;h=(H>>>24)*D}if(K.cu)A*=g.v.kL(T,e,z,J,P,L,h,K.cu);var C=h*(1-A),w=A+C,f=255/w;
u.o=T;u.L=e;u.X=z;r.o=J;r.L=P;r.X=L;l(u,r,v);var O=(((1-h)*T+h*v.o)*A+J*C)*f,n=(((1-h)*e+h*v.L)*A+P*C)*f,$=(((1-h)*z+h*v.X)*A+L*C)*f,d9=Y*(H>>>24)+(1-Y)*Math.round(w*255);
G[V]=d9<<24|$<<16|n<<8|O}}};g.v.a46=function(W,q,X,k,B,U,l,K){var D=g.Oj(X),m=D==32?1:D==16?65535:255,Y=1/m,a=K.TP?1:0,p=q.x$(k).x$(B),M=Math.max(0,p.x-q.x),x=Math.max(0,p.x-k.x),R=Math.max(0,p.y-q.y),y=Math.max(0,p.y-k.y),s=p.r,F=p.$,E={o:0,L:0,X:0},o={o:0,L:0,X:0},G={o:0,L:0,X:0},d=W instanceof Array,u=d?W[1]:null;
if(d)W=W[0];for(var N=0;N<F;N++){var r=(R+N)*q.r+M,v=(y+N)*k.r+x;for(var c=0;c<s;c++,r++,v++){var V=d?0:r*4,j=v*4,Q=W[V]*Y,H=W[V+1]*Y,T=W[V+2]*Y,L=1;
if(W[V+3]==0)continue;var e=X[j]*Y,z=X[j+1]*Y,J=X[j+2]*Y,P=U;if(a==0){P=(d?u[r]:W[V+3])*Y*U;L=X[j+3]*Y}if(K.cu)P*=g.v.kL(Q,H,T,e,z,J,L,K.cu);
var A=L*(1-P),h=P+A,C=m/h;E.o=Q;E.L=H;E.X=T;o.o=e;o.L=z;o.X=J;l(E,o,G);X[j]=(((1-L)*Q+L*G.o)*P+e*A)*C;
X[j+1]=(((1-L)*H+L*G.L)*P+z*A)*C;X[j+2]=(((1-L)*T+L*G.X)*P+J*A)*C;X[j+3]=a*X[j+3]+(1-a)*Math.round(h*m)}}};
g.v.An=function(W){W=W^61^W>>>16;W=W+(W<<3);W=W^W>>>4;W=W*668265261;W=W^W>>15;return(W&16777215)*(1/16777215)};
g.v.es=function(W){W=W^61^W>>>16;W=W+(W<<3);W=W^W>>>4;W=W*668265261;W=W^W>>>15;return W};g.v.rO=function(W){this.g_=W};
g.v.rO.prototype.get=function(){var W=this.g_=g.v.es(this.g_);return(W&16777215)*(1/16777215)};g.v.aa2=function(W,q,X,k,B,U,l,K){var D=Math.round(U*(256*256*256/255)),m=q.x$(k).x$(B),Y=Math.max(0,m.x-q.x),a=Math.max(0,m.x-k.x),p=Math.max(0,m.y-q.y),M=Math.max(0,m.y-k.y),x=m.r,R=m.$,y=W instanceof Array,s=y?W[1]:null,F=new Uint32Array((y?W[0]:W).buffer),E=new Uint32Array(X.buffer),o=F[0]&16777215;
for(var N=0;N<R;N++){var G=(p+N)*q.r+Y,d=(M+N)*k.r+a;for(var u=0;u<x;u++,G++,d++){var r=y?o|s[G]<<24:F[G],v=E[d],c=K*255+(1-K)*(r>>>24);
if((g.v.es(G)&16777215)>=c*D)continue;E[d]=r&16777215|K*(v>>>24)+(1-K)*255<<24}}};g.v.adH=function(W,q,X,k,B,U,l,K){var D=g.Oj(X),m=D==32?1:D==16?65535:255,Y=1/m,a=q.x$(k).x$(B),p=Math.max(0,a.x-q.x),M=Math.max(0,a.x-k.x),x=Math.max(0,a.y-q.y),R=Math.max(0,a.y-k.y),y=a.r,s=a.$,F=W instanceof Array,E=F?W[1]:null;
if(F)W=W[0];for(var N=0;N<s;N++){var o=(x+N)*q.r+p,G=(R+N)*k.r+M;for(var d=0;d<y;d++,o++,G++){var u=F?0:o*4,r=G*4,v=(F?E[o]:W[u+3])*Y,c=X[r+3]*Y;
v=K+(1-K)*v;if((g.v.es(o)&255)*(1/255)>=v*U)continue;X[r]=W[u];X[r+1]=W[u+1];X[r+2]=W[u+2];X[r+3]=(K*c+(1-K))*m}}};
g.v.ax_=function(W,q,X){for(var N=0;N<W.length;N+=4){var k=X[N>>>2];if(k==0)continue;var B=k*(1/255),U=1/B,l=q[N],K=q[N+1],D=q[N+2],m=W[N],Y=W[N+1],a=W[N+2];
q[N]=Math.min(255,Math.max(0,Math.round((l-(1-B)*m)*U)));q[N+1]=Math.min(255,Math.max(0,Math.round((K-(1-B)*Y)*U)));
q[N+2]=Math.min(255,Math.max(0,Math.round((D-(1-B)*a)*U)));q[N+3]=255}};g.v.lE=function(W,q,X,k,B,U,l,K,D,m,Y){if(m==null)m=!1;
var a=g.Oj(W),p=a==8?255:a==16?65535:1;if(B&&B.length==U.C()*4){var M=g.j(U.C(),a);g.u6(B,M,3);B=M}if(B&&!q.AB(U)){var x=g.j(q.C(),a);
x.fill(p*l/255);g.Z_(B,U,x,q);B=x;U=q}if(a==8){if(Y==null)Y=[1,1,1];var R=255<<24|Y[2]*16711680|Y[1]*65280|Y[0]*255,y=~R;
if(m){if(B==null)g.v.aAU(W,q,X,k,B,K,D,R,y);else g.v.ap$(W,q,X,k,B,K,D)}else{if(B==null)g.v.aru(W,q,X,k,B,K,D,R,y);
else g.v.as1(W,q,X,k,B,K,D)}}else{if(Y&&Y.join(",")!="1,1,1")throw"e";if(m)g.v.aHh(W,q,X,k,B,K,D);else g.v.aAs(W,q,X,k,B,K,D)}};
g.v.aru=function(W,q,X,k,B,U,l,K,D){var m=1/255,Y=q.x$(k).x$(U),a=Math.max(0,Y.x-q.x),p=Math.max(0,Y.x-k.x),M=Math.max(0,Y.y-q.y),x=Math.max(0,Y.y-k.y),R=Y.r,y=Y.$,s=new Uint32Array(W.buffer),F=new Uint32Array(X.buffer),E=g.v.rJ,o=l*255&255;
for(var N=0;N<y;N++){var G=(M+N)*q.r+a,d=(x+N)*k.r+p;for(var u=0;u<R;u++,G++,d++){var r=s[G],v=F[d],c=r>>>24,V=v>>>24,j=g.NO(o*c+(255-o)*V),Q=g.NO(c*o),H=g.NO(V*(255-o)),T=r&255,e=r>>>8&255,z=r>>>16&255,J=v&255,P=v>>>8&255,L=v>>>16&255,A=Q*T+J*H,h=Q*e+P*H,C=Q*z+L*H;
A=E[j<<8|g.NO(A)];h=E[j<<8|g.NO(h)];C=E[j<<8|g.NO(C)];var w=j<<24|C<<16|h<<8|A;F[d]=D&v|K&w}}};g.v.aAU=function(W,q,X,k,B,U,l,K,D){var m=1/255,Y=q.x$(k).x$(U),a=Math.max(0,Y.x-q.x),p=Math.max(0,Y.x-k.x),M=Math.max(0,Y.y-q.y),x=Math.max(0,Y.y-k.y),R=Y.r,y=Y.$,s=new Uint32Array(W.buffer),F=new Uint32Array(X.buffer),E=g.v.rJ,o=l*16777215&16777215;
for(var N=0;N<y;N++){var G=(M+N)*q.r+a,d=(x+N)*k.r+p;for(var u=0;u<R;u++,G++,d++){if((g.v.es(G)&16777215)<o){F[d]=D&F[d]|K&s[G]}}}};
g.v.aAs=function(W,q,X,k,B,U,l){var K=g.Oj(W),D=K==8?255:K==16?65535:1,m=1/D,Y=q.x$(k).x$(U),a=Math.max(0,Y.x-q.x),p=Math.max(0,Y.x-k.x),M=Math.max(0,Y.y-q.y),x=Math.max(0,Y.y-k.y),R=Y.r,y=Y.$;
for(var N=0;N<y;N++){var s=(M+N)*q.r+a,F=(x+N)*k.r+p;for(var E=0;E<R;E++,s++,F++){var o=(B?B[s]*m:1)*l,G=s*4,d=F*4,u=W[G+3]*m,r=X[d+3]*m,v=u*o,c=r*(1-o),V=v+c,j=V==0?0:D/V,Q=W[G]*m,H=W[G+1]*m,T=W[G+2]*m,e=X[d]*m,z=X[d+1]*m,J=X[d+2]*m;
X[d]=(v*Q+c*e)*j;X[d+1]=(v*H+c*z)*j;X[d+2]=(v*T+c*J)*j;X[d+3]=D*V}}};g.v.as1=function(W,q,X,k,B,U,l){var K=1/255,D=q.x$(k).x$(U),m=Math.max(0,D.x-q.x),Y=Math.max(0,D.x-k.x),a=Math.max(0,D.y-q.y),p=Math.max(0,D.y-k.y),M=D.r,x=D.$,R=new Uint32Array(W.buffer),y=new Uint32Array(X.buffer),s=g.v.rJ;
for(var N=0;N<x;N++){var F=(a+N)*q.r+m,E=(p+N)*k.r+Y;for(var o=0;o<M;o++,F++,E++){var G=B[F]*l&255;if(G==0)continue;
if(G==255){y[E]=R[F];continue}var d=R[F],u=y[E],r=d>>>24,v=u>>>24,c=g.NO(G*r+(255-G)*v),V=g.NO(r*G),j=g.NO(v*(255-G)),Q=d&255,H=d>>>8&255,T=d>>>16&255,e=u&255,z=u>>>8&255,J=u>>>16&255,P=s[c<<8|g.NO(V*Q+e*j)],L=s[c<<8|g.NO(V*H+z*j)],A=s[c<<8|g.NO(V*T+J*j)];
y[E]=c<<24|A<<16|L<<8|P}}};g.v.aHh=function(W,q,X,k,B,U,l){var K=g.Oj(W),D=K==8?255:K==16?65535:1,m=1/D,Y=q.x$(k).x$(U),a=Math.max(0,Y.x-q.x),p=Math.max(0,Y.x-k.x),M=Math.max(0,Y.y-q.y),x=Math.max(0,Y.y-k.y),R=Y.r,y=Y.$,s=l*m*65535;
for(var N=0;N<y;N++){var F=(M+N)*q.r+a,E=(x+N)*k.r+p;for(var o=0;o<R;o++,F++,E++){var G=B[F];if((g.v.es(F)&65535)<G*s){var d=F*4,u=E*4;
X[u]=W[d];X[u+1]=W[d+1];X[u+2]=W[d+2];X[u+3]=W[d+3]}}}};g.v.ap$=function(W,q,X,k,B,U,l){var K=1/255,D=q.x$(k).x$(U),m=Math.max(0,D.x-q.x),Y=Math.max(0,D.x-k.x),a=Math.max(0,D.y-q.y),p=Math.max(0,D.y-k.y),M=D.r,x=D.$,R=new Uint32Array(W.buffer),y=new Uint32Array(X.buffer),s=g.v.rJ,F=Math.round(l*257);
for(var N=0;N<x;N++){var E=(a+N)*q.r+m,o=(p+N)*k.r+Y;for(var G=0;G<M;G++,E++,o++){var d=B[E]*F;if((g.v.es(E)&65535)<d)y[o]=R[E]}}};
g.v.abp=function(W,q,X,k,B,U,l){var K=1/255,D=q.x$(k).x$(U),m=Math.max(0,D.x-q.x),Y=Math.max(0,D.x-k.x),a=Math.max(0,D.y-q.y),p=Math.max(0,D.y-k.y),M=D.r,x=D.$,R=new Uint32Array(W.buffer),y=new Uint32Array(X.buffer),s=Math.floor(Math.random()*k.C()),F=g.v.aDn;
for(var N=0;N<x;N++){var E=(a+N)*q.r+m,o=(p+N)*k.r+Y;for(var G=0;G<M;G++){var d=B[E+G]*l;if(d==0)continue;
if(d==255){y[o+G]=R[E+G];continue}var u=R[E+G],r=y[o+G],v=u>>>24,c=r>>>24,V=v*d*(1/255),j=c*(255-d)*(1/255),Q=u&255,H=u>>>8&255,T=u>>>16&255,e=r&255,z=r>>>8&255,J=r>>>16&255,P=g.v.es(o+G+s),L=Math.floor((V+j)*256+.5)+(P>>>0&255)>>>8,A=L==0?0:256/(V+j),h=Q*V+e*j,C=H*V+z*j,w=T*V+J*j,f=Math.floor(h*A+.5)+(P>>>8&255)>>>8,O=Math.floor(C*A+.5)+(P>>>16&255)>>>8,n=Math.floor(w*A+.5)+(P>>>24&255)>>>8;
y[o+G]=L<<24|n<<16|O<<8|f}}};g.v.aDn=function(W){return Math.floor(W+Math.random())};g.v.Ot=function(W,q,X,k,B,U,l){var K=1/g.bH(g.Oj(W)),D=q.x$(k).x$(U),m=Math.max(0,D.x-q.x),Y=Math.max(0,D.x-k.x),a=Math.max(0,D.y-q.y),p=Math.max(0,D.y-k.y),M=D.r,x=D.$;
for(var N=0;N<x;N++){var R=(a+N)*q.r+m,y=(p+N)*k.r+Y;for(var s=0;s<M;s++,R++,y++){var F=l*B[R]*K;if(F==0)continue;
if(F==1){X[y]=W[R];continue}X[y]=W[R]*F+X[y]*(1-F)}}};g.aBf=function(){function W(U){var l=U*.85;return Math.exp(-(l*l)*(1/(2*.4*.4)))*(1/(.4*Math.sqrt(2*Math.PI)))}function q(U,l){var K=U<l?1:W((U-l)/Math.pow(1.001-l,.86));
return K}var X=[];function k(U){if(X[U])return X[U];var l=Math.pow(U,.55),K=new Float64Array(8e3),D=0,m=8e3;
for(var N=0;N<8e3;N++){var Y=q(N*(1.55/4e3),l);if(Y>=1)D=N;else if(Y<=0&&m==8e3)m=N;K[N]=Y}var a=[K,D,m];
X[U]=a;return a}function B(U,l,K){if(U<4)l=1;var D=1+.55*(1-l),m=Math.round(K*U*D)+2,Y=new dU(0,0,m,m),a=g.j(m*m),p=[a,Y],M=m/2,x=D/(M-1);
if(U==2)x*=2;if(U==3)x*=1.6;var R=Date.now(),y=k(l),s=Math.round(8e3/M),F=y[0],E=y[1]-s,o=y[2]+s,G=Math.min(m,m+1>>>1),d=x*.4*(4e3/1.55),u=g.j(8e3);
for(var N=0;N<8e3;N++){var r=N,v=N,c=~~Math.max(0,r-d-d),V=~~Math.max(0,r-d),j=~~Math.min(7999,r+d),Q=~~Math.min(7999,r+d+d),H=~~(.5+255*(1/5)*(F[v]+F[c]+F[V]+F[j]+F[Q]));
u[N]=H;if(H==0)break}for(var N=0;N<G;N++){var T=x*(N-M+.5),e=T*T,z=N*m,J=(m-1-N)*m;for(var P=0;P<G;P++){var L=x*(P-M+.5),v=~~(Math.sqrt(L*L+e)*(4e3/1.55));
if(o<v)continue;else if(v<E){var H=255;while(P<G){var A=m-1-P;a[z+P]=H;a[z+A]=H;a[J+P]=H;a[J+A]=H;P++}break}else{var H=u[v],A=m-1-P;
a[z+P]=H;a[z+A]=H;a[J+P]=H;a[J+A]=H}}}return p}return{a1V:B}}();g.CK={};g.CK.aB7=function(W,q,X,k,B,U){g.CK.na(W,q,X,k,B,U,null,0)};
g.CK.aao=function(W,q,X,k,B){g.CK.na(W,q,X,k,B,null,null,0)};g.CK.axK=function(W,q,X,k,B,U,l,K){g.CK.na(W,q,X,k,B,null,U,l*.5,K)};
g.CK.na=function(W,q,X,k,B,U,l,K,D){var m=0,h=0,C=1e9,w=0,f=1e9,O=0,n=1e9,$=0,d9=0,c=0,i=0;if(U){m=B*.5;
B=3+Math.round((B-3)*.75)}if(l){B=Math.round(B*2.2)}if(D==null)D=Math.floor(Math.random()*16777215);
var Y=new g.v.rO(D*q&16777215),a=1/B,p=Math.floor(q*a)+1,M=Math.floor(X*a)+1,x=[],R=new Uint8Array(p*M*4),y=l?.5:1,s=U?64:0,F=B>>>1;
for(var E=0;E<M;E++){var o=l?.5*(E&1):0;for(var G=0;G<p;G++){var d=(G+Y.get()*y+o)*B,u=(E+Y.get()*y)*B;
x.push(d,u);var r=Math.min(q-1,Math.floor(d)),v=Math.min(X-1,Math.floor(u));for(var c=0;c<F;c+=2){var V=Math.max(0,r-c),j=Math.min(q-1,r+c),Q=Math.max(0,v-c),H=Math.min(X-1,v+c);
for(var T=Q;T<=H;T++)for(var e=V;e<=j;e++){var N=(T*q+e)*4;if(W[N+3]>64){r=e;v=T;e=T=c=1e9}}}var z=(v*q+r)*4,J=(E*p+G)*4;
for(var N=0;N<4;N++)R[J+N]=Math.max(0,Math.min(255,Math.floor(W[z+N]+(Y.get()-.5)*s)))}}var P=U?U:l?l:[0,0,0],L=p*M*2,A=[-p-1,-p,-p+1,-1,0,1,p-1,p,p+1];
for(var E=0;E<X;E++){c=0;for(var G=0;G<q;G++){var V=G+.5,Q=E+.5,dF=Math.floor(Q*a),t=Math.floor(V*a),im=dF*p+t,l9=0,fF=0;
if(c>1+K){C=g.CK.a4F(x,h,V,Q);$=Math.sqrt(C);c--;i++}else{C=f=n=1e9;for(var N=0;N<A.length;N++){var bc=(im+A[N])*2;
if(bc<0||bc>=L)continue;var at=g.CK.a4F(x,bc,V,Q);if(at<n){if(at<f){if(at<C){O=w;n=f;w=h;f=C;h=bc;C=at}else{O=w;
n=f;w=bc;f=at}}else{O=bc;n=at}}}$=Math.sqrt(C);d9=Math.sqrt(f);c=d9-($+d9)*.5}if(l==null){var g$=($+d9)*.5,fR=U?Math.max(0,g$-m):0;
l9=Math.max(0,Math.min(1,.5+g$-$-fR));fF=Math.max(0,Math.min(1,1-(.5+g$-$)-fR))}else{var cr=Math.min(g.CK.as_(x,h,w,V,Q),g.CK.as_(x,h,O,V,Q));
l9=Math.max(0,Math.min(1,cr-K*.5));if(V<K||q-K<V||Q<K||X-K<Q)l9=0;fF=0}var eE=1-fF-l9,J=E*q+G<<2,bQ=h<<1,hT=w<<1;
k[J+0]=Math.floor(.5+l9*R[bQ+0]+fF*R[hT+0]+eE*P[0]);k[J+1]=Math.floor(.5+l9*R[bQ+1]+fF*R[hT+1]+eE*P[1]);
k[J+2]=Math.floor(.5+l9*R[bQ+2]+fF*R[hT+2]+eE*P[2]);k[J+3]=W[J+3]}}};g.CK.a4F=function(W,q,X,k){var B=X-W[q],U=k-W[q+1];
return B*B+U*U};g.CK.as_=function(W,q,X,k,B){var U=W[q],l=W[q+1],K=W[X],D=W[X+1],m=(U+K)*.5,Y=(l+D)*.5,a=m+(D-l),p=Y-(K-U),M=p-Y,x=a-m;
return Math.abs(M*k-x*B+a*Y-p*m)/Math.sqrt(x*x+M*M)};g.Zt=function(){var W=g.j(0);function q(x){if(W.length<x)W=g.j(x);
return W}function X(x,a1){var R=Math.sqrt(12*x*x/a1+1),y=Math.floor(R);if(y%2==0)y--;var s=y+2,F=(12*x*x-a1*y*y-4*a1*y-3*a1)/(-4*y-4),E=Math.round(F),o=[];
for(var N=0;N<a1;N++)o.push(N<E?y:s);return o}function k(x,R,y,s){var F=g.j(R*y,g.Oj(x));for(var N=0;
N<4;N++){g.u6(x,F,N);B(F,R,y,s);g.fP(F,x,N)}}function B(x,R,y,s){var F=g.Oj(x);for(var E=0;E<s.length;
E++){if(F==8)U(x,R,y,s[E]-1>>1);if(F==16)l(x,R,y,s[E]-1>>1);if(F==32)K(x,R,y,s[E]-1>>1)}}function U(x,R,y,s){var F=q(R*y);
D(x,F,R,y,s);a(F,x,R,y,s)}function l(x,R,y,s){var F=new Uint16Array(q(R*y*2).buffer);m(x,F,R,y,s);p(F,x,R,y,s)}function K(x,R,y,s){var F=new Float32Array(q(R*y*4).buffer);
Y(x,F,R,y,s);M(F,x,R,y,s)}function D(x,R,y,s,F){var E=1/(F+F+1),o=y-F-F-1;for(var N=0;N<s;N++){var G=N*y,d=G,u=G+F,r=x[G],v=x[G+y-1],c=(F+1)*r;
for(var V=0;V<F;V++)c+=x[G+V];for(var V=0;V<=F;V++){c+=x[u+V]-r;R[G+V]=c*E}u+=F+1;G+=F+1;for(var V=0;
V<o;V++){c+=x[u+V]-x[d+V];R[G+V]=c*E}u+=o;d+=o;G+=o;for(var V=y-F;V<y;V++){c+=v-x[d++];R[G++]=c*E}}}function m(x,R,y,s,F){var E=1/(F+F+1),o=y-F-F-1;
for(var N=0;N<s;N++){var G=N*y,d=G,u=G+F,r=x[G],v=x[G+y-1],c=(F+1)*r;for(var V=0;V<F;V++)c+=x[G+V];for(var V=0;
V<=F;V++){c+=x[u+V]-r;R[G+V]=c*E}u+=F+1;G+=F+1;for(var V=0;V<o;V++){c+=x[u+V]-x[d+V];R[G+V]=c*E}u+=o;
d+=o;G+=o;for(var V=y-F;V<y;V++){c+=v-x[d++];R[G++]=c*E}}}function Y(x,R,y,s,F){var E=1/(F+F+1),o=y-F-F-1;
for(var N=0;N<s;N++){var G=N*y,d=G,u=G+F,r=x[G],v=x[G+y-1],c=(F+1)*r;for(var V=0;V<F;V++)c+=x[G+V];for(var V=0;
V<=F;V++){c+=x[u+V]-r;R[G+V]=c*E}u+=F+1;G+=F+1;for(var V=0;V<o;V++){c+=x[u+V]-x[d+V];R[G+V]=c*E}u+=o;
d+=o;G+=o;for(var V=y-F;V<y;V++){c+=v-x[d++];R[G++]=c*E}}}function a(x,R,y,s,F){var E=1/(F+F+1),o=s-F-F-1;
for(var N=0;N<y;N++){var G=N,d=G,u=G+F*y,r=x[G],v=x[G+y*(s-1)],c=(F+1)*r;for(var V=0;V<F;V++)c+=x[G+V*y];
for(var V=0;V<=F;V++){c+=x[u]-r;R[G]=c*E;u+=y;G+=y}for(var V=0;V<o;V++){var j=V*y;c+=x[u+j]-x[d+j];R[G+j]=c*E}d+=o*y;
u+=o*y;G+=o*y;for(var V=s-F;V<s;V++){c+=v-x[d];R[G]=c*E;d+=y;G+=y}}}function p(x,R,y,s,F){var E=1/(F+F+1),o=s-F-F-1;
for(var N=0;N<y;N++){var G=N,d=G,u=G+F*y,r=x[G],v=x[G+y*(s-1)],c=(F+1)*r;for(var V=0;V<F;V++)c+=x[G+V*y];
for(var V=0;V<=F;V++){c+=x[u]-r;R[G]=c*E;u+=y;G+=y}for(var V=0;V<o;V++){var j=V*y;c+=x[u+j]-x[d+j];R[G+j]=c*E}d+=o*y;
u+=o*y;G+=o*y;for(var V=s-F;V<s;V++){c+=v-x[d];R[G]=c*E;d+=y;G+=y}}}function M(x,R,y,s,F){var E=1/(F+F+1),o=s-F-F-1;
for(var N=0;N<y;N++){var G=N,d=G,u=G+F*y,r=x[G],v=x[G+y*(s-1)],c=(F+1)*r;for(var V=0;V<F;V++)c+=x[G+V*y];
for(var V=0;V<=F;V++){c+=x[u]-r;R[G]=c*E;u+=y;G+=y}for(var V=0;V<o;V++){var j=V*y;c+=x[u+j]-x[d+j];R[G+j]=c*E}d+=o*y;
u+=o*y;G+=o*y;for(var V=s-F;V<s;V++){c+=v-x[d];R[G]=c*E;d+=y;G+=y}}}return{Yd:function(x,R,y,s){B(x,R.r,R.$,X(y,s?s:3))},au1:function(x,R,y){k(x,R.r,R.$,X(y,3))},Aq:function(x,R,y){B(x,R.r,R.$,[Math.round(y)*2+1])},aGN:function(x,R,y){k(x,R.r,R.$,[Math.round(y)*2+1])},aB5:function(x,R,y){var s=R.r,F=R.$;
y=Math.round(y);var E=q(s*F),o=g.j(s*F);for(var N=0;N<4;N++){g.u6(x,o,N);D(o,E,s,F,y);g.fP(E,x,N)}},a4I:X}}();
g.UW=function(){var W=[];function q(P,L,A,h){var C=h.length,w=0,f=0,O=0;for(var N=0;N<C;N++){var n=h[N];
w=Math.max(w,n[2]);f=Math.max(f,n[0],L-n[0]);O=Math.max(O,n[1],A-n[1])}if(C==1){P.fill(255);return}if(C==2){var $=h[0],d9=h[1];
if($[2]<d9[2]){var i=$;$=d9;d9=i}var dF=$[0],t=$[1],im=d9[0]-dF,bc=-(d9[1]-t),at=Math.sqrt(bc*bc+im*im),l9=1/at;
bc/=at;im/=at;var fF=Math.round(255*Math.min($[2],d9[2])/w),g$=[];for(var N=0;N<1100;N++){var fR=Math.pow(N*.001,.82);
g$[N]=~~(.5+fR*fF+(1-fR)*255)}for(var cr=0;cr<A;cr++)for(var eE=0;eE<L;eE++){var i=(eE-dF)*bc+(cr-t)*im,bQ=dF+i*bc-eE,hT=t+i*im-cr,df=Math.sqrt(bQ*bQ+hT*hT),eV=0;
if(bQ*im-hT*bc>0)eV=255;else if(df>at)eV=fF;else eV=g$[~~(.5+1e3*df*l9)];P[cr*L+eE]=eV}return}var gU=Math.round((f*f+O*O)*.021),i8=W.length;
if(i8<gU)for(var N=i8;N<gU;N++)W[N]=1/(1e-6+Math.pow(.02*N,1.57));var bv=260/w;for(var cr=0;cr<A;cr++)for(var eE=0;
eE<L;eE++){var fE=0,d5=0;for(var N=0;N<C;N++){var aR=h[N],bc=eE-aR[0],im=cr-aR[1],df=W[~~(.02*(bc*bc+im*im))];
d5+=df*aR[2];fE+=df}P[cr*L+eE]=Math.min(~~(bv*d5/fE),255)}}var X=[];for(var N=0;N<1100;N++)X[N]=Math.pow(.5-.5*Math.cos(N/1e3*Math.PI),2);
function k(P,L,A,h){var C=B(h),w=1-h[10];for(var f=0;f<A;f++)for(var O=0;O<L;O++){var n=C.iM*O+C.bO*f+C.Wy,$=C.X*O+C.kv*f+C.rY,d9=Math.sqrt(n*n+$*$),i=d9<=w?0:d9>1?1:(d9-w)/(1-w);
P[f*L+O]=~~(.5+P[f*L+O]*X[~~(i*1e3)])}}function B(P){var L=P[0],A=P[1],h=P[2]-L,C=P[3]-A,w=P[6]-L,f=P[7]-A,O=Math.sqrt(h*h+C*C),n=Math.sqrt(w*w+f*f),$=new ka;
$.scale(O,n);$.rotate(Math.atan2(-C,h));$.translate(L,A);$.i5();$.translate(-.5,-.5);$.scale(2,2);return $}var U=[];
for(var N=0;N<1100;N++)U[N]=Math.pow(.5-.5*Math.cos(N/1e3*Math.PI),.8);function l(P,N,L){var A=P[N]-P[L],h=P[N+1]-P[L+1];
return Math.sqrt(A*A+h*h)}function K(P,L,A,h){var C=h[0],w=h[1],f=h[2]-C,O=-(h[3]-w),n=Math.sqrt(O*O+f*f);
O/=n;f/=n;var $=l(h,0,2),d9=l(h,0,4),i=l(h,0,6),dF=l(h,0,8);for(var t=0;t<A;t++)for(var im=0;im<L;im++){var bc=(im-C)*O+(t-w)*f,at=C+bc*O-im,l9=w+bc*f-t,fF=Math.sqrt(at*at+l9*l9),g$=0;
if(at*f-l9*O<0)g$=fF<i?0:fF>$?1:U[~~(1e3*(fF-i)/($-i))];else g$=fF<dF?0:fF>d9?1:U[~~(1e3*(fF-dF)/(d9-dF))];
P[t*L+im]=~~(.5+P[t*L+im]*g$)}}function D(P,L,A){var h=P[0],C=P[1],w=C[0]+C[1]+C[2]+C[3],$=!1;if(w==0)return[g.j(L*A),w];
var f=h[0],O=h[1],n=h[3];if($)console.log(f,O,n);var d9=Date.now(),i=g.j(L*A);i.fill(255);if(C[0]!=0)q(i,L,A,f);
if($)console.log(Date.now()-d9,"field done");d9=Date.now();var dF=g.j(L*A);dF.fill(255);if(C[1]!=0)for(var N=0;
N<O.length;N++)k(dF,L,A,O[N]);if($)console.log(Date.now()-d9,"iris done");d9=Date.now();var t=g.j(L*A);
t.fill(255);if(C[3]!=0)for(var N=0;N<n.length;N++)K(t,L,A,n[N]);if($)console.log(Date.now()-d9,"tilt done");
d9=Date.now();var im=C[0]/w,bc=C[1]/w,at=C[3]/w,l9=i,fF=L*A;for(var N=0;N<fF;N++){l9[N]=im*i[N]+bc*dF[N]+at*t[N]}return[l9,w]}function m(P,L,A,h,C){var w=Date.now(),f=new Uint32Array(5),O=g.ahV(P,L,A),n=C/255;
for(var $=0;$<A;$++)for(var d9=0;d9<L;d9++){var N=$*L+d9,i=N<<2,dF=h[N]*n,t=~~(dF*.948);if(t==0){continue}f[0]=0;
f[1]=0;f[2]=0;f[3]=0;f[4]=0;var im=~~(dF*.612);if(1<=d9-t&&d9+t+1<=L&&1<=$-t&&$+t+1<=A){var bc=d9-t,at=d9-im,l9=d9+im+1,fF=d9+t+1,g$=$-t,fR=$-im,cr=$+im+1,eE=$+t+1;
Y(O,L,at,l9,g$,fR,f);Y(O,L,bc,fF,fR,cr,f);Y(O,L,at,l9,cr,eE,f)}else{var bc=Math.max(1,d9-t),at=Math.max(1,d9-im),l9=Math.min(L,d9+im+1),fF=Math.min(L,d9+t+1),g$=Math.max(1,$-t),fR=Math.max(1,$-im),cr=Math.min(A,$+im+1),eE=Math.min(A,$+t+1);
Y(O,L,at,l9,g$,fR,f);Y(O,L,bc,fF,fR,cr,f);Y(O,L,at,l9,cr,eE,f)}if(f[4]!=0){var bQ=1/f[4];P[i]=Math.min(255,~~(f[0]*bQ));
P[i+1]=Math.min(255,~~(f[1]*bQ));P[i+2]=Math.min(255,~~(f[2]*bQ));P[i+3]=Math.min(255,~~(f[3]*bQ))}}}function Y(P,L,A,h,C,w,f){var O=(h-A)*(w-C);
if(0<O){g.a2d(P,A-1,h-1,(C-1)*L,(w-1)*L,f);f[4]+=O}}var a="GeneralBlur IrisBlur  LensTilt PathBlur WheelSpinBlur".split(" ");
function p(P){var L=[!1,!1,!1,!1,!1,!1];for(var N=0;N<6;N++){var A="blurb"+a[N]+"EffectApplied";if(P[A]&&P[A].v)L[N]=!0}return L}function M(P,L){for(var N=0;
N<6;N++){var A="blurb"+a[N]+"EffectApplied";P[A]={t:"bool",v:L[N]}}}var x=[];for(var R=0;R<6;R++){var y,s="blurbWidgetLocationX",F="blurbWidgetLocationY";
if(R==0)y=[s,F,"blurbGeneralBlurAmount"];if(R==1||R==5){var E="blurb"+(R==1?"IrisBlur":"WheelSpin"),o=E+"Corner",G=E+"Feather";
y=[o+"0x",o+"0y",o+"1x",o+"1y",o+"2x",o+"2y",o+"3x",o+"3y",s,F,G+"0",G+"1",G+"2",G+"3",R==1?E+"Amount":E+"BlurAmount"]}if(R==3){var E="blurbTiltShift",d=E+"InnerPoint",u=E+"OuterPoint";
y=[E+"CenterX",E+"CenterY",u+"1X",u+"1Y",u+"2X",u+"2Y",d+"1X",d+"1Y",d+"2X",d+"2Y",E+"BlurAmount"]}x.push(y)}function r(P,L){function A(l9,f){return{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:l9},Vrtc:{t:"doub",v:f}}}}var h=[];
for(var R=0;R<6;R++){var C=P[R],y=x[R];for(var N=0;N<C.length;N++){var w=C[N],f={classID:R==4?"blurbPathWidget":"blurbWidget",blurbWidgetEffectEnabled:{t:"bool",v:!1},blurbWidgetSelected:{t:"bool",v:!1},blurbWidgetType:{t:"long",v:R}};
h.push({t:"Objc",v:f});if(R==4){L.blurbPathBlurSpeed={t:"UntF",v:{type:"#Prc",val:C[0][4]*100}};var O=f.blurbPathPointList={t:"VlLs",v:[A(w[0],w[1]),A(w[5],w[6])]};
for(var n=0;n<2;n++){var $={classID:"blurbBezierKernel"};f["blurb"+(n==0?"Start":"End")+"BezierKernel"]={t:"Objc",v:$};
var d9=w[n*5],i=w[n*5+1],dF=w[n*5+2],t=w[n*5+3];$.blurbBezierKernelUIControlPoint=A((d9+dF)/2,(i+t)/2);
var im=dF-d9,bc=t-i,at=Math.atan2(-(w[6]-w[1]),w[5]-w[0]);$.blurbBezierKernelTangentOffsetAngle={t:"doub",v:(Math.atan2(-bc,im)-at+Math.PI)*180/Math.PI};
$.blurbBezierKernelLocation=A(d9,i);$.blurbBezierKernelOuterPoint=A(dF,t);if(im==0&&bc==0)$.blurbBezierKernelIsNull={t:"bool",v:!0}}}else for(var n=0;
n<y.length;n++)f[y[n]]={t:"doub",v:w[n]}}}delete L.blurbWidgetList;L.blurbWidgetList2={t:"VlLs",v:h}}function v(P){var L=P.blurbWidgetList;
if(L==null||L.v.length==0)L=P.blurbWidgetList2;L=L.v;var A=[[],[],[],[],[],[]],h=[0,0,0,0,0,0];for(var N=0;
N<L.length;N++){var C=L[N].v,R=C.blurbWidgetType.v,W=[];A[R].push(W);if(R<4||R==5){var y=x[R];for(var w=0;
w<y.length;w++){W[w]=C[y[w]].v}if(R==5){var f=W[0]-W[4],O=W[1]-W[5],n=Math.sqrt(f*f+O*O),$=W[W.length-1]*n*.005;
h[R]=Math.max(h[R],$)}else h[R]=Math.max(h[R],W[W.length-1])}if(R==4){var d9=P.blurbPathBlurSpeed.v.val/100;
for(var w=0;w<2;w++){var i=C["blurb"+(w==0?"Start":"End")+"BezierKernel"].v,dF=i.blurbBezierKernelIsNull;
for(var t=0;t<2;t++){var im=i["blurbBezierKernel"+(t==0?"Location":"OuterPoint")].v;W.push(im.Hrzn.v,im.Vrtc.v)}var bc=W.length-4,at=W[bc],l9=W[bc+1],f=W[bc+2]-at,O=W[bc+3]-l9,n=Math.sqrt(f*f+O*O);
if(dF&&dF.v)n=0;W.push(d9);h[R]=Math.max(h[R],n*d9)}}}return[A,h]}function c(P,L,A){for(var h=0;h<P.length;
h++)L[A+h]=P[h]}function V(P,L){for(var R=0;R<5;R++){var A=P[0][R];for(var N=0;N<A.length;N++){var h=R==0?A[N].slice(0,2):R==4?A[N].slice(0,4).concat(A[N].slice(5,9)):A[N].slice(0,10);
g.b.M(h,L,h);if(R==4){c(h.slice(0,4),A[N],0);c(h.slice(4,8),A[N],5)}else c(h,A[N],0)}}}function Q(P,L,A){var h=L.S.r,C=L.S.$,w=h*C,f=v(P),O=p(P);
for(var N=0;N<6;N++)if(!O[N])f[1][N]=0;var n=new ka;n.translate(-L.S.x,-L.S.y);V(f,n);var $=Date.now(),d9=D(f,h,C),i=d9[0],dF=d9[1];
A.buffer.set(L.buffer);var t=g.VR(A.buffer);if(t)g.ui(A.buffer);if(dF!=0)m(A.buffer,h,C,i,dF);var im=Math.max(f[1][4],f[1][5]);
if(im!=0&&dd.gP){var $=Date.now(),bc=g.j(h*C*4);for(var N=0;N<bc.length;N+=4){bc[N]=127;bc[N+1]=127}if(f[1][4]!=0)T(bc,f,h,C,im);
if(f[1][5]!=0)H(bc,f,h,C,im);var at=im*.25,l9=new Float32Array([1/h,1/C]),fF=dd.I9(0,h,C);fF.set(A.buffer);
var g$=dd.I9(1,h,C);g$.set(bc);dd.vo(fF,L.S);fF.Dx(L.S);dd.filter.Mn({I:dd.filter.aib,z$:g$.hc,Bt:l9,Ul:at,sp:2},fF.SD);
fF.get(A.buffer)}if(t)g.dU(A.buffer)}function H(P,L,A,h,C){var w=L[0][5];if(w.length==0)return;var f=Date.now();
for(var N=0;N<w.length;N++){var O=w[N],n=B(O),$=n.P();$.i5();var d9=1-O[10],i=O[14]*2.15/C;for(var dF=0;
dF<h;dF++)for(var t=0;t<A;t++){var im=n.iM*t+n.bO*dF+n.Wy,bc=n.X*t+n.kv*dF+n.rY,at=im*im+bc*bc;if(at<1){var l9=im-bc*i,fF=bc+im*i,g$=$.Bb(new hw(l9,fF)),fR=4*(dF*A+t),cr=Math.sqrt(at),eE=cr<d9?0:(cr-d9)/(1-d9);
P[fR]=Math.max(0,Math.min(255,eE*P[fR]+(1-eE)*(127+g$.x-t)));P[fR+1]=Math.max(0,Math.min(255,eE*P[fR+1]+(1-eE)*(127+g$.y-dF)))}}}console.log(Date.now()-f)}function T(P,L,A,h,C){var w=L[0][4];
if(w.length==0)return;var f=w[0];for(var N=1;N<w.length;N++)f=f.concat(w[N]);var O=[];for(var N=0;N<f.length;
N+=5){var n=f[N],$=f[N+1],d9=f[N+2]-n,i=f[N+3]-f[N+1],dF=Math.sqrt(d9*d9+i*i);if(dF!=0){d9/=dF;i/=dF}O.push(n,$,d9,i,dF,f[N+4])}f=O;
var t=Math.floor(f.length/6),im=127/C;for(var $=0;$<h;$++)for(var n=0;n<A;n++){var bc=0,at=0,l9=0,fF=0;
for(var N=0;N<t;N++){var g$=N*6,fR=f[g$],cr=f[g$+1],d9=n-fR,i=$-cr,dF=1/Math.pow(d9*d9+i*i,.5);at+=dF*f[g$+2];
l9+=dF*f[g$+3];fF+=dF*f[g$+4]*f[g$+5];bc+=dF}var eE=Math.sqrt(at*at+l9*l9),bQ=im*fF/(eE*bc);P[4*($*A+n)]=Math.min(at*bQ+127,255);
P[4*($*A+n)+1]=Math.min(l9*bQ+127,255)}}function e(P){var L=P.blurbOpenPanel;if(L)return L.v;else{var A=P.blurbWidgetList2.v;
for(var N=0;N<A.length;N++){var h=A[N].v.blurbWidgetSelected;if(h&&h.v)return A[N].v.blurbWidgetType.v}}return 0}function z(P,L){if(L<4)P.blurbOpenPanel={t:"long",v:L};
else{delete P.blurbOpenPanel;var A=P.blurbWidgetList2.v;for(var N=0;N<A.length;N++){A[N].v.blurbWidgetSelected.v=A[N].v.blurbWidgetType.v==L}}}function J(P,R,L,A){var h=v(P)[0],C=h[R],w;
if(R==0){w=C.length;C.push([L,A,20])}if(R==1||R==5){w=C.length*6+1;var f=100;C.push([L-f,A-f,L+f,A-f,L+f,A+f,L-f,A+f,L,A,.8,.8,.8,.8,20])}if(R==3){w=C.length*5;
C.push([L,A,L,A-50,L,A+50,L,A-20,L,A+20,20])}if(R==4){w=C.length*4+2;C.push([L-100,A,L-50,A,1,L,A,L+50,A,1])}r(h,P);
z(P,R);return w}return{apply:Q,Ju:v,Cp:r,a54:J,asV:p,aiX:M,a5W:B,M:V,auy:e,Kr:z}}();g.my={};g.my.j=function(W,q,X,k){var B=[];
for(var U=0;U<4;U++)for(var l=0;l<4;l++)B.push(W+X*l/3,q+k*U/3);return B};g.my.a8C=function(W,q){var X=W.slice(0);
for(var N=0;N<4;N++)for(var k=0;k<4;k++){var B=2*(N*4+k),U=2*(k*4+(3-N));if(q){var l=B;B=U;U=l}X[U]=W[B];
X[U+1]=W[B+1]}return X};g.my.drawImage=function(W,q,X,k,B,U,l){var K=!1,D=Date.now(),m=2;if(!k.Ox(X)){k.x=X.x;
k.y=X.y}X.x-=k.x;X.y-=k.y;k.x=k.y=0;var Y=k.P();Y.offset(m,m);var a=Y.P();a.Pt(m,m);var p=g.Oj(q),M=g.j(a.C()*4,p),x=X.P();
X.offset(m,m);g.YE(q,X,M,a);if(K)console.log(Date.now()-D,"copy rect");D=Date.now();g.ui(M);if(K)console.log(Date.now()-D,"multiply alpha");
D=Date.now();var R=a.r-2*m,y=a.$-2*m,s=Math.max(R,y),F=Math.round(50*R/s),E=Math.round(Math.sqrt(3)*.5*50*y/s),o=F-.5,G=R+2*m,d=y+2*m,u=[],r=[],v=[];
for(var c=0;c<E+1;c++){var V=(c&1)==0;for(var j=0;j<F+1;j++){var Q=(j-(V?.5:0))/o,H=c/E;if(j==0)Q=0;
if(j==F)Q=1;u.push(G*Q,d*H);if(j<F&&c<E){var T=c*(F+1)+j,e=T+1,z=T+F+1,J=z+1;if(V)r.push(T,e,z,z,e,J);
else r.push(T,e,J,T,J,z)}var P=g.my.aL4(W,Q,H);v.push(-P)}}var L=u.slice(0);g.my.M(W,L,Y);g.b.M(L,new ka(1,0,0,1,-U.x,-U.y),L);
if(K)console.log(Date.now()-D,"mesh built");D=Date.now();var A=U.r,h=U.$;g.f9.wM(M,G,d,B,A,h,u,L,v,r,l);
if(K)console.log(Date.now()-D,"rendered");D=Date.now();g.dU(B);if(K)console.log(Date.now()-D,"divided");
D=Date.now()};g.my.tz=new Array(10);g.my.xL=function(W,q){var X=200,k=0,B=0,U=1e9,l=g.my.tz;for(var K=0;
K<X+1;K++)for(var D=0;D<X+1;D++){var m=D/X,Y=K/X;g.my.acO(W,m,Y,l);var a=l[8]-q.x,p=l[9]-q.y,M=a*a+p*p;
if(M<U){U=M;k=m;B=Y}}return[k,B]};g.my.M=function(W,q,X){var k=X.x,B=X.y,U=1/X.r,l=1/X.$,K=g.my.tz;for(var D=0;
D<q.length;D+=2){var m=(q[D]-k)*U,Y=(q[D+1]-B)*l;g.my.acO(W,m,Y,K);q[D]=K[8];q[D+1]=K[9]}};g.my.aL4=function(W,q,X){var k,B,U,l,K=g.my.tz;
g.my.ax6(W,q,X,K);k=K[8];B=K[9];g.my.ajx(W,q,X,K);U=K[8];l=K[9];return k*l-B*U};g.my.BQ=function(W,q,X){var k=0,B=0,U=W[2][0],l=W[2][1];
while(k+2<U.length&&U[k+1]<q)k++;q=(q-U[k])/(U[k+1]-U[k]);while(B+2<l.length&&l[B+1]<X)B++;X=(X-l[B])/(l[B+1]-l[B]);
return[k*3,B*3,q,X]};g.my.acO=function(W,q,X,k){var B=g.my.BQ(W,q,X);g.my.DT(k,0,B[3]);g.my.DT(k,4,B[2]);
g.my.L9(W[3],B[0],B[1],W[0],k)};g.my.ax6=function(W,q,X,k){var B=g.my.BQ(W,q,X);g.my.DT(k,0,B[3]);g.my.aE$(k,4,B[2]);
g.my.L9(W[3],B[0],B[1],W[0],k)};g.my.ajx=function(W,q,X,k){var B=g.my.BQ(W,q,X);g.my.aE$(k,0,B[3]);g.my.DT(k,4,B[2]);
g.my.L9(W[3],B[0],B[1],W[0],k)};g.my.aE$=function(W,N,q){var X=1-q;W[N]=-3*(X*X);W[N+1]=3*(X*X)-6*(q*X);
W[N+2]=6*(q*X)-3*(q*q);W[N+3]=3*(q*q)};g.my.DT=function(W,N,q){var X=1-q;W[N]=X*(X*X);W[N+1]=3*q*(X*X);
W[N+2]=3*(q*q)*X;W[N+3]=q*q*q};g.my.abj=function(W,q,X,k,B){var U=g.my.BQ(W,q,X),l=U[0],K=U[1],D=U[2],m=U[3],Y=W[0],a=Math.floor(D*3),p=Math.floor(m*3),M=g.my.tz,x=16,u=0;
g.my.DT(M,0,m);g.my.DT(M,4,D);var R=[],y=[],s=[];for(var F=0;F<4;F++){for(var E=0;E<4;E++){var N=F*4+E,o=M[F]*M[4+E];
R.push(o);y.push((K+F)*Y+l+E);if((F==p||F==p+1)&&(E==a||E==a+1)){var G=D*3-a;if(E==a)G=1-G;var d=m*3-p;
if(F==p)d=1-d;s[N]=G*d/o}else s[N]=0}}for(var N=0;N<x;N++)u+=R[N]*s[N];for(var N=0;N<x;N++)s[N]/=u;for(var N=0;
N<x;N++){var o=R[N],r=y[N];W[3][r*2]+=s[N]*k;W[3][r*2+1]+=s[N]*B}};g.my.Pj=function(W){var q=W[0],X=W[1],k=W[2],B=W[3],U=B.slice(0);
for(var l=0;l<X;l++)for(var K=0;K<q;K++){B[(K*X+l)*2]=U[(l*q+K)*2];B[(K*X+l)*2+1]=U[(l*q+K)*2+1]}W[0]=X;
W[1]=q;W[2]=[k[1],k[0]]};g.my.split=function(W,q,X){if(q==1)g.my.Pj(W);var k=W[0],B=W[1],U=W[2][0],l=W[3],K=0;
while(U[K+1]&&U[K+1]<X)K++;var D=(X-U[K])/(U[K+1]-U[K]),m=1-D;for(var Y=0;Y<B;Y++){var N=(Y*(k+3)+K*3)*2,a=m*l[N]+D*l[N+2],p=m*l[N+1]+D*l[N+3],M=m*l[N+2]+D*l[N+4],x=m*l[N+3]+D*l[N+5],R=m*l[N+4]+D*l[N+6],y=m*l[N+5]+D*l[N+7],s=m*a+D*M,F=m*p+D*x,E=m*M+D*R,o=m*x+D*y,G=m*s+D*E,d=m*F+D*o;
l.splice(N+2,4,a,p,s,F,G,d,E,o,R,y)}U.push(X);U.sort();W[0]+=3;if(q==1)g.my.Pj(W)};g.my.L9=function(W,q,X,k,B){var U=0,l=0,K=0,D=B[0],m=B[1],Y=B[2],a=B[3],p=B[4],M=B[5],x=B[6],R=B[7],N=(X*k+q)*2;
K=D*p;U+=W[N+0]*K;l+=W[N+1]*K;K=D*M;U+=W[N+2]*K;l+=W[N+3]*K;K=D*x;U+=W[N+4]*K;l+=W[N+5]*K;K=D*R;U+=W[N+6]*K;
l+=W[N+7]*K;N+=k+k;K=m*p;U+=W[N+0]*K;l+=W[N+1]*K;K=m*M;U+=W[N+2]*K;l+=W[N+3]*K;K=m*x;U+=W[N+4]*K;l+=W[N+5]*K;
K=m*R;U+=W[N+6]*K;l+=W[N+7]*K;N+=k+k;K=Y*p;U+=W[N+0]*K;l+=W[N+1]*K;K=Y*M;U+=W[N+2]*K;l+=W[N+3]*K;K=Y*x;
U+=W[N+4]*K;l+=W[N+5]*K;K=Y*R;U+=W[N+6]*K;l+=W[N+7]*K;N+=k+k;K=a*p;U+=W[N+0]*K;l+=W[N+1]*K;K=a*M;U+=W[N+2]*K;
l+=W[N+3]*K;K=a*x;U+=W[N+4]*K;l+=W[N+5]*K;K=a*R;U+=W[N+6]*K;l+=W[N+7]*K;N+=k+k;B[8]=U;B[9]=l};g.mE={};
g.mE.aGB=function(W,q,X){var k=Date.now();return g.mE.asO(W,q,X)};g.mE.axt=function(W,q,X,k){var B=X*k,U=new Uint32Array(B),l=new Uint8Array(B),K=new Int16Array(B);
U.fill(4294967295);U[q]=0;var D=new g3(B);D.push(q,U[q]);var m={RG:W,aL:U,wY:l,yH:K,xd:D,a4k:q,N5:[-X-1,-X,-X+1,1,X+1,X,X-1,-1]};
return m};g.mE.Eg=function(W,q){var X=W.RG,k=W.aL,B=W.wY,U=W.yH,l=W.xd,K=W.N5;while(l.$E!=0&&(q==null||B[q]==0)){var D=l.pop();
if(B[D]==1)continue;B[D]=1;for(var N=0;N<8;N++){var m=X[8*D+N],Y=D+K[N];if(m==255||B[Y]==1)continue;
var a=k[D]+m;if(a<k[Y]){k[Y]=a;U[Y]=D-Y;l.push(Y,a)}}}};function g3(W){this.list=[];this.$E=0;this.Yt=4294967295}g3.prototype.push=function(W,q){var X=this.list;
if(X[q]==null)X[q]=[];X[q].push(W);this.$E++;this.Yt=Math.min(this.Yt,q)};g3.prototype.pop=function(){this.$E--;
var W=this.list,q=this.Yt,X=W[q].pop();if(W[q].length==0){W[q]=null;if(this.$E==0)this.Yt=4294967295;
else{while(W[q]==null)q++;this.Yt=q}}return X};g.mE.aJs=function(W,q,X,k){var B=new Int16Array(k);for(var U=0;
U<X;U++)for(var l=0;l<q;l++){var N=U*q+l,K=0;if(1<l&&l<q-2&&1<U&&U<X-2){K+=W[N-q-q];K+=W[N-q-1]+2*W[N-q]+W[N-q+1];
K+=W[N-2]+2*W[N-1]-16*W[N]+2*W[N+1]+W[N+2];K+=W[N+q-1]+2*W[N+q]+W[N+q+1];K+=W[N+q+q]}else K=-16*W[N];
B[N]=K}return B};g.mE.ahB=function(W,q,X,k){if(k==null)k=128;var B=new Uint8Array(q*X);for(var U=1;U<X;
U++)for(var l=1;l<q;l++){var N=U*q+l;g.mE.asU(W,N,N-1,B,k);g.mE.asU(W,N,N-q,B,k)}return B};g.mE.asU=function(W,N,q,X,k){var B=W[N],U=W[q];
if(Math.abs(B-U)>k&&B*U<0){if(Math.abs(B)<Math.abs(U))X[N]=1;else X[q]=1}};g.mE.aD_=function(W,q,X,k){var B=new Float32Array(k),U=0;
B.fill(0);for(var l=0;l<X;l++)for(var K=0;K<q;K++){var D=0,m=0,N=l*q+K,Y=N*3;if(0<K&&K<q-1)D=W[N+1]-W[N-1];
if(0<l&&l<X-1)m=W[N+q]-W[N-q];var a=D*D+m*m;if(a!=0){var p=B[Y+2]=Math.sqrt(a),M=1/p;B[Y]=D*M;B[Y+1]=m*M;
if(p>U)U=p}}var x=3*q*X,R=U==0?0:1/U;for(var N=0;N<x;N+=3)B[N+2]=1-B[N+2]*R;return B};g.mE.asO=function(){function W(K,D,m){var Y=new ArrayBuffer(D*m*12),a=Date.now(),p=g.mE.aJs(K,D,m,Y),M=g.mE.ahB(p,D,m),x=g.mE.aD_(K,D,m,Y),R=new Uint8Array(D*m*8);
R.fill(255);var y=[-D-1,-D,-D+1,1];for(var s=1;s<m-1;s++)for(var F=1;F<D-1;F++){var E=s*D+F;for(var o=0;
o<4;o++)l(E,E+y[o],o,R,M,x)}return R}var q=new Float64Array(256);for(var N=0;N<256;N++)q[N]=Math.acos(-1+2*N/255)*(.95/Math.PI);
var X=[-1,0,1,1,1,0,-1,-1],k=[-1,-1,-1,0,1,1,1,0];for(var N=0;N<8;N++){var B=1/Math.sqrt(X[N]*X[N]+k[N]*k[N]);
X[N]*=B;k[N]*=B}var U=[X[0],k[0],X[1],k[1],X[2],k[2],X[3],k[3]];function l(K,D,m,Y,a,p){var M=3*K,x=3*D,R=1-a[D],y=1-a[K],s=(m&1)==0?1:Math.SQRT1_2,F=p[x+2]*s,E=p[M+2]*s,o=p[x+1],G=-p[x],d=p[M+1],u=-p[M],r=U[m+m],v=U[m+m+1],c=d*r+u*v,V=o*r+G*v;
if(c+V<0){c=-c;V=-V}var j=q[~~((.5+.5*c)*255)]+q[~~((.5+.5*V)*255)];Y[(K<<3)+m]=1+~~(.5+20*(.43*R+.43*j+.14*F));
Y[(D<<3)+m+4]=1+~~(.5+20*(.43*y+.43*j+.14*E))}return W}();g.PG={};g.PG.XH=function(W){var q=W.slice(0),X=0;
for(var N=0;N<W.length;N++)X+=W[N];for(var N=0;N<W.length;N++)q[N]/=X;return q};g.PG.h3=[g.PG.XH([1,2,1,2,16,2,1,2,1]),g.PG.XH([1,2,1,2,4,2,1,2,1]),g.PG.XH([0,-1,0,-1,8,-1,0,-1,0]),g.PG.XH([-.7,-1,-.7,-1,10,-1,-.7,-1,-.7]),[-1,0,1,-2,0,2,-1,0,1],[1,2,1,0,0,0,-1,-2,-1]];
g.PG.LH=function(W,q,X,k,B,U,l){if(l==null)l=!1;var K=Math.floor(Math.sqrt(B.length)),D=K-1>>>1,m=g.Oj(W),Y=g.bH(m),a=new Uint32Array(W.buffer),p=new Uint8ClampedArray(q.buffer);
for(var N=0;N<k;N++)for(var M=0;M<X;M++){var x=0,R=0,y=0,s=0;for(var F=0;F<K;F++)for(var E=0;E<K;E++){var o=B[F*K+E];
if(o==0)continue;var G=M-D+E,d=N-D+F;if(G<0)G=0;else if(G>X-1)G=X-1;if(d<0)d=0;else if(d>k-1)d=k-1;if(m==8){var u=a[d*X+G];
x+=(u&255)*o;R+=(u>>>8&255)*o;y+=(u>>>16&255)*o;s+=(u>>>24&255)*o}else{var r=d*X+G<<2;x+=W[r]*o;R+=W[r+1]*o;
y+=W[r+2]*o;s+=W[r+3]*o}}if(l){if(x<0)x=-x;if(R<0)R=-R;if(y<0)y=-y;if(s<0)s=-s}var v=N*X+M<<2;if(m==8){p[v]=~~(.5+x);
p[v+1]=~~(.5+R);p[v+2]=~~(.5+y);if(U)p[v+3]=~~(.5+s)}else{q[v]=Math.max(0,Math.min(Y,x));q[v+1]=Math.max(0,Math.min(Y,R));
q[v+2]=Math.max(0,Math.min(Y,y));if(U)q[v+3]=Math.max(0,Math.min(Y,s))}}};g.PG.aj5=function(W,q,X,k){var B=W.length,U=new Uint8Array(B);
g.PG.LH(W,q,X,k,g.PG.h3[4],!1,!0);g.PG.LH(W,U,X,k,g.PG.h3[5],!1,!0);for(var N=0;N<B;N+=4){var l=q[N],K=q[N+1],D=q[N+2],m=q[N+3],Y=U[N],a=U[N+1],p=U[N+2],M=U[N+3];
q[N]=255-Math.max(0,Math.min(255,Math.sqrt(l*l+Y*Y)));q[N+1]=255-Math.max(0,Math.min(255,Math.sqrt(K*K+a*a)));
q[N+2]=255-Math.max(0,Math.min(255,Math.sqrt(D*D+p*p)))}};g.PG.a2U=function(W,q,X,k){var B=W.length,U=new Uint8Array(B);
g.PG.HK(W,q,X,k,g.PG.h3[4],!0);g.PG.HK(W,U,X,k,g.PG.h3[5],!0);for(var N=0;N<B;N++){var l=q[N],K=U[N];
q[N]=255-Math.max(0,Math.min(255,Math.sqrt(l*l+K*K)))}};g.PG.HK=function(W,q,X,k,B,U){q=new Uint8ClampedArray(q.buffer);
var l=[-X-1,-X,-X+1,-1,0,1,X-1,X,X+1],K=k-1,D=X-1;for(var N=1;N<K;N++)for(var m=1;m<D;m++){var Y=N*X+m,a=g.PG.Lm(W,Y,X,B);
if(U){if(a<0)a=-a}q[Y]=~~(a+.5)}};g.PG.Lm=function(W,q,X,k){return W[q-X-1]*k[0]+W[q-X]*k[1]+W[q-X+1]*k[2]+W[q-1]*k[3]+W[q]*k[4]+W[q+1]*k[5]+W[q+X-1]*k[6]+W[q+X]*k[7]+W[q+X+1]*k[8]};
g.PG.a6G=function(W,q,X,k,B){var U=[-X-1,-X,-X+1,-1,0,1,X-1,X,X+1],l=k-1,K=X-1;for(var N=1;N<l;N++)for(var D=1;
D<K;D++){var m=N*X+D;q[m]=g.PG.avY(W,m,X,B)}};g.PG.avY=function(W,q,X,k){return W[q-X-1]*k[0]+W[q-X]*k[1]+W[q-X+1]*k[2]+W[q-1]*k[3]+W[q]*k[4]+W[q+1]*k[5]+W[q+X-1]*k[6]+W[q+X]*k[7]+W[q+X+1]*k[8]};
g.r6={};g.r6.kQ=function(){function W(l,K,D,m,Y,a){if(Y==0){K.set(l);return}var p=g.j(D*m),M=g.j(D*m);
if(g.VR(l)){q(l,K,D,m,Y,a);g.u6(l,p,3);g.r6.aui(p,M,D,m,Y,a);g.fP(M,K,3)}else{for(var N=0;N<3;N++){g.u6(l,p,N);
g.r6.aui(p,M,D,m,Y,a);g.fP(M,K,N)}}}function q(l,K,D,m,Y,a){var p=0,M=new ArrayBuffer(512*4*3),x=[new Int32Array(M,0),new Int32Array(M,2048),new Int32Array(M,2*2048)],R=1+2*Math.round(Math.sqrt(Y)),y=R>>>1,s=new Array(R),F=new Array(R);
for(var N=0;N<R;N++){var M=new ArrayBuffer(512*4*3);s[N]=[new Int32Array(M,0),new Int32Array(M,2048),new Int32Array(M,2*2048)];
F[N]=s[N][0]}var E=[g.r6.E5,g.r6.lA][a],o=E[0],G=E[1],d=x[0];for(var u=0;u<D;u++)if(u<Y||u>D-Y-R-1){d.fill(0);
var r=Math.max(u-Y,0),v=Math.min(D,u+Y+1),c=v-r;for(var V=0;V<Y;V++)k(d,l,V*D+r,V*D+v,1);for(var V=0;
V<m;V++){var j=V-Y-1,Q=V+Y;if(Q<m)k(d,l,Q*D+r,Q*D+v,1);if(j>=0)k(d,l,j*D+r,j*D+v,-1);var H=V*D+u<<2;
p=d[300];if(p!=0)for(var N=0;N<3;N++)K[H+N]=o(x[N],l[H+N],p)}}else{for(var N=0;N<R;N++)F[N].fill(0);
var r=u-Y+y,v=u+Y+1+y;for(var V=0;V<Y;V++)X(F,l,V*D+r,V*D+v,1,y);for(var V=0;V<m;V++){var j=V-Y-1,Q=V+Y;
if(j>=0)X(F,l,j*D+r,j*D+v,-1,y);if(Q<m)X(F,l,Q*D+r,Q*D+v,1,y);var T=s[y];p=T[0][300];for(var N=0;N<y;
N++){var z=y-1-N,J=y+1+N,P=s[z],L=s[J],A=p+P[0][300],h=p+L[0][300],C=V*D+u+z<<2,w=V*D+u+J<<2;if(A!=0)for(var f=0;
f<3;f++)K[C+f]=G(T[f],P[f],l[C+f],A);if(h!=0)for(var f=0;f<3;f++)K[w+f]=G(T[f],L[f],l[w+f],h)}var H=V*D+u+y<<2;
if(p!=0)for(var f=0;f<3;f++)K[H+f]=o(T[f],l[H+f],p)}u+=R-1}}function X(l,K,D,m,Y,a){var p=B,M=D<<2,x=m<<2;
p(l[a-1],K,D-1<<2,Y);p(l[a-1],K,m-1<<2,-Y);p(l[a+1],K,m<<2,Y);p(l[a+1],K,D<<2,-Y);for(var N=1;N<a;N++){var R=l[a-N-1],y=l[a+N+1];
for(var s=0;s<=N;s++){var F=s<<2;p(R,K,D-1-s<<2,Y);p(R,K,m-1-s<<2,-Y);p(y,K,m+s<<2,Y);p(y,K,D+s<<2,-Y)}}k(l[a],K,D,m,Y)}function k(l,K,N,D,m){var Y=N<<2,a=D<<2;
while(Y<a){B(l,K,Y,m);Y+=4}}function B(l,K,D,m){var Y=m*K[D+3];l[300]+=Y;U(l,K[D],0,Y);U(l,K[D+1],512,Y);
U(l,K[D+2],1024,Y)}function U(l,K,D,m){l[D|K]+=m;l[D|256|K>>>4]+=m}return W}();g.r6.aui=function(){function W(a,p,M,x,R,y){if(R==0){p.set(a);
return}if(R<=200)q(a,p,M,x,R,y);else U(a,p,M,x,R,y)}function q(a,p,M,x,R,y){var s=0,F=new Int32Array(512),E=1+2*Math.round(Math.sqrt(R)),o=E>>>1,G=new Array(E);
for(var N=0;N<E;N++)G[N]=new Int32Array(512);var d=[g.r6.E5,g.r6.lA][y],u=d[0],r=d[1];for(var v=0;v<M;
v++)if(v<R||v>M-R-E-1){F.fill(0);s=0;var c=Math.max(v-R,0),V=Math.min(M,v+R+1),j=V-c;for(var Q=0;Q<R;
Q++){s+=j;k(F,a,Q*M+c,Q*M+V,1)}for(var Q=0;Q<x;Q++){var H=Q-R-1,T=Q+R;if(H>=0){s-=j;k(F,a,H*M+c,H*M+V,-1)}if(T<x){s+=j;
k(F,a,T*M+c,T*M+V,1)}var z=u(F,a[Q*M+v],s);p[Q*M+v]=z}}else{for(var N=0;N<E;N++)G[N].fill(0);s=0;var c=v-R+o,V=v+R+1+o,j=V-c;
for(var Q=0;Q<R;Q++){s+=j;X(G,a,Q*M+c,Q*M+V,1,o)}for(var Q=0;Q<x;Q++){var H=Q-R-1,T=Q+R;if(H>=0){s-=j;
X(G,a,H*M+c,H*M+V,-1,o)}if(T<x){s+=j;X(G,a,T*M+c,T*M+V,1,o)}for(var N=0;N<o;N++){var J=o-1-N,P=o+1+N;
p[Q*M+v+J]=r(G[o],G[J],a[Q*M+v+J],s);p[Q*M+v+P]=r(G[o],G[P],a[Q*M+v+P],s)}p[Q*M+v+o]=u(G[o],a[Q*M+v+o],s)}v+=E-1}}function X(a,p,M,x,R,y){var s=B;
s(a[y-1],p[M-1],0,R);s(a[y-1],p[x-1],0,-R);s(a[y+1],p[x],0,R);s(a[y+1],p[M],0,-R);for(var N=1;N<y;N++){var F=a[y-N-1],E=a[y+N+1];
for(var o=0;o<=N;o++){s(F,p[M-1-o],0,R);s(F,p[x-1-o],0,-R);s(E,p[x+o],0,R);s(E,p[M+o],0,-R)}}k(a[y],p,M,x,R)}function k(a,p,N,M,x){while(N<M)B(a,p[N++],0,x)}function B(a,p,M,x){a[M|p]+=x;
a[M|256|p>>>4]+=x}function U(a,p,M,x,R,y){var s=0,F=new Int32Array(512),E=new Int32Array(1*M),o=new Int32Array(512*M),G=Math.min(R,M),d=Math.min(R,x),u=[g.r6.E5,g.r6.lA][y],r=u[0];
for(var v=0;v<d;v++)l(o,E,a,M,v,1);for(var v=0;v<x;v++){if(v+R<x)l(o,E,a,M,v+R,1);if(v-R-1>=0)l(o,E,a,M,v-R-1,-1);
F.fill(0);s=0;for(var c=0;c<G;c++){s+=E[c];K(F,o,c)}for(var c=0;c<M;c++){var V=c-R-1,j=c+R;if(V>=0&&E[V]!=0){s-=E[V];
D(F,o,V)}if(j<M&&E[j]!=0){s+=E[j];K(F,o,j)}var Q=s==0?0:r(F,a[v*M+c],s);p[v*M+c]=Q}}}function l(a,p,M,x,R,y){var N=R*x;
for(var s=0;s<x;s++){B(a,M[N+s],s<<9,y);p[s]+=y}}function K(a,p,M){for(var N=0;N<16;N++){var x=p[M<<9|256|N];
if(x==0)continue;a[256|N]+=x;var R=N<<4,y=M<<9|R;m(a,p,R,y);m(a,p,R+4,y+4);m(a,p,R+8,y+8);m(a,p,R+12,y+12)}}function D(a,p,M){for(var N=0;
N<16;N++){var x=p[M<<9|256|N];if(x==0)continue;a[256|N]-=x;var R=N<<4,y=M<<9|R;Y(a,p,R,y);Y(a,p,R+4,y+4);
Y(a,p,R+8,y+8);Y(a,p,R+12,y+12)}}function m(a,p,M,x){a[M]+=p[x];a[M+1]+=p[x+1];a[M+2]+=p[x+2];a[M+3]+=p[x+3]}function Y(a,p,M,x){a[M]-=p[x];
a[M+1]-=p[x+1];a[M+2]-=p[x+2];a[M+3]-=p[x+3]}return W}();g.r6.H$=.5;g.r6.E5=[function(W,q,X){var k=~~(.5+g.r6.H$*X),B=0,N=256;
while(B+W[N]<k)B+=W[N++];N=N-256<<4;while(B<k)B+=W[N++];return N-1},function(W,q,X,k){var B=~~(.5+g.r6.H$*k),U=0,N=256;
while(U+W[N]+q[N]<B){U+=W[N]+q[N];N++}N=N-256<<4;while(U<B){U+=W[N]+q[N];N++}return N-1}];g.r6.I2=100;
g.r6.lA=[function(W,q,X){var k=g.r6.I2,B=0,U=0,N=Math.max(0,q-k),l=Math.min(256,q+k+1);while(N<l){var K=W[N];
B+=N*K;U+=K;N++}return U==0?0:B/U},function(W,q,X,k){var B=g.r6.I2,U=0,l=0,N=Math.max(0,X-B),K=Math.min(256,X+B+1);
while(N<K){var D=W[N]+q[N];U+=N*D;l+=D;N++}return l==0?0:U/l}];g.F={};g.F.cH=function(W){var q=_.Gz.rQ(W.Trnf),X=new dU(0,0,1e3,1e3);
if(W.Sz){var k=W.Sz.v;X=new dU(0,0,k.Wdth.v,k.Hght.v)}var B=g.F.b6(q,X);return g.F.bI(B)};g.F.b6=function(W,q){var X=W[0],k=W[1],B=W[2],U=W[3],l=W[6],K=W[7],D=W[4],m=W[5],Y=0,a=0,p=1,M=0,x=0,R=1,y=1,s=1;
if(q){Y=q.x;a=q.y;p=q.x+q.r;M=q.y;x=q.x;R=q.y+q.$;y=q.x+q.r;s=q.y+q.$}return g.F.arz(W,[Y,a,p,M,y,s,x,R])};
g.F.au3=function(W){function q(B,U){for(var N=0;N<U.length;N+=2)if(!X(B,U[N],U[N+1]))return!1;return!0}function X(B,U,l){return B[2*U]==B[2*l]&&B[2*U+1]==B[2*l+1]}var k=0;
if(q(W,[0,1,2,3]))k+=1;if(q(W,[0,3,1,2]))k+=2;return k};g.F.arz=function(W,q){function X(e,N,z){var Q=e[N*2]-e[z*2],H=e[N*2+1]-e[z*2+1];
return Math.sqrt(Q*Q+H*H)}var k=W[0],B=W[1],U=W[2],l=W[3],K=W[6],D=W[7],m=W[4],Y=W[5],a=q[0],p=q[1],M=q[2],x=q[3],R=q[6],y=q[7],s=q[4],F=q[5],E=[[a,p,1,0,0,0,-a*k,-p*k,k],[0,0,0,a,p,1,-a*B,-p*B,B],[M,x,1,0,0,0,-M*U,-x*U,U],[0,0,0,M,x,1,-M*l,-x*l,l],[R,y,1,0,0,0,-R*K,-y*K,K],[0,0,0,R,y,1,-R*D,-y*D,D],[s,F,1,0,0,0,-s*m,-F*m,m],[0,0,0,s,F,1,-s*Y,-F*Y,Y]],o=[0,0,0,0,0,0,0,0],G=g.Ez.Xq(E,o);
if(G!=0){o=[0,0,0,0,0,0,0,0];var d=g.F.au3(W),u=g.F.au3(q);if(d==u&&d!=0){var r=d==1,v=r?3:1,c=X(W,0,v),V=X(q,0,v),j=V/c,Q=W[2*v]-W[0],H=W[2*v+1]-W[1],T=new ka;
T.translate(-k,-B);T.rotate(Math.atan2(H,Q)-(r?Math.PI/2:0));if(r)T.scale(1,j);else T.scale(j,1);T.translate(a,p);
T.i5();o=g.F.af(T)}}return o};g.F.j=function(W,q){if(W==null)W=q=0;return[1,0,W,0,1,q,0,0]};g.F.iU=function(W){return Math.abs(W[6])<1e-10&&Math.abs(W[7])<1e-10};
g.F.bI=function(W){return new ka(W[0],W[3],W[1],W[4],W[2],W[5])};g.F.af=function(W){return[W.iM,W.bO,W.Wy,W.X,W.kv,W.rY,0,0]};
g.F.M=function(W,q){var X=new Float64Array(2);for(var k=0;k<q.length;k+=2){var B=q[k],U=q[k+1];g.F.bs(B,U,W,X);
q[k]=X[0];q[k+1]=X[1]}};g.F.bs=function(W,q,X,k){var B=1/(X[6]*W+X[7]*q+1);k[0]=(X[0]*W+X[1]*q+X[2])*B;
k[1]=(X[3]*W+X[4]*q+X[5])*B};g.F.ao9=function(W,q){var X=new Float64Array(2);g.F.bs(q.x,q.y,W,X);return new hw(X[0],X[1])};
g.F.Pj=function(W,q,X,k){W=new Uint32Array(W.buffer);q=new Uint32Array(q.buffer);for(var B=0;B<k;B++){for(var U=0;
U<X;U++){q[U*k+B]=W[B*X+U]}}};g.F.z9=function(W,q,X,k){W=new Uint32Array(W.buffer);q=new Uint32Array(q.buffer);
for(var B=0;B<k;B++){for(var U=0;U<X;U++){q[B*X+U]=W[B*X+X-1-U]}}};g.F.a7e=function(W,q,X,k){W=new Uint32Array(W.buffer);
q=new Uint32Array(q.buffer);for(var B=0;B<k;B++){for(var U=0;U<X;U++){q[B*X+U]=W[(k-1-B)*X+U]}}};g.F.aqS=function(W){return Math.abs(W[6])<1e-9&&Math.abs(W[7])<1e-9};
g.F.a9m=function(W){return Math.abs(W[0])<1e-9&&Math.abs(W[4])<1e-9||Math.abs(W[1])<1e-9&&Math.abs(W[3])<1e-9};
g.F.drawImage=function(W,q,X,k,B,U,l,K){if(l==null)l=!1;var D=g.F.i5(W),m=!0,Y=0;for(var N=0;N<8;N++){var a=Math.round(W[N]);
if(N!=2&&N!=5)Y+=Math.abs(a);if(Math.abs(a-W[N])>1e-9)m=!1}var p=g.F.aqS(W),M=g.F.a9m(W)&&p,x=M?1:0;
if(g.Oj(q)!=8){g.F.aCX(D,q,X,k,B,U,p,l||K);return}if(l||m&&Y==X+k&&p){g.F.a74(D,q,X,k,B,U,p,K);return}var R=U.r,y=U.$,s=new Float64Array(2);
B=new Uint32Array(B.buffer);q=new Uint32Array(q.buffer);for(var F=0;F<y;F++)for(var E=0;E<R;E++){var o=F*R+E,G,d,u,r,P=0,L=0,A=0,h=0;
B[o]=0;var v=E+U.x+.5,c=F+U.y+.5;G=v;d=c;u=D;var V=u[0]*G+u[1]*d+u[2],j=u[3]*G+u[4]*d+u[5];if(!p){r=1/(u[6]*G+u[7]*d+1);
V*=r;j*=r}var Q=V*X,H=j*k,T=Q<-1||Q>X+1||H<-1||H>k+1;if(T)continue;var e=g.F.awY(W,X,k,v,c,V,j),z=Math.round(e*2.3);
if(e<1.1){g.F.ur(Q,H,q,X,k,B,o,x);continue}if(Q<.6||Q>X-.6||H<.6||H>k-.6){z=Math.max(z,5)}var J=1/z,C=U.x+E,w=U.y+F;
u=D;for(var N=0;N<z;N++)for(var f=0;f<z;f++){G=C+(N+.5)*J;d=w+(f+.5)*J;var Q=u[0]*G+u[1]*d+u[2],H=u[3]*G+u[4]*d+u[5];
if(!p){r=1/(u[6]*G+u[7]*d+1);Q*=r;H*=r}if(Q<0||Q>=1||H<0||H>=1)continue;Q=Math.floor(Q*X);H=Math.floor(H*k);
var O=H*X+Q,n=q[O],$=n>>>24;P+=(n&255)*$;L+=(n>>>8&255)*$;A+=(n>>>16&255)*$;h+=$}if(h!=0){var d9=1/h;
P=~~(P*d9+.5);L=~~(L*d9+.5);A=~~(A*d9+.5);h=~~(h*J*J+.5);B[o]=h<<24|A<<16|L<<8|P}}};g.F.aCX=function(W,q,X,k,B,U,l,K){var D=U.r,m=U.$,Y=new ka;
Y.scale(X,k);Y.translate(1,1);var a=g.F.xY(g.F.af(Y),W),p=new dU(0,0,X,k),M=p.P();M.Pt(1,1);var x=g.j(M.C()*4,g.Oj(q));
g.YE(q,p,x,M);X=M.r;k=M.$;var R=U.x+.5,y=U.y+.5;g.ui(x);for(var s=0;s<m;s++)for(var F=0;F<D;F++){var E=s*D+F<<2,o=F+R,G=s+y,d=a[0]*o+a[1]*G+a[2],u=a[3]*o+a[4]*G+a[5];
if(!l){var r=1/(a[6]*o+a[7]*G+1);d*=r;u*=r}if(d<.5||d>X-.5||u<.5||u>k-.5){B[E]=0;B[E+1]=0;B[E+2]=0;B[E+3]=0}else if(K){var v=~~u*X+~~d<<2;
B[E]=x[v];B[E+1]=x[v+1];B[E+2]=x[v+2];B[E+3]=x[v+3]}else g.F.a02(d,u,x,X,B,E)}g.dU(B)};g.F.awY=function(W,q,X,k,B,U,l){var K=g.F.aHT(W,k,B,U+1/q,l),D=g.F.aHT(W,k,B,U,l+1/X);
return 1/Math.sqrt(Math.max(K,D))};g.F.aHT=function(W,q,X,k,B){var U=1/(W[6]*k+W[7]*B+1),l=(W[0]*k+W[1]*B+W[2])*U-q,K=(W[3]*k+W[4]*B+W[5])*U-X;
return l*l+K*K};g.F.a74=function(W,q,X,k,B,U,l,K){if(l&&U.C()>4e6&&K){g.F.apb(W,q,X,k,B,U,l,K);return}var D=U.x+U.r,m=U.y+U.$,Y=0,a=new Uint32Array(B.buffer),p=new Uint32Array(q.buffer),M=W[0]*X,x=W[1]*X,R=W[2]*X,y=W[3]*k,s=W[4]*k,F=W[5]*k,E=W[6],o=W[7];
if(l)for(var G=U.y+.5;G<m;G++)for(var d=U.x+.5;d<D;d++){var u=M*d+x*G+R,r=y*d+s*G+F;if(0<u&&u<X&&0<r&&r<k){var v=~~r*X+~~u;
a[Y]=p[v]}else a[Y]=0;Y++}else for(var G=U.y+.5;G<m;G++)for(var d=U.x+.5;d<D;d++){var c=1/(E*d+o*G+1),u=(M*d+x*G+R)*c,r=(y*d+s*G+F)*c;
if(0<u&&u<X&&0<r&&r<k){var v=Math.floor(r)*X+Math.floor(u);a[Y]=p[v]}else a[Y]=0;Y++}};g.F.apb=function(W,q,X,k,B,U,l,K){var D=new Uint32Array(B.buffer),m=new Uint32Array(q.buffer),o=0;
if(K&&(U.r&3)!=0)throw"e";var Y=W[0]*X,a=W[1]*X,p=W[2]*X,M=W[3]*k,x=W[4]*k,R=W[5]*k,y=W[6],s=W[7],F=U.r,E=U.$,G=U.x+.5,d=U.y+.5,u=(F>>>2<<2)-1e-9,r=-.1+(E>>>1<<1)-1e-9,v=~~X,c=Y==0?0:1/Y,V=M==0?0:1/M;
for(var j=0;j<E;j++){var Q=G*Y+a*(j+d)+p,H=G*M+x*(j+d)+R,T=0,e=F;if(Y==0){}else if(c>0){T=Math.max(T,-Q*c);
e=Math.min(e,(X-Q)*c)}else{e=Math.min(e,-Q*c);T=Math.max(T,(X-Q)*c)}if(M==0){}else if(V>0){T=Math.max(T,-H*V);
e=Math.min(e,(k-H)*V)}else{e=Math.min(e,-H*V);T=Math.max(T,(k-H)*V)}if(e<0)e=0;if(T>e)T=e;T=~~Math.ceil(T);
e=~~e;o=~~(j*F);D.fill(0,o,o+T);o+=T;for(var z=T;z<e;z+=4){var J=Y*z+Q,P=M*z+H,L=~~P*v+~~J,A=m[L];D[o]=A;
D[o+1]=A;D[o+2]=A;D[o+3]=A;o+=4}D.fill(0,o,o+F-e)}};g.F.i5=function(W){var q=W[4]-W[5]*W[7],X=W[2]*W[7]-W[1],k=W[1]*W[5]-W[2]*W[4],B=W[5]*W[6]-W[3],U=W[0]-W[2]*W[6],l=W[3]*W[2]-W[0]*W[5],K=W[3]*W[7]-W[4]*W[6],D=W[1]*W[6]-W[0]*W[7],m=1/(W[0]*W[4]-W[1]*W[3]);
return[q*m,X*m,k*m,B*m,U*m,l*m,K*m,D*m]};g.F.xY=function(W,q){var X=W[0],k=W[1],B=W[2],U=W[3],l=W[4],K=W[5],D=W[6],m=W[7],Y=q[0],a=q[1],p=q[2],M=q[3],x=q[4],y=q[5],s=q[6],F=q[7],E=[X*Y+k*M+B*s,X*a+k*x+B*F,X*p+k*y+B,U*Y+l*M+K*s,U*a+l*x+K*F,U*p+l*y+K,D*Y+m*M+s,D*a+m*x+F],o=1/(D*p+m*y+1);
for(var N=0;N<8;N++)E[N]*=o;return E};g.F.ur=function(W,q,X,k,B,U,l,K){var D=W,m=q,p=0,M=0,x=0,R=0;W-=.499999;
q-=.499999;var Y=Math.floor(W),a=Math.floor(q);if(K==0){var N=a*k+Y,y=Y>=0&&Y<k,s=Y+1>=0&&Y+1<k,F=a>=0&&a<B,E=a+1>=0&&a+1<B;
if(y&&F)p=X[N];if(s&&F)M=X[N+1];if(y&&E)x=X[N+k];if(s&&E)R=X[N+k+1]}else if(K==1){var o=Y<0?0:Y>k-1?k-1:Y,G=Y<-1?0:Y>k-2?k-1:Y+1,d=a<0?0:a>B-1?B-1:a,u=a<-1?0:a>B-2?B-1:a+1;
p=X[d*k+o];M=X[d*k+G];x=X[u*k+o];R=X[u*k+G]}else{var o=(Y+50*k)%k,G=(Y+50*k+1)%k,d=(a+50*B)%B,u=(a+50*B+1)%B;
p=X[d*k+o];M=X[d*k+G];x=X[u*k+o];R=X[u*k+G]}var r=W-Y,v=q-a,c=(1-v)*(1-r)*(p>>>24),V=(1-v)*r*(M>>>24),j=v*(1-r)*(x>>>24),Q=v*r*(R>>>24),H=c+V+j+Q,T=c*(p&255)+V*(M&255)+j*(x&255)+Q*(R&255),e=c*(p>>>8&255)+V*(M>>>8&255)+j*(x>>>8&255)+Q*(R>>>8&255),z=c*(p>>>16&255)+V*(M>>>16&255)+j*(x>>>16&255)+Q*(R>>>16&255);
if(H==0)U[l]=0;else{var J=1/H;T=~~(T*J+.5);e=~~(e*J+.5);z=~~(z*J+.5);H=~~(H+.5);U[l]=H<<24|z<<16|e<<8|T}};
g.F.a02=function(W,q,X,k,B,U){var l=W-.499999,K=q-.499999,D=~~l,m=~~K,Y=l-D,a=K-m,p=(1-a)*(1-Y),M=(1-a)*Y,x=a*(1-Y),R=a*Y,y=m*k+D<<2,s=(m+1)*k+D<<2;
B[U]=p*X[y]+M*X[y+4]+x*X[s]+R*X[s+4];B[U+1]=p*X[y+1]+M*X[y+5]+x*X[s+1]+R*X[s+5];B[U+2]=p*X[y+2]+M*X[y+6]+x*X[s+2]+R*X[s+6];
B[U+3]=p*X[y+3]+M*X[y+7]+x*X[s+3]+R*X[s+7]};g.F.aDA=function(W,q,X,k,B,U){var l=W-.499999,K=q-.499999,D=~~l,m=~~K,Y=l-D,a=K-m,p=(1-a)*(1-Y),M=(1-a)*Y,x=a*(1-Y),R=a*Y,y=m*k+D<<2,s=(m+1)*k+D<<2,F=p*X[y]+M*X[y+4]+x*X[s]+R*X[s+4],E=p*X[y+1]+M*X[y+5]+x*X[s+1]+R*X[s+5],o=p*X[y+2]+M*X[y+6]+x*X[s+2]+R*X[s+6],G=p*X[y+3]+M*X[y+7]+x*X[s+3]+R*X[s+7];
U[0]=F;U[1]=E;U[2]=o;U[3]=G};g.F.nW=function(W,q,X,k,B){W-=.499999;q-=.499999;var U=Math.floor(W),l=Math.floor(q),K=W-U,D=q-l,m=(1-D)*(1-K),Y=(1-D)*K,a=D*(1-K),p=D*K,M=(U+50*k)%k,x=(U+1+50*k)%k,R=(l+50*B)%B,y=(l+1+50*B)%B,s=X[R*k+M],F=X[R*k+x],E=X[y*k+M],o=X[y*k+x];
if(s==null||o==null)throw"e";return m*s+Y*F+a*E+p*o};g.F.aHY=function(W,q,X,k,B){W-=.499999;q-=.499999;
var U=Math.floor(W),l=Math.floor(q),K=W-U,D=q-l,m=(1-D)*(1-K),Y=(1-D)*K,a=D*(1-K),p=D*K,M=l*k+U,x=M+k;
return m*X[M]+Y*X[M+1]+a*X[x]+p*X[x+1]};g.F.a50=function(W,q,X,k,B){W-=.499999;q-=.499999;var U=Math.floor(W),l=Math.floor(q),K=W-U,D=q-l,m=(1-D)*(1-K),Y=(1-D)*K,a=D*(1-K),p=D*K,M=l*k+U,x=M+k;
return m*X[M]+Y*X[M+1]+a*X[x]+p*X[x+1]};g.F.au_=function(W,q,X,k,B){W-=.499999;q-=.499999;var U=Math.floor(W),l=Math.floor(q),K=W-U,D=q-l,m=(1-D)*(1-K),Y=(1-D)*K,a=D*(1-K),p=D*K,M=l*k+U,x=M+k;
return m*X[M]+Y*X[M+1]+a*X[x]+p*X[x+1]};g.F.aFn=function(W,q,X,k,B,U,l,K,D,m,Y,a){var p=new Uint32Array(W.buffer),M=new Uint32Array(k.buffer),x=(1+2*m)/B,R=[],y=[];
for(var s=0;s<B;s++){var F=-.25+m-s*x;R.push(Math.cos(2*Math.PI*F)*a/Y);R.push(Math.sin(2*Math.PI*F)/Y)}l*=q;
K*=X;for(var E=0;E<U;E++){var o=Math.pow(E/U,D)*U;for(var s=0;s<B;s++){var G=l+R[s<<1]*o,d=K+R[(s<<1)+1]*o,u=~~(.5+(G<0?0:G>q-1?q-1:G)),r=~~(.5+(d<0?0:d>X-1?X-1:d));
M[E*B+s]=p[r*q+u]}}};g.F.atw=function(W,q,X,k,B,U,l,K,D,m,Y,a){var p=new Uint32Array(W.buffer),M=new Uint32Array(k.buffer),x=1/a,R=[],y=X*4,s=1/y;
for(var F=0;F<y+10;F++)R.push(Math.pow(F*s,1/D)*X*Y);l*=B;K*=U;for(var F=0;F<U;F++)for(var E=0;E<B;E++){var o=x*(E-l),G=F-K,d=1.75-Math.atan2(G,o)*(1/(2*Math.PI));
d=d-~~d;d=(d+m)*(1/(1+2*m));var u=Math.sqrt(o*o+G*G);u=R[~~(u*4)];g.F.ur(d*q+.5,u+.5,p,q,X,M,F*B+E,1)}};
g.F.G4=function(W,q,X,k,B){var U=B[0],l=B[1];for(var K=0;K<l;K++)for(var D=0;D<U;D++){var m=B[2]*D+B[3]*K+B[4],Y=B[5]*D+B[6]*K+B[7],a=K*U+D<<2,p=Y*q+m<<2;
k[a]=W[p+0];k[a+1]=W[p+1];k[a+2]=W[p+2];k[a+3]=W[p+3]}};g.ov=function(){function W(o,G){var d=~~(.499+o*G);
return d<0?0:(d>G?G:d)<<2}function q(o,G,d,u,r,v,c,V){var j=d[0],Q=d[1],H=d[2],T=d[3],e=u.r,z=u.$,J=new Uint32Array(1),P=new Uint8Array(J.buffer),L=Math.round(Math.random()*u.C()*100);
for(var A=0,N=0;A<z;A++){for(var h=0;h<e;h++,N++){var C=h+r,w=A+v,f=j*C+Q*w,O=H*C+T*w,n=0;if(V==0)n=f+.5;
else if(V==1)n=2*Math.sqrt(f*f+O*O);else if(V==2)n=(Math.PI+Math.atan2(-O,-f))/(2*Math.PI);else if(V==3)n=Math.abs(f*2);
else if(V==4)n=2*(Math.abs(f)+Math.abs(O));var $=W(n,c),d9=h*4;J[0]=g.v.es(N+L);for(var i=0;i<4;i++){var dF=G[$+i]*255,t=Math.floor(dF);
if(P[i]<(dF-t)*255)t++;o[(N<<2)+i]=t}}}}function X(o,N,G,d,u){var r=N<<2;o[r]=G[d]*u;o[r+1]=G[d+1]*u;
o[r+2]=G[d+2]*u;o[r+3]=G[d+3]*u}var k=[function(o,G,d,u,r,v,c,V){var j=d[0],Q=d[1],H=d[2],T=d[3],e=u.r,z=u.$;
for(var J=0,N=0;J<z;J++)for(var P=0;P<e;P++,N++){var L=P+r,A=J+v,h=j*L+Q*A,C=H*L+T*A,w=h+.5;X(o,N,G,W(w,c),V)}},function(o,G,d,u,r,v,c,V){var j=d[0],Q=d[1],H=d[2],T=d[3],e=u.r,z=u.$;
for(var J=0,N=0;J<z;J++)for(var P=0;P<e;P++,N++){var L=P+r,A=J+v,h=j*L+Q*A,C=H*L+T*A,w=2*Math.sqrt(h*h+C*C);
X(o,N,G,W(w,c),V)}},function(o,G,d,u,r,v,c,V){var j=d[0],Q=d[1],H=d[2],T=d[3],e=u.r,z=u.$;for(var J=0,N=0;
J<z;J++)for(var P=0;P<e;P++,N++){var L=P+r,A=J+v,h=j*L+Q*A,C=H*L+T*A,w=(Math.PI+Math.atan2(-C,-h))/(2*Math.PI);
X(o,N,G,W(w,c),V)}},function(o,G,d,u,r,v,c,V){var j=d[0],Q=d[1],H=d[2],T=d[3],e=u.r,z=u.$;for(var J=0,N=0;
J<z;J++)for(var P=0;P<e;P++,N++){var L=P+r,A=J+v,h=j*L+Q*A,C=H*L+T*A,w=Math.abs(h*2);X(o,N,G,W(w,c),V)}},function(o,G,d,u,r,v,c,V){var j=d[0],Q=d[1],H=d[2],T=d[3],e=u.r,z=u.$;
for(var J=0,N=0;J<z;J++)for(var P=0;P<e;P++,N++){var L=P+r,A=J+v,h=j*L+Q*A,C=H*L+T*A,w=2*(Math.abs(h)+Math.abs(C));
X(o,N,G,W(w,c),V)}}];function B(o,G,d,u,r,v,c,V,j,Q,H,T){var e=o.Clrs,z=1023,J=e?U(o,j,Q):null,P=e?m(o,J,z+1,c):K(o,z+1,c),L=g.Oj(G),A=g.bH(L);
if(L==8&&T&&e){q(G,P,u,d,d.x-r,d.y-v,z,V)}else if(V<5){k[V](G,P,u,d,d.x-r,d.y-v,z,A)}else{var h=g.Cn(P,8),C=d.r,w=d.$,f=H.OF-H.PT,O=1/f,n=H.Qg.r-d.r>>1,$=H.Qg.$-d.$>>1,d9=H.Qg.r,i=-.6*O,dF=(-.6+.4)*O,t=(-.6+2*.4)*O,im=(-.6+3*.4)*O;
for(var bc=0,N=0;bc<w;bc++)for(var at=0;at<C;at++,N+=4){var l9=0,fF=0,g$=0,fR=0,cr=(bc+$)*d9+at+n,eE=(H.Dk[cr]-H.PT)*O,bQ=0;
if(eE<=0||eE>=1){bQ=(eE<=0?0:z)<<2;G[N]=h[bQ];G[N+1]=h[bQ+1];G[N+2]=h[bQ+2];G[N+3]=h[bQ+3];continue}bQ=Math.max(0,Math.min(z-1,Math.round((eE+i)*z)))<<2;
fF+=h[bQ];g$+=h[bQ+1];fR+=h[bQ+2];l9+=h[bQ+3];bQ=Math.max(0,Math.min(z-1,Math.round((eE+dF)*z)))<<2;
fF+=h[bQ];g$+=h[bQ+1];fR+=h[bQ+2];l9+=h[bQ+3];bQ=Math.max(0,Math.min(z-1,Math.round((eE+t)*z)))<<2;fF+=h[bQ];
g$+=h[bQ+1];fR+=h[bQ+2];l9+=h[bQ+3];bQ=Math.max(0,Math.min(z-1,Math.round((eE+im)*z)))<<2;fF+=h[bQ];
g$+=h[bQ+1];fR+=h[bQ+2];l9+=h[bQ+3];G[N]=fF>>>2;G[N+1]=g$>>>2;G[N+2]=fR>>>2;G[N+3]=l9>>>2}}}function U(o,G,d){var u=[o.Clrs.v,o.Trns.v],r=[[],[]],v=255;
for(var V=0;V<2;V++)for(var N=0;N<u[V].length;N++){var j,Q=u[V][N].v;if(V==0){var H=Q.Type.v.Clry;if(H=="FrgC")j={o:G>>16&255,L:G>>8&255,X:G&255};
else if(H=="BckC")j={o:d>>16&255,L:d>>8&255,X:d&255};else j=l(Q.Clr.v)}else{j=Q.Opct.v.val*(255/100);
if(j<v)v=j}r[V].push([j,Q.Lctn.v/4096,Q.Mdpn.v/100])}r.push(v>254);return r}function l(o){var G,d=o.classID;
if(d=="RGBC"){if(o.Rd)G={o:o.Rd.v,L:o.Grn.v,X:o.Bl.v};else G={o:o.redFloat.v*255,L:o.greenFloat.v*255,X:o.blueFloat.v*255}}else if(d=="HSBC"){G=g.C7(o.H.v.val/360,o.Strt.v/100,o.Brgh.v/100);
G.o*=255;G.L*=255;G.X*=255}else if(d=="CMYC"){var u=o.Cyn.v,r=o.Mgnt.v,v=o.Ylw.v,c=o.Blck.v,V=[u/100,r/100,v/100,c/100],j=g.eL(V);
G={o:j[0]*255,L:j[1]*255,X:j[2]*255}}else if(d=="Grsc")G={o:255-o.Gry.v,L:255-o.Gry.v,X:255-o.Gry.v};
else if(d=="LbCl"){G=g.sR(o.Lmnc.v,o.A.v,o.B.v)}else if(d=="BkCl")G={o:0,L:0,X:0};else console.log(o);
if(isNaN(G.o))G.o=G.L=G.X=0;return G}function K(o,G,d){var u=new Uint32Array(G),r=new Uint8Array(u.buffer);
u.fill(4278190080);var v=[],c=[],V=o.RndS.v,j=o.Smth.v/4096;for(var N=0;N<4;N++){v[N]=~~(o.Mnm.v[N].v*255/100);
c[N]=~~(o.Mxm.v[N].v*255/100)}var Q=g.j(G*4),H=g.j(G);for(var T=0;T<3;T++){g.u.a9E(null,G,1,Q,[1+Math.round(j*j*j*60),22,V*(2+T)]);
g.u6(Q,H,0);g.fP(H,r,T);var e=v[T],z=c[T];for(var N=0;N<G;N++)r[4*N+T]=Math.max(e,Math.min(z,r[4*N+T]))}if(d)for(var N=0;
N<G/2;N++){var J=u[N];u[N]=u[G-1-N];u[G-1-N]=J}return g.Cn(r,32)}function D(o){return{classID:"RGBC",Rd:{t:"doub",v:o.o},Grn:{t:"doub",v:o.L},Bl:{t:"doub",v:o.X}}}function m(o,G,d,u){var r=new Float32Array(d*4),v=1/(d-0);
for(var N=0;N<d;N++){var c=N*4,V=a(o,G,(u?d-1-N:N)*v);r[c]=V[0];r[c+1]=V[1];r[c+2]=V[2];r[c+3]=V[3]}return r}function Y(o,G,d,u){var r=new Uint32Array(d),v=1/(d-0);
for(var N=0;N<d;N++)r[N]=p(o,G,(u?d-1-N:N)*v);return new Uint8Array(r.buffer)}function a(o,G,d){var u=o.Intr.v*(1/4096),r=G[0],v=G[1],c=r.length-1,V=v.length-1,N=-1,j=0,Q=0,H=0,T=0;
if(G[2])j=255;else{while(N<V&&v[N+1][1]<=d)N++;if(N==-1){j=v[0][0]}else if(N==V){j=v[N][0]}else{var e=M(v,N,d,u);
j=e*v[N][0]+(1-e)*v[N+1][0]}}N=-1;while(N<c&&r[N+1][1]<=d)N++;if(N==-1){var z=r[0][0];Q=z.o;H=z.L;T=z.X}else if(N==c){var z=r[N][0];
Q=z.o;H=z.L;T=z.X}else{var J=r[N][0],P=r[N+1][0],L=M(r,N,d,u);Q=Math.min(255,L*J.o+(1-L)*P.o);H=Math.min(255,L*J.L+(1-L)*P.L);
T=Math.min(255,L*J.X+(1-L)*P.X)}return[Q*(1/255),H*(1/255),T*(1/255),j*(1/255)]}function p(o,G,d){var u=a(o,G,d),r=~~(.5+u[0]*255),v=~~(.5+u[1]*255),c=~~(.5+u[2]*255),V=~~(.5+u[3]*255);
return V<<24|c<<16|v<<8|r}function M(o,N,G,d){if(o.length==2)d*=.5;var u=o[N][1],r=o[N+1][1],v=u+o[N+1][2]*(r-u),c;
if(G<v)c=.5*(G-u)/(v-u);else c=.5+.5*(G-v)/(r-v);c=.5+.5*(d*Math.cos(Math.PI*c)+(1-d)*(1-2*c));return c}function x(o,G,d){var u=.5*d.$,r=u*(o/G),v=Math.sqrt(u*u+r*r),c=.5*d.r,V=c*(G/o),j=Math.sqrt(c*c+V*V);
return Math.min(v,j)}function R(o,G){var d=Math.PI*o.Angl.v.val/180,u=o.Scl.v.val/100,r=o.Ofst.v,v=r.Hrzn.v.val/100,c=r.Vrtc.v.val/100,V=Math.cos(d),j=-Math.sin(d),Q=x(V,j,G),H=Q*u,T=G.x+G.r/2+v*G.r,e=G.y+G.$/2+c*G.$;
return[new hw(T,e),new hw(T+V*H,e+j*H)]}function y(o,G,d,u){var r=G.x-o.x,v=-(G.y-o.y),c=Math.sqrt(r*r+v*v),V=Math.atan2(v,r),j=Math.cos(V),Q=-Math.sin(V),H=x(j,Q,d),T=c/H,e=(o.x-d.x-d.r/2)/d.r,z=(o.y-d.y-d.$/2)/d.$;
u.Angl.v.val=180*V/Math.PI;u.Scl.v.val=T*100;var J=u.Ofst.v;J.Hrzn.v.val=e*100;J.Vrtc.v.val=z*100}function s(o,G){for(var N=0;
N<o.length;N++){var d=o[N],u=Math.round(d[0]*4096),r=d[1],v=d[2],c=o[Math.max(0,N-1)][3];if(v==null)v=1;
if(c==null)c=.5;var V=D({o:r[0]*255,L:r[1]*255,X:r[2]*255});G.Clrs.v[N]={t:"Objc",v:{classID:"Clrt",Lctn:{t:"long",v:u},Mdpn:{t:"long",v:Math.round(c*100)},Clr:{t:"Objc",v:V},Type:{t:"enum",v:{Clry:"UsrS"}}}};
G.Trns.v[N]={t:"Objc",v:{classID:"TrnS",Lctn:{t:"long",v:u},Mdpn:{t:"long",v:Math.round(c*100)},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(v*100)}}}}}}function F(o,G,d){if(G){o=g.N(o);
for(var N=0;N<2;N++){var u=o[N==0?"Clrs":"Trns"].v;for(var r=0;r<u.length;r++)u[r].v.Lctn.v=4096-u[r].v.Lctn.v;
u.reverse()}}var v=[],c=1/255,V=o.Clrs.v,j=o.Trns.v,u=V;if(cC==0||V.length!=j.length){if(cC!=0)console.log("strange gradient");
if(d!=!0)u=V.concat(j);var Q=U(o,0,0);for(var N=0;N<u.length;N++){var H=u[N].v,T=H.Lctn.v/4096,e=a(o,Q,T);
v.push([T,[e[0],e[1],e[2]],e[3],H.Mdpn.v/100])}v.sort(function(J,P){return J[0]-P[0]});for(var N=1;N<v.length;
N++)if(v[N][0]-v[N-1][0]<.001){v.splice(N,1);N--}}else{for(var N=0;N<u.length;N++){var H=V[N].v,z=H.Clr.v,T=H.Lctn.v/4096;
v.push([T,[z.Rd.v*c,z.Grn.v*c,z.Bl.v*c],j[N].v.Opct.v.val/100,V[Math.min(N+1,V.length-1)].v.Mdpn.v/100])}}return v}function E(o,G){function d(o,c){o.addColorStop(c[0],CSS.aye(c[1],c[2]))}function u(c,V,j,Q){var H=Math.log(.5)/Math.log(Q),T=Math.log(.5)/Math.log(1-Q),e=Q>.5?Math.pow(j,H):1-Math.pow(1-j,T),z=1-e,J=c[0],P=c[1],L=V[1],A=[J+(V[0]-J)*j,[P[0]*z+L[0]*e,P[1]*z+L[1]*e,P[2]*z+L[2]*e],c[2]*z+V[2]*e];
return A}d(o,G[0]);for(var N=1;N<G.length;N++){var r=G[N-1][3];if(r!=.5)for(var v=1;v<20;v++)d(o,u(G[N-1],G[N],v/20,r));
d(o,G[N])}}return{TI:B,E2:D,yM:l,aKE:m,ao$:K,Za:y,adM:R,D0:E,mi:s,awH:F,vB:U,BU:p}}();g.apI={};g.apI.bQ=function(W,q,X,k,B,U,l,K,D,m,Y,a){var p,M,x,R=Date.now(),y=!1,s=l,F=m,E,o,G,d,u=U*255,r=255-D*255,v=1+B*6,c=1+K*6,V=1+a*4,j=(V-1)/7,Q=0,H=255-0,T,e,z,J,P,L,A,h,C,w,f,O,n,$=0,d9=1,i,dF,t,im,bc,at,l9,fF,g$,fR,cr=1+Y,eE,bQ=g.j(X*k),hT=g.j(X*k),df=g.j(X*k),eV=g.j(X*k),gU=255/u,i8=255/(255-r);
for(M=0;M<k;M++){for(p=0;p<X;p++){var N=M*X+p,bv=N<<2;i=g.jN(W[bv],W[bv+1],W[bv+2]);eV[N]=i;if(i<u)bQ[N]=255-i*gU;
if(i>r)hT[N]=255-(255-i)*i8}}if(y)console.log("init",Date.now()-R);R=Date.now();if(B*s>0){g.Zt.Yd(bQ,new dU(0,0,X,k),s,2)}if(K*F>0){g.Zt.Yd(hT,new dU(0,0,X,k),F,2)}if(y)console.log("blur",Date.now()-R);
R=Date.now();var fE=g.j(256),d5=g.j(256);for(var N=0;N<256;N++){var aR=N*(1/255),l8=0;l8=(1-Math.pow(1-aR,v))*255;
fE[N]=Math.max(0,Math.min(255,~~(l8+.5)));l8=Math.pow(aR,c)*255;d5[N]=Math.max(0,Math.min(255,~~(l8+.5)))}var au=new Uint8ClampedArray(q.buffer),hx=new Float32Array(32768);
for(var N=0;N<32768;N++){eE=Math.sqrt(N)*(1/128);if(cr>1)eE=(1-eE)*(cr-1)+1;else eE=eE*(cr-1)+1;hx[N]=eE}for(M=0;
M<k;M++){for(p=0;p<X;p++){var N=M*X+p,bv=N<<2,l8=eV[N],fw=bQ[N]*(1/255),cx=hT[N]*(1/255);l8=(1-fw)*l8+fw*fE[~~l8];
l8=(1-cx)*l8+cx*d5[~~l8];i=l8;var fg=W[bv],iI=W[bv+1],eq=W[bv+2];dF=-fg*.168736-iI*.331264+eq*.5;t=fg*.5-iI*.418688-eq*.081312;
eE=hx[~~(.5+dF*dF+t*t)];im=dF*eE;at=t*eE;d9=1-Math.min(2-(fw+cx),1);dF=d9*dF+(1-d9)*im;t=d9*t+(1-d9)*at;
fF=i+1.402*t;g$=i-.34414*dF-.71414*t;fR=i+1.772*dF;au[bv]=~~(.5+fF);au[bv+1]=~~(.5+g$);au[bv+2]=~~(.5+fR)}}if(y)console.log("apply masks",Date.now()-R);
R=Date.now()};g.AJ={};g.AJ.fb=function(W,q,X,k,B){var U=Date.now(),l=!1,R=1,H=0,C=0;if(!q.Ox(B)){var K=q.xw(B),D=g.j(K.C()*4);
g.YE(W,q,D,K);W=D;q=K}var m=g.j(q.C());g.Z_(X,B,m,q);g.round(m);B=B.x$(q);var Y=B.r,a=B.$,p=Y*3<a?2:1,M=a*3<Y?2:1;
if(B.C()*(p*2+1)*(M*2+1)<q.C()){var K=new dU(B.x-Y*p,B.y-a*p,Y*(p*2+1),a*(M*2+1)).x$(q),D=g.j(K.C()*4);
g.YE(W,q,D,K);var x=g.j(K.C());g.Z_(m,q,x,K);q=K;W=D;m=x}while((q.r+q.$)/2/R>400)R++;var y=W,s=q,F=m,E=Math.floor(s.r/R),o=Math.floor(s.$/R);
W=g.j(E*o*4);g.scale.YS(y,s.r,s.$,W,E,o,1/R);m=g.j(E*o);g.scale.G4(F,s.r,s.$,m,E,o,1/R);g.round(m,1);
if(l)console.log("scale down:",R,E,o);var G=g.Iu(m,new dU(0,0,E,o));if(G.PM())return 1;var d=Math.round((G.r+G.$)/2/15);
if(l)console.log(Date.now()-U,"preprocess");U=Date.now();var u=g.j(E*o*4);g.aAP(W,u);var r=Int16Array,v=new r(E*o*24),c=new r(64),V=new r(64),j=new r(64),Q=new r(64);
for(var T=3;T<o-4;T++)for(var e=3;e<E-4;e++){var z=T*E+e;if(m[z]==255)continue;if(g.AJ.awK(u,m,e,T,E,o,c,V,j)!=0)continue;
g.AJ.GN(c,Q);var J=H*24;v[J]=e;v[J+1]=T;g.AJ.cX(c,v,J+4,12);g.AJ.GN(V,Q);g.AJ.cX(V,v,J+16,4);g.AJ.GN(j,Q);
g.AJ.cX(j,v,J+20,4);var P=v[J+5],L=v[J+6];v[J+5]=v[J+16];v[J+6]=v[J+20];v[J+16]=P;v[J+20]=L;H++}if(H==0)return 2;
if(l)console.log(Date.now()-U,"FWHT computed");U=Date.now();var A=[];g.AJ.q4(0,H-1,A,v,new r(2*24));
if(l)console.log(Date.now()-U,"KD tree computed");U=Date.now();var h=new Uint32Array(E*o*4);for(var N=0;
N<H;N++){var w=N,f=g.AJ.ayJ(w,v,A,d);if(f==-1)continue;var O=w*24,n=f*24,$=v[O],d9=v[O+1],i=v[n],dF=v[n+1];
C+=g.AJ.getError(n,O,v,1e99);var t=i-$,im=dF-d9;h[(o+im)*2*E+(E+t)]+=1}if(l)console.log(Date.now()-U,"NN found");
U=Date.now();var bc=[],at=1/(2*E);for(var N=0;N<h.length;N++){if(h[N]>0){var T=Math.floor(N*at),e=N-T*2*E;
bc.push({x:e-E,y:T-o,_:h[N],_s:-1})}}bc.sort(function(au,hx){return hx._-au._});var l9=new Int32Array(E*o),fF=[];
for(var N=0;N<E*o;N++){if(m[N]==255){l9[N]=fF.length>>>1;fF.push(N%E,Math.floor(N/E))}else if(W[(N<<2)+3]<200){l9[N]=-2}else{l9[N]=-1}}var g$=g.AJ.af0(E,o,bc,l9,fF);
if(g$==null){if(l)console.log("no appropriate labeling");return 3}var fR=g$.hF,top=g$.top;fR=g.AJ.anC(fR,W,E,o,top,l9,fF);
if(l)console.log(Date.now()-U,"optimal labeling found");U=Date.now();var K=B.P();K.Pt(1,1);K=K.x$(s);
var cr=g.j(K.C()*4),eE=g.j(K.C());g.YE(y,s,cr,K);var bQ=s.r,hT=s.$;for(var T=0;T<hT;T++)for(var e=0;
e<bQ;e++){if(F[T*bQ+e]==0)continue;var df=Math.min(Math.floor(e/R),E-1),eV=Math.min(Math.floor(T/R),o-1),gU=l9[eV*E+df];
if(gU==-1)continue;var i8=fR[gU],bv=top[i8],fE=e+bv.x*R,d5=T+bv.y*R,aR=d5*bQ+fE<<2,l8=(T-K.y+s.y)*K.r+(e-K.x+s.x)<<2;
cr[l8]=y[aR];cr[l8+1]=y[aR+1];cr[l8+2]=y[aR+2];cr[l8+3]=y[aR+3];cr[l8+3]=y[aR+3];eE[l8>>2]=i8+1}if(l)console.log(Date.now()-U,"copied back");
U=Date.now();g.n4.fb(cr,eE,K,null,1e3);if(l)console.log(Date.now()-U,"poisson smooth");U=Date.now();
g.YE(cr,K,k,B);return 0};g.AJ.alh=function(W,q,X,k,B,U){return g.AJ._7(W+B.x,q+B.y,X,k,U)?0:1e9};g.AJ.anC=function(W,q,X,k,top,B,U){var l=Date.now(),K=U.length>>>1,D=[-1,0,0,-1,1,0,0,1],m=1e99,Y=[],a=[],p=2*(K*2*3+K*2),M=null,x=0,R=0,y=0,s=1e99;
while(!0&&Date.now()<l+12e3){y++;var F=null,E=m;for(var o=0;o<top.length;o++){var G=top[o],d=0,u=K+2,r=0;
for(var N=0;N<K;N++){var v=U[N*2],c=U[N*2+1],V=top[W[N]],j=g.AJ.alh(v,c,X,k,G,B),Q=W[N]==o?1e9:g.AJ.alh(v,c,X,k,V,B);
for(var a1=0;a1<4;a1++){if(a1==0&&v==0||a1==1&&c==0||a1==2&&v==X-1||a1==3&&c==k-1)continue;var H=D[2*a1],T=D[2*a1+1],e=v+H,z=c+T,J=B[z*X+e];
if(J==-2){}else if(J==-1){j+=3*g.AJ.ZQ(e+G.x,z+G.y,e,z,X,k,q,B);j+=2*g.AJ.ZQ(e+G.x+H,z+G.y+T,e+H,z+T,X,k,q,B);
Q+=3*g.AJ.ZQ(e+V.x,z+V.y,e,z,X,k,q,B);Q+=2*g.AJ.ZQ(e+V.x+H,z+V.y+T,e+H,z+T,X,k,q,B)}else if(a1>1){if(W[N]==W[J]){var P=0;
P+=g.AJ.ZQ(v+V.x,c+V.y,v+G.x,c+G.y,X,k,q,B);P+=g.AJ.ZQ(e+V.x,z+V.y,e+G.x,z+G.y,X,k,q,B);Y[d]=N;Y[d+1]=J;
a[d]=P;a[d+1]=P;d+=2}else{var L=top[W[J]],A=u,h=0,C=0,w=0;u++;h+=g.AJ.ZQ(v+V.x,c+V.y,v+G.x,c+G.y,X,k,q,B);
h+=g.AJ.ZQ(e+V.x,z+V.y,e+G.x,z+G.y,X,k,q,B);C+=g.AJ.ZQ(v+L.x,c+L.y,v+G.x,c+G.y,X,k,q,B);C+=g.AJ.ZQ(e+L.x,z+L.y,e+G.x,z+G.y,X,k,q,B);
w+=g.AJ.ZQ(v+L.x,c+L.y,v+V.x,c+V.y,X,k,q,B);w+=g.AJ.ZQ(e+L.x,z+L.y,e+V.x,z+V.y,X,k,q,B);Y[d]=N;Y[d+1]=A;
a[d]=h;a[d+1]=h;d+=2;Y[d]=J;Y[d+1]=A;a[d]=C;a[d+1]=C;d+=2;Y[d]=A;Y[d+1]=K+1;a[d]=w;a[d+1]=0;d+=2}}}Y[d]=K;
Y[d+1]=N;a[d]=j;a[d+1]=0;d+=2;Y[d]=N;Y[d+1]=K+1;a[d]=Q;a[d+1]=0;d+=2;r+=Math.min(j,Q)}if(r>E)continue;
var f=g.Ci.Xq(u,d,K,K+1,Y,a,E);if(f.aL<E){E=f.aL;var O=W.slice(0);g.AJ.a3A(O,d,Y,f.$N,o,K);F=O}}if(E*1>=m){break}m=E;
W=F;if((y&3)==0){if(E*1.03>=s)break;s=E}if((y&3)==0){var n=0*top.length;for(var N=0;N<top.length&&top.length>n;
N++){if(W.indexOf(N)!=-1)continue;top.splice(N,1);for(var J=0;J<W.length;J++)if(W[J]>N)W[J]--;N--}}}return W};
g.AJ.a3A=function(W,q,X,k,B,U){for(var N=0;N<k.length;N++){var l=k[N]<<1,K=0,D=0;if(l<q){K=X[l];D=X[l+1]}else{D=X[l];
K=X[l+1]}if(K==U&&W[D]!=B)W[D]=B}};g.AJ.ar0=function(top,W,q,X,k,B,U,l,K){for(var N=0;N<q.length;N++){var D=q[N],m=!0;
if(l!=null&&!g.AJ._7(l+D.x,K+D.y,B,U,X))continue;if(D._s==-1)D._s=g.AJ.azL(D,X,k,B,U);if(D._s<=0)continue;
for(var Y=0;Y<top.length;Y++){var a=top[Y],p=D.x-a.x,M=D.y-a.y;if(p*p+M*M<W){m=!1;break}}if(m)return D}return null};
g.AJ.azL=function(W,q,X,k,B){var U=0;for(var N=0;N<X.length;N+=2){var l=X[N]+W.x,K=X[N+1]+W.y;if(g.AJ._7(l,K,k,B,q))U++}return U/(X.length>>1)};
g.AJ.af0=function(W,q,X,k,B){var U=B.length>>>1,top=[];for(var N=0;N<60;N++){var l=g.AJ.ar0(top,25,X,k,B,W,q);
if(l==null)break;else top.push(l)}if(top.length==0)return null;var K=[];for(var N=0;N<U;N++){var D=B[N*2],m=B[N*2+1],Y=-1,a=0;
while(!0){a++;var p=Math.random();Y=Math.floor(p*.99999*top.length);var M=top[Y],x=D+M.x,R=m+M.y;if(g.AJ._7(x,R,W,q,k))break;
if(a>1e3){var l;l=g.AJ.ar0(top,0,X,k,B,W,q,D,m);if(l==null)for(var y=0;y<4;y++){var s,F,E=0;while(!0){s=~~(Math.random()*W);
F=~~(Math.random()*q);if(g.AJ._7(s,F,W,q,k))break;E++;if(E>500)throw"e"}l={x:s-D,y:F-m,_:1,_s:-1};X.push(l);
top.push(l)}else top.push(l);a=0}}K.push(Y)}return{top:top,hF:K}};g.AJ.ZQ=function(W,q,X,k,B,U,l,K){if(W==X&&q==k)return 0;
if(W<0||q<0||W>=B||q>=U||X<0||k<0||X>=B||k>=U||K[q*B+W]!=-1||K[k*B+X]!=-1)return 1e7;var D=q*B+W<<2,m=k*B+X<<2,Y=l[D]-l[m],a=l[D+1]-l[m+1],p=l[D+2]-l[m+2];
return 1+(Y*Y+a*a+p*p)};g.AJ._7=function(W,q,X,k,B){return W>=0&&W<X&&q>=0&&q<k&&B[q*X+W]==-1};g.AJ.ayJ=function(W,q,X,k){var B=24*W,U=q[B],l=q[B+1],K=k*k,D=0,p=1e9;
while(X[D]!=99)if(q[B+X[D]]<X[D+1])D=X[D+2];else D=X[D+3];var m=X[D+1],Y=X[D+2],a=-1;for(var N=m;N<=Y;
N++){var D=N,M=D*24,x=q[M],R=q[M+1];if((x-U)*(x-U)+(R-l)*(R-l)<K)continue;var y=g.AJ.getError(M,B,q,p);
if(y<p){p=y;a=D}}return a};g.AJ.getError=function(W,q,X,k){var B=0;for(var U=4;U<24;U+=4){var l=X[q+U]-X[W+U],K=X[q+U+1]-X[W+U+1],D=X[q+U+2]-X[W+U+2],m=X[q+U+3]-X[W+U+3];
B+=l*l+K*K+D*D+m*m;if(B>=k)return B+1}return B};g.AJ.q4=function(W,q,X,k,B){var U=16,p=0;if(q-W<=U){X.push(99,W,q);
return}g.AJ.Hb(W,q,k,B);var l=-1,K=-1;for(var N=4;N<24;N++){var D=B[2*N+1]-B[2*N];if(D>K){K=D;l=N}}var m=W+q>>1,Y=g.AJ.aBs(m,W,q,k,l),a=-1;
for(var N=W;N<=q;N++)if(k[24*N+l]==Y){if(a==-1)a=N;p=N}if(W+8<a&&a-W>q-p)m=a;else if(p+1<q-8)m=p+1;else if(q-W<64){X.push(99,W,q);
return}else m=m;var M=X.length;X.push(l,Y,0,0);X[M+2]=M+4;g.AJ.q4(W,m-1,X,k,B);X[M+3]=X.length;g.AJ.q4(m,q,X,k,B)};
g.AJ.Hb=function(W,q,X,k){for(var N=0;N<48;N+=4){k[N]=3e4;k[N+1]=-3e4;k[N+2]=3e4;k[N+3]=-3e4}for(var N=W;
N<=q;N++){var B=N*24;for(var U=0;U<24;U++){var l=X[B+U],K=k[U<<1],D=k[(U<<1)+1];if(l<K)k[U<<1]=l;if(l>D)k[(U<<1)+1]=l}}};
g.AJ.Wd=function(W,q,X){var k=0,N=0;k=X[W+N];X[W+N]=X[q+N];X[q+N]=k;N++;k=X[W+N];X[W+N]=X[q+N];X[q+N]=k;
N++;k=X[W+N];X[W+N]=X[q+N];X[q+N]=k;N++;k=X[W+N];X[W+N]=X[q+N];X[q+N]=k;N++;k=X[W+N];X[W+N]=X[q+N];X[q+N]=k;
N++;k=X[W+N];X[W+N]=X[q+N];X[q+N]=k;N++;k=X[W+N];X[W+N]=X[q+N];X[q+N]=k;N++;k=X[W+N];X[W+N]=X[q+N];X[q+N]=k;
N++;k=X[W+N];X[W+N]=X[q+N];X[q+N]=k;N++;k=X[W+N];X[W+N]=X[q+N];X[q+N]=k;N++;k=X[W+N];X[W+N]=X[q+N];X[q+N]=k;
N++;k=X[W+N];X[W+N]=X[q+N];X[q+N]=k;N++;k=X[W+N];X[W+N]=X[q+N];X[q+N]=k;N++;k=X[W+N];X[W+N]=X[q+N];X[q+N]=k;
N++;k=X[W+N];X[W+N]=X[q+N];X[q+N]=k;N++;k=X[W+N];X[W+N]=X[q+N];X[q+N]=k;N++;k=X[W+N];X[W+N]=X[q+N];X[q+N]=k;
N++;k=X[W+N];X[W+N]=X[q+N];X[q+N]=k;N++;k=X[W+N];X[W+N]=X[q+N];X[q+N]=k;N++;k=X[W+N];X[W+N]=X[q+N];X[q+N]=k;
N++;k=X[W+N];X[W+N]=X[q+N];X[q+N]=k;N++;k=X[W+N];X[W+N]=X[q+N];X[q+N]=k;N++;k=X[W+N];X[W+N]=X[q+N];X[q+N]=k;
N++;k=X[W+N];X[W+N]=X[q+N];X[q+N]=k;N++};g.AJ.ry=function(W,q,X,k){var B=X+k>>>1,U=W[24*B+q];while(X<=k){while(W[24*X+q]<U)X++;
while(W[24*k+q]>U)k--;if(X<=k){if(W[24*X+q]!=W[24*k+q])g.AJ.Wd(X*24,k*24,W);X++;k--}}return X};g.AJ.aBs=function(W,q,X,k,B){var U=0;
while(q!=X){U=g.AJ.ry(k,B,q,X);if(W<U)X=U-1;else q=U}return k[W*24+B]};g.AJ.cX=function(W,q,X,k){for(var N=0;
N<k;N++)q[X+N]=W[N]};g.AJ.awK=function(W,q,X,k,B,U,l,K,D){var m=(k-3)*B+(X-3),Y=m<<2;for(var a=0;a<8;
a++){if(q[m]+q[m+1]+q[m+2]+q[m+3]+q[m+4]+q[m+5]+q[m+6]+q[m+7]!=0||W[Y+3]<200||W[Y+7]<200||W[Y+11]<200||W[Y+15]<200||W[Y+19]<200||W[Y+23]<200||W[Y+27]<200||W[Y+31]<200)return 1;
var N=a<<3;l[N+0]=W[Y+0];K[N+0]=W[Y+1];D[N+0]=W[Y+2];l[N+1]=W[Y+4];K[N+1]=W[Y+5];D[N+1]=W[Y+6];l[N+2]=W[Y+8];
K[N+2]=W[Y+9];D[N+2]=W[Y+10];l[N+3]=W[Y+12];K[N+3]=W[Y+13];D[N+3]=W[Y+14];l[N+4]=W[Y+16];K[N+4]=W[Y+17];
D[N+4]=W[Y+18];l[N+5]=W[Y+20];K[N+5]=W[Y+21];D[N+5]=W[Y+22];l[N+6]=W[Y+24];K[N+6]=W[Y+25];D[N+6]=W[Y+26];
l[N+7]=W[Y+28];K[N+7]=W[Y+29];D[N+7]=W[Y+30];Y+=B<<2;m+=B}return 0};g.AJ.GN=function(W,q){q[0]=W[32]+W[0];
q[1]=W[33]+W[1];q[2]=W[34]+W[2];q[3]=W[35]+W[3];q[4]=W[36]+W[4];q[5]=W[37]+W[5];q[6]=W[38]+W[6];q[7]=W[39]+W[7];
q[8]=W[40]+W[8];q[9]=W[41]+W[9];q[10]=W[42]+W[10];q[11]=W[43]+W[11];q[12]=W[44]+W[12];q[13]=W[45]+W[13];
q[14]=W[46]+W[14];q[15]=W[47]+W[15];q[16]=W[48]+W[16];q[17]=W[49]+W[17];q[18]=W[50]+W[18];q[19]=W[51]+W[19];
q[20]=W[52]+W[20];q[21]=W[53]+W[21];q[22]=W[54]+W[22];q[23]=W[55]+W[23];q[24]=W[56]+W[24];q[25]=W[57]+W[25];
q[26]=W[58]+W[26];q[27]=W[59]+W[27];q[28]=W[60]+W[28];q[29]=W[61]+W[29];q[30]=W[62]+W[30];q[31]=W[63]+W[31];
q[32]=W[0]-W[32];q[33]=W[1]-W[33];q[34]=W[2]-W[34];q[35]=W[3]-W[35];q[36]=W[4]-W[36];q[37]=W[5]-W[37];
q[38]=W[6]-W[38];q[39]=W[7]-W[39];q[40]=W[8]-W[40];q[41]=W[9]-W[41];q[42]=W[10]-W[42];q[43]=W[11]-W[43];
q[44]=W[12]-W[44];q[45]=W[13]-W[45];q[46]=W[14]-W[46];q[47]=W[15]-W[47];q[48]=W[16]-W[48];q[49]=W[17]-W[49];
q[50]=W[18]-W[50];q[51]=W[19]-W[51];q[52]=W[20]-W[52];q[53]=W[21]-W[53];q[54]=W[22]-W[54];q[55]=W[23]-W[55];
q[56]=W[24]-W[56];q[57]=W[25]-W[57];q[58]=W[26]-W[58];q[59]=W[27]-W[59];q[60]=W[28]-W[60];q[61]=W[29]-W[61];
q[62]=W[30]-W[62];q[63]=W[31]-W[63];W[0]=q[16]+q[0];W[1]=q[17]+q[1];W[2]=q[18]+q[2];W[3]=q[19]+q[3];
W[4]=q[20]+q[4];W[5]=q[21]+q[5];W[6]=q[22]+q[6];W[7]=q[23]+q[7];W[8]=q[24]+q[8];W[9]=q[25]+q[9];W[10]=q[26]+q[10];
W[11]=q[27]+q[11];W[12]=q[28]+q[12];W[13]=q[29]+q[13];W[14]=q[30]+q[14];W[15]=q[31]+q[15];W[16]=q[0]-q[16];
W[17]=q[1]-q[17];W[18]=q[2]-q[18];W[19]=q[3]-q[19];W[20]=q[4]-q[20];W[21]=q[5]-q[21];W[22]=q[6]-q[22];
W[23]=q[7]-q[23];W[24]=q[8]-q[24];W[25]=q[9]-q[25];W[26]=q[10]-q[26];W[27]=q[11]-q[27];W[28]=q[12]-q[28];
W[29]=q[13]-q[29];W[30]=q[14]-q[30];W[31]=q[15]-q[31];q[0]=W[8]+W[0];q[1]=W[9]+W[1];q[2]=W[10]+W[2];
q[3]=W[11]+W[3];q[4]=W[12]+W[4];q[5]=W[13]+W[5];q[6]=W[14]+W[6];q[7]=W[15]+W[7];q[8]=W[0]-W[8];q[9]=W[1]-W[9];
q[10]=W[2]-W[10];q[11]=W[3]-W[11];q[12]=W[4]-W[12];q[13]=W[5]-W[13];q[14]=W[6]-W[14];q[15]=W[7]-W[15];
W[0]=q[4]+q[0];W[1]=q[5]+q[1];W[2]=q[6]+q[2];W[3]=q[7]+q[3];W[4]=q[0]-q[4];W[5]=q[1]-q[5];W[6]=q[2]-q[6];
W[7]=q[3]-q[7];W[8]=q[12]+q[8];W[9]=q[13]+q[9];W[10]=q[14]+q[10];W[11]=q[15]+q[11];W[12]=q[8]-q[12];
W[13]=q[9]-q[13];W[14]=q[10]-q[14];W[15]=q[11]-q[15];q[0]=W[2]+W[0];q[1]=W[3]+W[1];q[2]=W[0]-W[2];q[3]=W[1]-W[3];
q[4]=W[6]+W[4];q[5]=W[7]+W[5];q[6]=W[4]-W[6];q[7]=W[5]-W[7];q[8]=W[10]+W[8];q[9]=W[11]+W[9];q[10]=W[8]-W[10];
q[11]=W[9]-W[11];q[12]=W[14]+W[12];q[13]=W[15]+W[13];q[14]=W[12]-W[14];q[15]=W[13]-W[15];W[0]=q[1]+q[0];
W[1]=q[0]-q[1];W[2]=q[3]+q[2];W[3]=q[2]-q[3];W[4]=q[5]+q[4];W[5]=q[4]-q[5];W[6]=q[7]+q[6];W[7]=q[6]-q[7];
W[8]=q[9]+q[8];W[9]=q[8]-q[9];W[10]=q[11]+q[10];W[11]=q[10]-q[11];W[12]=q[13]+q[12];W[13]=q[12]-q[13];
W[14]=q[15]+q[14];W[15]=q[14]-q[15]};g.AJ.a0d=function(){var W="",a1=64,q="v",X="t",k="a",B=5,N,U,l;
for(N=a1>>1;N>0;N>>=1,B--){for(U=0;U<a1;U++){l=(U>>B&1)!=0;if(l){W+=X+"["+U+"] = "+q+"["+(-N+U)+"] - "+q+"["+U+"];  "}else{W+=X+"["+U+"] = "+q+"["+(N+U)+"] + "+q+"["+U+"];  "}}k=q;
q=X;X=k;W+="\n"}console.log(W)};g.AJ.aJt=function(a1,W,q){var X=W,k=q,B=X,U=0,N,K,D;while(a1>>U!=2)U++;
var l=U;for(N=a1>>1;N>0;N>>=1,U--){for(K=0;K<a1;K++){D=(K>>U&1)!=0;if(D)k[K]=X[-N+K]-X[K];else k[K]=X[N+K]+X[K]}B=X;
X=k;k=B}if((l&1)==1)for(N=0;N<a1;N++)q[N]=X[N]};g.r$={};g.r$.Qi=function(W,q,X,k,B,U,l,K,D){var m=Date.now(),Y=new Uint32Array(W.buffer),a=new Uint32Array(q.buffer),p=l/X,M=K/k,x=1/p,R=1/M,y=new Float64Array(2),s=3,F=1/s,E=1/(s*s),o=0,G=0,d=X,u=k;
if(B){o=B.x;G=B.y;d=B.r;u=B.$}for(var r=0;r<u;r++)for(var v=0;v<d;v++){var c=o+v,V=G+r,N=V*X+c,j=N<<1,Q=N<<2;
g.r$.aEi(U,l,K,(c+.5)*p,(V+.5)*M,y);var H=y[0]*x,T=y[1]*R;if(H==0&&T==0)a[N]=Y[N];else{g.F.ur(c+H+.5,V+T+.5,Y,X,k,a,N,D)}}};
g.r$.aEi=function(W,q,X,k,B,U){k-=.499999;B-=.499999;var l=~~k,K=~~B,D=k-l,m=B-K,Y=(1-m)*(1-D),a=(1-m)*D,p=m*(1-D),M=m*D,x=l<q-1?l+1:l,R=K<X-1?K+1:K,y=K*q+l<<1,s=K*q+x<<1,F=R*q+l<<1,E=R*q+x<<1;
U[0]=Y*W[y]+a*W[s]+p*W[F]+M*W[E];U[1]=Y*W[y+1]+a*W[s+1]+p*W[F+1]+M*W[E+1]};g.r$.a1e=function(W,q,X,k,B){var U=1/W,l=[-1,1,-W,W],K=k.length;
for(var D=0;D<K;D++){var N=k[D],m=N<<1,Y=D<<1,a=~~(N*U),p=N-W*a,M=X[m],x=X[m+1],R=0,y=0;if(p!=0&&p!=W-1){var s=N-1<<1,F=N+1<<1,E=X[s],o=X[F],G=X[s+1],d=X[F+1],u=M-(E+o)*.5,r=x-(G+d)*.5;
R-=u*B;y-=r*B}if(a!=0&&a!=q-1){var s=N-W<<1,F=N+W<<1,E=X[s],o=X[F],G=X[s+1],d=X[F+1],u=M-(E+o)*.5,r=x-(G+d)*.5;
R-=u*B;y-=r*B}X[m]=M+R;X[m+1]=x+y}};g.r$.a2w=function(W,q){var X=W+","+q;if(g.r$.aJi==X)return g.r$.a10;
var k=g.r$.a10=[];g.r$.aJi=X;for(var N=0;N<=1e3;N++){var B=N*.001,U=Math.sqrt(B),l=Math.exp(-4*U),K=.96*(1-U*U),D=q*((1-W)*l+W*K);
k[N]=D}return k};g.r$.aJi="";g.r$.a10=[];g.r$.axq=function(W,q,X,k,B,U,l,K,D,m,Y,a,p){var M=Math.max(0,Math.floor(B-l-1)),x=Math.min(q,Math.ceil(B+l+1)),R=Math.max(0,Math.floor(U-l-1)),y=Math.min(X,Math.ceil(U+l+1)),s=2*q,F=l*l,E=1/l,o=0;
if(p&&(k==3||k==6))D=-D;var G=g.r$.a2w(K,D);for(var d=R;d<y;d++)for(var u=M;u<x;u++){var N=d*q+u,r=N<<1,v=(B-u)*E,c=(U-d)*E,V=v*v+c*c;
if(V<1){a[o]=N;var j=G[~~(V*1e3)];if(k==1){W[r]=W[r]*(1-j*.05);W[r+1]=W[r+1]*(1-j*.05)}else{var Q=0,H=0,z,J,P,L;
if(k==0){Q=m*j;H=Y*j}else if(k==2){}else if(k==3){Q=j*c;H=-j*v}else if(k==4){Q=j*v;H=j*c}else if(k==5){Q=-j*v;
H=-j*c}else if(k==6){Q=Y*j;H=-m*j}var T=W[r],e=W[r+1];if(u==0||u!=q-1&&Q<0){z=1+W[r+2]-T;P=W[r+3]-e}else{z=T-W[r-2]+1;
P=e-W[r-1]}if(d==0||d!=X-1&&H<0){J=W[r+s]-T;L=1+W[r+s+1]-e}else{J=T-W[r-s];L=e-W[r-s+1]+1}W[r]=-(z*Q+J*H-T);
W[r+1]=-(P*Q+L*H-e)}o++}}};g.r$.aEs=function(W){var q=W[0],X=W[0],k=W[1],B=W[1];for(var N=0;N<W.length;
N+=2){var U=W[N],l=W[N+1];if(U<q)q=U;else if(U>X)X=U;if(l<k)k=l;else if(l>B)B=l}return[q,k,X,B]};g.aGY=function(W,q,X,k,B){function U(i,dF,t,im){return Math.sqrt((i-t)*(i-t)+(dF-im)*(dF-im))}function l(i,dF){return i>=0&&i<q&&dF>=0&&dF<X}function K(i){if(i<0)return 0;
if(i>=q)return q-1;return i}function D(i){if(i<0)return 0;if(i>=X)return X-1;return i}function m(N,i){var dF=i[3]*(1/255),t=k[N]+i[0]*dF;
if(t>255)t=255;k[N]=t;t=k[N+1]+i[1]*dF;if(t>255)t=255;k[N+1]=t;t=k[N+2]+i[2]*dF;if(t>255)t=255;k[N+2]=t}function Y(i,dF,t){if(!A(i,dF))return;
if(t[3]<0)t[3]=0;m((dF*q+i)*4,t)}function a(i){var dF=i.slice(0,3);dF[3]=0;return dF}var p=q/800;function M(i){return Math.round(i*p)}function x(){for(var N=0;
N<=300;N++){C[N]=R(N)}}function R(X){var i=.8,dF=.2,t=i*dF,im=X/60%2-1,bc=t*(1-im*im),at=dF-t,l9;if(X<60){l9=[t+at,bc,0]}else if(X<120){l9=[bc,t,0]}else if(X<180){l9=[0,t,bc]}else if(X<240){l9=[0,bc,t]}else if(X<300){l9=[bc,0,t]}else{l9=[t,0,bc]}return[(l9[0]+at)*255,(l9[1]+at)*255,(l9[2]+at)*255]}function y(X){return C[~~X]}function s(i){return 1-F(i)}function F(i){return i-~~i}function E(i,dF,t,im){P(i,dF,t,0,dF+1,1,im)}function o(i,dF,t,im,bc,at){P(i,dF,t,0,im,1,bc,at)}function G(i){for(var N=0;
N<k.length;N+=4){m(N,i)}}function d(i,dF,t,im,bc,at,l9,fF){u(i,dF,t,im,bc,1,at,l9,fF)}function u(i,dF,t,im,bc,at,l9,fF,g$){if(at==null)at=.5;
if(l9==null)l9=0;if(fF==null)fF=0;if(g$==null)g$=!1;var fR=i.x,cr=i.y,eE=t.slice(0),bQ=~~(t[3]*f);im=im*f;
if(!g$){dF=L(dF);bc=L(bc);l9=L(l9);fF=L(fF)}var hT=K(fR-dF),df=K(fR+dF);for(var eV=hT;eV<=df;eV++){var gU=eV-fR,i8=Math.floor(Math.sqrt(dF*dF-gU*gU)),bv=D(cr-i8),fE=D(cr);
for(var d5=bv;d5<=fE;d5++){var aR=U(eV,d5,fR,cr);if(aR>dF||aR<=dF-bc)break;var l8=(aR-dF+bc)/bc;eE[3]=bQ-im*(at==1?l8:Math.pow(l8,at));
m((d5*q+eV)*4,eE)}bv=D(cr+i8);for(var d5=bv;d5>fE;d5--){var aR=U(eV,d5,fR,cr);if(aR>dF||aR<=dF-bc)break;
var l8=(aR-dF+bc)/bc;eE[3]=bQ-im*(at==1?l8:Math.pow(l8,at));m((d5*q+eV)*4,eE)}}if(l9>0){P(i,dF+l9,eE,eE[3],l9,1,0,0,!0)}if(fF>0){P(i,dF-bc,h(t),-t[3],fF,1,0,0,!0)}}function r(i,dF,t,im,bc,at){P(i,dF,t,t[3],dF+1,1,im,bc,at)}function v(i,dF,t,im,bc){if(bc==null)bc=!1;
var at=i.x,l9=i.y;im*=f;if(!bc){dF=L(dF);t=L(t)}var fF=K(at-dF),g$=K(at+dF);for(var fR=fF;fR<g$;fR++){var cr=fR-at,eE=~~Math.sqrt(dF*dF-cr*cr),bQ=D(l9-eE),hT=D(l9);
for(var df=bQ;df<=hT;df++){var eV=U(fR,df,at,l9);if(eV>dF||eV<=dF-t)break;var gU=(dF-eV)/t,i8=y(300*gU);
i8[3]=im;m((df*q+fR)*4,i8)}bQ=D(l9+eE);for(var df=bQ;df>hT;df--){var eV=U(fR,df,at,l9);if(eV>dF||eV<=dF-t)break;
var gU=(dF-eV)/t,i8=y(300*gU);i8[3]=im;m((df*q+fR)*4,i8)}}}function c(w,i){var dF=w.eN,t=w.fa,im=i.slice(0),bc=i[3]*f,at=Math.abs(t.y-dF.y)>Math.abs(t.x-dF.x);
if(at){var l9=dF.x;dF.x=dF.y;dF.y=l9;l9=t.x;t.x=t.y;t.y=l9}if(dF.x>t.x){var l9=dF;dF=t;t=l9}var fF=t.x-dF.x,g$=t.y-dF.y,fR=fF==0?1:g$/fF,cr=Math.round(dF.x),eE=dF.y+fR*(cr-dF.x),bQ=s(dF.x+.5),hT=cr,df=~~eE;
if(at){im[3]=bc*s(eE)*bQ;Y(df,hT,im);im[3]=bc*F(eE)*bQ;Y(df+1,hT,im)}else{im[3]=bc*s(eE)*bQ;Y(hT,df,im);
im[3]=bc*F(eE)*bQ;Y(hT,df+1,im)}var eV=eE-fR;cr=Math.round(t.x);eE=t.y+fR*(cr-t.x);bQ=F(t.x+.5);var gU=cr,i8=~~eE;
if(at){im[3]=bc*s(eE)*bQ;Y(i8,gU,im);im[3]=bc*F(eE)*bQ;Y(i8+1,gU,im)}else{im[3]=bc*s(eE)*bQ;Y(gU,i8,im);
im[3]=bc*F(eE)*bQ;Y(gU,i8+1,im)}if(at){for(var bv=hT+1;bv<=gU-1;bv++){im[3]=bc*s(eV);Y(~~eV,bv,im);im[3]=bc*F(eV);
Y(~~eV+1,bv,im);eV+=fR}}else{for(var bv=hT+1;bv<=gU-1;bv++){im[3]=bc*s(eV);Y(bv,~~eV,im);im[3]=bc*F(eV);
Y(bv,~~eV+1,im);eV+=fR}}}function V(i,dF,t,im){for(var N=0;N<4;N++){var bc=i._2(dF+1.3*N,t);c(bc,im,1)}}function hw(i,dF){this.x=Math.round(i);
this.y=Math.round(dF)}var j=Math.PI/180;hw.prototype._2=function(i,dF){i=i*j;var t=this.x+dF*Math.cos(i),im=this.y+dF*Math.sin(i);
return new Q(this.x,this.y,t,im)};hw.prototype.and=function(i,dF){i=i*j;var t=this.XP+dF*Math.cos(i),im=this.xt+dF*Math.sin(i);
return new hw(t,im)};function Q(i,dF,t,im){this.eN=new hw(i,dF);this.fa=new hw(t,im)}Q.prototype.DH=function(i){var dF=i*this.eN.x+(1-i)*this.fa.x,t=i*this.eN.y+(1-i)*this.fa.y;
return new hw(dF,t)};var H=d,T=r,e=E,z=o,J=v,P=u,L=M,A=l,h=a,C=[];x();for(var N=0;N<W.length;N++){k[N]=W[N]}var w=new Q(q*B[2],X*B[3],q/2,X/2),f=B[1],O=[];
O[0]=function n(){var i=[80,40,15,60],t=0,im=0;e(w.DH(1.4),260,i,10);e(w.DH(1),100,[240,50,50,30],30);
T(w.DH(1),60,[255,40,0,40]);var dF=[255,255,255,255];P(w.DH(1),70,dF,dF[3],58,.5);e(w.DH(1),12,dF);dF[3]=40;
H(w.DH(1),150,dF,dF[3],150);for(var N=0;N<40;N++){t+=Math.random()*25;im=Math.random()*L(300)+L(100);
var bc=w.DH(1)._2(t,im);c(w.DH(1)._2(t,im),[110,110,110,30])}T(w.DH(1),130,[255,255,255,8]);var at=[170,30,23,70];
z(w.DH(1),70,at,1,3,3);var l9=[60,60,130,40];e(w.DH(.47),44,l9,5);e(w.DH(.43),22,l9,3);l9[3]=16;e(w.DH(.53),15,l9,2);
var fF=[138,94,42,100];e(w.DH(.2),16,fF,2);var g$=[130,255,170,180];T(w.DH(0),4,g$);T(w.DH(-.25),5,g$);
fF=[150,90,0,50];H(w.DH(-.45),55,h(fF),-fF[3],40,2);e(w.DH(-.42),35,fF,2);e(w.DH(-.5),15,fF,2);J(w.DH(-1.28),145,11,70);
var fR=y(0);fR[3]=50;H(w.DH(-1.28),149,fR,fR[3],4);fR=y(300);fR[3]=50;H(w.DH(-1.28),155-1,h(fR),-fR[3],3);
var cr=[130,130,10,50];z(w.DH(-1),73,cr,3,2);var eE=[40,130,70,40];H(w.DH(-1),70,h(eE),-eE[3],35);eE=[40,170,60,50];
e(w.DH(-.7),25,eE,4);var eE=[70,110,50,60];H(w.DH(1.3),30,h(eE),-eE[3],11,3);l9=[0,50,210,80];T(w.DH(-.72),20,l9)};
O[1]=function $(){T(w.DH(1),150,[240,70,70,60]);e(w.DH(1),100,[200,60,60,40],30);var i=[255,255,255,255],dF=0,t=0;
P(w.DH(1),75,i,i[3],63);e(w.DH(1),12,i);T(w.DH(1),270,[200,200,200,20],10);for(var N=0;N<10;N++){dF+=10+Math.random()*40;
t=Math.random()*L(250)+L(80);var im=w.DH(1)._2(dF,t);c(im,[110,110,110,35])}dF=5;t=100;for(var N=0;N<12;
N++){dF+=30;V(w.DH(1),dF,t,[90,90,90,40])}var bc=[150,40,23,100];z(w.DH(1),70,bc,1,3,3);var at=[30,100,60,40];
T(w.DH(-.9),180,[255,255,255,20]);e(w.DH(-.9),140,at,15);var l9=[170,80,25,15];z(w.DH(-.9),120,l9,1,4,4);
var fF=[110,240,190,200];T(w.DH(-.6),3,fF);fF[3]=100;T(w.DH(-.6),7,fF);var g$=[230,120,40,85];T(w.DH(-.73),9,g$);
var fR=[60,60,190,50];e(w.DH(.3),28,fR,6);fR[3]=25;e(w.DH(.34),20,fR,3)};O[2]=function d9(){var i=[255,255,255,255],t=0,im=0;
e(w.DH(1),13,i);P(w.DH(1),150,i,i[3],137);var dF=[120,80,35,20];e(w.DH(1.4),260,dF,10);for(var N=0;N<40;
N++){t+=5+Math.random()*30;im=Math.random()*L(300);c(w.DH(1)._2(t,im),[110,110,110,20])}var bc=[10,30,255,30];
e(w.DH(1),70,bc,50);var at=[15,90,170,15];e(w.DH(1.5),60,at);var l9=[220,220,20,50];e(w.DH(-1.15),8,l9,2);
var i=[255,255,255,40];T(w.DH(-1.18),6,i);T(w.DH(-1.18),4,i);l9=[110,110,10,8];H(w.DH(-1.2),32,h(l9),-l9[3],20,3);
var fF=[5,0,16,255];for(var N=0;N<4;N++){e(w.DH(-1.36),10,fF,3)}var g$=[90,200,150,20],fR=g$.slice(0);
fR[3]*=2;e(w.DH(-1.32),7,fR,3);e(w.DH(-1.36),7,fR,3);e(w.DH(-1.4),7,fR,3);var i=[230,230,230,100];T(w.DH(-1.36),2,i);
i[3]=3;e(w.DH(-.55),10,i);l9=[120,100,10,18];e(w.DH(-.55),160,l9,8);e(w.DH(-.55),80,l9,4);g$[3]=3;fR[3]=6;
H(w.DH(-.49),13,h(fR),-fR[3],13,2);H(w.DH(-.55),13,h(fR),-fR[3],13,2);g$[3]=20;e(w.DH(.15),25,g$,3);
l9[3]=100;T(w.DH(-.52),3,l9);l9=[200,200,50,40];e(w.DH(.27),1,l9,4);var cr=[150,40,23,30];H(w.DH(1),80,h(cr),-cr[3],2,1)};
return O[B[0]]()};g.Ez={};g.Ez.Pj=function(W){var q=W.length,a1=W[0].length,X=new Array(a1);for(var N=0;
N<a1;N++)X[N]=new Array(q);for(var N=0;N<a1;N++)for(var k=0;k<q;k++)X[N][k]=W[k][N];return X};g.Ez.SR=function(W,q){var X=W.length,a1=W[0].length,k=new Array(X);
for(var N=0;N<X;N++)k[N]=new Array(a1);for(var N=0;N<X;N++)for(var B=0;B<a1;B++)k[N][B]=W[N][B]-q[N][B];
return k};g.Ez.add=function(W,q){var X=W.length,a1=W[0].length,k=new Array(X);for(var N=0;N<X;N++)k[N]=new Array(a1);
for(var N=0;N<X;N++)for(var B=0;B<a1;B++)k[N][B]=W[N][B]+q[N][B];return k};g.Ez.multiply=function(W,q){var X=W.length,k=W[0].length,a1=q[0].length;
if(k!=q.length)throw"e";var B=new Array(X);for(var N=0;N<X;N++)B[N]=new Array(a1);if((k&1)!=0)for(var N=0;
N<X;N++){var U=W[N],l=B[N];for(var K=0;K<a1;K++){var D=0;for(var m=0;m<k;m++)D+=U[m]*q[m][K];l[K]=D}}else for(var N=0;
N<X;N++){var U=W[N],l=B[N];for(var K=0;K<a1;K++){var D=0;for(var m=0;m<k;m+=2)D+=U[m]*q[m][K]+U[m+1]*q[m+1][K];
l[K]=D}}return B};g.Ez.ME=function(W,q){var X=W.length,a1=W[0].length,k=new Array(X);for(var N=0;N<X;
N++){var B=0;for(var U=0;U<a1;U++)B+=W[N][U]*q[U];k[N]=B}return k};g.Ez.Fv=function(W,q){var X=[];for(var N=0;
N<W;N++){X.push([]);for(var k=0;k<q;k++)X[N].push(0)}return X};g.Ez.aCm=function(W){for(var N=0;N<W.length;
N++)console.log(JSON.stringify(W[N]))};g.Ez.aKq=function(W){var q=[];for(var N=0;N<W.length;N++)q.push(W[N].join(","));
return"["+q.join(";")+"]"};g.Ez.Xq=function(W,q){var X=W.length;for(var k=0;k<X;k++){var B=0,U=Number.NEGATIVE_INFINITY;
for(var N=k;N<X;N++)if(Math.abs(W[N][k])>U){B=N;U=Math.abs(W[N][k])}g.Ez.aDR(W,k,B);for(var N=k+1;N<X;
N++){if(W[k][k]==0)return 1;var l=W[N][k]/W[k][k];for(var K=k;K<X+1;K++)W[N][K]-=W[k][K]*l}}for(var N=X-1;
N>=0;N--){if(W[N][N]==0)return 1;var D=W[N][X]/W[N][N];q[N]=D;for(var K=N-1;K>=0;K--){W[K][X]-=W[K][N]*D;
W[K][N]=0}}return 0};g.Ez.aDR=function(W,q,X){var k=W[q];W[q]=W[X];W[X]=k};g.Ez.aGf=function(W){var q=W.length,X=g.Ez.Fv(q,q);
for(var N=0;N<q;N++)X[N][N]=W[N];return X};g.Ez.abz=function(W){var q=W.length,X=W[0].length,k=new Array(q);
for(var N=0;N<q;N++){k[N]=0;for(var B=0;B<X;B++)k[N]+=W[N][B];k[N]/=X}return k};g.Ez.t$=function(W){var q=0;
for(var N=0;N<W.length;N++)q+=W[N]*W[N];return Math.sqrt(q)};g.Id={};g.Id.QR=function(W){var q=~~(W+.5);
return q<0?0:q>255?255:q};g.Id.DQ=function(W,q,X){function k(D){return Math.max(0,Math.min(1,D))}var B=W.o.length;
for(var N=0;N<B;N++){var U=W.o[N],l=W.L[N],K=W.X[N];q.o[N]=k(X[0]*U+X[1]*l+X[2]*K+X[3]);q.L[N]=k(X[4]*U+X[5]*l+X[6]*K+X[7]);
q.X[N]=k(X[8]*U+X[9]*l+X[10]*K+X[11])}};g.Id.ay2=function(W,q,X){var k=g.Oj(W),B=k==8?255:k==16?65535:1,U=1/B,l=W.length;
function K(a){return Math.max(0,Math.min(1,a))}for(var N=0;N<l;N+=4){var D=W[N]*U,m=W[N+1]*U,Y=W[N+2]*U;
q[N]=B*K(X[0]*D+X[1]*m+X[2]*Y+X[3]);q[N+1]=B*K(X[4]*D+X[5]*m+X[6]*Y+X[7]);q[N+2]=B*K(X[8]*D+X[9]*m+X[10]*Y+X[11])}};
g.Id.aqz=function(W){var q=W[0]+W[1]+W[2],X=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];if(q==1){var k=W.indexOf(1);
X[k]=X[k+4]=X[k+8]=1}else{X[0]=W[0];X[5]=W[1];X[10]=W[2]}return X};g.Id.wN=function(W,q,X){return[1,0,0,W,0,1,0,q,0,0,1,X,0,0,0,1]};
g.Id.pE=function(W,q,X){return[W,0,0,0,0,q,0,0,0,0,X,0,0,0,0,1]};g.Id.axF=function(W){return[W[0],W[1],W[2],W[4],W[5],W[6],W[8],W[9],W[10]]};
g.Id.V4=function(W){return[W[0],W[1],W[2],0,W[3],W[4],W[5],0,W[6],W[7],W[8],0,0,0,0,1]};g.Id.Z2=function(W,q){return[W[0]*q[0]+W[1]*q[1]+W[2]*q[2]+W[3]*q[3],W[4]*q[0]+W[5]*q[1]+W[6]*q[2]+W[7]*q[3],W[8]*q[0]+W[9]*q[1]+W[10]*q[2]+W[11]*q[3],W[12]*q[0]+W[13]*q[1]+W[14]*q[2]+W[15]*q[3]]};
g.Id.Pj=function(W){var q=[];q[0]=W[0];q[1]=W[4];q[2]=W[8];q[3]=W[12];q[4]=W[1];q[5]=W[5];q[6]=W[9];
q[7]=W[13];q[8]=W[2];q[9]=W[6];q[10]=W[10];q[11]=W[14];q[12]=W[3];q[13]=W[7];q[14]=W[11];q[15]=W[15];
return q};g.Id.add=function(W,q){var X=W.slice(0);for(var N=0;N<16;N++)X[N]+=q[N];return X};g.Id.multiply=function(W,q){var X=[];
X[0]=W[0]*q[0]+W[1]*q[4]+W[2]*q[8]+W[3]*q[12];X[1]=W[0]*q[1]+W[1]*q[5]+W[2]*q[9]+W[3]*q[13];X[2]=W[0]*q[2]+W[1]*q[6]+W[2]*q[10]+W[3]*q[14];
X[3]=W[0]*q[3]+W[1]*q[7]+W[2]*q[11]+W[3]*q[15];X[4]=W[4]*q[0]+W[5]*q[4]+W[6]*q[8]+W[7]*q[12];X[5]=W[4]*q[1]+W[5]*q[5]+W[6]*q[9]+W[7]*q[13];
X[6]=W[4]*q[2]+W[5]*q[6]+W[6]*q[10]+W[7]*q[14];X[7]=W[4]*q[3]+W[5]*q[7]+W[6]*q[11]+W[7]*q[15];X[8]=W[8]*q[0]+W[9]*q[4]+W[10]*q[8]+W[11]*q[12];
X[9]=W[8]*q[1]+W[9]*q[5]+W[10]*q[9]+W[11]*q[13];X[10]=W[8]*q[2]+W[9]*q[6]+W[10]*q[10]+W[11]*q[14];X[11]=W[8]*q[3]+W[9]*q[7]+W[10]*q[11]+W[11]*q[15];
X[12]=W[12]*q[0]+W[13]*q[4]+W[14]*q[8]+W[15]*q[12];X[13]=W[12]*q[1]+W[13]*q[5]+W[14]*q[9]+W[15]*q[13];
X[14]=W[12]*q[2]+W[13]*q[6]+W[14]*q[10]+W[15]*q[14];X[15]=W[12]*q[3]+W[13]*q[7]+W[14]*q[11]+W[15]*q[15];
return X};g.Id.i5=function(W){var q=[];q[0]=W[5]*W[10]*W[15]-W[5]*W[14]*W[11]-W[6]*W[9]*W[15]+W[6]*W[13]*W[11]+W[7]*W[9]*W[14]-W[7]*W[13]*W[10];
q[1]=-W[1]*W[10]*W[15]+W[1]*W[14]*W[11]+W[2]*W[9]*W[15]-W[2]*W[13]*W[11]-W[3]*W[9]*W[14]+W[3]*W[13]*W[10];
q[2]=W[1]*W[6]*W[15]-W[1]*W[14]*W[7]-W[2]*W[5]*W[15]+W[2]*W[13]*W[7]+W[3]*W[5]*W[14]-W[3]*W[13]*W[6];
q[3]=-W[1]*W[6]*W[11]+W[1]*W[10]*W[7]+W[2]*W[5]*W[11]-W[2]*W[9]*W[7]-W[3]*W[5]*W[10]+W[3]*W[9]*W[6];
q[4]=-W[4]*W[10]*W[15]+W[4]*W[14]*W[11]+W[6]*W[8]*W[15]-W[6]*W[12]*W[11]-W[7]*W[8]*W[14]+W[7]*W[12]*W[10];
q[5]=W[0]*W[10]*W[15]-W[0]*W[14]*W[11]-W[2]*W[8]*W[15]+W[2]*W[12]*W[11]+W[3]*W[8]*W[14]-W[3]*W[12]*W[10];
q[6]=-W[0]*W[6]*W[15]+W[0]*W[14]*W[7]+W[2]*W[4]*W[15]-W[2]*W[12]*W[7]-W[3]*W[4]*W[14]+W[3]*W[12]*W[6];
q[7]=W[0]*W[6]*W[11]-W[0]*W[10]*W[7]-W[2]*W[4]*W[11]+W[2]*W[8]*W[7]+W[3]*W[4]*W[10]-W[3]*W[8]*W[6];q[8]=W[4]*W[9]*W[15]-W[4]*W[13]*W[11]-W[5]*W[8]*W[15]+W[5]*W[12]*W[11]+W[7]*W[8]*W[13]-W[7]*W[12]*W[9];
q[9]=-W[0]*W[9]*W[15]+W[0]*W[13]*W[11]+W[1]*W[8]*W[15]-W[1]*W[12]*W[11]-W[3]*W[8]*W[13]+W[3]*W[12]*W[9];
q[10]=W[0]*W[5]*W[15]-W[0]*W[13]*W[7]-W[1]*W[4]*W[15]+W[1]*W[12]*W[7]+W[3]*W[4]*W[13]-W[3]*W[12]*W[5];
q[11]=-W[0]*W[5]*W[11]+W[0]*W[9]*W[7]+W[1]*W[4]*W[11]-W[1]*W[8]*W[7]-W[3]*W[4]*W[9]+W[3]*W[8]*W[5];q[12]=-W[4]*W[9]*W[14]+W[4]*W[13]*W[10]+W[5]*W[8]*W[14]-W[5]*W[12]*W[10]-W[6]*W[8]*W[13]+W[6]*W[12]*W[9];
q[13]=W[0]*W[9]*W[14]-W[0]*W[13]*W[10]-W[1]*W[8]*W[14]+W[1]*W[12]*W[10]+W[2]*W[8]*W[13]-W[2]*W[12]*W[9];
q[14]=-W[0]*W[5]*W[14]+W[0]*W[13]*W[6]+W[1]*W[4]*W[14]-W[1]*W[12]*W[6]-W[2]*W[4]*W[13]+W[2]*W[12]*W[5];
q[15]=W[0]*W[5]*W[10]-W[0]*W[9]*W[6]-W[1]*W[4]*W[10]+W[1]*W[8]*W[6]+W[2]*W[4]*W[9]-W[2]*W[8]*W[5];var X=W[0]*q[0]+W[1]*q[4]+W[2]*q[8]+W[3]*q[12];
for(var N=0;N<16;N++)q[N]/=X;return q};g.Id.aBT=function(W){var q=[],X=W[5]*W[10]*W[15]-W[5]*W[14]*W[11]-W[6]*W[9]*W[15]+W[6]*W[13]*W[11]+W[7]*W[9]*W[14]-W[7]*W[13]*W[10],k=-W[4]*W[10]*W[15]+W[4]*W[14]*W[11]+W[6]*W[8]*W[15]-W[6]*W[12]*W[11]-W[7]*W[8]*W[14]+W[7]*W[12]*W[10],B=W[4]*W[9]*W[15]-W[4]*W[13]*W[11]-W[5]*W[8]*W[15]+W[5]*W[12]*W[11]+W[7]*W[8]*W[13]-W[7]*W[12]*W[9],U=-W[4]*W[9]*W[14]+W[4]*W[13]*W[10]+W[5]*W[8]*W[14]-W[5]*W[12]*W[10]-W[6]*W[8]*W[13]+W[6]*W[12]*W[9];
return W[0]*X+W[1]*k+W[2]*B+W[3]*U};g.Id.n8=function(W,q,X,k){var B=Math.sin(k),U=Math.cos(k),l=1/Math.sqrt(W*W+q*q+X*X);
W*=l;q*=l;X*=l;return g.Id.V4([W*W*(1-U)+U,W*q*(1-U)-X*B,W*X*(1-U)+q*B,W*q*(1-U)+X*B,q*q*(1-U)+U,q*X*(1-U)-W*B,W*X*(1-U)-q*B,q*X*(1-U)+W*B,X*X*(1-U)+U])};
g.Id.Ck=g.Id.V4([3.1338561,-1.6168667,-.4906146,-.9787684,1.9161415,.033454,.0719453,-.2289914,1.4052427]);
g.Id.aID=g.Id.V4([1.9624274,-.6105343,-.3413404,-.9787684,1.9161415,.033454,.0286869,-.1406752,1.3487655]);
g.Id.al2=g.Id.V4([1.3459433,-.2556075,-.0511118,-.5445989,1.5081673,.0205351,0,0,1.2118128]);g.Id.apt=g.Id.V4([2.1861968,-.8165993,-.3530805,-.8443876,1.7943237,.024049,.0479222,-.1018347,1.2792565]);
g.Id.aeL=g.Id.i5(g.Id.Ck);g.Ci={};g.Ci.gs=new Uint32Array(1);g.Ci.aFy=function(W,q,X,k,B,U){var l=new Uint32Array(W),K=0,D=g.Ci.gs;
if(D.length<q*4)g.Ci.gs=D=new Uint32Array(q*4);var m=new Float64Array(D.buffer);for(var N=0;N<q;N+=2){var Y=B[N],a=B[N+1],p=U[N],M=U[N+1];
D[K]=a;m[K+2>>1]=p;D[K+1]=l[Y];l[Y]=K+1;K+=4;D[K]=Y;m[K+2>>1]=M;D[K+1]=l[a];l[a]=K+1;K+=4}return{wY:D,aE2:m,aAW:l}};
g.Ci.Xq=function(W,q,X,k,B,U,l){var K=1,D=g.Ci.aFy(W,q,X,k,B,U),m=D.wY,Y=D.aE2,a=D.aAW,p=new Uint32Array(W),M=new g.Ci.dX(W),R=1,o=0;
M.push(X);M.push(k);var x=new g.Ci.dX(W),y=new Uint8Array(W),s=new Uint32Array(W);y[X]=1;y[k]=2;var F=new Uint32Array(W),E=new Uint32Array(W);
E[X]=E[k]=0;F[X]=F[k]=1;while(!0){var G=-1,j=0,e=1e30;while(!M.Fp()&&G==-1){var d=M.top(),u=y[d],r=a[d]-1;
while(r!=-1){var v=m[r],c=y[v],V=r^u-1<<2;if(Y[V+2>>1]!=0){if(c==0){g.Ci.k3(d,r,v,y,s,E,F);M.push(v)}else if(c==u&&F[v]<=F[d]&&E[v]>E[d])g.Ci.k3(d,r,v,y,s,E,F);
else if(c!=u){G=V}}r=m[r+1]-1}if(G!=-1)break;M.pop()}if(G==-1){break}R++;var Q=G;while(Q!=-1){p[j]=Q;
j++;Q=s[m[Q^4]]-1}var H=j>>1;for(var N=0;N<H;N++){var T=p[N];p[N]=p[j-N-1];p[j-N-1]=T}Q=s[m[G]]-1;while(Q!=-1){p[j]=Q^4;
j++;Q=s[m[Q^4]]-1}for(var N=0;N<j;N++)e=Math.min(e,Y[p[N]+2>>1]);o+=e;if(o>=l)return{$N:null,aL:o};for(var N=0;
N<j;N++){var z=p[N],J=z^4,d=m[J],v=m[z];Y[z+2>>1]-=e;Y[J+2>>1]+=e;if(Y[z+2>>1]==0&&y[d]==y[v]){if(y[d]==1){s[v]=0;
x.push(v)}if(y[d]==2){s[d]=0;x.push(d)}}}while(!x.Fp()){var d=x.pop(),u=y[d],r=a[d]-1,P=u==1?4:0,L=0,A=0,h=1e9;
while(r!=-1){var v=m[r],C=r^4,V=r^P;if(y[v]==u&&Y[V+2>>1]>0&&g.Ci.aEC(v,X,k,s,m,R,F,E)+1<h){L=v;A=C;
h=E[v]+1}r=m[r+1]-1}if(A!=0){g.Ci.k3(L,A,d,y,s,E,F);continue}r=a[d]-1;while(r!=-1){var v=m[r],V=r^P;
if(y[v]==u){if(Y[V+2>>1]>0){M.push(v)}if(s[v]==r+1){s[v]=0;x.push(v)}}r=m[r+1]-1}y[d]=0;M.remove(d)}}var w=[];
for(var N=0;N<q;N+=2){var d=B[N],v=B[N+1];if(y[d]==1&&y[v]!=1){w.push(N>>1)}if(y[v]==1&&y[d]!=1){w.push(q+N>>1)}}return{$N:w,aL:o}};
g.Ci.k3=function(W,q,X,k,B,U,l){k[X]=k[W];B[X]=q+1;U[X]=U[W]+1;l[X]=l[W]};g.Ci.aEC=function(W,q,X,k,B,U,l,K){var D=W,m=k[W]-1,Y=0;
while(m!=-1&&l[W]!=U){W=B[m^4];m=k[W]-1;Y++}if(m==-1&&W!=q&&W!=X)return 1e9;var a=K[W]+Y;Y=0;m=k[D]-1;
while(D!=W){K[D]=a-Y;Y++;l[D]=U;D=B[m^4];m=k[D]-1}return a};g.Ci.a9v=function(W,q,X,k,B,U){var l=g.Ci.aFy(W,q,X,k,B,U),K=l.wY,D=l.aE2,m=l.aAW,Y=0,a=0,p=new Uint32Array(W*2),M=new g.Ci.atD(W),x=0;
while(!0){M.reset();M.push(X);for(var N=0;N<W;N++)p[N<<1]=0;while(!M.Fp()){var R=M.pop(),y=m[R]-1;while(y!=-1){x=K[y];
if(p[x<<1]==0&&D[y+2>>1]>0&&x!=X){p[x<<1]=R+1;p[(x<<1)+1]=y;M.push(x)}y=K[y+1]-1}if(p[k<<1]!=0){break}}if(p[k<<1]==0){break}var s=1e30;
x=k;while(!0){var F=p[x<<1]-1;if(F==-1)break;var E=p[(x<<1)+1];s=Math.min(s,D[E+2>>1]);x=F}x=k;while(!0){var F=p[x<<1]-1;
if(F==-1)break;var E=p[(x<<1)+1],o=E^4;D[E+2>>1]-=s;D[o+2>>1]+=s;x=F}Y+=s}var G=[];for(var N=0;N<q;N+=2){var F=B[N],x=B[N+1];
if((p[F<<1]!=0||F==X)&&p[x<<1]==0&&x!=X){G.push(N>>1)}if((p[x<<1]!=0||x==X)&&p[F<<1]==0&&F!=X){G.push(q+N>>1)}}return{$N:G,aL:Y}};
g.Ci.atD=function(W){W|=W>>1;W|=W>>2;W|=W>>4;W|=W>>8;W|=W>>16;this.ag=new Uint32Array(W+1);this.Xf=W;
this.BP=0;this.WK=0};g.Ci.atD.prototype={push:function(W){var q=this.WK;this.ag[q]=W;this.WK=q+1&this.Xf},pop:function(){var W=this.BP,q=this.ag[W];
this.BP=W+1&this.Xf;return q},Fp:function(){return this.BP==this.WK},reset:function(){this.BP=0;this.WK=0}};
g.Ci.dX=function(W){W|=W>>1;W|=W>>2;W|=W>>4;W|=W>>8;W|=W>>16;this.ag=new Uint32Array(W+1);this.fW=new Uint32Array(W+1);
this.Xf=W;this.BP=0;this.WK=0};g.Ci.dX.prototype={top:function(){return this.ag[this.BP]},aka:function(){return this.ag[this.WK]},push:function(W){if(this.fW[W]!=0)return;
this.fW[W]=this.WK+1;var q=this.WK;this.ag[q]=W;this.WK=q+1&this.Xf},pop:function(){var W=this.BP,q=this.ag[W];
this.fW[q]=0;this.BP=W+1&this.Xf;return q},Fp:function(){return this.BP==this.WK},remove:function(W){var q=this.fW[W]-1;
if(q==-1)return;this.fW[W]=0;if(q==this.BP){this.pop();return}var X=this.pop();this.ag[q]=X;this.fW[X]=q+1},SE:function(N){return N+this.Xf+1&this.Xf}};
g.Ci.ayQ=function(W,q,X){var k=g.Ci.ry(W,q,X);if(q<k-1)g.Ci.ayQ(W,q,k-1);if(k<X)g.Ci.ayQ(W,k,X)};g.Ci.ry=function(W,q,X){var k=W[q+X>>>1];
while(q<=X){while(W[q]<k)q++;while(W[X]>k)X--;if(q<=X){g.Ci.Wd(W,q,X);q++;X--}}return q};g.Ci.Wd=function(W,q,X){var k=W[q];
W[q]=W[X];W[X]=k};g._R=function(){var W,q;function X(l,K,a1){var D=a1-1,m=K+a1;W[a1-2]=l[m-2];q[0]=l[m-1];
var Y=Math.max;for(var N=1;N<D;N++){W[a1-2-N]=Y(W[a1-1-N],l[m-2-N]);q[N]=Y(q[N-1],l[m-1+N])}for(var N=0;
N<D;N++)l[K+N]=Y(W[N],q[N])}function k(l,K,a1){var D=a1-1,m=Math.ceil(K/D)*D;for(var Y=0;Y<m;Y+=D)X(l,Y,a1)}function B(l,K,D,m,a1,Y){K.set(l);
if(a1==1)return;W=g.j(a1-1);q=g.j(a1-1);var a=a1>>>1,p=g.j(Math.ceil(Math.max(D,m)/(a1-1))*(a1-1)+(a1-2)),M=new Uint8Array(p.buffer,0,D);
if(!Y)g.i5(K);for(var x=0;x<m;x++){p.fill(0);p.set(new Uint8Array(K.buffer,x*D,D),a);k(p,D,a1);K.set(M,x*D)}for(var R=0;
R<D;R++){p.fill(0);for(var x=0;x<m;x++)p[x+a]=K[x*D+R];k(p,m,a1);for(var x=0;x<m;x++)K[x*D+R]=p[x]}if(!Y)g.i5(K)}function U(l,K,D,m,a1,Y){var a=g.j(D*m);
for(var p=0;p<4;p++){g.u6(l,a,p);if(p==3)g.i5(a);B(a,a,D,m,a1,Y);if(p==3)g.i5(a);g.fP(a,K,p)}}return{bQ:B,alc:U}}();
g.BI={};g.BI.a6r=function(W){for(var N=0;N<W.length;N++)g.BI.HS(W,N)};g.BI.HS=function(W,N){W[N].v.keyShapeInvalidated={t:"bool",v:!0}};
g.BI.a7s=function(W){for(var N=0;N<W.length;N++)W[N].v.keyOriginIndex.v=N};g.BI.if=function(){return{t:"Objc",v:{classID:"null",keyOriginIndex:{t:"long",v:0},keyShapeInvalidated:{t:"bool",v:!0}}}};
g.BI.SV=function(W,q,X){W=W.v;var k={Rctn:2,Ln:4,Elps:5},B=k[W.classID],U=W.topLeft?g.BI.aDv(W):null,l=null,K=0,D=[!1,!1,0,0,0];
if(B==4){var m=W.Strt.v,Y=W.End.v;l=[m.Hrzn.v.val,m.Vrtc.v.val,Y.Hrzn.v.val,Y.Vrtc.v.val];K=W.Wdth.v.val;
for(var N=0;N<2;N++){var a=W[N==0?"StrA":"EndA"];if(a==null)continue;a=a.v;D[N]=a.On.v;D[2]=a.Wdth.v;
D[3]=a.Lngt.v;D[4]=a.Cncv.v.val}}if(B==null)return null;return g.BI.AM(B,B==4?null:g.BI.u4(W,q,X),U,l,K,D)};
g.BI.hH=function(W,q,X,k,B,U,l){var K={classID:W,unitValueQuadVersion:{t:"long",v:1}};if(q)g.BI.Tm(K,["Left","Top","Rght","Btom"],q);
if(X)g.BI.Tm(K,["topLeft","topRight","bottomRight","bottomLeft"],X);if(W=="Ln"){K.Strt={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:k[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:k[1]}}}},K.End={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:k[2]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:k[3]}}}},K.Wdth={t:"UntF",v:{type:"#Pxl",val:B}};
for(var N=0;N<2;N++){var D=N==0?"StrA":"EndA";K[D]={t:"Objc",v:{classID:"cArw",On:{t:"bool",v:l[N]},Wdth:{t:"doub",v:l[2]},Lngt:{t:"doub",v:l[3]},Cncv:{t:"UntF",v:{type:"#Prc",val:l[4]}}}}}}if(U)K.Nm={t:"TEXT",v:U};
return{t:"Objc",v:K}};g.BI.a35=function(W,q){var X=g.BI.Ok(W),k=W[2]-W[0],B=W[3]-W[1],U=Math.sqrt(k*k+B*B),l=[0,0,U,0,U,q,0,q],K=new ka;
K.rotate(-X);K.translate(W[0],W[1]);g.b.M(l,K,l);return l};g.BI.AM=function(W,q,X,k,B,U){var l=g.BI.if(),K=l.v,D;
delete K.keyShapeInvalidated;K.keyOriginType={t:"long",v:W};K.keyOriginResolution={t:"doub",v:75};if(W==4){K.keyOriginLineStart={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:k[0]},Vrtc:{t:"doub",v:k[1]}}};
K.keyOriginLineEnd={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:k[2]},Vrtc:{t:"doub",v:k[3]}}};D=g.BI.a35(k,B);
var m=g.b.Hb(D);q=[m.x,m.y,m.x+m.r,m.y+m.$];K.keyOriginLineWeight={t:"doub",v:B};if(U)g.BI.a4c(K,U)}else D=[q[0],q[1],q[2],q[1],q[2],q[3],q[0],q[3]];
K.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};g.BI.uK(K,"keyOriginBoxCorners",D);var Y={classID:"unitRect",unitValueQuadVersion:{t:"long",v:1}};
K.keyOriginShapeBBox={t:"Objc",v:Y};g.BI.a5c(K,q);if(X!=null){var a={classID:"radii",unitValueQuadVersion:{t:"long",v:1}};
K.keyOriginRRectRadii={t:"Objc",v:a};g.BI.fj(K,X)}return l};g.BI.M=function(W,q,X,k){var B=g.F.a9m(q),U=g.F.aqS(q),l=g.F.bI(q),K=l.iM*l.kv-l.X*l.bO;
for(var N=0;N<W.length;N++){var D=W[N].v;if(!g.BI.rv(D))continue;if(X.length!=0&&X.indexOf(N)==-1)continue;
var m=D.keyOriginType.v,Y=q;if(K<0&&m==2){var a=g.BI._J(D),p=0;p=a[0];a[0]=a[1];a[1]=p;p=a[2];a[2]=a[3];
a[3]=p;g.BI.fj(D,a);var M=g.BI.DN(D,"keyOriginBoxCorners"),x=g.b.Hb(M),R=x.x+x.r/2,y=new ka;y.translate(-R,0);
y.scale(-1,1);y.translate(R,0);Y=g.F.xY(Y,g.F.af(y))}var s=["keyOriginPolyTrueRectCorners","keyOriginBoxCorners"];
for(var F=0;F<s.length;F++){var M=g.BI.DN(D,s[F]);if(M==null)continue;g.F.M(Y,M);g.BI.uK(D,s[F],M);var x=g.b.Hb(M);
g.BI.a5c(D,[x.x,x.y,x.x+x.r,x.y+x.$]);var E=new ka;E.rotate(-g.BI.Ok(M));var o={classID:"Trnf"};D.Trnf={t:"Objc",v:o};
var G="xx xy yx yy tx ty".split(" "),d=[E.iM,E.X,E.bO,E.kv,E.Wy,E.rY];for(var u=0;u<6;u++)o[G[u]]={t:"doub",v:d[u]}}if(m==2&&k){var a=g.BI._J(D);
for(var F=0;F<4;F++)a[F]=Math.round(a[F]*q[0]);g.BI.fj(D,a)}var M=g.BI.DN(D,"keyOriginBoxCorners"),r=M[2]-M[0],v=M[3]-M[1],c=Math.sqrt(r*r+v*v);
r/=c;v/=c;var V=M[6]-M[0],j=M[7]-M[1],Q=Math.sqrt(V*V+j*j);V/=Q;j/=Q;if(m==4){var H=l.Lr();D.keyOriginLineWeight.v*=H;
var T=g.BI.XL(D);g.F.M(q,T);g.BI.aGd(D,T);var e=g.BI.a9S(D);e[2]*=H;e[3]*=H;g.BI.a4c(D,e)}var z=r*V+v*j;
if(Math.abs(z)>.001){g.BI.HS(W,N)}}};g.BI.rv=function(W){var q=W.keyShapeInvalidated,X=W.keyOriginType;
return(q==null||!q.v)&&X!=null&&X.v!=9};g.BI.azd=function(W){var q=W.keyOriginType.v,X=g.BI.ZW(W),k=X[0],B=X[1],U=X[2],l=X[3],K=new ka,D=W.keyOriginPolyCornerRadius,M;
D=D?D.v:0;var m=g.BI.DN(W,q==7||q==8?"keyOriginPolyTrueRectCorners":"keyOriginBoxCorners"),Y=g.BI.Jf(m),a=Y[2],p=Y[3];
k=-a/2;U=a/2;B=-p/2;l=p/2;K.rotate(-g.BI.Ok(m));K.Wy=Y[0];K.rY=Y[1];if(q==1||q==2){var x=q==1?0:g.BI._J(W);
M=g.z.oz.Rect(k,B,U-k,l-B,x)}else if(q==4){var R=g.BI.XL(W),y=g.BI.a9S(W);K=new ka;if(y==null)M=g.z.oz.yA(R[0],R[1],R[2],R[3],W.keyOriginLineWeight.v);
else M=g.z.oz.CE(R[0],R[1],R[2],R[3],W.keyOriginLineWeight.v,y)}else if(q==5){M=g.z.oz.am(k,B,U-k,l-B)}else if(q==7||q==8){var s=q==7?3:W.keyOriginPolySides.v;
M=g.z.oz.VB(0,0,100,Math.PI/s-Math.PI/2,s,D,U,l)}g.z.Y9(M,K);return M};g.BI.pp=function(W,q){var X=q.G;
for(var N=0;N<W.length;N++){var k=W[N].v;if(!g.BI.rv(k))continue;var B=g.BI.azd(k),U=g.z.wS(X,N),l=g.z.Jt(X,N);
B[2].R3=X[U].R3;var K=X;X=X.slice(0,U);for(var D=2;D<B.length;D++)X.push(B[D]);for(var D=U+l;D<K.length;
D++)X.push(K[D])}q.G=X;q.Uf=!0};g.BI.b6=function(W){var q=1e9,X=-q,k=1e9,B=-k,U=[],l=W.Yb(),K=l[0],D=l[1];
for(var m=0;m<D.length;m++){var Y=K[D[m]],a=Y.add.vogk;if(a==null)continue;var p=Y.add.vmsk.Y;for(var M=0;
M<a.length;M++){if(D.length==1&&p.length!=0&&p.indexOf(M)==-1)continue;var x=a[M].v,R=g.BI.am4(x);if(R){U.push(R);
var y=R[1];q=Math.min(q,y[0]);k=Math.min(k,y[1]);X=Math.max(X,y[2]);B=Math.max(B,y[3])}}}return U.length==1?U[0]:[0,q<X?[q,k,X,B]:null,0]};
g.BI.am4=function(W){if(!g.BI.rv(W))return;var q=W.keyOriginType.v,k=0;if(q==9)return;var X=g.BI.ZW(W),B=g.BI.DN(W,"keyOriginBoxCorners");
if(B){var U=g.BI.Jf(B),l=U[2],K=U[3];X[2]=X[0]+l;X[3]=X[1]+K;k=g.BI.Ok(B)}var D=[q,X,k],m=W.keyOriginPolyCornerRadius;
if(q==2)D.push(g.BI._J(W));if(q==7||q==8)D.push(m?m.v:0);if(q==8)D.push(W.keyOriginPolySides.v);return D};
g.BI.aox=function(W,q,X){for(var N=0;N<W.length;N++){if(q.indexOf(N)==-1)continue;var k=W[N].v,B=g.BI.am4(k);
if(B){var U=B[0],l=g.BI.DN(k,U==7||U==8?"keyOriginPolyTrueRectCorners":"keyOriginBoxCorners"),K=g.BI.Jf(l);
console.log(U);if(U==2){var D=[],m=[];for(var Y=0;Y<4;Y++){var a=B[2]+(Y+.5)*Math.PI/2,p=Math.max(B[3][Y]*Math.sqrt(2),20/X.$Z),M=l[2*Y]+Math.cos(a)*p,x=l[2*Y+1]+Math.sin(a)*p;
m.push(M,x);D.push(l[2*Y],l[2*Y+1])}return[N,m,D,l,K.slice(0,2)]}if(U==5){return[N,null,null,l,K.slice(0,2)]}if(U==8){var a=B[2]-Math.PI/2,R=K[3]*.5,p=R-Math.max(B[3],20/X.$Z),y=Math.sin(a),s=Math.cos(a);
return[N,[K[0]+s*p,K[1]+y*p],[K[0]+s*R,K[1]+y*R],l,K.slice(0,2)]}}}return null};g.BI.Ok=function(W){var q=W[2]-W[0],X=W[3]-W[1];
return-Math.atan2(-X,q)};g.BI.apD=function(W){var q=g.BI.ZW(W);return g.BI.Ok(q)};g.BI.a6S=function(W,q,X){var k=g.BI.b6(W),B=-1;
for(var N=0;N<q.length;N++)if(JSON.stringify(q[N])!=JSON.stringify(k[N]))B=N;if(B==1||B==2){}var U=W.Yb(),l=U[0],K=U[1];
for(var D=0;D<K.length;D++){var m=l[K[D]],Y=m.add.vogk;if(Y==null)continue;var a=m.add.vmsk.Y;for(var p=0;
p<Y.length;p++){var M=Y[p].v;if(!g.BI.rv(M))continue;if(K.length==1&&a.length!=0&&a.indexOf(p)==-1)continue;
var x=M.keyOriginType.v;if(B==1||B==2){g.BI.M(Y,g.BI.a8W(B,M,k,q),a,!1);break}if(B==3)if(x==2)g.BI.fj(M,q[3]);
else M.keyOriginPolyCornerRadius={t:"doub",v:q[3]};if(B==4)M.keyOriginPolySides.v=q[4];if(X)g.BI.HS(Y,p)}}};
g.BI.a8W=function(W,q,X,k){var B=k[1],U=X[1],l=(B[2]-B[0])/(U[2]-U[0]),K=(B[3]-B[1])/(U[3]-U[1]),D=new ka;
if(W==1){if(Math.max(Math.abs(l-1),Math.abs(K-1))>1e-8){var m=B[0],Y=B[1];if(k[0]!=0){var a=g.BI.DN(q,"keyOriginBoxCorners");
m=a[0];Y=a[1]}D.translate(-m,-Y);D.rotate(k[2]);D.scale(l,K);D.rotate(-k[2]);D.translate(m,Y)}else{D.translate(-U[0],-U[1]);
D.translate(B[0],B[1])}}else{if(k[0]!=0)B=g.BI.ZW(q);var m=(B[0]+B[2])/2,Y=(B[1]+B[3])/2;D.translate(-m,-Y);
if(X[0]!=0)D.rotate(X[2]);D.rotate(-k[2]);D.translate(m,Y)}return g.F.af(D)};g.BI.Jf=function(W){var q=W[0],X=W[1],k=W[2],B=W[3],U=W[4],l=W[5],K=W[6],D=W[7],m=k-q,Y=B-X,a=Math.sqrt(m*m+Y*Y),m=U-k,Y=l-B,p=Math.sqrt(m*m+Y*Y);
return[(q+U)/2,(X+l)/2,a,p]};g.BI.DN=function(W,q){var X=W[q];if(X==null)return null;var k=[];X=X.v;
for(var B=0;B<4;B++){var U=X["rectangleCorner"+["A","B","C","D"][B]].v;k.push(U.Hrzn.v,U.Vrtc.v)}return k};
g.BI.uK=function(W,q,X){var k=W[q];if(k==null)return null;k=k.v;for(var B=0;B<4;B++){var U="rectangleCorner"+["A","B","C","D"][B];
k[U]={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:X[2*B]},Vrtc:{t:"doub",v:X[2*B+1]}}}}};g.BI.ZW=function(W){return g.BI.u4(W.keyOriginShapeBBox.v)};
g.BI.u4=function(W,q,X){var k=W.classID,B=W.Left.v,U=W.Rght.v,l=W.Top.v,K=W.Btom.v,D=B.type;if(B.val!=null){B=B.val;
U=U.val;l=l.val;K=K.val}if(D=="#Prc"&&q){B*=q/100;U*=q/100;l*=X/100;K*=X/100}return[B,l,U,K]};g.BI.wu=function(W,q,X){var k=g.BI.u4(W,q,X);
return new dU(k[0],k[1],k[2]-k[0],k[3]-k[1])};g.BI.a5c=function(W,q){g.BI.Tm(W.keyOriginShapeBBox.v,["Left","Top","Rght","Btom"],q)};
g.BI._J=function(W){var q=W.keyOriginRRectRadii;if(q==null)return[0,0,0,0];return g.BI.aDv(q.v)};g.BI.aDv=function(W){var q=[],X=["topLeft","topRight","bottomRight","bottomLeft"];
for(var k=0;k<4;k++)q.push(W[X[k]].v.val);return q};g.BI.fj=function(W,q){g.BI.Tm(W.keyOriginRRectRadii.v,["topLeft","topRight","bottomRight","bottomLeft"],q)};
g.BI.Tm=function(W,q,X){var k=W.classID;if(k=="unitRect"||k=="radii"||k=="Rctn"){for(var N=0;N<4;N++)if(X[N]!=null)W[q[N]]={t:"UntF",v:{type:"#Pxl",val:X[N]}}}else{for(var N=0;
N<4;N++)if(X[N]!=null)W[q[N]]={t:"doub",v:X[N]}}};g.BI.XL=function(W){var q=W.keyOriginLineStart.v,X=W.keyOriginLineEnd.v;
return[q.Hrzn.v,q.Vrtc.v,X.Hrzn.v,X.Vrtc.v]};g.BI.aGd=function(W,q){var X=W.keyOriginLineStart.v,k=W.keyOriginLineEnd.v;
X.Hrzn.v=q[0];X.Vrtc.v=q[1];k.Hrzn.v=q[2];k.Vrtc.v=q[3]};g.BI.a9S=function(W){var q=[],X=["owSt","owEnd","Wdth","Lngth","Conc"];
for(var N=0;N<5;N++){var k=W["keyOriginLineArr"+X[N]];if(k==null)return null;q[N]=k.v}return q};g.BI.a4c=function(W,q){W.keyOriginLineArrowSt={t:"bool",v:q[0]};
W.keyOriginLineArrowEnd={t:"bool",v:q[1]};W.keyOriginLineArrWdth={t:"doub",v:q[2]};W.keyOriginLineArrLngth={t:"doub",v:q[3]};
W.keyOriginLineArrConc={t:"long",v:q[4]}};g.BI.ai4=function(W){function q(o,G){return Math.abs(o-G)<.5}function X(o,G){return q(o.x,G.x)&&q(o.y,G.y)}function k(o,G,d,u,r,v,c){for(var N=0;
N<c;N++){var V=o[G+(d+N)%c],j=u[r+(v+N)%c];if(!(X(V.WL,j.WL)&&X(V.mp,j.mp)&&X(V.ko,j.ko)))return!1}return!0}var B=[];
for(var U=0;U<W.length;U++){var l=W[U],D=null;if(l.I!=0&&l.I!=3||l.R3==-1)continue;var K=U;if(l.length==4||l.length==8){var m=g.z.aCP(W.slice(0,2).concat(W.slice(K,K+l.length+1)));
K=2;if(l.length==4){var Y=g.z.HE(m,K+1,4),a=Y.x,p=Y.y,M=a+Y.r,x=p+Y.$;if(Y.C()>4){if(g.z.A8(m.slice(K-2,K+5)))D=g.BI.AM(2,[a,p,M,x],[0,0,0,0]);
else{var R=-1;for(var N=0;N<4;N++)if(q(m[K+1+N].WL.y,x))R=N;if(R!=-1){var y=g.z.oz.am(a,p,M-a,x-p),s=k(m,K+1,R,y,3,0,4);
if(s)D=g.BI.AM(5,[a,p,M,x])}}}}if(l.length==8){var Y=g.z.HE(m,K+1,8),a=Y.x,p=Y.y,M=a+Y.r,x=p+Y.$;if(Y.C()>4){var R=-1;
for(var N=0;N<8;N++)if(q(m[K+1+(N+1&7)].WL.y,p)&&q(m[K+1+(N+2&7)].WL.y,p))R=N;if(R!=-1){var F=Math.abs(m[K+1+R].WL.y-p),E=[F,F,F,F];
if(F>.5){var y=g.z.oz.Rect(a,p,M-a,x-p,E),s=k(m,K+1,R,y,3,0,8);if(s)D=g.BI.AM(2,[a,p,M,x],E)}}}}if(W[U+l.length+1]&&W[U+l.length+1].R3==-1)D=0}B.push(D?D:g.BI.if())}return B};
g.b={};g.b.P=function(W){return{zb:W.zb.slice(0),n:W.n.slice(0)}};g.b.a2e=function(W){if(W.length<6)return!0;
var q=W.length-4;for(var N=0;N<q;N+=2)if(!g.b.iW(W[N],W[N+1],W[N+2],W[N+3],W[N+4],W[N+5]))return!1;if(!g.b.iW(W[q],W[q+1],W[q+2],W[q+3],W[0],W[1]))return!1;
if(!g.b.iW(W[q+2],W[q+3],W[0],W[1],W[2],W[3]))return!1;return!0};g.b.iW=function(W,q,X,k,B,U){return(q-k)*(B-X)+(X-W)*(U-k)>=0};
g.b.adB=function(W,q){function X(h,C,r){var d=C[0]-h[0],u=C[1]-h[1],w=g.b.qx(r[0],r[1],-u,d,h[0],h[1],d,u);
return[r[0]-u*w,r[1]+d*w]}function k(h,C){var d=h[0]-C[0],u=h[1]-C[1];return Math.sqrt(d*d+u*u)}W=g.b.afb(W);
var B=[0,0,0,0],U=W.length,l=[0,0,0,0],K=Math.PI/2,D=Math.atan2(-1,0),M=1e9,x,R=0;function m(){for(var N=0;
N<4;N++){var s=B[N],F=(s+2)%U,h=W[F]-W[s],C=W[F+1]-W[s+1],w=Math.atan2(C,h),f=D+N*K;if(w<f)f-=2*Math.PI;
l[N]=w-f}}for(var N=0;N<U;N+=2){var Y=W[N],a=W[N+1];if(Y<W[B[0]])B[0]=N;if(a<W[B[1]+1])B[1]=N;if(Y>W[B[2]])B[2]=N;
if(a>W[B[3]+1])B[3]=N}m();var p=g.b.Hb(W).C();while(R<U/2){var y=0;for(var N=0;N<4;N++)if(l[N]<l[y])y=N;
var s=B[y],F=(s+2)%U,E=B[y+2&3],o=B[y+3&3],G=B[y+1&3],Y=W[s],d=W[F]-Y,a=W[s+1],u=W[F+1]-a,r=W.slice(s,s+2),v=W.slice(F,F+2),c=W.slice(E,E+2),V=W.slice(o,o+2),j=W.slice(G,G+2),Q=X(r,v,c),H=X(V,[V[0]-u,V[1]+d],j),T=k(Q,c),e=k(H,j);
if(e*T<M){M=e*T;var z=X(r,v,V);x=[z[0],z[1],d,u,e,T]}D+=l[y];B[y]=F;m();R++}var Y=x[0],a=x[1],d=x[2],u=x[3],e=x[4],T=x[5],J=Math.sqrt(d*d+u*u);
d/=J;u/=J;var P=Y+d*e,L=a+u*e,A=[Y,a,P,L,P-u*T,L+d*T,Y-u*T,a+d*T];while(A[0]>A[2]||Math.abs((A[3]-A[1])/(A[2]-A[0]))>1){A.push(A.shift(),A.shift())}return A};
g.b.afb=function(W){var q=0;for(var N=0;N<W.length;N+=2)if(W[N]<W[q])q=N;var X=[q];while(!0){var k=X[X.length-1],B=W[k],U=W[k+1],l=X.length==1?X[0]:X[X.length-2],K=W[l],D=W[l+1],p=0,M=1e9,x=0;
if(X.length==1)D+=20;var m=K-B,Y=D-U,a=Math.sqrt(m*m+Y*Y);m/=a;Y/=a;for(var N=0;N<W.length;N+=2){if(N==l||N==k)continue;
var R=W[N],y=W[N+1],s=R-B,F=y-U,E=Math.sqrt(s*s+F*F);s/=E;F/=E;var o=m*s+Y*F;if(o<M||o==M&&E>x){M=o;
p=N;x=E}}if(p==X[0])break;X.push(p)}var G=[];for(var N=0;N<X.length;N++)G.push(W[X[N]],W[X[N]+1]);return G};
g.b.N9=function(W){var q={},X=0,k={M:2,L:2,Q:4,C:6},B="",U="",l={n:[],zb:[]};for(var N=0;N<W.zb.length;
N++){var K=W.zb[N];if(K[0]=="#")B=K;else if(K[0]=="X"){var D=B+U;if(q[D]==null)q[D]={n:[],zb:[]};g.b.concat(q[D],l);
B="";U="";l={n:[],zb:[]}}else if(K[0]=="O"&&K[1]=="-")U=K;else if(K=="OX"){if(U!="")U+="-1"}else{l.zb.push(K);
var m=k[K];if(m==null)m=0;for(var Y=0;Y<m;Y++)l.n.push(W.n[X+Y]);X+=m}}return q};g.b.a6a=function(W,q,X){var k=W[q]-W[X-2],B=W[q+1]-W[X-1];
return k*k+B*B<1e-4};g.b.hX=function(W){var q=[],X=W.n,k=W.zb.length-1;for(var B=0;B<k;B++){var N=B*6,U=X[N+6]-X[N+0],l=X[N+7]-X[N+1],K=Math.ceil(Math.sqrt(U*U+l*l));
for(var D=0;D<K;D++){var m=D/K,Y=1-m,a=Y*Y*Y*X[N+0]+3*Y*Y*m*X[N+2]+3*Y*m*m*X[N+4]+m*m*m*X[N+6],p=Y*Y*Y*X[N+1]+3*Y*Y*m*X[N+3]+3*Y*m*m*X[N+5]+m*m*m*X[N+7];
q.push(a,p)}}return q};g.b.gH=function(W,q,X){W=g.b.E_(W);var k=W.n,B=W.zb,U=0,l="",K=0,D=0,U=0,a=null;
for(var N=0;N<B.length;N++){var m=B[N];if(m=="M"){K=k[U];D=k[U+1];U+=2;l=m}if(m=="C"){if(l=="Z"){B.splice(N,0,"M");
k.splice(U,0,K,D);N--;continue}U+=6;l=m}if(m=="Z"){l=m}}var Y=[];U=0;for(var N=0;N<B.length;N++){var m=B[N];
if(m=="M"){a={ax:U,Fk:0,v8:!1};Y.push(a);U+=2}if(m=="C"){a.Fk++;U+=6}if(m=="Z"&&a!=null){a.v8=!0}}var p=[];
for(var N=0;N<Y.length;N++)if(Y[N].Fk!=0)p.push(Y[N]);Y=p;for(var N=0;N<Y.length;N++){var M=Y[N],x=M.ax,R=x+2+M.Fk*6,s=0;
M.IH=g.b.Hb(k,x,R);var y=g.b.a6a(k,x,R);for(var F=0;F<M.Fk;F++){var E=x+F*6,o=E+6;s+=(k[o]-k[E])*(k[o+1]+k[E+1])}if(M.Fk==2){var G=function($,d9,i){var dF=1-i;
return dF*dF*dF*$[d9]+3*dF*dF*i*$[d9+2]+3*dF*i*i*$[d9+4]+i*i*i*$[d9+6]},d=k[x],u=k[x+1],r=k[x+6],v=k[x+7],c=k[x+6],V=k[x+7],j=G(k,x,.5),Q=G(k,x+1,.5),H=G(k,x+6,.5),T=G(k,x+7,.5);
s=(j-d)*(Q-u)+(r-j)*(v-Q)+(H-r)*(T-v)+(c-H)*(V-T)}if(!y)s+=(k[x]-k[R-2])*(k[x+1]+k[R-1]);M.jf=s<=0}for(var N=0;
N<Y.length-1;N++)for(var E=N+1;E<Y.length;E++){var e=Y[N],z=Y[E];if(z.IH.Ox(e.IH)){Y[N]=z;Y[E]=e}}var J=Y.length==0?!0:Y[0].jf,P=[{I:6},{I:8,all:0}];
for(var N=0;N<Y.length;N++){var M=Y[N],x=M.ax,R=x+2+M.Fk*6,y=g.b.a6a(k,x,R);if(M.Fk==1)y=!1;var L=M.v8||y?0:3,A=M.jf==J&&!q?1:0;
if(!q&&N!=0){if(Y[N-1].IH.Ox(M.IH)&&Y[N-1].jf!=M.jf)A=0;for(var E=0;E<Y.length;E++)if(E!=N&&Y[E].IH.Ox(M.IH))A=0}P.push({I:L,length:M.Fk+(y?0:1),R3:X?0:A,HG:2});
for(var E=0;E<M.Fk;E++){var U=x+E*6,h=new hw(k[U],k[U+1]),C=new hw(k[U+2],k[U+3]),w;if(E==0){if(y){w=new hw(k[R-4],k[R-3]);
if(hw.tj(w,h)<1e-5)w=h.P()}else w=h.P()}else w=new hw(k[U-2],k[U-1]);P.push({I:L+2,mp:w,WL:h,ko:C})}if(!y){var f=new hw(k[R-2],k[R-1]);
P.push({I:L+2,mp:new hw(k[R-4],k[R-3]),WL:f,ko:f.P()})}}for(var E=0;E<P.length;E++){var O=P[E];if(O.I>5||O.I==0||O.I==3)continue;
var n=O.mp.AB(O.WL)||O.ko.AB(O.ko);if(!n){var e=O.mp.x*(O.WL.y-O.ko.y)+O.WL.x*(O.ko.y-O.mp.y)+O.ko.x*(O.mp.y-O.WL.y);
if(Math.abs(e)<1e-6)n=!0}if(n)O.I--}return P};g.b.c$=function(W,q){var X=g.z._H(W),k=[];for(var N=2;
N<W.length;N++){var B=W[N].R3;if(B!=null){if(B==2||B==0||B==3||B==-1)k.push(B)}}var U=k.length!=0;if((U||q)&&1<X){console.log(U,q,X,"merge");
if(W.length<5e3&&X<30)W=g.z.xm(W);else alert("Too complex shapes, skipping the merging step.")}var l=g.b.sz(W);
return{wb:l,jl:X==1?W[2].HG==2?0:1:U?1:0}};g.b.sz=function(){function W(k,B,U,l){if(l!=2&&k.ko.AB(k.WL)&&B.mp.AB(B.WL)){U.n.push(B.WL.x,B.WL.y);
U.zb.push("L")}else{var K=k.WL,D=k.ko,m=B.mp,Y=B.WL,a=3/2*D.x-1/2*K.x,p=3/2*D.y-1/2*K.y,M=3/2*m.x-1/2*Y.x,x=3/2*m.y-1/2*Y.y,R=M-a,y=x-p;
if(l==0&&R*R+y*y<.001){U.n.push((a+M)*.5,(p+x)*.5,Y.x,Y.y);U.zb.push("Q")}else{U.n.push(D.x,D.y,m.x,m.y,Y.x,Y.y);
U.zb.push("C")}}}function q(k,B,N,U,l,K){var D=B[N];k.n.push(D.WL.x,D.WL.y);k.zb.push("M");for(var m=N;
m<N+U-1;m++)W(B[m],B[m+1],k,K);if(!l)W(B[m],B[N],k,K)}function X(k,B){if(B==null)B=0;var U={n:[],zb:[]};
for(var N=0;N<k.length;N++){if(k[N].I>5)continue;var l=k[N].length;if(l==0)continue;if(N==k.length-1)break;
var K=k[N].I==3;q(U,k,N+1,l,K,B);if(!K)U.zb.push("Z");N+=l}return U}return X}();g.b.aDK=function(W){var q=W.n,X=[],k,B=0;
for(var N=0;N<W.zb.length;N++){var U=W.zb[N];if(U=="C"){k.push(q[B++],q[B++],q[B++],q[B++],q[B++],q[B++])}else if(U=="Z"){}else{k=[];
if(U!="M"){k.push(U);N++}k.push(q[B++],q[B++]);X.push(k)}}return X};g.b.vc=function(W,q,X,k,B){if(k==null)k=1e9;
if(B==null)B=-1;var U=1e9,l=0;for(var N=0;N<W.length;N+=2){if(N>>>1==B)continue;var K=q-W[N],D=X-W[N+1],m=K*K+D*D;
if(m<U){U=m;l=N>>>1}}return U<k*k?l:-1};g.b.aig=function(W,q,X,k){for(var N=0;N<W.length;N+=2){var B=W[N],U=W[N+1],l=q[N],K=q[N+1];
X[N]=B+(l-B)*k;X[N+1]=U+(K-U)*k}};g.b.M=function(W,q,X){for(var N=0;N<W.length;N+=2){var k=W[N],B=W[N+1];
X[N]=k*q.iM+B*q.bO+q.Wy;X[N+1]=k*q.X+B*q.kv+q.rY}};g.b.Hb=function(W,q,X){if(q==null)q=0;if(X==null)X=W.length;
var k=99999999999,B=-k,U=99999999999,l=-U;for(var N=q;N<X;N+=2){var K=W[N],D=W[N+1];k=Math.min(k,K);
U=Math.min(U,D);B=Math.max(B,K);l=Math.max(l,D)}return new dU(k,U,B-k,l-U)};g.b.aee=function(W,q){var X=Math.max(q.x,Math.min(q.x+q.r,W.x)),k=Math.max(q.y,Math.min(q.y+q.$,W.y)),B=W.x-X,U=W.y-k;
return Math.sqrt(B*B+U*U)};g.b.V5=function(W,q){var X=Math.floor,k=Math.ceil;if(q){X=Math.ceil;k=Math.floor}var B=X(W.x),U=k(W.x+W.r),l=X(W.y),K=k(W.y+W.$);
return new dU(B,l,U-B,K-l)};g.b.DS=function(W,q){return g.b.V5(g.b.Hb(W),q)};g.b.Lw=function(W,q){var X=W.x,k=W.y,B=W.x+W.r,U=W.y+W.$,l=[X,k,B,k,B,U,X,U];
if(q){var K=q.P();K.i5();g.b.M(l,K,l)}return{zb:["M","L","L","L","Z"],n:l}};g.b.concat=function(W,q,X){if(X==null)X=new ka;
for(var N=0;N<q.n.length;N+=2){var k=q.n[N],B=q.n[N+1];W.n.push(k*X.iM+B*X.bO+X.Wy);W.n.push(k*X.X+B*X.kv+X.rY)}for(var N=0;
N<q.zb.length;N++)W.zb.push(q.zb[N])};g.b.reverse=function(W){var q=W.zb.slice(1),X=q.pop();if(X!="Z")q.push(X);
q.reverse();q=["M"].concat(q);if(X=="Z")q.push("Z");var k=[],B=W.n.length;for(var U=0;U<B;U+=2){k[U]=W.n[B-2-U];
k[U+1]=W.n[B-2-U+1]}return{n:k,zb:q}};g.b.aA1=function(W,q,X,k,B){function U(p,M,x){return new hw(p.x*(1-x)+M.x*x,p.y*(1-x)+M.y*x)}var l=U(W,q,B),K=U(X,k,B),D=U(q,X,B),m=U(l,D,B),Y=U(D,K,B),a=U(m,Y,B);
return[l,m,a,Y,K]};g.b.E_=function(W){var q=W.n,X=[],k=[],B=0,U=0,l=0,K=0,D=0,m=0,Y=0,a=0,p=0,M=0,x=0;
for(var N=0;N<W.zb.length;N++){var R=W.zb[N];if(R=="M"){U=q[B];l=q[B+1];B+=2;k.push(R);X.push(U,l);M=U;
x=l}else if(R=="C"){K=q[B];D=q[B+1];m=q[B+2];Y=q[B+3];a=q[B+4];p=q[B+5];B+=6;k.push(R);X.push(K,D,m,Y,a,p);
U=a;l=p}else if(R=="Q"){K=q[B];D=q[B+1];m=q[B+2];Y=q[B+3];B+=4;var y=K-U,s=D-l,F=m-K,E=Y-D;k.push("C");
X.push(U+2/3*y,l+2/3*s,K+1/3*F,D+1/3*E,m,Y);U=m;l=Y}else if(R=="L"){K=q[B];D=q[B+1];B+=2;if(K!=U||D!=l){k.push("C");
X.push(U,l,K,D,K,D);U=K;l=D}}else{if(R=="Z"){U=M;l=x}k.push(R)}}return{zb:k,n:X}};g.b.aws=function(W){var q=W.n,X=[],k=[],B=0;
for(var N=0;N<W.zb.length;N++){var U=W.zb[N];if(U=="Q"){var l=q[B-2],K=q[B-1],D=q[B],m=q[B+1],Y=q[B+2],a=q[B+3];
B+=4;var p=D-l,M=m-K,x=Y-D,R=a-m;k.push("C");X.push(l+2/3*p,K+2/3*M,D+1/3*x,m+1/3*R,Y,a)}else{var y=0;
if(U=="M"||U=="L")y=2;else if(U=="C")y=6;for(var s=0;s<y;s++)X.push(q[B+s]);B+=y;k.push(U)}}return{zb:k,n:X}};
g.b.d5=function(W,q){var X=W.n,k=[],B=[],U=0,l=0,K=0,D=0,m=0,Y=0,a=0,p=0,M=0;for(var N=0;N<W.zb.length;
N++){var x=W.zb[N];if(x=="M"){l=X[U];K=X[U+1];U+=2;B.push(x);k.push(l,K)}else if(x=="C"){D=X[U];m=X[U+1];
Y=X[U+2];a=X[U+3];p=X[U+4];M=X[U+5];U+=6;g.b.M6(l,K,D,m,Y,a,p,M,q,B,k,0);l=p;K=M}else B.push(x)}return{zb:B,n:k}};
g.b.M6=function(W,q,X,k,B,U,l,K,D,m,Y,a){var p=Math.sqrt((l-W)*(l-W)+(K-q)*(K-q)),M=Math.sqrt((l-B)*(l-B)+(K-U)*(K-U))+Math.sqrt((B-X)*(B-X)+(U-k)*(U-k))+Math.sqrt((X-W)*(X-W)+(k-q)*(k-q)),x=(p+M)/2;
if(x<=D){m.push("C");Y.push(X,k,B,U,l,K)}else{var R=0,y=0,s=0,F=0,E=0,o=0,G=0,d=0,u=0,r=0,v=0,c=0,V=0;
y=(W+X)/2;s=(q+k)/2;F=(X+B)/2;E=(k+U)/2;o=(B+l)/2;G=(U+K)/2;d=(y+F)/2;u=(s+E)/2;r=(F+o)/2;v=(E+G)/2;
c=(d+r)/2;V=(u+v)/2;g.b.M6(W,q,y,s,d,u,c,V,D,m,Y,a+1);g.b.M6(c,V,r,v,o,G,l,K,D,m,Y,a+1)}};g.b.Kk=function(W,q,X,k,B){var U=Date.now(),l=g.b.a4q(W,q,X);
if(B){console.log("trace polygons",Date.now()-U);U=Date.now()}var K=[];for(var N=0;N<l.length;N++){var D=l[N],m=D[0],Y=["M"],a=W[m[1]*q+m[0]];
if(m.length>8)m=g.b.ahN(m,k,D[1]);if(m.length<=4)continue;for(var p=2;p<m.length;p+=2)Y.push("L");Y.push("Z");
K.push({path:{n:m,zb:Y},color:a,parent:-1,IH:g.b.Hb(m)})}if(B){console.log("simplify polygons",Date.now()-U);
U=Date.now()}for(var N=1;N<K.length;N++){var M=K[N],x=M.path.n,R=x[0],y=x[1],s=x[2],F=x[3],E=s-R,o=F-y,G=R+.5*E-.001*o,d=y+.5*o+.001*E;
for(var p=N-1;p>=0;p--){var u=K[p];if(!u.IH.Ox(M.IH))continue;if(!f3.We(u.path.n,G,d))continue;M.parent=p;
break}}if(B){console.log("checking parents",Date.now()-U);U=Date.now()}return K};g.b.a4q=function(W,q,X){var k=q*X,B=new Uint16Array(q*X),l=0;
for(var N=0;N<k;N++)B[N]=W[N];var U=new Uint8Array(q*X);U[1*q+1]=U[(X-1)*q+1]=U[1*q+q-1]=U[(X-1)*q+q-1]=1;
for(var K=1;K<X;K++)for(var D=1;D<q;D++){var N=K*q+D,m=B[N-q-1],Y=B[N-q],a=B[N-1],p=B[N],M=m==p&&Y==a&&m!=Y,x=0;
if(p<a){l=p;p=a;a=l}if(a<Y){l=a;a=Y;Y=l}if(Y<m){l=Y;Y=m;m=l}if(p<a){l=p;p=a;a=l}if(a<Y){l=a;a=Y;Y=l}if(p<a){l=p;
p=a;a=l}if(m!=Y)x++;if(Y!=a)x++;if(a!=p)x++;if(p!=m)x++;if(x>=3||M)U[N]=1}var R=[];for(var K=1;K<X;K++)for(var D=1;
D<q;D++){var N=K*q+D;if(B[N]!=B[N-1]){var y=g.b.ao4(B,q,X,D,K),s=[];for(var F=0;F<y.length;F+=2)if(U[y[F+1]*q+y[F]]==1)s.push(F>>>1);
R.push([y,s]);g.b.kH(B,q,X,D,K)}}return R};g.b.kH=function(W,q,X,k,B){var U=[B*q+k],l=W[B*q+k];W[B*q+k]=65535;
while(U.length!=0){var N=U.pop();W[N]=0;if(W[N+q]==l){U.push(N+q);W[N+q]=65535}if(W[N-q]==l){U.push(N-q);
W[N-q]=65535}if(W[N-1]==l){U.push(N-1);W[N-1]=65535}if(W[N+1]==l){U.push(N+1);W[N+1]=65535}}};g.b.ao4=function(W,q,X,k,B){var U=[0,-1,1,0,0,1,-1,0],Y=1;
function l(p,M,Y){var N=m*q+D,x=0;if(Y==0)x=N-q;else if(Y==1)x=N;else if(Y==2)x=N-1;else if(Y==3)x=N-q-1;
return W[x]}var K=[],D=k,m=B,a=l(D,m,Y);do{K.push(D,m);D+=U[Y*2];m+=U[Y*2+1];if(l(D,m,Y)!=a)Y=Y+1&3;
else if(l(D,m,Y+3&3)!=a)Y=Y;else if(l(D,m,Y+2&3)!=a)Y=Y+3&3}while(D!=k||m!=B);return K};g.b.ahN=function(W,q,X){if(q==null||q==0)return W;
var k=W.length-2;if(X&&X.length!=0){var B=X[0]*2,U=X[X.length-1]*2,l=B==0?k:B-2,K=W.slice(U);for(var N=0;
N<B;N++)K.push(W[N]);if(B==U)K.push(.9*W[B]+.1*W[l],.9*W[B+1]+.1*W[l+1]);else K.push(W[B],W[B+1]);K=g.b.ZB(K,q);
K.pop();K.pop();for(var N=0;N<X.length-1;N++){var D=W.slice(X[N]*2,X[N+1]*2+2);D=g.b.ZB(D,q);for(var m=0;
m<D.length-2;m++)K.push(D[m])}return K}var Y=W.slice(0);Y.push(.9*W[0]+.1*W[k],.9*W[1]+.1*W[k+1]);Y=g.b.ZB(Y,q);
Y.pop();Y.pop();return Y};g.b.ZB=function(W,q){var X=W.length-2,k=W[0],B=W[1],U=W[X],l=W[X+1],K=U-k,D=l-B,m=1/Math.sqrt(K*K+D*D),Y=U*B-l*k,a=-1,p=-1,M=0;
for(var N=2;N<X;N+=2){var x=W[N],R=W[N+1],y=R*R*1e6+x*x,s=Math.abs(D*x-K*R+Y)*m;if(s>p||s==p&&y>M){p=s;
a=N;M=y}}if(p<q)return[k,B,U,l];var F=g.b.ZB(W.slice(0,a+2),q),E=g.b.ZB(W.slice(a),q);for(var N=2;N<E.length;
N++)F.push(E[N]);return F};g.b.aoM=function(){var W=function(k,B,U,l,K,D){return(B-l)*(K-U)+(U-k)*(D-l)>=0},q=function(k,B,U,l,K,D,m,Y){var a=m-U,p=Y-l,M=K-U,x=D-l,R=k-U,y=B-l,s=a*a+p*p,F=a*M+p*x,E=a*R+p*y,o=M*M+x*x,G=M*R+x*y,d=1/(s*o-F*F),u=(o*E-F*G)*d,r=(s*G-F*E)*d;
return u>=0&&r>=0&&u+r<1},X=function(k){var a1=k.length>>>1,N=0;if(a1<3)return[];var B=[],U=[];for(var N=0;
N<a1;N++)U.push(N);var l=a1;while(l>3){var K=U[(N+0)%l],D=U[(N+1)%l],m=U[(N+2)%l],Y=k[2*K],a=k[2*K+1],p=k[2*D],M=k[2*D+1],x=k[2*m],R=k[2*m+1],y=!1;
if(W(Y,a,p,M,x,R)){y=!0;for(var s=0;s<l;s++){var F=U[s];if(F==K||F==D||F==m)continue;if(q(k[2*F],k[2*F+1],Y,a,p,M,x,R)){y=!1;
break}}}if(y){B.push(K,D,m);U.splice((N+1)%l,1);l--;N=0}else if(N++>3*l)break}B.push(U[0],U[1],U[2]);
return B};return X}();g.b.abf=function(W,q){var X={},k={zb:[],n:[]};for(var N=0;N<q.length;N+=3){var B=q[N]*2,U=q[N+1]*2,l=q[N+2]*2;
g.b.ZI(W,B,U,k,X);g.b.ZI(W,B,l,k,X);g.b.ZI(W,U,l,k,X)}return k};g.b.ZI=function(W,q,X,k,B){if(q>X){var U=X;
X=q;q=U}if(B[q+","+X])return;B[q+","+X]=!0;k.zb.push("M","L");k.n.push(W[q],W[q+1],W[X],W[X+1])};g.b.abc=function(W,q){var X=[],k=W.length;
for(var N=0;N<k;N+=2){var B=W[N],U=W[N+1],l=W[(N+2)%k],K=W[(N+3)%k];if(K<U){var D=U;U=K;K=D}if(U<q&&q<K){var m=(q-U)/(K-U);
X.push(B+m*(l-B))}}X.sort(function(Y,a){return Y-a});return X};g.b.aEq=function(W,q,X,k,B,U,l){var K=W-X,D=q-k,m=B-X,Y=U-k,a=1/Math.sqrt(K*K+D*D),p=1/Math.sqrt(m*m+Y*Y),M=K*a,x=D*a,R=m*p,y=Y*p,s=x*l,F=-M*l,E=-y*l,o=R*l,G=g.b.qx(s,F,M,x,E,o,R,y),d=s+M*G,u=F+x*G,G=g.b.qx(0,0,M,x,d,u,-x,M),r=M*G,v=x*G;
return[Math.sqrt(r*r+v*v),M,x,R,y]};g.b.aAH=function(W,q,X,k,B,U,l){var K=g.b.aEq(W,q,X,k,B,U,l),D=K[0],m=K[1],Y=K[2],a=K[3],p=K[4],M=Math.atan2(m*p-Y*a,m*a+Y*p);
if(M<0){M=M*-1}var x=Math.PI-M,R=4/3*Math.tan(x/4),y=X+D*m,s=k+D*Y,F=X+D*a,E=k+D*p,o=y+R*l*-m,G=s+R*l*-Y,d=F+R*l*-a,u=E+R*l*-p;
return[0,0,y,s,o,G,d,u,F,E]};g.b.qx=function(W,q,X,k,B,U,l,K){var D=l*(q-U)-K*(W-B),m=K*X-l*k;if(m==0)return 0;
return D/m};g.b.Au=function(W,q,X,k,B,U){return W*(k-U)+X*(U-q)+B*(q-k)};g.b.ajM=function(W){function q(H,T,e,z,J,P,L,A,h){var C=g.b.qx(H,T,e,z,J,P,L,A);
h.push(H+e*C,T+z*C)}var X=[],k=W.length,B=[];for(var N=0;N<k;N+=2){var U=N==0?k-2:N-2,l=N==k-2?0:N+2,K=W[N],D=W[N+1],m=K-W[U],Y=D-W[U+1],a=W[l]-K,p=W[l+1]-D,M=Math.sqrt(m*m+Y*Y),x=Math.sqrt(a*a+p*p);
B.push(x);var R=M/(M+x),y=K-m*.5,s=D-Y*.5,F=K+a*.5,E=D+p*.5,o=(W[l]+W[U])*.5,G=(W[l+1]+W[U+1])*.5,d=y+R*(F-y),u=s+R*(E-s),r=K-d,v=D-u,c=(a*-m+p*-Y)/(M*x),V=(R-.5)*7,j=1+V*R,Q=1-V*(1-R);
X.push(y+r*j,s+v*j,F+r*Q,E+v*Q)}return X};g.n4=function(){};g.n4.fb=function(W,q,X,k,B){var U=X.r,l=X.$,K=U*l,D=new Int32Array(K),a1=0;
for(var N=0;N<K;N++)if(q[N]!=0){D[N]=a1;a1++}else if(W[(N<<2)+3]<200){D[N]=-2}else D[N]=-1;if(a1==0)return;
var m=new g.tg(a1,a1),Y=new Array(3*a1),a=new Array(3*a1);for(var N=0;N<a.length;N++)a[N]=Y[N]=0;var p=1/255,M=[-U,-1,1,U],x=[],R=[];
for(var y=0;y<l;y++)for(var s=0;s<U;s++){var F=y*U+s,E=F<<2,N=D[F],o=N*3,G=0,d=0,u=0;if(N==-1||N==-2)continue;
for(var r=0;r<4;r++){if(r==2){d=u;x[u]=0;R[u]=N;u++}var v=F+M[r],c=v<<2,V=D[v];if(r==0&&y==0||r==1&&s==0||r==2&&s==U-1||r==3&&y==l-1||V==-2)continue;
G++;if(V==-1){Y[o+0]+=W[c+0];Y[o+1]+=W[c+1];Y[o+2]+=W[c+2]}else{x[u]=-1;R[u]=V;u++;if(q[F]==q[v]){Y[o+0]+=W[E+0]-W[c+0];
Y[o+1]+=W[E+1]-W[c+1];Y[o+2]+=W[E+2]-W[c+2]}}}x[d]=G;m.qG(x,R,u)}for(var N=0;N<K;N++)if(D[N]!=-1){var j=N<<2,Q=D[N],H=Q*3;
a[H]=W[j+0];a[H+1]=W[j+1];a[H+2]=W[j+2]}var T=Date.now();m.a8b(a,Y,k,B);console.log(Date.now()-T);for(var N=0;
N<K;N++){var Q=D[N],e=Q*3,j=N<<2;if(Q==-1||W[j+3]!=255)continue;W[j+0]=~~(.5+Math.max(0,Math.min(255,a[e+0])));
W[j+1]=~~(.5+Math.max(0,Math.min(255,a[e+1])));W[j+2]=~~(.5+Math.max(0,Math.min(255,a[e+2])))}};g.S={};
g.S.azj=function(W,q){var X=[W],k=[];for(var N=0;N<q.length;N++){var B=q[N],U=!1;for(var l=N+1;l<q.length;
l++){var K=q[l];if(K[0]<=B[0]&&K[1]<=B[1]&&B[2]<=K[2]&&B[3]<=K[3]){U=!0;break}}if(!U)k.push(B)}q=k;for(var N=0;
N<q.length;N++){var B=q[N];for(var l=0;l<X.length;l++){var K=X[l],D=Math.max(B[0],K[0]),m=Math.min(B[2],K[2]),Y=Math.max(B[1],K[1]),a=Math.min(B[3],K[3]);
if(D<m&&Y<a){var p=[];if(K[1]<B[1]){var M=K.slice(0);M[3]=B[1];p.push(M)}if(K[0]<B[0]){var x=K.slice(0);
x[1]=Y;x[2]=B[0];p.push(x)}if(B[2]<K[2]){var R=K.slice(0);R[1]=Y;R[0]=B[2];p.push(R)}if(B[3]<K[3]){var y=[D,a,m,K[3]];
p.push(y)}if(p.length!=0){X[l]=p[0];for(var s=1;s<p.length;s++)X.push(p[s])}}}X.push(B);X=g.S.akO(X)}X.sort(function(B,K){return B[1]!=K[1]?B[1]-K[1]:B[0]-K[0]});
for(var N=1;N<X.length;N++){var B=X[N-1],K=X[N];if(B[0]==K[0]&&B[1]==K[1]&&B[2]==K[2]&&B[3]==K[3]){X.splice(B[4]==null?N-1:N,1);
N--}}return X};g.S.akO=function(W){W=W.slice(0);for(var N=0;N<W.length;N++){var q=W[N],X=null;if(q[4]!=null)continue;
for(var k=0;k<W.length;k++){var B=W[k];if(N==k||B[4]!=null)continue;var U=q[0]==B[0],l=q[1]==B[1],K=q[2]==B[2],D=q[3]==B[3];
if(l&&D&&(q[2]==B[0]||q[0]==B[2])){X=[Math.min(q[0],B[0]),q[1],Math.max(q[2],B[2]),q[3]]}if(U&&K&&(q[3]==B[1]||q[1]==B[3])){X=[q[0],Math.min(q[1],B[1]),q[2],Math.max(q[3],B[3])]}if(X){W[N]=X;
W.splice(k,1);break}}if(X){N--}}return W};g.S.jK=function(W){var q=new dU;for(var N=0;N<W.length;N++)q=q.xw(W[N]);
return q};g.S.azi=function(W,q){var X=g.S.jK,k=new UnionFind(W.length),d=1e3,u=1e3;for(var N=0;N<W.length;
N++)for(var B=N+1;B<W.length;B++){if(!q)continue;var U=W[N],l=W[B],a=1e9,p=1e9;if(U.ty(l)){k.link(N,B);
continue}var K=U.x+U.r,D=U.y+U.$,m=l.x+l.r,Y=l.y+l.$;if((K<l.x||m<U.x)&&(D<l.y||Y<U.y))continue;if(!(D<l.y||Y<U.y))a=Math.min(Math.abs(K-l.x),Math.abs(U.x-m));
if(!(K<l.x||m<U.x))p=Math.min(Math.abs(D-l.y),Math.abs(U.y-Y));var M=Math.min(a,p),x=Math.min(U.r,U.$,l.r,l.$);
if(M<.3*x)k.link(N,B)}var R=[],y={};for(var N=0;N<W.length;N++){var s=k.find(N),F=W[N];if(y[s]==null){y[s]=R.length;
R.push([])}R[y[s]].push(F)}var E=[],o=[];for(var N=0;N<R.length;N++){E.push(X(R[N]));var G=X(R[N]);G.SE=N;
o.push(G)}o.sort(function(z,J){return Math.max(J.$,J.r)-Math.max(z.$,z.r)});var r=new NETXUS.RectanglePacker(d,u);
while(!0){var v=!1;r.reset(d,u);for(var N=0;N<o.length;N++){var c=r.findCoords(o[N].r,o[N].$);if(c){o[N].x=c.x;
o[N].y=c.y}else{d=Math.floor(d*1.1);u=Math.floor(u*1.1);v=!0;break}}if(v)continue;break}for(var N=0;
N<R.length;N++){var V=o[N],j=V.SE,Q=E[j],H=R[j],T=V.x-Q.x,e=V.y-Q.y;for(var B=0;B<H.length;B++)H[B].offset(T,e)}};
g.S.ahj=function(W){var q=[],X=[],k=function(G,d){return G-d};for(var N=0;N<W.length;N++){var B=W[N];
if(q.indexOf(B[0])==-1)q.push(B[0]);if(q.indexOf(B[2])==-1)q.push(B[2]);if(X.indexOf(B[1])==-1)X.push(B[1]);
if(X.indexOf(B[3])==-1)X.push(B[3])}q.sort(k);X.sort(k);q.push(q[q.length-1]+1);X.push(X[X.length-1]+1);
var U=[],l=q.length-1,K=X.length-1;for(var D=0;D<K;D++){var m=[];U.push(m);for(var Y=0;Y<l;Y++){var a=q[Y],p=q[Y+1],M=X[D],x=X[D+1],R=(a+p)/2,y=(M+x)/2,s=-1,F=-1;
for(var N=0;N<W.length;N++){var B=W[N];if(B[0]==a&&B[1]==M)s=N;if(B[0]<R&&R<B[2]&&B[1]<y&&y<B[3])F=N}if(s!=-1){var B=W[s],E=1,o=1;
while(q[Y+E]<B[2])E++;while(X[D+o]<B[3])o++;m.push([s,B[2]-B[0],B[3]-B[1],E,o])}else if(F!=-1)continue;
else m.push([-1,p-a,x-M,1,1])}}return[q.pop(),X.pop(),U]};g.S.a0J=function(W,q,X,k){var B=g.S.ahj(W),U=["<table id=\"Table_01\" width=\""+B[0]+"\" height=\""+B[1]+"\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\">"],l=B[2];
for(var N=0;N<l.length;N++){var K=l[N];U.push("\t<tr>");for(var D=0;D<K.length;D++){var m=K[D],Y=null,a="",p="",M=m[3],x=m[4],s="";
if(m[0]!=-1){var R=m[0],y=W[R];if(y.length==5){Y=X[y[4]].v;a=Y.url.v}p="src=\""+q[R]+"\"";if(y[4]==null&&k==2)p=""}if(M!=1)s+=" colspan=\""+M+"\"";
if(x!=1)s+=" rowspan=\""+x+"\"";U.push("\t\t<td"+s+">");if(a!="")U.push("\t\t\t<a href=\""+a+"\" target=\""+Y.null.v+"\">");
U.push((a==""?"":"\t")+"\t\t\t<img "+p+" width=\""+m[1]+"\" height=\""+m[2]+"\" alt=\""+(Y?Y.altTag.v:"")+"\"></td>"+(a==""?"":"</a>"))}if(N==l.length-1){U.pop();
U.pop();U.push("\t\t<td></td>")}U.push("\t</tr>")}U.push("</table>");return U.join("\n")};g.Qs=function(){};
g.Qs.fw=Math.floor(16*window.devicePixelRatio);g.Qs.dH={};g.Qs.Zu=0;g.Qs.XW=[[12,76,2],[12,76,3],[12,76,4],[12,76,5],[12,76,6]];
g.Qs.yk=["px","in","cm","mm","%"];g.Qs.ll=function(W,q,X,k){var B=[1,q,q/2.54,q/25.4,X/100][k];return W*B};
g.Qs.R5=function(W,q,X,k){var B=[1,q,q/2.54,q/25.4,X/100][k];return W/B};g.Qs.ft=function(W,q,X,k,B){var U=X.bm.vA,l=[1,q,q/2.54,q/25.4,k/100][U],K=[2,3,2,1,2][U];
W=W/l;var D=Math.round(W),m=U==0&&Math.abs(W-D)<1e-6?D+"":W.toFixed(K);if(B)m+=" "+g.Qs.yk[U];return m};
g.Qs.arY=function(W,q,X,k){var B=X.bm.vA,U=[1,q,q/2.54,q/25.4,k/100][B];W=parseFloat(W)*U;return W};
g.Qs.acE=function(W,q){var X=W+","+q;if(g.Qs.dH.clr==X)return;var k=Math.round(g.Qs.fw*.5);g.Qs.Zu=k;
var B=g.Nm(k,k);B.save();B.font=k*1.5+"px monospace";var U="0 1 2 3 4 5 6 7 8 9 -".split(" ");for(var N=0;
N<U.length;N++){B.fillStyle="#"+g.Ga(q);B.fillRect(0,0,k,k);B.fillStyle="#"+g.Ga(W);B.fillText(U[N],0,k);
g.Qs.dH[U[N]]=new Uint8Array(B.getImageData(0,0,k,k).data.buffer)}g.Qs.dH.clr=X;B.restore()};g.Qs.a5u=function(W,q,X,k){var B=0,U=0,l=4*g.Qs.fw;
for(var N=9;N>=0;N--){var K=Math.pow(10,N);if(5*K*W<=l){B=5*K;U=10;break}if(2*K*W<=l){B=2*K;U=4;break}if(1*K*W<=l){B=1*K;
U=k;break}}if(B==0){B=1;U=k}var D=Math.ceil(B*W),m=g.j(D*g.Qs.fw*4);g.WD(m,4278190080|X);for(var N=0;
N<g.Qs.fw;N++)g.Qs.ZH(m,4*N*D,q);for(var N=0;N<D;N++)g.Qs.ZH(m,4*((g.Qs.fw-1)*D+N),q);if(B==2)U=2;if(B==5)U=5;
if(B>1||B==1&&D>20)for(var N=1;N<U;N++)g.Qs.ahU(m,N*(D/U),D,(N&1)==1?.8:.7,q);return{S0:m,step:B}};g.Qs.ahU=function(W,q,X,k,B){var q=Math.round(q);
for(var U=Math.round(g.Qs.fw*k);U<g.Qs.fw-1;U++)g.Qs.ZH(W,4*(U*X+q),B)};g.Qs.ZH=function(W,q,X){W[q+0]=X>>16&255;
W[q+1]=X>>8&255;W[q+2]=X&255};g.Qs.aF9=function(W,q,X,k,B,U,l,K){var D=W.eO.r,m=W.eO.$,Y=g.Qs.fw,a=q&255,p=q>>8&255,M=q>>16&255;
q=Math.round(a*.6)<<16|Math.round(p*.6)<<8|Math.round(M*.6);g.Qs.acE(Math.round(a*.8)<<16|Math.round(p*.8)<<8|Math.round(M*.8),X);
var x=W.$Z,R=W.h,y=W.Zi;for(var s=0;s<2;s++){var F=s==0?U:l;W.$Z=F[0];W.h=F[1];W.Zi=0;var E=this.a5u(W.$Z,q,X,K),o=W.uy(0,0),G=W.uy(D,m),d=Math.floor(o.x/E.step)*E.step,u=Math.ceil(G.x/E.step)*E.step,r=Math.floor(o.y/E.step)*E.step,v=Math.ceil(G.y/E.step)*E.step,c=W.az(d,r),V=W.az(u,r),j=E.step*W.$Z,Q=Math.ceil(j);
if(s==1){var T=E.S0;E.S0=g.j(T.length*4);g.F.Pj(T,E.S0,Q,Y)}var e=s==0?W.n1.data:W.YP.data,z=new dU(0,0,[D,Y][s],[Y,m][s]),J=new dU(0,0,[Q,Y][s],[Y,Q][s]),P=new dU([0,Math.round(Y*.2)][s],[Math.round(Y*.08),0][s],g.Qs.Zu,g.Qs.Zu),L=(s==0?u-d:v-r)/E.step;
for(var N=0;N<L;N++){if(s==0)J.x=Math.round(c.x+N*j);else J.y=Math.round(c.y+N*j);g.YE(E.S0,J,e,z,J);
var A=(s==0?d+N*E.step:Math.abs(r+N*E.step)).toString(10);for(var h=0;h<A.length;h++){if(s==0)P.x=J.x+3+h*Math.round(g.Qs.Zu*.8);
else P.y=J.y+3+h*Math.round(g.Qs.Zu*1.15);var C=g.Qs.dH[A[h]];g.YE(C,P,e,z,P)}}}W.$Z=x;W.h=R;W.Zi=y;
var w=Math.floor(Y*.6),f=new Uint32Array(W.n1.data.buffer),O=new Uint32Array(W.YP.data.buffer),n=a<128?4278190080:4294967295;
if(0<k&&k<D)for(var N=0;N<w;N++)f[N*D+k]=n;if(0<B&&B<m)for(var N=0;N<w;N++)O[B*Y+N]=n};g.scale={};g.scale.mL=document.createElement("canvas");
g.scale.Ca=g.scale.mL.getContext("2d");g.scale.qh=function(W,q,X){var k=g.scale.mL,B=g.scale.Ca;k.width=q;
k.height=X;var U=new ImageData(new Uint8ClampedArray(W.buffer),q,X);B.putImageData(U,0,0);return B.createPattern(B.canvas,"repeat")};
g.scale.auZ=function(W,q,X,k,B,U,l,K,D){var m=g.scale.a5A(W,X,k,B,U,l,K,D);if(q)q.set(m);return new Uint8Array(m.buffer)};
g.scale.a5A=function(W,q,X,k,B,U,l,K){var D=g.Nm(q,X);D.save();D.beginPath();D.rect(0,0,q,X);D.translate(U,l);
D.scale(k,B);if(K!=null)D.rotate(-K);D.fillStyle=W;D.fill();D.restore();return new Uint8Array(D.getImageData(0,0,q,X).data.buffer)};
g.scale.M=function(W,q,X,k,B){var U=g.Oj(W),l=X.X==0&&X.bO==0,K=B.r,D=B.$,m=g.b.Lw(q,X).n,Y=g.b.DS(m,l).x$(B),a=Y.x,p=Y.y,M=a+Y.r,x=p+Y.$,R=~~q.x,y=~~q.y,s=~~q.r,F=~~q.$;
if(l&&U==8)for(var E=p;E<x;E++){var o=X.kv*(E+.5)+X.rY-y,G=~~o*s;for(var d=a;d<M;d++){var u=X.iM*(d+.5)+X.Wy-R,N=G+~~u;
k[E*K+d]=W[N]}}else if(l)for(var E=p;E<x;E++){var o=X.kv*(E+.5)+X.rY-y,G=~~o*s;for(var d=a;d<M;d++){var u=X.iM*(d+.5)+X.Wy-R,N=G+~~u;
if(U==8)k[E*K+d]=W[N];else if(U==16)k[E*K+d]=W[N]>>>8;else k[E*K+d]=W[N]*255}}else for(var E=p;E<x;E++)for(var d=a;
d<M;d++){var r=d+.5,v=E+.5,u=X.iM*r+X.bO*v+X.Wy-R,o=X.X*r+X.kv*v+X.rY-y;if(0<=u&&0<=o&&u<s&&o<F){var N=~~o*s+~~u;
if(U==8)k[E*K+d]=W[N];else if(U==16)k[E*K+d]=W[N]>>>8;else k[E*K+d]=W[N]*255}}};g.scale.Z6=function(W,q,X,k,B,U){function l(L){return 255*L}var K=g.Oj(W),D=new Uint32Array(W.buffer),m=new Uint32Array(k.buffer),Y=B.r,a=B.$,p=g.b.Lw(q,X).n,M=U?B:g.b.DS(p).x$(B),x=M.x,R=M.y,y=x+M.r,s=R+M.$,F=~~q.x,E=~~q.y,o=~~q.r,G=~~q.$;
X=X.P();X.translate(-F,-E);var d=X.Bb(new hw(1,0)).SR(X.Bb(new hw(0,0))),u=d.x,r=d.y;for(var v=R;v<s;
v++){var c=X.Bb(new hw(x+.5,v+.5)),V=c.x,j=c.y,Q=(v-B.y)*Y+x-B.x;for(var H=x;H<y;H++){if(U){V=((o<<10)+V)%o;
j=((G<<10)+j)%G}if(0<=V&&0<=j&&V<o&&j<G){if(K==8)m[Q]=D[~~j*o+~~V];else{var T=(~~j*o+~~V)*4,e,z,J,P;
if(K==16){e=W[T]>>>8;z=W[T+1]>>>8;J=W[T+2]>>>8;P=W[T+3]>>>8}else{e=l(W[T]);z=l(W[T+1]);J=l(W[T+2]);P=l(W[T+3])}m[Q]=P<<24|J<<16|z<<8|e}}V+=u;
j+=r;Q++}}};g.scale.G4=function(W,q,X,k,B,U,l){if(l<1)g.scale.amR(W,q,X,k,B,U,Math.round(1/l));else g.scale.a12(W,q,X,k,B,U,l)};
g.scale.YS=function(W,q,X,k,B,U,l,K){if(K)K=K.x$(new dU(0,0,q,X));W=new Uint32Array(W.buffer);k=new Uint32Array(k.buffer);
if(l<1)g.scale.ayE(W,q,X,k,B,U,Math.round(1/l),K);else g.scale.aIT(W,q,X,k,B,U,l)};g.scale.a12=function(W,q,X,k,B,U,l){for(var K=0;
K<X;K++)for(var D=0;D<q;D++){var m=W[K*q+D],Y=Math.min(l,B-D*l),a=Math.min(l,U-K*l);for(var N=0;N<a;
N++)for(var p=0;p<Y;p++)k[(l*K+N)*B+l*D+p]=m}};g.scale.amR=function(W,q,X,k,B,U,l){for(var K=0;K<U;K++)for(var D=0;
D<B;D++){var m=0,Y=Math.min(l,q-D*l),a=Math.min(l,X-K*l);for(var N=0;N<a;N++)for(var p=0;p<Y;p++)m+=W[(l*K+N)*q+(l*D+p)];
k[K*B+D]=Math.round(m/(Y*a))}};g.scale.aIT=function(W,q,X,k,B,U,l){for(var K=0;K<X;K++)for(var D=0;D<q;
D++){var m=W[K*q+D],Y=Math.min(l,B-D*l),a=Math.min(l,U-K*l);for(var N=0;N<a;N++)for(var p=0;p<Y;p++)k[(l*K+N)*B+l*D+p]=m}};
g.scale.alr=function(W,q,X){return(W>>>X&255)+(q>>>X&255)>>>1};g.scale.zk=function(W,q){var X=g.scale.alr;
return X(W,q,24)<<24|X(W,q,16)<<16|X(W,q,8)<<8|X(W,q,0)};g.scale.aax=function(W,q,X,k,B,U){var l=g.Oj(W);
if(l==8){var K=new Uint32Array(W.buffer),D=new Uint32Array(k.buffer);for(var m=0;m<X;m++){for(var Y=0;
Y<q;Y++){var a=m*q+Y,p=K[a],M=p,x=p,R=p;if(Y<q-1)M=g.scale.zk(p,K[a+1]);if(m<X-1)x=g.scale.zk(p,K[a+q]);
if(Y<q-1&&m<X-1)R=g.scale.zk(p,K[a+q+1]);var y=(m*B+Y)*2;D[y]=p;D[y+1]=M;D[y+B]=x;D[y+B+1]=R}}if((B&1)==1)for(var m=0;
m<U;m++)D[m*B+B-1]=D[m*B+B-2];var s=B*(U-1);if((U&1)==1)for(var Y=0;Y<B;Y++)D[s+Y]=D[s-B+Y]}else{var F=g.scale.aG_,E=g.scale.aps;
for(var m=0;m<X;m++){for(var Y=0;Y<q;Y++){var a=m*q+Y,y=(m*B+Y)*2;F(W,a,k,y);if(Y<q-1)E(W,a,a+1,k,y+1);
else F(W,a,k,y+1);if(m<X-1)E(W,a,a+q,k,y+B);else F(W,a,k,y+B);if(Y<q-1&&m<X-1)E(W,a,a+q+1,k,y+B+1);else F(W,a,k,y+B+1)}}if((B&1)==1)for(var m=0;
m<U;m++)F(k,m*B+B-2,k,m*B+B-1);var s=B*(U-1);if((U&1)==1)for(var Y=0;Y<B;Y++)F(k,s-B+Y,k,s+Y)}};g.scale.aG_=function(W,q,X,k){var B=q<<2,U=k<<2;
X[U]=W[B];X[U+1]=W[B+1];X[U+2]=W[B+2];X[U+3]=W[B+3]};g.scale.aps=function(W,q,X,k,B){var U=q<<2,l=X<<2,K=B<<2;
k[K]=(W[U]+W[l])*.5;k[K+1]=(W[U+1]+W[l+1])*.5;k[K+2]=(W[U+2]+W[l+2])*.5;k[K+3]=(W[U+3]+W[l+3])*.5};g.scale.ayE=function(W,q,X,k,B,U,l,K){var D=0,m=B,Y=0,a=U;
if(K){D=Math.floor(K.x/l);m=Math.ceil((K.x+K.r)/l);Y=Math.floor(K.y/l);a=Math.ceil((K.y+K.$)/l)}for(var p=Y;
p<a;p++)for(var M=D;M<m;M++){var x=0,R=0,y=0,s=0,F=Math.min(l,q-M*l),E=Math.min(l,X-p*l);for(var N=0;
N<E;N++)for(var o=0;o<F;o++){var G=W[(l*p+N)*q+l*M+o],d=G>>>24;x+=d;R+=d*(G>>>16&255);y+=d*(G>>>8&255);
s+=d*(G&255)}if(x!=0){var u=1/x;k[p*B+M]=x/(F*E)<<24|R*u<<16|y*u<<8|s*u}else k[p*B+M]=0}};g.d=function(){function W(K,D,N){return(128&K[N-D-1]&K[N-D]&K[N-2]&K[N-1]&K[N+1]&K[N+D-1]&K[N+D])==0}function q(K,D,N){return(128&K[N-D-D]&K[N-D+1]&K[N+2]&K[N+D+1]&K[N+D+D])==0}function X(K,D,N){return(K[N-D]&K[N-1]&K[N+1]&K[N+D]&128)==0}function k(K,N){return(K[N]&128)!=0}function B(K,D,m,Y){var N=0,a=m.r,p=m.$;
if(Y)for(var M=0;M<p;M++)for(var x=0;x<a;x++){if(k(K,N)&&(x<2||M<2||x>a-3||M>p-3||((K[N-1]&128)==0||D[N-1]!=0)&&W(K,a,N)||q(K,a,N)))D[N]=255;
N++}else for(var M=0;M<p;M++)for(var x=0;x<a;x++){if(k(K,N)&&(x==0||M==0||x==a-1||M==p-1||X(K,a,N)))D[N]=255;
N++}}function U(K,D,m,Y,a){var p=m.r,M=m.$,x=new Uint8Array(D.buffer),R=new Uint32Array(D.buffer);if(a)for(var y=2;
y<M-2;y++)for(var s=2;s<p-2;s++){var N=y*p+s;if(k(K,N)&&(((K[N-1]&128)==0||R[N-1]!=0)&&W(K,p,N)||q(K,p,N)))R[N]=Y[(s+y&4)>>>2]}else for(var y=1;
y<M-1;y++)for(var s=1;s<p-1;s++){var N=y*p+s;if(k(K,N)&&X(K,p,N)){R[N]=Y[(s+y&4)>>>2]}}}function l(K,D,m,Y,a){var p=m.r,M=m.$,x=new Uint8Array(D.buffer),R=new Uint32Array(D.buffer),N=0;
if(Y==1)for(var y=0;y<M;y++)for(var s=0;s<p;s++,N++){var F=K[N];R[N]=255-F>>>1<<24|255}else for(var y=0;
y<M;y++)for(var s=0;s<p;s++,N++){var F=K[N];R[N]=255<<24|(F<<16|F<<8|F)}}return{a2t:B,ayc:U,acG:l}}();
g.Gg={};g.Gg.kX=function(W,q,X){var k,B;if(X==0){k=W.S.P();B=g.Gg.aqW}if(X==1){k=W.S.xw(q.S);B=g.Gg.xw}if(X==2){k=q.S.P();
B=g.Gg.aqj}if(X==3){k=W.S.x$(q.S);B=g.Gg.x$}if(X==4){k=W.S.xw(q.S);B=g.Gg.a6l}if(k.PM())return null;
var U=g.Oj(W.c),l=g.j(k.C(),U);g.Z_(q.c,q.S,l,k);var K=g.j(k.C(),U);g.Z_(W.c,W.S,K,k);B(K,l,l);var D=g.Iu(l,k);
if(D.PM())return null;if(!D.AB(k)){var m=g.j(D.C(),U);g.Z_(l,k,m,D);l=m;k=D}return{c:l,S:k}};g.Gg.aqW=function(W,q,X){for(var N=0;
N<W.length;N++)X[N]=W[N]};g.Gg.xw=function(W,q,X){var k=g.bH(g.Oj(W));for(var N=0;N<W.length;N++)X[N]=Math.min(W[N]+q[N],k)};
g.Gg.aqj=function(W,q,X){for(var N=0;N<W.length;N++)X[N]=Math.max(q[N]-W[N],0)};g.Gg.x$=function(W,q,X){var k=g.bH(g.Oj(W)),B=1/k;
for(var N=0;N<W.length;N++)X[N]=W[N]*q[N]*B};g.Gg.a6l=function(W,q,X){var k=g.bH(g.Oj(W)),B=1/k;for(var N=0;
N<W.length;N++)X[N]=Math.min(W[N]+q[N],k)-W[N]*q[N]*B};g.tg=function(W,q){this.m=[];this.Ef=[0];this.MK=[];
this.oh=[];this.se=[0];this.eX=[];this.Eq=[];this.rows=W;this.cols=q};g.tg.prototype.P=function(){var W=this,q=W.rows,X=W.cols,k=new g.tg(q,X);
k.m=W.m.slice(0);k.Ef=W.Ef.slice(0);k.MK=W.MK.slice(0);k.oh=W.oh.slice(0);k.se=W.se.slice(0);k.eX=W.eX.slice(0);
k.Eq=W.Eq.slice(0);return k};g.tg.prototype.qG=function(W,q,X){var k=this.Ef.length-1;for(var N=0;N<X;
N++){var B=W[N],U=q[N];this.m.push(B);this.MK.push(U);if(U==k){this.Eq.push(B==0?0:1/B)}else{this.oh.push(B);
this.eX.push(U)}}this.Ef.push(this.m.length);this.se.push(this.oh.length)};g.tg.prototype.ME=function(W,q){var X=this,k=X.rows,B=X.m,U=X.MK;
if(q==null)q=new Array(k);for(var N=0;N<k;N++){var l=X.Ef[N],K=X.Ef[N+1],D=0;while((K-l&3)!=0){D+=B[l]*W[U[l]];
l++}for(var m=l;m<K;m+=4)D+=B[m]*W[U[m]]+B[m+1]*W[U[m+1]]+B[m+2]*W[U[m+2]]+B[m+3]*W[U[m+3]];q[N]=D}return q};
g.tg.prototype.multiply=function(W){return this.zN(W.Pj())};g.tg.prototype.zN=function(W){var q=this,X=q.rows,k=q.cols,B=W.rows,U=new g.tg(X,B),l=q.MK,K=W.MK;
for(var N=0;N<X;N++){var D=[],m=[],Y=q.Ef[N],a=q.Ef[N+1];for(var p=0;p<B;p++){var M=W.Ef[p],x=W.Ef[p+1],R=0,y=Y,s=M;
while(y<a&&s<x){var F=Math.max(l[y],K[s]);while(y<a&&l[y]<F)y++;while(s<x&&K[s]<F)s++;if(y<a&&s<x&&l[y]==K[s])R+=q.m[y++]*W.m[s++]}if(R!=0){D.push(R);
m.push(p)}}U.qG(D,m,D.length)}return U};g.tg.prototype.Pj=function(){var W=this.rows,q=this.cols,X=[];
for(var N=0;N<q;N++)X.push([[],[]]);var k=this.m,B=this.Ef,U=this.MK;for(var N=0;N<W;N++){var l=B[N],K=B[N+1];
for(var D=l;D<K;D++){var m=X[U[D]];m[0].push(k[D]);m[1].push(N)}}var Y=new g.tg(q,W);for(var N=0;N<q;
N++)Y.qG(X[N][0],X[N][1],X[N][1].length);return Y};g.tg.prototype.aHt=function(){var W=this.rows,q=this.cols,X=new Array(W),k=this.m,B=this.Ef,U=this.MK;
for(var N=0;N<W;N++){var l=X[N]=new Array(q);for(var K=0;K<q;K++)l[K]=0;var D=B[N],m=B[N+1];for(var Y=D;
Y<m;Y++)l[U[Y]]=k[Y]}return X};g.tg.prototype.nc=function(W,q,X,k,B){function U(u,q,r,v){var c=u.length;
for(var N=0;N<c;N++)v[N]=u[N]-q[N]*r}function l(u,q,r,v){var c=u.length,V=0;while((c-V&3)!=0){v[V]=u[V]+q[V]*r;
V++}for(var N=V;N<c;N+=4){v[N]=u[N]+q[N]*r;v[N+1]=u[N+1]+q[N+1]*r;v[N+2]=u[N+2]+q[N+2]*r;v[N+3]=u[N+3]+q[N+3]*r}}function K(u,q,r){var v=u.length;
for(var N=0;N<v;N++)r[N]=u[N]*q[N]}function D(u,q){var r=u.length,v=0,c=0;while((r-v&3)!=0){c+=u[v]*q[v];
v++}for(var N=v;N<r;N+=4)c+=u[N]*q[N]+u[N+1]*q[N+1]+u[N+2]*q[N+2]+u[N+3]*q[N+3];return c}var m=k!=null?2:1,Y=Date.now(),a=0,p=this,M=W.slice(0),x=W.slice(0);
p.ME(W,x);U(q,x,1,M);var R=this.Eq;if(m==0){R=M.slice(0);R.fill(1)}var y=M.slice(0);K(R,M,y);var s=y.slice(0),F=D(M,y);
while(!0){p.ME(s,x);var E=F/D(s,x);l(W,s,E,W);U(M,x,E,M);if((a&7)==0&&Math.sqrt(D(M,M))<X)break;if(m<=1)K(R,M,y);
else{var o=M.slice(0);k.aw1(o,M);B.auJ(y,o)}var G=D(M,y),d=G/F;l(y,s,d,s);F=G;a++}};g.tg.prototype.aKO=function(W,q,X,k){var B=Date.now(),U=1.96,K=0;
if(X==null)X=5e-6;if(k==null)k=1e9;var l=1-U,a1=this.rows,D=this.oh,m=this.se,Y=this.eX,a=this.Eq;while(!0){var p=0;
for(var N=0;N<a1;N++){var M=q[N],x=m[N],R=m[N+1];if(R-x==4)M-=D[x]*W[Y[x]]+D[x+1]*W[Y[x+1]]+D[x+2]*W[Y[x+2]]+D[x+3]*W[Y[x+3]];
else for(var y=x;y<R;y++)M-=D[y]*W[Y[y]];var s=W[N]*l+a[N]*M*U,F=s-W[N];p+=F*F;W[N]=s}if(p/a1<X||Date.now()>B+k)break}};
g.tg.prototype.a8b=function(W,q,X,k){var B=Date.now(),U=1.96,K=0;if(X==null)X=5e-5;if(k==null)k=1e9;
var l=1-U,a1=this.rows,D=this.oh,m=this.se,Y=this.eX,a=this.Eq;while(!0){var p=0;for(var N=0;N<a1;N++){var M=N*3,x=q[M],R=q[M+1],y=q[M+2],s=m[N],F=m[N+1];
for(var E=s;E<F;E++){var o=D[E],G=Y[E]*3;x-=o*W[G+0];R-=o*W[G+1];y-=o*W[G+2]}var d=a[N]*U,u=W[M+0]*l+x*d,r=W[M+1]*l+R*d,v=W[M+2]*l+y*d,c=u-W[M+0],V=r-W[M+1],j=v-W[M+2];
p+=.4*c*c+.5*V*V+.1*j*j;W[M+0]=u;W[M+1]=r;W[M+2]=v}if(p/a1<X||Date.now()>B+k)break}};g.yz={};g.yz.B9=function(W,q,X){return{t:"Objc",v:{classID:"CrPt",Hrzn:{t:"doub",v:W},Vrtc:{t:"doub",v:q},Cnty:{t:"bool",v:X}}}};
g.yz.M=function(W,q){for(var N=0;N<W.length;N++){var X=W[N].v,k=q.Bb(new hw(X.Hrzn.v,X.Vrtc.v));X.Hrzn.v=Math.round(k.x);
X.Vrtc.v=Math.round(k.y)}};g.yz.aA_=function(W,q,X){var a1=W.length-1,k=g.Ez.Fv(a1+1,a1+2);for(var N=1;
N<a1;N++){k[N][N-1]=1/(W[N]-W[N-1]);k[N][N]=2*(1/(W[N]-W[N-1])+1/(W[N+1]-W[N]));k[N][N+1]=1/(W[N+1]-W[N]);
k[N][a1+1]=3*((q[N]-q[N-1])/((W[N]-W[N-1])*(W[N]-W[N-1]))+(q[N+1]-q[N])/((W[N+1]-W[N])*(W[N+1]-W[N])))}k[0][0]=2/(W[1]-W[0]);
k[0][1]=1/(W[1]-W[0]);k[0][a1+1]=3*(q[1]-q[0])/((W[1]-W[0])*(W[1]-W[0]));k[a1][a1-1]=1/(W[a1]-W[a1-1]);
k[a1][a1]=2/(W[a1]-W[a1-1]);k[a1][a1+1]=3*(q[a1]-q[a1-1])/((W[a1]-W[a1-1])*(W[a1]-W[a1-1]));g.Ez.Xq(k,X)};
g.yz.a0W=function(W,q,X,k){if(W<=q[0])return X[0];if(W>=q[q.length-1])return X[q.length-1];var N=1;while(q[N]<W)N++;
var B=q[N],U=q[N-1],l=X[N],K=X[N-1],D=(W-U)/(B-U),m=k[N-1]*(B-U)-(l-K),Y=-k[N]*(B-U)+(l-K),a=(1-D)*K+D*l+D*(1-D)*(m*(1-D)+Y*D);
return a};g.yz.aa8=function(W,q,X,k){var B={S9:[W[0]],Ts:[q[0]],Hl:[]};k[0]=B;for(var N=1;N<W.length-1;
N++){B.S9.push(W[N]);B.Ts.push(q[N]);if(X[N]==!1){g.yz.aA_(B.S9,B.Ts,B.Hl);B={S9:[W[N]],Ts:[q[N]],Hl:[]}}k[N]=B}B.S9.push(W[N]);
B.Ts.push(q[N]);g.yz.aA_(B.S9,B.Ts,B.Hl);k[N]=B};g.yz.abX=function(W,q,X,k){if(W<=q[0])return X[0];if(W>=q[q.length-1])return X[q.length-1];
var N=1;while(q[N]<W)N++;var B=k[N-1];return g.yz.a0W(W,B.S9,B.Ts,B.Hl)};g.yz.alO=function(W){var q={S9:[],Ts:[],a34:[]};
for(var N=0;N<W.length;N++){q.S9[N]=W[N].v.Hrzn.v;q.Ts[N]=W[N].v.Vrtc.v;q.a34[N]=W[N].v.Cnty?W[N].v.Cnty.v:!0}return q};
g.yz.wx=function(W,a1,q){var X=0,k=255;if(q){X=-1e9;k=1e9}var B=g.yz.alO(W),U=[];g.yz.aa8(B.S9,B.Ts,B.a34,U);
var l=new Float32Array(a1);for(var N=0;N<a1;N++)l[N]=1/255*Math.max(X,Math.min(k,g.yz.abX(N*(255/(a1-1)),B.S9,B.Ts,U)));
return l};g.yz.aGV=function(W,a1,q){var X=Math.round(W.length/20),k=a1-W.length,B=q?(W[X]-W[0])/X:0,U=q?W[0]-k*B:W[W.length-1],l=new Float32Array(a1);
l.set(W,q?k:0);for(var N=0;N<k;N++)l[N+(q?0:k)]=U+N*B;return l};g.yz.CR=function(W,a1,q,X){if(X==null)X=8;
var k=g.yz.wx(W,a1,!1),B;if(X==8){var B=new Uint8Array(a1);for(var N=0;N<a1;N++)B[N]=~~(.5+255*k[N])}else{var B=new Uint16Array(a1);
for(var N=0;N<a1;N++)B[N]=~~(.5+65535*k[N])}if(q){B[0]=0;B[1]=.4*B[1];B[2]=.7*B[2]}return B};g.yz.ab0=function(W,q){var X=new Uint8Array(W.length);
for(var N=0;N<W.length;N++)X[N]=q[W[N]];return X};g.yz.a7a=function(W,q){var X=q.length,k=new Float32Array(X);
for(var N=0;N<X;N++)k[N]=q[~~(W[N]*(X-1))];return k};g.yz.K$=function(W,q,X){var k=document.createElement("canvas");
k.width=q;k.height=X;var B=k.getContext("2d"),U=g.yz.CR(W,256);B.scale(q/255,X/255);B.fillStyle="#fff";
B.fillRect(0,0,255,255);B.fillStyle="#333";B.beginPath();B.moveTo(0,255);for(var N=0;N<U.length;N++)B.lineTo(N,255-U[N]);
B.lineTo(255,255);B.closePath();B.fill();return k.toDataURL()};g.style={};g.style.stroke=function(W,q,X,k){var B=X.r,U=X.$,l=g.style.j6(W,B,U);
g.style.f2(q,X,l,X,k)};g.style.f2=function(W,q,X,k,B){var U=q.x$(k),l=U.r,K=U.$;B+=.5;var D=U.x-q.x,m=U.y-q.y,Y=q.r,a=U.x-k.x,p=U.y-k.y,M=k.r;
for(var x=0;x<K;x++){var R=(x+p)*M+a,y=(x+m)*Y+D;for(var s=0;s<l;s++){var F=Math.max(0,Math.min(1,B-X[R+s]));
W[y+s]=Math.round(F*255)}}};g.style.aou=function(W,q,X,k){for(var B=0;B<X;B++)for(var U=0;U<q;U++){var l=B*q+U,K=0,D=0,m=W[l];
if(U==0||B==0){K=W[l+1]-m;D=W[l+q]-m}else if(U==X-1||B==q-1){K=m-W[l-1];D=m-W[l-q]}else{K=W[l+1]-W[l-1];
D=W[l+q]-W[l-q]}if(K!=0||D!=0){var Y=1/Math.sqrt(K*K+D*D);K*=Y;D*=Y}k[l+l]=K;k[l+l+1]=D}};g.style.j6=function(W,q,X){var k=q*X,B=new ArrayBuffer((k+q*4)*4),U=new Float32Array(B,0,k),l=new Uint16Array(B,0,k<<1),K=new Int32Array(B,k*4,q),D=new Int32Array(B,(k+q)*4,q),m=new Int32Array(B,(k+q*2)*4,q),Y=new Int32Array(B,(k+q*3)*4,q),a=1/255;
for(let N=0;N<q;++N){let p=-X-q,M=0,x=N,R=0;for(;R<X;++R,x+=q){if(W[x]>128)p=R,M=W[x];l[x<<1]=R-p;l[(x<<1)+1]=M}p=l[x+=x-q-q],M=l[x+1];
for(;R>1;--R){if(l[x-=q+q]>p)l[x]=++p,l[x+1]=M;else p=l[x],M=l[x+1]}}for(let y=0;y<k;y+=q){var s=y+q,F=l[y<<1]*l[y<<1],E=0;
let o=K[0]=y,G=D[0]=y,d=F,u=d;for(let x=y+1;x<s;++x){var r=l[x<<1]*l[x<<1];while(E&&u>(G-x)*(G-x)+r){G=D[--E],o=K[E],d=l[o<<1]*l[o<<1],u=(G-o)*(G-o)+d}if(E||u<=(G-x)*(G-x)+r){var v=x-o,c=y+Math.floor((v*(x+o-y-y)+r-d)/(v<<1))+1;
if(c<s){G=D[++E]=c,o=K[E]=x,d=r,u=(G-o)*(G-o)+d}}else G=y,o=K[0]=x,d=r,u=(G-o)*(G-o)+d}for(let N=0;N<E;
++N){var V=K[N]<<1;m[N]=l[V]*l[V];Y[N]=l[V+1]}let j=.5-l[(K[E]<<1)+1]*a;for(let x=s-1;x>=y;--x){U[x]=Math.max(0,Math.sqrt((x-o)*(x-o)+d)+j);
if(E&&x==G){G=D[--E],o=K[E],d=m[E],j=.5-Y[E]*a}}}return U};g.style.a0o=function(W,q,X){var k=new Float64Array(q*X),B=0,U=q*X;
for(var N=0;N<U;N++)B|=W[N];if(B==0){k.fill(1e9);return}var l=g.style.p6(W,q,X);for(var K=0;K<X;K++)for(var D=0;
D<q;D++){var N=K*q+D,m=l[N*2],Y=l[N*2+1];if(m==0&&Y==0){k[N]=0;continue}var a=Math.sqrt(m*m+Y*Y),p=W[(K+Y)*q+D+m]*(1/255);
k[N]=a+.5-p}return k};g.style.a36=function(W,q,X){return(.5-X)*W};g.style.p6=function(W,q,X,k){var B=new Int16Array(q*X*2);
g.style.apX(W,B,q,X,128);return B};g.style.apX=function(W,q,X,k,B){var U=new Int32Array(X*k);g.style.aDM(W,U,X,k,B);
g.style.anL(U,q,X,k)};g.style.aDM=function(W,q,X,k,B){var U=new Int32Array(k);for(var l=0;l<X;l++){var K=X+k;
for(var D=k-1;D>=0;D--){if(W[D*X+l]>B)K=0;else K++;U[D]=K}K=X+k;for(var D=0;D<k;D++){if(W[D*X+l]>B)K=0;
else K++;q[D*X+l]=K<U[D]?-K:U[D]}}};g.style.anL=function(W,q,X,k){var B=(X+k)*(X+k),U=new Float64Array(X),l=new Uint16Array(X);
for(var K=0;K<k;K++){var D=K*X,m=0;l[0]=0;U[0]=-B;U[1]=+B;for(var Y=1;Y<X;Y++){var a=W[Y+D]*W[Y+D]+Y*Y,p=(a-(W[l[m]+D]*W[l[m]+D]+l[m]*l[m]))/(2*Y-2*l[m]);
while(p<=U[m]){m--;p=(a-(W[l[m]+D]*W[l[m]+D]+l[m]*l[m]))/(2*Y-2*l[m])}m++;l[m]=Y;U[m]=p;U[m+1]=B}m=0;
for(var Y=0;Y<X;Y++){while(U[m+1]<Y)m++;var M=l[m]-Y,x=W[l[m]+D],N=K*X+Y<<1;q[N]=M;q[N+1]=x}}};g.S7={};
g.S7.dA=function(W,q,X){var k=W.canvas;if(k.width!=q||k.height!=X){k.width=q;k.height=X}};g.S7.vO=function(W,q,X,k,B,U){var l=g.Oj(B.c),K=l==8?255:l==16?65535:1,D=1/K;
g.S7.dA(W,q,X);if(U==null)U=!1;var m=B.c,Y=B.S,a=!B.isEnabled;if(q*X==0)return;var p=new ImageData(q,X),M=p.data,x=1/q,R=1/X,y=B.color/255;
for(var N=0;N<X;N++)for(var s=0;s<q;s++){var F=(N*q+s)*4,E=Math.round(k.x+s*x*k.r),o=Math.round(k.y+N*R*k.$),G=0;
if(E<Y.x||E>=Y.x+Y.r||o<Y.y||o>=Y.y+Y.$)G=y;else G=m[(o-Y.y)*Y.r+(E-Y.x)]*D;G=255-B.IC+G*B.IC;if(U)G=170+Math.round(.4*(G-170));
M[F]=G;M[F+1]=G;M[F+2]=G;M[F+3]=255}W.putImageData(p,0,0);if(a)g.S7.a0K(W,q,X)};g.S7.atL={};g.S7.a89=function(W,q,X,k){var B,U,l;
B=Math.ceil(Math.max(q,X)*.35);U=q-B;l=X-B;var K=k.generativeDocInfo,D=B+"-"+(K?1:0),m=g.S7.atL[D];if(m==null){var Y=g.Nm(B,B),a=Math.round(B*.27),p=Y.lineWidth=Math.max(1,Math.round(B*.12)),M=p/2;
if(K){Y.fillStyle="black";Y.fillRect(0,0,B,B);Y.beginPath();for(var x=0;x<1;x++)for(var N=0;N<10;N++){var R=-Math.PI/2+N*2*Math.PI/10,y=((N&1)==0?1:.4)*B*.52,s=.5,F=.52;
s=B*s+Math.cos(R)*y;F=B*F+Math.sin(R)*y;if(N==0)Y.moveTo(s,F);else Y.lineTo(s,F)}Y.closePath();Y.fillStyle="white";
Y.fill()}else{Y.fillStyle="#eeeeee";Y.fillRect(0,0,B,B);Y.strokeRect(1+M,1+M,B-p-2,B-p-2);Y.strokeRect(a+M,a+M,B-a-a-p,B-a-a-p)}m=g.S7.atL[D]=Y.getImageData(0,0,B,B)}W.putImageData(m,U,l)};
g.S7.aC2=[];g.S7.ah1=function(W,q,X){var k,B,U;k=Math.ceil(Math.max(q,X)*.35);B=q-k;U=X-k;var l=g.S7.aC2[k];
if(l==null){var K=g.Nm(k,k);K.fillStyle="#eeeeee";K.fillRect(0,0,k,k);K.lineWidth=1;K.strokeRect(2.5,2.5,k-5,k-5);
var D=new ImageData(3,3),m=D.data;g.WD(m,4278190080);m[4*4]=m[4*4+1]=m[4*4+2]=238;K.putImageData(D,1,1);
K.putImageData(D,k-4,1);K.putImageData(D,1,k-4);K.putImageData(D,k-4,k-4);l=g.S7.aC2[k]=K.getImageData(0,0,k,k)}W.putImageData(l,B,U)};
g.S7.aae=function(W,q,X,k,B,U){g.S7.dA(W,q,X);var l=q/k.r;if(q*X==0)return;W.fillStyle="#999999";W.setTransform(1,0,0,1,0,0);
W.clearRect(0,0,q,X);W.save();var K=g.S7.a9W;if(K==null)K=g.S7.a9W=kE.Cs.wy(!0,!0);K.strokeStyleLineWidth.v.val=1/l;
W.fillStyle="#ffffff";W.scale(l,l);g.z.bZ(B.G,W,0,0);g.z.bZ(B.G,W,0,0,K);W.restore();if(U){W.save();
var D=q*.4,m=X*.4;W.fillRect(q-D,X-m,D,m);W.beginPath();W.moveTo(q-D/2,X-m);W.lineTo(q-D/2,X);W.setLineDash([3,3]);
W.stroke();W.restore()}};g.S7.an2=function(W,q,X,k,B){g.S7.dA(W,q,X);if(q*X==0)return;W.setTransform(1,0,0,1,0,0);
W.fillStyle="white";W.fillRect(0,0,q,X);var U=B.B,l;if(U.add.SoLd)l=_.Gz.rQ(U.add.SoLd.nonAffineTransform);
else if(U.add.vmsk)l=U.add.vmsk.ga();else if(U.add.TySh){if(U.kJ.aj==null)return;l=g.b.Lw(U.kJ.aj).n;
g.b.M(l,U.add.TySh.M,l)}var K=g.b.Hb(l),D=Math.min(q/K.r,X/K.$),m=K.r*D,Y=K.$*D;W.translate(-K.x*D+(q-m)*.5,-K.y*D+(X-Y)*.5);
W.scale(D,D);B.No(k,W,null,null)};g.S7.awR=null;g.S7.Pe=function(W,q,X,k,B,U,l,K,D){g.S7.dA(W,q,X);if(q*X==0)return;
var m=Math.max(q,X),Y=g.S7.awR;if(Y==null||Y.width<m||Y.height<m){g.S7.awR=Y=new ImageData(m,m)}m=Y.width;
var a=Y.data,p=k.r/q,M=k.$/X,x=U.x,R=U.x+U.r,y=U.y,s=U.y+U.$,F=g.Oj(B)-8;for(var N=0;N<X;N++)for(var E=0;
E<q;E++){var o=N*m+E,G=o*4,d=~~(k.x+E*p),u=~~(k.y+N*M),r=g.a1I(N,E,2);if(d<x||d>=R||u<y||u>=s||D){a[G]=r;
a[G+1]=r;a[G+2]=r;a[G+3]=255}else{var v=(u-U.y)*U.r+(d-U.x)<<2;if(F!=24){var c=(B[v+3]>>>F)*(1/255);
a[G]=(B[v+0]>>>F)*c+r*(1-c);a[G+1]=(B[v+1]>>>F)*c+r*(1-c);a[G+2]=(B[v+2]>>>F)*c+r*(1-c)}else{var c=B[v+3];
a[G]=B[v+0]*c*255+r*(1-c);a[G+1]=B[v+1]*c*255+r*(1-c);a[G+2]=B[v+2]*c*255+r*(1-c)}a[G+3]=255}}if(K!=null)for(var N=0;
N<a.length;N+=4)a[N]=a[N+1]=a[N+2]=a[N+K];W.putImageData(Y,0,0);if(l)g.S7.a0K(W,q,X)};g.S7.ajm=function(W,q,X,k){g.S7.dA(W,q,X);
W.fillStyle=g.S7.yM(k.Clr.v);W.fillRect(0,0,q,X);g.S7.tL(W,q,X)};g.S7.st=null;g.S7.a1v=function(W,q,X,k){g.S7.dA(W,q,X);
var B=W.canvas.width,U=W.canvas.height,l=g.S7.st;if(l==null||l.width!=B||l.height!=U){W.fillStyle="#ffffff";
W.fillRect(0,0,q,X);W.fillStyle="#000000";W.font=""+X*.7+"px serif";W.fillText("T",(q-X*.43)/2,X*.75);
W.fillText("T",(q-X*.43)/2,X*.75);g.S7.st=W.getImageData(0,0,B,U)}else W.putImageData(l,0,0)};g.S7.a2a=function(W,q,X){g.S7.dA(W,q,X);
W.clearRect(0,0,q,X);W.font=X*.7+"px serif";W.fillText(":(",(q-X*.43)/2,X*.7)};g.S7.anK=function(W,q,X,k){g.S7.dA(W,q,X);
var B=dZ.get(k),U=W.canvas.width,l=g.S7.atz[U+B];if(l==null){var K=PIMG["adj/"+B],D=lf.zP(K),m=UPNG.decode(D.buffer),Y=new Uint8Array(UPNG.toRGBA8(m)[0]),a=new dU(0,0,160,160),p=0,M=U-p*2,x=_.Gz.k6([Y,a],new ka(M/160,0,0,M/160,0,0)),R=new dU(0,0,U,U),y=g.j(R.C()*4);
g.v.HX("norm",x.buffer,x.S,y,R,x.S,1);l=g.S7.atz[U+B]=new ImageData(new Uint8ClampedArray(y.buffer),U,U)}W.putImageData(l,0,0)};
g.S7.atz={};g.S7.a0D=function(W,q,X,k){g.S7.dA(W,q,X);var B=W.canvas.width,U=W.canvas.height,l=W.getImageData(0,0,B,U);
g.ov.TI(k.Grad.v,new Uint8Array(l.data.buffer),new dU(0,0,B,U),[1/B,0,0,1/U],B/2,U/2,!1,0,16711680,65280);
W.putImageData(l,0,0);g.S7.tL(W,q,X)};g.S7.aqm=function(W,q,X,k,B){g.S7.dA(W,q,X);var U=W,l=dx.yN(k.Ptrn.v,B.add.Patt);
if(l==null)return;var K=l.CH[1];g.S7.Pe(W,q,X,K,l.CH[0],K,!1);g.S7.tL(U,q,X)};g.S7.a0K=function(W,q,X){W.strokeStyle="#bb0000";
W.lineWidth=3;W.beginPath();W.moveTo(q*.15,X*.15);W.lineTo(q*.85,X*.85);W.moveTo(q*.85,X*.15);W.lineTo(q*.15,X*.85);
W.closePath();W.stroke()};g.S7.tL=function(W,q,X){W.fillStyle="#eeeeee";W.fillRect(0,X*.75,q,X*.25);
W.beginPath();W.moveTo(0,X*.75);W.lineTo(q,X*.75);W.moveTo(q*.1,X*.875);W.lineTo(q*.9,X*.875);W.moveTo(q*.65,X*.825);
W.lineTo(q*.65,X*.95);W.closePath();W.stroke()};g.S7.yM=function(W){var q=g.ov.yM(W),X=Math.round(q.o)<<16|Math.round(q.L)<<8|Math.round(q.X);
return"#"+g.Ga(X)};g.z={};g.z.Y$=function(W,q,X){var k=[],B=-1;for(var N=0;N<W.length;N++){var U=W[N];
if((U.I==0||U.I==3)&&U.R3!=-1)B++;if(U.I>5||U.I==0||U.I==3)continue;if(q!=null&&q.indexOf(B)==-1)continue;
if(X!=null&&X.indexOf(N)==-1)continue;k.push(U.mp.x);k.push(U.mp.y);k.push(U.WL.x);k.push(U.WL.y);k.push(U.ko.x);
k.push(U.ko.y)}return k};g.z.lo=function(W,q,X,k){var B=0,U=-1;for(var N=0;N<q.length;N++){var l=q[N];
if((l.I==0||l.I==3)&&l.R3!=-1)U++;if(l.I>5||l.I==0||l.I==3)continue;if(X!=null&&X.indexOf(U)==-1)continue;
if(k!=null&&k.indexOf(N)==-1)continue;l.mp.cQ(W[B],W[B+1]);l.WL.cQ(W[B+2],W[B+3]);l.ko.cQ(W[B+4],W[B+5]);
B+=6}};g.z.Y9=function(W,q,X,k){var B=g.z.Y$(W,X,k);g.b.M(B,q,B);g.z.lo(B,W,X,k)};g.z.aal=function(W,q,X,k){var B=g.z.Y$(W,X,k);
g.F.M(q,B);g.z.lo(B,W,X,k)};g.z.al4=function(W,q,X,k){if(k==null){var B=g.z.aD3(W,40,X);for(var N=0;
N<B.length;N++)W[N]=B[N]}var U=g.z.Y$(W,X,k);g.my.M(q,U,g.b.Hb(U));g.z.lo(U,W,X,k)};g.z.aD3=function(W,q,X){var k=[],B=-1;
for(var N=0;N<W.length;N++){var U=W[N],l=U.length;if(U.I>5){k.push(g.N(U));continue}U=g.N(U);k.push(U);
if(U.R3!=-1)B++;if(X&&X.indexOf(B)==-1){k=k.concat(W.slice(N+1,N+1+l))}else{var K=g.z.aHN(W,N+1,l);K=g.b.d5(K,q);
var D=g.z.a2c(K);U.length=D.length;for(var m=0;m<D.length;m++)k.push(D[m])}N+=l}return k};g.z.aHN=function(W,q,X){var k={zb:["M"],n:[]},B=W[q],U=W[q+X-1];
k.n.push(B.WL.x,B.WL.y);for(var N=1;N<X;N++){var l=W[q+N-1],K=W[q+N];k.zb.push("C");k.n.push(l.ko.x,l.ko.y,K.mp.x,K.mp.y,K.WL.x,K.WL.y)}k.zb.push("C");
k.n.push(U.ko.x,U.ko.y,B.mp.x,B.mp.y,B.WL.x,B.WL.y);return k};g.z.a2c=function(W){var q=[],X=W.zb,k=W.n,B=0,a1=k.length;
q.push({I:2,mp:new hw(k[a1-4],k[a1-3]),WL:new hw(k[0],k[1]),ko:new hw(k[2],k[3])});for(var N=0;N<X.length-2;
N++){var U=N*6+4;q.push({I:2,mp:new hw(k[U],k[U+1]),WL:new hw(k[U+2],k[U+3]),ko:new hw(k[U+4],k[U+5])})}return q};
g.z.aD0=function(W){for(var N=0;N<W.length;N++){if(W[N].I>5)continue;var q=W[N].length;if(!(q==4||q==6||q==8)){N+=q;
continue}for(var X=0;X<q;X++){var k=W[N+1+X],B=W[N+1+(X+1)%q],U=Math.min(k.WL.x,B.WL.x),l=Math.min(k.WL.y,B.WL.y),K=0,D=0;
if(k.WL.x<B.WL.x){K=k.WL.y-l;D=K-(B.WL.x-U)}else{K=B.WL.y-l;D=K-(k.WL.x-U)}if(Math.abs(D)<.2*K)return K}}return-1};
g.z.Sa=function(W,q,X){function k(p,M){var x=Math.min(p.x,M.x),R=Math.min(p.y,M.y),y=Math.max(p.x+p.r,M.x+M.r),s=Math.max(p.y+p.$,M.y+M.$);
return new dU(x,R,y-x,s-R)}var B=null,U=-1,l=!g.z.dl(W);for(var N=0;N<W.length;N++){var K=W[N];if(K.I>5)continue;
if((K.I==0||K.I==3)&&K.R3!=-1)U++;if(q!=null&&q.indexOf(U)==-1)continue;if(N==W.length-1)break;var D=K.I==3,m=K.length,Y=K.R3,a=g.z.HE(W,N+1,m,D);
if(B==null)B=a;else if(X)B=k(B,a);else if(l){if(q!=null||Y==0||Y==-1||Y==2)B=k(B,a);else if(Y==1)B=B;
else if(Y==3){B=a;l=!1}}else{if(q!=null||Y==0||Y==-1||Y==1)B=k(B,a);else if(Y==2)B=B;else if(Y==3)B=B.x$(a)}N+=m}if(B==null||B.r<0||B.$<0)B=new dU(0,0,0,0);
return B};g.z.amS=new Float64Array(4);g.z.HE=function(W,N,q,X){var k=g.z.amS;k[0]=1e30;k[1]=1e30;k[2]=-1e30;
k[3]=-1e30;var B=W[N+q-1];if(!X)g.z.agE(B.WL.x,B.WL.y,B.ko.x,B.ko.y,W[N].mp.x,W[N].mp.y,W[N].WL.x,W[N].WL.y,k);
for(var U=N;U<N+q-1;U++){var l=W[U],K=W[U+1];g.z.agE(l.WL.x,l.WL.y,l.ko.x,l.ko.y,K.mp.x,K.mp.y,K.WL.x,K.WL.y,k)}return new dU(k[0],k[1],k[2]-k[0],k[3]-k[1])};
g.z.agE=function(W,q,X,k,B,U,l,K,D){if(W==X&&q==k&&B==l&&U==K){D[0]=Math.min(D[0],Math.min(W,l));D[1]=Math.min(D[1],Math.min(q,K));
D[2]=Math.max(D[2],Math.max(W,l));D[3]=Math.max(D[3],Math.max(q,K));return}var m=W,Y=q,a=W,p=q,M=40,x=1/(M-1);
for(var R=0;R<M;R++){var y=R*x,s=1-y,F=s*s*s,E=3*s*s*y,o=3*s*y*y,G=y*y*y,d=F*W+E*X+o*B+G*l,u=F*q+E*k+o*U+G*K;
if(d<m)m=d;else if(d>a)a=d;if(u<Y)Y=u;else if(u>p)p=u}if(m<D[0])D[0]=m;if(Y<D[1])D[1]=Y;if(a>D[2])D[2]=a;
if(p>D[3])D[3]=p};g.z.awG=function(W,q){var X=W.length-3,k=q%X,B=Math.floor(k);if(q<0||B>=X)return null;
var U=W[3+B],l=W[3+(B+1)%X],K=U.WL,D=U.ko,m=l.mp,Y=l.WL,a=k-B,p=1-a,M=p*p*p*K.x+3*p*p*a*D.x+3*p*a*a*m.x+a*a*a*Y.x,x=p*p*p*K.y+3*p*p*a*D.y+3*p*a*a*m.y+a*a*a*Y.y;
return new hw(M,x)};g.z.eK=function(W,q){var X=g.b.c$(W),k=X.wb;X.wb=Typr.U.pathToSVG({crds:k.n,cmds:k.zb},q==null?2:q);
return X};g.z.a3N=function(W){var q=[],X=W.n,k=0,B=0,U=0,l=0,K=0,D=!0;for(var N=0;N<W.zb.length;N++){var m=W.zb[N];
if(m=="M"){if(!D&&(B!=l||U!=K))q.push(["L",[B,U],[l,K]]);l=B=X[k];K=U=X[k+1];k+=2;D=!1}else if(m=="L"){q.push(["L",[B,U],[X[k],X[k+1]]]);
B=X[k];U=X[k+1];k+=2}else if(m=="Q"){q.push(["Q",[B,U],[X[k],X[k+1]],[X[k+2],X[k+3]]]);B=X[k+2];U=X[k+3];
k+=4}else if(m=="C"){q.push(["C",[B,U],[X[k],X[k+1]],[X[k+2],X[k+3]],[X[k+4],X[k+5]]]);B=X[k+4];U=X[k+5];
k+=6}else if(m=="Z"){}else throw m}if(!D&&(B!=l||U!=K))q.push(["L",[B,U],[l,K]]);return q};g.z.xm=function(W){var q=Date.now(),X;
g.z.RX();var k=g.z.E0(W),B=[];for(var N=0;N<k.length;N++){var U=k[N][0],l=k[N][1];if(Math.abs(U.area)<1e-5)B.push(U);
else if(X==null)X=U;else{if(!U.closed)U.closed=!0;X=X[l](U);X.remove()}}if(X==null)X=new paper.CompoundPath(B);
else{if(X.segments)X=new paper.CompoundPath(X);for(var N=0;N<B.length;N++){X.addChild(B[N])}}var K=W.slice(0,2);
K=K.concat(g.z.va(X));g.z.op(k);g.z.op([[X]]);if(K[2])K[2].R3=1;for(var N=3;N<K.length;N++)if(K[N].R3!=null)K[N].R3=-1;
return K};g.z.RX=function(){if(g.z.ash==null){var W=document.createElement("canvas");paper.setup(W);
g.z.ash=!0}};g.z.amg=function(W,q){g.z.RX();var X=[],k=g.z.E0(W),B=new paper.Path.Rectangle(new paper.Rectangle(q.x,q.y,q.r,q.$));
B.remove();B.fillColor=new paper.Color(1,0,0);for(var N=0;N<k.length;N++){if(B.intersects(k[N][0])||B.contains(k[N][0].children[0].segments[0].point))X.push(N)}g.z.op(k);
return X};g.z.Sj=function(W,q,X,k){g.z.RX();var B=X?{curves:!0,tolerance:k}:null,U=new paper.Point(q.x,q.y),l=g.z.E0(W);
g.z.op(l);for(var N=l.length-1;N>=0;N--){var K=l[N][0],D=K.hitTest(U,B);if(D!=null)return{bT:N,Rr:X?D.location.index:null,sw:X?D.location.time:0}}return{bT:-1}};
g.z.L0=function(W,q,X,k){var B=[[],[],[]];for(var N=0;N<W.length;N++){var U=W[N];if(U.I>5||U.I==0||U.I==3)continue;
var l=q.BS(U.WL),K=q.BS(U.mp),D=q.BS(U.ko);if(X&&X.indexOf(N)==-1){if(k){if(X.indexOf(N-1)==-1)K=!1;
if(X.indexOf(N+1)==-1)D=!1}else K=D=!1}if(l)B[0].push(N);if(K)B[1].push(N);if(D)B[2].push(N)}B[3]=B[0].length+B[1].length+B[2].length;
return B};g.z.aAo=function(W,q,X){var k=W[q];for(var B=q+1;B<X;B++)W[B-1]=W[B];W[X-1]=k};g.z.a0g=function(W,q,X,k){var N,B,U,l=0;
W=W.slice(0);q.sort(function(x,R){return x-R});U=-1;for(N=2;N<W.length;){var K=W[N],D=K.length;if(K.R3!=-1)U++;
var m=l;while(m<q.length&&q[m]<N+1+D)m++;if(l!=m){var Y=q.slice(l,m);l=m;for(B=0;B<D;B++)if(Y.indexOf(N+1+B)!=-1)W[N+1+B]=null;
if(K.I==0){var a=Y[0]-(N+1);while(a!=0){g.z.aAo(W,N+1,N+1+D);a--}}var p=K;p.length=0;B=0;while(B<D&&W[N+1+B]==null)B++;
while(B<D){var M=W[N+1+B];if(M!=null)p.length++;else if(B<D+1&&W[N+1+B+1]&&k){p=W[N+1+B]={I:0,R3:-1,length:0,Wm:0,jA:0,HG:1}}B++}if(k)for(B=-1;
B<D;B++)if(W[N+1+B]&&W[N+1+B].I<3)W[N+1+B].I+=3;g.BI.HS(X,U)}N+=1+D}for(N=0;N<W.length;N++)if(W[N]==null){W.splice(N,1);
N--}U=0;for(N=2;N<W.length;N++){var K=W[N];if(K.length==0){if(W[N+1]&&W[N+1].R3==-1)W[N+1].R3=K.R3;else if(K.R3!=-1)X.splice(U,1);
W.splice(N,1);N--}else if(K.length!=null&&K.R3!=-1)U++}return W};g.z.aDO=function(W,q){for(var N=0;N<W.length;
N++){var X=W[N];if(X.I==0||X.I==3){X.R3=N==2||q?0:-1;X.HG=q?1:2}}};g.z.aLd=function(W,q){var X=W.slice(0,2),k=-1;
for(var N=2;N<W.length;N++){if((W[N].I==0||W[N].I==3)&&W[N].R3!=-1)k++;if(q.indexOf(k)==-1)X.push(W[N])}return X};
g.z.acy=function(W,q){var X=W.slice(0,2),k=-1;for(var N=2;N<W.length;N++){if((W[N].I==0||W[N].I==3)&&W[N].R3!=-1)k++;
if(q.indexOf(k)!=-1)X.push(W[N])}return X};g.z.aan=function(W){var q=0;for(var N=0;N<W.length;N++)if(W[N].I==0||W[N].I==3)q=N;
return W[q]};g.z._H=function(W,q){var X=-1;for(var N=0;N<W.length;N++)if((W[N].I==0||W[N].I==3)&&(q||W[N].R3!=-1))X++;
return X+1};g.z.wS=function(W,q,X){var k=-1;for(var N=0;N<W.length;N++)if((W[N].I==0||W[N].I==3)&&(X||W[N].R3!=-1)){k++;
if(k==q)return N}return-1};g.z.WR=function(W,q,X){var k=-1;for(var N=0;N<W.length;N++)if((W[N].I==0||W[N].I==3)&&(X||W[N].R3!=-1)){if(N>=q)return k;
k++}return k};g.z.Jt=function(W,q){var X=-1,k=0;for(var N=0;N<W.length;N++){if((W[N].I==0||W[N].I==3)&&W[N].R3!=-1)X++;
if(X==q)k++}return k};g.z.aeW=function(W){var q=180;for(var N=0;N<W.length;N++){if(W[N].I!=0&&W[N].I!=3)continue;
var X=W[N].length;if(X<3)continue;for(var k=0;k<X;k++){var B=W[N+1+(k-1+X)%X],U=W[N+1+k],l=W[N+1+(k+1)%X],K=U.WL,D=U.mp.AB(K)?B.ko:U.mp,m=U.ko.AB(K)?l.mp:U.ko;
if(K.AB(D)||K.AB(m))continue;var Y=D.x-K.x,a=D.y-K.y,p=m.x-K.x,M=m.y-K.y,D=Math.atan2(D.y-K.y,D.x-K.x)*180/Math.PI,m=Math.atan2(m.y-K.y,m.x-K.x)*180/Math.PI,x=Math.abs(m-D)%360,R=x>180?360-x:x;
if(R<q)q=R}}return q*Math.PI/180};g.z.va=function(W){var q=W.segments?[W]:W.children,X=[];for(var N=0;
N<q.length;N++){var k=q[N],B=k.segments,U=k.closed?0:3,l=X.length,K=null;if(B.length<=1)continue;X.push({I:U,length:B.length,R3:0,HG:2});
for(var D=0;D<B.length;D++){var m=B[D],Y=new hw(m.handleIn.x,m.handleIn.y),a=new hw(m.handleOut.x,m.handleOut.y),p=new hw(m.point.x,m.point.y),M={I:U+1,mp:p.add(Y),WL:p,ko:p.add(a)};
if(K==null)K=M;X.push(M);if(D+1==B.length&&hw.tj(K.WL,M.WL)<1e-5){X.pop();X[l].length--;K.mp=M.mp;if(U==3)for(var x=l;
x<X.length;x++)X[x].I-=3}}}return X};g.z.E0=function(W){g.z.RX();var q=[],X,k=new paper.Color(1,0,0),B=1;
function U(x,D){x.remove();x.closed=!D;x.fillRule=B==2?"nonzero":"evenodd"}for(var N=0;N<W.length;N++){if(5<W[N].I)continue;
var l=W[N].length,K;if(N==W.length-1)break;var D=W[N].I==3;if(N==2){if(!g.z.bB(W))K="subtract";else K="unite"}else{if(W[N].R3==0)K="exclude";
if(W[N].R3==1)K="unite";if(W[N].R3==2)K="subtract";if(W[N].R3==3)K="intersect"}if(W[N].R3!=-1){B=W[N].HG;
X=new paper.CompoundPath;q.push([X,K]);X.fillRule=B==2?"nonzero":"evenodd";X.fillColor=k}var m=[];for(var Y=0;
Y<l;Y++){var a=W[N+1+Y],p=a.mp.SR(a.WL),M=a.ko.SR(a.WL);m.push([[a.WL.x,a.WL.y],[p.x,p.y],[M.x,M.y]])}var x=new paper.Path(m);
U(x,D);X.addChild(x);N+=l}return q};g.z.op=function(W){for(var N=0;N<W.length;N++)W[N][0].remove()};
g.z.ay=function(W){for(var N=0;N<W.length;N++){var q=W[N];if(q.WL==null)continue;if(!q.WL.AB(q.mp)||!q.WL.AB(q.ko))return!1}return!0};
g.z.ar5=function(W){if(W.length<=5)return 0;var q=0,X=W.length-3-1;for(var N=0;N<X;N++){var k=W[3+N],B=W[3+N+1];
if(k.I==0||B.I==0)return 0;q+=(B.WL.x-k.WL.x)*(k.WL.y+B.WL.y)}q+=(W[3].WL.x-W[3+X].WL.x)*(W[3+X].WL.y+W[3+1].WL.y);
return-q*.5};g.z.dl=function(W){var q=W[2],X=!1;if(W.length==2)X=W[1].all==0;else if(W[1].all==1){if(q.R3==1||q.R3==3)X=!0;
else X=!1}else{if(q.R3==1||q.R3==3||q.R3==0)X=!0;else X=!1}return X};g.z.bB=function(W){var q=g.z.dl(W);
for(var N=3;N<W.length;N++)if(W[N].R3==3)q=!0;return q};g.z.asZ=0;g.z.aEu=0;g.z.a2T=0;g.z.afk=function(W,q,X,k){if(X.PM())return;
var B=X.C(),s=16384;g.z.asZ+=B;if(B>g.z.aEu){g.z.aEu=B}var U=X.r,l=X.$;if(k==null&&g.z.ay(W)&&W[2]&&W[2].R3!=2){var K=!0;
for(var N=2;N<W.length;)if(W[N].length==2)N+=3;else{K=!1;break}if(K){return}if(g.z.A8(W)){q.fill(255);
var D=g.z.Sa(W);if(D.C()!=B){var m=1-(D.x-X.x),Y=1-(D.y-X.y),a=1-(X.x+X.r-(D.x+D.r)),p=1-(X.y+X.$-(D.y+D.$)),M=~~(m*255),x=~~(a*255),R=~~(Y*255),y=~~(p*255);
q.fill(R,0,U);q[0]=~~(m*Y*255);q[U-1]=~~(a*Y*255);for(var N=U;N<B;N+=U){q[N]=M;q[N+U-1]=x}q.fill(y,(l-1)*U,l*U);
q[B-U]=~~(m*p*255);q[B-1]=~~(a*p*255)}return}}var F=Math.ceil(U/s),E=Math.ceil(l/s),o=Math.ceil(U/F),G=Math.ceil(l/E),d=Date.now();
for(var u=0;u<E;u++)for(var r=0;r<F;r++){var v=r*o,c=u*G,V=o,j=G,Q=g.Nm(V,j);if(!g.z.dl(W))Q.fillRect(0,0,V,j);
g.z.bZ(W,Q,-X.x-v,-X.y-c,k);var H=new Uint8Array(Q.getImageData(0,0,V,j).data.buffer);if(V==U&&j==l)g.u6(H,q,3);
else g.Fr(H,new dU(v,c,V,j),q,new dU(0,0,U,l))}};g.z.arB=function(W){var q=!1,X=!1,k=0,B=!1;for(var N=0;
N<W.length;N++){var U=W[N].R3;if(U!=null){k++;if(U==-1)q=!0;if(U==1||U==2||U==3)X=!0;if(W[N].I==0)B=!0}}if(!q&&k<20&&B&&X)W=g.z.xm(W);
return W};g.z.bZ=function(W,q,X,k,B,U){if(B!=null){W=g.z.arB(W)}var l=1;for(var N=0;N<W.length;N++){if(5<W[N].I)continue;
var K=W[N].length;if(K==0)continue;if(N==W.length-1)break;var D=W[N].I==3,m=W[N].R3;if(m!=-1){q.beginPath();
if(B)g.z.pi(kE.Cs.IZ(B),q);else{l=W[N].HG;if(m==3&&N==2)m=1;var Y=["xor","source-over","destination-out","source-in"][m];
q.globalCompositeOperation=Y}}g.z.as7(q,W,N+1,K,X,k,D);if(D){}else q.closePath();if(W[N+1+K]==null||W[N+1+K].R3!=-1){if(B){if(U)q.clip();
q.stroke()}else q.fill(l==2?"nonzero":"evenodd")}N+=K}q.globalCompositeOperation="source-over";q.setLineDash([])};
g.z.pi=function(W,q){var X=W.A4;q.setLineDash(W.Vt);q.lineCap=["butt","round","square"][W.VT];q.lineJoin=["miter","round","bevel"][W.WA];
q.lineWidth=W.EE==1?X:X*2;q.miterLimit=W.Mj};g.z.as7=function(W,q,N,X,k,B,U){var l=q[N],K=null;W.moveTo(l.WL.x+k,l.WL.y+B);
for(var D=N;D<N+X-1;D++){l=q[D];K=q[D+1];if(l.WL.AB(l.ko)&&K.mp.AB(K.WL))W.lineTo(K.WL.x+k,K.WL.y+B);
else W.bezierCurveTo(l.ko.x+k,l.ko.y+B,K.mp.x+k,K.mp.y+B,K.WL.x+k,K.WL.y+B)}if(!U){l=q[D];K=q[N];if(l.WL.AB(l.ko)&&K.mp.AB(K.WL))W.lineTo(K.WL.x+k,K.WL.y+B);
else W.bezierCurveTo(l.ko.x+k,l.ko.y+B,K.mp.x+k,K.mp.y+B,K.WL.x+k,K.WL.y+B)}};g.z.anV=function(W,q){var X=[],k=q?4:1;
for(var N=0;N<W.length;N+=2){var B=new hw(W[N],W[N+1]);X.push({I:k,mp:B.P(),WL:B.P(),ko:B.P()})}return X};
g.z.aCW=function(W,q,X){var k=(1-(X!=null?X:25)*.01)*10;if(k>0){for(var N=0;N<q.length;N++){var B=q[N],U=g.z.wS(W,B),l=g.z.Jt(W,B),K=W.slice(U,U+l);
g.z.RX();var D=new paper.Path;D.remove();D.closed=!0;for(var m=1;m<K.length;m++)D.add(new paper.Point(K[m].WL.x,K[m].WL.y));
var Y=D.simplify(k);if(Y)W.splice(U,l,...g.z.va(D))}}return W};g.z.Nh=function(W,q,X){var k=g.b.Hb(W),B=Math.sqrt(Math.sqrt(k.C()))*.2,U=.2;
W=W.slice(0);var l=W.length,K=q?0:2;for(var D=0;D<5;D++)for(var N=K;N<W.length-K;N+=2){var m=(N-2+l)%l,Y=(N+2)%l,a=W[N],p=W[N+1],M=(W[m]+W[Y])*.5,x=(W[m+1]+W[Y+1])*.5;
W[N]=a+(M-a)*U;W[N+1]=p+(x-p)*U}if(X)return g.z.oz.XA(W,null,!q);g.z.RX();var R=new paper.Path;R.remove();
R.closed=q;for(var N=0;N<W.length;N+=2)R.add(new paper.Point(W[N],W[N+1]));R.simplify(B);var y=[{I:6},{I:8,all:0}];
y=y.concat(g.z.va(R));return y};g.z.zh=function(W,q,X){var k=W[q].length,B=W[q].I,U=0,l=W.slice(q+1,q+1+k);
for(var N=0;N<k;N++){var K=X[(N-1+k)%k],D=X[(N+1+k)%k],m=X[N];if(m!=0){var Y=l[(N-1+k)%k].WL,a=l[(N+0+k)%k].WL,p=l[(N+1+k)%k].WL,M=hw.tj(a,Y),x=hw.tj(a,p),R=g.b.aEq(Y.x,Y.y,a.x,a.y,p.x,p.y,m)[0],y=Math.min(R,K==0?M:M/2,D==0?x:x/2);
m*=y/R;var s=g.b.aAH(Y.x,Y.y,a.x,a.y,p.x,p.y,m),F={I:B+1,mp:new hw(s[2],s[3]),WL:new hw(s[2],s[3]),ko:new hw(s[4],s[5])},E={I:B+1,mp:new hw(s[6],s[7]),WL:new hw(s[8],s[9]),ko:new hw(s[8],s[9])};
W.splice(q+U+1,1,F,E);U++;W[q].length++}U++}};g.z.ay=function(W){for(var N=0;N<W.length;N++){var q=W[N],X=q.I;
if(X==1||X==2||X==4||X==5)if(!q.WL.AB(q.mp)||!q.WL.AB(q.ko))return!1}return!0};g.z.A8=function(W){if(W.length!=7||W[2].length!=4||!g.z.ay(W))return!1;
for(var N=0;N<4;N++){var q=!0;for(var X=0;X<4;X++){var k=W[3+(N+X&3)],B=W[3+(N+X+1&3)];if(k.WL.x!=B.WL.x&&k.WL.y!=B.WL.y)q=!1}if(q)return!0}return!1};
g.z.amI=function(W){if(W.length<6)return 0;var q=W.length-2,X=0;for(var N=0;N<q;N+=2)X+=(W[N+2]-W[N])*(W[N+1]+W[N+3]);
X+=(W[0]-W[q])*(W[q+1]+W[1]);return-X*.5};g.z.aCP=function(W){W=b.jY.zx(W);var q=g.z._H(W);for(var X=0;
X<q;X++){var k=g.z.wS(W,X)+1,B=W[k-1].length,U=[];for(var N=0;N<B;N++){var l=W[k+N].WL;U.push(l.x,l.y)}var K=g.z.amI(U);
if(K<0)g.z.aHx(W,k-1)}return W};g.z.aHx=function(W,q){var X=q+1,k=W[q].length,B=[];for(var N=0;N<k;N++){var U=W[X+N],l=U.mp;
U.mp=U.ko;U.ko=l;B.push(U)}for(var N=0;N<k;N++)W[X+N]=B[k-1-N]};g.z.oz={};g.z.oz.XA=function(W,q,X){var k=[{I:6},{I:8,all:0}],B=null;
k.push({I:X?3:0,R3:1,length:0,Wm:0,jA:0,HG:1});if(q==0||q==null)B=null;else if(q instanceof Array)B=q;
else{B=[];for(var N=0;N<W.length;N+=2)B.push(q)}k=k.concat(g.z.anV(W,X));k[2].length=k.length-3;if(B){g.z.zh(k,2,B);
k.push(k[3]);k.splice(3,1)}return k};g.z.oz.afU=function(W,q,X,k,B){var U=[],l=[],K=.553,D=1,m=-1;U.push({I:1,mp:new hw(0,K),WL:new hw(0,0),ko:new hw(0,-K)});
B+=2;for(var N=0;N<B;N++){var Y={I:1};if(N==0){Y.WL=new hw(1,-1);Y.mp=new hw(1-K,-1);Y.ko=new hw(1+K,-1)}else{var a=-(N+2)*Math.PI/2,p=1+((N&1)==1?N-1:N),M=Math.sin(a),x=Math.cos(a);
D+=p*(M-x);m+=p*(x+M);Y.WL=new hw(D,m);Y.mp=new hw(D+p*x*K,m-p*M*K);if((N&1)==1)p+=2;Y.ko=new hw(D-p*x*K,m+p*M*K)}var R={I:1,mp:new hw(-Y.ko.x,-Y.ko.y),WL:new hw(-Y.WL.x,-Y.WL.y),ko:new hw(-Y.mp.x,-Y.mp.y)};
U.push(Y);if(N<B-2)l.push(R)}l.reverse();U=U.concat(l);var y=[{I:6},{I:8,all:0}];y.push({I:0,R3:1,length:U.length,Wm:0,jA:0,HG:1});
y=y.concat(U);var s=new ka(X/B,0,0,X/B,0,0);s.rotate(k);s.translate(W,q);g.z.Y9(y,s);return y};g.z.oz.Rect=function(W,q,X,k,B){var U=[W,q,W+X,q,W+X,q+k,W,q+k];
return g.z.oz.XA(U,B)};g.z.oz.VB=function(W,q,X,k,B,U,l,K){var D=[],m=2*Math.PI/B;for(var N=0;N<B;N++)D.push(Math.cos(N*m-k),Math.sin(N*m-k));
if(l!=null){var Y=g.b.Hb(D),a=Y.r,p=Y.$,M=l/(a/2),x=K/(p/2);for(var N=0;N<D.length;N+=2){D[N]=(D[N]-(Y.x+a/2))*M;
D[N+1]=(D[N+1]-(Y.y+p/2))*x}X=1}var R=new ka(X,0,0,X,0,0);R.translate(W,q);g.b.M(D,R,D);return g.z.oz.XA(D,U)};
g.z.oz.apO=function(W,q,X,k,B,U,l){var K=X-W,D=k-q,m=(K-l*(U+1))/U,Y=(D-l*(B+1))/B,a={zb:[],n:[]};function p(x,M,R,y){a.zb.push("M","L","L","L","Z");
a.n.push(x,M,x+R,M,x+R,M+y,x,M+y)}p(W,q,K,D);for(var M=0;M<B;M++)for(var x=0;x<U;x++)p(W+l+x*(m+l),q+l+M*(Y+l),m,Y);
return g.b.gH(a)};g.z.oz.a5Q=function(W,q,X,k,B,U,l){var K=[],D=Math.PI/B;for(var N=0;N<B*2;N++){var m=(N&1)==0?1:l;
K.push(m*Math.cos(N*D),m*Math.sin(N*D))}var Y=new ka(X,0,0,X,0,0);Y.rotate(k);Y.translate(W,q);g.b.M(K,Y,K);
return g.z.oz.XA(K,U)};g.z.oz.yA=function(W,q,X,k,B){return g.z.oz.Mt(0,W,q,X,k,B)};g.z.oz.ajI=function(W,q,X,k,B,U){return g.z.oz.Mt(1,W,q,X,k,B,U)};
g.z.oz.CE=function(W,q,X,k,B,U){return g.z.oz.Mt(2,W,q,X,k,B,U)};g.z.oz.Mt=function(W,q,X,k,B,U,l){var K=Math.sqrt((k-q)*(k-q)+(B-X)*(B-X)),D;
U/=2;if(W==0)D=[-U,0,U,0,U,K,-U,K];if(W==1){var m=U*2*l*1.3/1.5,Y=U*l;D=[-U,0,U,0,U,K-m,Y,K-m,0,K,-Y,K-m,-U,K-m]}if(W==2){var m=l[3],Y=l[2]/2,a=m*(2/3)*l[4]/100,p=m-a,M=m;
D=[];if(l[0])D.push(-U,p,-Y,M,0,0,Y,M,U,p);else if(U==0)D.push(0,0);else D.push(-U,0,U,0);if(l[1])D.push(U,K-p,Y,K-M,0,K,-Y,K-M,-U,K-p);
else if(U==0)D.push(0,K);else D.push(U,K,-U,K)}var x=new ka(1,0,0,1,0,0);x.rotate(Math.atan2(-B+X,k-q)+Math.PI/2);
x.translate(q,X);g.b.M(D,x,D);return g.z.oz.XA(D,0)};g.z.oz.am=function(W,q,X,k){var B=[{I:6},{I:8,all:0}],a=.553;
B.push({I:0,R3:1,length:4,Wm:0,jA:0,HG:1});var U=W,l=q,K=W+X,D=q+k,W=(U+K)/2,q=(l+D)/2,m=(U-K)/2,Y=(l-D)/2;
B.push({I:1,mp:new hw(W-a*m,q-Y),WL:new hw(W,q-Y),ko:new hw(W+a*m,q-Y)});B.push({I:1,mp:new hw(W+m,q-a*Y),WL:new hw(W+m,q),ko:new hw(W+m,q+a*Y)});
B.push({I:1,mp:new hw(W+a*m,q+Y),WL:new hw(W,q+Y),ko:new hw(W-a*m,q+Y)});B.push({I:1,mp:new hw(W-m,q+a*Y),WL:new hw(W-m,q),ko:new hw(W-m,q-a*Y)});
return B};g.z.oz.auK=function(W,q,X,k,B){var U=[{I:6},{I:8,all:0}];U.push({I:3,R3:1,length:5,Wm:0,jA:0,HG:1});
var l=(B-k)/4;for(var N=0;N<5;N++){var K=N*l,D=Math.cos(K),m=Math.sin(K),Y=.553*(l/(Math.PI/2)),a=m*Y,p=-D*Y,M=new hw(D,m);
U.push({I:4,mp:N==0?M.P():new hw(D+a,m+p),WL:M,ko:N==4?M.P():new hw(D-a,m-p)})}var x=new ka;x.rotate(-k);
x.scale(X,X);x.translate(W,q);g.z.Y9(U,x);return U};g.NP={};g.NP.I={warpNone:[22,5,0],warpCustom:[22,5,16],warpArc:[22,5,1],warpArcLower:[22,5,2],warpArcUpper:[22,5,3],warpArch:[22,5,4],warpBulge:[22,5,5],warpShellLower:[22,5,6],warpShellUpper:[22,5,7],warpFlag:[22,5,8],warpWave:[22,5,9],warpFish:[22,5,10],warpRise:[22,5,11],warpFisheye:[22,5,12],warpInflate:[22,5,13],warpSqueeze:[22,5,14],warpTwist:[22,5,15],warpCylinder:"Cylinder"};
g.NP.aab={warpNone:[],warpCustom:[],warpArc:[.5,0,.5,1],warpArcLower:[.5,1,.5,1],warpArcUpper:[.5,0,.5,1],warpArch:[.5,0,.5,1],warpBulge:[.5,0,.5,1],warpShellLower:[.5,1,.5,1],warpShellUpper:[.5,0,.5,1],warpFlag:[.25,0,.5],warpWave:[.25,.501,.25],warpFish:[.25,0,.5],warpRise:[0,1,2],warpFisheye:[.5,.66,.1],warpInflate:[.5,0,.25],warpSqueeze:[.5,0,.25],warpTwist:[.33,.5,.16]};
g.NP.GE=function(W){var q=W.warpStyle.v.warpStyle;if(q=="warpNone")return!0;else if(q=="warpCylinder")return!1;
else if(q=="warpCustom"){var X=!1,k=g.NP.ao1(W);for(var N=0;N<4;N++)for(var B=0;B<4;B++){var U=k[N*2]-k[(B*4+N)*2],l=k[N*4*2+1]-k[(N*4+B)*2+1];
if(U*U>1||l*l>1)X=!0}return!X}else return W.warpValue.v==0&&W.warpPerspective.v==0&&W.warpPerspectiveOther.v==0};
g.NP.a9D=function(W){var q=g.N(W);q.v.classID="quiltWarp";q.v.deformNumRows={t:"long",v:4};q.v.deformNumCols={t:"long",v:4};
if(q.v.customEnvelopeWarp)g.NP.ah4(q.v,[[0,1],[0,1]]);return q};g.NP.aeS=function(W){var q;if(g.NP.hY(W.v)==16)q=g.N(W);
else q={t:"Objc",v:g.NP.j(g.NP.wu(W.v))};q.v.classID="warp";delete q.v.deformNumRows;delete q.v.deformNumCols;
var X=q.v.customEnvelopeWarp;if(X){delete X.v.quiltSliceX;delete X.v.quiltSliceY}return q};g.NP.hY=function(W){return W.deformNumRows.v*W.deformNumCols.v};
g.NP.j=function(W){var q={classID:"warp",warpStyle:{t:"enum",v:{warpStyle:"warpNone"}},warpValue:{t:"doub",v:0},warpPerspective:{t:"doub",v:0},warpPerspectiveOther:{t:"doub",v:0},warpRotate:{t:"enum",v:{Ornt:"Hrzn"}}};
if(W){q.classID="quiltWarp";q.bounds={t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:W.y}},Left:{t:"UntF",v:{type:"#Pxl",val:W.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:W.y+W.$}},Rght:{t:"UntF",v:{type:"#Pxl",val:W.x+W.r}}}};
q.uOrder={t:"long",v:4};q.vOrder={t:"long",v:4};q.deformNumRows={t:"long",v:4};q.deformNumCols={t:"long",v:4}}return q};
g.NP.a1w=function(W,q,X){for(var N=0;N<W.length;N+=2){var k=W[N],B=W[N+1],U=(1-q)/2,l=1-U,K=U+k*(l-U);
B=.5+(B-.5)*K*2;var D=(1-X)/2,m=1-D,Y=D+B*(m-D);k=.5+(k-.5)*Y*2;W[N]=k;W[N+1]=B}};g.NP.lV=function(W,q){return{id:W,type:"UnFl",uID:"#Pxl",arr:q}};
g.NP.ah4=function(W,q){var X=g.NP.wu(W);function k(U,l){U=U.slice(0);var K=U.length,N;for(N=0;N<K;N++)U[N]*=l;
U[0]-=.6;U[K-1]+=.6;return U}var B=W.customEnvelopeWarp.v;B.quiltSliceX={t:"ObAr",v:{classID:"UntF",arr:[g.NP.lV("quiltSliceX",k(q[0],X.r))]}};
B.quiltSliceY={t:"ObAr",v:{classID:"UntF",arr:[g.NP.lV("quiltSliceY",k(q[1],X.$))]}}};g.NP.ada=function(W){var q=g.NP.wu(W);
function X(l,K){l=l.slice(0);var U=l.length,N,D=1e9,m=-D;for(N=0;N<U;N++){if(l[N]<D)D=l[N];if(l[N]>m)m=l[N]}for(N=0;
N<U;N++)l[N]=(l[N]-D)/(m-D);l[0]=0;l[U-1]=1;return l}var k=W.customEnvelopeWarp.v,B=[],U=["X","Y"];for(var N=0;
N<2;N++)B.push(X(k["quiltSlice"+(N==0?"X":"Y")].v.arr[0].arr.slice(0),N==0?q.r:q.$));return B};g.NP.ay1=function(W,q){var X=[],k=[];
for(var N=0;N<q.length;N+=2){X.push(q[N]);k.push(q[N+1])}W.customEnvelopeWarp.v.meshPoints.v.arr=[g.NP.lV("Hrzn",X),g.NP.lV("Vrtc",k)]};
g.NP.ao1=function(W){var q=[],X=W.customEnvelopeWarp.v.meshPoints.v.arr,k=X[0].arr,B=X[1].arr;for(var N=0;
N<k.length;N++)q.push(k[N],B[N]);return q};g.NP.qP=function(W,q){var X,k=W.warpStyle.v.warpStyle;if(k=="warpCustom")X=[W.deformNumCols.v,W.deformNumRows.v,g.NP.ada(W),g.NP.ao1(W)];
else{if(q==null)q=g.NP.wu(W);if(q.PM())q.r=q.$=1;if(k=="warpCylinder"){var B=_.Gz.rQ(W.warpValues);X=g.NP.NP(k,B)}else{var U="warpPerspective";
X=g.NP.NP(k,W.warpValue.v/100,W.warpRotate.v.Ornt=="Hrzn",W[U].v/100,W[U+"Other"].v/100,q.r/q.$)}g.NP.ava(X[3],q)}return X};
g.NP.ava=function(W,q){for(var N=0;N<W.length;N+=2){W[N]=q.x+W[N]*q.r;W[N+1]=q.y+W[N+1]*q.$}};g.NP.as6=function(W){var q=Math.sin(W*Math.PI/2),X=Math.pow(W,1/3.5),k=(1-W)*q+W*X;
k=Math.pow(k,1.045);var B=.1725+.0573*k,U=1-(.96*q+.04*X);U=Math.pow(U,1.27);var l=1/129+(.167684-1/129)*U;
return[B,l]};g.NP.C1=function(W,q){W.warpStyle.v.warpStyle="warpCustom";W.deformNumCols.v=q[0];W.deformNumRows.v=q[1];
var X="customEnvelopeWarp";if(W[X]==null)W[X]={t:"Objc",v:{classID:"customEnvelopeWarp",meshPoints:{t:"ObAr",v:{classID:"rationalPoint",arr:[]}}}};
g.NP.ah4(W,q[2]);g.NP.ay1(W,q[3])};g.NP.wu=function(W){var q=W.bounds.v,X=q.Left.v.val,k=q.Rght.v.val,B=q.Top.v.val,U=q.Btom.v.val;
if(X==null){X=q.Left.v,k=q.Rght.v;B=q.Top.v,U=q.Btom.v}return new dU(X,B,k-X,U-B)};g.NP.NP=function(W,q,X,k,B,U){if(W=="warpCylinder"){var l=q,K=l[0],D=l[1],m=l[2],Y=l[3],a=l[4],p=l[5],M=l[6],x=[];
for(var R=0;R<4;R++)for(var y=0;y<13;y++)x.push(y/12,R/3);var s=m-K,F=D-Y,E=a*.5*(s/F),o=p*.5*(s/F),G=g.NP.as6(M),d=[0,0,0,0,0,G[0],.5],u=[0,0,0,0,E*.42,E,E],r=[0,0,0,0,o*.42,o,o];
for(var R=0;R<4;R++)for(var y=0;y<7;y++){var N=R*13+y;x[N*2]=d[y];var v=u[y],c=1+r[y],V=R/3;x[N*2+1]=v*(1-V)+c*V}for(var R=0;
R<4;R++)for(var y=0;y<6;y++){var N=R*13+y,j=R*13+12-y;x[j*2]=1-x[N*2];x[j*2+1]=x[N*2+1]}var V=G[1];return[13,4,[[0,V,.5,1-V,1],[0,1]],x]}var Q=g.my.j(0,0,1,1);
if(W!="warpNone"){if(!X)U=1/U;g.NP.abC(Q,W,q,k,B,U);var H=Q.slice(0);if(!X)for(var R=0;R<4;R++)for(var y=0;
y<4;y++){Q[(R*4+y)*2]=H[(y*4+R)*2+1];Q[(R*4+y)*2+1]=H[(y*4+R)*2]}if(q==0)g.NP.a1w(Q,k,B);else{var T=new ka;
T.translate(-.5,-.5);g.b.M(Q,T,Q);g.NP.a1E(Q,B,k);T.i5();g.b.M(Q,T,Q)}}return[4,4,[[0,1],[0,1]],Q]};
g.NP.abC=function(W,q,X,k,B,U){var l=new dU(0,0,U,1);for(var N=0;N<W.length;N+=2)W[N]*=U;for(var N=0;
N<4;N++){for(var K=0;K<4;K++){var D=2*(4*N+K),m=W[D]-l.x,Y=W[D+1]-l.y,a=m,p=Y;if(X!=0){var M=l.r/2,x=l.$/2;
a-=M;p-=x;var R=a,y=a,s=-x,F=x,E=Math.abs(X),o=Math.tan((1-E)*Math.PI/2),G=Math.sqrt(o*o+1),d=Math.atan2(1,o),u=a/M*d,r=M*G,v=M*G+l.$,c=Math.cos(d),V=Math.sin(d),j=g.NP.acU(c,V),Q=g.NP.a6C(c,V),H=-o*M+j*r;
if(q=="warpArc"){R=Math.sin(u)*v;s=o*M-Math.cos(d)*v+x;y=Math.sin(u)*r;F=o*M-Math.cos(d)*r+x;if(K==1||K==2){R=K==1?-Q*v:Q*v;
y=K==1?-Q*r:Q*r;s=o*M+x-j*v;F=o*M+x-j*r}if(X<0){var T=R;R=y;y=T;T=s;s=-F;F=-T}}if(q=="warpArcLower"){if(K==1||K==2){y=K==1?-Q*r:Q*r;
F=X<0?x-H:x+H}}if(q=="warpArcUpper"||q=="warpArch"||q=="warpBulge"){if(K==1||K==2){R=K==1?-Q*r:Q*r;s=X<0?-x+H:-x-H}if(q=="warpArch"){y=R;
F=s+2*x}if(q=="warpBulge"){y=R;F=-s}}if(q=="warpFish"||q=="warpFlag"||q=="warpWave"){var e=K;if(q=="warpFlag")e=3-K;
if(e==1){s-=X*4*x;F+=X*4*x}if(e==2){s+=X*4*x;F-=X*4*x}if(q=="warpFlag"||q=="warpWave")s=F-2*x}if(q=="warpRise"){if(K<2)s=-x+X*x*4;
F=s+2*x}var z=(p+x)/l.$;a=R+z*(y-R);p=s+z*(F-s);if(q=="warpWave"){if(N==0)p=-x;if(N==3)p=x;if(N==1||N==2)p=2*x*(N/3-.5)*(1/3)+p*(2/3)}if(q=="warpFisheye"){if((N==1||N==2)&&(K==1||K==2)){a=a+4*a*X;
p=p+4*p*X}}if(q=="warpInflate"){var J=2/3;if((N==1||N==2)&&(K==1||K==2)){a=a+.5*a*X;p=p+.5*p*X}else if(N==1||N==2)a=a+J*a*X;
else if(K==1||K==2)p=p+J*p*X}if(q=="warpSqueeze"){var J=2/3;if((N==1||N==2)&&(K==1||K==2)){if(X>0)a=a-J*a*X;
else p=p+J*p*X}else if(N==1||N==2)a=a-J*a*X;else if(K==1||K==2)p=p+J*p*X}if(q=="warpTwist"){if((N==1||N==2)&&(K==1||K==2)){var P=X*Math.PI/2,G=1+Math.abs(X)*2,L=a*Math.cos(P)-p*Math.sin(P),A=a*Math.sin(P)+p*Math.cos(P);
a=L*G;p=A*G}}if(q=="warpShellLower"||q=="warpShellUpper"){if(q=="warpShellUpper"){N=3-N;p=-p}if(N>2||N==2&&(K==0||K==3)){if(X>0){var h=r+N/3*2*x;
a=Math.sin(u)*h;p=-o*M-x+Math.cos(u)*h;if(K==1||K==2){a=K==1?-Q*h:Q*h;p=-o*M-x+j*h}}else{if((K==1||K==2)&&N==3){a=K==1?-Q*r:Q*r;
p=o*M-j*r+x}else if(N==2){p=x-x*(2/3)*Math.cos(u);a=a+x*(2/3)*Math.sin(u)}}}if(q=="warpShellUpper"){N=3-N;
p=-p}}a+=M;p+=x}m=a,Y=p;W[D]=m+l.x;W[D+1]=Y+l.y}}for(var N=0;N<W.length;N+=2)W[N]/=U};g.NP.a1E=function(W,q,X){var k=[];
for(var B=0;B<4;B++)k.push(1-X+B/3*2*X);var U=[];for(var B=0;B<4;B++)U.push(1-q+B/3*2*q);var l=[0,0,0,0],K=[0,0,0,0];
for(var N=0;N<4;N++)for(var B=0;B<4;B++){var D=2*(4*N+B),m=W[D],Y=W[D+1];l[B]+=m/4;K[B]+=Y/4}for(var N=0;
N<4;N++)for(var B=0;B<4;B++){var a=k[B],D=2*(4*N+B),m=W[D],Y=W[D+1],p=l[B],M=K[B];W[D]=p+a*(m-p);W[D+1]=M+a*(Y-M)}var x=W.slice(0);
for(var N=0;N<4;N++)for(var B=1;B<3;B++){var D=2*(4*N+B),m=W[D],Y=W[D+1],R=D+(B==1?-2:2),y=W[R],s=W[R+1];
W[D]=m-y;W[D+1]=Y-s}var F=W[0],E=W[1],o=W[8],G=W[9],d=W[16],u=W[17],r=W[24],v=W[25],c=W[6],V=W[7],j=W[14],Q=W[15],H=W[22],T=W[23],e=W[30],z=W[31],J=c-F,P=V-E,L=j-o,A=Q-G,h=H-d,C=T-u,w=e-r,f=z-v;
for(var N=0;N<4;N++){var O=2*N*4,n=0,$=0,d9=N==1?.33:.66,i=1-d9;if(N==0){n=J;$=P}if(N==1){n=i*J+d9*-w;
$=i*P+d9*-f}if(N==2){n=i*J+d9*-w;$=i*P+d9*-f}if(N==3){n=-w;$=-f}W[O]=W[O]+n/2;W[O+1]=W[O+1]+$/2;W[O+6]=W[O+6]-n/2;
W[O+7]=W[O+7]-$/2}for(var N=0;N<4;N++)for(var B=1;B<3;B++){var D=2*(4*N+B),m=W[D],Y=W[D+1],R=D+(B==1?-2:2),y=W[R],s=W[R+1],a=2*N/3;
W[D]=y+a*m;W[D+1]=s+a*Y}for(var N=1;N<3;N++)for(var B=1;B<3;B++){var D=2*(4*N+B),m=W[D],Y=W[D+1],dF=N==1?-8:-16,t=N==1?16:8,im=W[D+dF],bc=W[D+dF+1],at=W[D+t],l9=W[D+t+1],a=N/3;
m=(1-a)*im+a*at;Y=(1-a)*bc+a*l9;W[D]=m;W[D+1]=Y}g.b.aig(x,W,W,q)};g.NP.acU=function(W,q){return(4-W)*(1/3)};
g.NP.a6C=function(W,q){return(1-W)*(3-W)/(3*q)};g.LD=function(){function W(X){var k=X.quads.v,B=[];for(var N=0;
N<k.length;N++){var U=k[N].v.indices.v;for(var l=0;l<4;l++)B.push(U[l].v)}var K=[],D=[];for(var m=0;
m<2;m++){var Y=m==0?K:D,a=X[m==0?"vertices":"warpedVertices"].v;for(var N=0;N<a.length;N++){var p=a[N].v;
Y.push(p.Hrzn.v.val,p.Vrtc.v.val)}}var M=X.referenceRect.v,x=M.Left.v.val,R=M.Rght.v.val,y=M.Top.v.val,s=M.Btom.v.val;
return{pW:K,Tc:D,SE:B,auS:new dU(x,y,R-x,s-y),Bz:X.Md.v.perspectiveWarpMode=="warp"?1:0}}function q(X,k){var B=k.quads.v=[],U=X.SE;
for(var N=0;N<U.length;N+=4){var l=[],K={t:"Objc",v:{classID:"perspectiveWarpQuad",indices:{t:"VlLs",v:l}}};
B.push(K);for(var D=0;D<4;D++)l.push({t:"long",v:U[N+D]})}for(var m=0;m<2;m++){var Y=m==0?X.pW:X.Tc,a=k[m==0?"vertices":"warpedVertices"].v;
while(a.length!=0)a.pop();for(var N=0;N<Y.length;N+=2){var p={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:Y[N]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:Y[N+1]}}}};
a.push(p)}}k.Md.v.perspectiveWarpMode=X.Bz==0?"layout":"warp"}return{Jj:W,X0:q}}();var hi={};hi.apM={x:.34567,y:.3585};
hi.a5a=[{o:0,GU:.18006,he:.26352,t:-.24341},{o:10,GU:.18066,he:.26589,t:-.25479},{o:20,GU:.18133,he:.26846,t:-.26876},{o:30,GU:.18208,he:.27119,t:-.28539},{o:40,GU:.18293,he:.27407,t:-.3047},{o:50,GU:.18388,he:.27709,t:-.32675},{o:60,GU:.18494,he:.28021,t:-.35156},{o:70,GU:.18611,he:.28342,t:-.37915},{o:80,GU:.1874,he:.28668,t:-.40955},{o:90,GU:.1888,he:.28997,t:-.44278},{o:100,GU:.19032,he:.29326,t:-.47888},{o:125,GU:.19462,he:.30141,t:-.58204},{o:150,GU:.19962,he:.30921,t:-.70471},{o:175,GU:.20525,he:.31647,t:-.84901},{o:200,GU:.21142,he:.32312,t:-1.0182},{o:225,GU:.21807,he:.32909,t:-1.2168},{o:250,GU:.22511,he:.33439,t:-1.4512},{o:275,GU:.23247,he:.33904,t:-1.7298},{o:300,GU:.2401,he:.34308,t:-2.0637},{o:325,GU:.24792,he:.34655,t:-2.4681},{o:350,GU:.25591,he:.34951,t:-2.9641},{o:375,GU:.264,he:.352,t:-3.5814},{o:400,GU:.27218,he:.35407,t:-4.3633},{o:425,GU:.28039,he:.35577,t:-5.3762},{o:450,GU:.28863,he:.35714,t:-6.7262},{o:475,GU:.29685,he:.35823,t:-8.5955},{o:500,GU:.30505,he:.35907,t:-11.324},{o:525,GU:.3132,he:.35968,t:-15.628},{o:550,GU:.32129,he:.36011,t:-23.325},{o:575,GU:.32931,he:.36038,t:-40.77},{o:600,GU:.33724,he:.36051,t:-116.45}];
hi.au8=function(W){var q=hi.a5a,X=2*W.x/(1.5-W.x+6*W.y),k=3*W.y/(1.5-W.x+6*W.y),B=0,U=0,l=0;for(;l<31;
l++){B=k-q[l].he-q[l].t*(X-q[l].GU);if(l>0&&B<0){break}U=B}while(l>=q.length)l--;B/=Math.sqrt(1+q[l].t*q[l].t);
U/=Math.sqrt(1+q[l-1].t*q[l-1].t);var K=U/(U-B),D=1e6/((q[l].o-q[l-1].o)*K+q[l-1].o),m=X-((q[l].GU-q[l-1].GU)*K+q[l-1].GU),Y=k-((q[l].he-q[l-1].he)*K+q[l-1].he),a=Math.sqrt(1+q[l].t*q[l].t),p=1/a,M=q[l].t/a,x=Math.sqrt(1+q[l-1].t*q[l-1].t),R=1/x,y=q[l-1].t/x,s=(p-R)*K+R,F=(M-y)*K+y,E=Math.sqrt(s*s+F*F);
s/=E;F/=E;var o=(m*s+Y*F)*-3e3;return{J9:D,Ej:o}};hi.oN=function(W,q){var X=hi.a5a,k=1e6/W,B=1;for(;
B<31;B++){if(k<X[B].o){break}}var U=(X[B].o-k)/(X[B].o-X[B-1].o),l=(X[B-1].GU-X[B].GU)*U+X[B].GU,K=(X[B-1].he-X[B].he)*U+X[B].he,D=Math.sqrt(1+X[B].t*X[B].t),m=1/D,Y=X[B].t/D,a=Math.sqrt(1+X[B-1].t*X[B-1].t),p=1/a,M=X[B-1].t/a,x=(p-m)*U+m,R=(M-Y)*U+Y,y=Math.sqrt(x*x+R*R);
x/=y;R/=y;l+=x*q/-3e3;K+=R*q/-3e3;return{x:1.5*l/(l-4*K+2),y:K/(l-4*K+2)}};hi.axi=function(W){var q=W[0]+W[1]+W[2];
return{x:W[0]/q,y:W[1]/q}};hi.H1=function(W){return{x:W.x/W.y,y:1,Qr:(1-W.x-W.y)/W.y}};hi.aCb=function(W,q){var X=g.Id.V4([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),k=[W.x,W.y,W.Qr,0],B=[q.x,q.y,q.Qr,0];
k=g.Id.Z2(X,k);B=g.Id.Z2(X,B);var U=B[0]/k[0],l=B[1]/k[1],K=B[2]/k[2],D=g.Id.V4([U,0,0,0,l,0,0,0,K]),m=g.Id.i5(X);
return g.Id.multiply(g.Id.multiply(m,D),X)};g.RB={};g.RB.arv=function(W,q,X,k,B,U,l,K,D,m){for(var Y=0;
Y<K;Y++)for(var a=0;a<l;a++){var p=3*(Y*l+a),M=Y+U,x=a+B,R=W[M*q+x];k[p]=R;k[p+1]=R;k[p+2]=R}};g.RB.G4=function(W,q,X,k,B,U,l,K,D,m){var Y=[0,1,1/2,1/3,1/4,1/5,1/6,1/7,1/8,1/9],a=1/D,p=[-1,-1,0,-1,1,-1,-1,0,1,0,-1,1,0,1,1,1],M=new Uint32Array(6);
for(var x=0;x<K;x++){for(var R=0;R<l;R++){var y=3*(x*l+R),s=x+U,F=R+B;M[0]=0;M[1]=0;M[2]=0;M[3]=0;M[4]=0;
M[5]=0;for(var N=0;N<16;N+=2){var E=F+p[N],o=s+p[N+1],G=E-D*~~(E*a),d=o-D*~~(o*a),u=m[d*D+G];M[u]+=W[o*q+E];
M[u+3]++}var E=F,o=s,G=E-D*~~(E*a),d=o-D*~~(o*a),u=m[d*D+G];M[u]=W[s*q+F];M[u+3]=1;k[y]=M[0]*Y[M[3]];
k[y+1]=M[1]*Y[M[4]];k[y+2]=M[2]*Y[M[5]]}}};g.RB.a68=function(W,q,X){for(var N=0;N<X;N+=2)W[q+N]=W[q+N+1];
q=q+X;for(var N=0;N<X;N+=2)W[q+N+1]=W[q+N]};g.RB.axM=function(W,q,X,k){for(var N=0;N<k;N+=2){var B=q+N*X;
W[B]=W[B+X];W[B+X+1]=W[B+1]}};g.RB.aq7=function(W,q,X,k,B,U){var l=k[B],K=k[B+1],D=k[U],m=k[U+1],Y=K+D>>>1;
W[q]=W[q+3]=W[X]=W[X+3]=l;W[q+1]=Y;W[q+4]=K;W[X+1]=D;W[X+4]=Y;W[q+2]=W[q+5]=W[X+2]=W[X+5]=m};g.RB.aqD=function(W,q,X,k,B,U){var l=U*3;
for(var N=0;N<U;N+=2){var K=q+N,D=B+N*3;g.RB.aq7(k,D,D+l,W,K,K+X)}};g.RB.aay=function(W,q,X,k,B,U,l){var K=U*3;
for(var N=0;N<l;N+=2){var D=q+N*X,m=B+N*U*3;g.RB.aq7(k,m,m+K,W,D,D+X)}};g.RB.a42=function(W,N,q){var X=W[N-q-q],k=W[N-q],B=W[N-2],U=W[N-1],l=W[N],K=W[N+1],D=W[N+2],m=W[N+q],Y=W[N+q+q],a=Math.abs(k-m),p=Math.abs(U-K),M=Math.abs(l-X)*2+a,x=Math.abs(l-D)*2+p,R=Math.abs(l-B)*2+p,y=Math.abs(l-Y)*2+a,s=Math.min(M,Math.min(x,Math.min(R,y)));
if(s==M)return k*3+m+l-X>>2;if(s==x)return K*3+U+l-D>>2;if(s==R)return U*3+K+l-B>>2;return m*3+k+l-Y>>2};
g.RB.EO=function(W,q,X,k,B){if(W<q&&q<X||W>q&&q>X)return~~(.5+k+(B-k)*(q-W)/(X-W));else return(k+B>>1)+(q+q-W-X>>2)};
g.RB.aGA=function(W,q,N,X){var k=q[N-X-1],B=q[N-X+1],U=q[N],l=q[N+X-1],K=q[N+X+1],D=W[N-X-1],m=W[N-X+1],Y=W[N],a=W[N+X-1],p=W[N+X+1],M=Math.abs(m-a)+Math.abs(W[N-X-X+2]-Y)+Math.abs(Y-W[N+X+X-2])+Math.abs(B-U)+Math.abs(U-l),x=Math.abs(D-p)+Math.abs(W[N-X-X-2]-Y)+Math.abs(Y-W[N+X+X+2])+Math.abs(k-U)+Math.abs(U-K);
if(M<x)return g.RB.EO(B,U,l,m,a);else return g.RB.EO(k,U,K,D,p)};g.RB.W2=function(W,q,X,k,B,U){W[q+0]=X[B];
W[q+1]=k[B];W[q+2]=g.RB.aGA(X,k,B,U)};g.RB.OR=function(W,q,X,k,B,U){var l=k[B];W[q+0]=g.RB.EO(k[B-1],l,k[B+1],X[B-1],X[B+1]);
W[q+1]=l;W[q+2]=g.RB.EO(k[B-U],l,k[B+U],X[B-U],X[B+U])};g.RB.lY=function(W,q,X,k,B,U){var l=k[B];W[q+0]=g.RB.EO(k[B-U],l,k[B+U],X[B-U],X[B+U]);
W[q+1]=l;W[q+2]=g.RB.EO(k[B-1],l,k[B+1],X[B-1],X[B+1])};g.RB.vh=function(W,q,X,k,B,U){W[q+0]=g.RB.aGA(X,k,B,U);
W[q+1]=k[B];W[q+2]=X[B]};g.RB.ajd=function(W,q,X,k,B,U,l,K,D){var m=Date.now(),Y=2,a=q-2,p=2;if((B&1)==1){Y++;
a--}var M=X-2;if((U&1)==1){p++;M--}if(D==1||D==3){Y++;a--}var x=W.slice(0);g.RB.a68(x,0,q);g.RB.axM(x,0,q,X);
g.RB.axM(x,q-2,q,X);g.RB.a68(x,(X-2)*q,q);for(var R=p;R<M;R+=2)for(var y=Y;y<a;y+=2){var N=R*q+y,s=g.RB.a42(x,N,q),F=g.RB.a42(x,N+q+1,q);
x[N]=Math.max(0,s);x[N+q+1]=Math.max(0,F)}var E=l,o=K;if(U+K==X){o-=2;g.RB.aqD(W,(X-2)*q+B,q,k,(K-2)*l*3,l)}if(B+l==q){E-=2;
g.RB.aay(W,U*q+B+l-2,q,k,(l-2)*3,l,K)}if(D==0)for(var R=0;R<o;R+=2)for(var y=0;y<E;y+=2){var G=(R+U)*q+y+B,d=(R*l+y)*3;
g.RB.W2(k,d,W,x,G,q);g.RB.OR(k,d+3,W,x,G+1,q);G+=q;d+=3*l;g.RB.lY(k,d,W,x,G,q);g.RB.vh(k,d+3,W,x,G+1,q)}else if(D==1)for(var R=0;
R<o;R+=2)for(var y=0;y<E;y+=2){var G=(R+U)*q+y+B,d=(R*l+y)*3;g.RB.OR(k,d,W,x,G,q);g.RB.W2(k,d+3,W,x,G+1,q);
G+=q;d+=3*l;g.RB.vh(k,d,W,x,G,q);g.RB.lY(k,d+3,W,x,G+1,q)}else if(D==2)for(var R=0;R<o;R+=2)for(var y=0;
y<E;y+=2){var G=(R+U)*q+y+B,d=(R*l+y)*3;g.RB.vh(k,d,W,x,G,q);g.RB.lY(k,d+3,W,x,G+1,q);G+=q;d+=3*l;g.RB.OR(k,d,W,x,G,q);
g.RB.W2(k,d+3,W,x,G+1,q)}else if(D==3)for(var R=0;R<o;R+=2)for(var y=0;y<E;y+=2){var G=(R+U)*q+y+B,d=(R*l+y)*3;
g.RB.lY(k,d,W,x,G,q);g.RB.vh(k,d+3,W,x,G+1,q);G+=q;d+=3*l;g.RB.W2(k,d,W,x,G,q);g.RB.OR(k,d+3,W,x,G+1,q)}};
g.raw={};g.raw.aAX=function(W){var q=Date.now(),X=W.width,k=W.height,B=0,U=0,l=X,K=k;if(W.t50829){var D=W.t50829;
B=D[1];U=D[0];l=D[3];K=D[2]}if(W.t50720&&W.t50720[0]*1.8>X){if(W.t50719){var m=W.t50719;B+=m[0]>>1<<1;
U+=m[1]>>1<<1}if(W.t50720){var Y=W.t50720;l=B+Y[0];K=U+Y[1]}}var a=l-B,p=K-U,M=g.raw.avZ(W),x=W.t33422,R=W.t33421;
if(R){var Y=R[0],y=x.slice(0);for(var s=0;s<Y;s++)for(var F=0;F<Y;F++){var E=(F+(B&1))%Y,o=(s+(U&1))%Y;
y[s*Y+F]=x[o*Y+E]}x=y}if(W.t277[0]==1&&x)g.raw.a6y(M,X,k,W,x);g.raw.ne(2,W,M,X,k);var G=new Float32Array(a*p*3);
if(W.t277[0]==1){if(R==null){g.RB.arv(M,X,k,G,B,U,a,p)}else if(R.length!=2||R[0]!=2||R[1]!=2){console.log("Unknown CFA pattern size",R);
g.RB.G4(M,X,k,G,B,U,a,p,R[0],x)}else{var d=W.t33422.join(","),u=0;if(d=="0,1,1,2")u=0;else if(d=="1,0,2,1")u=1;
else if(d=="2,1,1,0")u=2;else if(d=="1,2,0,1")u=3;else throw"Unknown CFA pattern "+d;if((a&1)!=0||(p&1)!=0)throw"e";
g.RB.ajd(M,X,k,G,B,U,a,p,u)}}else{for(var s=0;s<p;s++)for(var F=0;F<a;F++){var r=((s+U)*X+F+B)*3,v=(s*a+F)*3;
G[v+0]=M[r+0];G[v+1]=M[r+1];G[v+2]=M[r+2]}}var c=G,V=G.length,j=g.raw.UJ(W),Q=1/j;for(var N=0;N<V;N+=3){G[N]=c[N]*Q;
G[N+1]=c[N+1]*Q;G[N+2]=c[N+2]*Q}g.raw.ne(3,W,G,a,p);var H=W.cC,T=a,e=p;if(H==1||H==9){}else{var z=g.raw.aza(H,a,p),v=0;
T=z[0];e=z[1];var J=G.slice(0);for(var s=0;s<e;s++)for(var F=0;F<T;F++){var P=z[2]*F+z[3]*s+z[4],L=z[5]*F+z[6]*s+z[7],r=(L*a+P)*3;
G[v]=J[r];G[v+1]=J[r+1];G[v+2]=J[r+2];v+=3}}return{kl:G,acT:T,aoX:e}};g.raw.aza=function(W,q,X){var k=q,B=X;
if(!1){}else if(W==0)return[X,q,0,-1,q-1,1,0,0];else if(W==2)return[q,X,-1,0,q-1,0,1,0];else if(W==3)return[q,X,-1,0,q-1,0,-1,X-1];
else if(W==4)return[q,X,1,0,0,0,-1,X-1];else if(W==5)return[X,q,0,1,0,1,0,0];else if(W==6)return[X,q,0,1,0,-1,0,X-1];
else if(W==7)return[X,q,0,-1,q-1,-1,0,X-1];else if(W==8)return[X,q,0,-1,q-1,1,0,0];else throw"unknown orientation "+W};
g.raw.a6y=function(W,q,X,k,B){var U=Date.now(),M=0;if(g.raw.UJ(k)>4e4){for(var N=0;N<W.length;N++)W[N]>>=1;
var l=["t50714","t50715","t50712","t50717"];for(var N=0;N<l.length;N++){var K=k[l[N]];if(K)for(var D=0;
D<K.length;D++)K[D]>>>=1}console.log("remapping to lower bit depth")}var m=~~Math.sqrt(B.length),Y=~~(.987*g.raw.UJ(k)),a=k.t50728;
if(a==null||a[0]==0)a=[1,1,1];var U=Date.now(),p=[];for(var x=1;x<X-1;x++)for(var R=1;R<q-1;R++){var N=x*q+R;
if(Y<W[N])p.push(N);M=Math.max(M,W[N])}console.log(M);if(p.length==0)return;var y=[-1,-1,0,-1,0,1,-1,0,0,0,1,0,-1,1,0,1,1,1],s=[];
for(var x=0;x<m;x++)for(var R=0;R<m;R++){var N=x*m+R,F=s[x*m+R]=[0,0,0];for(var D=0;D<18;D+=2){var E=(m+R+y[D])%m,o=(m+x+y[D+1])%m,G=B[o*m+E];
F[G]=y[D+1]*q+y[D]}}var d=a[1]/a[0],u=a[1]/a[2],r=new Float32Array(131072);for(var N=0;N<131072;N++)r[N]=Math.pow(N,1/3);
var v=W.slice(0);for(var c=0;c<p.length;c++){var N=p[c],x=~~(N/q),R=N-x*q,V=x%m*m+R%m,j=B[V];if(j==1){var Q=r[~~(W[N+s[V][0]]*d+.5)],H=r[~~(W[N+s[V][2]]*u+.5)],T=(Q+H)*.5,e=Math.min(65535,~~(T*T*T));
if(e>v[N])v[N]=e}}W.set(v)};g.raw.adv=function(W,q,X,k,B,U,l){var K=Math.max(U[0],U[1],U[2]);U=[U[0]/K,U[1]/K,U[2]/K];
console.log(U);var D=new Uint32Array(W.length);for(var m=0;m<X;m++){}for(var Y=0;Y<q;Y++){g.raw.aEm(W,D,q,X,1,1,Y,B,l,U,0);
g.raw.aEm(W,D,q,X,1,-1,Y,B,l,U,1)}W.set(D)};g.raw.aEm=function(W,q,X,k,B,U,l,K,D,m,Y){var a=1,p=1,M=(B==0?X:k)-1;
if(U==-1){p=M-1;M=0}for(var N=p;N!=M;N+=U){var x=N,R=l;if(B==1){x=l;R=N}var y=R*X+x,s=D,F=D,E=B==0?1:X,o=B==0?X:1,G=W[y],d=W[y+U*E];
if(G<s&&d<F&&3<G&&3<d){var u=1;if(N&1)u=G/d;else u=d/G;a=(3*a+u)*.25}if(s<=G&&K[(R&1)*2+(x&1)]==1){var r=0;
if(d<F){if(N&1)r=d*a;else r=d/a}else{if(a<1){if(N&1)r=G;else r=d/a}else{if(N&1)r=d*a;else r=G}}if(Y==0)q[y]=r;
else if(Y==1)q[y]=Math.min(65535,(q[y]+r)/2);else q[y]+=r}else q[y]=G}};g.raw.YR=function(W,q,X,k,B){console.log(B);
var U=hi.oN(k[0],k[1]),l=g.raw.ane(X,U),K=[g.Id.Ck,g.Id.aID,g.Id.al2,g.Id.apt][B],D=g.Id.multiply(K,l),m=Math.pow(2,k[2]+(X.t50730?X.t50730[0]:0));
D=g.Id.multiply(D,g.Id.pE(m,m,m));var Y=g.raw.YR.aia[B];if(Y==null){Y=g.raw.YR.aia[B]=new Float32Array(5e3);
var a=1/[2.4,2.1992,1.8,2.4][B];if(B==0||B==3)for(var N=0;N<5e3;N++)Y[N]=g.Kz(N*(1/4e3));else for(var N=0;
N<5e3;N++)Y[N]=Math.pow(N*(1/4e3),a)}var p=W.length;for(var N=0;N<p;N+=4){var M=W[N],x=W[N+1],R=W[N+2],y=D[0]*M+D[1]*x+D[2]*R,s=D[4]*M+D[5]*x+D[6]*R,F=D[8]*M+D[9]*x+D[10]*R;
if(y<0)y=0;else if(y>1)y=1;if(s<0)s=0;else if(s>1)s=1;if(F<0)F=0;else if(F>1)F=1;q[N]=Y[~~(y*4e3)];q[N+1]=Y[~~(s*4e3)];
q[N+2]=Y[~~(F*4e3)]}};g.raw.YR.aia=[];g.raw.avZ=function(W){var q=W.width,X=W.height,k=q*X*W.t277,B=new Uint16Array(k),U=null,l=0;
g.raw.aHP(W,B);g.raw.ne(1,W,B,q,X);if(W.t50712){U=W.t50712;l=U.length-1;if(U[l]>65535)throw"too big values"}var K=g.raw.asr(W),D=g.raw.a9c(W);
if(U==null)for(var N=0;N<k;N++)B[N]=Math.max(0,B[N]-K);else for(var N=0;N<k;N++){var m=B[N];if(m>l)m=l;
m=U[m];B[N]=Math.max(0,m-K)}return B};g.raw.asr=function(W){var q=W.t50714,X=q?q[0]:0,k=W.t50715,B=W.t50716;
if(k)X+=k[0][0]/k[0][1];if(B)X+=B[0][0]/B[0][1];return Math.round(X)};g.raw.a9c=function(W){var q=null,X=0;
if(W.t50712){q=W.t50712;X=q.length-1}var k=W.t50717?W.t50717[0]:(1<<W.t258[0])-1;if(q)k=Math.min(k,q[X]);
if(k==1)k=32767;return k};g.raw.UJ=function(W){var q=g.raw.asr(W),X=g.raw.a9c(W);return X-q};g.raw.aHP=function(W,q){var X=q.length,k=W.data,B=W.t258[0],l=null;
if(B!=32&&B!=16&&B!=14&&B!=12&&B!=10&&B!=8)throw"Unsupported Bits Per Sample:"+B;B=Math.round(k.length*8/X);
if(W.t272&&W.t272[0]=="COOLPIX B700")for(var N=0;N<k.length;N+=4){var U=k[N];k[N]=k[N+3];k[N+3]=U;var U=k[N+1];
k[N+1]=k[N+2];k[N+2]=U}if(B==16&&W.isLE){g.cX(k,q);return}for(var N=0;N<X;N+=2){var K=0,D=0,m=0;if(B==32){if(l==null)l=new Float32Array(k.buffer);
D=~~(l[N]*32767);m=~~(l[N+1]*32767)}else if(B==16){K=N<<1;D=k[K]<<8|k[K+1];m=k[K+2]<<8|k[K+3]}else if(B==14){var Y=N*14,a=Y>>>3,p=k[a]<<24|k[a+1]<<16|k[a+2]<<8|k[a+3];
if((Y&7)==0){D=p>>>18;m=p>>>4&16383}else{D=p>>>14&16383;m=p&16383}}else if(B==12){K=N+(N>>>1);D=k[K]<<4|k[K+1]>>4;
m=(k[K+1]&15)<<8|k[K+2]}else if(B==10){var Y=N*10,a=Y>>>3;if((Y&7)==0){D=(k[a]<<2|k[a+1]>>6)&1023;m=(k[a+1]<<4|k[a+2]>>4)&1023}else{D=(k[a]<<6|k[a+1]>>2)&1023;
m=(k[a+1]<<8|k[a+2]>>0)&1023}}else if(B==8){K=N;D=k[K];m=k[K+1]}q[N]=D;q[N+1]=m}};g.raw.aIF=function(W,q,X,k,B,U,l){var K=W-.499999,D=q-.499999,m=~~K,Y=~~D,a=K-m,p=D-Y,M=(1-p)*(1-a),x=(1-p)*a,R=p*(1-a),y=p*a,s=(Y*k+m)*3,F=((Y+1)*k+m)*3,E=M*X[s]+x*X[s+3]+R*X[F]+y*X[F+3],o=M*X[s+1]+x*X[s+4]+R*X[F+1]+y*X[F+4],G=M*X[s+2]+x*X[s+5]+R*X[F+2]+y*X[F+5];
U[l]=E;U[l+1]=o;U[l+2]=G};g.raw.ne=function(W,q,X,k,B){var U=q["t"+[51008,51009,51022][W-1]],Y=0;if(U==null)return;
var l=k*B,K=Z.WP,D=Z.Rm,m=new Uint8Array(U),bi=Z.WP(m,Y);Y+=4;for(var a=0;a<bi;a++){var p=K(m,Y);Y+=4;
var M=K(m,Y);Y+=4;var x=K(m,Y);Y+=4;var R=K(m,Y);Y+=4;if(!1){}else if(p==1&&W==3){var y=Y,s=K(m,y);y+=4;
var F=D(m,y);y+=8;var E=D(m,y);y+=8;var o=D(m,y);y+=8;var G=D(m,y);y+=8;var d=D(m,y);y+=8;var u=D(m,y);
y+=8;y+=(s-1)*8*6;var r=D(m,y);y+=8;var v=D(m,y);y+=8;var c=r*k,V=v*B,j=Math.max(c,k-c),Q=Math.max(V,B-V),H=Math.sqrt(j*j+Q*Q),T=1/H,e=X.slice(0);
for(var z=0;z<B;z++)for(var J=0;J<k;J++){var P=(J+.5-c)*T,L=(z+.5-V)*T,A=P*P+L*L,h=F+E*A+o*(A*A)+G*(A*A)*A,C=d*(2*P*L)+u*(A+2*P*P),w=u*(2*P*L)+d*(A+2*L*L),f=Math.min(c+H*(h*P+C),k-1),O=Math.min(V+H*(h*L+w),B-1),n=(z*k+J)*3;
g.raw.aIF(f,O,e,k,B,X,n)}}else if(p==3&&W==3){var y=Y,$=D(m,y);y+=8;var d9=D(m,y);y+=8;var i=D(m,y);
y+=8;var dF=D(m,y);y+=8;var t=D(m,y);y+=8;var r=D(m,y);y+=8;var v=D(m,y);y+=8;var c=r*k,V=v*B,j=Math.max(c,k-c),Q=Math.max(V,B-V),H=Math.sqrt(j*j+Q*Q),T=1/H;
for(var z=0;z<B;z++)for(var J=0;J<k;J++){var P=(J+.5-c)*T,L=(z+.5-V)*T,A=P*P+L*L,im=1+($+(d9+(i+(dF+t*A)*A)*A)*A)*A,n=(z*k+J)*3;
X[n]=im*X[n];X[n+1]=im*X[n+1];X[n+2]=im*X[n+2]}}else if(p==4&&W==1){var y=Y,bc=K(m,y);y+=4;var at=K(m,y);
y+=4;for(var N=0;N<l;N++)if(X[N]==bc)X[N]=X[N-2]+X[N+2]>>1}else if(p==5&&W==1){var y=Y,l9=K(m,y);y+=4;
var fF=K(m,y);y+=4;var g$=K(m,y);y+=4;for(var N=0;N<fF;N++){var fR=K(m,y);y+=4;var cr=K(m,y);y+=4;var N=fR*k+cr;
X[N]=X[N-2]+X[N+2]>>1}}else if(p==7&&W==1){var y=Y,eE=Z.Rc(m,y);y+=16;var bQ=K(m,y);y+=4;var hT=K(m,y);
y+=4;var df=K(m,y),eV=K(m,y+4);y+=8;var gU=K(m,y);y+=4;var i8=new Uint16Array(gU);for(var N=0;N<gU;N++)i8[N]=Z.U_(m,y+2*N);
var bv=eE.r,fE=eE.$;for(var z=0;z<fE;z+=df)for(var J=0;J<bv;J+=eV){var N=(eE.y+z)*k+(eE.x+J);X[N]=i8[X[N]]}}else if(p==8&&W==2){var y=Y,eE=Z.Rc(m,y);
y+=16;var bQ=K(m,y);y+=4;var hT=K(m,y);y+=4;var df=K(m,y),eV=K(m,y+4);y+=8;var d5=K(m,y);y+=4;var aR=[];
for(var N=0;N<=d5;N++)aR[N]=Z.Rm(m,y+N*8);var l8=eE.x,au=eE.x+eE.r,hx=eE.y,fw=eE.y+eE.$,cx=q.t50717[0],fg=1/cx;
for(var iI=0;iI<hT;iI++)for(var z=hx;z<fw;z+=df){var n=3*z*k+bQ+iI;for(var J=l8;J<au;J+=eV){var N=n+3*J,eq=X[N]*fg,fS=aR[d5];
for(var f1=d5;f1>0;f1--)fS=fS*eq+aR[f1-1];X[N]=Math.max(0,Math.min(65535,~~(fS*cx)))}}}else if(p==9&&(W==2||W==3)){var y=Y,eE=Z.Rc(m,y),ee=!0;
y+=16;var bQ=K(m,y);y+=4;var hT=K(m,y);y+=4;var df=K(m,y),eV=K(m,y+4);y+=8;var c4=K(m,y),ea=K(m,y+4);
y+=8;var ie=D(m,y),i$=D(m,y+8);y+=16;var cI=D(m,y),cD=D(m,y+8);y+=16;var fG=K(m,y);y+=4;var cH=c4*ea*fG,hL=new Float32Array(cH);
for(var f1=0;f1<cH;f1++)hL[f1]=Z.Op(m,y+f1*4);for(var f1=0;f1<cH;f1++)if(hL[f1]!=1)ee=!1;if(W==2&&fG!=1)throw"e";
if(W==3&&fG!=3)throw"e";if(!ee){var bv=Math.min(eE.r,k-eE.x),fE=Math.min(eE.$,B-eE.y),aj=.9999*(ea-1)/bv,iA=.9999*(c4-1)/fE;
for(var z=0;z<fE;z+=df)for(var J=0;J<bv;J+=eV){var N=(eE.y+z)*k+(eE.x+J),eL=J*aj,hZ=z*iA,bZ=Math.floor(eL),k_=Math.floor(hZ),kW=eL-bZ,iU=hZ-k_,n=k_*ea+bZ;
if(W==2){var kO=hL[n]*(1-kW)+hL[n+1]*kW,hq=hL[n+ea]*(1-kW)+hL[n+1+ea]*kW,e8=kO*(1-iU)+hq*iU;X[N]=Math.max(0,Math.min(65535,~~(X[N]*e8+.5)))}if(W==3){for(var gi=0;
gi<3;gi++){var jZ=n*3+gi,kO=hL[jZ]*(1-kW)+hL[jZ+3]*kW,hq=hL[jZ+ea*3]*(1-kW)+hL[jZ+3+ea*3]*kW,e8=kO*(1-iU)+hq*iU;
X[3*N+gi]=X[3*N+gi]*e8}}}}}else console.log("Unknown opcode "+p+" in OpcodeList"+W+". Length: "+R);Y+=R}};
g.raw.ane=function(W,q){var X=hi.H1(q),k=g.raw.aCg(W,q),B=g.Id.i5(k),U=hi.aCb(X,hi.H1(hi.apM)),l=g.Id.multiply(U,B);
return l};g.raw.ai1=function(W){var q=W.t50728,X=W.t50729,U=1;if(X)return{x:X[0][0]/X[0][1],y:X[1][0]/X[1][1]};
if(q==null||q[0]==0)q=[1,1,1];var k=q.slice(0);k.push(0);var B={x:.34567,y:.3585};do{var l=g.Id.i5(g.raw.aCg(W,B)),K=g.Id.Z2(l,k),D=hi.axi(K);
U=Math.abs(B.x-D.x)+Math.abs(B.y-D.y);B=D}while(U>1e-7);return B};g.raw.aCg=function(W,q){var X=hi.au8(q),k=g.raw.afs,B=W.t50778?W.t50778[0]:0,U=W.t50779?W.t50779[0]:0,l=W.t50723,K=W.t50724;
if(l&&l.length==3)l=null;if(K&&K.length==3)K=null;var D=k(W.t50721,W.t50722,B,U,X.J9),m=k(l,K,B,U,X.J9);
D=D||[1,0,0,0,1,0,0,0,1];m=m||[1,0,0,0,1,0,0,0,1];var Y=W.t50727?[W.t50727[0],0,0,0,W.t50727[1],0,0,0,W.t50727[2]]:[1,0,0,0,1,0,0,0,1];
return g.Id.multiply(g.Id.V4(Y),g.Id.multiply(g.Id.V4(m),g.Id.V4(D)))};g.raw.afs=function(W,q,X,k,B){if(!W&&!q){return null}else if(W&&!q){return W}else if(B<X){return W}else if(B>k){return q}else{var U=(1/B-1/k)/(1/X-1/k),l=1-U,K=[];
for(var N=0;N<9;N++)K[N]=W[N]*U+q[N]*l;return K}};g.raw.t$={};g.raw.tP=function(W){W*=8;var q=[8,10,12,14,16];
for(var X in CAMS){var k=CAMS[X];if(k.length==4)continue;var B=k[4],U=k[5];for(var N=0;N<q.length;N++)if(B*U*q[N]==W)return[X,q[N]]}var l=[[4e3,3e3]];
for(var N=0;N<l.length;N++){var k=l[N],B=k[0],U=k[1];for(var N=0;N<q.length;N++)if(B*U*q[N]==W)return[k,q[N]]}return null};
g.raw.a2_=function(W){var W=new Uint8Array(W);for(var N=0;N<W.length;N+=2){var q=W[N];W[N]=W[N+1];W[N+1]=q}var X=g.raw.tP(W.length),k=CAMS[X[0]];
if(k==null)k=[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],0,1e3,64383,X[0][0],X[0][1]];var B=k[4],U=k[5],l=Math.max(k[2],116),K={data:W,cC:1,width:B,height:U,t256:[B],t257:[U],t258:[X[1]],t277:[1],t33421:[2,2],t33422:g.raw.jH[k[1]],t50706:[1,2,0,0],t50714:[l,l,l,l],t50717:[k[3]],t50721:k[0].slice(0),t50723:[1,0,0,0,1,0,0,0,1],t50728:[.64,1,.46],t50778:[17]};
for(var N=0;N<9;N++)K.t50721[N]/=1e4;return K};g.raw.aFK=function(W){if(W==null||W.length==0||typeof W[0]=="number")return W;
var q=[];for(var N=0;N<W.length;N++)q[N]=W[N][1]==0?0:W[N][0]/W[N][1];return q};g.raw.jH=[[2,1,1,0],[0,1,1,2],[1,0,2,1],[1,2,0,1]];
g.raw.normalize=function(W,q){if(W.t259&&W.t259[0]==52546)alert("JPEG XL compression is not supported yet.",4e3);
if(W.t50706!=null||W.t271[0].startsWith("Hasselblad")){var X=[50714,50718,50719,50720,50721,50722,50723,50724,50727,50728,50730,50731,50732,50734,50736,50738,50739,50780,50964,50965];
for(var N=0;N<X.length;N++)if(W["t"+X[N]]!=null)W["t"+X[N]]=g.raw.aFK(W["t"+X[N]]);if(W.t271&&W.t271[0].startsWith("Hasselblad")){W.t50706=[1,2,0,0];
W.t33422=g.raw.jH[1];W.t50723=[1,0,0,0,1,0,0,0,1];W.t50778=[17];if(!W.isLE)for(var N=0;N<W.data.length;
N+=2){var k=W.data[N];W.data[N]=W.data[N+1];W.data[N+1]=k}}if(W.t272&&W.t272[0]=="HERO10 Black"){W.t50728=[.469725,1,.739884];
if(!W.t305[0].startsWith("Adobe")){var B=new Uint16Array(W.data.buffer);for(var N=0;N<B.length;N++)B[N]>>>=2}}return}var U=W.t258[0],l=W.exifIFD,q=new Uint8Array(q);
W.t50706=[1,2,0,0];var K=W.t271[0].trim(),D=W.t272[0].trim();if(W.t50708==null)W.t50708=[K+" "+D];var m=(K+":"+D).toLowerCase().trim(),Y=CAMS[m];
if(m=="panasonic:dmc-lx2")Y[3]=1<<16;if(Y==null){alert("Unknown camera:"+m);if(m.startsWith("canon"))Y=[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],1,512,16e3]}if(Y!=null){var a=Y[2],p=Y[3];
if(a!=0)W.t50714=[a,a,a,a];if(p!=0)W.t50717=[p];W.t50721=Y[0].slice(0);for(var N=0;N<9;N++)W.t50721[N]=W.t50721[N]*(1/1e4)}W.t50723=[1,0,0,0,1,0,0,0,1];
if(W.t50728==null)W.t50728=[.35,1,.6];W.t50778=[17];if(K.startsWith("OLYMPUS")||K.startsWith("OM Digital Solutions")){W.t33422=[2,1,1,0];
var M=l.t41730,s;if(M)W.t33422=[M[4],M[5],M[6],M[7]];var x=W.t50341;if(x==null)x=l.t36864;var R=g.raw.a2G(x.buffer,W);
W.data=new Uint8Array(R.buffer);if((W.height&1)==1)W.t50829=[0,0,W.height-1,W.width];var y=l.makerNote,F=y.t8256;
if(F)s=F.t256;else s=y.t12288.t256;if(s)W.t50728=[256/s[0],1,256/s[1]]}else if(W.t271[0].startsWith("SONY")){var E=UTIF["_bin"+(W.isLE?"LE":"BE")],o=W.t28688,V;
if(JSON.stringify(o)!="[8000,10400,12900,14100]")console.log(o);if(o&&o.join("")!="0000"){var G=[0,0,0,0,0,4095],d=new Uint16Array(16385);
for(var N=0;N<4;N++){var u=o[N]>>>2;G[N+1]=u;if(u>4095)throw"e"}for(var N=0;N<16385;N++)d[N]=N;for(var N=0;
N<5;N++)for(var r=G[N]+1;r<=G[N+1];r++)d[r]=d[r-1]+(1<<N);var v=q.length*8<W.width*W.height*U;if(v)W.t50712=d}else console.log("no curve");
var c=W.dngPrvt;if(c){var j=c.t29184[0],Q=c.t29185[0],H=(W.isLE?Z.P2:Z.WP)(c.t29217,0),T=new Uint32Array(q.slice(j,j+(Q&4294967292)).buffer),e=new Uint32Array(Q>>>2);
g.raw.asR(T,e,Q>>>2,H);var z=new Uint8Array(j+Q);z.set(new Uint8Array(e.buffer),j);var J=[];UTIF._readIFD(E,z,j,J,0,!1);
var P=J.pop(),L=P.t29458;W.t50728=[L[1]/L[0],1,L[1]/L[3]];W.t50730=[.5];var A=P.t29891;W.t50829=[A[1],A[0],A[3],A[2]]}else if(l.makerNote&&l.makerNote.t8208){var V=l.makerNote,h=V.t8208,C=h.length,w=0,f=new Uint8Array(256);
for(var N=249;N<256;N++)f[N]=N;for(var N=0;N<249;N++)f[N*N*N%249]=N;for(var N=0;N<C;N++)h[N]=f[h[N]];
if(C==6604)w=612;else throw"e";var L=[];for(var N=0;N<3;N++)L.push(Z.lm(h,w+N*2));console.log(L);W.t50728=[L[1]/L[0],1,L[1]/L[2]]}else console.log("no white balance");
if(W.width*W.height*1.5==W.t279[0]){a=a>>>2;W.t50714=[a,a,a,a];W.t50717=[Y[3]>>>2]}}else if(W.t271[0].startsWith("Canon")){var q=W.data,O=q.slice(0),n=W.t50752,$=[],i=0;
if(n==null||n[0]==0&&n[1]==0)$.push(W.width);else{for(var N=0;N<n[0];N++)$.push(n[1]);$.push(n[2])}var d9=W.width*2,dF=W.t50885&&W.t50885[0]==4;
if(!dF)for(var t=0;t<$.length;t++){var im=$[t],bc=2*i,at=2*im;for(var l9=0;l9<W.height;l9+=2){var fF=l9*d9+bc,g$=W.height*bc+l9*at;
for(var N=0;N<at;N++){q[fF+N]=O[g$+N];q[fF+N+d9]=O[g$+N+at]}}i+=im}else{var fR=new Uint16Array(O.buffer),cr=new Uint16Array(q.buffer);
function eE(hT,df){cr[df*3+0]=fR[hT*3+0];cr[df*3+1]=fR[hT*3+1];cr[df*3+2]=fR[hT*3+2]}var bQ=(n[0]*n[1]+n[2])/W.width;
for(var t=0;t<$.length;t++){var im=Math.round($[t]/bQ);for(var l9=0;l9<W.height;l9++){var hT=W.height*i+(bQ==3?(l9>>>3)*8+[0,4,1,5,2,6,3,7][l9&7]:l9)*im,df=l9*W.width+i;
for(var eV=0;eV<im;eV++)eE(hT+eV,df+eV)}i+=im}var gU=new Uint16Array(q.buffer),i8=new Uint16Array(1),bv=new Int16Array(i8.buffer);
for(var N=0;N<gU.length;N+=3){var fE=gU[N],d5=gU[N+1],aR=gU[N+2];i8[0]=d5<<2;d5=bv[0]>>2;i8[0]=aR<<2;
aR=bv[0]>>2;gU[N+0]=Math.max(0,aR+fE);gU[N+1]=Math.max(0,(fE<<12)-d5*778-(aR<<11)>>12);gU[N+2]=Math.max(0,d5+fE)}}var V=l.makerNote,hT=V.t224;
if(hT){var j=W.t50719=[hT[5],hT[6]],l8=W.t50720=[hT[7]+1-hT[5],hT[8]+1-hT[6]],au=V.t154;if(au){j[0]+=au[3];
j[1]+=au[4];l8[0]=au[1];l8[1]=au[2]}}if(V.t16385){var hx=V.t16385,fw=hx.length;if(hx instanceof Array)hx=new Uint16Array(hx);
if(hx instanceof Uint8Array)hx=new Int16Array(hx.slice(0).buffer);var cx=hx[0];if(fw==1273||fw==1275)cx=66;
var fg=[[null,null,null],[63,196,null],[63,231,null],[63,231,null],[63,231,696],[63,231,696],[63,231,719],[63,231,719],[null,null,null],[63,231,723],[63,504,508],[63,728,732],[63,326,782],[63,326,782],[63,326,560],[63,326,782],[71,329,796],[71,329,796],[71,329,796],[71,329,796]];
fg[-3]=[71,264,662];fg[-4]=[71,333,1385];fg[66]=[63,251,483];fg[32]=[85,343,810];fg[33]=[85,343,810];
fg[34]=[105,363,640];fg[48]=[105,363,640];var iI=fg[cx];if(iI==null){if(fw==582)iI=[25,166,null];if(fw==653)iI=[34,286,null]}var w=iI[0],eq=iI[1],fS=iI[2];
if(w)W.t50728=[hx[w+1]/hx[w],1,hx[w+1]/hx[w+3]];if(eq)W.t50714=[hx[eq],hx[eq],hx[eq],hx[eq]];if(fS)W.t50717=[hx[fS]];
if(W.t272&&W.t272[0]=="Canon PowerShot SX50 HS")W.t50717=[3965]}else{W.t50728=[.4,1,.6]}if(dF){W.t277=[3];
W.t50728=[1,1,1];W.t50714=[0,0,0,0]}}else if(W.t271[0].startsWith("NIKON")){var V=l.makerNote,f1=W.isLE?Z.lm:Z.dd,cD=0,fG=0,iA,kO=0;
if(V.t61){var c4=V.t61,ea=[];for(var N=0;N<4;N++)ea[N]=c4[N]/Math.pow(2,14-U);W.t50714=ea}if(V.t3585){var ie=V.t3585,N=0,j=22;
while(j<ie.length&&N!=-4){var i$=Z.P2(ie,j);j+=4;j+=14;N=Z.P2(ie,j)-4;j+=4;if(i$==1990472198){if(ie[j]!=0)throw"Flip"}if(i$==1990472199){var cI=Z.lm(ie,j);
if(cI==0)W.cC=1;else if(cI==270)W.cC=8;else throw"e "+cI}j+=N}}if(V.t183){var cH=V.t183,l8=[];for(var N=0;
N<6;N++)l8.push(f1(cH,16+N*2));cD=l8[0];fG=l8[1]}if(V.t3614){var hL=V.t3614;cD=Z.P2(hL,8);fG=Z.P2(hL,12)}if(cD!=0&&Math.max(cD,fG)<Math.max(W.width,W.height)){if(cD<fG){var k=cD;
cD=fG;fG=k}var eV=W.width-cD>>>1,l9=W.height-fG>>>1;W.t50829=[l9,eV,l9+fG,eV+cD]}else W.t50829=[8,8,W.height-8,W.width-56];
var ee=V.t69;if(ee){var aj=ee[1];if((aj&1)==1)aj++;W.t50829=[aj,ee[0],aj+ee[3],ee[0]+ee[2]]}if(V.t12){var eL=g.raw.aFK(V.t12);
iA=[1/eL[0],1,1/eL[1]]}else if(V.t151){var hZ=g.raw.ail(V,151),bZ=hZ[0],cB=hZ[1],k_=hZ[2];if(bZ=="0100"&&cB>=80){var kW=[];
for(var N=0;N<4;N++)kW.push(f1(k_,68+N*2));iA=[kW[3]/kW[0],1,kW[3]/kW[1]]}else if(bZ=="0102"){var kW=[];
for(var N=0;N<4;N++)kW.push(f1(k_,6+N*2));iA=[kW[1]/kW[0],1,kW[1]/kW[3]]}else if(bZ=="0103"&&cB>=26){var kW=[];
for(var N=0;N<4;N++)kW.push(f1(k_,16+N*2));iA=[kW[1]/kW[0],1,kW[3]/kW[2]]}else if(bZ=="0204"&&cB>=564||bZ=="0205"&&cB>=284){var j=bZ=="0204"?6:14,kW=[];
for(var N=0;N<4;N++)kW.push(f1(k_,j+N*2));iA=[kW[1]/kW[0],1,kW[1]/kW[3]]}else throw"e"}else console.log("no white balance info");
if(D=="NIKON D1")iA=[1,1,1];if(iA)W.t50728=iA;var iU=V.t150?V.t150:V.t140;if(iU){var hq=iU[kO++],e8=iU[kO++],cg;
if(hq==73||e8==88)kO+=2110;kO+=8;var gi=1<<U&32767,jZ=f1(iU,kO);kO+=2;var d=[];if(jZ>1)cg=Math.floor(gi/(jZ-1));
if(hq==68&&e8==32&&cg>0){for(N=0;N<jZ;N++){d[N*cg]=f1(iU,kO);kO+=2}for(N=0;N<gi;N++)d[N]=Math.floor((d[N-N%cg]*(cg-N%cg)+d[N-N%cg+cg]*(N%cg))/cg)}else if(hq!=70&&jZ<=16385){gi=jZ;
for(var N=0;N<jZ;N++)d[N]=f1(iU,kO+2*N);kO+=2*jZ}var D=W.t272[0];if(d.length!=0)W.t50712=new Uint16Array(d);
if(W.t258[0]==14&&W.t50717&&W.t50717[0]<1e4){console.log("fixing white");W.t50717[0]*=4}}}else if(K.startsWith("FujiFilm")){}else if(K.startsWith("Panasonic")){if(W.t277==null)W.t277=[1]}else alert("Unknown camera "+K)};
g.raw.asR=function(W,q,X,k){if(0==X)return;var B=new Uint32Array(128),U=new Uint8Array(B.buffer),l=127,K=0,D=0;
for(var l=0;l<4;l++)B[l]=k=(k*15625>>>0)*3125+1>>>0;B[3]=B[3]<<1|(B[0]^B[2])>>>31;for(var l=4;l<127;
l++)B[l]=(B[l-4]^B[l-2])<<1|(B[l-3]^B[l-1])>>>31;for(var l=0;l<127;l++)B[l]=Z.WP(U,l*4);for(;X>0;X--){B[l&127]=B[l+1&127]^B[l+1+64&127];
var m=B[l&127],Y=W[K];Y^=m;q[D]=Y;K++;D++;l++}};g.raw.a6j=function(W,q){var X=Z.zD(q,0,4),k=g.raw.avd;
for(var N=0;N<k.length;N++)if(k[N][0]==W&&X.startsWith(k[N][1])&&(k[N][2]==0||k[N][2]==q.length))return k[N];
throw"e"};g.raw.a3w=function(W){if(W.t29==null)return[];var q=g.raw.ayy,X=g.raw.atc,k=W.t29[0],B=0,l=0;
for(var N=0;N<k.length;N++){var U=k.charCodeAt(N);B=B*10+(48<=U&&U<=57?U-48:U%10)}var cB=W.t167[0];for(var N=0;
N<4;N++)l^=cB>>>(N<<3)&255;var K=q[B&255],D=X[l&255];return[K,D,96]};g.raw.ail=function(W,q){var X=W["t"+q],cB=X.length,k=g.raw.a6j(q,X),B=Z.zD(X,0,4),U,l=k[4];
if(l==null)U=X.slice(4);else{U=new Uint8Array(cB-l);var K=g.raw.a3w(W),D=K[0],m=K[1],Y=K[2];for(var N=0;
N<U.length;N++){m=m+D*Y++&255;U[N]=X[l++]^m}}return[B,cB,U]};g.raw.a2G=function(W,q){var X=q.t271[0],k=q.t272[0],B=q.t256[0],U=q.t257[0],l=q.t258[0],K=q.t273[0],D=K,m=new Uint8Array(W),Y,a=B-4,p=U,M=m.length-K,y=0,s=0;
function x(){var d=new Uint16Array(4096),a1=0;d[a1]=3084;for(var N=12;N--;)for(var u=0;u<2048>>N;u++)d[++a1]=N+1<<8|N;
return d}function R(){return m[D++]}function F(d,u){var r;if(d>25)return 0;if(d==0||s<0)return 0;if(d<0){y=0;
s=0;return 0}while(s<d){r=R();if(r==null)break;y=(y<<8)+(255&r);s+=8}r=s==0?0:y<<32-s>>>32-d;if(u){s-=u[r]>>8;
r=255&u[r]}else s-=d;return r}function E(){var d=x();D+=7;F(-1);for(var u=0;u<p;u++){var r=[new Int32Array(3),new Int32Array(3)];
for(var v=0;v<B;v++){var c=r[v&1],N=2*(c[2]<3),V;for(V=2+N;(65535&c[0])>>V+N;V++);var j=F(3),Q=j&3;j=j<<29>>31;
var H=F(12,d);if(H==12)H=F(16-V)>>>1;var T=F(V);c[0]=H<<V|T;var e=(c[0]^j)+c[1];c[1]=e*3+c[1]>>5;c[2]=c[0]>16?0:c[2]+1;
if(v>=a)continue;var z=Y[u*B+v-2],a1=Y[(u-2)*B+v],J=Y[(u-2)*B+v-2];Y[u*B+v]=(u<2&&v<2?0:u<2?z:v<2?a1:z<J&&J<a1||a1<J&&J<z?Math.abs(z-J)>32||Math.abs(a1-J)>32?z+a1-J:z+a1>>1:Math.abs(z-J)>Math.abs(a1-J)?z:a1)+(e<<2|Q)}}}function o(){var d=B*l/8,u=U+1>>1,v=0,c=0;
d+=d&6>>7;var r=d*8-B*l;for(var V=0;V<U;V++){var j=V%u*2+~~(V/u);if(j==1){v=0;D=K-(-u*d&-2048)}for(var Q=0;
Q<B;Q++){for(v-=l;v<0;v+=8){c<<=8;for(var N=0;N<8;N+=8)c|=R()<<N}var H=c<<64-l-v>>>64-l;Y[j*B+Q]=H}v-=r}}function G(){var d=!X.startsWith("OLYMPUS")||!X.startsWith("OM Digi")||!X.toLowerCase().startsWith("clauss")&&!k.toLowerCase().startsWith("pix 5oo");
return d&&M<B*U*(l/8)}if(G()){Y=new Uint16Array(a*p);E()}else if(B*U*2==q.data.length){Y=new Uint16Array(q.data.buffer)}else{Y=new Uint16Array(B*U);
o()}return Y};g.raw.avd=[[145,"0208",0,0,4],[145,"0209",0,1,4],[145,"0210",5291,2,4],[145,"0210",5303,3,4],[145,"02",0,4,4],[145,"01",0,5,null],[151,"0100",0,0,null],[151,"0102",0,1,null],[151,"0103",0,4,null],[151,"0204",0,3,284],[151,"0205",0,2,4],[151,"0206",0,3,284],[151,"0207",0,3,284],[151,"0208",0,3,284],[151,"0209",0,5,284],[151,"02",0,3,284],[152,"0100",0,0,null],[152,"0101",0,1,null],[152,"0201",0,1,4],[152,"0202",0,1,4],[152,"0203",0,1,4],[152,"0204",0,2,4],[168,"0100",0,0,null],[168,"0101",0,0,null],[168,"0102",0,1,null],[168,"0103",0,2,null]];
g.raw.ayy=[193,191,109,13,89,197,19,157,131,97,107,79,199,127,61,61,83,89,227,199,233,47,149,167,149,31,223,127,43,41,199,13,223,7,239,113,137,61,19,61,59,19,251,13,137,193,101,31,179,13,107,41,227,251,239,163,107,71,127,149,53,167,71,79,199,241,89,149,53,17,41,97,241,61,179,43,13,67,137,193,157,157,137,101,241,233,223,191,61,127,83,151,229,233,149,23,29,61,139,251,199,227,103,167,7,241,113,167,83,181,41,137,229,43,167,23,41,233,79,197,101,109,107,239,13,137,73,47,179,67,83,101,29,73,163,19,137,89,239,107,239,101,29,11,89,19,227,79,157,179,41,67,43,7,29,149,89,89,71,251,229,233,97,71,47,53,127,23,127,239,127,149,149,113,211,163,11,113,163,173,11,59,181,251,163,191,79,131,29,173,233,47,113,101,163,229,7,53,61,13,181,233,229,71,59,157,239,53,163,191,179,223,83,211,151,83,73,113,7,53,97,113,47,67,47,17,223,23,151,251,149,59,127,107,211,37,191,173,199,197,197,181,139,239,47,211,7,107,37,73,149,37,73,109,113,199];
g.raw.atc=[167,188,201,173,145,223,133,229,212,120,213,23,70,124,41,76,77,3,233,37,104,17,134,179,189,247,111,97,34,162,38,52,42,190,30,70,20,104,157,68,24,194,64,244,126,95,27,173,11,148,182,103,180,11,225,234,149,156,102,220,231,93,108,5,218,213,223,122,239,246,219,31,130,76,192,104,71,161,189,238,57,80,86,74,221,223,165,248,198,218,202,144,202,1,66,157,139,12,115,67,117,5,148,222,36,179,128,52,229,44,220,155,63,202,51,69,208,219,95,245,82,195,33,218,226,34,114,107,62,208,91,168,135,140,6,93,15,221,9,25,147,208,185,252,139,15,132,96,51,28,155,69,241,240,163,148,58,18,119,51,77,68,120,40,60,158,253,101,87,22,148,107,251,89,208,200,34,54,219,210,99,152,67,161,4,135,134,247,166,38,187,214,89,77,191,106,46,170,43,239,230,120,182,78,224,47,220,124,190,87,25,50,126,42,208,184,186,41,0,60,82,125,168,73,59,45,235,37,73,250,163,170,57,167,197,167,80,17,54,251,198,103,74,245,165,18,101,126,176,223,175,78,179,97,127,47];
g.Ce={};g.Ce.Ce=function(W,q,X,k,B){if(k==null)k=3;if(B==null)B=!0;var U=W.r,l=W.$,K=1/U,D=U*l,m=Date.now(),Y=!1,a=g.Ce.amq(X,U,l,255,128),p=g.Ce.amq(X,U,l,0,128),d9=0;
if(Y)console.log("extract contours",Date.now()-m);m=Date.now();var M=function(c4,ea){var ie=c4<<2,i$=ea<<2;
return q[ie]+q[ie+1]+q[ie+2]-(q[i$]+q[i$+1]+q[i$+2])};a.sort(M);p.sort(M);var x=g.j(D),R=g.j(D),y=[],s=new Uint32Array(U*l);
s.fill(4294967295);for(var N=0;N<D;N++)if(X[N]==0)R[N]=255;else if(X[N]==255)x[N]=255;else{s[N]=y.length;
y.push(N)}var F=a.length,E=p.length,o=y.length;function G(c4,ea,ie,i$){var cI=c4.length,cD=new Array(cI*2);
for(var N=0;N<cI;N++){var z=c4[N],J=~~(z*i$),P=z-J*ie,eq=z<<2;cD[N*2]=P<<16|J;cD[N*2+1]=ea[eq]<<16|ea[eq+1]<<8|ea[eq+2]}return cD}var d=G(a,q,U,K),u=G(p,q,U,K),r=G(y,q,U,K);
if(Y)console.log("Itemize",Date.now()-m,"Unknown:",o,F,E);m=Date.now();var v=g.style.p6(x,U,l,!0),c=g.style.p6(R,U,l,!0),V=new Array(o),j=new Array(o),Q=new Array(o),H=new Array(o),T=new Array(o);
if(Y)console.log("Dist transform",Date.now()-m);m=Date.now();var e=g.Ce.aL;for(var N=0;N<o;N++){var z=y[N],J=~~(z*K),P=z-J*U,L=v[z<<1],A=v[(z<<1)+1],h=Math.sqrt(L*L+A*A),C=c[z<<1],w=c[(z<<1)+1],f=Math.sqrt(C*C+w*w);
V[N]=1/h;j[N]=1/f;var O=Math.floor(g.v.An(z*17)*F),n=Math.floor(g.v.An(z*19)*E);Q[N]=O;H[N]=n;T[N]=e(r[N*2],r[N*2+1],d[O*2],d[O*2+1],u[n*2],u[n*2+1],V[N],j[N],1e9)}var $=[-U-1,-U,-U+1,-1,1,U-1,U,U+1];
while(Math.floor(Math.max(F,E)*Math.pow(.5,d9))>1)d9++;for(var i=0;i<k;i++){var im=0;for(var N=0;N<o;
N++){var z=y[N],J=~~(z*K),P=z-J*U,bc=V[N],at=j[N],l9=r[N*2],fF=r[N*2+1],g$=T[N],O=Q[N],n=H[N],df=1;if(J!=0&&P!=0&&P!=U-1&&J!=l-1)for(var fR=0;
fR<8;fR++){var cr=s[z+$[fR]];if(cr==4294967295)continue;var eE=Q[cr],bQ=H[cr];if(eE==O&&bQ==n)continue;
var hT=e(l9,fF,d[eE*2],d[eE*2+1],u[bQ*2],u[bQ*2+1],bc,at,g$);if(hT<g$){g$=hT;O=eE;n=bQ}}for(var eV=0;
eV<d9;eV++){var gU=~~(F*df),bv=~~(E*df);df*=.5;var fE=g.v.An(z+i*17+eV*31),d5=g.v.An(z+i*29+eV*63),aR=Math.max(0,O-gU),l8=Math.min(O+gU,F-1),au=Math.max(0,n-bv),hx=Math.min(n+bv,E-1),eE=aR+~~(fE*(l8-aR)),bQ=au+~~(d5*(hx-au)),hT=e(l9,fF,d[eE*2],d[eE*2+1],u[bQ*2],u[bQ*2+1],bc,at,g$);
if(hT<g$){g$=hT;O=eE;n=bQ}}T[N]=g$;Q[N]=O;H[N]=n;im+=g$}}if(Y)console.log(im);if(Y)console.log("iterations",Date.now()-m);
m=Date.now();var fw=X.slice(0);for(var N=0;N<o;N++){var cx=g.Ce.alpha(r[N*2+1],d[Q[N]*2+1],u[H[N]*2+1]);
fw[y[N]]=~~(.5+255*cx)}fw=g.eU.akX(fw,q,new dU(0,0,U,l),16,.01*.01);if(Y)console.log("guided filter",Date.now()-m);
m=Date.now();if(B)for(var N=0;N<D;N++)if(X[N]==255||X[N]==0)fw[N]=X[N];var fg=q.slice(0);for(var N=0;
N<o;N++){var iI=y[N],O=a[Q[N]],g$=T[N],eq=iI<<2,fS=fw[iI],f1=(fS>=250?iI:O)<<2;fg[eq]=q[f1];fg[eq+1]=q[f1+1];
fg[eq+2]=q[f1+2]}g.fP(fw,fg,3);if(Y)console.log(Date.now()-m);m=Date.now();return fg};g.Ce.aL=function(W,q,X,k,B,U,l,K,D){var m=W>>>16,Y=W&65535,a=m-(X>>>16),p=Y-(X&65535),M=m-(B>>>16),x=Y-(B&65535),R=Math.sqrt(a*a+p*p)*l,y=Math.sqrt(M*M+x*x)*K;
if(R+y>=D)return 1e9;var s=g.Ce.ax$(q,k,U);return s+R+y};g.Ce.ax$=function(W,q,X){var k=W>>>16,B=W>>>8&255,U=W&255,l=q>>>16,K=q>>>8&255,D=q&255,m=X>>>16,Y=X>>>8&255,a=X&255,p=g.Ce.alpha(W,q,X),M=k-(p*l+(1-p)*m),x=B-(p*K+(1-p)*Y),R=U-(p*D+(1-p)*a);
return Math.sqrt(M*M+x*x+R*R)};g.Ce.alpha=function(W,q,X){var k=W>>>16,B=W>>>8&255,U=W&255,l=q>>>16,K=q>>>8&255,D=q&255,m=X>>>16,Y=X>>>8&255,a=X&255,p=l-m,M=K-Y,x=D-a,R=k-m,y=B-Y,s=U-a,F=p*p+M*M+x*x,E=F==0?.5:(R*p+y*M+s*x)/F;
return Math.max(0,Math.min(1,E))};g.Ce.a8t=function(W){};g.Ce.amq=function(W,q,X,k,B){var U=[],l=q-1,K=X-1;
for(var D=1;D<K;D++)for(var m=1;m<l;m++){var N=D*q+m;if(W[N]==k&&(W[N-q-1]==B||W[N-q]==B||W[N-q+1]==B||(W[N-1]==B||W[N+1]==B)||(W[N+q-1]==B||W[N+q]==B||W[N+q+1]==B)))U.push(N)}return U};
g.eU={};g.eU.aIt=function(W,q,X,k,B){var U=X.r,l=X.$,K=U*l,D=g.eU.avC,m=g.j(K*4),Y;m.fill(255);var a=X,p=W,M=q,x=k;
g.fP(W,m,0);Y=g.ly(m,X);Y=g.ly(Y.kl,Y.S);a=Y.S;x=k>>>2;console.log(a,x);p=g.j(a.C());g.u6(Y.kl,p,0);
g.fP(q,m,0);Y=g.ly(m,X);Y=g.ly(Y.kl,Y.S);M=g.j(a.C());g.u6(Y.kl,M,0);var R=g.eU.a6K(p,M,a,x,B),y=R[0],s=R[1],F=new dU(0,0,a.r*2,a.$*2);
y=D(y,a,F,!0);y=D(y,F,X,!0);s=D(s,a,F,!0);s=D(s,F,X,!0);var E=g.j(K);for(var N=0;N<K;N++)E[N]=Math.max(0,Math.min(255,Math.floor(.5+(y[N]*q[N]+255*s[N]))));
return E};g.eU.Zt=function(W,q,X,k){q.set(W);g.Zt.Aq(q,X,k)};g.eU.avC=function(W,q,X,k){var B=X.r,U=X.$,l=q.r,K=q.$,D=g.eU.ur,m=new Float32Array(B*U);
for(var Y=0;Y<K;Y++){var a=(Y+Y)*B;for(var p=0;p<l;p++){if(!0||p==0||Y==0||p==l-1||Y==K-1)m[a]=m[a+1]=m[a+B]=m[a+B+1]=W[Y*l+p];
else{m[a]=D(p+.25,Y+.25,W,l,K);m[a+1]=D(p+.75,Y+.25,W,l,K);m[a+B]=D(p+.25,Y+.75,W,l,K);m[a+B+1]=D(p+.75,Y+.75,W,l,K)}a+=2}}return m};
g.eU.ur=function(W,q,X,k,B){W-=.499999;q-=.499999;var U=Math.floor(W),l=Math.floor(q),K=l*k+U,D=W-U,m=q-l,Y=(1-m)*(1-D),a=(1-m)*D,p=m*(1-D),M=m*D;
if(X[K]==null||X[K+k+1]==null){console.log(W,q,k,B);throw"e"}return Y*X[K+0]+a*X[K+1]+p*X[K+k+0]+M*X[K+k+1]};
g.eU.a6K=function(W,q,X,k,B){var U=X.r,l=X.$,K=U*l,D=g.eU.aIA,m=g.eU.j,Y=g.eU.Zt,a=g.eU.Uj,q=D(q,K),W=D(W,K),p=m(K);
Y(q,p,X,k);var M=m(K);Y(W,M,X,k);var x=m(K);a(q,q,x);Y(x,x,X,k);var R=m(K);a(q,W,R);Y(R,R,X,k);var y=m(K),s=m(K);
for(var N=0;N<K;N++){var F=p[N],E=M[N],o=x[N]-F*F,G=R[N]-F*E,d=G/(o+B),u=E-d*F;y[N]=d;s[N]=u}var r=m(K);
Y(y,r,X,k);var v=m(K);Y(s,v,X,k);return[r,v]};g.eU.akX=function(W,q,X,k,B){var U=X.r,l=X.$,K=U*l,D=g.eU.avC,m=Date.now(),Y=!1,a=X,p=W,M=q,x=k;
a=new dU(0,0,U>>>2,l>>>2);x=k>>>2;p=g.eU.a41(W,U,l);M=g.eU.a2s(q,U,l);if(Y)console.log(Date.now()-m);
m=Date.now();var R=g.eU.a99(p,M,a,x,B),y=R[0],s=R[1],F=R[2],E=R[3];if(Y)console.log(Date.now()-m);m=Date.now();
var o=g.j(K);for(var G=0;G<l;G++)for(var d=0;d<U;d++){var N=G*U+d,u=(G>>>2)*(U>>>2)+(d>>>2),r=N<<2,v=y[u]*q[r]+s[u]*q[r+1]+F[u]*q[r+2]+E[u]*255;
o[N]=Math.max(0,Math.min(255,~~(.5+v)))}if(Y)console.log(Date.now()-m);m=Date.now();return o};g.eU.a41=function(W,q,X){var k=q>>>2,B=X>>>2,U=g.j(k*B);
for(var l=0;l<B;l++)for(var K=0;K<k;K++)U[l*k+K]=W[l*q+K<<2];return U};g.eU.a2s=function(W,q,X){var k=q>>>2,B=X>>>2,U=g.j(k*B*4);
for(var l=0;l<B;l++)for(var K=0;K<k;K++){var D=l*k+K<<2,m=l*q+K<<4;U[D]=W[m];U[D+1]=W[m+1];U[D+2]=W[m+2];
U[D+3]=W[m+3]}return U};g.eU.a99=function(W,q,X,k,B){var U=X.r,l=X.$,K=U*l,D=g.eU.aIA,m=g.eU.j,Y=g.eU.Zt,a=g.eU.Uj,W=D(W,K),p=new g.rV(U*l);
g.EX(q,p);var q=[D(p.o,K),D(p.L,K),D(p.X,K)],M=g.eU.a5E(W,q,X,k,B),x=m(K);Y(W,x,X,k);var R=m(K);a(q[0],W,R);
Y(R,R,X,k);var y=m(K);a(q[1],W,y);Y(y,y,X,k);var s=m(K);a(q[2],W,s);Y(s,s,X,k);var F=m(K),E=m(K),o=m(K),G=m(K);
for(var N=0;N<K;N++){var d=x[N],u=M.MT[N],r=M.N3[N],v=M.XF[N],c=R[N]-u*d,V=y[N]-r*d,j=s[N]-v*d;F[N]=M.asP[N]*c+M.k9[N]*V+M.Nf[N]*j;
E[N]=M.k9[N]*c+M.ays[N]*V+M.dN[N]*j;o[N]=M.Nf[N]*c+M.dN[N]*V+M.a8J[N]*j;G[N]=d-F[N]*u-E[N]*r-o[N]*v}Y(F,F,X,k);
Y(E,E,X,k);Y(o,o,X,k);Y(G,G,X,k);return[F,E,o,G]};g.eU.a5E=function(W,q,X,k,B){var U=X.r,l=X.$,K=U*l,D=g.eU.j,m=g.eU.Zt,Y=g.eU.Uj,a={};
a.MT=D(K);m(q[0],a.MT,X,k);a.N3=D(K);m(q[1],a.N3,X,k);a.XF=D(K);m(q[2],a.XF,X,k);var p=D(K);Y(q[0],q[0],p);
m(p,p,X,k);var M=D(K);Y(q[0],q[1],M);m(M,M,X,k);var x=D(K);Y(q[0],q[2],x);m(x,x,X,k);var R=D(K);Y(q[1],q[1],R);
m(R,R,X,k);var y=D(K);Y(q[1],q[2],y);m(y,y,X,k);var s=D(K);Y(q[2],q[2],s);m(s,s,X,k);a.asP=p;a.k9=M;
a.Nf=x;a.ays=R;a.dN=y;a.a8J=s;for(var N=0;N<K;N++){var F=a.MT[N],E=a.N3[N],o=a.XF[N],G=p[N]-F*F+B,d=M[N]-F*E,u=x[N]-F*o,r=R[N]-E*E+B,v=y[N]-E*o,c=s[N]-o*o+B,V=r*c-v*v,j=v*u-d*c,Q=d*v-r*u,H=G*c-u*u,T=u*d-G*v,e=G*r-d*d,z=V*G+j*d+Q*u,J=1/z;
a.asP[N]=V*J;a.k9[N]=j*J;a.Nf[N]=Q*J;a.ays[N]=H*J;a.dN[N]=T*J;a.a8J[N]=e*J}return a};g.eU.j=function(W){return new Float32Array(W)};
g.eU.aIA=function(W,q){var X=new Float32Array(q);for(var N=0;N<q;N++)X[N]=W[N]*(1/255);return X};g.eU.Uj=function(W,q,X){for(var N=0;
N<W.length;N++)X[N]=W[N]*q[N]};g.Zf={};g.Zf.Hf=function(W,q,X,k){var B=W[q]-X[k],U=W[q+1]-X[k+1],l=W[q+2]-X[k+2];
return Math.sqrt(B*B+U*U+l*l)*(1/441.7)};g.Zf.getSelection=function(W,q,X){var k=q*X,B=g.j(k),U=!1,l=Math.round(X*.7),K=1,D=new Uint32Array(12),m=g.j(12);
for(var Y=0;Y<l;Y++)for(var a=0;a<q;a++){if(a<K||Y<K||a>q-K-1||Y>X-K-1){var N=Y*q+a,p=N<<2,M=0;if(Y<K)M=4;
else if(a>q-K-1)M=8;D[M]+=W[p];D[M+1]+=W[p+1];D[M+2]+=W[p+2];D[M+3]++;B[N]=255}}for(var N=0;N<12;N+=4)for(var x=0;
x<3;x++)m[N+x]=D[N+x]/D[N+3];var R=new Float32Array(k);for(var N=0;N<k;N++){var p=N*4,y=g.Zf.Hf(W,p,m,0),s=g.Zf.Hf(W,p,m,4),F=g.Zf.Hf(W,p,m,8),E=Math.max(y,Math.max(s,F));
R[N]=y+s+F-E}g.Zf.QQ(R);var o=Date.now(),G=new Float32Array(k),d=[],u=g.j(k);for(var N=0;N<3;N++){g.u6(W,u,N);
var r=new Uint16Array(k);d.push(r);g.Zf.aGW(u,B,q,X,r)}if(U)console.log("MBD",Date.now()-o);o=Date.now();
for(var N=0;N<k;N++)G[N]=d[0][N]+d[1][N]+d[2][N];g.Zf.QQ(G);for(var N=0;N<k;N++)G[N]+=.4*R[N];var v=q>>>1,l=X>>>1,c=1/Math.sqrt(v*v+l*l);
for(var Y=0;Y<X;Y++)for(var a=0;a<q;a++){var V=a-v,j=Y-l,Q=1-Math.sqrt(V*V+j*j)*c;G[Y*q+a]*=Q}if(U)console.log("Centeredness",Date.now()-o);
o=Date.now();for(var N=0;N<k;N++)B[N]=G[N]*255;var H=Math.round(q/120),T=Math.round(H*.8);if(U)console.log(H,T);
g._R.bQ(B,B,q,X,H+H+1,!1);if(U)console.log("erosion",Date.now()-o);o=Date.now();for(var N=0;N<k;N++)G[N]=B[N];
g.Zf.QQ(G);var e=g.j(256);for(var N=0;N<256;N++)e[N]=256/(1+Math.exp(-20*(N/255-.5)));for(var N=0;N<k;
N++){var z=~~(G[N]*255+.5);B[N]=e[z]}if(U)console.log("Simoid",Date.now()-o);o=Date.now();return B};
g.Zf.QQ=function(W){var q=W.length,X=0;for(var N=0;N<q;N++)X=Math.max(X,W[N]);var k=1/X;for(var N=0;
N<q;N++)W[N]=W[N]*k};g.Zf.aGW=function(W,q,X,k,B){var U=X*k,l=W.slice(0),K=W.slice(0);for(var N=0;N<U;
N++)B[N]=q[N]==255?0:65535;g.Zf.ale(W,K,l,B,X,k);g.Zf.awJ(W,K,l,B,X,k);g.Zf.ale(W,K,l,B,X,k);g.Zf.awJ(W,K,l,B,X,k);
return B};g.Zf.ale=function(W,q,X,k,B,U){for(var l=1;l<B;l++)g.Zf.Tp(l,-1,W,q,X,k);for(var K=1;K<U;K++){g.Zf.Tp(K*B,-B,W,q,X,k);
for(var l=1;l<B;l++){var N=K*B+l;g.Zf.Tp(N,-1,W,q,X,k);g.Zf.Tp(N,-B,W,q,X,k)}}};g.Zf.awJ=function(W,q,X,k,B,U){for(var l=B-2;
l>=0;l--)g.Zf.Tp(B*U-B+l,1,W,q,X,k);for(var K=U-2;K>=0;K--){g.Zf.Tp(K*B+B-1,B,W,q,X,k);for(var l=B-2;
l>=0;l--){var N=K*B+l;g.Zf.Tp(N,1,W,q,X,k);g.Zf.Tp(N,B,W,q,X,k)}}};g.Zf.Tp=function(N,W,q,X,k,B){var U=N+W,l=q[N],K=X[U],D=k[U];
if(K<l)K=l;else if(l<D)D=l;var m=K-D;if(B[U]!=65535&&m<B[N]){B[N]=m;X[N]=K;k[N]=D}};g.w3={};g.w3.filter=function(W,q,X,k){var B=q.r,U=q.$,l=B*U,K=k[0],D=k[1],m=k[2],Y=k[3],a=k[4],p=k[5],M=k[6],x=Date.now(),R=new Float32Array(B*U*4);
g.w3.ag4(W,B,U,R);var y=Math.ceil(K*Math.sqrt(-2*Math.log(.1))),s=new ArrayBuffer(l*4),F=new Float32Array(s),E=new Float32Array(l),o=new Float32Array(l);
for(var N=0;N<l;N++){var G=N*4;F[N]=R[G];E[N]=R[G+1];o[N]=R[G+2]}g.Zt.Yd(F,q,y*1/2.4,2);g.Zt.Yd(E,q,y*1/2.4,2);
g.Zt.Yd(o,q,y*1/2.4,2);for(var N=0;N<l;N++){var G=N*4;R[G]=F[N];R[G+1]=E[N];R[G+2]=o[N]}var d=new Uint8Array(s);
for(var N=0;N<l;N++){var G=N*4,u=N*4,F=R[G],E=R[G+1],o=R[G+2],r=Math.sqrt((F-o)*(F-o)+4*E*E),v=(F+o+r)*.5,c=(F+o-r)*.5,V=c-o,j=E,Q=V*V+j*j;
if(Q!=0){var H=Math.sqrt(Q),T=1/H;V*=T;j*=T}d[u]=128+127*V;d[u+1]=128+127*j}var e=1.3*D+2,z=Y*(2/10),J=W.slice();
if(dd.gP){var P=new Float32Array([1/B,1/U]),L=dd.I9(0,B,U);L.set(J);var A=dd.I9(1,B,U);A.set(d);dd.vo(L,q);
if(a){L.Dx(q);dd.filter.Mn({I:dd.filter.atN,Bt:P,aer:1/m,ads:z},L.SD)}L.Dx(q);dd.filter.Mn({I:dd.filter.Ua,z$:A.hc,Bt:P,Ul:e,sp:2},L.SD);
if(a){L.Dx(q);dd.filter.Mn({I:dd.filter.a57,Bt:P,azM:new Float32Array(M),a4g:p},L.SD)}L.get(X)}else{if(a)g.w3.a2R(1/m,z,J,B,U);
g.w3.Ua(J,X,d,B,U,e);if(a)g.w3.aHQ(B,U,X,M,p)}var h=l*4;for(var N=3;N<h;N+=4)X[N]=W[N]};g.w3.Ua=function(W,q,X,k,B,U){var l=Math.ceil(2*U),K=-1/(2*U*U),D=[],m=1;
for(var N=0;N<l+20;N++)D[N]=Math.exp(N*N*K);var Y=[0,0,0,0];for(var a=0;a<B;a++){for(var p=0;p<k;p++){var M=a*k+p,x=M*4,R=1,y=W[x],s=W[x+1],F=W[x+2],E=W[x+3],o=(X[x]-128)*(1/127),G=(X[x+1]-128)*(1/127),d=o,u=G,r=p==0?.51:.49,v=a==0?.51:.49;
for(var N=0;N<2;N++){var c=p+r,V=a+v,j=0;while(j<l){if(c<.5||k-.5<c||V<.5||B-.5<V)break;var Q=~~c,H=~~V,T=H*k+Q,e=T*4,z=(X[e]-128)*(1/127),J=(X[e+1]-128)*(1/127);
if(z*d+J*u<0){z=-z;J=-J}d=z;u=J;c+=m*z;V+=m*J;if(c<.5||k-.5<c||V<.5||B-.5<V)break;var P=~~c,L=~~V,A=L*k+P<<2;
j+=m;var h=D[~~j];g.F.aDA(c,V,W,k,B,Y);y+=Y[0]*h;s+=Y[1]*h;F+=Y[2]*h;E+=Y[3]*h;R+=h}d=-o;u=-G}var C=1/R;
q[x]=~~(.5+y*C);q[x+1]=~~(.5+s*C);q[x+2]=~~(.5+F*C);q[x+3]=~~(.5+E*C)}}};g.w3.aHQ=function(W,q,X,k,B){for(var U=0;
U<q;U++)for(var l=0;l<W;l++){var K=U*W+l<<2,D=1+g.w3.aAg(l,U,X,W,q,k)*B;X[K]=Math.max(0,Math.min(255,X[K]*D));
X[K+1]=Math.max(0,Math.min(255,X[K+1]*D));X[K+2]=Math.max(0,Math.min(255,X[K+2]*D))}};g.w3.aAg=function(W,q,X,k,B,U){var l=X[(q*k+Math.max(0,W-1))*4+3],K=X[(q*k+Math.min(k-1,W+1))*4+3],D=X[(Math.max(0,q-1)*k+W)*4+3],m=X[(Math.min(B-1,q+1)*k+W)*4+3],Y=.7,a=(K-l)*(1/255),p=.7,M=(m-D)*(1/255),x=-a*p,R=-Y*M,y=Y*p,s=Math.sqrt(x*x+R*R+y*y),F=1/s,E=x*F,o=R*F,G=y*F,d=U[0]*E+U[1]*o+U[2]*G;
return d};g.w3.a2R=function(W,q,X,k,B){function U(K,m,Y){return Math.max(m,Math.min(Y,K))}for(var l=0;
l<B;l++)for(var K=0;K<k;K++){var D=g.w3.a8s(K+.5,l+.5,W,q);X[(l*k+K)*4+3]=Math.max(0,Math.min(255,D*255))}};
g.w3.a8s=function(W,q,X,k){function B(u,r,v){return(1-v)*u+v*r}var U=(W+613)*X,l=(q+117)*X,K=~~U,D=~~l,m=U-K,Y=l-D,a=Math.sin(11),p=Math.cos(K)*a,M=Math.cos(K+1)*a,x=Math.cos(D)*a,R=Math.cos(D+1)*a,a1=g.w3.hash(p,x),y=g.w3.hash(M,x),s=g.w3.hash(p,R),F=g.w3.hash(M,R),E=B(a1,y,m),o=B(s,F,m),G=B(E,o,Y);
G=G<.5?0:1;var d=G+k*g.w3.hash(Math.cos(U)*a,Math.cos(l)*a);return d*(1/3)};g.w3.hash=function(W,q){var X=Math.sin(W*11.697096+q*73.32456)*12157.47691;
return X-Math.floor(X)};g.w3.ag4=function(W,q,X,k){var B=[-1,0,1,-2,0,2,-1,0,1],U=[-1,-2,-1,0,0,0,1,2,1],l=q-1,K=X-1,D=q*4;
for(var m=1;m<K;m++)for(var Y=1;Y<l;Y++){var N=m*q+Y,a=N*4,p=g.w3.Lm(W,a,D,B),M=g.w3.Lm(W,a,D,U),x=g.w3.Lm(W,a+1,D,B),R=g.w3.Lm(W,a+1,D,U),y=g.w3.Lm(W,a+2,D,B),s=g.w3.Lm(W,a+2,D,U);
k[a]=p*p+x*x+y*y;k[a+1]=p*M+x*R+y*s;k[a+2]=M*M+R*R+s*s}g.w3.awu(k,q,X)};g.w3.Lm=function(W,q,X,k){return W[q-X-4]*k[0]+W[q-X]*k[1]+W[q-X+4]*k[2]+W[q-4]*k[3]+W[q]*k[4]+W[q+4]*k[5]+W[q+X-4]*k[6]+W[q+X]*k[7]+W[q+X+4]*k[8]};
g.w3.awu=function(W,q,X){function k(D,N,m){var Y=N*4,a=m*4;D[a]=D[Y];D[a+1]=D[Y+1];D[a+2]=D[Y+2]}var B=q-1,U=X-1;
k(W,q+1,0);k(W,2*q-2,q-1);for(var l=1;l<B;l++)k(W,q+l,l);for(var K=1;K<U;K++){k(W,K*q+1,K*q);k(W,K*q+q-2,K*q+q-1)}for(var l=1;
l<B;l++)k(W,(X-2)*q+l,(X-1)*q+l);k(W,(K-2)*q+1,(K-1)*q);k(W,(K-1)*q-2,K*q-1)};g.E3=function(){function W(m,Y,a,p){var M=new Float32Array(m*m),x=m/2;
for(var R=0;R<m;R++)for(var y=0;y<m;y++){var s=y+a-x,F=R+p-x;M[R*m+y]=Math.max(0,Math.min(1,Y+.5-Math.sqrt(s*s+F*F)))}return M}var q=[],k=null;
function X(m,Y,a,p){var M=Math.floor(Y*10),x=q[M],R=m*8,y=R>>>1;if(x==null){x=q[M]=[];var s=new dU(0,0,R,R),F=m/2/(1+.2*Y),E=Math.floor(m*M*.1);
for(var o=0;o<2;o++)for(var G=0;G<2;G++){var d=W(R,F,.25+G*.5,.25+o*.5),u=0;g.Zt.Yd(d,s,E);while(d[R*y+u]<.005)u++;
if(u!=0)u--;var r=2*(y-u),v=new dU(u,u,r,r),c=new Float32Array(r*r);for(var V=0;V<r;V++)for(var j=0;
j<r;j++)c[V*r+j]=d[(u+V)*R+u+j];x.push([c,v])}}var Q=Math.floor(a),H=Math.floor(p),T=a-Q,e=p-H,z=T<.5?1:0,J=e<.5?1:0;
x=x[J*2+z];var v=x[1].P();v.x+=Q-y;v.y+=H-y;return[x[0],v]}function B(m,Y,a){if(k==null){k=new Uint8Array(4e4);
for(var N=0;N<4e4;N++)k[N]=Math.min(255,~~(.5+255*g.Ni(N*(1/255))))}var p=m.length;for(var N=0;N<p;N++){var M=m[N],x=~~(255*M);
Y[N]=k[x]<<24|a}}function U(m,Y,a,p,M){var x=Y.x$(p),R=Math.max(0,x.x-Y.x),y=Math.max(0,x.x-p.x),s=Math.max(0,x.y-Y.y),F=Math.max(0,x.y-p.y),E=x.r,o=x.$;
for(var N=0;N<o;N++){var G=(s+N)*Y.r+R,d=(F+N)*p.r+y;for(var u=0;u<E;u++){a[d+u]+=M*m[G+u]}}}var l=-1;
function K(m,Y,a,p,M){var x=Math.round(p[1]*Y*a*.01),R=p[2],y=p[3],s=p[4],F=p[5],E=p[6],o=p[7],G=p[8],d=p[9],u=p[10]?p[10]:1,h=!1;
if(R!=l){q=[];l=R}var r=Date.now(),v=new dU(0,0,Y,a),c=new D(p[0]);if(M)m.fill(0);var V=new Float32Array(M?m.buffer:Y*a);
for(var N=0;N<x;N++){var j=c.get()*Y,Q=c.get()*a,H=c.get()*y,T=c.get()*R*4,e=(c.get()+E)*Math.PI*2,z=c.get()*R*4,J=(c.get()+2*E)*Math.PI*2;
j+=d*(T*Math.cos(e)+z*Math.cos(J));Q+=d*(T*Math.sin(e)+z*Math.sin(J));if(G)Q=Q+E*a*u;var P=X(R,H,j,Q%a),L=s,A=c.get();
if(o)L=.5+.5*s*(.5+.5*Math.sin((2*E+A)*2*Math.PI));U(P[0],P[1],V,v,L)}if(h)console.log(Date.now()-r,"add floats");
r=Date.now();var C=new Uint8Array(V.buffer);B(V,new Uint32Array(C.buffer),F.X<<16|F.L<<8|F.o);if(h)console.log(Date.now()-r,"toInt");
r=Date.now();if(!M){g.v.HX("scrn",C,v,m,v,v,1);if(h)console.log(Date.now()-r,"blendOver")}}function D(m){this.mK=123456789;
this.h8=987654321;this.BD=4294967295;this.g_(m)}D.prototype.g_=function(N){this.mK=123456789+N&this.BD;
this.h8=987654321-N&this.BD};D.prototype.get=function(){this.h8=36969*(this.h8&65535)+(this.h8>>16)&this.BD;
this.mK=18e3*(this.mK&65535)+(this.mK>>16)&this.BD;var m=(this.h8<<16)+(this.mK&65535)>>>0;m/=4294967296;
return m};return{in:K}}();g.S_={};g.S_.E8=function(W,q,X,k){var B=W[q*2],U=W[q*2+1],l=W[X*2],K=W[X*2+1],D=W[k*2],m=W[k*2+1];
return B*K+l*m+D*U-D*K-l*U-B*m};g.S_.aDd=function(W,q){var X=[],k=[],B=[],U={};for(var N=0;N<q.length;
N+=3){var l=~~(N*(1/3)),K=q[N+0],D=q[N+1],m=q[N+2],Y=g.S_.E8(W,K,D,m);if(Y>0){var a=D;D=m;m=a}var p=U[m+"-"+D],M=U[D+"-"+K],x=U[K+"-"+m],R=[m,p,l,null],y=[D,M,l,R],s=[K,x,l,y];
R[3]=s;if(p)p[1]=R;if(M)M[1]=y;if(x)x[1]=s;U[m+"-"+K]=s;U[K+"-"+D]=y;U[D+"-"+m]=R;X[K]=y;B[N]=y;X[D]=R;
B[N+1]=R;X[m]=s;B[N+2]=s;k[l]=y}return{R$:X,ZZ:k,DP:B}};g.S_.aAa=function(W){var q=[],X=W.ZZ;for(var N=0;
N<X.length;N++){var k=X[N];q.push(k[0]);k=k[3];q.push(k[0]);k=k[3];q.push(k[0])}return q};g.S_.ac2=function(W,q,X,k){var B=W[q*2],U=W[q*2+1],l=W[X*2],K=W[X*2+1],D=W[k*2],m=W[k*2+1],Y=l-B,a=K-U,p=D-B,M=m-U,x=Y*(B+l)+a*(U+K),R=p*(B+D)+M*(U+m),y=2*(Y*(m-K)-a*(D-l));
if(Math.abs(y)<1e-5){var s=Math.min(B,l,D),F=Math.min(U,K,m),E=(Math.max(B,l,D)-s)*.5,o=(Math.max(U,K,m)-F)*.5;
return[s+E,F+o,E*E+o*o,1]}var G=(M*x-a*R)/y,d=(Y*R-p*x)/y,E=G-B,o=d-U;return[G,d,E*E+o*o,0]};g.S_.aI$=function(W,q,X){var k=X[1],B=X[3],U=B[3],l=k[3],K=l[3],D=X[2],m=k[2],Y=X[0],a=k[0],p=B[0],M=l[0],x=g.S_.ac2(W,a,M,p),R=W[Y*2]-x[0],y=W[Y*2+1]-x[1],s=R*R+y*y>x[2]&&x[3]==0&&g.S_.E8(W,M,Y,p)<0&&g.S_.E8(W,p,a,M)<0;
if(s){X[0]=p;k[0]=M;X[3]=U;U[3]=l;l[3]=X;k[3]=K;K[3]=B;B[3]=k;B[2]=m;l[2]=D;q.ZZ[m]=K;q.ZZ[D]=U;q.R$[a]=l;
q.R$[Y]=B}return s};g.S_.auU=function(W,q,X){var k=W[q*2]-W[X*2],B=W[q*2+1]-W[X*2+1];return Math.sqrt(k*k+B*B)};
g.S_.aiw=function(W,q,X){var k=X[1],B=X[3],U=B[3],l,K,D=X[2],m,Y=X[0],a=U[0],p=B[0],M;if(k){l=k[3];K=l[3];
m=k[2];M=l[0]}var x=W.length>>>1;W[2*x]=(W[2*a]+W[2*Y])*.5;W[2*x+1]=(W[2*a+1]+W[2*Y+1])*.5;if(!0){var R=D,y=X,s=q.ZZ.length,F=[x,null,R,y],E=[p,F,s,U];
F[1]=E;var o=[x,null,s,E];B[3]=F;U[3]=o;U[2]=s;q.ZZ[R]=B;q.ZZ[s]=o;q.R$[Y]=B;q.R$[p]=U;q.DP.push(F,E,o)}if(k){var G=m,d=k,u=s+1;
o[1]=d,d[1]=o;var r=[x,null,G,d],v=[M,r,u,K];r[1]=v;var c=[x,y,u,v];y[1]=c;l[3]=r;K[3]=c;K[2]=u;q.ZZ[G]=l;
q.ZZ[u]=K;q.R$[a]=l;q.R$[M]=K;q.DP.push(r,v,c)}q.R$[x]=y};g.S_.adK=function(W,q){var X=0;while(!0){var k=X;
for(var N=0;N<q.DP.length;N++){var B=q.DP[N];if(B[1]==null)continue;var U=g.S_.aI$(W,q,B);if(U){X++;
break}}if(k==X)break}return X!=0};g.S_.awN=function(W,q,X,k){var B=0;for(var N=0;N<k;N++){var U=null,l=0;
for(var K=0;K<q.DP.length;K++){var D=q.DP[K],m=g.S_.auU(W,D[0],D[3][3][0])*(D[1]?1:2);if(m>l){U=D;l=m}}if(l>X){g.S_.aiw(W,q,U);
B++}}return B!=0};g.S_.a43=function(W,q){var X=[],p=0;for(var N=0;N<W.length;N++)X.push(0);for(var N=0;
N<q.DP.length;N++){var k=q.DP[N],B=k[0],U=k[3][3][0],l=W[B*2],K=W[B*2+1],D=W[U*2],m=W[U*2+1],Y=l-D,a=K-m;
X[B*2]+=-Y;X[B*2+1]+=-a;X[U*2]+=Y;X[U*2+1]+=a}for(var N=0;N<W.length;N+=2){var M=N>>>1,x=q.R$[M],k=x,R=!0;
do{if(k[1]==null){R=!1;break}k=k[1][3]}while(k!=x);if(R){var y=.02;W[N]+=y*X[N];W[N+1]+=y*X[N+1];p+=y*(X[N]*X[N]+X[N+1]*X[N+1])}}return p};
g.S_.a15=function(W,q,X){var k=g.b.Hb(W),B=g.S_.aDd(W,q);g.S_.adK(W,B);for(var U=0;U<300;U++){var l=!1,K=!1;
l=g.S_.awN(W,B,X,5);if(l)K=g.S_.adK(W,B);var D=g.S_.a43(W,B);if(!l&&!K&&D<1e-4){break}}return g.S_.aAa(B)};
g.f9={};g.f9.a4B=function(W){var q=W.Ko,X=W.vx,k=W.On,B=W.TQ,U=W.xb,l=W.Tc,K=W.VI,D=g.Ez.ME,F,E,o=0;
function m(a1){var dF=new Array(a1);for(var N=0;N<a1;N++)dF[N]=0;return dF}var Y=X.length>>>1,a=m(q.nt*2),p=m(q.nt),M=m(q.nt),x=Date.now();
for(var N=0;N<W.ws.length;N++){var R=q.ab$+N,y=q.Ah*(l[N*2]+K[N*2]),s=q.Ah*(l[N*2+1]+K[N*2+1]);a[R*2]=y;
a[R*2+1]=s;p[R]=y;M[R]=s}q.alL.nc(B,q.atK.ME(a),.01,F,E);for(var N=0;N<q.aG5.DP.length;N++){var G=q.aG5.DP[N],d=G[3][3][0],u=G[0],r=G[3][0],v=G[1]?G[1][3][0]:r;
if(G[1]&&d>u)continue;var c=X[d*2],V=X[d*2+1],j=X[u*2],Q=X[u*2+1],H=B[d*2],T=B[d*2+1],e=B[u*2],z=B[u*2+1],J=B[r*2],P=B[r*2+1],L=B[v*2],A=B[v*2+1],h=[H,T,e,z,J,P];
if(G[1])h.push(L,A);var C=D(q.aBR[o],h),w=C[0],f=C[1],O=1/Math.sqrt(w*w+f*f);w*=O;f*=O;var n=j-c,$=Q-V;
p[o]=w*n+f*$;M[o]=-f*n+w*$;o++}var d9=new Array(Y),i=new Array(Y);for(var N=0;N<Y;N++){d9[N]=U[N*2];
i[N]=U[N*2+1]}q.amf.nc(d9,q.ace.ME(p),.5);q.amf.nc(i,q.ace.ME(M),.5);for(var N=0;N<Y;N++){U[N*2]=d9[N];
U[N*2+1]=i[N]}};g.f9.a5$=function(W){var q=W.vx,X=W.On,k=W.ws,B=g.Ez.multiply,U=Date.now(),l=g.S_.aDd(q,X),K=q.length>>>1,D=0,x=0,f=1e3;
for(var N=0;N<l.DP.length;N++)D+=l.DP[N][1]?.5:1;var m=D+k.length,Y=[],a=new g.tg(m*2,K*2),p=new g.tg(m,K),M=[[[-1,0,1,0,0,0],[0,-1,0,1,0,0]],[[-1,0,1,0,0,0,0,0],[0,-1,0,1,0,0,0,0]]],R=[],y=[];
for(var N=0;N<l.DP.length;N++){var s=l.DP[N],F=s[3][3][0],E=s[0],o=s[3][0],G=s[1]?s[1][3][0]:o;if(s[1]&&F>E)continue;
var d=q[F*2],u=q[F*2+1],r=q[E*2],v=q[E*2+1],c=q[o*2],V=q[o*2+1],j=q[G*2],Q=q[G*2+1],H=[[d,u,1,0],[u,-d,0,1],[r,v,1,0],[v,-r,0,1],[c,V,1,0],[V,-c,0,1]];
if(s[1])H.push([j,Q,1,0],[Q,-j,0,1]);var T=g.Ez.Pj(H),e=B(linear.invert(B(T,H)),T);e.pop();e.pop();Y.push(e);
var z=r-d,J=v-u,P=M[s[1]?1:0];P=g.Ez.SR(P,B([[z,J],[J,-z]],e));var L=[F*2,F*2+1,E*2,E*2+1,o*2,o*2+1,G*2,G*2+1],A=s[1]?8:6,h=[];
for(var C=0;C<A;C++)h.push([L[C],P[0][C],P[1][C]]);h.sort(function(dF,t){return dF[0]-t[0]});for(var w=0;
w<2;w++){for(var C=0;C<A;C++){R[C]=h[C][0];y[C]=h[C][1+w]}a.qG(y,R,A)}if(F<E)p.qG([-1,1],[F,E],2);else p.qG([1,-1],[E,F],2);
x++}for(var N=0;N<k.length;N++){var O=k[N];a.qG([f],[O*2],1);a.qG([f],[O*2+1],1);p.qG([f],[O],1)}var n=a.Pj(),$=n.zN(n),d9=p.Pj(),i=d9.zN(d9);
return{ab$:D,nt:m,atK:n,alL:$,ace:d9,amf:i,aG5:l,aBR:Y,Ah:f}};g.f9.aCa=function(W,q,X,k,B){var U=new dU(0,0,q,X),l=g.j(U.C());
g.u6(W,l,3);g.round(l,70);var K=g.Iu(l,U),D=[.1,.065,.035][k]*Math.max(K.r,K.$),m=B+1,Y=q+m*2,a=X+m*2,p=new dU(-m,-m,Y,a),M=g.j(p.C());
g.Z_(l,U,M,p);var x=M.slice(0);for(var R=0;R<B;R++){for(var y=1;y<a-1;y++){for(var s=1;s<Y-1;s++){var N=y*Y+s;
x[N]=M[N-Y]|M[N-1]|M[N]|M[N+1]|M[N+Y]}}var F=x;x=M;M=F}var E=f3.a4(M,Y,a,Math.round(K.C()*5e-4)),o=f3.Yb(E),G=new ka(1,0,0,1,-m,-m);
for(var N=0;N<o.length;N++){var d=o[N];g.b.M(d.path.n,G,d.path.n);d.vx=g.f9.afO(d.path);d.On=g.b.aoM(d.vx);
d.On=g.S_.a15(d.vx,d.On,D)}return o};g.f9.afO=function(W){var q=g.b.hX(W);q=g.b.ahN(q,1);var X=[],k=q.length;
for(var N=0;N<k;N+=2){var B=q.pop(),U=q.pop();X.push(U,B)}return X};g.f9.adE=function(W,q,X,k){function B(r,v,c,V,j){var Q=j[r*2]-j[v*2],H=j[r*2+1]-j[v*2+1],T=Math.sqrt(Q*Q+H*H);
if(c[r].indexOf(v)==-1){c[r].push(v);V[r].push(T)}if(c[v].indexOf(r)==-1){c[v].push(r);V[v].push(T)}}var U=W.length>>>1,l=new Array(U);
if(X.length==0){l.fill(0);return l}var K=new Array(U),D=new Array(U);for(var N=0;N<U;N++){K[N]=[];D[N]=[]}for(var N=0;
N<q.length;N+=3){B(q[N],q[N+1],K,D,W);B(q[N],q[N+2],K,D,W);B(q[N+1],q[N+2],K,D,W)}var m=new Float64Array(U*2),Y=new Uint32Array(U*2);
m.fill(1e9);var a=new Uint8Array(U);for(var p=0;p<X.length;p++){a.fill(0);var M=["---",[0,X[p]]];while(M.length!=1){var x=g.anz.Lo(M),R=x[0],y=x[1];
if(a[y]==1)continue;var s=y<<1;if(R<m[s]){m[s+1]=m[s];Y[s+1]=Y[s];m[s]=R;Y[s]=p}else if(R<m[s+1]){m[s+1]=R;
Y[s+1]=p}a[y]=1;var F=K[y],E=D[y];for(var N=0;N<F.length;N++){var o=F[N];if(a[o]!=1){g.anz.eC(M,[R+E[N],o])}}}}for(var N=0;
N<U;N++){var s=N<<1,G=m[s],d=m[s+1],u=1/(G+d);l[N]=(1-G*u)*k[Y[s]]+(1-d*u)*k[Y[s+1]]}return l};g.f9.a9x=function(W){var q={zb:[],n:[]},X=[W];
while(X.length!=0){var k=X.pop(),B=k.IH;if(k.a3U instanceof Array||k.aIJ instanceof Array){q.zb.push("M","L","L","L","Z");
q.n.push(B[0],B[1],B[2],B[1],B[2],B[3],B[0],B[3])}else X.push(k.a3U,k.aIJ)}return q};g.f9.wM=function(W,q,X,k,B,U,l,K,D,m,Y){var a=Math.round(m.length/3),p=new Array(a);
for(var N=0;N<a;N++)p[N]=N;if(D)p.sort(function(x,R){return D[m[x*3]]-D[m[R*3]]});for(var N=0;N<a;N++){var M=p[N]*3;
g.f9.anD(m[M]*2,m[M+1]*2,m[M+2]*2,l,K,W,q,X,k,B,U,Y)}};g.f9.anD=function(W,q,X,k,B,U,l,K,D,m,Y,a){var p=[W,q,X,1.2,1.2,1.2,0],M=[0,0,0,0],x=B[W],R=B[W+1],y=B[q],s=B[q+1],F=B[X],E=B[X+1],o=y-x,G=s-R,d=F-x,u=E-R,r=o*u-d*G+1e-9,v=1/r,c=Math.max(0,Math.min(l-1,k[W])),V=Math.max(0,Math.min(l-1,k[q])),j=Math.max(0,Math.min(l-1,k[X])),Q=Math.max(0,Math.min(K-1,k[W+1])),H=Math.max(0,Math.min(K-1,k[q+1])),T=Math.max(0,Math.min(K-1,k[X+1])),e=x<y?x<F?W:X:y<F?q:X,z=B[e+1]+.5,J=Math.max(0,Math.floor(Math.min(x,y,F))),P=Math.min(m,Math.ceil(Math.max(x,y,F))),L=Math.max(0,Math.floor(Math.min(R,s,E))),A=Math.min(Y,Math.ceil(Math.max(R,s,E))),h=1e9;
for(var C=L;C<A;C++){var w=C>z&&h!=1e9?h:J;h=1e9;for(var f=w;f<P;f++){var O=f+.5-x,n=C+.5-R,$=(O*u-d*n)*v,d9=(o*n-O*G)*v;
if($>=0&&d9>=0&&$+d9<=1){if(h==1e9)h=f;var i=1-$-d9,t=c*i+V*$+j*d9,im=Q*i+H*$+T*d9;if(a){var bc=Math.floor(.5+im)*l+Math.floor(.5+t),at=bc<<2,l9=C*m+f<<2;
D[l9]=U[at];D[l9+1]=U[at+1];D[l9+2]=U[at+2];D[l9+3]=U[at+3]}else{g.F.aDA(t,im,U,l,K,M);g.f9.avI(M,D,C*m+f<<2)}}else if(h!=1e9)break}}};
g.f9.avI=function(W,q,X){if(W[3]>250){q[X]=~~(.5+W[0]);q[X+1]=~~(.5+W[1]);q[X+2]=~~(.5+W[2]);q[X+3]=~~(.5+W[3])}else{var k=q[X],B=q[X+1],U=q[X+2],l=q[X+3],K=1-W[3]*(1/255);
q[X]=~~(.5+W[0]+k*K);q[X+1]=~~(.5+W[1]+B*K);q[X+2]=~~(.5+W[2]+U*K);q[X+3]=~~(.5+W[3]+l*K)}};g.f9.awS=function(){var W=function(X,k,B,U){var l=U[0],K=U[1],D=U[2],m=X[l+0],Y=X[l+1],a=X[K+0],p=X[K+1],M=X[D+0],x=X[D+1],R=a-m,y=p-Y,s=M-m,F=x-Y,E=k-m,o=B-Y,G=R*F-s*y,d=1/(G+1e-9),u=(E*F-s*o)*d,r=(R*o-E*y)*d;
if(u>=0&&r>=0&&u+r<=1){U[3]=1-u-r;U[4]=u;U[5]=r;return 1}return 0},q=function(X,k,B,U){var l=[0,0,0,0,0,0];
for(var N=0;N<k.length;N+=3){l[0]=k[N]*2;l[1]=k[N+1]*2;l[2]=k[N+2]*2;if(W(X,B,U,l)==1)return!0}return!1};
return{alx:W,aDq:q}}();g.oC={};g.oC.awa=function(W,q,X,k){W=W.slice(0);if(k)for(var N=0;N<W.length;N+=4)W[N+3]=(W[N+3]&254)+(k[N>>>2]<128?0:1);
else for(var N=0;N<W.length;N+=4)W[N+3]=W[N+3]&254;var B=g.j(q*X*4),U=!1;g.F.G4(W,q,X,B,[X,q,0,1,0,1,0,0]);
return[g.oC.oS(W,q,X,U),g.oC.oS(B,X,q,U)]};g.oC.M=function(W,q){var X=!1,k=W[0],B=W[1],U=k[1],l=k[2],K=k[3],D=q.r,m=q.$;
if(l==D&&K==m)U=U.slice(0);else if(K!=m){var Y=g.j(l*m*4);g.oC.ia(B,m,Y,X);U=g.j(l*m*4);g.F.G4(Y,m,l,U,[l,m,0,1,0,1,0,0]);
if(l!=D){k=g.oC.oS(U,l,m,X);U=g.j(D*m*4);g.oC.ia(k,D,U,X)}}else if(l!=D){U=g.j(D*K*4);g.oC.ia(k,D,U,X)}for(var N=0;
N<U.length;N+=4)if(U[N+3]==254)U[N+3]=255;return U};g.oC.oS=function(W,q,X,k){var B=Date.now(),U=new Uint16Array(q*X),D=1;
g.oC.aAl(W,q,X,U);for(var l=0;l<X;l++)for(var K=0;K<q;K++){var N=l*q+K;U[N]+=Math.floor((65535-U[N])*(W[N*4+3]&1))}var m=Math.ceil(q/D),Y=new Uint32Array(D),a=new Uint32Array(D),m=Math.floor(q/D);
for(var p=0;p<D;p++)a[p]=p<D-1?m:q-(D-1)*m;for(var l=0;l<X;l++){var N=l*q;for(var p=0;p<D;p++){var m=a[p];
for(var K=0;K<m;K++)Y[p]+=U[N+K];N+=m}}if(k){console.log(Date.now()-B,"cost");B=Date.now()}var M=new Uint32Array(q),x=new Uint32Array(q),R=new Uint32Array(q*X);
for(var K=0;K<q;K++){R[(X-1)*q+K]=U[(X-1)*q+K]}for(var l=X-2;l>=0;l--){var y=l*q;for(var p=0;p<D;p++){var m=a[p];
R[y]=U[y]+Math.min(R[y+q],R[y+q+1]);for(var K=1;K<m-1;K++){var N=y+K;R[N]=U[N]+Math.min(R[N+q-1],Math.min(R[N+q],R[N+q+1]))}y+=m-1;
R[y]=U[y]+Math.min(R[y+q-1],R[y+q]);y++}}if(k){console.log(Date.now()-B,"Building M");B=Date.now()}function s(V,j){return V<j?V:j}function F(N,V){var j=x[N],Q=R[V],H=~~(j*Q*1e-4);
return H}var E=new Uint8Array(q*X),o=new Uint32Array(q);for(var N=0;N<q;N++){M[N]=N;x[N]=U[N]}for(var l=1;
l<X;l++){var G=0,y=l*q;for(var p=0;p<D;p++){var m=a[p],N=y;o[G]=F(G,N);var d=o[G]+F(G+1,N+1),u=F(G,N+1)+F(G+1,N);
o[G+1]=s(d,u);for(var K=2;K<m;K++){var N=y+K,r=o[G+K-1]+F(G+K-1,N-1),v=o[G+K-2]+F(G+K-1,N-2)+F(G+K-2,N-1);
o[G+K]=s(r,v)}var K=m-1;while(K>=2){var N=y+K,r=o[G+K-1]+F(G+K-1,N-1),v=o[G+K-2]+F(G+K-1,N-2)+F(G+K-2,N-1);
if(o[G+K]==r){E[N-q]=1;K-=1}else{E[N-q]=0;E[N-q-1]=2;K-=2}}var N=y;if(K==0){E[N-q]=1}else{if(o[G+1]==d){E[N+1-q]=1;
E[N-q]=1}else{E[N+1-q]=0;E[N-q]=2}}y+=m;G+=m}g.oC.adD(l,q,E,U,M,x,!0,B)}if(k){console.log(Date.now()-B,"Matching");
B=Date.now()}var c=U;return[UZIP.adler(W,0,W.length),W,q,X,D,a,Y,M,x,E,c]};g.oC.ia=function(W,q,X,k){var B=W.slice(0),U=B.shift(),l=B.shift(),K=B.shift(),D=B.shift(),m=B.shift(),Y=B.shift(),a=B.shift(),p=B.shift(),M=B.shift().slice(0),x=B.shift(),R=B.shift(),y=Date.now(),s=Math.abs(K-q),F=Math.floor(s/m),E=new Uint32Array(m),G=0,d=1e9,r=0,v=0,c=0;
for(var o=0;o<m;o++)E[o]=o<m-1?F:s-(m-1)*F;R.fill(0);for(var u=0;u<K;u++){G=Math.max(G,M[u]);d=Math.min(d,M[u])}for(var o=0;
o<m;o++){var V=Y[o],F=E[o];for(var j=0;j<F;j++){var Q=0,H=1e9;for(var u=0;u<V;u++)if(M[v+u]<H){H=M[v+u];
Q=v+u}if(q<K)M[Q]=1e9;else M[Q]*=1.2;if(c<K/3)r+=H;var T=p[Q],e=R[T],z=e<65280?65280:e+1;if(z<65280)throw"e";
for(var J=0;J<D;J++){var N=J*K+T;R[N]=z;T+=x[N]-1}c++}v+=V}if(k){console.log(Date.now()-y,"Removing best seams");
y=Date.now()}function P(N,A){var h=N<<2,C=A<<2;X[h]=l[C];X[h+1]=l[C+1];X[h+2]=l[C+2];X[h+3]=l[C+3]}for(var J=0;
J<D;J++){var L=0,N=J*K;for(var u=0;u<q;u++,L++){if(q<K){while(R[N+L]==65280)L++;P(J*q+u,J*K+L)}else{P(J*q+u,J*K+L);
while(R[N+L]>=65280){R[N+L]--;u++;P(J*q+u,J*K+L)}}}}if(k){console.log(Date.now()-y,"Shifting image pixels");
y=Date.now()}};g.oC.adD=function(W,q,X,k,B,U){var l=0,N=W*q;while(l<q){if(X[N-q]==1){U[l]=U[l]+k[N];
l++;N++}else{var K=B[l];B[l]=B[l+1];B[l+1]=K;var D=U[l];U[l]=U[l+1]+k[N];U[l+1]=D+k[N+1];l+=2;N+=2}}};
g.oC.aAl=function(W,q,X,k){function B(W,N,D){var a=N<<2,p=D<<2,M=W[a]-W[p],x=W[a+1]-W[p+1],R=W[a+2]-W[p+2];
return Math.abs(M)+Math.abs(x)+Math.abs(R)}for(var U=1;U<q;U++){var l=B(W,U,U-1);k[U-1]+=l;k[U]+=l}for(var K=1;
K<X;K++){var D=K*q,l=B(W,D,D-q);k[D]+=l;k[D-q]+=l;for(var U=1;U<q;U++){var N=K*q+U,m=B(W,N,N-1),Y=B(W,N,N-q);
k[N-q]+=Y;k[N-1]+=m;k[N]+=Y+m}}for(var K=0;K<X;K++){k[K*q]*=2;k[K*q+q-1]*=2}for(var N=0;N<k.length;N++)if(k[N]==0)k[N]=1};
g.Q3=function(){function W(){return 1953e6+Math.floor(Math.random()*999999)}function q(H,T){var e=T[0]-H[0],z=T[1]-H[1];
return e*e+z*z}function X(H,T,e,z,J,P,L,A){var h=e-H,C=z-T,w=g.b.qx(H,T,h,C,J,P,L-J,A-P),f=[H+w*h,T+w*C],O=w>0?[[[H,T],f,!1,0,1],[[J,P],f,!1,0,5]]:[[[e,z],f,!1,0,1],[[L,A],f,!1,0,5]];
return O}function k(H,T){var e=X(H[0],H[1],H[2],H[3],H[6],H[7],H[4],H[5]),z=X(H[0],H[1],H[6],H[7],H[2],H[3],H[4],H[5]),J=[e,z],P=[e[0][1],z[0][1]];
for(var N=0;N<2;N++){var L=P[1-N],A=J[N];if(q(A[0][0],L)<q(A[1][0],L)){var h=A[0];A[0]=A[1];A[1]=h}}var C=[W(),0,-1,0,[0,0],e[0],e[1],z[0],z[1]],w=G(C,T),f=w[1][0];
C[3]=f;C[4]=w[0][f];C[5][3]=C[6][3]=w[0].indexOf(C[5][1]);C[7][3]=C[8][3]=w[0].indexOf(C[7][1]);if((C[6][3]+1)%3!=C[7][3]){var h=C[5];
C[5]=C[7];C[7]=h;var h=C[6];C[6]=C[8];C[8]=h}for(var N=0;N<4;N++)C[5+N][4]=[1,5,7,3][N];return C}function B(H){var T=H[5],e=H[8],z=H[6],J=T[0],P=e[0],L=z[0],A=T[1],h=e[1],C=P[0],w=P[1],f=h[0]-C,O=h[1]-w,n=g.b.qx(C,w,f,O,L[0],L[1],A[0]-L[0],A[1]-L[1]);
return[J[0],J[1],C,w,C+n*f,w+n*O,L[0],L[1]]}function U(H,T){return H[0]==T[0]&&H[1]==T[1]}function l(H){return{1:0,5:1,7:2,3:3}[H]}function K(H,T,e){var z=T[5+l(H)],J=z[1],P=z[0][0]-J[0],L=z[0][1]-J[1],A=Math.sqrt(P*P+L*L);
P/=A;L/=A;for(var h=0;h<e.length;h++){var C=e[h];if(C[0]!=T[1]&&C[1]!=T[0])continue;for(var N=0;N<4;
N++){var w=C[5+N],f=w[0];if(!U(J,w[1]))continue;var O=f[0]-J[0],n=f[1]-J[1];A=Math.sqrt(O*O+n*n);O/=A;
n/=A;var $=O*P+n*L;if(Math.abs($-1)<1e-7)return!0}}return!1}function D(H,T){g.F.M(H,T);return T}function m(H,T){var e=[];
for(var z=0;z<H.length;z++){var J=H[z],P=J[1];for(var L=0;L<P.length;L++){if(T&&T[z].indexOf(L)==-1)continue;
var A=P[L],h=[],C=g.F.b6(B(A),new dU(0,0,1,1));for(var N=1;N<=7;N+=2){h[N]=K(N,A,P)}if(!h[1]){if(!h[7])e.push([D(C,[0,0]),z,L,0]);
e.push([D(C,[.5,0]),z,L,1])}if(!h[3]){if(!h[1])e.push([D(C,[1,0]),z,L,2]);e.push([D(C,[1,.5]),z,L,3])}if(!h[5]){if(!h[3])e.push([D(C,[1,1]),z,L,4]);
e.push([D(C,[.5,1]),z,L,5])}if(!h[7]){if(!h[5])e.push([D(C,[0,1]),z,L,6]);e.push([D(C,[0,.5]),z,L,7])}}}return e}function Y(H){var T=H.length-2,e=0;
for(var N=0;N<T;N+=2)e+=(H[N+2]-H[N])*(H[N+1]+H[N+3]);e+=(H[0]-H[T])*(H[T+1]+H[1]);return-e*.5}function a(H,T,e,z){}function p(H,N){var T=H[N+2&7]-H[N&7],e=H[N+3&7]-H[N+1&7],z=1/Math.sqrt(T*T+e*e);
return[T*z,e*z]}function M(H){var T=H[2];H[2]=H[6];H[6]=T;var T=H[3];H[3]=H[7];H[7]=T}function x(H,T,e,z){if(z==null)z=0;
var J=T[1],P=B(T),n=null,$,t,im,d5,aR,O,l8;if(J==0){if(Y(P)<0)M(P);var L=6,A=P[7]+P[1];for(var N=0;N<6;
N+=2){var h=P[N+1]+P[N+3];if(h<A){A=h;L=N}}P=P.slice(L).concat(P.slice(0,L));var C=_.wW.Ba(P,e[0],e[1]),w=Math.sqrt(q(P,P.slice(2))),f=Math.sqrt(q(P.slice(4),P.slice(6))),O=(w+f)*.5;
return[P,new dU(0,0,O,O/C)]}for(var N=0;N<H.length&&n==null;N++){$=H[N][1];for(var d9=0;d9<$.length&&n==null;
d9++)if($[d9][0]==J)n=$[d9]}var i=x(H,n,e,z+1),dF=i[0];i=i[1];for(var N=0;N<8;N+=2){var bc=dF[N&7],at=dF[N+1&7],l9=dF[N+2&7],fF=dF[N+3&7];
for(var d9=0;d9<8;d9+=2){var g$=P[d9],fR=P[d9+1],cr=P[d9+2&7],eE=P[d9+3&7],bQ=Math.abs(g.b.Au(bc,at,l9,fF,g$,fR))+Math.abs(g.b.Au(bc,at,l9,fF,cr,eE));
if(bQ<=30){t=d9;im=N}}}var hT=p(dF,im),df=p(P,t),eV=hT[0]-df[0],gU=hT[1]-df[1],i8=eV*eV+gU*gU;if(i8<.001){M(P);
t={0:6,2:4,4:2,6:0}[t]}while(t!=(im+4&7)){P.unshift(P.pop());t=t+1&7}var C=_.wW.Ba(P,e[0],e[1]),bv=g.F.b6(dF,i);
bv=g.F.i5(bv);var fE=[P[t],P[t+1],P[t+2&7],P[t+3&7]];g.F.M(bv,fE);var au=g.b.Hb(fE);if(im==0||im==4){O=au.r;
l8=O/C;d5=au.x;aR=au.y+(im==0?-l8:0)}else{l8=au.$;O=l8*C;aR=au.y;d5=au.x+(im==6?-O:0)}return[P,new dU(d5,aR,O,l8)]}function R(H,T){function e(f,O,n,$){var d9=D(f,[O,n]);
d9.push($);return d9}var z=[];for(var J=0;J<H.length;J++){var P=H[J],L=P[1];for(var A=0;A<L.length;A++){var h=L[A],C=x(H,h,T),w=C[0],f=g.F.b6(w,new dU(0,0,1,1));
z.push(e(f,.5,0,1));z.push(e(f,1,.5,3));z.push(e(f,.5,1,5));z.push(e(f,0,.5,7));z.push(e(f,.5,.5,[C?(C[1].r/C[1].$).toFixed(2):""].join(", ")))}}return z}function y(H,T,e,z){var J=[T],P=[T];
while(!0){var L=[];for(var N=0;N<H.length;N++){var A=H[N],h=!1;for(var C=0;C<J.length;C++){if(A[1]==H[J[C]][0]||A[0]==H[J[C]][1])L.push(N)}}var w=J.length;
for(var N=0;N<L.length;N++){var f=L[N],A=H[f];if(P.indexOf(f)!=-1)continue;P.push(f);var O=x([[10,H]],A,z);
if(O[1].ty(e))J.push(f)}if(w==J.length)break}return J}function s(H,T,e){var z=e[0],J=e[1],P=T.x-H[0],L=T.y-H[1],A=g.b.qx(H[0],H[1],P,L,J[0],J[1],z[0]-J[0],z[1]-J[1]);
return[H[0]+A*P,H[1]+A*L]}function F(H,T,e){H=g.N(H);var z=H[T[1]][1][T[2]],J=T[3]>=8,P=T[3]&7;if((P&1)==0)return H;
var L=l(P);if(P==1||P==7){var A=z[5+L],h=z[5+2-L],C=z[5+(P==1?3:1)],w=z[5+(P==1?1:3)],f=A[1],O=s(f,e,h);
if(!J&&q(O,h[1])<q(w[0],h[1]))return H;A[0]=h[0]=O;C[0]=s(f,e,C)}else{var C=z[5+L],f=C[1],A=z[5+(P==3?0:2)],O=s(f,e,A);
if(!J&&q(O,A[1])>q(A[0],A[1]))return H;if(Math.sign(A[1][0]-A[0][0])!=Math.sign(A[1][0]-O[0]))return H;
C[0]=O}return H}function E(H,T,e){var z=T[0]-H[0],J=T[1]-H[1],P=g.b.qx(e[0],e[1],-J,z,H[0],H[1],z,J);
return[e[0]-J*P,e[1]+z*P]}function o(H,T,e){var z=e[0],J=e[1],D=E(H,T,e),P=D[0],L=D[1],A=E(H,e,T),h=g.b.qx(P,L,z-P,J-L,T[0],T[1],A[0]-T[0],A[1]-T[1]);
return[P+(z-P)*h,L+(J-L)*h]}function G(H,T){var e=H[5][1],z=H[7][1],J=o(e,z,T),P=[e,z,J];P.sort(function(h,C){return h[0]-C[0]});
if(Y([P[0][0],P[0][1],P[1][0],P[1][1],P[2][0],P[2][1]])<0){var L=P[1];P[1]=P[2];P[2]=L}var A=[P.indexOf(e),P.indexOf(z),P.indexOf(J)];
return[P,A]}function d(H,T,e){H=g.N(H);var z=T[1],J=H[z][1][T[2]],P=T[3];if((P&1)!=1)return H;var L=G(J,e),A=L[1][2],h=L[0][A],C=g.N(J);
H[z][1].push(C);C[0]=W();C[1]=J[0];C[2]=-10+P;C[3]=A;C[4]=h;if(P==1||P==5){C[7][3]=C[8][3]=A;C[7][1]=C[8][1]=h;
if(P==5){C[5][0]=C[7][0]=J[6][0];C[8][0]=B(J).slice(4,6)}}else{C[5][3]=C[6][3]=A;C[5][1]=C[6][1]=h;if(P==3){C[5][0]=C[7][0]=J[8][0];
C[6][0]=B(J).slice(4,6)}}return H}function u(H,T,e){H=g.N(H);var z=T[1],J=H[z][1][T[2]],P=J[2]+10,L=P+4&7,A=P==1||P==5,h=J[5+l(A?7:1)][1],C=J[5+l(L)][0],w=J[5+l(P)][0];
J[2]=(A?90:0)+(q(C,h)<q(w,h)?180:0);var f=k(B(J),e);for(var N=5;N<9;N++)J[N]=f[N];return H}function r(H,T,e){var a1=H.length>>1,z,J=H[2*a1-3]-e,P=H[2*a1-2]-T,L=H[2*a1-1]-e,A=!1,h=0;
for(var N=0;N<a1;N++){z=P;J=L;P=H[2*N]-T;L=H[2*N+1]-e;if(J==L)continue;A=L>J}for(var N=0;N<a1;N++){z=P;
J=L;P=H[2*N]-T;L=H[2*N+1]-e;if(J<0&&L<0)continue;if(J>0&&L>0)continue;if(z<0&&P<0)continue;if(J==L&&Math.min(z,P)<=0)return!0;
if(J==L)continue;var C=z+(P-z)*-J/(L-J);if(C==0)return!0;if(C>0)h++;if(J==0&&A&&L>J)h--;if(J==0&&!A&&L<J)h--;
A=L>J}return(h&1)==1}function v(H,T,e,z,J){var P=null;for(var L=0;L<H.length;L++){var A=H[L][1];for(var h=0;
h<A.length;h++){var C=B(A[h]);if(r(C,T,e)||J&&J[0]==L&&J[1]==h&&P==null){P=[L,h];if(z){var w=x(H,A[h],z),f=g.F.b6(w[0],w[1]),O=[T,e];
f=g.F.i5(f);g.F.M(f,O);P.push(O)}}}}return P}function c(H,T){for(var e=0;e<H.length;e++){var z=H[e][1],J=T[e];
if(J.length==0)continue;var P=V(z,J);for(var L=0;L<z.length;L++){if(P.indexOf(z[L][0])!=-1){z.splice(L,1);
L--}}}for(var e=0;e<H.length;e++)if(H[e][1].length==0){H.splice(e,1);e--}return H}function V(H,T){var e=[];
for(var N=0;N<10;N++)for(var z=0;z<H.length;z++){var J=H[z];if(T.indexOf(z)!=-1||e.indexOf(J[1])!=-1)if(e.indexOf(J[0])==-1)e.push(J[0])}return e}function j(H){var T=Z.zD(H,0,H.length),e=T.split("\n").slice(1);
function z(){return parseFloat(e.shift())}function J(){var g$=[z(),z()];P(1);return g$}function P(a1){for(var N=0;
N<a1;N++)e.shift()}var L=[],A=z();for(var h=0;h<A;h++){var C=z(),w=z(),f=[];L.push([C,f]);for(var O=0;
O<w;O++){var n=z(),$=z(),d9=z(),i=z(),dF=J(),t=[n,$,d9,i,dF];f.push(t);for(var N=0;N<4;N++){var im=J(),bc=J(),at=z()==1,l9=z(),fF=z();
t.push([im,bc,at,l9,fF])}}}return L}function Q(H){function T(w){e.push(w[0],w[1],"")}var e=["tNaF203"];
e.push(H.length);for(var z=0;z<H.length;z++){e.push(H[z][0]);var J=H[z][1];e.push(J.length);for(var P=0;
P<J.length;P++){var L=J[P];e.push(L[0],L[1],L[2],L[3]);T(L[4]);for(var N=0;N<4;N++){var A=L[5+N];T(A[0]);
T(A[1]);e.push(A[2]?1:0,A[3],A[4])}}}var h=e.join("\n"),C=new Uint8Array(h.length);Z.o3(C,0,h);return C}return{WZ:j,FN:Q,acW:B,aeG:k,LP:m,aaN:F,cI:R,aGH:function(H,T){return T&&(T[3]&1)==0&&H[T[1]][1].length==1},bV:function(H,T){return T&&(T[3]&1)==1},Zv:x,aqY:d,an8:u,a7J:c,M4:V,Wc:v,sW:y}}();
g.aGn=function(){var W=0,q=0,k=15,U=256;function X(Y,a,p,M,x,R){var y=(x-1)*a,s=R*a;return Y[s+M]-Y[s+p-1]-Y[y+M]+Y[y+p-1]}var B=Math.round(k/8),l=[];
function K(Y,a){for(var p=0;p<a.length;p++){var M=a[p],x=0,R=0,y=Y[M.A6],s=y.JP,F=y.Ah,E=y.QB;for(var o=-k;
o<=k;o++)for(var G=-k;G<=k;G++){var d=G+M.azw,u=o+M.aCl;if(G*G+o*o>k*k||d<0||u<0||d>=F||u>=F)continue;
var r=s[u*F+d];x+=G*r;R+=o*r}M.GB=Math.atan2(R,x)}}function D(Y,a,p,M,x){var R=~~(Y+.5),y=~~(a+.5);return X(p,M,R-B,R+B,y-B,y+B)}function m(Y,a,p,M,x){W=M;
q=x;if(l.length==0){var R=new g.v.rO(16200817),E=8,o=0;function y(dF){var c=dF[0]-dF[2],V=dF[1]-dF[3];
return c*c+V*V}function s(){var dF=0,t=0;while(dF===0)dF=R.get();while(t===0)t=R.get();return Math.sqrt(-2*Math.log(dF))*Math.cos(2*Math.PI*t)}var F=s,G=[];
while(o!=U){var d=Math.max(-k,Math.min(k,F()*E)),u=Math.max(-k,Math.min(k,F()*E)),r=Math.max(-k,Math.min(k,F()*E)),v=Math.max(-k,Math.min(k,F()*E)),c=d-r,V=u-v,j=Math.sqrt(c*c+V*V);
if(j<3||j>12)continue;l.push(d,u,r,v);o++}}var Q=20;for(var H=0;H<a.length;H++){var T=a[H],e=Y[T.A6],z=e.LW,p=e.JP,M=e.Ah,x=e.QB,J=T.azw,P=T.aCl,L=T.GB,A=Math.cos(L),h=Math.sin(L),C=new Uint8Array(U>>>3);
T.Og=C;for(var N=0;N<U;N++){var w=N*4,d=l[w+0],u=l[w+1],r=l[w+2],v=l[w+3],f=A*d-h*u,O=h*d+A*u,n=A*r-h*v,$=h*r+A*v,d9=D(J+f,P+O,z,M,x),i=D(J+n,P+$,z,M,x);
C[N>>>3]|=(d9<i?0:1)<<(N&7)}}}return{ajT:K,al0:m}}();g.aGQ=function(){function W(q,X){var k=[[9]],B=Date.now(),U=[];
for(var l=0;l<q.length;l++){var K=q[l],D=K.LW,m=K.Ah,Y=K.QB,M=9,E=1,T=24;if(D==null)continue;var a=new Float32Array(m*Y),p=new Uint8Array(m*Y),x=M>>>1,R=x>>>1,y=Math.round(M/3);
if(y!=M/3)throw"e";var s=1/(M*M),F=1.2*(M/9);for(var o=x+1;o<Y-x;o+=E)for(var G=x+1;G<m-x;G+=E){var d=g.Bm(D,m,G-R,G+R,o-x,o+x)-3*g.Bm(D,m,G-R,G+R,o-x+y,o+x-y),u=g.Bm(D,m,G-x,G+x,o-R,o+R)-3*g.Bm(D,m,G-x+y,G+x-y,o-R,o+R),r=G-x+1,v=G+x-1,c=o-x+1,V=o+x-1,j=g.Bm(D,m,r,G-1,c,o-1)+g.Bm(D,m,G+1,v,o+1,V)-g.Bm(D,m,G+1,v,c,o-1)-g.Bm(D,m,r,G-1,o+1,V),Q=(u*d-.9*j*(.9*j))*(s*s);
a[o*m+G]=Math.abs(Q);p[o*m+G]=Q<0?0:1}var H=m*E;for(var o=T;o<Y-T;o+=E)for(var G=T;G<m-T;G+=E){var N=o*m+G,e=a[N];
if(e<16)continue;if(a[N-E]>=e||a[N+E]>=e)continue;if(a[N-H-E]>=e||a[N-H]>=e||a[N-H+E]>=e)continue;if(a[N+H-E]>=e||a[N+H]>=e||a[N+H+E]>=e)continue;
U.push({x:~~(G*K.fd+.5),y:~~(o*K.fd+.5),azw:G,aCl:o,A6:l,_:e,aiG:p[N],Sp:F})}}if(X!=null){U.sort(function(w,f){return f._-w._});
U=U.slice(0,X)}return U;var z=[];for(var N=0;N<U.length;N++){var J=!0,P=U[N];for(var L=0;L<U.length;
L++){var A=U[L];if(L!=N&&A._>P._&&(A.A6==P.A6+1||A.A6==P.A6-1)){var h=P.x-A.x,C=P.y-A.y;if(h*h+C*C<5){J=!1;
break}}}if(J)z.push(P)}console.log(U.length,z.length);return z}return{aHa:W}}();g.My={};g.My.a3x=function(W){var q=W.length,X=g.My.a2r(W,!1),B=0,U=1;
throw"e";var k=[];for(var N=0;N<q;N++)k[N]=g.My.aum(X[N]);var l=W[0][1],K=g.My.match(X[B],X[U],k[U]);
console.log(K.length);var D=Math.max(Math.min(K.length,40),K.length*.54);D=Math.min(D,200);var m=K.slice(0,D),Y=g.j$.a64(X[B],X[U],m,l.r,l.$),a=g.j$.aqe(Y,[0,0,0],1),p=l.r/2,M=l.$/2,x=1/Math.max(p,M);
for(var N=0;N<1;N++){var R=m[N],y=X[B][R[0]],s=X[U][R[1]],F=g.j$.ae9(a,x*(y.x-p),x*(y.y-M),x*(s.x-p),x*(s.y-M))}var E=g.j$.a62(Y,l),o=[];
for(var N=0;N<2;N++){var G=E[N],d=[G[0][0],G[0][1],G[0][2],G[1][0],G[1][1],G[1][2],G[2][0],G[2][1]],u=_.Gz.JJ(W[N],null,d);
o.push([u.buffer,u.S])}return[g.My.ael(o[0],o[1],X[B],X[U],m,Y,E,l)]};g.My.Ve=function(W,q){var X=W.length,k=!1,B=Date.now(),U=g.My.a2r(W,!1,1e4);
if(k)console.log("Descriptors ready",Date.now()-B);B=Date.now();for(var N=0;N<X;N++){var l=W[N][1];for(var K=0;
K<U[N].length;K++){U[N][K].x+=l.x;U[N][K].y+=l.y}}if(k)console.log("shifted",Date.now()-B);B=Date.now();
var D=[];for(var N=0;N<X;N++)D[N]=g.My.aum(U[N]);if(k)console.log("trees built",Date.now()-B);B=Date.now();
var m=[];for(var N=0;N<X-1;N++)for(var K=N+1;K<X;K++){var Y=g.My.match(U[N],U[K],D[K]);if(k)console.log("Matches found",N,K,Y.length);
Y=Y.slice(0,Y.length>>>1);if(Y.length<10)continue;var a=g.My.aKm(U[N],U[K],Y,2);m.push([N,K,Y,a])}m.sort(function(v,c){return c[2].length-v[2].length});
if(k)console.log("Matches found",Date.now()-B);B=Date.now();var p=[],M=new UnionFind(X);for(var N=0;
N<m.length;N++){var x=m[N],R=M.find(x[0]),y=M.find(x[1]);if(R!=y){p.push(x);M.link(R,y)}}var s=[];for(var N=0;
N<X;N++)s[N]=[1,0,0,0,1,0,0,0];var F=[0],E=new Uint8Array(X);E[F[0]]=1;while(F.length!=0){var y=F.pop(),a=s[y],o=[];
for(var N=0;N<p.length;N++){var x=p[N],G=x[0],d=x[1];if(G==y&&E[d]==0){s[d]=g.F.xY(a,x[3]);F.push(d);
E[d]=1}if(d==y&&E[G]==0){s[G]=g.F.xY(a,g.F.i5(x[3]));F.push(G);E[G]=1}}}if(q==null){var u=[];for(var N=0;
N<X;N++)u.push([s[N][2],N]);u.sort(function(v,c){return v[0]-c[0]});q=u[u.length>>>1][1]}var r=g.F.i5(s[q]);
for(var N=0;N<X;N++)s[N]=g.F.xY(s[N],r);if(k)console.log("Transforms reordered",Date.now()-B);B=Date.now();
return s};g.My.a2r=function(W,q,X){var k=[],B=!1;for(var N=0;N<W.length;N++){var U=W[N][0],l=W[N][1],K=l.r,D=l.$,m=g.j(l.C());
g.Iv(U,m);var Y=Date.now(),a=g.My.ae$(m,l,!0);if(B)console.log("Pyramid built ---------------",Date.now()-Y);
Y=Date.now();var p=g.aGQ.aHa(a,X);if(B)console.log("SURF Generation",Date.now()-Y);Y=Date.now();if(!q){g.aGn.ajT(a,p);
if(B)console.log("ORB Orientations",Date.now()-Y);Y=Date.now();g.aGn.al0(a,p,m,K,D);if(B)console.log("ORB Descriptors",Date.now()-Y);
Y=Date.now()}k.push(p)}return k};g.My.ae$=function(W,q,X){var k=[],B=[W,q];g.HJ(B);if(X){var U=g.acI(W,q),l=U.S,K=[U.kl,l];
g.HJ(K)}for(var N=0;N<B.length;N++){var D=B[2*N],m=B[2*N+1],Y=m.r,a=m.$,p=Math.min(Y,a);if(p<30)break;
if(p<1600)k.push({JP:D,Ah:Y,QB:a,fd:1<<N,LW:g.AE(D,Y,a)});if(!X)continue;var D=K[2*N],m=K[2*N+1],Y=m.r,a=m.$,p=Math.min(Y,a);
if(p<30)break;if(p<1600)k.push({JP:D,Ah:Y,QB:a,fd:(1<<N)*3/2,LW:g.AE(D,Y,a)})}return k};g.My.aKm=function(W,q,X,k){var B=Date.now(),U,l=0,K=0,D=X.length,m=new Float64Array(2);
for(var Y=0;Y<3e3;Y++){var a=~~(Math.random()*D),p=~~(Math.random()*D),M=~~(Math.random()*D),x=~~(Math.random()*D),H=0,T=0;
if(a==p||a==M||a==x||p==M||p==x||M==x)continue;var R=X[a],y=X[p],s=X[M],F=X[x],E=W[R[0]],o=q[R[1]],G=W[y[0]],d=q[y[1]],u=W[s[0]],r=q[s[1]],v=W[F[0]],c=q[F[1]],V=[E.x,E.y,G.x,G.y,u.x,u.y,v.x,v.y],j=[o.x,o.y,d.x,d.y,r.x,r.y,c.x,c.y],Q=g.F.arz(V,j);
if(Q[0]==0&&Q[1]==0&&Q[3]==0&&Q[4]==0)continue;var e=D-l+2;for(var N=0;N<D&&N-H<e;N++){var z=W[X[N][0]],J=q[X[N][1]];
g.F.bs(J.x,J.y,Q,m);var P=m[0]-z.x,L=m[1]-z.y,A=P*P+L*L;if(A<k){H++;T+=A}}if(H>l||H==l&&T<K){U=Q;l=H;
K=T}}return U};var bi=new Uint8Array(256);for(var N=0;N<256;N++){var cB=0,a1=N;while(a1!=0){a1=a1&a1-1;
cB++}bi[N]=cB}g.My.akd=function(W,q,X){var k=0,B=W.length;for(var N=0;N<B&&k<X;N++)k+=bi[W[N]^q[N]];
return k};g.My.auM=function(W,q,X,top,k){if(k[X]==1)return;var B=g.My.akd(W.Og,q.Og,top[0]);if(B<top[0]){if(B<top[2]){top[0]=top[2];
top[1]=top[3];top[2]=B;top[3]=X}else{top[0]=B;top[1]=X}}k[X]=1};g.My.aum=function(W){var q=[],X=[],k=[[],[]],B=4;
for(var N=0;N<W.length;N++)(W[N].aiG==0?q:X).push(N);for(var U=0;U<2;U++){var l=new Array(B),K=[],D=U==0?q:X,m=D.length/256,Y=[];
for(var a=0;a<32;a++){var p=new Array(256),R=0;for(var M=0;M<256;M++)p[M]=[];for(var M=0;M<D.length;
M++){var x=D[M];p[W[x].Og[a]].push(x)}for(var M=0;M<256;M++)R+=Math.abs(p[M].length-m);Y.push([R,a,p])}Y.sort(function(y,s){return y[0]-s[0]});
var K=[],l=[];k[U]=[K,l];for(var N=0;N<B;N++){K.push(Y[N][1]);l.push(Y[N][2])}}return k};g.My.match=function(W,q,X){var k=[],B=new Uint16Array(q.length);
B.fill(65535);var U=new Uint8Array(q.length),top=new Uint32Array(4),l=[];for(var K=0;K<W.length;K++){var D=W[K],m=D.Og;
top.fill(1e6);U.fill(0);var Y=X[D.aiG];for(var a=0;a<Y[1].length;a++){var p=Y[1][a][m[Y[0][a]]];for(var M=0;
M<p.length;M++){var x=p[M];g.My.auM(D,q[x],x,top,U)}}if(top[2]<50&&top[2]<top[0]*.5){var R=B[top[3]];
if(R==65535){B[top[3]]=k.length;k.push([K,top[3],top[2]])}else if(top[2]<k[R][2]){k[R]=[K,top[3],top[2]]}}}k.sort(function(y,s){return y[2]-s[2]});
return k};g.My.aiE=function(W){var q=new dU;for(var N=0;N<W.length;N++)q=q.xw(W[N][1]);var X=g.j(q.C()*4);
for(var N=0;N<W.length;N++)g.v.HX("norm",W[N][0],W[N][1],X,q,q,1);return[X,q]};g.My.ael=function(W,q,X,k,B,U,l,K){var D=W[1].P(),m=D.P();
D.x=D.y=0;var Y=q[1].P(),a=Y.P();Y.x=Y.y=0;Y.x=D.r;var p=D.xw(Y),M=a.y-m.y,x=g.j(p.C()*4);g.YE(W[0],D,x,p);
g.YE(q[0],new dU(Y.x,Y.y+M,Y.r,Y.$),x,p);var R=document.createElement("canvas");R.width=p.r;R.height=p.$;
var y=R.getContext("2d");y.lineWidth=.5;y.putImageData(new ImageData(new Uint8ClampedArray(x.buffer),p.r,p.$),0,0);
if(U){var s=U[0],F=g.Ez.Pj(s),E=D.r,o=K.r;for(var N=0;N<B.length;N++){var G=B[N],W=X[G[0]],q=k[G[1]];
y.strokeStyle="#"+"ff0000";y.beginPath();var d=g.j$.azz(F,l[0],q,0,o),u=g.j$.azz(s,l[1],W,0,o);y.moveTo(-m.x+d[0],-m.y+d[1]);
y.lineTo(-m.x+d[2],-m.y+d[3]);y.moveTo(E-a.x+u[0],-a.y+M+u[1]);y.lineTo(E-a.x+u[2],-a.y+M+u[3]);y.stroke()}}if(B){var r=B.length;
for(var N=0;N<r;N++){var G=B[N],W=X[G[0]],q=k[G[1]];y.strokeStyle="#"+"ffff00"}}var v=new Uint8Array(y.getImageData(0,0,p.r,p.$).data.buffer);
if(!1){for(var c=0;c<2;c++){var V=c==0?X:k,j=c*D.r;for(var N=0;N<V.length;N++){var Q=V[N],H=~~Q.x,T=~~Q.y,e=(T*p.r+H+j)*4;
v[e+1]=v[e+2]=Q.a6R*60;v[e+0]=0;v[e+3]=255}}}return[v,p]};g.Rv={};g.Rv.list=[[[22,4,1],0],[[22,4,0],0],["Dual Axis",0],["Diagonal",0],[[22,5,9],0],[[12,93,5],0],[[12,93,2],0],["Parallel",0],[[19,0,1],1],["Mandala",2]];
g.Rv.aKi=["BasicPath","Radial","Mandala","RectangularTile"];g.Rv.Ea=function(W,q){var X=.28*.5,k=[{zb:["M","L"],n:[.5,.1,.5,.9]},{zb:["M","L"],n:[.1,.5,.9,.5]},{zb:["M","L","M","L"],n:[.5,.1,.5,.9,.1,.5,.9,.5]},{zb:["M","L"],n:[.1,.1,.9,.9]},{zb:["M","C","C"],n:[.5,.1,.4,.2,.4,.4,.5,.5,.6,.6,.6,.8,.5,.9]},{zb:["M","C","C","C","C"],n:[.5,.25,.5+X,.25,.75,.5-X,.75,.5,.75,.5+X,.5+X,.75,.5,.75,.5-X,.75,.25,.5+X,.25,.5,.25,.5-X,.5-X,.25,.5,.25]},null,{zb:["M","L","M","L"],n:[.35,.1,.35,.9,.65,.1,.65,.9]}],K=.4;
if(k[W])return k[W];if(W==6){var B="m418 377c30 0 16-55-28-48-78 12-76 160 54 166 135 6 204-212 34-302-135-71-303 53-296 214 8 177 170 240 236 243",U=Typr.U.SVGToPath(B);
U={n:U.crds,zb:U.cmds};g.b.M(U.n,new ka(1/840,0,0,1/840,0,0),U.n);return U}var l={zb:[],n:[]},D=2*Math.PI/q;
for(var N=0;N<q;N++){l.zb.push("M","L");l.n.push(.5,.5,.5+Math.sin(N*D)*K,.5-Math.cos(N*D)*K)}return l};
g.Rv.Np=function(W,q){var X=Math.PI*.5+Math.atan2(W.y-q.y,q.x-W.x),k=new ka;k.translate(-W.x,-W.y);k.rotate(-X);
k.scale(-1,1);k.rotate(X);k.translate(W.x,W.y);return k};g.Rv.abB=function(W,q,X){var k=[new ka];if(X==null)return k;
var B=X[0],U=X[1],l=X[2];if(B==0){var K=g.z._H(l,!0),D=g.z.wS(l,0,!0),m=l[D].length;if(K==1){if(m==2){k.push(g.Rv.Np(l[D+1].WL,l[D+2].WL))}else{var Y=g.b.sz(l);
Y=g.b.E_(Y);var a=g.b.hX(Y),p=g.b.vc(a,W.x,W.y),a1=new hw(a[p*2],a[p*2+1]),M=W.x-a1.x,x=W.y-a1.y,R=new hw(a1.x-x,a1.y+M);
k.push(g.Rv.Np(a1,R))}}if(K==2){var y=g.z.wS(l,1,!0),s=l[y].length;if(m==2&&s==2){var F=l[D+1].WL,E=l[D+2].WL,o=l[y+1].WL,G=l[y+2].WL,d=g.b.qx(F.x,F.y,E.x-F.x,E.y-F.y,o.x,o.y,G.x-o.x,G.y-o.y),u=g.Rv.Np(F,E);
k.push(u);var r=g.Rv.Np(o,G);k.push(r);if(0<d&&d<1){u=u.P();u.concat(r);k.push(u)}}else alert("two curves")}}if(B==1||B==2){k=[];
var v=l[3].WL,c=l[4].WL;for(var N=0;N<U;N++){var V=new ka;V.translate(-v.x,-v.y);V.rotate(N*Math.PI*2/U);
V.translate(v.x,v.y);k.push(V);if(B==2){V=V.P();V.concat(g.Rv.Np(v,c));k.push(V)}}}if(B==3){k=[];for(var j=-1;
j<2;j++)for(var Q=-1;Q<2;Q++){var V=new ka;V.translate(Q*q.r,j*q.$);k.push(V)}}return k};g.stack={};
g.stack.stack=function(W,q,X){var k=W.length,B=q.length;if(k==1){q.set(W[0]);return}if(X=="avrg"||X=="stdv"||X=="summ"||X=="vari"){var U=1/k;
for(var N=0;N<B;N++){var l=0;for(var K=0;K<k;K++)l+=W[K][N];var D=~~(l*U+.5);if(X=="avrg"||(N&3)==3)q[N]=D;
else if(X=="summ")q[N]=255*Math.pow(Math.min(255,l)*(1/255),1/2.4);else{var m=0;for(var K=0;K<k;K++){var Y=W[K][N]-D;
m+=Y*Y}var a=Math.sqrt(m*U)*(1/255);if(X=="stdv")q[N]=255*Math.pow(a,1/2.4);else q[N]=255*Math.pow(a*a,1/2.4)}}}else if(X=="maxx"){for(var N=0;
N<B;N++){var p=0;for(var K=0;K<k;K++)p=Math.max(p,W[K][N]);q[N]=p}}else if(X=="minn"){for(var N=0;N<B;
N++){var p=255;for(var K=0;K<k;K++)p=Math.min(p,W[K][N]);q[N]=p}}else if(X=="medn"||X=="rang"){var M=function(s,F){return s-F},x=new Array(k),R=0,y=0;
if((k&1)==0){y=k>>>1;R=y-1}else{R=y=k>>>1}for(var N=0;N<B;N++){for(var K=0;K<k;K++)x[K]=W[K][N];x.sort(M);
if(X=="medn")q[N]=x[R]+x[y]>>>1;else q[N]=(N&3)==3?x[k-1]:x[k-1]-x[0]}}else console.log(X)};g._9={};
g._9.amW=function(W,q,X,k){var B=Date.now(),U=new Uint32Array(q*X),l=new Uint8Array(q*X);while(!0){l.fill(0);
U.fill(0);var K=[],D=0;for(var m=0;m<X;m++){for(var Y=0;Y<q;Y++){var N=m*q+Y;if(l[N]==0){var a=K.length,p=g._9.kH(W,q,X,Y,m,l,U,a);
K.push([a,Y,m,p[0],p[1],W[N]]);if(p[0]<k)D++}}}if(D==0)break;var M=K.length,x=new UnionFind(M),R=[];
for(var N=0;N<M;N++)R.push([]);for(var N=0;N<M;N++){var p=K[N],y=p[4],s=0,F=0;if(p[3]>=k)continue;var a=p[0];
for(var E=0;E<y.length;E+=2){var o=U[y[E+1]*q+y[E]],G=K[o];if(G[3]>F){F=G[3];s=o}}if(x.find(a)!=x.find(s)){x.link(a,s);
R[a].push(s);R[s].push(a)}}var d=new Uint32Array(M);d.fill(4294967295);var u=new Uint32Array(M);for(var N=0;
N<M;N++){if(d[N]!=4294967295||R[N].length==0)continue;var r=[N],v=[N],c=N,V=K[N][3];while(v.length!=0){var j=v.pop(),Q=R[j];
for(var E=0;E<Q.length;E++){var H=Q[E];if(r.indexOf(H)==-1){r.push(H);v.push(H);var T=K[H];if(T[3]>V){V=T[3];
c=H}}}}for(var E=0;E<r.length;E++){d[r[E]]=c;var e=K[c];u[r[E]]=W[e[2]*q+e[1]]}}for(var m=0;m<X;m++)for(var Y=0;
Y<q;Y++){var N=m*q+Y,z=d[U[N]];if(z!=4294967295)W[N]=u[z]}}};g._9.kH=function(W,q,X,k,B,U,l,K){var D=[k,B],m=W[B*q+k],Y=0,a=[];
U[B*q+k]=1;while(D.length!=0){var p=D.pop(),M=D.pop(),N=p*q+M;l[N]=K;Y++;if(p!=X-1)if(W[N+q]==m){if(U[N+q]==0){D.push(M,p+1);
U[N+q]=1}}else a.push(M,p+1);if(p!=0)if(W[N-q]==m){if(U[N-q]==0){D.push(M,p-1);U[N-q]=1}}else a.push(M,p-1);
if(M!=q-1)if(W[N+1]==m){if(U[N+1]==0){D.push(M+1,p);U[N+1]=1}}else a.push(M+1,p);if(M!=0)if(W[N-1]==m){if(U[N-1]==0){D.push(M-1,p);
U[N-1]=1}}else a.push(M-1,p)}return[Y,a]};g._9.axN=function(W,q,X){var k=new Uint32Array(q*X);for(var N=0;
N<k.length;N++)k[N]=W[N];var B=[];for(var U=0;U<X;U++){for(var l=0;l<q;l++){var N=U*q+l,K=k[N];if(K<1e3){var D=g._9.aag(k,q,X,l,U,1e3+B.length);
B.push([l,U,K,D,0])}}}for(var N=0;N<k.length;N++)k[N]-=1e3;var m=new Float32Array(q*X);m.fill(q+X);for(var U=0;
U<X;U++)for(var l=0;l<q;l++){var N=U*q+l,K=k[N];if(l==0||U==0||k[N-1]!=K||k[N-q]!=K)m[N]=0;else{var Y=Math.min(m[N],m[N-1]+1,m[N-q]+1);
if(k[N-q-1]==K)Y=Math.min(Y,m[N-q-1]+1.414);m[N]=Y}}for(var U=X-1;U>=0;U--)for(var l=q-1;l>=0;l--){var N=U*q+l,K=k[N];
if(l==q-1||U==X-1||k[N+1]!=K||k[N+q]!=K)m[N]=0;else{var Y=Math.min(m[N],m[N+1]+1,m[N+q]+1);if(k[N+q+1]==K)Y=Math.min(Y,m[N+q+1]+1.414);
m[N]=Y}}for(var U=0;U<X;U++)for(var l=0;l<q;l++){var N=U*q+l,a=B[k[N]];if(m[N]>a[4]){a[4]=m[N];a[0]=l;
a[1]=U}}return B};g._9.aag=function(W,q,X,k,B,U){var l=[k,B],K=W[B*q+k],D=0;W[B*q+k]=4294967295;while(l.length!=0){var B=l.pop(),k=l.pop(),N=B*q+k;
D++;W[N]=U;if(B<X-1&&W[N+q]==K){l.push(k,B+1);W[N+q]=4294967295}if(B>0&&W[N-q]==K){l.push(k,B-1);W[N-q]=4294967295}if(k>0&&W[N-1]==K){l.push(k-1,B);
W[N-1]=4294967295}if(k<q-1&&W[N+1]==K){l.push(k+1,B);W[N+1]=4294967295}}return D};g._9.aH_=function(W,q,X,k,B){var U=g._9.aF7(W.buffer,q,X).hf,l=Date.now(),K=[];
for(var N=0;N<U.length;N++){var D=U[N],m=1;for(var Y=0;Y<m;Y++)K.push(D.bO)}var a=new Uint32Array(K),p=UPNG.quantize.getKDtree(new Uint8Array(a.buffer),k),M=[q,1,-q,-1,q+1,-q+1,-q-1,q-1,q+q,2,-q-q,-2,q+q-1,q+q+1,q+2,-q+2,-q-q+1,-q-q-1,-q-2,q-2,q+q+2,-q-q+2-q-q-2,q+q-2],x=new Uint8Array(q*X),R=W;
for(var y=0;y<X;y++)for(var s=0;s<q;s++){var N=y*q+s<<2,F=R[N]*(1/255),E=R[N+1]*(1/255),o=R[N+2]*(1/255),G=R[N+3]*(1/255),d=g._9.dw(p,F,E,o,G,B);
if(d==null){var u=[],r=0;while(r<20){var v=y*q+s+M[r]<<2,c=R[v]*(1/255),V=R[v+1]*(1/255),j=R[v+2]*(1/255),Q=R[v+3]*(1/255),H=g._9.dw(p,c,V,j,Q,.005);
if(H!=null){if(u.indexOf(H)==-1){u.push(H);H.d4=1}else H.d4++}r++}u.sort(function(G,o){return o.d4-G.d4});
while(u.length!=0&&u[u.length-1].d4<3)u.pop();if(u.length==0)d=g._9.dw(p,F,E,o,G,100);else if(u.length==1)d=u[0];
else if(u.length==2){var T=u[0],e=u[1],z=T.est.q,J=e.est.q,P=J[0]-z[0],L=J[1]-z[1],A=J[2]-z[2],h=J[3]-z[3],C=F-z[0],w=E-z[1],f=o-z[2],O=G-z[3],n=P*P+L*L+A*A+h*h,$=C*C+w*w+f*f+O*O,d9=(C*P+w*L+f*A+O*h)/n,i=$-d9*d9*n;
if(i<.5)d=d9<.5?T:e;else{d=g._9.dw(p,F,E,o,G,100)}}else{var T=u[0],e=u[1],dF=u[2],z=T.est.q,J=e.est.q,t=dF.est.q,im=z[0]-t[0],bc=z[1]-t[1],at=z[2]-t[2],l9=z[3]-t[3],fF=J[0]-t[0],g$=J[1]-t[1],fR=J[2]-t[2],cr=J[3]-t[3],eE=t[0]-F,bQ=t[1]-E,hT=t[2]-o,df=t[3]-G,eV=im*im+bc*bc+at*at+l9*l9,gU=im*fF+bc*g$+at*fR+l9*cr,i8=eE*im+bQ*bc+hT*at+df*l9,bv=im*fF+bc*g$+at*fR+l9*cr,fE=fF*fF+g$*g$+fR*fR+cr*cr,d5=eE*fF+bQ*g$+hT*fR+df*cr,aR=1/(gU*bv-eV*fE),d9=(fE*i8-d5*gU)*aR,l8=(d5*eV-i8*bv)*aR,au=1-d9-l8,hx=Math.max(d9,l8,au);
if(hx==d9)d=T;else if(hx==l8)d=e;else d=dF}}x[N>>2]=d.ind}return{On:x,hf:p[1]}};g._9.aF7=function(W,q,X){var k=[],B={},U=q-1,l=X-1,K=0,D=new Uint32Array(W),m=[-q-1,-q,-q+1,-1,1,q-1,q,q+1,q+q,2,-q-q,-2,q+q-1,q+q+1,q+2,-q+2,-q-q+1,-q-q-1,-q-2,q-2,q+q+2,-q-q+2-q-q-2,q+q-2];
for(var Y=1;Y<l;Y++)for(var a=1;a<U;a++){var p=Y*q+a,M=D[p],x=!0;for(var N=0;N<8;N++)x=x&&D[p+m[N]]==M;
if(x){K++;var R=B[M];if(R==null){B[M]=k.length;k.push({bO:M,Xb:1})}else k[R].Xb++}}return{hf:k,aDE:K}};
g._9.dw=function(W,q,X,k,B,U){var l=UPNG.quantize.getNearest(W[0],q,X,k,B);return g._9.a29(l,q,X,k,B)<U?l:null};
g._9.a29=function(W,q,X,k,B){var U=W.est.q,l=q-U[0],K=X-U[1],D=k-U[2],m=B-U[3];return l*l+K*K+D*D+m*m};
(function(){g._9.Nh=function(K,D,m,Y,a){var p=K.RI,M=D*m,x=K.l_,R=K.On,y=k(Y,R,p,M),s=new UnionFind(p),u=0;
for(var F=1;F<m;F++)for(var E=1;E<D;E++){var N=F*D+E,o=R[N],G=0;if((G=R[N-1])!=o&&y[G]==y[o]&&W(x,0,o*6,G*6)<a)s.link(o,G);
if((G=R[N-D])!=o&&y[G]==y[o]&&W(x,0,o*6,G*6)<a)s.link(o,G)}var d=new Uint16Array(p);d.fill(65535);var r=new Uint16Array(p);
for(var N=0;N<p;N++){var v=s.find(N);if(d[v]==65535)d[v]=u++;r[N]=d[v]}var c=new Uint16Array(M);for(var N=0;
N<M;N++)c[N]=r[R[N]];return{On:c,RI:u}};g._9.Am=function(K,D,m){var Y=g.j(D),a=K.length;for(var N=0;
N<a;N++){var p=m[N];if(p==0||p==255){var M=K[N],x=2-(p>>>7),R=Y[M]=Y[M]|x;if(R==3)return M}}return-1};
function W(K,D,m,Y){var a=1/K[m+5],p=1/K[Y+5],M=K[m]*a-K[Y]*p,x=K[m+1]*a-K[Y+1]*p,R=K[m+2]*a-K[Y+2]*p,y=K[m+3]*a-K[Y+3]*p,s=K[m+4]*a-K[Y+4]*p,F=Math.sqrt(M*M+x*x+R*R),E=Math.sqrt(y*y+s*s);
return~~(F+D*E+.5)}function q(K,D){var N=0,m=K.length;while(N!=m&&K[N]!=D)N+=2;return N==m?-1:N}function X(K,N){if(N==K.length-2){K.pop();
K.pop()}else{K[N+1]=K.pop();K[N]=K.pop()}}g._9.aKk=function(K,D,m,Y,a){var p=new Uint32Array(a*4400),M=[];
for(var N=0;N<a;N++)M.push([]);for(var x=0;x<m;x++)for(var R=0;R<D;R++){var N=x*D+R,y=N<<2,s=Y[N],F=0,E=K[y]>>>4,o=K[y+1]>>>4,G=K[y+2]>>>4;
p[s*4400+(E<<8|o<<4|G)]++;p[s*4400+4096]++;p[s*4400+4100+(E<<4|o)]++;p[s*4400+4360+E]++;if(R!=0&&(F=Y[N-1])!=s&&q(M[s],F)==-1){M[s].push(F,0);
M[F].push(s,0)}if(x!=0&&(F=Y[N-D])!=s&&q(M[s],F)==-1){M[s].push(F,0);M[F].push(s,0)}}for(var N=0;N<a;
N++){var G=M[N];for(var d=0;d<G.length;d+=2)G[d+1]=l(p,N,G[d])}return[p,M]};function k(K,D,m,Y){var a=g.j(m);
for(var N=0;N<Y;N++){var p=K[N];if(p==0||p==255)a[D[N]]=2-(p>>>7)}return a}g._9.azo=function(K,D,m,Y,a,p,M){var x=D*m,R=M[0],y=M[1],s=new UnionFind(Y),F=k(a,K,Y,x),E=-1,o=!0,G=0;
for(var N=0;N<Y;N++)if(F[N]==1){if(E==-1)E=N;else s.link(N,E)}if(E==-1){for(var N=0;N<x;N++)p[N]=a[N]==255?255:0;
return}while(o){while(o){o=!1;for(var N=0;N<Y;N++){if(F[N]==0){var d=B(y[N]);if(F[d]==1){F[N]=F[d];o=!0;
s.link(N,d)}}}}o=!0;G=0;while(o){o=!1;for(var N=0;N<Y;N++){if(F[N]==0){var d=B(y[N]);if(F[d]==0){var u=N*4400,r=d*4400;
for(var v=0;v<4400;v+=2){R[u+v]+=R[r+v];R[u+v+1]+=R[r+v+1]}U(y,R,N,d);G++;F[d]=3;o=!0;s.link(N,d)}}}}o=G!=0}var c=s.find(E);
for(var N=0;N<Y;N++)F[N]=s.find(N)==c?255:0;for(var N=0;N<x;N++){p[N]=F[K[N]]}for(var N=0;N<x;N++){var d=a[N];
if(d==0||d==255)p[N]=d}};function B(K){var D=0,m=0,Y=K.length;for(var a=0;a<Y;a+=2){var p=K[a+1];if(p>m){m=p;
D=a}}return K[D]}function U(K,D,m,Y){var a=K[m],p=K[Y];X(a,q(a,Y));X(p,q(p,m));for(var N=0;N<p.length;
N+=2){var M=p[N],x=K[M];X(x,q(x,Y));if(q(x,m)==-1){x.push(m,0);a.push(M,0)}}for(var N=0;N<a.length;N+=2){var M=a[N],x=K[M],R=l(D,m,M);
a[N+1]=R;x[q(x,m)+1]=R}}function l(K,D,m){var Y=0,a=4096,p=D*4400,M=m*4400;for(var x=0;x<16;x++){if(K[p+4360+x]==0||K[M+4360+x]==0)continue;
for(var R=0;R<16;R++){var y=x<<4|R;if(K[p+4100+y]==0||K[M+4100+y]==0)continue;var s=p+(y<<4),F=M+(y<<4);
for(var N=0;N<16;N++)Y+=Math.sqrt(K[s+N]*K[F+N])}}var E=Y/Math.sqrt(K[p+a]*K[M+a]);return~~(999.99999*E)}}());
g._9.u0=function(){var W,q,X,l=0,K=0;function k(M,x,R){var y=[],s=R,F=R,E=R>>>2;for(var o=0;o<x;o++)for(var G=0;
G<M;G++){var d=~~((G+.5)*s),u=~~((o+.5)*F),r=1e9,v=Math.max(0,d-E),c=Math.min(q,d+E+1),V=Math.max(0,u-E),j=Math.min(X,u+E+1);
for(var Q=V;Q<j;Q++)for(var H=v;H<c;H++){var T=B(H,Q);if(T<r){d=H;u=Q;r=T}}y.push(d,u)}return y}function B(M,x){var R=(x*q+M)*4,y=q*4,s=U(R-4,R)+U(R,R+4),F=U(R-y,R)+U(R,R+y);
return s+F}function U(M,x){var R=W[M]-W[x],y=W[M+1]-W[x+1],s=W[M+2]-W[x+2];return R*R+y*y+s*s}function D(M,x,R,y){K++;
if(y<l)l=y;M[y].push(x,R)}function m(M){K--;while(M[l].length==0)l++}function Y(M,x,R,y,s){var F=(R*q+x)*4,E=y[s+5],o=1/E,G=W[F]*E-y[s],d=W[F+1]*E-y[s+1],u=W[F+2]*E-y[s+2],r=x*E-y[s+3],v=R*E-y[s+4],c=Math.sqrt(G*G+d*d+u*u),V=Math.sqrt(r*r+v*v);
return~~((c+M*V)*o+.5)}function a(M,x,R,y,s){W=M;q=x;X=R;l=0;K=0;var F=q*X,E=Math.round(Math.min(q,X)/(y?y:30));
if(E==0)E=1;var o=(s?s:30)/E,G=Math.floor(q/E),d=Math.floor(X/E),u=new Uint16Array(F);for(var N=0;N<F;
N++)u[N]=65535;var r=k(G,d,E),v=r.length>>>1;if(v>65535)throw v;var c=new Uint32Array(v*6),V=[];for(var N=0;
N<1e3+X;N++)V.push([]);var j=1e3*700/(q*X),Q=Math.floor(d*j);Q=Math.min(d,Math.max(4,Q));Q=d;var c=new Uint32Array(v*6);
for(var H=0;H<d;H+=Q){var T=Math.min(H+Q,d);for(var e=H;e<T;e++)for(var z=0;z<G;z++){var N=e*G+z;D(V,r[N*2+1]<<16|r[N*2],N,0)}var J=Math.min(X,T*E);
if(H+Q>=d)J=X;p(c,V,u,o,J)}W=null;return{On:u,RI:v,l_:c,a0j:o}}function p(M,x,R,y,s){while(K!=0){m(x);
var F=x[l].pop(),E=x[l].pop(),o=E>>>16,G=E&65535,N=o*q+G;if(R[N]==null)throw"e";if(R[N]==65535){var d=F*6,u=N<<2;
R[N]=F;M[d]+=W[u];M[d+1]+=W[u+1];M[d+2]+=W[u+2];M[d+3]+=G;M[d+4]+=o;M[d+5]++;if(o!=s-1&&R[N+q]==65535)D(x,o+1<<16|G,F,Y(y,G,o+1,M,d));
if(o!=0&&R[N-q]==65535)D(x,o-1<<16|G,F,Y(y,G,o-1,M,d));if(G!=0&&R[N-1]==65535)D(x,o<<16|G-1,F,Y(y,G-1,o,M,d));
if(G!=q-1&&R[N+1]==65535)D(x,o<<16|G+1,F,Y(y,G+1,o,M,d))}}}a.d5=function(M,x,R,y,s,F){W=M;q=x;X=R;var E=y.RI=y.RI+1,o=y.On,G=y.l_,d=y.l_=new Uint32Array(E*6);
d.set(G,0);var u=o[s[1]*q+s[0]];for(var N=0;N<o.length;N++)if(o[N]==u)o[N]=65535;for(var N=0;N<6;N++)d[u*6+N]=0;
var r=[];for(var N=0;N<1e3+X;N++)r.push([]);for(var N=0;N<s.length;N+=2)D(r,s[N+1]<<16|s[N],u,0);for(var N=0;
N<F.length;N+=2)D(r,F[N+1]<<16|F[N],E-1,0);p(d,r,o,y.a0j,X);W=null};return a}();g.a6Y={};g.a6Y.a6Q=function(){var W=11,q=7,X=W>>>1,a1=q>>>1,k=2,B=2e3/k,U=[],K=null,D="";
function l(Y,a,p){var M=(Y[a+0]-Y[p+0])*(1/255),x=(Y[a+1]-Y[p+1])*(1/255),R=(Y[a+2]-Y[p+2])*(1/255),y=(Y[a+3]-Y[p+3])*(1/255),s=M*M*.125+x*x*.25+R*R*.5+y*y;
return U[~~(s*B)]}function m(Y,a,p,M,x,R){var y=Date.now(),s=g.j(a*p);g.Iv(Y,s);var F=UZIP.adler(s,0,a*p);
if(F!=D){var E=g.AE(s,a,p);K=g.j(a*p*4);D=F;var o=[1,1/9,1/25,1/49,1/81];for(var G=0;G<p;G++)for(var d=0;
d<a;d++)for(var N=0;N<4;N++){var u=Math.max(1,d-N),r=Math.min(a-1,d+N),v=Math.max(1,G-N),c=Math.min(p-1,G+N),V=g.Bm(E,a,u,r,v,c);
if(isNaN(V))throw d+","+G+","+N+","+V;K[(G*a+d)*4+N]=V*o[N]}}if(dd.gP){var j=dd.I9(0,a,p);j.set(Y);var Q=dd.I9(1,a,p);
Q.set(K);var H=dd.I9(2,a,p);dd.vo(H);dd.filter.Mn({I:dd.filter.alU,Bt:new Float32Array([1/a,1/p]),ayh:Q.hc,atb:x,alz:R},j.hc);
H.get(M)}else{for(var N=0;N<2e3;N++)U[N]=Math.exp(-(N/2e3)*k*(100+(1-x)*(1-x)*1e4));var T=a1+2;for(var G=T;
G<p-T;G++)for(var d=T;d<a-T;d++){var e=0,z=0,J=0,P=0;for(var L=0;L<W;L++)for(var A=0;A<W;A++){var h=d+A-X,C=G+L-X;
if(h==d&&C==G||h<T||C<T||h>=a-T||C>=p-T)continue;var w=l(K,(G*a+d)*4,(C*a+h)*4),f=C*a+h<<2;e+=w*Y[f+0];
z+=w*Y[f+1];J+=w*Y[f+2];P+=w}if(P==0){continue}var O=1/P,n=(G*a+d)*4;M[n+0]=~~((1-R)*O*e+R*M[n+0]);M[n+1]=~~((1-R)*O*z+R*M[n+1]);
M[n+2]=~~((1-R)*O*J+R*M[n+2])}}}return m}();g.aEN=function(){var W=6,q=W>>>1,X=[[-.0662912607,-.0855816496],[.1104854346,-.0855816496],[.6629126074,.1711632992],[.6629126074,.1711632992],[.1104854346,-.0855816496],[-.0662912607,-.0855816496],[0,0],[0,0]],k=[[-.0662912607,.0855816496],[-.1104854346,-.0855816496],[.6629126074,-.1711632992],[-.6629126074,.1711632992],[.1104854346,.0855816496],[.0662912607,-.0855816496],[0,0],[0,0]];
function B(R,y){var s=!1,F=R.length,E=y[0],u=5,v=0,c=0;for(var N=1;N<F;N++)E=E.xw(y[N]);if((E.r&1)!=0)E.r++;
if((E.$&1)!=0)E.$++;var o=E.r,G=E.$,d=Math.max(o,G);while(d>>>u>8&&u<10)u++;var r=1<<u;if(o%r!=0)v=r-o%r;
if(G%r!=0)c=r-G%r;E.Pt(v>>>1,c>>>1);o=E.r;G=E.$;if(o%r!=0||G%r!=0)throw"e";var V=Date.now(),j=[],Q=g.j(E.C()),H=[],T=o*G,e=new Float32Array(o*G*2);
for(var N=0;N<F;N++){var z=y[N],J=g.j(z.C());g.Iv(R[N],J);Q.fill(0);g.Z_(J,z,Q,E);j.push(Q.slice(0));
var P=z.x-E.x,L=z.y-E.y,A=P+z.r-2,h=L+z.$;for(var C=0;C<z.$;C++){var w=(C+L)*o;for(var f=0;f<P;f++)Q[w+f]=Q[w+P];
for(var f=A;f<o;f++)Q[w+f]=Q[w+A-1]}for(var f=0;f<o;f++){for(var C=0;C<L;C++)Q[C*o+f]=Q[L*o+f];for(var C=h;
C<G;C++)Q[C*o+f]=Q[(h-1)*o+f]}var O=new Float32Array(o*G*2);H.push(O);for(var n=0;n<T;n++)O[n*2]=Q[n]*(1/255);
D(O,e,o,G,u);U(O,o,G,u)}if(s)console.log("to gray, decompose",Date.now()-V);V=Date.now();var $=g.j(o*G);
for(var C=0;C<G;C++)for(var f=0;f<o;f++){var d9=0,i=0,dF=C*o+f<<1;for(var N=0;N<F;N++){var t=H[N],im=t[dF],bc=t[dF+1],at=im*im+bc*bc;
if(at>i){i=at;d9=N}}$[dF>>>1]=d9}if(s)console.log("max abs value",Date.now()-V);V=Date.now();l($,o,G,u);
K($,o,G);if(s)console.log("denoise",Date.now()-V);V=Date.now();var l9=e.slice(0);for(var C=0;C<G;C++)for(var f=0;
f<o;f++){var N=C*o+f,dF=N<<1,fF=H[$[N]];l9[dF]=fF[dF];l9[dF+1]=fF[dF+1]}m(l9,e,o,G,u);if(s)console.log("compose",Date.now()-V);
V=Date.now();for(var n=0;n<T;n++){var at=l9[n*2]*255,d9=0,i=1e9;for(var N=0;N<F;N++){var g$=Math.abs(j[N][n]-at);
if(g$<i){i=g$;d9=N}j[N][n]=0}j[d9][n]=255}if(s)console.log("toRGB",Date.now()-V);V=Date.now();return[j,E]}function U(R,y,s,F){var E=y>>>F,o=s>>>F,G=1e-4;
for(var d=0;d<s;d++)for(var u=0;u<y;u++){if(u<E&&d<o)continue;var r=(d*y+u)*2,v=R[r],c=R[r+1],V=v*v+c*c;
if(V<G)v=c=0;else{var j=(V-G)/V;v*=j;c*=j}R[r]=v;R[r+1]=c}}function l(R,y,s,F){for(var E=0;E<F;E++){var o=y>>>E,G=s>>>E,d=o>>>1,u=G>>>1;
for(var r=0;r<u;r++)for(var v=0;v<d;v++){var c=r*y+d+v,V=(r+u)*y+d+v,j=(r+u)*y+v,Q=R[c],H=R[V],T=R[j];
if(Q==H==T){}else if(Q==H)R[j]=Q;else if(H==T)R[c]=H;else if(Q==T)R[V]=Q}}}function K(R,y,s){for(var F=1;
F<s-1;F++)for(var E=1;E<y-1;E++){var N=F*y+E,o=R[N-y],G=R[N-1],d=R[N],u=R[N+1],r=R[N+y],v=o==G&&o==u||o==u&&u==r||u==r&&G==r||o==G&&r==G;
if(v)R[N]=o==G?o:G==u?G:o;else if(d>o&&d>G&&d>u&&d>r)R[N]=o+G+u+r>>>2;else if(d<o&&d<G&&d<u&&d<r)R[N]=o+G+u+r>>>2}}function D(R,y,s,F,E){for(var N=0;
N<E;N++){var o=s>>>N,G=F>>>N;Y(R,y,s,F,o,G)}}function m(R,y,s,F,E){for(var N=E-1;N>=0;N--){var o=s>>N,G=F>>N;
a(R,y,s,F,o,G)}}function Y(R,y,s,F,E,o){M(R,y,s,F,E,o,!0);M(y,R,s,F,E,o,!1)}function a(R,y,s,F,E,o){x(R,y,s,F,E,o,!0);
x(y,R,s,F,E,o,!1)}function p(R,y,s,F,E,o){var G=s*F+y<<1;R[G]=E;R[G+1]=o}function M(R,y,s,F,E,o,G){var cB=G?E:o,d=G?o:E,u=d>>>1;
for(var r=0;r<cB;r++){for(var v=0;v<d;v+=2){var c=0,V=0,j=0,Q=0,H=v>>>1;for(var T=0;T<6;T++){var e=v+T-3;
if(e<0)e=d+e;if(e>=d)e=e-d;var z=(G?e*s+r:r*s+e)<<1,J=R[z],P=R[z+1],L=X[T],A=k[T];c+=J*L[0]-P*L[1];V+=P*L[0]+J*L[1];
j+=J*A[0]-P*A[1];Q+=P*A[0]+J*A[1]}if(G){p(y,r,H,s,c,V);p(y,r,H+u,s,j,Q)}else{p(y,H,r,s,c,V);p(y,H+u,r,s,j,Q)}}}}function x(R,y,s,F,E,o,G){var cB=G?E:o,d=G?o:E,u=d>>>1,r,v,c,V;
for(var j=0;j<cB;j++){for(var Q=0;Q<d;Q++){var H=0,T=0;for(var e=Q+3&1;e<6;e+=2){var z=Q-e+3>>1;if(z<0)z=u+z;
if(z>=u)z=z-u;if(G){r=j;v=z;c=j;V=z+u}else{v=j;r=z;V=j;c=z+u}var J=v*s+r<<1,P=V*s+c<<1,L=R[J],A=R[J+1],h=R[P],C=R[P+1],w=X[e],f=k[e];
H+=L*w[0]+h*f[0];H+=A*w[1]+C*f[1];T+=A*w[0]+C*f[0];T-=L*w[1]+h*f[1]}if(G)p(y,j,Q,s,H,T);else p(y,Q,j,s,H,T)}}}return{bQ:B}}();
g.a7A=function(){var W=Math.floor(12e3/8),q,X,k,B;function U(a,p,M,x){var R=UPNG.quantize.findNearest,y=[a,new dU(0,0,p,M)],F;
g.z0(y);var s=Date.now(),E=p+M>>>1;for(var N=E<1e3?2:4;N>=0;N-=2){var o=y[N+1],X=o.r,k=o.$;if(F==null){F=new Uint8Array(X*k);
R(y[N],F,x)}l(y[N],X,k,x,F);if(N!=0){var G=y[N-1],d=G.r,u=G.$,r=new Uint8Array(d*u);for(var v=0;v<u;
v++)for(var c=0;c<d;c++)r[v*d+c]=F[(v>>>1)*X+(c>>>1)];F=r}}return F}function l(a,p,M,x,R){q=a;X=p;k=M;
B=x;var y=B.length>>>2,s=[-1,-X,1,X],F=[-1,-X,-X+1,2,X+1,X],E=[-1,-X,1,X+1,X+X,X-1],o=8,G=X+k>>>1,d=1e9;
while(G>512){o>>=1;G>>=1}o=Math.max(1,Math.min(4,o));for(var u=0;u<o;u++){var r=0;for(var v=0;v<k;v++)for(var c=0;
c<X;c++){if(m(R,c,v)<2)continue;var V=v*X+c,j=R[V],Q=1e9,H=0,T=c==0||v==0||c>X-3||v>k-3;if(T){Q=1e9;
for(var N=0;N<y;N++){R[V]=N;var e=Y(R,c,v,2);if(e<Q){Q=e;H=N}}R[V]=H;if(H==j&&c+1<X&&R[V+1]==j){Q=1e9;
for(var N=0;N<y;N++){R[V]=R[V+1]=N;var e=Y(R,c,v,2)+Y(R,c+1,v,2);if(e<Q){Q=e;H=N}}R[V]=R[V+1]=H}if(H==j&&v+1<k&&R[V+X]==j){Q=1e9;
for(var N=0;N<y;N++){R[V]=R[V+X]=N;var e=Y(R,c,v,2)+Y(R,c,v+1,2);if(e<Q){Q=e;H=N}}R[V]=R[V+X]=H}}else{Q=1e9;
H=-1;for(var N=0;N<4;N++){var z=R[V+s[N]];if(z==H)continue;R[V]=z;var e=Y(R,c,v,2);if(e<Q){Q=e;H=z}}R[V]=H;
if(H==j&&c+1<X&&R[V+1]==j){Q=1e9;H=-1;for(var N=0;N<6;N++){var z=R[V+F[N]];if(z==H)continue;R[V]=R[V+1]=z;
var e=Y(R,c,v,2)+Y(R,c+1,v,2);if(e<Q){Q=e;H=z}}R[V]=R[V+1]=H}if(H==j&&v+1<k&&R[V+X]==j){Q=1e9;H=-1;for(var N=0;
N<6;N++){var z=R[V+E[N]];if(z==H)continue;R[V]=R[V+X]=z;var e=Y(R,c,v,2)+Y(R,c,v+1,2);if(e<Q){Q=e;H=z}}R[V]=R[V+X]=H}}r+=Q}}}function K(a){var p=0;
for(var M=0;M<k;M++)for(var x=0;x<X;x++)p+=Y(a,x,M,1);return p/(X*k)}function D(a,p,M){var N=M*X+p,x=N*4,R=a[N]*4,y=q[x]-B[R],s=q[x+1]-B[R+1],F=q[x+2]-B[R+2],E=q[x+3]-B[R+3];
return y*y+s*s+F*F+E*E}function m(a,p,M){if(p<0||p>=X||M<0||M>=k)throw"e";var N=M*X+p,x=a[N],R=0;if(M>0&&x!=a[N-X])R+=2;
if(p>0&&x!=a[N-1])R+=2;if(p<X-1&&x!=a[N+1])R+=2;if(M<k-1&&x!=a[N+X])R+=2;if(M>0&&p>0&&x!=a[N-X-1])R++;
if(M<k-1&&p>0&&x!=a[N+X-1])R++;if(M>0&&p<X-1&&x!=a[N-X+1])R++;if(M<k-1&&p<X-1&&x!=a[N+X+1])R++;return R}function Y(a,p,M,x){return D(a,p,M)+m(a,p,M)*x*W}return U}();
var f3=function(){function W(){this.C=0;this.Fk=0;this.P5={};this.on=[];this.Cc=1e5;this.uB=1e5;this.Ry=-1;
this.GK=-1;this.color=0}function q(a1){this.g=a1;this.Sw=new Array(a1);this.bO=new Array(a1*6);this.aeE=0;
this.K8=new Array(a1*2);this.alpha=new Array(a1);this.iz=new Array(a1);this.f7=new Array(a1)}function X(B,U,l,K){function D(y,s,B,U){return B[U*s+y]}function m(N){var u=B.length;
while(N<u&&B[N]==0)N++;return N<u?N:-1}function Y(y,s,u){for(var N=2;N<5;N++){var r=0;for(var v=-N+1;
v<=N-1;v++){r+=D(y+v,s+N-1,B,U)==u?1:-1;r+=D(y+N-1,s+v-1,B,U)==u?1:-1;r+=D(y+v-1,s-N,B,U)==u?1:-1;r+=D(y-N,s+v,B,U)==u?1:-1}if(r>0)return 1;
else if(r<0)return 0}return 0}function a(u,x){var R=new W,y=u,s=x,r=0,v=1,c;R.color=B[x*U+u];R.sign=D(u,x,B,U)==R.color?"+":"-";
while(1){R.on.push(y,s);if(y>R.Ry)R.Ry=y;if(y<R.Cc)R.Cc=y;if(s>R.GK)R.GK=s;if(s<R.uB)R.uB=s;R.Fk++;y+=r;
s+=v;R.C-=y*v;if(y==u&&s==x)break;var V=D(y+(r+v-1>>1),s+(v-r-1>>1),B,U)==R.color,j=D(y+(r-v-1>>1),s+(v+r-1>>1),B,U)==R.color;
if(j&&!V){if(K.WW=="right"||K.WW=="black"&&R.sign=="+"||K.WW=="white"&&R.sign=="-"||K.WW=="majority"&&Y(y,s,R.color)||K.WW=="minority"&&!Y(y,s,R.color)){c=r;
r=-v;v=c}else{c=r;r=v;v=-c}}else if(j){c=r;r=-v;v=c}else if(!V){c=r;r=v;v=-c}}return R}var p=0,M=[];
while(!0){var p=m(p);if(p==-1)break;var x=Math.floor(p/U),R=a(p-x*U,x);for(var N=0;N<R.on.length-2;N+=2){var y=R.on[N],s=R.on[N+1],F=s*U+y;
if(y==R.on[N+2]&&s+1==R.on[N+3]&&B[F]!=0)f3.fill(F,B,U,0)}if(R.C>K.aL1)M.push(R)}for(var N=0;N<M.length;
N++)M[N].parent=-1;var E=Date.now();for(var N=1;N<M.length;N++){var o=M[N];for(var G=N-1;G>=0;G--){var d=M[G];
if(o.Cc<d.Cc||o.Ry>d.Ry||o.uB<d.uB||o.GK>d.GK)continue;if(!f3.We(d.on,o.on[0]+.5,o.on[1]+.5))continue;
o.parent=G;break}}return M}function k(B,U){function l(r,v,c,V,j){this.x=r;this.y=v;this.yg=c;this.qj=V;
this.uM=j}function K(r,a1){return(a1+r)%a1}function D(r,v,c,V){return r*V-c*v}function m(r,v,c,V){return r*c+v*V}function Y(r,v,c){if(r<=c)return r<=v&&v<c;
else return r<=v||v<c}function a(r,v,c){var V=0;V+=v*r[0]*v;V+=v*r[1]*c;V+=v*r[2];V+=c*r[3]*v;V+=c*r[4]*c;
V+=c*r[5];V+=r[6]*v;V+=r[7]*c;V+=r[8];return V}function p(r,v,c){return v+r*(c-v)}function M(r,v,c,V){var j=Math.sign(c-r),Q=-Math.sign(V-v);
return j*(c-r)-Q*(V-v)}function x(r,v){return Math.sqrt(r*r+v*v)}function R(r,v,c,V,j){var Q=1-r;return Q*Q*Q*v+3*(Q*Q*r)*c+3*(r*r*Q)*V+r*r*r*j}function y(r,v,c,V,j,Q,H,T){var e=D(r,v,H,T),z=D(c,V,H,T),J=D(j,Q,H,T),P=e-2*z+J,L=-2*e+2*z,A=e,h=L*L-4*P*A;
if(P==0||h<0)return-1;var C=Math.sqrt(h),w=(-L+C)/(2*P),f=(-L-C)/(2*P);if(w>=0&&w<=1)return w;else if(f>=0&&f<=1)return f;
else return-1}function s(u){var N,r,v;u.BV=u.on[0];u.ac3=u.on[1];u.Aj=[];var c=u.Aj;c.push(new l(0,0,0,0,0));
for(N=0;N<u.Fk;N++){r=u.on[N<<1]-u.BV;v=u.on[(N<<1)+1]-u.ac3;c.push(new l(c[N].x+r,c[N].y+v,c[N].yg+r*v,c[N].qj+r*r,c[N].uM+v*v))}}function F(u){var a1=u.Fk,r=u.on,v,c=new Array(a1),V=new Array(a1),j=new Array(4),Q,H,T,e,z,J,P,L,A,h,C,N,w,f,O,n,$,d9,i=0;
u.MU=new Array(a1);for(N=a1-1;N>=0;N--){if(r[N<<1]!=r[i<<1]&&r[(N<<1)+1]!=r[(i<<1)+1])i=N+1;V[N]=i}for(N=a1-1;
N>=0;N--){var dF=K(N+1,a1)<<1;j[0]=j[1]=j[2]=j[3]=0;v=(3+3*(r[dF]-r[N<<1])+(r[dF+1]-r[(N<<1)+1]))/2;
j[v]++;Q=0;H=0;T=0;e=0;i=V[N];f=N;while(1){C=0;v=(3+3*Math.sign(r[i*2]-r[f*2])+Math.sign(r[i*2+1]-r[f*2+1]))/2;
j[v]++;if(j[0]&&j[1]&&j[2]&&j[3]){c[N]=f;C=1;break}A=r[i*2]-r[N*2];h=r[i*2+1]-r[N*2+1];if(D(Q,H,A,h)<0||D(T,e,A,h)>0){break}if(Math.abs(A)<=1&&Math.abs(h)<=1){}else{z=A+(h>=0&&(h>0||A<0)?1:-1);
J=h+(A<=0&&(A<0||h<0)?1:-1);if(D(Q,H,z,J)>=0){Q=z;H=J}z=A+(h<=0&&(h<0||A<0)?1:-1);J=h+(A>=0&&(A>0||h<0)?1:-1);
if(D(T,e,z,J)<=0){T=z;e=J}}f=i;i=V[f];if(!Y(i,N,f)){break}}if(C==0){P=Math.sign(r[i*2]-r[f*2]);L=Math.sign(r[i*2+1]-r[f*2+1]);
A=r[f*2]-r[N*2];h=r[f*2+1]-r[N*2+1];O=D(Q,H,A,h);n=D(Q,H,P,L);$=D(T,e,A,h);d9=D(T,e,P,L);w=1e7;if(n<0){w=Math.floor(O/-n)}if(d9>0){w=Math.min(w,Math.floor(-$/d9))}c[N]=K(f+w,a1)}}w=c[a1-1];
u.MU[a1-1]=w;for(N=a1-2;N>=0;N--){if(Y(N+1,c[N],w)){w=c[N]}u.MU[N]=w}for(N=a1-1;Y(K(N+1,a1),w,u.MU[N]);
N--){u.MU[N]=w}}function E(u){function r(u,N,v){var a1=u.Fk,A=u.on,h=u.Aj,C,w,f,O,n,V,$,d9,L,i,dF,t,im,bc,at=0;
if(v>=a1){v-=a1;at=1}if(at==0){C=h[v+1].x-h[N].x;w=h[v+1].y-h[N].y;O=h[v+1].qj-h[N].qj;f=h[v+1].yg-h[N].yg;
n=h[v+1].uM-h[N].uM;V=v+1-N}else{C=h[v+1].x-h[N].x+h[a1].x;w=h[v+1].y-h[N].y+h[a1].y;O=h[v+1].qj-h[N].qj+h[a1].qj;
f=h[v+1].yg-h[N].yg+h[a1].yg;n=h[v+1].uM-h[N].uM+h[a1].uM;V=v+1-N+a1}dF=(A[N<<1]+A[v<<1])/2-A[0];t=(A[(N<<1)+1]+A[(v<<1)+1])/2-A[1];
bc=A[v<<1]-A[N<<1];im=-(A[(v<<1)+1]-A[(N<<1)+1]);$=(O-2*C*dF)/V+dF*dF;d9=(f-C*t-w*dF)/V+dF*t;L=(n-2*w*t)/V+t*t;
i=im*im*$+2*im*bc*d9+bc*bc*L;return Math.sqrt(i)}var N,v,c,V,a1=u.Fk,j=new Array(a1+1),Q=new Array(a1+1),H=new Array(a1),T=new Array(a1+1),e=new Array(a1+1),z=new Array(a1+1),J,P,L;
for(N=0;N<a1;N++){L=K(u.MU[K(N-1,a1)]-1,a1);if(L==N){L=K(N+1,a1)}if(L<N){H[N]=a1}else{H[N]=L}}v=1;for(N=0;
N<a1;N++){while(v<=H[N]){T[v]=N;v++}}N=0;for(v=0;N<a1;v++){e[v]=N;N=H[N]}e[v]=a1;c=v;N=a1;for(v=c;v>0;
v--){z[v]=N;N=T[N]}z[0]=0;j[0]=0;for(v=1;v<=c;v++){for(N=z[v];N<=e[v];N++){P=-1;for(V=e[v-1];V>=T[N];
V--){J=r(u,V,N)+j[V];if(P<0||J<P){Q[N]=V;P=J}}j[N]=P}}u.A=c;u.aFJ=new Array(c);for(N=a1,v=c-1;N>0;v--){N=Q[N];
u.aFJ[v]=N}}function o(u){function r(u,N,J,H,T,l9){var a1=u.Fk,fF=u.Aj,g$=0,L;while(J>=a1){J-=a1;g$+=1}while(N>=a1){N-=a1;
g$-=1}while(J<0){J+=a1;g$-=1}while(N<0){N+=a1;g$+=1}var fR=fF[J+1].x-fF[N].x+g$*fF[a1].x,cr=fF[J+1].y-fF[N].y+g$*fF[a1].y,eE=fF[J+1].qj-fF[N].qj+g$*fF[a1].qj,bQ=fF[J+1].yg-fF[N].yg+g$*fF[a1].yg,hT=fF[J+1].uM-fF[N].uM+g$*fF[a1].uM,P=J+1-N+g$*a1;
H[l9]=fR/P;H[l9+1]=cr/P;var df=(eE-fR*fR/P)/P,eV=(bQ-fR*cr/P)/P,gU=(hT-cr*cr/P)/P,i8=(df+gU+Math.sqrt((df-gU)*(df-gU)+4*eV*eV))/2;
df-=i8;gU-=i8;if(Math.abs(df)>=Math.abs(gU)){L=Math.sqrt(df*df+eV*eV);if(L!=0){T[l9]=-eV/L;T[l9+1]=df/L}}else{L=Math.sqrt(gU*gU+eV*eV);
if(L!=0){T[l9]=-gU/L;T[l9+1]=eV/L}}if(L==0){T[l9]=T[l9+1]=0}}var v=u.A,c=u.aFJ,a1=u.Fk,V=u.on,j=u.BV,Q=u.ac3,H=new Array(v*2),T=new Array(v*2),e=new Array(v),z=new Array(3),N,J,P,L,w,f,O,n,$,d9,i;
u.P5=new q(v);for(N=0;N<v;N++){J=c[K(N+1,v)];J=K(J-c[N],a1)+c[N];H[N<<1]=0;H[(N<<1)+1]=0;T[N<<1]=0;T[(N<<1)+1]=0;
r(u,c[N],J,H,T,N<<1)}for(N=0;N<v;N++){e[N]=[0,0,0,0,0,0,0,0,0];var A=T[N<<1]*T[N<<1]+T[(N<<1)+1]*T[(N<<1)+1],h=1/A;
if(A!=0){z[0]=T[(N<<1)+1];z[1]=-T[N<<1];z[2]=-z[1]*H[(N<<1)+1]-z[0]*H[N<<1];for(L=0;L<3;L++){e[N][L*3+0]=z[L]*z[0]*h;
e[N][L*3+1]=z[L]*z[1]*h;e[N][L*3+2]=z[L]*z[2]*h}}}var C=[0,0,0,0,0,0,0,0,0];for(N=0;N<v;N++){C[0]=C[1]=C[2]=C[3]=C[4]=C[5]=C[6]=C[7]=C[8]=C[9]=0;
var dF=V[c[N]<<1]-j,t=V[(c[N]<<1)+1]-Q,im=0,bc=0;J=K(N-1,v);for(L=0;L<9;L+=3){C[L+0]=e[J][L+0]+e[N][L+0];
C[L+1]=e[J][L+1]+e[N][L+1];C[L+2]=e[J][L+2]+e[N][L+2]}while(1){var at=C[0]*C[4]-C[1]*C[3];if(at!=0){im=(-C[2]*C[4]+C[5]*C[0])/at;
bc=(C[2]*C[3]-C[5]*C[0])/at;break}if(C[0]>C[4]){z[0]=-C[1];z[1]=C[0]}else if(C[4]){z[0]=-C[4];z[1]=C[3]}else{z[0]=1;
z[1]=0}var A=z[0]*z[0]+z[1]*z[1],h=1/A;z[2]=-z[1]*t-z[0]*dF;for(L=0;L<3;L++){C[L*3+0]+=z[L]*z[0]*h;C[L*3+1]+=z[L]*z[1]*h;
C[L*3+2]+=z[L]*z[2]*h}}w=Math.abs(im-dF);f=Math.abs(bc-t);if(w<=.5&&f<=.5){u.P5.K8[N<<1]=im+j;u.P5.K8[(N<<1)+1]=bc+Q;
continue}O=a(C,dF,t);$=dF;d9=t;if(C[0]!=0){for(i=0;i<2;i++){bc=t-.5+i;im=-(C[1]*bc+C[2])/C[0];w=Math.abs(im-dF);
n=a(C,im,bc);if(w<=.5&&n<O){O=n;$=im;d9=bc}}}if(C[4]!=0){for(i=0;i<2;i++){im=dF-.5+i;bc=-(C[3]*im+C[5])/C[4];
f=Math.abs(bc-t);n=a(C,im,bc);if(f<=.5&&n<O){O=n;$=im;d9=bc}}}for(L=0;L<2;L++){for(P=0;P<2;P++){im=dF-.5+L;
bc=t-.5+P;n=a(C,im,bc);if(n<O){O=n;$=im;d9=bc}}}u.P5.K8[N<<1]=$+j;u.P5.K8[(N<<1)+1]=d9+Q}}function G(u){var r=u.P5.g,v=u.P5,N,c,V,j,Q,H,T,e,z;
for(N=0;N<r;N++){c=K(N+1,r);V=K(N+2,r);var J=v.K8[N<<1],P=v.K8[(N<<1)+1],L=v.K8[V<<1],A=v.K8[(V<<1)+1],h=v.K8[c<<1],C=v.K8[(c<<1)+1],w=p(.5,L,h),f=p(.5,A,C);
Q=M(J,P,L,A);if(Q!=0){j=D(h-J,C-P,L-J,A-P)/Q;j=Math.abs(j);H=j>1?1-1/j:0;H=H*(1/.75)}else{H=4/3}v.iz[c]=H;
var O=3*c<<1;if(H>=U.a92){v.Sw[c]=0;v.bO[O+0]=v.bO[O+1]=0;v.bO[O+2]=h;v.bO[O+3]=C;v.bO[O+4]=w;v.bO[O+5]=f}else{if(H<.55){H=.55}else if(H>1){H=1}var n=.5+.5*H;
v.Sw[c]=1;v.bO[O]=p(n,J,h);v.bO[O+1]=p(n,P,C);v.bO[O+2]=p(n,L,h);v.bO[O+3]=p(n,A,C);v.bO[O+4]=w;v.bO[O+5]=f}v.alpha[c]=H;
v.f7[c]=.5}v.ag8=1}function d(u){function r(){this.xv=0;this.a7=0;this.V6=0;this.hE=0;this.$x=0;this.t=0;
this.Sp=0;this.alpha=0}function v(u,N,J,fE,d5,$,d9){var V=u.P5.g,aR=u.P5.bO,l8=u.P5.K8;if(N==J)return 1;
var au=N,h=K(N+1,V),hx=K(au+1,V),bQ=l8[N<<1],hT=l8[(N<<1)+1],fw=l8[h<<1],cx=l8[(h<<1)+1],fg=$[hx];if(fg==0)return 1;
var iI=x(bQ-fw,hT-cx);for(au=hx;au!=J;au=hx){var hx=K(au+1,V),eq=K(au+2,V),fS=l8[hx<<1],f1=l8[(hx<<1)+1],c4=l8[eq<<1],ea=l8[(eq<<1)+1];
if($[hx]!=fg)return 1;if(Math.sign(D(fw-bQ,cx-hT,c4-fS,ea-f1))!=fg)return 1;if(m(fw-bQ,cx-hT,c4-fS,ea-f1)<iI*x(fS-c4,f1-ea)*-.999847695156)return 1}var ie=K(N,V)*3+2<<1,i$=K(N+1,V)<<1,cI=K(J,V)<<1,cD=K(J,V)*3+2<<1,l9=aR[ie],fF=aR[ie+1],fG=l8[i$],cH=l8[i$+1],hL=l8[cI],ee=l8[cI+1],aj=aR[cD],iA=aR[cD+1],i=l8[0],dF=l8[1];
ie=J*3+2<<1;var eL=aR[ie],hZ=aR[ie+1],C=d9[J]-d9[N];C-=D(eL-i,hZ-dF,eL-i,hZ-dF)/2;if(N>=J){C+=d9[V]}var bZ=fG-l9,k_=cH-fF,kW=hL-l9,iU=ee-fF,kO=aj-l9,hq=iA-fF,e8=D(bZ,k_,kW,iU),gi=D(bZ,k_,kO,hq),jZ=D(kW,iU,kO,hq),cg=e8+jZ-gi;
if(gi==e8)return 1;var n=jZ/(jZ-cg),O=gi/(gi-e8),hn=gi*n/2;if(hn==0)return 1;var bF=C/hn,w=2-Math.sqrt(4-bF/.3);
fE.a7=p(n*w,l9,fG);fE.V6=p(n*w,fF,cH);fE.hE=p(O*w,aj,hL);fE.$x=p(O*w,iA,ee);fE.alpha=w;fE.t=n;fE.Sp=O;
fG=fE.a7;cH=fE.V6;hL=fE.hE;ee=fE.$x;fE.xv=0;for(au=K(N+1,V);au!=J;au=hx){hx=K(au+1,V);var gf=l8[au<<1],eH=l8[(au<<1)+1],fS=l8[hx<<1],f1=l8[(hx<<1)+1];
n=y(fG-l9,cH-fF,hL-fG,ee-cH,aj-hL,iA-ee,fS-gf,f1-eH);if(n<-.5)return 1;var h5=R(n,l9,fG,hL,aj),gS=R(n,fF,cH,ee,iA),iI=x(fS-gf,f1-eH);
if(iI==0)return 1;var hP=D(fS-gf,f1-eH,h5-gf,gS-eH)/iI;if(Math.abs(hP)>d5)return 1;if(m(fS-gf,f1-eH,h5-gf,gS-eH)<0||m(gf-fS,eH-f1,h5-fS,gS-f1)<0){return 1}fE.xv+=hP*hP}for(au=N;
au!=J;au=hx){hx=K(au+1,V);var ie=au*3+2<<1,i$=hx*3+2<<1,iy=aR[ie],cs=aR[ie+1],fH=aR[i$],fM=aR[i$+1];
n=y(fG-l9,cH-fF,hL-fG,ee-cH,aj-hL,iA-ee,fH-iy,fM-cs);if(n<-.5)return 1;var h5=R(n,l9,fG,hL,aj),gS=R(n,fF,cH,ee,iA),iI=x(fH-iy,fM-cs);
if(iI==0)return 1;var hP=D(fH-iy,fM-cs,h5-iy,gS-cs)/iI,az=D(fH-iy,fM-cs,l8[hx<<1]-iy,l8[(hx<<1)+1]-cs)/iI;
az*=.75*u.P5.alpha[hx];if(az<0){hP=-hP;az=-az}if(hP<az-d5)return 1;if(hP<az){fE.xv+=(hP-az)*(hP-az)}}return 0}var c=u.P5,V=c.g,j=c.K8,Q=new Array(V+1),H=new Array(V+1),T=new Array(V+1),e=new Array(V+1),z,N,J,P,L=new r,A,h,C,w,f,O,n,$=new Array(V),d9=new Array(V+1);
for(N=0;N<V;N++){if(c.Sw[N]=="CURVE"){var i=j[K(N-1,V)<<1],dF=j[(K(N-1,V)<<1)+1],t=j[N<<1],im=j[(N<<1)+1],bc=j[K(N+1,V)<<1],at=j[(K(N+1,V)<<1)+1];
$[N]=Math.sign(D(t-i,im-dF,bc-t,at-im))}else{$[N]=0}}C=0;d9[0]=0;var l9=c.K8[0],fF=c.K8[1];for(N=0;N<V;
N++){h=K(N+1,V);if(c.Sw[h]=="CURVE"){w=c.alpha[h];var g$=N*3+2<<1,fR=h*3+2<<1,cr=c.bO[g$],eE=c.bO[g$+1],bQ=j[h<<1],hT=j[(h<<1)+1],df=c.bO[fR],eV=c.bO[fR+1];
C+=.3*w*(4-w)*D(bQ-cr,hT-eE,df-cr,eV-eE)/2;C+=D(cr-l9,eE-fF,df-l9,eV-fF)/2}d9[N+1]=C}Q[0]=-1;H[0]=0;
T[0]=0;for(J=1;J<=V;J++){Q[J]=J-1;H[J]=H[J-1];T[J]=T[J-1]+1;for(N=J-2;N>=0;N--){P=v(u,N,K(J,V),L,U.arj,$,d9);
if(P){break}if(T[J]>T[N]+1||T[J]==T[N]+1&&H[J]>H[N]+L.xv){Q[J]=N;H[J]=H[N]+L.xv;T[J]=T[N]+1;e[J]=L;L=new r}}}z=T[V];
f=new q(z);O=new Array(z);n=new Array(z);J=V;for(N=z-1;N>=0;N--){var gU=K(J,V),i8=N*3+0<<1,bv=gU*3+0<<1;
if(Q[J]==J-1){f.Sw[N]=c.Sw[gU];f.bO[i8]=c.bO[bv];f.bO[i8+1]=c.bO[bv+1];f.bO[i8+2]=c.bO[bv+2];f.bO[i8+3]=c.bO[bv+3];
f.bO[i8+4]=c.bO[bv+4];f.bO[i8+5]=c.bO[bv+5];f.K8[N<<1]=c.K8[gU<<1];f.K8[(N<<1)+1]=c.K8[(gU<<1)+1];f.alpha[N]=c.alpha[gU];
f.iz[N]=c.iz[gU];f.f7[N]=c.f7[gU];O[N]=n[N]=1}else{f.Sw[N]="CURVE";f.bO[i8]=e[J].a7;f.bO[i8+1]=e[J].V6;
f.bO[i8+2]=e[J].hE;f.bO[i8+3]=e[J].$x;f.bO[i8+4]=c.bO[bv+4];f.bO[i8+5]=c.bO[bv+5];f.K8[N<<1]=p(e[J].Sp,c.bO[bv+4],j[gU<<1]);
f.K8[(N<<1)+1]=p(e[J].Sp,c.bO[bv+5],j[(gU<<1)+1]);f.alpha[N]=e[J].alpha;f.iz[N]=e[J].alpha;O[N]=e[J].Sp;
n[N]=e[J].t}J=Q[J]}for(N=0;N<z;N++){h=K(N+1,z);f.f7[N]=O[N]/(O[N]+n[h])}f.ag8=1;u.P5=f}for(var N=0;N<B.length;
N++){var u=B[N];s(u);F(u);E(u);o(u);G(u);if(U.acA)d(u)}}return{aEa:X,aen:k}}();f3.a4=function(W,q,X,k){var B={WW:"minority",aL1:k,acA:!0,a92:1,arj:.2},U=f3.aEa(W,q,X,B);
f3.aen(U,B);return U};f3.Yb=function(W){var q=[];for(var N=0;N<W.length;N++){var X=W[N],k=X.P5,B=["M"],U=[k.bO[(k.g-1)*6+4],k.bO[(k.g-1)*6+5]];
for(var l=0;l<k.g;l++){var K=l*6;if(k.Sw[l]==1){B.push("C");for(var D=0;D<6;D++)U.push(k.bO[K+D])}else if(k.Sw[l]==0){B.push("L");
for(var D=2;D<4;D++)U.push(k.bO[K+D])}}B.push("Z");q.push({parent:X.parent,color:X.color,path:{n:U,zb:B}})}return q};
f3.We=function(W,q,X){var a1=W.length>>1,k,B=W[2*a1-3]-X,U=W[2*a1-2]-q,l=W[2*a1-1]-X,K=l>B,D=0;for(var N=0;
N<a1;N++){k=U;B=l;U=W[2*N]-q;l=W[2*N+1]-X;if(B==l)continue;K=l>B}for(var N=0;N<a1;N++){k=U;B=l;U=W[2*N]-q;
l=W[2*N+1]-X;if(B<0&&l<0)continue;if(B>0&&l>0)continue;if(k<0&&U<0)continue;if(B==l&&Math.min(k,U)<=0)return!0;
if(B==l)continue;var m=k+(U-k)*-B/(l-B);if(m==0)return!0;if(m>0)D++;if(B==0&&K&&l>B)D--;if(B==0&&!K&&l<B)D--;
K=l>B}return(D&1)==1};f3.fill=function(W,q,X,k){var B=q[W],U=[W],l=0;while(l<U.length){var K=U[l];l++;
q[K]=k;if(q[K-X]==B){U.push(K-X);q[K-X]=254}if(q[K-1]==B){U.push(K-1);q[K-1]=254}if(q[K+1]==B){U.push(K+1);
q[K+1]=254}if(q[K+X]==B){U.push(K+X);q[K+X]=254}}};var fm=function(){function W(m){return Math.max(0,Math.min(1,m))}function q(m,Y){var a=Y<0?-Y:Y;
if(m>1)m=.99;m=m*.99;var p=Math.pow(a/5,.16),M=Math.pow(2,a<1?a:1+(a-1)*.8);if(Y<0)M=1/M;m=p*(1-Math.pow(1-m,M))+(1-p)*m;
return m}function X(m,Y){var a=Y/100;m=m*.99;m=a*(.5-.5*Math.cos(m*Math.PI))+(1-a)*m;return m}function k(m,Y){var a=Y*.01,p=Math.abs(a);
if(Y<0)m=Math.max(0,-p*.33+m*(1+p*.33));else{var M=.25+.15*p;if(m<.25)m*=M/.25;else m=M+(1-M)*((m-.25)/(1-.25))}return m}function B(m,Y){if(Y<0)m=m*(1+862e-6*Y);
else m=m*(1+.012*Y);return m}var U=g.Id.n8(1,1,1,-.3),l=g.Id.i5(U);function K(m,Y,a,p,M,x,R,y,s){var F=m[a],E=m[a+1],o=m[a+2],G=g.Id.Z2(U,[F,E,o,1]);
F=G[0];E=G[1];o=G[2];F=q(F,p);E=q(E,p);o=q(o,p);var G=g.Id.Z2(l,[F,E,o,1]);F=G[0];E=G[1];o=G[2];F=W(F);
E=W(E);o=W(o);F=X(F,M);E=X(E,M);o=X(o,M);F=k(F,R);E=k(E,R);o=k(o,R);F=B(F,x);E=B(E,x);o=B(o,x);var d=l5.aIR(F,E,o,y);
F=d[0];E=d[1];o=d[2];F=W(F);E=W(E);o=W(o);if(s){var u=new Uint8Array(4);u[0]=~~(.5+F*255);u[1]=~~(.5+E*255);
u[2]=~~(.5+o*255);dZ.GT(s,u,u,new dU(0,0,1,1));F=u[0]/255;E=u[1]/255;o=u[2]/255}Y[a]=F;Y[a+1]=E;Y[a+2]=o}function D(m,Y,a,p,M){var x=M.Ex12?M.Ex12.v:0,R=M.Cr12?M.Cr12.v:0,y=M.Wh12?M.Wh12.v:0,s=M.Bk12?M.Bk12.v:0,F=M.Temp?M.Temp.v:0,E=M.Tint?M.Tint.v:0,o=M.Vibr?M.Vibr.v:0,G=M.Strt?M.Strt.v:0,d=l5.b6(F,E),u=null;
x+=d.aJ_;if(o!=0||G!=0)u=dZ.z2("vibA",{Strt:M.Strt,vibrance:M.Vibr});console.log(M);var r=Date.now();
if(p!=m)p.set(m);if(x!=0||R!=0||y!=0||s!=0||F!=0||E!=0||u){console.log(x,R,y,s,F,E,u);var v=17,c=1/(v-1),V=v*v*v,j=new Array(V*3);
for(var Q=0;Q<v;Q++)for(var H=0;H<v;H++)for(var T=0;T<v;T++){var N=Q*v*v+H*v+T,e=N*3;j[e]=Q*c;j[e+1]=H*c;
j[e+2]=T*c}for(var N=0;N<V;N++)K(j,j,N*3,x,R,y,s,d,u);console.log(Date.now()-r,"making LUT");r=Date.now();
ICC.U.applyLUT(j,v,p,p);console.log(Date.now()-r,"applying LUT");r=Date.now()}var z=(M.Hi12?M.Hi12.v:0)*.01,J=(M.Sh12?M.Sh12.v:0)*.01;
if(z!=0||J!=0){var r=Date.now(),P=!1,L=g.j(Y*a,32),A=p.length,h=.3,C=.59,w=.11;for(var N=0;N<A;N+=4){var f=p[N+0]*h+p[N+1]*C+p[N+2]*w;
L[N>>2]=f<.3?J*3*(.3-f):z*.7*(f-.3)}if(P)console.log(0,Date.now()-r);r=Date.now();g.Zt.Yd(L,new dU(0,0,Y,a),8);
if(P)console.log(1,Date.now()-r);r=Date.now();for(var O=0;O<a;O++)for(var n=0;n<Y;n++){var N=O*Y+n,$=N*4,d9=1+L[N];
p[$]=W(p[$]*d9);p[$+1]=W(p[$+1]*d9);p[$+2]=W(p[$+2]*d9)}if(P)console.log(2,Date.now()-r,Y,a);r=Date.now()}var i=(M.CrTx?M.CrTx.v:0)*.01,dF=(M.Cl12?M.Cl12.v:0)*.01,t=(M.Dhze?M.Dhze.v:0)*.01;
if(i!=0||dF!=0){var L=g.j(Y*a,32);for(var N=0;N<p.length;N+=4)L[N>>2]=(p[N+0]+p[N+1]+p[N+2])*.333333;
var im=L.slice(0);g.Zt.Yd(im,new dU(0,0,Y,a),16);if(P)console.log(1,Date.now()-r);r=Date.now();for(var O=0;
O<a;O++)for(var n=0;n<Y;n++){var N=O*Y+n,$=N*4,f=L[N],bc=im[N],Q=p[$],H=p[$+1],T=p[$+2],at=bc+(f-bc)*(1+i*.3)-f;
Q=Q+at;H=H+at;T=T+at;Q=Q*(1+dF*(f-bc));H=H*(1+dF*(f-bc));T=T*(1+dF*(f-bc));p[$]=W(Q);p[$+1]=W(H);p[$+2]=W(T)}}var l9=Y*a;
if(t!=0){var r=Date.now(),fF=g.j(l9),cr=0;for(var N=0;N<l9;N++){var $=N<<2;fF[N]=~~(255*Math.min(p[$],p[$+1],p[$+2]))}var g$=Math.round(Math.min(Y,a)/80),fR=fF.slice(0);
g._R.bQ(fR,fF,Y,a,g$);g.Zt.Yd(fF,new dU(0,0,Y,a),g$);var eE=-1;for(var N=0;N<l9;N++)if(fF[N]>eE){eE=fF[N];
cr=N}var bQ=p[cr*4],hT=p[cr*4+1],df=p[cr*4+2],eV=(bQ+hT+df)/3;for(var N=0;N<l9;N++){var $=N*4,gU=fF[N]/255,i8=1-t*gU,bv=1/Math.max(i8,.1);
p[$]=W((p[$]-bQ)*bv+bQ);p[$+1]=W((p[$+1]-hT)*bv+hT);p[$+2]=W((p[$+2]-df)*bv+df)}}}return D}();function bH(){}bH.WZ=function(W,q){var X=new Uint8Array(W),k=0,B=q.split("/").pop().split(".")[0];
function U(y){for(var N=0;N<y.length;N++)y[N].v.Nm.v=B+"/"+y[N].v.Nm.v.split("/").pop()}var l={n5:[],OJ:[],list:[]},K=Z.U_(X,k);
k+=2;if(K<=2){l=bH.ad0(X);U(l.list);return l}var D=Z.U_(X,k);k+=2;var m=Z.zD(X,k,8);k+=8;var Y=Z.WP(X,k);
k+=4;if(Y>0)l.n5=bH.aj$(X,k,Y,D,K);k+=Y;var a=Z.zD(X,k,8);k+=8;var p=Z.WP(X,k);k+=4;if(p>0)l.OJ=fK.Jq(X,k,p);
k+=p;var M=Z.zD(X,k,8);k+=8;var x=Z.WP(X,k);k+=4;if(x>0){var R={};b3.Xh(X,R,k+4);l.list=R.Brsh.v}k+=x;
var y=l.list;for(var N=0;N<y.length;N++){gs.t$.check(y[N].v)}U(y);return l};bH.b1=function(W,q){W.v.Nm.v=q};
bH.ad0=function(W){var q={n5:[],OJ:[],list:[]},X=0,k=Z.U_(W,X);X+=2;var B=Z.U_(W,X);X+=2;for(var N=0;
N<B;N++){var U=Z.U_(W,X);X+=2;var l=Z.WP(W,X);X+=4;var K=X;if(U==2){var D={};q.n5.push(D);var m=Z.WP(W,K);
K+=4;var Y=Z.U_(W,K);K+=2;if(k==2){var a=Z.DX(W,K);K+=4+a.length*2+2}D.id=ey.Gk()+"-d71c-11e5-b1ae-a548a96e5f9f";
K++;K+=8;D.OM=Z.Rc(W,K);K+=16;var p=Z.U_(W,K);K+=2;var M=W[K];K++;var x=dI.u2(!1,p,W,D.OM.r,D.OM.$,K,M);
x=g.Cn(x,8);bH.aej(D,x);var R=gs.FL(D.id),y=R.Brsh.v;y.Dmtr.v.val=D.OM.r;y.Spcn.v.val=Y;q.list.push({t:"Objc",v:R})}X+=l}return q};
bH.zX=function(W){var q=new dl,X=0,k=0;Z.Hz(q,X,6);X+=2;Z.Hz(q,X,2);X+=2;var B={},U=[],l={},K=[];for(var N=0;
N<W.list.length;N++){var D=W.list[N].v,m=D.Brsh.v;if(m.classID=="sampledBrush")B[m.sampledData.v]=!0;
if(D.Txtr)l[D.Txtr.v.Idnt.v]=!0}for(var N=0;N<W.n5.length;N++)if(B[W.n5[N].id])U.push(W.n5[N]);for(var N=0;
N<W.OJ.length;N++)if(B[W.OJ[N].id])K.push(W.OJ[N]);Z.Me(q,X,"8BIMsamp");X+=8;X+=4;k=X;X=bH.a32(q,X,U);
Z.YK(q,k-4,X-k);Z.Me(q,X,"8BIMpatt");X+=8;X+=4;k=X;X=fK.MO(q,X,K);Z.YK(q,k-4,X-k);var Y=g.N(W.list);
for(var N=0;N<Y.length;N++)Y[N].v.Nm.v=Y[N].v.Nm.v.split("/").pop();var a={classID:"null",Brsh:{t:"VlLs",v:Y}};
Z.Me(q,X,"8BIMdesc");X+=8;X+=4;k=X;Z.YK(q,X,16);X+=4;X+=b3.so(q,a,X);Z.YK(q,k-4,X-k);return q.data.slice(0,X).buffer};
bH.aj$=function(W,q,X,k,B){var U=Z.WP,l=Z.Rc,K=q+X,D=[];while(q<K){var m={};D.push(m);var Y=U(W,q);q+=4;
var a=q,p=Z.E1(W,q);q+=p.length;m.id=p.AA;if(k==1){q+=9;m.OM=l(W,q);q+=16}else{q+=7;var M=U(W,q);q+=4;
m.OM=l(W,q);q+=16;var x=U(W,q);q+=4;q+=x*4;var R=U(W,q);q+=4;var y=U(W,q);q+=4;var s=l(W,q);q+=16}var F=Z.U_(W,q);
q+=2;var E=W[q];q+=1;var o=dI.u2(!1,F,W,m.OM.r,m.OM.$,q,E);o=g.Cn(o,8);bH.aej(m,o);if(Y%4!=0)Y+=4-Y%4;
q=a+Y}return D};bH.aej=function(W,q){var X=W.OM.P();X.x=X.y=0;W.CH=[q,X]};bH.a32=function(W,q,X){var k=Z.YK,B=Z.nw;
for(var N=0;N<X.length;N++){var U=X[N],l=q+4,D=56,Y=1;q+=4;Z.Uo(W,q,U.id);q+=U.id.length+2;W.Td(q,1);
W.data[q]=1;q+=3;k(W,q,3);q+=4;var K=q;q+=4;B(W,q,U.OM);q+=16;k(W,q,D);q+=4;q+=D*4;k(W,q-4,1);var m=q;
q+=4;k(W,q,8);q+=4;B(W,q,U.OM);q+=16;Z.Hz(W,q,8);q+=2;W.Td(q,1);W.data[q]=Y;q++;var a=U.CH[0];W.Td(q,U.OM.C()*2);
q=dI.rW(!1,a,W.data,U.OM.r,U.OM.$,q,Y);W.Td(q,8);q+=8;var p=q-l;k(W,l-4,p);k(W,K,p-49);k(W,m,p-305);
if(p%4!=0)q+=4-p%4}return q};function eR(){}eR.WZ=function(W,q){var X=new Uint8Array(W),k=[],B=0,U=Z.U_(X,B);
B+=2;if(U!=4){throw"Unknown version of curves: "+U}var l=Z.U_(X,B);B+=2;for(var N=0;N<l;N++){var K=eR.aGh(X,B);
B+=2+2*K.length;k.push(K)}if(B!=X.length){var D=Z.zD(X,B,4);B+=4;var m=Z.U_(X,B);B+=2;var Y=Z.U_(X,B);
B+=2;if(Y!=0)throw"extra curves for channels"}var a=eR.alv(k,0);a.presetKind={t:"long",v:3};a.presetFileName={t:"TEXT",v:q.split("/").pop().split(".")[0]};
return[a]};eR.B1=function(W,q,X,k){var B=k?Z.P2:Z.WP,U=q,l=[],K=W[q];q+=3;var D=B(W,q);q+=4;for(var N=0;
N<4;N++){var m=D>>>N&1;if(m){if(K==0){var Y=eR.aGh(W,q,k);q+=2+2*Y.length}else{var Y=eR.afF(W,q);q+=256}l.push(Y)}else l.push(K==0?[0,0,255,255]:eR.aJZ())}var a=eR.alv(l,K);
return a};eR.alv=function(W,q){var X=dY.wy("curv");for(var N=0;N<4;N++){if(q==0){var k=W[N],B=[];for(var U=0;
U<k.length;U+=2)B.push(g.yz.B9(k[U],k[U+1],!0));eR.jr(X,N,B)}else eR.jr(X,N,W[N])}return X};eR.b0=function(W,q,X){var k=[];
for(var N=0;N<4;N++){var B=eR.XN(X,N);if(B.length==256)k.push(B);else{var U=[];for(var l=0;l<B.length;
l++)U.push(B[l].v.Hrzn.v,B[l].v.Vrtc.v);k.push(U)}}var K=q,D=k[0].length==256?1:0;W.Td(q,3);W.data[q]=D;
W.data[q+1]=0;W.data[q+2]=1;q+=3;Z.YK(W,q,15);q+=4;for(var N=0;N<4;N++){var m=k[N];if(D==0){eR.aBI(W,q,m);
q+=2+2*m.length}else{eR.a2q(W,q,m);q+=256}}return q-K};eR.aJZ=function(){var W=[];for(var N=0;N<256;
N++)W.push(N);return W};eR.jr=function(W,q,X){var k=i0.Wq("CrvA",q);if(X.length<256)k.Crv={t:"VlLs",v:X};
else{k.Mpng={t:"VlLs",v:[]};for(var N=0;N<256;N++)k.Mpng.v[N]={t:"long",v:X[N]}}k={t:"Objc",v:k};if(W.Adjs==null)W.Adjs={t:"VlLs",v:[]};
var B=W.Adjs.v,U=i0.q_(B,q);if(U==-1)B.push(k);else B[U]=k};eR.XN=function(W,q){var X=W.Adjs?W.Adjs.v:[],k=i0.q_(X,q);
if(k==-1){if(X.length==0||X[0].v.Crv)return[g.yz.B9(0,0,!0),g.yz.B9(255,255,!0)];if(X[0].v.autoMachineLearning||X[0].v.AuCo)return[g.yz.B9(0,0,!0),g.yz.B9(128,160,!0),g.yz.B9(255,255,!0)];
var B=[];for(var N=0;N<256;N++)B.push(N);return B}var U=X[k].v;if(U.Crv)return U.Crv.v;if(U.Mpng){var B=[];
for(var N=0;N<256;N++)B.push(U.Mpng.v[N].v);return B}return[g.yz.B9(0,0,!0),g.yz.B9(255,255,!0)]};eR.aGh=function(W,q,X){var k=X?Z.Sm:Z.U_,B=[],U=k(W,q);
q+=2;for(var l=0;l<U;l++){var K=k(W,q);q+=2;var D=k(W,q);q+=2;B.push(D,K)}return B};eR.aBI=function(W,q,X){var k=X.length/2;
Z.Hz(W,q,k);q+=2;for(var B=0;B<k;B++){Z.Hz(W,q,X[B*2+1]);q+=2;Z.Hz(W,q,X[B*2+0]);q+=2}};eR.afF=function(W,q){var X=[];
for(var N=0;N<256;N++)X.push(W[q+N]);return X};eR.a2q=function(W,q,X){W.Td(q,256);for(var N=0;N<256;
N++)W.data[q+N]=X[N]};function cW(){}cW.B1=function(W,q,X,k){var B={},U=k?Z.Sm:Z.U_,l=k?Z.lm:Z.dd,K=U(W,q);
q+=2;B.sm=W[q]==1;q++;q++;B.T4=[l(W,q),l(W,q+2),l(W,q+4)];q+=6;B.DY=[l(W,q),l(W,q+2),l(W,q+4)];q+=6;
B.Gp=[];for(var N=0;N<6;N++){var D={};D.DU=[l(W,q),l(W,q+2),l(W,q+4),l(W,q+6)];q+=8;D.al=[l(W,q),l(W,q+2),l(W,q+4)];
q+=6;B.Gp.push(D)}var m=dY.wy("hue2"),Y=B;if(m.Clrz==null)m.Clrz={t:"bool",v:!1};m.Clrz.v=Y.sm;for(var N=0;
N<7;N++){var a=N==0?Y.sm?Y.T4:Y.DY:Y.Gp[N-1];cW.jr(m,N,a)}return m};cW.avO=function(W){return{classID:"Hst2",H:{t:"long",v:W[0]},Strt:{t:"long",v:W[1]},Lght:{t:"long",v:W[2]}}};
cW.q_=function(W,q){for(var N=0;N<W.length;N++){var X=W[N].v.LclR;if(q==0&&X==null||X!=null&&X.v==q)return N}return-1};
cW.jr=function(W,q,X){var k=q==0?X:X.al,B=cW.avO(k);if(q!=0){var U=X.DU;B.LclR={t:"long",v:q},B.BgnR={t:"long",v:U[0]};
B.BgnS={t:"long",v:U[1]};B.EndS={t:"long",v:U[2]};B.EndR={t:"long",v:U[3]}}B={t:"Objc",v:B};var l=W.Adjs.v,K=cW.q_(l,q);
if(K==-1)l.push(B);else l[K]=B};cW.XN=function(W,q){var X=W.Adjs.v,k=cW.q_(X,q);if(k==-1){if(q==0)return[0,0,0];
else return[{DU:[315,345,15,45],al:[0,0,0]},{DU:[15,45,75,105],al:[0,0,0]},{DU:[75,105,135,165],al:[0,0,0]},{DU:[135,165,195,225],al:[0,0,0]},{DU:[195,225,255,285],al:[0,0,0]},{DU:[255,285,315,345],al:[0,0,0]}][q-1]}var B=X[k].v,U=[B.H.v,B.Strt.v,B.Lght.v];
if(q==0)return U;return{al:U,DU:[B.BgnR.v,B.BgnS.v,B.EndS.v,B.EndR.v]}};cW.b0=function(W,q,X){var k={sm:X.Clrz?X.Clrz.v:!1,Gp:[]};
k.T4=k.DY=cW.XN(X,0);for(var N=1;N<7;N++)k.Gp.push(cW.XN(X,N));var B=2+2+12+6*14,U=W.data;W.Td(q,B);
Z.SX(U,q,2);q+=2;U[q]=k.sm?1:0;q++;q++;Z.bg(U,q+0,k.T4[0]);Z.bg(U,q+2,k.T4[1]);Z.bg(U,q+4,k.T4[2]);q+=6;
Z.bg(U,q+0,k.DY[0]);Z.bg(U,q+2,k.DY[1]);Z.bg(U,q+4,k.DY[2]);q+=6;for(var N=0;N<6;N++){var l=k.Gp[N].DU,K=k.Gp[N].al;
Z.bg(U,q+0,l[0]);Z.bg(U,q+2,l[1]);Z.bg(U,q+4,l[2]);Z.bg(U,q+6,l[3]);q+=8;Z.bg(U,q+0,K[0]);Z.bg(U,q+2,K[1]);
Z.bg(U,q+4,K[2]);q+=6}return B};function i0(){}i0.WZ=function(W,q){var X=new Uint8Array(W),k=2,B=q?Z.Sm:Z.U_,U=[];
for(var N=0;N<29;N++){var l=[];U.push(l);for(var K=0;K<5;K++)l.push(B(X,k+N*10+K*2))}k+=29*10;if(k<X.length){var D=Z.LS(X,k,q);
k+=4;var m=B(X,k);k+=2;var Y=B(X,k);k+=2;var a=Y-29;for(var N=0;N<a;N++){var l=[];U.push(l);for(var K=0;
K<5;K++)l.push(B(X,k+N*10+K*2))}}var p=dY.wy("levl");for(var N=0;N<4;N++)i0.jr(p,N,U[N]);return p};i0.Wq=function(W,N){var q=["Cmps","Rd","Grn","Bl"],X={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:q[N]}}]};
return{classID:W,Chnl:X}};i0.q_=function(W,q){var X={Cmps:0,Rd:1,Grn:2,Bl:3};for(var N=0;N<W.length;
N++){var k=W[N].v,B=X[k.Chnl.v[0].v.enum];if(B==q)return N}return-1};i0.jr=function(W,q,X){var k=i0.Wq("LvlA",q);
k.Inpt={t:"VlLs",v:[{t:"long",v:X[0]},{t:"long",v:X[1]}]};k.Otpt={t:"VlLs",v:[{t:"long",v:X[2]},{t:"long",v:X[3]}]};
k.Gmm={t:"doub",v:X[4]/100};k={t:"Objc",v:k};var B=W.Adjs.v,U=i0.q_(B,q);if(U==-1)B.push(k);else B[U]=k};
i0.XN=function(W,q){var X=[0,255,0,255,100],k=W.Adjs.v,B=i0.q_(k,q);if(B==-1)return X;var U=k[B].v;if(U.Inpt){X[0]=U.Inpt.v[0].v;
X[1]=U.Inpt.v[1].v}if(U.Otpt){X[2]=U.Otpt.v[0].v;X[3]=U.Otpt.v[1].v}if(U.Gmm){X[4]=Math.round(U.Gmm.v*100)}return X};
i0.zX=function(W,q){var X=[],k=0;for(var N=0;N<4;N++)X.push(i0.XN(q,N));while(X.length<29)X.push([0,255,0,255,100]);
W.Td(0,2+10*29);Z.SX(W.data,k,2);k+=2;for(var N=0;N<29;N++){var B=X[N];for(var U=0;U<5;U++)Z.SX(W.data,k+N*10+U*2,B[U])}k+=29*10;
if(X.length==29)return k;W.Td(k,8+10*(X.length-29));Z.o3(W.data,k,"Lvls");k+=4;Z.SX(W.data,k,3);k+=2;
Z.SX(W.data,k,X.length);k+=2;var l=X.length-29;for(var N=0;N<l;N++){var B=X[29+N];for(var U=0;U<5;U++)Z.SX(W.data,k+N*10+U*2,B[U])}k+=10*l;
return k};function ae(){}ae.WZ=function(W,q){var X=new Uint8Array(W),k=2,B=q.split("/").pop().split(".")[0],U={B3:[],T_:[]},l=Z.zD(X,k,4);
k+=4;var K=Z.U_(X,k);k+=2;var D=Z.WP(X,k);k+=4;U.B3=fK.Jq(X,k,D);k+=D;var m=Z.WP(X,k);k+=4;for(var N=0;
N<m;N++){var Y=Z.WP(X,k);k+=4;var a=k,p={M$:{},NF:{}};U.T_.push(p);k+=4;k+=b3.Xh(X,p.M$,k);p.M$.Nm.v=B+"/"+p.M$.Nm.v.split("=").pop();
k+=4;k+=b3.Xh(X,p.NF,k);k=a+Y;var M=p.NF.blendOptions,x=p.NF.Lefx;if(M&&Object.keys(M.v).length>1){}if(x){if(x.v.masterFXSwitch==null)x.v.masterFXSwitch={t:"bool",v:!0};
aK.ae(x.v)}}return U};ae.b1=function(W,q){W.M$.Nm.v=q};ae.zX=function(W){var q=new dl,X=0;Z.Hz(q,X,2);
X+=2;Z.Me(q,X,"8BSL");X+=4;Z.Hz(q,X,3);X+=2;var k=X;X+=4;X=fK.MO(q,X,W.B3);Z.YK(q,k,X-k-4);var B=W.T_.length;
Z.YK(q,X,B);X+=4;for(var N=0;N<B;N++){X+=4;var U=X,l=W.T_[N];Z.YK(q,X,16);X+=4;var K=l.M$.Nm.v;l.M$.Nm.v=l.M$.Nm.v.split("/").pop();
X+=b3.so(q,l.M$,X);l.M$.Nm.v=K;var D=l.NF.Lefx;if(D){l.NF.Lefx=g.N(D);aK.ST(l.NF.Lefx.v)}Z.YK(q,X,16);
X+=4;X+=b3.so(q,l.NF,X);if(D)l.NF.Lefx=D;Z.YK(q,U-4,X-U)}return q.data.slice(0,X).buffer};function hM(){}hM.B1=function(W,q,X,k){var B=k?Z.Sm:Z.U_,U=k?Z.lm:Z.dd,l=B(W,q);
q+=2;var K={};K.FA=B(W,q)==1;q+=2;K.$Y=[];for(var N=0;N<10;N++){var D=[];K.$Y.push(D);for(var m=0;m<4;
m++)D.push(U(W,q+m*2));q+=8}var Y=dY.wy("selc");Y.Mthd.v.CrcM=K.FA?"Absl":"Rltv";for(var N=1;N<10;N++)hM.jr(Y,N-1,K.$Y[N]);
return Y};hM.wi="Rds Ylws Grns Cyns Bls Mgnt Whts Ntrl Blks".split(" ");hM.Wq=function(W,N){var q=["Cmps","Rd","Grn","Bl"],X={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:q[N]}}]};
return{classID:W,Chnl:X}};hM.q_=function(W,q){var X=hM.wi;for(var N=0;N<W.length;N++){var k=W[N].v,B=X.indexOf(k.Clrs.v.Clrs);
if(B==q)return N}return-1};hM.jr=function(W,q,X){var k=["Cyn","Mgnt","Ylw","Blck"],B={classID:"ClrC",Clrs:{t:"enum",v:{Clrs:hM.wi[q]}}};
for(var U=0;U<4;U++)B[k[U]]={t:"UntF",v:{type:"#Prc",val:X[U]}};B={t:"Objc",v:B};var l=W.ClrC.v,K=hM.q_(l,q);
if(K==-1)l.push(B);else l[K]=B};hM.XN=function(W,q){var X=[0,0,0,0],k=W.ClrC.v,B=hM.q_(k,q);if(B==-1)return X;
var U=["Cyn","Mgnt","Ylw","Blck"];for(var N=0;N<4;N++)if(k[B].v[U[N]])X[N]=k[B].v[U[N]].v.val;return X};
hM.b0=function(W,q,X){var k={FA:X.Mthd.v.CrcM=="Absl",$Y:[[0,0,0,0]]};for(var N=0;N<9;N++)k.$Y.push(hM.XN(X,N));
W.Td(q,84);Z.SX(W.data,q,1);q+=2;Z.SX(W.data,q,k.FA?1:0);q+=2;for(var N=0;N<10;N++){var B=k.$Y[N];for(var U=0;
U<4;U++)Z.bg(W.data,q+U*2,B[U]);q+=8}return 84};function jz(){}jz.wy=function(){return{IH:new dU(0,0,50,50),M$:"",s$:"play",G:g.z.oz.XA([.1,.1,.9,.5,.1,.9],0)}};
jz.WZ=function(W,q){W=new Uint8Array(W);var X=0,k=[],B=q.split("/").pop().split(".")[0],U=Date.now(),l=Z.zD(W,0,4);
X+=4;var K=Z.WP(W,X);X+=4;var D=Z.WP(W,X);X+=4;for(var N=0;N<D;N++){var m=Z.DX(W,X);X+=m.length*2+4+2;
if((m.length&1)==0)X+=2;X=jz.avT(W,X,m,k);k[N].s$=B+"/"+k[N].s$}return k};jz.avT=function(W,q,X,k){var B=Z.WP(W,q);
q+=4;var U=Z.WP(W,q);q+=4;var l=q,K=Z.E1(W,l).AA;l+=K.length+1;var D=Z.Rc(W,l);l+=16;var m=jz.rd(W,l,U-(l-q)),Y=g.z.Y$(m),a=g.b.Hb(Y),p=1/a.r,M=1/a.$;
g.z.Y9(m,new ka(p,0,0,M,-a.x*p,-a.y*M));k.push({s$:X,M$:K,G:m,IH:D});q+=U;return q};jz.b1=function(W,q){W.s$=q};
jz.zX=function(W){var q=new dl,X=0;Z.Me(q,X,"cush");X+=4;Z.YK(q,X,2);X+=4;Z.YK(q,X,W.length);X+=4;for(var N=0;
N<W.length;N++){var k=W[N],B=k.s$.split("/").pop()+"\0";Z.cr(q,X,B);X+=4+B.length*2;if((B.length&1)==1)X+=2;
Z.YK(q,X,1);X+=4;X+=4;var U=X;Z.Uo(q,X,k.M$);X+=k.M$.length+1;Z.nw(q,X,k.IH);X+=16;q.Td(X,k.G.length*26);
jz.pn(q.data,X,k.G,1,1);X+=k.G.length*26;var l=X-U;if((l&3)!=0)l+=4-(l&3);Z.YK(q,U-4,l);X=U+l}return q.data.slice(0,X).buffer};
jz.aHn=function(W){var q=[];for(var N=0;N<W.length;N++){var X=W[N],k=X.I,B={type:k};q.push(B);if(k==6){}else if(k==8)B.all=X.all;
else if(k==0||k==3){B.length=X.length;B.boolop=X.R3;B.frule=X.HG;B.prmA=X.Wm;B.prmB=X.jA}else{B.c=[X.mp.x,X.mp.y,X.WL.x,X.WL.y,X.ko.x,X.ko.y]}}return q};
jz.aiZ=function(W){var q=[];for(var N=0;N<W.length;N++){var X=W[N],k=X.type,B={I:k};q.push(B);if(k==6){}else if(k==8)B.all=X.all;
else if(k==0||k==3){B.length=X.length;B.R3=X.boolop;B.HG=X.frule;B.Wm=X.prmA;B.jA=X.prmB}else{var U=X.c;
B.mp=new hw(U[0],U[1]);B.WL=new hw(U[2],U[3]);B.ko=new hw(U[4],U[5])}}return q};jz.rd=function(W,q,X,k,B,U){if(k==null)k=1;
if(B==null)B=1;var l=U?Z.aAI:Z.avV;function K(F,E,o){var G=l(F,E)*o,d=Math.round(G);return Math.abs(G-d)<1e-6?d:G}var D=U?Z.lm:Z.dd,m=U?Z.P2:Z.WP,Y=[],a=Math.floor(X/26);
for(var N=0;N<a;N++){var p=q+N*26,M={},x=0;Y.push(M);M.I=D(W,p);p+=2;if(M.I==6){x=24}if(M.I==8){M.all=D(W,p);
p+=2;x=22}if(M.I==0||M.I==3){M.length=D(W,p);p+=2;M.R3=D(W,p);p+=2;M.HG=D(W,p);p+=2;M.Wm=m(W,p);p+=4;
M.jA=m(W,p);p+=4;x=10}if(M.I==1||M.I==2||M.I==4||M.I==5){var R,y;y=K(W,p,B);p+=4;R=K(W,p,k);p+=4;M.mp=new hw(R,y);
y=K(W,p,B);p+=4;R=K(W,p,k);p+=4;M.WL=new hw(R,y);y=K(W,p,B);p+=4;R=K(W,p,k);p+=4;M.ko=new hw(R,y);x=0}for(var s=0;
s<x;s++)if(W[p+s]!=0){console.log("Unexpected non-zero byte!",M,s,W[p+s])}}return Y};jz.pn=function(W,q,X,k,B){var U=Z.bg,l=Z.asy,K=X.length;
for(var N=0;N<K;N++){var D=q+N*26,m=X[N];U(W,D,m.I);D+=2;if(m.I==6){}if(m.I==8)U(W,D,m.all);if(m.I==0||m.I==3){U(W,D,m.length);
D+=2;U(W,D,m.R3);D+=2;U(W,D,m.HG);D+=2}if(m.I==1||m.I==2||m.I==4||m.I==5){l(W,D,m.mp.y/B);D+=4;l(W,D,m.mp.x/k);
D+=4;l(W,D,m.WL.y/B);D+=4;l(W,D,m.WL.x/k);D+=4;l(W,D,m.ko.y/B);D+=4;l(W,D,m.ko.x/k);D+=4}}};function dc(){}dc.as5=function(W,q,X,k){var B=k.split(".")[0],U=!1;
if(q+3<W.length){var l={};aK.Rb(W,q,W.length,l);var K=l.phry.hierarchy.v;if(K.length!=0){var D=[[]],m=0;
for(var N=0;N<K.length;N++){var top=D[D.length-1],Y=K[N].v,a=Y.classID;if(a=="Grup"){var p=[];D.push(p);
top.push([Y.Nm.v,null,p,!0])}else if(a=="preset"){top.push(X[m]);m++}else if(a=="groupEnd"){D.pop()}}var M=dc._C(D[0],dc);
return[[B,null,D[0],!0]]}else U=!0}else U=!0;if(U){for(var N=0;N<X.length;N++){var x=X[N][0].split("/");
if(x.length>1){B=x[x.length-2];X[N][0]=x.pop().split("=").pop()}}return[[B,null,X,!0]]}};dc._C=function(W,q){var X=[],k=[];
dc.ql(W,X,k);var B=new Uint8Array(q.zX(X)),U=new dl;U.Td(0,B.length);U.data.set(B,0);var l={phry:{classID:"null",hierarchy:{t:"VlLs",v:k}}},K=aK.jb(U,B.length,l);
return U.data.slice(0,K)};dc.ql=function(W,q,X){for(var N=0;N<W.length;N++){var k=W[N];if(k[1]==null){X.push({t:"Objc",v:{classID:"Grup",Nm:{t:"TEXT",v:k[0]},zuid:{t:"TEXT",v:"0e93da90-b25e-9745-a55e-af1d4451561b"}}});
dc.ql(k[2],q,X);X.push({t:"Objc",v:{classID:"groupEnd"}})}else{X.push({t:"Objc",v:{classID:"preset"}});
q.push(k)}}};dc.WZ=function(W,q){var X=new Uint8Array(W),k=[],B=0;if(Z.zD(X,0,4)=="ASEF")B=dc.azC(X,k);
else{B=dc.ase(X,B,k);if(B+3<X.length){k=[];B=dc.ase(X,B,k)}}return dc.as5(X,B,k,q)};dc.azC=function(W,q){var X=8,k=Z.WP(W,X),B,U=null,l,K,D,m;
X+=4;for(var Y=0;Y<k;Y++){var a=Z.U_(W,X);X+=2;var p=Z.WP(W,X);X+=4;var M=X+p;if(a==49153||a==1){var x=Z.U_(W,X);
X+=2;var R=Z.Pa(W,X,x-1);X+=x*2;if(a==1)B=R;else U=R}if(a==1){var y=Z.zD(W,X,4);X+=4;l=Z.Op(W,X);X+=4;
K=Z.Op(W,X);X+=4;D=Z.Op(W,X);X+=4;if(y=="RGB "){}else if(y=="CMYK"){m=Z.Op(W,X);X+=4;var s=UDOC.C.cmykToRgb([l,K,D,m]);
l=s[0];K=s[1];D=s[2]}else alert("Unknown color space: "+y);q.push([(U?U+" : ":"")+B,{o:l*255,L:K*255,X:D*255}])}X=M}return X};
dc.ase=function(W,q,X){var k=Z.U_,B=Z.dd,U=k(W,q);q+=2;var l=k(W,q);q+=2;for(var N=0;N<l;N++){var K=dc.Hj(W,q),D="clr"+N;
q+=10;if(U==2){D=Z.DX(W,q);q+=4+D.length*2+2}X.push([D,K])}return q};dc.Hj=function(W,q,X){var k=X?Z.Sm:Z.U_,B=X?Z.lm:Z.dd,U=k(W,q),x=null;
q+=2;var l=k(W,q);q+=2;var K=k(W,q);q+=2;var D=k(W,q);q+=2;var m=k(W,q);q+=2;var Y=1/65535,a=255/65535,p=100/65535,M=255/1e4;
if(U==0)x={o:l*a,L:K*a,X:D*a};else if(U==1){x=g.C7(l*Y,K*Y,D*Y);x.o*=255;x.L*=255;x.X*=255}else if(U==2)x=g.ov.yM({classID:"CMYC",Cyn:{t:"doub",v:100-l*p},Mgnt:{t:"doub",v:100-K*p},Ylw:{t:"doub",v:100-D*p},Blck:{t:"doub",v:100-m*p}});
else if(U==7){var R=g.sR(l/100,B(W,q-6)/100,B(W,q-4)/100);x=R}else if(U==8){x={o:255-l*M,L:255-K*M,X:255-D*M}}else if(U==18){var y=255*l/16384;
x={o:y,L:y,X:y}}else{throw U}return x};dc.zX=function(W){var q=new dl,X=0,k=Z.Hz;for(var B=1;B<3;B++){k(q,X,B);
X+=2;k(q,X,W.length);X+=2;for(var N=0;N<W.length;N++){var U=W[N];q.Td(X,10);dc.ea(q.data,X,U[1]);X+=10;
if(B==2){var l=U[0]+"\0";Z.cr(q,X,l);X+=4+l.length*2}}}return q.data.slice(0,X).buffer};dc.ea=function(W,q,X){var k=65535/255,B=Z.SX;
B(W,q,0);B(W,q+2,Math.round(X.o*k));B(W,q+4,Math.round(X.L*k));B(W,q+6,Math.round(X.X*k));B(W,q+8,0)};
dc.K$=function(W,q,X){var k=W[1],B=255<<24|k.X<<16|k.L<<8|k.o,U=new Uint32Array(q*X);U.fill(B);var l=UPNG.encode([U.buffer],q,X);
return"data:image/png;base64,"+lf.KT(l)};function jc(){}jc.WZ=function(W){var q=new Uint8Array(W),X=4,k={};
k.xJ=Z.DX(q,X);X+=4+k.xJ.length*2+2;k.exp=q[X++]==1;k.eO=[];var B=Z.WP(q,X);X+=4;for(var N=0;N<B;N++){var U={};
k.eO.push(U);U.bT=Z.U_(q,X);X+=2;U.shift=q[X++]==1;U.a5G=q[X++]==1;U.color=Z.U_(q,X);X+=2;U.xJ=Z.DX(q,X);
X+=4+U.xJ.length*2+2;U.exp=q[X++]==1;U.eO=[];var l=Z.WP(q,X);X+=4;for(var K=0;K<l;K++){var D={};U.eO.push(D);
D.exp=q[X++]==1;D.i=q[X++]==1;D.ata=q[X++]==1;D.agn=q[X++];var m=Z.zD(q,X,4);X+=4;if(m=="TEXT"){D.yx=jc.aji(q,X);
X+=4+D.yx.length}else if(m=="long"){D.yx=Z.zD(q,X,4);X+=4}else throw"e";D.KP=jc.aji(q,X);X+=4+D.KP.length;
var Y=Z.WU(q,X);X+=4;if(Y==-1){D.Og={};var a=b3.Xh(q,D.Og,X);X+=a}}}console.log(k);var p=new Uint8Array(jc.zX([k]));
for(var N=0;N<p.length;N++)if(p[N]!=q[N]&&Z.zD(q,N+1,4)!="None"){console.log(q.length,p.length);var M=4*(N>>>2)-16;
console.log(Z.xa(q,M,64));console.log(Z.xa(p,M,64));console.log(q.slice(M,M+64));console.log(p.slice(M,M+64));
throw"i"}return[k]};jc.aji=function(W,q){var X=Z.WP(W,q);return Z.zD(W,q+4,X)};jc.avp=function(W,q,X){Z.YK(W,q,X.length);
Z.Me(W,q+4,X)};jc.zX=function(W){var q=W[0],X=new dl,k=0;Z.YK(X,k,16);k+=4;Z.cr(X,k,q.xJ+"\0");k+=4+q.xJ.length*2+2;
X.Td(k,1);X.data[k++]=q.exp?1:0;var B=q.eO.length;Z.YK(X,k,B);k+=4;for(var N=0;N<B;N++){var U=q.eO[N];
Z.Hz(X,k,U.bT);k+=2;X.Td(k,2);X.data[k++]=U.shift?1:0;X.data[k++]=U.a5G?1:0;Z.Hz(X,k,U.color);k+=2;Z.cr(X,k,U.xJ+"\0");
k+=4+U.xJ.length*2+2;X.Td(k,1);X.data[k++]=U.exp?1:0;var l=U.eO.length;Z.YK(X,k,l);k+=4;for(var K=0;
K<l;K++){var D=U.eO[K];X.Td(k,4);X.data[k++]=D.exp?1:0;X.data[k++]=D.i?1:0;X.data[k++]=D.ata?1:0;X.data[k++]=D.agn;
var m="LqFy Avrg GEfc PbPl Fbrs Bokh LnCr HsbP".split(" ").indexOf(D.yx)!=-1;Z.Me(X,k,m?"long":"TEXT");
k+=4;if(!m){jc.avp(X,k,D.yx);k+=4+D.yx.length}else{Z.Me(X,k,D.yx);k+=4}jc.avp(X,k,D.KP);k+=4+D.KP.length;
Z.z8(X,k,D.Og?-1:0);k+=4;if(D.Og){var Y=b3.so(X,D.Og,k);k+=Y}}}return X.data.slice(0,k).buffer};function cc(){}cc.WZ=function(W){var q=new Uint8Array(W),X=0,k=Z.WP(q,X),D;
X+=4;var B=Z.zD(q,X,8);X+=8;var U=Z.P2(q,X);X+=4;var l=Z.P2(q,X);X+=4;var K=Z.P2(q,X);X+=4;console.log(U,l,K);
if(k==2){D=new Float32Array(W,32,W.byteLength-32>>>2)}else if(k==3||k==4){D=new Float32Array(l*K*2);
var m=0,Y=0,a=!0;X=k==3?32:16+8+40;while(X<q.length){var p=Z.P2(q,X);X+=4;if(a)Y+=p;else{for(var N=0;
N<p;N++){D[m+Y+N<<1]=Z.EI(q,X);D[(m+Y+N<<1)+1]=Z.EI(q,X+4);X+=8}Y+=p}a=!a;if(p!=0&&Y==l){m+=l;Y=0;a=!0;
if(m==l*K)break}}}else throw"unknown Mesh version: "+k;return{Ah:l,QB:K,map:D}};cc.FN=function(W){var q=W.Ah,X=W.QB,k=W.map,B=new Uint8Array(32+X*q*8+X*8),U=0,l=0;
Z.Tj(B,U,3);U+=4;Z.o3(B,U,"yfqLhseM");U+=8;Z.Tk(B,U,2);U+=4;Z.Tk(B,U,q);U+=4;Z.Tk(B,U,X);U+=4;Z.Tk(B,U,0);
U+=4;Z.Tk(B,U,1);U+=4;for(var K=0;K<X;K++){Z.Tk(B,U,0);U+=4;Z.Tk(B,U,q);U+=4;for(var D=0;D<q;D++){Z.Ns(B,U,k[l]);
Z.Ns(B,U+4,k[l+1]);l+=2;U+=8}}return B.buffer};function gx(){}gx.WZ=function(W){var q=new Uint8Array(W),X=0,k=Z.zD(q,X,4);
X+=4;var B=Z.U_(q,X);X+=2;var U=Z.WP(q,X);X+=4;var l=[];for(var N=0;N<U;N++){var K=Z.WP(q,X);X+=4;var D={classID:"ShpC",Nm:{t:"TEXT",v:""},Crv:{t:"VlLs",v:[]}};
l.push(D);var m=Z.DX(q,X);D.Nm.v=m;X+=4+m.length*2+2;var Y=Z.U_(q,X);X+=2;var a=Z.U_(q,X);X+=2;for(var p=0;
p<a;p++){var M=g.yz.B9(0,0,!0);M.v.Vrtc.v=Z.U_(q,X);X+=2;M.v.Hrzn.v=Z.U_(q,X);X+=2;D.Crv.v.push(M)}if(K==1){}else if(K==2){for(var p=0;
p<a;p++){D.Crv.v[p].v.Cnty.v=q[X]==1;X+=1}}else throw"error";var x=Z.WP(q,X);X+=4;var R=Z.WP(q,X);X+=4}return l};
gx.b1=function(W,q){W.Nm.v=q};gx.zX=function(W){var q=new dl,X=0;Z.Me(q,X,"8BFS");X+=4;Z.Hz(q,X,1);X+=2;
Z.YK(q,X,W.length);X+=4;for(var N=0;N<W.length;N++){Z.YK(q,X,2);X+=4;var k=W[N];Z.cr(q,X,k.Nm.v+"\0");
X+=4+k.Nm.v.length*2+2;Z.Hz(q,X,2);X+=2;var B=k.Crv.v.length;Z.Hz(q,X,B);X+=2;for(var U=0;U<B;U++){var l=k.Crv.v[U];
Z.Hz(q,X,l.v.Vrtc.v);X+=2;Z.Hz(q,X,l.v.Hrzn.v);X+=2}q.Td(X,B);for(var U=0;U<B;U++){q.data[X]=k.Crv.v[U].v.Cnty.v;
X++}Z.YK(q,X,0);X+=4;Z.YK(q,X,0);X+=4}return q.data.slice(0,X).buffer};function fK(){}fK.WZ=function(W,q){var X=new Uint8Array(W),k=4,B=q.split("/").pop().split(".")[0],U=Z.U_(X,k);
k+=2;var l=Z.WP(X,k);k+=4;var K=[];for(var N=0;N<l;N++){var D={};K.push(D);k=fK.ac4(X,k,D);D.name=B+"/"+D.name.split("=").pop()}return K};
fK.b1=function(W,q){W.name=q};fK.zX=function(W){var q=new dl,X=0;Z.Me(q,X,"8BPT");X+=4;Z.Hz(q,X,1);X+=2;
Z.YK(q,X,W.length);X+=4;for(var N=0;N<W.length;N++){var k=W[N],B=k.name;k.name=k.name.split("/").pop();
X=fK.aoP(q,X,k);k.name=B}return q.data.slice(0,X).buffer};fK.Jq=function(W,q,X,k){var B=k?Z.P2:Z.WP,U=q+X,l=[];
while(q<U){var K={},D=B(W,q);q+=4;var m=q;q=fK.ac4(W,q,K,k);if(!K.CH[1].PM())l.push(K);if(D%4!=0)D+=4-D%4;
q=m+D}return l};fK.MO=function(W,q,X){for(var N=0;N<X.length;N++){var k=X[N];q+=4;var B=q;q=fK.aoP(W,q,k);
var U=q-B;Z.YK(W,B-4,U);if(U%4!=0)B+=4-U%4;q=B+U}return q};fK.ac4=function(W,q,X,k){var B=k?Z.P2:Z.WP,U=k?Z.Sm:Z.U_,l=k?Z.T6:Z.DX,K=B(W,q);
q+=4;if(K!=1)alert("Unknown version of pattern");var D=B(W,q);q+=4;if(D!=1&&D!=2&&D!=3)console.log("Unsupported mode of pattern: "+D);
var m=U(W,q);q+=2;var Y=U(W,q);q+=2;var a=new dU(0,0,Y,m);X.name=l(W,q);q+=4+2*X.name.length+2;var p=W[q];
q++;X.id=Z.zD(W,q,p);q+=X.id.length;var M=-1;if(D==2){M=q;q+=3*256+4}var x=new g.rV(Y*m);q=fK.a1d(W,q,x,k);
if(a.C()>1e8){X.CH=[g.j(4),new dU(0,0,1,1)];return q}if(D==2){for(var N=0;N<x.o.length;N++){var R=3*x.o[N];
x.o[N]=W[M+R+0];x.L[N]=W[M+R+1];x.X[N]=W[M+R+2]}}var y=g.j(a.C()*4);g.Aw(x,y);X.CH=[y,a];return q};fK.aoP=function(W,q,X){var k=X.CH[0],B=X.CH[1];
Z.YK(W,q,1);q+=4;Z.YK(W,q,3);q+=4;Z.Hz(W,q,B.$);q+=2;Z.Hz(W,q,B.r);q+=2;Z.cr(W,q,X.name+"\0");q+=4+2*X.name.length+2;
Z.qs(W,q,X.id.length);q++;Z.Me(W,q,X.id);q+=X.id.length;var U=new g.rV(B.C());g.EX(k,U);q=fK.ani(W,q,U,B);
return q};fK.a1d=function(W,q,X,k){var B=k?Z.P2:Z.WP,U=k?Z.Sm:Z.U_,l=q,K={OM:null,K7:[],azs:null,Hs:null},D=B(W,q);
q+=4;var m=B(W,q);q+=4;K.OM=Z.Rc(W,q,k);q+=16;var Y=B(W,q);q+=4;for(var N=0;N<Y+2;N++){var a=B(W,q);
q+=4;if(a==0)continue;var p=B(W,q);q+=4;if(p==0)continue;var M=B(W,q);q+=4;var x=Z.Rc(W,q,k);q+=16;var R=U(W,q);
q+=2;var y=W[q];q++;var s=dI.u2(!1,M,W,x.r,x.$,q,y,p,k);s=g.Cn(s,8);if(N<Y)K.K7.push(s);if(N==Y)K.azs=s;
if(N==Y+1)K.Hs=s;q+=p-23}if(!K.OM.PM()){if(K.K7[0])X.o=K.K7[0];if(K.K7[1])X.L=K.K7[1];else X.L=K.K7[0].slice(0);
if(K.K7[2])X.X=K.K7[2];else X.X=K.K7[0].slice(0);if(K.Hs)X.iM=K.Hs;else X.iM.fill(255)}return q};fK.ani=function(W,q,X,k){var B=q,U={OM:k,K7:[X.o,X.L,X.X],azs:null,Hs:X.iM};
Z.YK(W,q,3);q+=4;Z.YK(W,q,0);q+=4;Z.nw(W,q,k);q+=16;Z.YK(W,q,24);q+=4;for(var N=0;N<24+2;N++){var l=q,K=N<3||N==25?1:0;
Z.YK(W,q,K);q+=4;if(K==0)continue;Z.YK(W,q,0);q+=4;Z.YK(W,q,8);q+=4;Z.nw(W,q,k);q+=16;Z.Hz(W,q,8);q+=2;
Z.qs(W,q,1,1);q++;var D=N<3?U.K7[N]:U.Hs;W.Td(q,k.C()+2);q=dI.rW(!1,D,W.data,k.r,k.$,q,1);Z.YK(W,l+4,q-l-8)}Z.YK(W,B+4,q-B-8);
return q};function jY(){}jY.WZ=function(W,q){var X=new Uint8Array(W),B=0;if(X[0]==71)return jY.a4m(X);
var k=q.split("/").pop().split(".")[0],U=Z.zD(X,B,4);B+=4;var l=Z.U_(X,B);B+=2;var K=[];if(l<=3){var D=Z.U_(X,B);
B+=2;for(var N=0;N<D;N++){var m=X[B++],Y=Z.zD(X,B,m);B+=m;var a=jY.atU(X,B,Y),p=a[0];B=a[1];K.push(p)}}else{var a={},M=b3.Xh(X,a,B+4),x=a.GrdL.v;
for(var N=0;N<x.length;N++)K[N]=x[N].v.Grad.v;B+=4+M}for(var N=0;N<K.length;N++)K[N]=[K[N].Nm.v,K[N]];
return dc.as5(X,B,K,q)};jY.b1=function(W,q){W.Nm.v=q};jY.zX=function(W){var q=new dl,X=0;Z.Me(q,X,"8BGR");
X+=4;Z.Hz(q,X,5);X+=2;Z.YK(q,X,16);X+=4;var k={classID:"null",GrdL:{t:"VlLs",v:[]}},B=k.GrdL.v;for(var N=0;
N<W.length;N++){var U=g.N(W[N]);U[1].Nm.v=U[0];B[N]={t:"Objc",v:{classID:"Grdn",__name:"Gradient ",Grad:{t:"Objc",v:U[1]}}}}X+=b3.so(q,k,X);
return q.data.slice(0,X).buffer};jY.atU=function(W,q,X,k){var B={classID:"Grdn",Clrs:{t:"VlLs",v:[]},GrdF:{t:"enum",v:{GrdF:"CstS"}},Intr:{t:"doub",v:4096},Nm:{t:"TEXT",v:X},Trns:{t:"VlLs",v:[]}},U=k?Z.Sm:Z.U_,l=k?Z.P2:Z.WP,K=U(W,q);
q+=2;if(K==0)throw"e";for(var N=0;N<K;N++){var D=l(W,q),m=l(W,q+4),Y=dc.Hj(W,q+8,k),a={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:Y.o},Grn:{t:"doub",v:Y.L},Bl:{t:"doub",v:Y.X}}},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:D},Mdpn:{t:"long",v:m}}};
B.Clrs.v.push(a);q+=20}var p=U(W,q);q+=2;for(var N=0;N<p;N++){var D=l(W,q),m=l(W,q+4),M=U(W,q+8),a={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(100*M/255)}},Lctn:{t:"long",v:D},Mdpn:{t:"long",v:m}}};
B.Trns.v.push(a);q+=10}var x=U(W,q);q+=2;B.Intr.v=x==2?U(W,q):4096;q+=2;var R=U(W,q);q+=2;return[B,q]};
jY.amt=function(W,q,X){var k=X.Clrs.v.length;Z.Hz(W,q,k);q+=2;for(var N=0;N<k;N++){var B=X.Clrs.v[N];
Z.YK(W,q,B.v.Lctn.v);Z.YK(W,q+4,B.v.Mdpn.v);Z.Hz(W,q+8,0);var U=g.ov.E2(g.ov.yM(B.v.Clr.v)),l=[U.Rd.v,U.Grn.v,U.Bl.v,0];
for(var K=0;K<4;K++)Z.Hz(W,q+10+K*2,Math.round(65535*(l[K]/255)));q+=20}var D=X.Trns.v.length;Z.Hz(W,q,D);
q+=2;for(var N=0;N<D;N++){var B=X.Trns.v[N];Z.YK(W,q,B.v.Lctn.v);Z.YK(W,q+4,B.v.Mdpn.v);Z.Hz(W,q+8,Math.round(255*B.v.Opct.v.val/100));
q+=10}Z.Hz(W,q,2);q+=2;Z.Hz(W,q,X.Intr.v);q+=2;Z.Hz(W,q,32);q+=2;return q};jY.a4m=function(W){var q=Z._o(W,0,W.length).split("\n"),X=parseFloat(q[2]),k=[],B=JSON.parse(kE.iv[kE.order.indexOf("GrFl")]).Grad.v;
B.Intr.v=0;B.Nm.v=q[1];for(var N=0;N<X;N++){var U=q[3+N].split(" ").map(parseFloat),l=U[11],K=U[12];
k.push([U[0],U.slice(3,6),U[6]]);if(K!=0){var D=g.v9(U[3],U[4],U[5]),m=g.v9(U[7],U[8],U[9]),Y=D.QB,a=m.QB;
if(K==1&&Y>a)a++;if(K==2&&Y<a)Y++;var p=Math.round(Math.abs(a-Y)*7);if(p>1)for(var M=0;M<p;M++){var x=1-(M+1)/(p+1),R=1-x,y=g.C7(x*Y+R*a,x*D.Sp+R*m.Sp,x*D.he+R*m.he);
k.push([x*U[0]+R*U[2],[y.o,y.L,y.X],x*U[6]+R*U[10]])}}k.push([U[2],U.slice(7,10),U[10]])}k.sort(function(s,F){return s[0]-F[0]});
g.ov.mi(k,B);return[B]};jY.K$=function(W,q,X){var k=_.ce.K$(W[1],q,X,Math.PI/4,16777215,0);return k};
function jK(){}jK.WZ=function(W){var q=new Uint8Array(W),X=[],k=[],B=[],U=[],l=[],K=0,D=Z.zD(q,K,4);
K+=4;var m=Z.WP(q,K);K+=4;var Y=Z.WP(q,K);K+=4;while(K<q.length){var a=Z.zD(q,K,4);K+=4;var p=Z.zD(q,K,4);
K+=4;var M=Z.WP(q,K);K+=4;if(p=="tppa"){k=fK.Jq(q,K,M);K+=M}else if(p=="tpbd"){B=bH.aj$(q,K,M,1,1);K+=M}else if(p=="tptp"){var x=Z.WP(q,K);
K+=4;for(var N=0;N<x;N++){var R=Z.DX(q,K);K+=6+R.length*2;K+=4;var y={};K+=b3.Xh(q,y,K);X.push([R,y])}while((K&3)!=0)K++}else if(p=="tpsh"){var s=K,F=q.slice(K,K+M);
while(K<s+M){var E=Z.WP(q,K);K+=4;K=jz.avT(q,K,"Shape",U)}K=s+M}else if(p=="tpst"){var s=K;K+=4;while(K<s+M){var o=Z.WP(q,K);
K+=4;var G=K,d=Z.WP(q,K);K+=4;var y={M$:{},NF:{}};l.push(y);K+=4;K+=b3.Xh(q,y.M$,K);K+=4;K+=b3.Xh(q,y.NF,K);
K=G+o;var u=y.NF.Lefx;if(u){if(u.v.masterFXSwitch==null)u.v.masterFXSwitch={t:"bool",v:!0};aK.ae(u.v)}}K=s+M}else{console.log(q.slice(K-8,K+64));
console.log(Z.zD(q,K-8,64));throw p}}return{n5:B,OJ:k,list:X,agp:U,T_:l}};jK.b1=function(W,q){W[0]=q};
jK.zX=function(W){var q=new dl,X=0;Z.Me(q,X,"8BTP");X+=4;Z.YK(q,X,3);X+=4;Z.YK(q,X,1);X+=4;var k=[W.OJ,W.n5,W.list];
for(var N=0;N<3;N++){if(k[N].length==0)continue;Z.Me(q,X,"8BIM");X+=4;var B=["tppa","tpbd","tptp"][N];
Z.Me(q,X,B);X+=4;var U=X;X+=4;if(B=="tppa"){X=fK.MO(q,X,W.OJ)}else if(B=="tpbd"){X=bH.a32(q,X,W.n5)}else if(B=="tptp"){Z.YK(q,X,W.list.length);
X+=4;for(var l=0;l<W.list.length;l++){var K=W.list[l];Z.cr(q,X,K[0]+"\0");X+=6+K[0].length*2;Z.YK(q,X,16);
X+=4;X+=b3.so(q,K[1],X)}}Z.YK(q,U,X-U-4);while((X&3)!=0)X++;q.Td(X,0)}return q.data.slice(0,X).buffer};
function hc(){}hc.WZ=function(W,q){var X=new Uint8Array(W),k;if(Z.WP(X,0)==X.length)k="icc";else if(X[0]=="<".charCodeAt(0))k="look";
else if(Z.Ka(X,"LUT_3D_SIZE")!=-1)k="cube";else k="3DL";if(k!="icc"){var B=hc.aFN(X,k),U=hc.aAh(B[0],B[1]);
X=U}var l=[];for(var N=0;N<X.length;N++)l.push(X[N]);return[{classID:"null",Dthr:{t:"bool",v:!0},Nm:{t:"TEXT",v:q?q:"file.icc"},lookupType:{t:"enum",v:{colorLookupType:"abstractProfile"}},profile:{t:"tdta",v:l}}]};
hc.zX=function(W){var q=W[0],X=new Uint8Array(q.profile.v);return X.buffer};hc.b1=function(W,q){W.Nm.v=q};
hc.aAh=function(W,q){var X=new dl,k=128;X.Td(0,128);var B=[0,0,14,204,65,68,66,69,4,0,0,0,108,105,110,107,82,71,66,32,82,71,66,32,7,227,0,7,0,27,0,8,0,6,0,49,97,99,115,112,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,246,214,0,1,0,0,0,0,211,45,65,68,66,69,219,126,245,21,206,223,186,23,165,212,201,219,250,10,33,62];
for(var N=0;N<B.length;N++)X.data[N]=B[N];var U=["desc","A2B0"],l=U.length,K=128+4+l*12;Z.YK(X,k,l);
k+=4;for(var D=0;D<l;D++){var m=U[D];Z.Me(X,k,m);k+=4;Z.YK(X,k,K);k+=4;var Y=K;if(m=="desc"){Z.Me(X,Y,"mluc");
Y+=4;Y+=4;Z.YK(X,Y,1);Y+=4;Z.YK(X,Y,12);Y+=4;Z.Me(X,Y,"enUS");Y+=4;var a="ICC by Photopea\0",p=a.length*2+2;
Z.YK(X,Y,p);Y+=4;Z.YK(X,Y,28);Y+=4;X.Td(Y,p);for(var N=0;N<a.length;N++)X.data[Y+N*2+1]=a.charCodeAt(N);
Y+=p}if(m=="A2B0"){Z.Me(X,Y,"mAB ");Y+=4;Y+=4;X.Td(Y,4);X.data[Y]=3;X.data[Y+1]=3;Y+=4;X.Td(Y,4*5);Y+=4*3;
Z.YK(X,Y,Y+8-K);Y+=4;Y+=4;X.Td(Y,20);X.data[Y]=W;X.data[Y+1]=W;X.data[Y+2]=W;Y+=16;X.data[Y]=2;Y+=4;
var M=W*W*W*3;X.Td(Y,M*2);for(var N=0;N<M;N++)Z.SX(X.data,Y+N*2,Math.max(0,Math.min(65535,Math.round(q[N]*65535))));
Y+=M*2}var x=Y-K;while((x&3)!=0)x++;Z.YK(X,k,x);k+=4;K+=x}Z.YK(X,0,K);return X.data.slice(0,K)};hc.aFN=function(W,q){q="LUTFormat"+q.toUpperCase();
var X=[],k=0,B=Z._o(W,0,W.length),U="";for(var N=0;N<W.length&&U=="";N++){if(W[N]==10)U="\n";else if(W[N]==13){U="\r";
if(W[N+1]==10)U+="\n"}}if(q=="LUTFormatCUBE"){var l=B.split(U);for(var N=0;N<l.length;N++){if(l[N]==""||l[N][0]=="#")continue;
var K=l[N].split(" "),D=K[0];if(D=="LUT_3D_SIZE"){k=parseInt(K[1]);continue}if(["TITLE","DOMAIN_MIN","DOMAIN_MAX"].indexOf(D)!=-1)continue;
X.push(parseFloat(K[0]),parseFloat(K[1]),parseFloat(K[2]))}X=hc.amO(k,X)}else if(q=="LUTFormat3DL"){var l=B.split(U),m=1/4095;
for(var N=0;N<l.length;N++){var Y=l[N];if(Y==""||Y=="3DMESH"||Y.startsWith("Mesh")||Y[0]=="#")continue;
var K=Y.split(" "),D=K[0];if(k==0){k=K.length;continue}X.push(parseFloat(K[0])*m,parseFloat(K[1])*m,parseFloat(K[2])*m)}}else if(q=="LUTFormatLOOK"){var a=new DOMParser,p=a.parseFromString(B,"text/xml"),M=p.getElementsByTagName("LUT")[0],x=M.children[0].textContent;
k=parseInt(JSON.parse(x));var R=M.children[1].textContent;R=R.replace(/"/g,"").replace(/\s/g,"");var y=3*k*k*k,s=y*4,F=new Uint8Array(s);for(var N=0;N<s;N++){var E=R.charCodeAt(N*2),o=R.charCodeAt(N*2+1),G=E<58?E-48:E-55,d=o<58?o-48:o-55;F[N]=(G<<4)+d}for(var N=0;N<y;N++)X.push(Z.EI(F,N<<2));X=hc.amO(k,X)}else throw q;return[k,X]};hc.a6i=function(W,q,X){var k=["#Created by www.Photopea.com","TITLE \""+X+"\"","","#LUT size","LUT_3D_SIZE "+q,"","#data domain","DOMAIN_MIN 0.0 0.0 0.0","DOMAIN_MAX 1.0 1.0 1.0","","#LUT data points"],B=6;
for(var N=0;N<W.length;N+=3){k.push(W[N].toFixed(B)+" "+W[N+1].toFixed(B)+" "+W[N+2].toFixed(B))}k.push("");
return Z.hP(k.join("\n")).buffer};hc.amO=function(W,q){var X=[],k=W*W*W;for(var N=0;N<k;N++)X.push(0,0,0);
for(var B=0;B<W;B++)for(var U=0;U<W;U++)for(var l=0;l<W;l++){var N=3*(l+U*W+B*W*W),K=3*(B+U*W+l*W*W);
X[K]=q[N];X[K+1]=q[N+1];X[K+2]=q[N+2]}return X};function b3(){}b3.Xh=function(W,q,X,k,B,U){var l=X,Y;
if(B==null)B=0;var K=U?Z.P2:Z.WP,D=U?Z.qX:Z.WU,m=U?Z.T6:Z.DX,a=K(W,X);if(a==0){Y="";X+=4}else{Y=m(W,X);
X+=4+2*Y.length+2}if(Y!="")q.__name=Y;q.classID=b3.ym(W,X,U);if(k)console.log("\t".repeat(B),"- reading descriptor",q.classID,X);
X+=b3.Jl(W,X,U);var p=D(W,X);X+=4;for(var N=0;N<p;N++){var M=b3.ym(W,X,U);X+=b3.Jl(W,X,U);var x=b3.apS(W,X,k,B,U);
q[M]=x;X+=x.size;delete x.size}return X-l};b3.so=function(W,q,X,k){var B=X,U=q.__name;if(U==null)U="";
U+="\0";Z.cr(W,X,U);X+=4+2*U.length;b3.kz(W,X,q.classID);X+=b3.Jl(W.data,X);Z.z8(W,X,Object.keys(q).length-1-(q.__name==null?0:1));
X+=4;for(var l in q){if(l=="classID")continue;if(l=="__name")continue;b3.kz(W,X,l);X+=b3.Jl(W.data,X);
X+=b3.adP(W,X,q[l])}return X-B};b3.apS=function(W,q,X,k,B){var U=q,l=Z.LS(W,q,B);q+=4;var K=B?Z.mx:Z.Rm,D=B?Z.P2:Z.WP,m=B?Z.qX:Z.WU,Y=B?Z.T6:Z.DX,a={size:0,t:l,v:null};
if(X)console.log("\t".repeat(k),"reading key",l,U);switch(l){case"obj ":case"VlLs":a.v=[];var p=D(W,q);
q+=4;for(var N=0;N<p;N++){var M=b3.apS(W,q,X,k+1,B);q+=M.size;delete M.size;a.v.push(M)}break;case"UntF":a.v={type:Z.LS(W,q,B),val:K(W,q+4)};
q+=12;break;case"doub":{a.v=K(W,q);q+=8;break}case"bool":a.v=W[q]==1;q+=1;break;case"long":a.v=m(W,q);
q+=4;break;case"comp":a.v=m(W,q+4);q+=8;break;case"Objc":a.v={};var x=b3.Xh(W,a.v,q,X,k+1,B);q+=x;break;
case"TEXT":var R=D(W,q);if(R==0){a.v="";q+=4}else{a.v=Y(W,q);q+=4+a.v.length*2+2}break;case"enum":var y=b3.ym(W,q,B);
q+=b3.Jl(W,q,B);var s=b3.ym(W,q,B);q+=b3.Jl(W,q,B);a.v={};a.v[y]=s;break;case"tdta":var F=m(W,q);q+=4;
a.v=Array.from(W.slice(q,q+F));q+=F;break;case"ObAr":var E=D(W,q);q+=4;var o=Y(W,q);q+=4+2*o.length+2;
if(o!="")throw o;var G=b3.ym(W,q,B);q+=4+Math.max(4,G.length);a.v={classID:G,arr:[]};var d=D(W,q);q+=4;
for(var N=0;N<d;N++){var G=b3.ym(W,q,B);q+=4+Math.max(4,G.length);var y=Z.LS(W,q,B);q+=4;var u=Z.LS(W,q,B);
q+=4;var r={id:G,type:y,uID:u,arr:[]};a.v.arr.push(r);var v=D(W,q,4);q+=4;for(var c=0;c<v;c++){var V=K(W,q);
q+=8;r.arr.push(V)}}break;case"Pth ":if(B)throw"e";var j=q,F=Z.WP(W,q);q+=4;var Q=Z.zD(W,q,4);q+=4;var H=Z.P2(W,q);
q+=4;var T=Z.auE(W,q);q+=4+T.length*2;a.v={sig:Q,pth:T};break;case"Clss":case"type":case"rele":var T=Y(W,q);
q+=4+T.length*2+2;var e=b3.ym(W,q,B);q+=4+Math.max(4,e.length);a.v={classID:e};if(T!="")a.v.__name=T;
if(l=="rele"){a.v.val=m(W,q);q+=4}break;case"prop":case"Enmr":case"indx":case"name":case"Idnt":var z=b3.gE[l],T=Y(W,q);
q+=4+T.length*2+2;if(T.length!=0){console.log("String found",l,T)}a.v={};for(var N=0;N<z.length;N++){var e=b3.ym(W,q,B);
q+=4+Math.max(4,e.length);a.v[z[N]]=e}if(l=="name"){var T=Y(W,q);q+=4+T.length*2+2;a.v.val=T}if(l=="indx"||l=="Idnt"){a.v.val=D(W,q);
q+=4}break;case"alis":var F=D(W,q);q+=4;a.v=Z.zD(W,q,F);q+=F;break;default:{console.log("unknown oskey: "+l+", "+U);
throw"e";return a}}if(X){console.log("\t".repeat(k),a.v);console.log("\t".repeat(k),"======",q)}a.size=q-U;
return a};b3.gE={name:["classID"],prop:["classID","keyID"],Enmr:["classID","typeID","enum"],indx:["classID"],Idnt:["classID"]};
b3.adP=function(W,q,X){var k=q,B=X.t;X=X.v;Z.Me(W,q,B);q+=4;switch(B){case"obj ":case"VlLs":Z.z8(W,q,X.length);
q+=4;for(var U=0;U<X.length;U++){var l=b3.adP(W,q,X[U]);q+=l}break;case"UntF":Z.Me(W,q,X.type);Z.pU(W,q+4,X.val);
q+=12;break;case"doub":Z.pU(W,q,X);q+=8;break;case"bool":Z.qs(W,q,X?1:0,1);q+=1;break;case"long":Z.z8(W,q,X);
q+=4;break;case"comp":Z.z8(W,q+4,X);q+=8;break;case"Objc":var l=b3.so(W,X,q);q+=l;break;case"TEXT":Z.cr(W,q,X+"\0");
q+=4+X.length*2+2;break;case"enum":var K=Object.keys(X)[0],D=X[K];b3.kz(W,q,K);q+=b3.Jl(W.data,q);b3.kz(W,q,D);
q+=b3.Jl(W.data,q);break;case"tdta":Z.YK(W,q,X.length);q+=4;Z.Ex(W,q,X);q+=X.length;break;case"ObAr":Z.YK(W,q,X.arr[0].arr.length);
q+=4;Z.cr(W,q,"\0");q+=6;b3.kz(W,q,X.classID);q+=4+Math.max(4,X.classID.length);Z.YK(W,q,X.arr.length);
q+=4;for(var N=0;N<X.arr.length;N++){var m=X.arr[N];b3.kz(W,q,m.id);q+=4+Math.max(4,m.id.length);Z.Me(W,q,m.type);
q+=4;Z.Me(W,q,m.uID);q+=4;Z.YK(W,q,m.arr.length);q+=4;for(var U=0;U<m.arr.length;U++){Z.pU(W,q,m.arr[U]);
q+=8}}break;case"Pth ":var Y=X.pth.length*2+4+8;Z.YK(W,q,Y);q+=4;Z.Me(W,q,X.sig);q+=4;Z.au(W,q,Y);q+=4;
Z.ayn(W,q,X.pth);q+=X.pth.length*2+4;break;case"Clss":case"type":case"rele":var a=X.__name;if(a==null)a="";
Z.cr(W,q,a+"\0");q+=4+a.length*2+2;var p=X.classID;b3.kz(W,q,p);q+=4+Math.max(4,p.length);if(B=="rele"){Z.z8(W,q,X.val);
q+=4}break;case"prop":case"Enmr":case"indx":case"name":case"Idnt":var M=b3.gE[B],x="";if(B=="name"&&X.classID=="Grdn")x="Gradient";
Z.cr(W,q,x+"\0");q+=4+x.length*2+2;for(var N=0;N<M.length;N++){var p=X[M[N]];b3.kz(W,q,p);q+=4+Math.max(4,p.length)}if(B=="name"){Z.cr(W,q,X.val+"\0");
q+=4+X.val.length*2+2}if(B=="indx"||B=="Idnt"){Z.YK(W,q,X.val);q+=4}break;case"alis":var Y=X.length;
Z.YK(W,q,Y);q+=4;Z.Me(W,q,X);q+=Y;break;default:console.log("unknown oskey: "+B);q=k;break}return q-k};
b3.ym=function(W,q,X){var k=X?Z.qX:Z.WU,B=k(W,q);if(B>1e3)throw"e";if(B==0)return Z.LS(W,q+4,X).trim();
return Z.zD(W,q+4,B).trim()};b3.Jl=function(W,q,X){var k=X?Z.qX:Z.WU,B=k(W,q);return B==0?8:4+B};b3.kz=function(W,q,X){var k="warp list Comp None xx xy yx yy tx ty PinP PnRt PnOv PnDp xor PuX0 PuX1 PuX2 PuX3 PuY0 PuY1 PuY2 PuY3 base kana ruby box flow time hold clio trim then else".split(" "),B=4<X.length||k.indexOf(X)!=-1;
Z.z8(W,q,B?X.length:0);Z.Me(W,q+4,X);if(X.length<4&&!B){var U="";for(var N=X.length;N<4;N++)U+=" ";Z.Me(W,q+4+X.length,U)}};
b3.ayN=function(W){var q={};for(var X in W){if(X=="classID")q[X]=W[X];else if(X=="__name")q[X]=W[X];
else q[X]=b3.aCj(W[X])}return q};b3.aCj=function(W){if(W.t=="Objc")return b3.ayN(W.v);else if(W.t=="VlLs"){var q=[];
for(var N=0;N<W.v.length;N++)q.push(b3.aCj(W.v[N]));return q}else if(W.t=="UntF")return W.v.val;else return W.v};
function aK(){}aK.Rb=function(W,q,X,k,B,U,l){var K=l?Z.P2:Z.WP,D=l?Z.qX:Z.WU,m=l?Z.Sm:Z.U_,Y=l?Z.lm:Z.dd,a=l?Z.ac1:Z.sa,p=l?Z.mx:Z.Rm,M=l?Z.EI:Z.Op,x=l?Z.auE:Z.AV;
while(q<X){var R=Z.LS(W,q,l);q+=4;if(R!="8BIM"&&R!="8B64"){console.log("layer information signature error! "+R,"PSB = "+B);
alert("Error in PSD file: wrong signature.");return X}var y=Z.LS(W,q,l);q+=4;var s=K(W,q);q+=4;var F=B&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(y)!=-1;
if(F){s=s<<32|D(W,q);q+=4}var E=["lrFX","PlLd"];if(E.indexOf(y)!=-1){if(y!="lrFX"&&s%4!=0)s+=4-s%4;q+=s;
continue}switch(y){case"iOpa":k[y]=W[q];break;case"brst":k[y]=[1,1,1];for(var N=0;N<s;N+=4)k[y][K(W,q+N)]=0;
break;case"knko":k[y]=W[q];break;case"infx":k[y]=W[q];break;case"clbl":k[y]=W[q];break;case"lmgm":k[y]=W[q];
break;case"vmgm":k[y]=W[q];break;case"fcmy":k[y]=W[q];break;case"lyid":k[y]=K(W,q);break;case"lsct":k[y]={I:K(W,q)};
if(s>=12)k[y].JY=Z.LS(W,q+8,l);break;case"lsdk":k.lsct={I:K(W,q)};break;case"lyvr":k[y]=K(W,q);break;
case"lnsr":var o={artb:1,bgnd:1,cont:1,layr:1,lset:1,rend:1,shap:1,user:1,____:null};k[y]=Z.LS(W,q,l);
break;case"lspf":k[y]=K(W,q);break;case"lclr":k[y]=m(W,q);break;case"luni":k[y]=x(W,q);break;case"fxrp":k[y]=new hw(p(W,q),p(W,q+8));
break;case"phry":case"artb":case"artd":k[y]={};b3.Xh(W,k[y],q+4,!1,null,l);break;case"SoCo":k[y]={};
b3.Xh(W,k[y],q+4,!1,null,l);break;case"GdFl":k[y]={};b3.Xh(W,k[y],q+4,!1,null,l);aK.kV(k[y],y);break;
case"PtFl":k[y]={};b3.Xh(W,k[y],q+4,!1,null,l);aK.kV(k[y],y);break;case"CgEd":k[y]={};b3.Xh(W,k[y],q+4,!1,null,l);
break;case"brit":var G=k.brit=dY.wy("brit"),d={};G.Brgh.v=Y(W,q);G.Cntr.v=Y(W,q+2);G.useLegacy.v=!0;
break;case"levl":var u=W.buffer.slice(q,q+s);k[y]=i0.WZ(u,l);break;case"curv":k[y]=eR.B1(W,q,s,l);break;
case"expA":var r=Y(W,q),v=k[y]=dY.wy("expA");v.Exps.v=M(W,q+2);v.Ofst.v=M(W,q+6);v.gammaCorrection.v=M(W,q+10);
break;case"vibA":k[y]={};b3.Xh(W,k[y],q+4,!1,null,l);break;case"hue2":k[y]=cW.B1(W,q,s,l);break;case"blnc":var v=k[y]=dY.wy(y);
v.PrsL.v=W[q+18]==1;var c=["ShdL","MdtL","HghL"];for(var N=0;N<3;N++)for(var V=0;V<3;V++)v[c[N]].v[V].v=Y(W,q+N*6+V*2);
break;case"blwh":var j={};b3.Xh(W,j,q+4,!1,null,l);var v=dY.wy(y),Q="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var N=0;N<Q.length;N++){v[Q[N]]=j[Q[N]];delete j[Q[N]]}k[y]=v;break;case"phfl":var v=k[y]=dY.wy(y),H=v.Clr.v,r=m(W,q);
if(r==3){var T=[K(W,q+2),K(W,q+6),K(W,q+10)],e=32768,z=g.alT(T[0]/e,T[1]/e,T[2]/e);H.Lmnc.v=z.xd;H.A.v=z.iM;
H.B.v=z.X}if(r==2){var J=m(W,q+2);if(J!=7)throw"e";H.Lmnc.v=Y(W,q+4)/100;H.A.v=Y(W,q+6)/100;H.B.v=Y(W,q+8)/100}var P=q+2+(r==3?12:10);
v.Dnst.v=K(W,P);P+=4;v.PrsL.v=W[P]==1;break;case"mixr":var L={Hi:m(W,q+2)==1,_:[]};for(var N=0;N<20;
N++)L._.push(Y(W,q+4+N*2));k[y]=dZ.s1(L);break;case"clrL":case"rplc":k[y]={};b3.Xh(W,k[y],q+6,!1,null,l);
break;case"nvrt":k[y]={};break;case"post":k[y]=dY.wy("post");k[y].Lvls.v=m(W,q);break;case"thrs":k[y]=dY.wy("thrs");
k[y].Lvl.v=m(W,q);break;case"grdm":var A=q,h=m(W,A);A+=2;var C=W[A]==1,w=W[A+1]==1;A+=2;var f=Z.LS(W,A,l);
if(f=="Perc"||f=="Gcls"||f=="Lnr "||f=="Smoo"||f=="\0\0\x0B\x1D")A+=4;var O=x(W,A);A+=4+O.length*2;var n=jY.atU(W,A,O,l),$=n[0];
A=n[1];var d9=m(W,A);A+=2;var i=K(W,A);A+=4;var dF=m(W,A)==1;A+=2;var t=m(W,A)==1;A+=2;var im=K(W,A);
A+=4;var bc=m(W,A);A+=2;var at=[],l9=[];for(var N=0;N<4;N++){at.push({t:"long",v:~~(m(W,A+N*2)*100/32768)});
l9.push({t:"long",v:~~(m(W,A+N*2+8)*100/32768)})}A+=16;var fF=m(W,A);A+=2;if(d9==1)$={classID:"Grdn",Nm:{t:"TEXT",v:O},GrdF:{t:"enum",v:{GrdF:"ClNs"}},ShTr:{t:"bool",v:dF},VctC:{t:"bool",v:t},ClrS:{t:"enum",v:{ClrS:"RGBC"}},RndS:{t:"long",v:i},Smth:{t:"long",v:im},Mnm:{t:"VlLs",v:at},Mxm:{t:"VlLs",v:l9}};
var g$=dY.wy("grdm");g$.Rvrs.v=C;g$.Grad.v=$;k[y]=g$;break;case"selc":k[y]=hM.B1(W,q,s,l);break;case"vmsk":case"vsms":var fR=k.vmsk=new b.jY,cr=D(W,q+4),eE=(cr>>0&1)==1;
fR.$P=(cr>>1&1)==0;fR.isEnabled=(cr>>2&1)==0;fR.G=jz.rd(W,q+8,s-8,U.r,U.$,l);break;case"shmd":k[y]={};
var bQ=K(W,q),P=q+4;for(var N=0;N<bQ;N++){var R=Z.LS(W,P,l);P+=4;var hT=Z.LS(W,P,l);P+=4;var df=W[P];
P++;if(Math.max(W[P],W[P+1])!=0)throw"e";P+=3;var eV=K(W,P);P+=4;if(hT=="cust"||hT=="cmls"||hT=="extn"||hT=="mlst"){var gU=K(W,P);
if(gU!=16)P+=4;if(K(W,P)==16){var j={};b3.Xh(W,j,P+4,!1,null,l);k[y][hT]=j;if(hT=="cmls")_.ds.apN(k[y][hT])}}else{console.log("unknown shmd key: "+hT+", size: "+eV)}P+=eV}break;
case"shpa":var r=K(W,q),i8=K(W,q+4);if(i8!=0)console.log("some patterns present!");break;case"TySh":var bv=k[y]={},r=m(W,q);
bv.M=Z.Lj(W,q+2,l);var fE=m(W,q+2+48);bv.ZN={};try{var d5=b3.Xh(W,bv.ZN,q+56)}catch(bu){k[y]=null;break}var aR=gZ.ah6();
for(var l8 in aR)if(bv.ZN[l8]==null)bv.ZN[l8]=aR[l8];bv.DO={};var au=b3.Xh(W,bv.DO,q+56+d5+6,!1,null,l);
bv.oJ=Z.aGw(W,q+56+d5+6+au);bv.FZ=kc.WZ(bv.ZN.EngineData.v);gZ.adh(bv.FZ.EngineDict.StyleRun.RunArray);
if(bv.FZ.ResourceDict==null)bv.FZ.ResourceDict=g.N(bv.FZ.DocumentResources);delete bv.ZN.EngineData;
break;case"lfx2":case"lmfx":case"lfxs":var hx=K(W,q),fw=K(W,q+4);k.lmfx={};var d5=b3.Xh(W,k.lmfx,q+8,!1,null,l);
aK.ae(k.lmfx);break;case"FMsk":k[y]=W.slice(q,q+s);break;case"Txt2":k[y]={};k[y].raw=W.slice(q,q+s);
k[y].Hp=gC.WZ(k[y].raw);break;case"Patt":k[y]=fK.Jq(W,q,s,l);break;case"SoLd":var cx=Z.LS(W,q,l),fg=K(W,q+4),iI=K(W,q+8),eq=k[y]={},fS=b3.Xh(W,eq,q+12,null,null,l),f1=eq.warp,c4=eq.quiltWarp;
if(c4==null)c4=eq.quiltWarp=g.NP.a9D(f1);delete eq.warp;var ea=c4.v.warpStyle.v.warpStyle,ie=c4.v.warpValues;
if(ea!="warpCylinder"&&ie){c4.v.warpValue={t:"doub",v:ie.v[0].v};delete c4.v.warpValues}if(eq.nonAffineTransform==null)eq.nonAffineTransform=g.N(eq.Trnf);
if(eq.Impr==null)eq.Impr={t:"Objc",v:{__name:"None",classID:"none"}};break;case"vstk":case"pths":var fg=K(W,q);
k[y]={};var fS=b3.Xh(W,k[y],q+4,!1,null,l);break;case"vscg":var hT=Z.LS(W,q,l),fg=K(W,q+4);k[hT]={};
var fS=b3.Xh(W,k[hT],q+8,!1,null,l);aK.kV(k[hT],hT);break;case"vogk":var i$=K(W,q),fg=K(W,q+4);k[y]={};
var fS=b3.Xh(W,k[y],q+8,!1,null,l);k[y]=k[y].keyDescriptorList.v;for(var N=0;N<k[y].length;N++){var cI=k[y][N].v;
if(!g.BI.rv(cI))continue;if(cI.keyOriginBoxCorners==null){var cD=g.BI.ZW(cI);cI.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};
var fG=[cD[0],cD[1],cD[2],cD[1],cD[2],cD[3],cD[0],cD[3]];if(cI.keyOriginType.v==4)fG=g.BI.a35(g.BI.XL(cI),cI.keyOriginLineWeight.v);
g.BI.uK(cI,"keyOriginBoxCorners",fG)}}break;case"lnk2":case"lnkD__":case"lnk3__":k[y]=[];var A=q;while(A<q+s){var cH=new b._X;
k[y].push(cH);var hL=a(W,A);A+=8;var ee=A;cH.I=Z.LS(W,A,l);A+=4;if(cH.I!="liFD"){alert("Unknown Linked Layer type: "+cH.I);
break;throw cH.I}cH.Rh=K(W,A);A+=4;var aj=Z.E1(W,A);A+=1+aj.AA.length;cH.I8=aj.AA;var iA=l?Z.T6:Z.DX;
cH.k7=iA(W,A);A+=4+cH.k7.length*2+2;cH.O5=Z.LS(W,A,l);A+=4;cH.iX=Z.LS(W,A,l);A+=4;var eL=a(W,A);A+=8;
cH.open=W[A];A+=1;if(cH.open!=0){var hZ={},d5=b3.Xh(W,hZ,A+4,null,null,l);if(d5%4!=0)d5+=4-d5%4;console.log(hZ);
A+=d5+4}cH.open=0;cH.raw=W.slice(A,A+eL);A=ee+hL;if(hL%4!=0)A+=4-hL%4}break;case"FEid":var A=q;k[y]=[];
var bZ=A+s,r=K(W,A);A+=4;while(A<bZ){var hL=a(W,A);A+=8;var n={};k[y].push(n);n.id=Z.E1(W,A).AA;A+=n.id.length+1;
var r=K(W,A);A+=4;A+=4;var k_=K(W,A);A+=4;n.S=Z.Rc(W,A,l);A+=16;var kW=K(W,A);A+=4;var iU=K(W,A);A+=4;
var kO=new g.rV(0);for(var N=0;N<iU+2;N++){var hq=K(W,A);A+=4;if(hq!=0){var e8=a(W,A),gi=null;A+=8;if(N<3||N==25){gi=dI._c(!0,kW,W,n.S.r,n.S.$,A,e8,l)}if(N==0)kO.o=gi;
if(N==1)kO.L=gi;if(N==2)kO.X=gi;if(N==25)kO.iM=gi;A+=e8}}n.buffer=g.j(n.S.C()*4,kW);g.Aw(kO,n.buffer);
var jZ=W[A];A++;if(jZ!=0){n.BD=new b.pj;n.BD.S=Z.Rc(W,A,l);A+=16;var cg=a(W,A);A+=8;var gi=dI._c(!0,kW,W,n.BD.S.r,n.BD.S.$,A,cg,l);
n.BD.c=gi;n.BD.color=255;n.BD.xX();A+=cg}if(hL%4!=0)A+=4-hL%4}break;case"Lr16":dS.AH(U,W,q,l);break;
case"Lr32":dS.AH(U,W,q,l);break;case"Anno":k[y]=[];var hn=q,bF=q+4,i8=K(W,bF);bF+=4;for(var N=0;N<i8;
N++){var hL=K(W,bF);bF+=4;var gf=Z.LS(W,bF,l);bF+=4;if(gf!="txtA")throw gf;var eH=W[bF++],h5=W[bF++],gS=m(W,bF);
bF+=2;var hP=Z.Rc(W,bF,l);bF+=16;var iy=Z.Rc(W,bF,l);bF+=16;var H=dc.Hj(W,bF,l);bF+=10;var cs=Z.E1(W,bF);
bF+=cs.length;var fH=Z.E1(W,bF);bF+=fH.length;var fM=Z.E1(W,bF);bF+=fM.length;var az=K(W,bF);bF+=4;var er=Z.LS(W,bF,l);
bF+=4;var aJ=K(W,bF);bF+=4;var kS=l?Z.gq:Z.Pa,ge=kS(W,bF+2,aJ-2>>1);bF+=aJ;k[y].push([hP.x,hP.y,H,cs.AA,ge])}break;
default:break}var aT="Layr,Lr16,Lr32,LMsk,Txt2,artd,extd,luni,pths,extn,tySh,lfx2,cinf,Anno,CAI ,GenI,phry".split(",");
if(aT.indexOf(y)==-1)if(s%4!=0)console.log("size not multiple of 4!!!",y);if(y!="luni"&&y!="TySh"&&y!="tySh"&&y!="lfx2"&&y!="iOpa"&&y!="SoCo")if(s%4!=0)s+=4-s%4;
q+=s}var d=k.CgEd;if(d){var G=k.brit;if(G){G.Brgh.v=d.Brgh?d.Brgh.v:0;G.Cntr.v=d.Cntr?d.Cntr.v:0;G.useLegacy.v=d.useLegacy?d.useLegacy.v:0}delete k.CgEd}var fQ=[];
for(var N=0;N<fQ.length;N++)delete k[fQ[N]];return q};aK.jb=function(W,q,X,k,B){if(X.SoLd){var U={};
for(var l in X){if(l=="SoLd")U.PlLd={};U[l]=X[l]}X=U}for(var K in X)if(X[K]==null){alert("A bug occured (see console).");
console.log("Please, report a bug, that \""+K+"\" tag was present with a null value.");delete X[K]}for(var K in X){var D=k&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(K)!=-1,Y=0;
Z.Me(W,q,D?"8B64":"8BIM");q+=4;var m=q;Z.Me(W,q,K);q+=4;Z.z8(W,q,0);q+=D?8:4;switch(K){case"iOpa":Z.qs(W,q,X[K],1);
Y=4;break;case"brst":Y=0;for(var N=0;N<3;N++)if(X[K][N]==0){Z.YK(W,q+Y,N);Y+=4}break;case"knko":Z.qs(W,q,X[K],1);
Y=4;break;case"infx":Z.qs(W,q,X[K],1);Y=4;break;case"clbl":Z.qs(W,q,X[K],1);Y=4;break;case"lmgm":Z.qs(W,q,X[K],1);
Y=4;break;case"vmgm":Z.qs(W,q,X[K],1);Y=4;break;case"fcmy":Z.qs(W,q,X[K],1);Y=4;break;case"lyid":Z.YK(W,q,X[K]);
Y=4;break;case"lsct":Z.YK(W,q,X[K].I);Y=4;if(X[K].JY){Z.Me(W,q+4,"8BIM");Z.Me(W,q+8,X[K].JY);Y=12}break;
case"lyvr":Z.YK(W,q,X[K]);Y=4;break;case"lnsr":Z.Me(W,q,X[K]);Y=4;break;case"lspf":Z.YK(W,q,X[K]);Y=4;
break;case"lclr":Z.Hz(W,q,X[K]);Y=8;break;case"luni":Z.cr(W,q,X[K]);Y=4+2*X[K].length;break;case"fxrp":Z.pU(W,q,X[K].x);
Z.pU(W,q+8,X[K].y);Y=16;break;case"phry":case"artb":case"artd":Z.YK(W,q,16);Y=b3.so(W,X[K],q+4)+4;break;
case"SoCo":Z.YK(W,q,16);Y=b3.so(W,X[K],q+4)+4;break;case"GdFl":Z.YK(W,q,16);Y=b3.so(W,X[K],q+4)+4;break;
case"PtFl":Z.YK(W,q,16);Y=b3.so(W,X[K],q+4)+4;break;case"CgEd":var a={classID:"null",Vrsn:{t:"long",v:1},Brgh:{t:"long",v:24},Cntr:{t:"long",v:54},means:{t:"long",v:127},Lab:{t:"bool",v:!1},useLegacy:{t:"bool",v:!1},Auto:{t:"bool",v:!0}},p=a,M=X[K];
p.Brgh.v=M.Brgh.v;p.Cntr.v=M.Cntr.v;p.useLegacy.v=M.useLegacy.v;Z.YK(W,q,16);Y=b3.so(W,a,q+4)+4;break;
case"brit":W.Td(q,8);Y=8;break;case"levl":var x=new dl;Y=i0.zX(x,X[K]);Z.Ex(W,q,x.data);break;case"curv":Y=eR.b0(W,q,X[K]);
break;case"expA":Y=14;W.Td(q,14);Z.SX(W.data,q,1);Z.od(W.data,q+2,X[K].Exps?X[K].Exps.v:0);Z.od(W.data,q+6,X[K].Ofst?X[K].Ofst.v:0);
Z.od(W.data,q+10,X[K].gammaCorrection?X[K].gammaCorrection.v:1);break;case"vibA":Z.YK(W,q,16);Y=b3.so(W,X[K],q+4)+4;
break;case"hue2":Y=cW.b0(W,q,X[K]);break;case"blnc":Y=19;W.Td(q,Y);var R=["ShdL","MdtL","HghL"];for(var N=0;
N<3;N++){var y=X[K][R[N]].v;for(var s=0;s<3;s++)y.push(Z.bg(W.data,q+N*6+s*2,y[s].v))}W.data[q+18]=X[K].PrsL.v?1:0;
break;case"blwh":var a={classID:"null",bwPresetKind:{t:"long",v:1},blackAndWhitePresetFileName:{t:"TEXT",v:""}},F="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var N=0;N<F.length;N++){a[F[N]]=X[K][F[N]]}Z.YK(W,q,16);Y=b3.so(W,a,q+4)+4;break;case"phfl":Z.Hz(W,q,2);
var E=X[K].Clr.v;Z.Hz(W,q+2,7);Z.Hz(W,q+4,Math.round(E.Lmnc.v*100));Z.Hz(W,q+6,Math.round(E.A.v*100));
Z.Hz(W,q+8,Math.round(E.B.v*100));Z.Hz(W,q+10,0);var o=q+2+10;W.Td(o,5);Z.Tj(W.data,o,X[K].Dnst.v);o+=4;
W.data[o]=X[K].PrsL.v?1:0;o++;Y=o-q;break;case"mixr":Y=44;W.Td(q,Y);var G=dZ.Fg(X[K]);Z.SX(W.data,q,1);
Z.SX(W.data,q+2,G.Hi?1:0);for(var N=0;N<20;N++)Z.bg(W.data,q+4+N*2,G._[N]);break;case"clrL":case"rplc":Z.Hz(W,q,1);
Z.YK(W,q+2,16);Y=b3.so(W,X[K],q+6)+6;break;case"nvrt":Y=0;break;case"post":Z.Hz(W,q,X[K].Lvls.v);Y=2;
break;case"thrs":Z.Hz(W,q,X[K].Lvl.v);Y=2;break;case"grdm":var d=X[K].Rvrs?X[K].Rvrs.v:!1,u=!1,r=867527939,v=!1,c=!1,V=2048,j=[0,0,0,0],Q=[32768,32768,32768,32768],H=X[K].Grad.v,T,e,z=H.Clrs==null?1:0;
if(z==0){T=H;e=JSON.parse(kE.oo.a3f).v}else{T=dY.wy("grdm").Grad.v;e=H}W.Td(q,4);Z.SX(W.data,q,1);W.data[q+2]=d?1:0;
W.data[q+3]=u?1:0;var J=q+4;Z.cr(W,J,H.Nm.v);J+=4+H.Nm.v.length*2;J=jY.amt(W,J,T);Z.Hz(W,J,z);J+=2;Z.YK(W,J,e.RndS.v);
J+=4;Z.Hz(W,J,e.ShTr.v?1:0);J+=2;Z.Hz(W,J,e.VctC.v?1:0);J+=2;Z.YK(W,J,e.Smth.v);J+=4;Z.Hz(W,J,3);J+=2;
for(var N=0;N<4;N++)Z.Hz(W,J+N*2,j[N]);J+=8;for(var N=0;N<4;N++)Z.Hz(W,J+N*2,Q[N]);J+=8;J+=2;Y=J-q;break;
case"selc":Y=hM.b0(W,q,X[K]);break;case"FMsk":Z.Ex(W,q,X[K]);Y=X[K].length;break;case"Txt2":var P=new dl,L=gC.FN(X[K].Hp,P),A=P.data.slice(0,L);
Z.Ex(W,q,A);Y=A.length;break;case"vmsk":var h=X[K],C=0;Z.YK(W,q,3);if(!h.$P)C+=1<<1;if(!h.isEnabled)C+=1<<2;
Z.YK(W,q+4,C);Y=8;var w=h.G.length;W.Td(q+8,w*26);jz.pn(W.data,q+8,h.G,B.r,B.$);Y+=w*26;break;case"shmd":Z.YK(W,q,Object.keys(X[K]).length);
var o=q+4;for(var f in X[K]){Z.Me(W,o,"8BIM");o+=4;Z.Me(W,o,f);o+=4;Z.YK(W,o,0);o+=4;Z.YK(W,o,0);o+=4;
Z.YK(W,o,16);o+=4;var O=b3.so(W,X[K][f],o);if(O%4!=0)O+=4-O%4;Z.YK(W,o-8,O+4);o+=O}Y=o-q;break;case"TySh":var o=q;
Z.yT(W,o,1);o+=2;var n=X[K],P=new dl;n.FZ.DocumentResources=g.N(n.FZ.ResourceDict);var L=kc.FN(n.FZ,P),A=P.data.slice(0,L);
n.ZN.EngineData={t:"tdta",v:A};var $=n.FZ.EngineDict.Editor.Text;n.ZN.Txt.v=$.substring(0,$.length-1);
Z.acm(W,o,n.M);o+=48;Z.yT(W,o,50);o+=2;Z.YK(W,o,16);o+=4;o+=b3.so(W,n.ZN,o);Z.yT(W,o,1);o+=2;Z.YK(W,o,16);
o+=4;o+=b3.so(W,n.DO,o);Z.afB(W,o,n.oJ);o+=16;Y=o-q;break;case"lmfx":Z.YK(W,q,0);Z.YK(W,q+4,16);var a=g.N(X[K]),d9=!1;
aK.ST(a);for(var N=0;N<kE.m1.length;N++)if(a[kE.m1[N]]!=null)d9=!0;Z.Me(W,m,d9?"lmfx":"lfx2");Y=b3.so(W,a,q+8)+8;
break;case"Patt":var o=fK.MO(W,q,X[K]);Y=o-q;break;case"PlLd":var i=q;W.Td(q,60);var y=X.SoLd;Z.Me(W,q,"plcL");
Z.YK(W,q+4,3);var dF=W.data[q+8]=y.Idnt.v.length;Z.Me(W,q+9,y.Idnt.v);var o=q+9+dF,t=[1,1,16,2];for(var N=0;
N<4;N++)Z.YK(W,o+N*4,t[N]);o+=16;t=_.Gz.rQ(y.nonAffineTransform);for(var N=0;N<8;N++)Z.pU(W,o+N*8,t[N]);
o+=64;Z.YK(W,o,0);Z.YK(W,o+4,16);var im=g.NP.aeS(y.quiltWarp).v;o+=8+b3.so(W,im,o+8);Y=o-q;break;case"SoLd":var y=X[K],bc=y.quiltWarp;
y.warp=g.NP.aeS(bc);if(g.NP.hY(bc.v)==16)delete y.quiltWarp;Z.Me(W,q,"soLD");Z.YK(W,q+4,4);Z.YK(W,q+8,16);
Y=b3.so(W,y,q+12)+12;y.quiltWarp=bc;delete y.warp;break;case"vstk":case"pths":Z.YK(W,q,16);Y=b3.so(W,X[K],q+4)+4;
break;case"vscg__":Z.Me(W,q,X[K].key);Z.YK(W,q+4,16);Y=b3.so(W,X[K]._,q+8)+8;break;case"vogk":Z.YK(W,q,1);
Z.YK(W,q+4,16);g.BI.a7s(X[K]);for(var N=0;N<X[K].length;N++){var at=X[K][N].v.keyOriginResolution;if(at)at.v=B.mC}var l9={classID:"null",keyDescriptorList:{t:"VlLs",v:X[K]}};
Y=b3.so(W,l9,q+8)+8;break;case"lnkD":case"lnk2":case"lnk3":var J=q;for(var N=0;N<X[K].length;N++){var fF=X[K][N],g$=J;
Z.GA(W,J,0);J+=8;Z.Me(W,J,fF.I);J+=4;Z.YK(W,J,fF.Rh);J+=4;W.Td(J,1);W.data[J]=fF.I8.length;J++;Z.Me(W,J,fF.I8);
J+=fF.I8.length;Z.cr(W,J,fF.k7+"\0");J+=4+fF.k7.length*2+2;Z.Me(W,J,fF.O5);J+=4;Z.Me(W,J,fF.iX);J+=4;
Z.GA(W,J,fF.raw.length);J+=8;W.Td(J,1);W.data[J]=fF.open;J++;Z.Ex(W,J,fF.raw);J+=fF.raw.length;Z.YK(W,J,1);
J+=4;J+=11;var fR=J-g$-8;Z.GA(W,g$,fR);if(fR%4!=0){W.Td(J,4-fR%4);J+=4-fR%4}}Y=J-q;break;case"FEid":var J=q;
Z.YK(W,J,3);J+=4;for(var cr=0;cr<X[K].length;cr++){var eE=X[K][cr];J+=4;var bQ=J;J+=4;Z.Uo(W,J,eE.id);
J+=eE.id.length+1;Z.YK(W,J,1);J+=4;var hT=g.j(eE.S.C(),B.depth),df=eE.S,eV=g.j(df.C(),B.depth);J+=4;
var gU=J;J+=4;Z.nw(W,J,df);J+=16;Z.YK(W,J,B.depth);J+=4;Z.YK(W,J,24);J+=4;for(var N=0;N<24+2;N++){var i8=-1;
if(N==0)i8=0;if(N==1)i8=1;if(N==2)i8=2;if(N==25)i8=3;Z.YK(W,J,i8!=-1?1:0);J+=4;if(i8!=-1){g.u6(eE.buffer,hT,i8);
g.Z_(hT,eE.S,eV,df);J+=4;var bv=J;J+=4;W.Td(J,df.C()+2);J=dI.Yc(!0,eV,W.data,df.r,df.$,J,3);Z.YK(W,bv,J-(bv+4))}}Z.YK(W,gU,J-(gU+4));
W.Td(J,1);W.data[J]=eE.BD?1:0;J++;if(eE.BD!=null){var fE=df,d5=g.j(fE.C(),B.depth);d5.fill(g.bH(B.depth)*eE.BD.color/255);
g.Z_(eE.BD.c,eE.BD.S,d5,fE);Z.nw(W,J,fE);J+=16;J+=4;var aR=J;J+=4;W.Td(J,fE.C()+2);J=dI.Yc(!0,d5,W.data,fE.r,fE.$,J,3);
Z.YK(W,aR,J-(aR+4))}var fR=J-(bQ+4);Z.YK(W,bQ,fR);if(fR%4!=0)J+=4-fR%4}Y=J-q;break;case"Lr16":case"Lr32":var l8=dS.a4X(B,W,q,[],!1);
Y=l8-q;break;case"Anno":var l8=q,au=X[K].length;Z.Hz(W,l8,2);Z.Hz(W,l8+2,1);l8+=4;Z.YK(W,l8,au);l8+=4;
for(var N=0;N<au;N++){var hx=X[K][N],fw=hx[0],cx=hx[1],fg=l8;l8+=4;Z.Me(W,l8,"txtA");l8+=4;W.Td(l8,2);
W.data[l8]=1;W.data[l8+1]=28;l8+=2;Z.Hz(W,l8,1);l8+=2;Z.nw(W,l8,new dU(fw,cx,17,21));l8+=16;Z.nw(W,l8,new dU(fw+8,cx+10,241,141));
l8+=16;W.Td(l8,10);dc.ea(W.data,l8,hx[2]);l8+=10;l8+=Z.Uo(W,l8,hx[3]);l8+=Z.Uo(W,l8,"");l8+=Z.Uo(W,l8,"D:20211012120233+01'00'");
var iI=hx[4].length*2;Z.YK(W,l8,12+2+iI);l8+=4;Z.Me(W,l8,"txtC");l8+=4;Z.YK(W,l8,2+iI);l8+=4;W.Td(l8,2);
W.data[l8]=254;W.data[l8+1]=255;l8+=2;Z.a7H(W,l8,hx[4]);l8+=iI;Z.YK(W,fg,l8-fg)}Y=l8-q;break;default:console.log("unknown layer tag: "+K+", size: "+Y);
q-=12;continue}var eq=["Txt2","artd","extd","pths"];if(eq.indexOf(K)==-1)if(Y%4!=0)Y+=4-Y%4;if(D)Z.GA(W,q-8,Y);
else Z.YK(W,q-4,Y);if(K!="luni"&&K!="TySh")if(Y%4!=0)Y+=4-Y%4;q+=Y}return q};aK.ae=function(W){for(var N=0;
N<kE.order.length;N++){var q=kE.order[N],X=kE.m1[N];if(W[X]==null)W[X]={t:"VlLs",v:[]};if(W[q]!=null){W[X].v.push(W[q]);
delete W[q]}var k=[];for(var B=0;B<W[X].v.length;B++){var U=W[X].v[B];if(U.v.present==null||U.v.present.v==!0)k.push(U)}W[X].v=k}};
aK.ST=function(W){for(var N=0;N<kE.order.length;N++){var q=kE.order[N],X=kE.m1[N],k=W[X].v.length;if(k==0){delete W[X];
continue}if(k==1){W[q]=W[X].v[0];delete W[X];continue}}};aK.kV=function(W,q){if(q=="GdFl"){if(W.Angl==null)W.Angl={v:{type:"#Ang",val:0},t:"UntF"};
if(W.Algn==null)W.Algn={v:!0,t:"bool"};if(W.Scl==null)W.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(W.Ofst==null)W.Ofst={v:{classID:"Pnt",Hrzn:{v:{type:"#Prc",val:0},t:"UntF"},Vrtc:{v:{type:"#Prc",val:0},t:"UntF"}},t:"Objc"};
if(W.Rvrs==null)W.Rvrs={v:!1,t:"bool"};if(W.Dthr==null)W.Dthr={v:!1,t:"bool"}}if(q=="PtFl"){if(W.Algn==null)W.Algn={v:!0,t:"bool"};
if(W.Angl==null)W.Angl={v:{type:"#Ang",val:0},t:"UntF"};if(W.Scl==null)W.Scl={v:{type:"#Prc",val:100},t:"UntF"};
if(W.phase==null)W.phase={v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}};aK.P=function(W,q){var X={};
if(W=="TySh"){X.M=q.M.P();X.ZN=g.N(q.ZN);X.DO=g.N(q.DO);X.oJ=q.oJ.P();X.FZ=g.N(q.FZ);if(q.add)X.add={vmsk:q.add.vmsk.P(),vogk:g.N(q.add.vogk)};
return X}else if(W=="fxrp")return q.P();else if(W=="vmsk")return q.P();else return g.N(q)};function jF(W,q){}jF.WZ=function(W,q,X,k,B){k=jF.av4(W,q,X,k,B);
return k};jF.FN=function(W,q,X,k,B){k=jF.aKR(W,q,X,k,B);return k};jF.av4=function(W,q,X,k,B){var U=k;
W.S=Z.Rc(X,k,B);k+=16;var l=B?Z.Sm:Z.U_,K=B?Z.lm:Z.dd,D=l(X,k);k+=2;W.ZD=[];var m=q.je,Y=B?Z.ac1:Z.sa,a=B?Z.P2:Z.WP,p=m?Y:a;
for(var N=0;N<D;N++){W.ZD[N]={id:K(X,k),length:p(X,k+2)};k+=m?10:6}var M=Z.LS(X,k,B);k+=4;if(M!="8BIM"){console.log("Invalid Blend mode signature: "+JSON.stringify(M));
alert("Error in Photoshop file: wrong signature.");throw"e"}W.JY=Z.LS(X,k,B);k+=4;W.zO=X[k];k+=1;W.Oa=X[k]==1;
k+=1;W.Z9=X[k];k+=1;if(X[k]!=0)console.log("error in filler!");k+=1;var x=a(X,k);k+=4;var R=k;k=jF.azy(W,X,k,B);
k=jF.a72(W,X,k,B);var y=Z.E1(X,k);W.name=y.AA;k+=y.length;if(y.length%4!=0)k+=4-y.length%4;k=aK.Rb(X,k,R+x,W.add,m,q,B);
if(W.add.lsct){if(W.add.lsct.JY)W.JY=W.add.lsct.JY;W.add.lsct=W.add.lsct.I}return k};jF.aKR=function(W,q,X,k,B){var U=k;
Z.nw(X,k,W.S);k+=16;var l=q.add.fcmy==1,K=W.aqi(l);Z.Hz(X,k,K.length);k+=2;var D=q.je;B.push(k);for(var N=0;
N<K.length;N++){Z.yT(X,k,K[N]);if(D)Z.GA(X,k+2,0);else Z.YK(X,k+2,0);k+=D?10:6}Z.Me(X,k,"8BIM");k+=4;
Z.Me(X,k,W.JY);k+=4;Z.qs(X,k,W.zO,1);k+=1;Z.qs(X,k,W.Oa?1:0,1);k+=1;Z.qs(X,k,W.Z9,1);k+=1;Z.qs(X,k,0,1);
k+=1;var m=k;Z.YK(X,k,0);k+=4;var Y=k;k=jF.ab5(W,X,k);k=jF.aCs(W,X,k);var a=Z.Uo(X,k,W.name.slice(0,255));
k+=a;if(a%4!=0)k+=4-a%4;if(W.add.lsct){W.add.lsct={I:W.add.lsct};if(W.JY=="pass"){W.add.lsct.JY="pass";
W.JY="norm"}}if(W.JY=="pass")W.add.lsct={I:W.add.lsct,JY:"pass"};if(W.add.brit)W.add.CgEd=W.add.brit;
k=aK.jb(X,k,W.add,D,q);delete W.add.CgEd;if(W.add.lsct){if(W.add.lsct.JY)W.JY=W.add.lsct.JY;W.add.lsct=W.add.lsct.I}var p=k-Y;
Z.YK(X,m,p);return k};jF.azy=function(W,q,X,k){var B=k?Z.P2:Z.WP,U=B(q,X);X+=4;if(U==0)return X;var l=X;
W.BD=new b.pj;W.BD.S=Z.Rc(q,X,k);X+=16;W.BD.color=q[X];X+=1;var K=jF.a2X(W.BD,q,X);X+=1;if(K){var D=!1,m=255,Y=0,a=255,p=0;
for(var N=0;N<W.ZD.length;N++)if(W.ZD[N].id==-3)D=!0;if(D){W.$a=jF.apl(q,X,k);X+=18}var M=X,x=q[X];X++;
var R=k?Z.mx:Z.Rm;if(x>>0&1){m=q[X];X++}if(x>>1&1){Y=R(q,X);X+=8}if(x>>2&1){a=q[X];X++}if(x>>3&1){p=R(q,X);
X+=8}if((X-M&1)==1)X++;W.ku=[m,Y,a,p]}else{if(U==20)X+=2;else{W.$a=jF.apl(q,X,k);X+=18}}return l+U};
jF.ab5=function(W,q,X){Z.YK(q,X,0);X+=4;if(W.BD==null)return X;var k=W.Jx(),B=W.add.vmsk,U=X,l=!0;Z.YK(q,X,0);
Z.nw(q,X,W.BD.S);X+=16;Z.qs(q,X,W.BD.color);X+=1;jF.a0N(W.BD,q,X,l);X+=1;if(l){if(W.$a){jF.aK2(q,X,W.$a);
X+=18}var K=X;Z.qs(q,X,B?15:3);X+=1;Z.qs(q,X,k?k.IC:255);X+=1;Z.pU(q,X,k?k.iE:0);X+=8;if(B){Z.qs(q,X,B?B.IC:255);
X+=1;Z.pU(q,X,B?B.iE:0);X+=8}if((X-K&1)==1)X++}Z.YK(q,U-4,X-U);return X};jF.apl=function(W,q,X){var k=new b.pj;
jF.a2X(k,W,q);q+=1;k.color=W[q];q+=1;k.S=Z.Rc(W,q,X);q+=16;return k};jF.aK2=function(W,q,X){jF.a0N(X,W,q,!1);
q+=1;Z.qs(W,q,X.color);q+=1;Z.nw(W,q,X.S);q+=16};jF.a2X=function(W,q,X){var k=q[X];W.$P=(k>>0&1)==0;
W.isEnabled=(k>>1&1)==0;W.Qw=(k>>3&1)==1;return k>>4&1};jF.a0N=function(W,q,X,k){var B=0;if(!W.$P)B+=1<<0;
if(!W.isEnabled)B+=1<<1;if(W.Qw)B+=1<<3;if(k)B+=1<<4;Z.qs(q,X,B)};jF.a72=function(W,q,X,k){var B=k?Z.P2:Z.WP,U=B(q,X);
X+=4;for(var N=0;N<U;N++)W.EU[N]=q[X+N];return X+U};jF.aCs=function(W,q,X){Z.YK(q,X,W.EU.length);X+=4;
q.Td(X,40);for(var N=0;N<40;N++){q.data[X+N]=W.EU[N]}return X+40};function dI(){}dI.WZ=function(W,q,X,k,B){k=dI.ayi(W,q,X,k,B);
return k};dI.zX=function(W,q,X,k,B,U,l){k=dI.aDw(W,q,X,k,B,U,l);return k};dI.ayi=function(W,q,X,k,B){var U=q.yn,l=W.ZD,K={},D=k;
for(var N=0;N<l.length;N++){var m=l[N],Y=m.id,a=m.length,p;if(Y==-2&&W.BD==null)Y=-1;if(Y==-3)p=W.$a.S;
else if(Y==-2)p=W.BD.S;else p=W.S;var M=dI._c(q.je,q.JI,X,p.r,p.$,k,a,B);M=g.Cn(M,q.depth);k+=a;if(Y==-3)W.$a.c=M;
else if(Y==-2)W.BD.c=M;else K["c"+Y]=M}var x=new g.rV(0);x.iM=null;if(U==3){x.o=K.c0;x.L=K.c1;x.X=K.c2;
x.iM=K["c-1"]}else if(U==1){x.o=K.c0;x.L=K.c0;x.X=K.c0;x.iM=K["c-1"]}else if(U==4){var R=q.Mc.r1039,y=null,s=K.c0,F=K.c1,E=K.c2,o=K.c3;
if(R){var y=R.aFA,G=17;if(y==null){var d=ICC.R(R.buffer);if(d.header.spaceIn=="RGB "){}else y=R.aFA=ICC.U.sampleLUT(d,G)}}if(y){var u={o:s,L:F,X:E,iM:o},r=g.j(s.length*4,q.depth);
g.Aw(u,r);g.i5(r);ICC.U.applyLUT4(y,G,r,r);g.EX(r,u)}else{var u={o:s,L:F,X:E,iM:o},r=g.j(s.length*4,q.depth);
g.Aw(u,r);g.i5(r);g.a7k(r);g.EX(r,u)}x.o=s;x.L=F;x.X=E;x.iM=K["c-1"]}if(x.o==null)x.o=g.j(0);if(x.iM==null&&x.o!=null){x.iM=x.o.slice(0);
x.iM.fill(g.bH(g.Oj(x.iM)))}if(x.L==null)x.L=x.o.slice(0);if(x.X==null)x.X=x.o.slice(0);W.buffer=g.j(Math.max(0,W.S.C()*4),q.depth);
g.Aw(x,W.buffer);return k};dI.aDw=function(W,q,X,k,B,U,l){var K=q.aqi(l),D=q.buffer,m=null,Y=g.Oj(D),a=g.j(q.S.C(),Y);
if(l){m=g.j(q.S.C(),Y);g.u6(D,m,3);D=D.slice(0);g.aqH(D)}for(var N=0;N<K.length;N++){var p=K[N],M;if(p==-3)M=q.$a.S;
else if(p==-2)M=q.BD.S;else M=q.S;var x=a;if(p==-3)x=q.$a.c;if(p==-2)x=q.BD.c;if(p==-1){if(m)x=m;else g.u6(D,a,3)}if(p==0)g.u6(D,a,0);
if(p==1)g.u6(D,a,1);if(p==2)g.u6(D,a,2);if(p==3)g.u6(D,a,3);X.Td(k,M.C()*3+4);var R=k;k=dI.Yc(W,x,X.data,M.r,M.$,k,Y!=8||U[1]?3:1);
var y=k-R;if(W)Z.axx(X.data,B+N*10+2,y);else Z.Tj(X.data,B+N*6+2,y)}return k};dI._c=function(W,q,X,k,B,U,l,K){var D=K?Z.Sm:Z.U_,m=D(X,U);
U+=2;var Y=dI.u2(W,q,X,k,B,U,m,l-2,K);return Y};dI.Yc=function(W,q,X,k,B,U,l){Z.bg(X,U,l);U+=2;U=dI.rW(W,q,X,k,B,U,l);
return U};dI.u2=function(W,q,X,k,B,U,l,K,D){var m,Y=k*B*(q>>>3),a=Y&3,p=Y+(a==0?0:4-a);if(K<=0){return g.j(p,q)}if(l==0){m=g.j(Y);
m.set(new Uint8Array(X.buffer,U,Math.min(Y,X.buffer.byteLength-U)));if(q==16)for(var N=0;N<Y;N+=2){var M=m[N];
m[N]=m[N+1];m[N+1]=M}if(q==32)for(var N=0;N<Y;N+=4){var M=m[N];m[N]=m[N+3];m[N+3]=M;M=m[N+1];m[N+1]=m[N+2];
m[N+2]=M}U+=Y}else if(l==1){m=g.j(Y);var x=W?4:2,R=dI.ap1(X,m,k,B,U,U+x*B,x,D);U+=x*B+R}else if(l==2||l==3){var y=new Uint8Array(X.buffer,U+2,K-6),s=g.j(p);
UZIP.inflateRaw(y,s);if(l==3){if(q==8)for(var F=0;F<B;F++){var E=F*k+1,o=E+k-1,G=s[E-1];for(var d=E;
d<o;d++){G+=s[d];s[d]=G&255}}else if(q==16)for(var F=0;F<B;F++){var E=F*k,o=E+k,G=0;for(var d=E;d<o;
d++){var u=d<<1;G+=s[u]<<8|s[u+1];s[u]=G&255;s[u+1]=G>>>8}}else{var r=k,v=s.slice(0,r*4);for(var F=0;
F<B;F++){var E=F*r*4+1,o=E+r*4-1,G=s[E-1];for(var d=E;d<o;d++){G+=s[d];s[d]=G&255}var c=F*r*4;for(var d=0;
d<r;d++){v[4*d+3]=s[c+d];v[4*d+2]=s[c+r+d];v[4*d+1]=s[c+r+r+d];v[4*d]=s[c+r+r+r+d]}s.set(v,c)}}}if(s.length==p)m=s;
else{m=g.j(p);for(var N=0;N<s.length;N++)m[N]=s[N]}}else m=g.j(p);if(q==16)m=new Uint16Array(m.buffer);
if(q==32)m=new Float32Array(m.buffer);return m};dI.rW=function(W,q,X,k,B,U,l){var K=k*B,D=g.Oj(q);if(D!=8)q=new Uint8Array(q.buffer);
var m=q;if(l==0)for(var N=0;N<K;N++)X[U++]=m[N];else if(l==1){var Y=W?4:2,a=dI.a8v(m,X,k,B,U,U+Y*B,Y);
U+=Y*B+a}else if(l==2||l==3){function p(v,N){return v[N+1]<<8|v[N]}if(l==3){m=m.slice(0);if(D==8)for(var M=0;
M<B;M++){var x=M*k,R=x+k;for(var y=R-1;y>x;y--)m[y]=m[y]-m[y-1]+256&255}else if(D==16)for(var M=0;M<B;
M++){var x=M*k,R=x+k;for(var y=R-1;y>x;y--){var s=y<<1,F=p(m,s)-p(m,s-2)+65536&65535;m[s]=F>>>8;m[s+1]=F&255}var E=m[x*2];
m[x*2]=m[x*2+1];m[x*2+1]=E}else if(D==32){var o=k,G=m.slice(0,o*4);for(var M=0;M<B;M++){var d=M*o*4;
for(var y=0;y<o;y++){var u=d+4*y;G[y]=m[u+3];G[o+y]=m[u+2];G[o+o+y]=m[u+1];G[o+o+o+y]=m[u]}for(var y=o*4-1;
y>0;y--)G[y]=G[y]-G[y-1]+256&255;m.set(G,d)}}}X[U]=120;X[U+1]=156;U+=2;var r=pako.deflateRaw(m,{au4:4});
X.set(r,U);U+=r.length+4}else console.log("Unknown compression: "+l);return U};dI.ap1=function(W,q,X,k,B,U,l,K){if(!(W instanceof Uint8Array)||!(q instanceof Uint8Array))throw"e";
var D=U,m=k|0;if(K){if(l==2)for(var N=0;N<m;N++){var Y=Z.Sm(W,B+(N<<1));dI.be(W,U,Y,q,N*X,X);U+=Y}else for(var N=0;
N<m;N++){var Y=Z.P2(W,B+(N<<2));dI.be(W,U,Y,q,N*X,X);U+=Y}}else{if(l==2)for(var N=0;N<m;N++){var Y=Z.U_(W,B+(N<<1));
dI.be(W,U,Y,q,N*X,X);U+=Y}else for(var N=0;N<m;N++){var Y=Z.WP(W,B+(N<<2));dI.be(W,U,Y,q,N*X,X);U+=Y}}return U-D};
dI.a8v=function(W,q,X,k,B,U,l){var K=U;if(l==2)for(var N=0;N<k;N++){var D=dI.a5K(W,N*X,X,q,U);Z.SX(q,B+N*2,D);
U+=D}else for(var N=0;N<k;N++){var D=dI.a5K(W,N*X,X,q,U);Z.Tj(q,B+N*4,D);U+=D}return U-K};dI.a5K=function(W,q,a1,X,k){var B,U,l,K,D,cB,m;
K=q+a1;for(l=q,U=k;a1>0;l=B,a1-=cB){m=a1<128?a1:128;if(l<=K-3&&W[l+1]==W[l+0]&&W[l+2]==W[l+0]){for(B=l+3;
B<l+m&&W[B]==W[l+0];)++B;cB=B-l;X[U++]=1+256-cB;X[U++]=W[l+0]}else{for(B=l;B<l+m;)if(B<=K-3&&W[B+1]==W[B+0]&&W[B+2]==W[B+0])break;
else++B;cB=B-l;X[U++]=cB-1;for(var N=0;N<cB;N++)X[U+N]=W[l+N];U+=cB}}return U-k};dI.be=function(W,q,X,k,B,U){for(var l=0;
l<X;){var a1=W[q++];if(a1>=128){var K=W[q++],D=B+(257-a1);k.fill(K,B,D);B=D;l+=2}else{for(var N=0;N<=a1;
N++)k[B+N]=W[q+N];q+=a1+1;B+=a1+1;l+=1+1+a1}}};function kg(){}kg.aFL=function(W){if(W.Mc.r1005){W.mC=Z.L6(W.Mc.r1005,0)}if(W.Mc.r1025){var q=W.Mc.r1025;
delete W.Mc.r1025;var X=jz.rd(q,0,q.length,W.r,W.$),k=new b.jY;k.G=X;W.RM[0]=ey.hQ("Work Path",{vmsk:k})}if(W.Mc.r1026){var B=W.Mc.r1026;
for(var N=0;N<B.length;N+=2){var U=W.U[N>>>1];if(U)U.iN=Z.U_(B,N)}}if(W.Mc.r1032){W.UZ=dS.a8r(W.Mc.r1032,0)}delete W.Mc.r1036;
W.JM(W.Mc.r1039);if(W.Mc.r1045){W.Oe=[];var l=W.Mc.r1045,K=0;while(K<l.length){var D=Z.DX(l,K);W.Oe.push(D);
K+=4+2+D.length*2}}if(W.Mc.r1050){var m=Z.WP,Y=W.Mc.r1050,a=Z.WP(Y,0);if(a==6){var K=4,p=Z.Rc(Y,K);K+=16;
var M=Z.AV(Y,K);K+=4+M.length*2;var x=m(Y,K);K+=4;var R=W.Ev;for(var N=0;N<x;N++){var y=_.r1.ye(),F;
R.push(y);y=y.v;y.sliceID.v=m(Y,K);K+=4;y.groupID.v=m(Y,K);K+=4;var s=m(Y,K);K+=4;if(s==1){F=m(Y,K);
K+=4}var M=Z.AV(Y,K);K+=4+M.length*2;var E=m(Y,K);K+=4;var o=[m(Y,K),m(Y,K+4),m(Y,K+8),m(Y,K+12)];K+=16;
_.r1.Gn(R,R.length-1,o);var G=y.url.v=Z.AV(Y,K);K+=4+G.length*2;var d=y.null.v=Z.AV(Y,K);K+=4+d.length*2;
var u=y.Msge.v=Z.AV(Y,K);K+=4+u.length*2;var r=y.altTag.v=Z.AV(Y,K);K+=4+r.length*2;y.cellTextIsHTML.v=Y[K]==1;
K++;var v=y.cellText.v=Z.AV(Y,K);K+=4+v.length*2;var c=m(Y,K);K+=4;var V=m(Y,K);K+=4;var j=Y.slice(K,K+4);
K+=4;if(s!=2)R.pop()}}else if(a==8){var Q={},H=new dU(0,0,W.r,W.$);b3.Xh(Y,Q,8,!1);var Y=W.Ev=Q.slices.v;
for(var N=0;N<Y.length;N++){var T=_.r1.XE(Y,N),e=new dU(T[0],T[1],T[2]-T[0],T[3]-T[1]);if(Y[N].v.origin.v.ESliceOrigin!="userGenerated"||e.x$(H).PM()){Y.splice(N,1);
N--}}}}if(W.Mc.r1058){var z=W.Mc.r1058,J=UTIF.decode(z.buffer,{parseMN:!1,debug:!1});ei.xZ(J[0],W.qq);
delete W.Mc.r1058}if(W.Mc.r1060){var P=Z._o(W.Mc.r1060);ei.T7(P,W.qq);delete W.Mc.r1060}if(W.Mc.r1065){var B=W.Mc.r1065;
W.iV={};b3.Xh(B,W.iV,4,!1)}if(W.Mc.r1069){var B=W.Mc.r1069,L=[];for(var N=2;N<B.length;N+=4){var F=Z.WP(B,N);
for(var A=0;A<W.U.length;A++){var U=W.U[A];if(U.add.lyid==F&&U.add.lsct!=3&&L.indexOf(A)==-1)L.push(A)}}W.Y=L}if(W.Mc.r1072){var B=W.Mc.r1072;
for(var N=0;N<B.length;N++){var U=W.U[N];if(U)U.Es=B[N]==1}}if(W.Mc.r1073){var B=W.Mc.r1073,K=0,h=Z.WU(B,K);
K+=4;var C=Z.WU(B,K);K+=4;for(var N=0;N<C;N++){W.Eo.push({y:h>=2?Z.Op(B,K+2):Z.L6(B,K+2),x:h>=2?Z.Op(B,K+6):Z.L6(B,K+6)});
K+=14}delete W.Mc.r1073}if(W.Mc.r1074){W.mP={};b3.Xh(W.Mc.r1074,W.mP,4,!1);delete W.Mc.r1074}var w,f,bc=null;
if(W.Mc.r3000){w={};b3.Xh(W.Mc.r3000,w,4,!1);delete W.Mc.r3000}if(W.add.pths){f=W.add.pths;delete W.add.pths}for(var O=0;
O<=997;O++){var n="r"+(2e3+O),q=W.Mc[n];if(q==null)break;var X=jz.rd(q,0,q.length,W.r,W.$),$="Path "+O,d9=[0,0];
if(f){var i=f.pathList.v[O].v,dF=i.pathSymmetryClass;if(dF){dF=dF.v;var t=dF.pathSymmetryMode.v.pathSymmetryModeEnum.slice(16),x=dF.pathSymmetryCount;
d9=[g.Rv.aKi.indexOf(t),x?x.v:0]}$=i.pathUnicodeName.v}var im=w?w.keyRootDescriptorList.v[O].v.keyDescriptorList.v:b.tw(X),k=new b.jY;
k.G=X;W.RM.push(ey.hQ($,{vmsk:k,vogk:im},d9));delete W.Mc[n]}if(f){var at=f.pathSymmetrySelectedPath;
if(at)bc=W.RM[at.v+1]}for(var N=0;N<W.RM.length;N++)if(W.RM[N].gY[0]==3){W.RM.splice(N,1);N--}if(bc){if(bc.gY[0]==3)W.Cg=!0;
else W.sY=W.RM.indexOf(bc)}delete W.je;if(W.Mc.r4000){W.Q3=g.Q3.WZ(W.Mc.r4000)}var l9=W.Mc.r7000,fF=W.Mc.r7001;
if(l9){var D=Z._o(l9);W.$y=dS.aaA(D)}if(fF){var D=Z._o(fF);W.dp=dS.amu(D)}delete W.Mc.r7000;delete W.Mc.r7001};
kg.a5x=function(W,q,X){W.Mc.r1005=new Uint8Array([0,0,0,0,0,1,0,2,0,0,0,0,0,1,0,2]);Z.agG(W.Mc.r1005,0,W.mC);
Z.agG(W.Mc.r1005,8,W.mC);if(W.Eo.length>0){var k=W.Eo;W.Mc.r1073=new Uint8Array(8+k.length*14);Z.P_(W.Mc.r1073,0,3);
Z.P_(W.Mc.r1073,4,k.length);for(var N=0;N<k.length;N++){var B=8+14*N;Z.bg(W.Mc.r1073,B,14);Z.od(W.Mc.r1073,B+2,k[N].y);
Z.od(W.Mc.r1073,B+6,k[N].x);Z.bg(W.Mc.r1073,B+10,-1);Z.bg(W.Mc.r1073,B+12,8)}}if(W.hh()){W.Mc.r1022=new Uint8Array([0,3+W.RH.length-1,0])}else delete W.Mc.r1022;
var U=new Uint8Array(W.U.length*2),l=0,K=new Uint8Array(W.U.length),D=1,B=16;for(var N=0;N<W.U.length;
N++){var m=W.U[N],Y=m.iN,a=m.Es?1:0;Z.SX(U,N*2,Y);K[N]=a;if(Y>l)l=Y;if(a==0)D=0}if(l>0)W.Mc.r1026=U;
if(D<1)W.Mc.r1072=K;var p=W.UZ,M=p.length,x=W.Mc.r1032=new Uint8Array(16+5*M);Z.Tj(x,0,1);Z.Tj(x,4,576);
Z.Tj(x,8,576);Z.Tj(x,12,M);for(var N=0;N<M;N++){Z.P_(x,B,Math.round(p[N][1]*32));x[B+4]=p[N][0];B+=5}if(q[4]!=!0){var R=[W.OL(),new dU(0,0,W.r,W.$)],y=0;
g.z0(R);while(R[y+1].C()>200*200)y+=2;var s=lf.c_("jpg"),F=R[y+1],E=new Uint8Array(s._M([[R[y].buffer,null,W.mC]],F.r,F.$)),x=W.Mc.r1036=new Uint8Array(28+E.length);
Z.Tj(x,0,1);Z.Tj(x,4,F.r);Z.Tj(x,8,F.$);Z.Tj(x,12,F.r*3);Z.Tj(x,16,F.C()*3);Z.Tj(x,20,E.length);Z.SX(x,24,24);
Z.SX(x,26,1);x.set(E,28)}delete W.Mc.r1045;delete W.Mc.r1006;delete W.Mc.r1077;var o=new dl;B=0;var G=new Uint8Array(4+X.length*13);
G[3]=1;for(var N=0;N<X.length;N++){var d=X[N],u=d.name+"\0";Z.cr(o,B,u);B+=4+u.length*2;var r=4+N*13;
dc.ea(G,r,d.ke);G[r+11]=d.Z8;G[r+12]=d.R7}if(B!=0)W.Mc.r1045=o.data.slice(0,B);W.Mc.r1077=G;for(var N=0;
N<W.Ev.length;N++)W.Ev[W.Ev.length-N-1].v.sliceID.v=2+N*3;var v={classID:"null",baseName:{t:"TEXT",v:"User"},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},slices:{t:"VlLs",v:W.Ev}},o=new dl;
Z.YK(o,0,8);Z.YK(o,4,16);var c=b3.so(o,v,8);W.Mc.r1050=o.data.slice(0,c+8);var o=new dl;Z.YK(o,0,16);
var c=b3.so(o,W.iV,4);W.Mc.r1065=o.data.slice(0,c+4);if(W.mP){var o=new dl;Z.YK(o,0,16);var c=b3.so(o,W.mP,4);
W.Mc.r1074=o.data.slice(0,c+4)}var V=W.Y;x=W.Mc.r1069=new Uint8Array(2+V.length*4);Z.SX(x,0,V.length);
for(var N=0;N<V.length;N++)Z.Tj(x,2+4*N,W.U[V[N]].add.lyid);delete W.Mc.r1058;delete W.Mc.r1060;if(Object.keys(W.qq).length!=0){var j=[[Math.round(W.mC*1e4),1e4]],Q=[{t274:[1],t282:j,t283:j,t296:[2]},{t259:[6],t282:[[72,1]],t283:[[72,1]],t296:[2],t513:[302],t514:[0]}];
ei.zq(W.qq,Q[0],q[0]&&q[1]);W.Mc.r1058=new Uint8Array(UTIF.encode(Q));var H=ei.Bc(W.qq);W.Mc.r1060=Z.hP(H)}var T=[],e=[],z=W.RM.slice(0);
if(W.Cg){var J=jz.aiZ([{type:6},{type:8,all:0},{type:3,length:5,boolop:1,frule:2,prmA:0,prmB:0},{type:5,c:[0,0,0,0,0,0]},{type:5,c:[20,0,20,0,20,0]},{type:5,c:[20,20,20,20,20,20]},{type:5,c:[0,20,0,20,0,20]},{type:5,c:[0,0,0,0,0,0]}]),P=new b.jY;
P.G=J;z.push(ey.hQ("Tile Symmetry 1",{vmsk:P,vogk:b.tw(J)},[3,1]))}var L=W.Cg?W.RM.length-1:W.sY-1;for(var N=0;
N<z.length;N++){var A=z[N],J=A.add.vmsk.G;if(N==0&&J.length==2)continue;var h=g.j(J.length*26);jz.pn(h,0,J,W.r,W.$);
var C=N==0?1025:2e3+N-1;W.Mc["r"+C]=h;if(N!=0){var w={classID:"pathInfoClass",pathUnicodeName:{t:"TEXT",v:A.name}},f=w.pathSymmetryClass={t:"Objc",v:{classID:"pathSymmetryClass",pathSymmetryMode:{t:"enum",v:{pathSymmetryModeEnum:"pathSymmetryMode"+g.Rv.aKi[A.gY[0]]}}}};
if(A.gY[1]!=0)f.v.pathSymmetryCount={t:"long",v:A.gY[1]};T.push({t:"Objc",v:w});e.push({t:"Objc",v:{classID:"null",keyDescriptorList:{t:"VlLs",v:A.add.vogk}}})}}if(T.length!=0){W.add.pths={classID:"pathsDataClass",pathList:{t:"VlLs",v:T}};
if(L!=-1)W.add.pths.pathSymmetrySelectedPath={t:"long",v:L};e={classID:"null",keyRootDescriptorList:{t:"VlLs",v:e}};
var o=new dl;Z.YK(o,0,16);var c=b3.so(o,e,4);W.Mc.r3000=o.data.slice(0,c+4)}else{delete W.add.pths;delete W.Mc.r3000}if(W.Q3&&W.Q3.length!=0){W.Mc.r4000=g.Q3.FN(W.Q3)}if(W.$y.length!=0){var O="<variableSets xmlns=\"http://ns.adobe.com/Variables/1.0/\">\n"+"<variableSet locked=\"none\" varSetName=\"binding1\">\n"+"<variables>";
for(var N=0;N<W.$y.length;N++){var n=W.$y[N],$=[];for(var C in n)$.push(C+"=\""+n[C]+"\"");O+="<variable "+$.join(" ")+">\n</variable>\n"}O+="</variables>\n</variableSet>\n</variableSets>";
W.Mc.r7000=Z.hP(O)}if(W.dp.length!=0){var O="<sampleDataSets psdPath=\""+W.name+"\">\n";for(var N=1;
N<W.dp.length;N++){var d9=W.dp[N];O+="<sampleDataSet dataSetName=\"Data Set "+N+"\">\n";for(var i=0;
i<d9.length;i++)O+="<"+W.dp[0][i]+">"+d9[i].replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</"+W.dp[0][i]+">\n";
O+="</sampleDataSet>\n"}O+="</sampleDataSets>";W.Mc.r7001=Z.hP(O)}};kg.a6p=function(W,q,X){var k=Z.WP(q,X),B=0;
X+=4;var U=[];while(B<k){var l=Z.zD(q,X+B,4);B+=4;var K=Z.U_(q,X+B);B+=2;var D=Z.E1(q,X+B);B+=D.length;
if(l=="MeSa"&&(K==7e3||K==7001)){}else if(l!="8BIM"){U.push(K);console.log("Unknown Image Resources signature: "+l+", ID: "+K)}var m=Z.WP(q,X+B);
B+=4;if(W.Mc["r"+K]!=null)console.log("--- two resources with same ID");W.Mc["r"+K]=Z.d$(q,X+B,m);B+=m+(m&1)}for(var N=0;
N<U.length;N++)delete W.Mc["r"+U[N]];delete W.Mc.r1092;return X+k};kg.aeP=function(W,q,X){var k=X,l=0;
X+=4;var B=[];for(var U in W.Mc){B.push(parseInt(U.slice(1)))}B.sort(function(a,p){return a-p});for(var N=0;
N<B.length;N++){var K=B[N];Z.Me(q,X+l,K==7e3||K==7001?"MeSa":"8BIM");l+=4;Z.Hz(q,X+l,K);l+=2;var D=Z.Uo(q,X+l,"");
l+=D;var m=W.Mc["r"+K],Y=m.length;Z.YK(q,X+l,Y);l+=4;Z.Ex(q,X+l,m);l+=Y;if(Y%2==1)l++}Z.YK(q,k,l);return X+l};
function dS(){}dS.bC=function(W,q,X){return;var k="",B=q;while(B!=0){var U=B%1e3+"";while(U.length<3)U="0"+U;
k=(k==""?U:U+" ")+k;B=Math.floor(B/1e3)}while(k.startsWith("0")&&k!="0")k=k.slice(1);while(k.length<11)k=" "+k;
console.log("===",k,"\t".repeat(W),": "+X)};dS.aqu=function(W){var q={Mc:{},add:{},depth:8},k=0,B=0,K;
q.je=!1;q.JI=8;var X=new Uint8Array(W);B=dS.pO(q,X,k);k=B;B=dS.a5S(q,X,k);k=B;var U=Z.WP(X,k);k+=4+U;
var l=q.je?8:4;if(q.je)K=Z.sa(X,k);else K=Z.WP(X,k);k+=l+K;B=dS.alP(q,X,k);return[{oq:new dU(0,0,q.r,q.$),data:q.buffer.buffer}]};
dS.WZ=function(W,q){q.je=!1;var X=new Uint8Array(W),k=0,B=0,K=0,p=!1,M=!0,x=!1,R=0,f1=0;B=dS.pO(q,X,k);
dS.bC(0,B-k,"PSD Header");k=B;B=dS.a5S(q,X,k);dS.bC(0,B-k,"Color Mode Data");k=B;B=kg.a6p(q,X,k);dS.bC(0,B-k,"Image Resources");
k=B;var U=k;B=dS.a94(q,X,k);dS.bC(0,B-k,"Layer And Mask Info");k=B;kg.aFL(q);var U=k;B=dS.alP(q,X,k);
dS.bC(0,B-k,"Merged Image");k=B;if(q.U.length==0){var l=q.Sh();l.YY("Background");q.U.push(l);l.buffer=q.buffer.slice(0);
l.S=new dU(0,0,q.r,q.$)}for(var N=0;N<q.U.length;N++){var B=q.U[N],D=B.add.lsct;if(D==e5.dx)K++;else if(D==e5.B2||D==e5.Fn)K--}while(K<0){q.U.unshift(q.rS());
K++}var m=new dU(0,0,q.r,q.$),Y=q.add.Txt2,a=Y;if(a){a=a.Hp;if(a._DocumentResources==null)a=li.arV(a)}var y=-1;
for(var N=0;N<q.U.length;N++){var B=q.U[N],s=B.add.lsct,F=B.add.vmsk,E=B.Jx();if(s==e5.dx){R++;B.add.lspf=0}else if(s==e5.B2||s==e5.Fn)R--;
if(B.name==""){B.name="Layer "+(N+1);x=!0}if(x&&B.S3()&&B.JY=="norm")B.JY="pass";if(B.SF()&&B.Q2(q)==null)delete B.add.SoLd;
if(B.SF()&&B.Q2(q).BD){var o=B.Q2(q);o.BD.isEnabled=B.add.SoLd.filterFX.v.filterMaskEnable.v}if(F&&B.Nj()){var G=kE.Cs.wy(!0);
if(B.add.vstk==null)B.add.vstk=g.N(G);else{var d="strokeStyleLineDashSet";if(B.add.vstk[d]==null)B.add.vstk[d]=g.N(G[d])}B.add.vstk.strokeStyleLineWidth.v.type="#Pxl";
B.add.vstk.strokeStyleResolution.v=q.mC}if(F&&(B.add.vogk==null||g.z._H(F.G)!=B.add.vogk.length))B.tw();
if(F&&B.add.vogk){var u=F.G,r=B.add.vogk,v=0;for(var c=0;c<u.length;c++){var V=u[c];if(V.I==0||V.I==3)if(V.R3!=-1){if(u[c+1+V.length]&&u[c+1+V.length].R3==-1&&r[v].v.keyOriginType){B.tw();
break}v++}}}if(!1){var j=B.add.vogk,Q=!0;for(var v=0;v<j.length;v++){var H=j[v].v.keyShapeInvalidated;
if(H==null||H.v==!1)Q=!1}if(Q)B.tw()}if(B.add.SoLd&&B.S.PM()){console.log("redrawing smart instance");
B.uz(q,null,null,!0,!0)}if(E==null&&B.BD!=null){if(B.BD.Qw==!1){B.BD.Qw=!0;B.$a=B.BD.P()}}E=B.Jx();if(B.ku){var G=B.ku,T=F;
if(E){E.IC=G[0];E.iE=G[1]}if(T){T.IC=G[2];T.iE=G[3]}B.ku=null}if(E!=null&&F!=null&&(E.iE+F.iE!=0||E.IC+F.IC!=2*255))B.Ae(q);
else if(F!=null&&!B.Nj())B.Ae(q);else if(E&&E.IC!=255&&B.Nj())B.Ae(q);var e=B.add.artb;if(e&&e.artboardBackgroundType==null)e.artboardBackgroundType={t:"long",v:1};
if(e&&R!=0)delete B.add.artb;var z=B.add.vstk;if(B.Nj()&&(B.S.PM()||F&&F.iE!=0||z&&!z.fillEnabled.v&&(!z.strokeEnabled.v||z.strokeStyleLineWidth.v.val==0)))B.x9(q);
if(B.add.TySh){p=!0;if(!B.S.PM())M=!1}if(B.add.TySh&&a){y++;var J=B.add.TySh.FZ,P=gZ.KJ(J),L=a._DocumentObjects._TextObjects;
if(L.length<=y){console.log("Txt2 incomplete");continue}var A=L[y]._Model,h=A._StyleRun?A._StyleRun._RunArray:[],C=J.EngineDict.StyleRun.RunArray;
for(var w=0;w<C.length;w++){var f=C[w].StyleSheet.StyleSheetData;if(h[w]==null)continue;var O=h[w]._RunData._StyleSheet._Features;
if(O){if(O._BaselineDirection)f.BaselineDirection=parseInt(O._BaselineDirection.slice(1));if(O._FillBackgroundFlag)f._FillBackgroundFlag=O._FillBackgroundFlag;
if(O._FillBackgroundColor)f._FillBackgroundColor={Type:1,Values:cR.Ye(O._FillBackgroundColor._Color._Values)};
var D=gZ.B7;for(var n=0;n<D.length;n++)if(O[D[n]]!=null)f[D[n]]=O[D[n]];var $=["_LineCap","_LineJoin","_MiterLimit","_LineDashOffset","_DigitSet"];
for(var n=0;n<$.length;n++)if(O[$[n]]!=null)f[$[n]]=parseFloat(O[$[n]].slice(1));if(O._MiterLimit!=null)f._MiterLimit=Math.max(f._MiterLimit,1);
if(O._LineDashArray!=null)f._LineDashArray=cR.Ye(O._LineDashArray)}}var d9=J.EngineDict.ParagraphRun.RunArray,i=A._ParagraphRun._RunArray;
if(i==null)i=[];var dF=Math.min(i.length,d9.length);for(var n=0;n<dF;n++){var t=d9[n].ParagraphSheet.Properties,im=a._DocumentResources._ParagraphSheetSet._Resources,bc=i[n]._RunData._ParagraphSheet;
if(typeof bc=="string")bc=im[parseInt(bc.slice(1))]._Resource;var at=bc._Parent==null?bc:im[parseInt(bc._Parent.slice(1))]._Resource;
bc=bc._Features;at=at._Features;var l9=bc._ParagraphDirection;if(l9==null)l9=at._ParagraphDirection;
if(l9)t._Direction=parseInt(l9.slice(1));if(bc._ComposerEngine)t._ComposerEngine=parseInt(bc._ComposerEngine.slice(1))}if(A._AlternateGlyphRun){var i=A._AlternateGlyphRun._RunArray,dF=i.length,fF=J.EngineDict.AlternateGlyphRun=gZ.ag_();
for(var n=0;n<dF;n++){var bc=i[n],g$={},fR=bc._RunData._AlternateGlyphSheet;if(fR)g$.Glyph=parseInt(fR._Glyph.slice(1));
fF.RunArray.push(g$);fF.RunLengthArray.push(parseInt(bc._Length.slice(1)))}}var cr=a._DocumentResources,eE=cr._FontSet._Resources,bQ=J.ResourceDict.FontSet;
for(var hT=0;hT<bQ.length;hT++){var df=bQ[hT],eV=null;for(var n=0;n<eE.length;n++){var gU=eE[n]._Resource._Identifier;
if(df.Name==gU._Name.slice(1))eV=gU}var i8=eV._MMAxis;if(i8){df.Axis=[];for(var n=0;n<i8.length;n++)df.Axis.push(parseInt(i8[n].slice(1)))}}var bv=cr._TextFrameSet._Resources,fE=bv[y]._Resource,d5=fE._Data,aR=new ka(1,0,0,1,0,0);
if(fE._0){var l8=parseFloat(fE._0[0].slice(1)),au=parseFloat(fE._0[1].slice(1));aR.translate(l8,au)}if(P){aR.translate(P[0],P[1]);
gZ.eR(J,[0,0,P[2]-P[0],P[3]-P[1]])}else{if(fE._Bezier&&fE._Bezier._Points){var hx=fE._Bezier._Points,l8=parseFloat(hx[0].slice(1)),au=parseFloat(hx[1].slice(1));
if(l8!=0||au!=0){aR.translate(l8,au)}}}if(fE._Data&&fE._Data._FrameMatrix){var fw=fE._Data._FrameMatrix;
fw=fw.map(function(ie){return parseFloat(ie.slice(1))});aR.concat(new ka(fw[0],fw[1],fw[2],fw[3],fw[4],fw[5]))}aR.concat(B.add.TySh.M);
B.add.TySh.M=aR;var cx=d5._Type?parseInt(d5._Type.slice(1)):0;if(cx==2||cx==1&&d5._PathData&&d5._PathData._Spacing=="i-3")if(fE._Bezier){var fg=function(ie){return parseFloat(ie.slice(1))},hx=fE._Bezier._Points.map(fg);
if(P)g.b.M(hx,new ka(1,0,0,1,-P[0],-P[1]),hx);var iI=d5._PathData?d5._PathData._Reversed:!1,eq=d5._TextOnPathTRange;
if(eq==null)eq=["f-3","f-3"];J.Curve={Points:hx,TextOnPathTRange:eq.map(fg),Reversed:iI==null?!1:iI};
B.add.TySh.add={vmsk:new b.jY,vogk:null};gZ.v7(B.add.TySh)}if(d5._LineOrientation=="i2")J._LineOrientation=2}}_.ds.WS(q,!0);
var fS={},c4=[];for(var N=0;N<q.U.length;N++){var ea=q.U[N].add.lyid;if(ea==null)continue;var f1=Math.max(f1,ea);
if(fS[ea]!=null)c4.push(N);else fS[ea]=!0}for(var N=0;N<c4.length;N++)q.U[c4[N]].add.lyid=f1+1+N};dS.a8r=function(W,q){q+=12;
var X=Z.WP(W,q),k=[];q+=4;X=Math.min(X,Math.floor((W.length-q)/5));for(var N=0;N<X;N++){var B=Math.min(W[q+N*5+4],1),U=Z.WU(W,q+N*5)/32;
k.push([B,U])}return k};dS.aaA=function(W){var q=new DOMParser,X=q.parseFromString(W,"text/xml").firstChild.children[0],k=X.getElementsByTagName("variables");
if(k.length==0)return[];k=k[0].children;var B=[],U="varName trait docRef placementMethod align valign clip".split(" ");
for(var l=0;l<k.length;l++){var K=k[l],D={};B.push(D);for(var m=0;m<U.length;m++){var Y=U[m],a=K.getAttribute(Y);
if(a==null)continue;D[Y]=a}}return B};dS.amu=function(W){var q=new DOMParser,X=q.parseFromString(W,"text/xml").firstChild.children,k=[[]];
if(X==null)return k;for(var N=0;N<X.length;N++){var B=X[N],U=[];k.push(U);for(var l=0;l<B.children.length;
l++){var K=B.children[l];if(N==0)k[0].push(K.tagName);U.push(K.textContent)}}return k};dS.FN=function(W,q,X){_.ds.$i(W);
_.ds.WS(W,!1);W.je=X[3]==!0;var k=[],B=[],R=0;for(var N=0;N<W.U.length;N++){var U=W.U[N];if(U.SF()&&U.Q2(W).BD){U.add.SoLd.filterFX.v.filterMaskEnable.v=U.Q2(W).BD.isEnabled}if(U.add.TySh){var l=U.add.TySh.FZ,K=gZ.sJ(l);
U.add.TySh.ZN.TextIndex={t:"long",v:k.length};k.push(l);if(K==2)gZ.MZ(U.add.TySh)}var D=U.add.vstk;if(D)D.strokeStyleResolution.v=W.mC;
if(U.Nj()||X[2]&&U.add.SoLd){B[N]=[U.S,U.buffer];U.S=new dU;U.buffer=g.j(0);if(U.add.SoLd){var m=U.Q2(W);
if(m!=null){B[N].push(m.buffer);m.buffer=g.j(m.buffer.length)}}}}if(k.length>0){var Y=W.add.Txt2?W.add.Txt2.Hp:null;
if(W.add.Txt2==null)W.add.Txt2={};W.add.Txt2.Hp=cR.aKd(k,null,Y)}var a=[W.add.lnk2,W.add.FEid,W.add.Patt],p=W.aAC(W.U);
W.a5L(p);var M=g.VR(W.buffer);if(W.add.fcmy)M=!1;var x=[];if(M)x.push({name:"Transparency",ke:{o:255,L:0,X:0},Z8:100,R7:1});
x=x.concat(W.RH);kg.a5x(W,X,x);R=dS.GJ(W,q,R,3+x.length);R=dS.a1a(W,q,R);R=kg.aeP(W,q,R);R=dS.a9j(W,q,R,X,M);
R=dS.apR(W,q,R,X[0],M);var y=[1025,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,7e3,7001];
for(var N=0;N<y.length;N++)delete W.Mc["r"+y[N]];for(var N=0;N<W.U.length;N++){var U=W.U[N];if(U.Nj()||X[2]&&U.add.SoLd){U.S=B[N][0];
U.buffer=B[N][1];if(B[N][2]){var m=U.Q2(W);B[N].push(m.buffer);m.buffer=B[N][2]}}}W.a5L(a);_.ds.WS(W,!0);
delete W.je;return R};dS.pO=function(W,q,X){var k=Z.zD(q,X,4);X+=4;if(k!="8BPS")alert("invalid header signature: "+k);
var B=Z.U_(q,X);X+=2;W.je=B==2;if(B!=1&&B!=2)alert("invalid version: "+B);X+=6;W.tT=Z.U_(q,X);X+=2;W.$=Z.WU(q,X);
X+=4;W.r=Z.WU(q,X);X+=4;W.JI=Z.U_(q,X);if(h2)W.depth=W.JI;X+=2;W.yn=Z.U_(q,X);X+=2;return X};dS.GJ=function(W,q,X,k){var B=W.add.fcmy==1;
q.Td(0,64);Z.o3(q.data,X,"8BPS");X+=4;Z.SX(q.data,X,W.je?2:1);X+=2;Z.Tj(q.data,X,0);X+=4;Z.SX(q.data,X,0);
X+=2;Z.SX(q.data,X,k+(B?1:0));X+=2;Z.P_(q.data,X,W.$);X+=4;Z.P_(q.data,X,W.r);X+=4;Z.SX(q.data,X,W.depth);
X+=2;Z.SX(q.data,X,B?4:3);X+=2;return X};dS.a5S=function(W,q,X){var k=Z.WU(q,X);X+=4;if(k!=0)W.gc=q.slice(X,X+k);
X+=k;return X};dS.a1a=function(W,q,X){if(W.depth==32){var k=new Uint8Array([104,100,114,116,0,0,0,3,62,107,133,31,0,0,0,2,0,0,0,7,0,76,0,105,0,110,0,101,0,97,0,114,0,0,0,2,0,2,0,0,0,0,0,255,0,255,1,1,0,0,0,0,0,0,0,0,65,128,0,0,0,0,0,1,0,0,0,0,63,128,0,0,104,100,114,97,0,0,0,6,0,0,0,0,65,160,0,0,65,240,0,0,0,0,0,0,0,0,0,0,63,128,0,0,0,0,0,0,0,0]);
Z.z8(q,X,k.length);X+=4;q.Td(X,k.length);q.data.set(k,X);X+=k.length}else{Z.z8(q,X,0);X+=4}return X};
dS.a94=function(W,q,X){var k=X,B,U,l=W.je?8:4;if(W.je)B=Z.sa(q,X);else B=Z.WP(q,X);X+=l;if(B==0)return k+l;
U=dS.a0P(W,q,X);dS.bC(1,U-X,"Layer Info");X=U;U=dS.a0t(W,q,X);dS.bC(1,U-X,"Global Layer Mask Info");
X=U;U=aK.Rb(q,X,k+l+B,W.add,W.je,W);dS.bC(1,U-X,"Project Add Info");X=U;return k+l+B};dS.a9j=function(W,q,X,k,B){var U=X;
Z.YK(q,X,0);X+=4;if(W.je){Z.YK(q,X,0);X+=4}X=dS.akH(W,q,X,k,B);X=dS.axr(W,q,X);var l=W.add;if(W.depth!=8){l={};
l["Lr"+W.depth]={};for(var K in W.add)l[K]=W.add[K]}X=aK.jb(q,X,l,W.je,W);if(W.je)Z.GA(q,U,X-U-8);else Z.YK(q,U,X-U-4);
return X};dS.a0P=function(W,q,X){var k,B=W.je?8:4;if(W.je)k=Z.sa(q,X);else k=Z.WP(q,X);X+=B;if(k!=0)dS.AH(W,q,X);
return X+k};dS.AH=function(W,q,X,k){var B=X,U=k?Z.lm:Z.dd,l=U(q,X);X+=2;var K=Math.abs(l);for(var N=0;
N<K;N++){var D=new b;X=jF.WZ(D,W,q,X,k);W.U[N]=D}var m=new dU(0,0,W.r,W.$);for(var N=0;N<K;N++){var Y=W.U[N],a=Y.Jx(),p=dI.WZ(Y,W,q,X,k);
if(p-X>8)dS.bC(2,p-X,"Lay: "+Y.getName());X=p;dS.an7(Y,m);if(a)dS.an7(a,m)}};dS.an7=function(W,q){};
dS.akH=function(W,q,X,k,B){var U=X,l=W.je;X+=l?8:4;if(W.depth==8)X=dS.a4X(W,q,X,k,B);var K=X-U-(l?8:4);
if(K%2!=0)K++;if(l)Z.GA(q,U,K);else Z.YK(q,U,K);return U+K+(l?8:4)};dS.a4X=function(W,q,X,k,B){var U=W.U.length;
Z.yT(q,X,B?-U:U);X+=2;var l=[];for(var N=0;N<U;N++)X=jF.FN(W.U[N],W,q,X,l);for(var N=0;N<U;N++)X=dI.zX(W.je,W.U[N],q,X,l[N],k,W.add.fcmy==1);
return X};dS.a0t=function(W,q,X){var k=Z.WP(q,X);X+=4;X+=k;return X};dS.axr=function(W,q,X){var k=Z.YK(q,X,0);
X+=4;return X};dS.alP=function(W,q,X){var k=W.yn,B="Bitmap Grayscale Indexed RGB CMYK Multichannel Duotone Lab".split(" "),U=[1,1,1,3,4,1,1,3],a;
delete W.add.fcmy;if(k!=3){if(k==1||k==2||k==4)console.log("Project will be converted from "+B[k]+" to "+B[3]+" mode.");
else{alert("Color mode "+B[k]+" is not supported yet :(")}if(k==4)W.add.fcmy=1}var l=U[k]+(W.Oe==null||W.Oe[0]=="Transparency"?1:0),K=W.r,D=W.$,m=K*D,Y=Z.U_(q,X);
X+=2;W.buffer=g.j(m*4,W.depth);g._5(W.buffer,1);var p=X;for(var M=0;M<W.tT;M++){if(Y==0){a=dI.u2(W.je,W.JI,q,K,D,X,Y);
a=g.Cn(a,W.depth);X+=m*(W.JI>>>3)}else if(Y==1){var x=W.JI==8?1:W.JI==16?2:4;a=g.j(m*x);var R=W.je?4:2;
if(M==0)X+=W.tT*D*R;X+=dI.ap1(q,a,K*x,D,p+M*D*R,X,R);if(W.JI==16){for(var N=0;N<a.length;N+=2){var y=a[N];
a[N]=a[N+1];a[N+1]=y}a=new Uint16Array(a.buffer)}if(W.JI==32){for(var N=0;N<a.length;N+=4){var y=a[N];
a[N]=a[N+3];a[N+3]=y;y=a[N+1];a[N+1]=a[N+2];a[N+2]=y}a=new Float32Array(a.buffer)}a=g.Cn(a,W.depth)}else{console.log("unknown compression of image data: ",Y);
return}if(M<l){g.fP(a,W.buffer,M);if(W.tT==1&&M==0){g.fP(a,W.buffer,1);g.fP(a,W.buffer,2)}}else{var s=new b.pj,F=M-l,E=M-U[W.yn];
s.name=W.Oe?W.Oe[E]:"Alpha";if(s.name=="Quick Mask"){s.kA=!0;W.TC.push(F)}s.S=new dU(0,0,K,D);s.c=a;
s.color=0;s.xX();W.RH[F]=s;if(W.Mc.r1077){var o=W.Mc.r1077.slice(4+E*13);s.ke=dc.Hj(o,0);s.Z8=o[11];
s.R7=o[12];if(s.R7==2)s.kA=!0}}}W.tT=4;if(W.yn==2)for(var N=0;N<m;N++){var G=N*4,d=W.buffer[G];W.buffer[G]=W.gc[0+d];
W.buffer[G+1]=W.gc[256+d];W.buffer[G+2]=W.gc[512+d]}return X};dS.apR=function(W,q,X,k,B){var U=1,l=16,K=W.r,D=W.$,Y,a,p;
Z.Hz(q,X,U);X+=2;if(W.depth!=8)k=!0;var m=K*D;if(!k){a=new g.rV(K*D);g.EX(W.buffer,a);var M=a.o,x=a.L,R=a.X,y=a.iM;
for(var N=0;N<m;N++){var s=y[N]*(1/255);M[N]=~~(M[N]*s+255*(1-s));x[N]=~~(x[N]*s+255*(1-s));R[N]=~~(R[N]*s+255*(1-s))}p=[a.o,a.L,a.X];
if(W.add.fcmy==1){p.push(g.j(m));var F=W.buffer.slice(0);g.aqH(F);g.EX(F,{o:p[0],L:p[1],X:p[2],iM:p[3]})}if(B)p.push(a.iM)}else{Y=g.j(m,W.depth);
if(W.depth==16)Y.fill(65535);p=[Y,Y,Y];if(W.add.fcmy==1)p.push(Y);if(B)p.push(Y)}for(var N=0;N<W.RH.length;
N++){p.push(W.RH[N].sA(new dU(0,0,W.r,W.$)))}var E=X;for(var o=0;o<p.length;o++){q.Td(X,K*D+4);Y=p[o];
if(U==0||U==2||U==3)X=dI.rW(W.je,Y,q.data,K,D,X,U);else{var G=new Uint8Array(Y.buffer),d=K*(W.depth>>>3),u=W.je?4:2;
if(o==0)X+=p.length*D*u;var r=X;X+=dI.a8v(G,q.data,d,D,E+o*D*u,X,u)}}return X};function kc(){}kc.WZ=function(W){var q={};
kc.Kv(W,q,0,0);return q};kc.FN=function(W,q){var X=0;X=kc.VM(W,q,X,0);return X};kc.Kv=function(W,q,X,k){while(W[X]!="<".charCodeAt(0))X++;
X+=2;while(!0){if(W[X]=="/".charCodeAt(0)){X++;var B=Z.indexOf(W," ".charCodeAt(0),X,X+50),U=Z.indexOf(W,"\n".charCodeAt(0),X,X+50);
if(U==-1)U=Infinity;if(B==-1)B=Infinity;var l=Math.min(U,B),K=Z.zD(W,X,l-X),D=kc.mD(W,l+1,k+1,K);q[K]=D._;
X=l+1;X+=D.size}else if(W[X]==">".charCodeAt(0)){X+=2;break}else{var m=W[X];if(m==10||m==9||m==32)X++;
else{console.log("unknown byte: "+m+", char: "+String.fromCharCode(m),X);X++}}}return X};kc.VM=function(W,q,X,k){Z.Me(q,X,"<<\n");
X+=3;var B=kc.amQ;for(var U in W){Z.qs(q,X,"\t".charCodeAt(0),k+1);X+=k+1;Z.Me(q,X,"/"+U);X+=1+U.length;
if(B(W[U])||W[U]instanceof Array){Z.Me(q,X," ");X++}else{Z.Me(q,X,"\n");X++;Z.qs(q,X,"\t".charCodeAt(0),k+1);
X+=k+1}X=kc.FO(W[U],q,X,k+1);Z.Me(q,X,"\n");X++}Z.qs(q,X,"\t".charCodeAt(0),k);X+=k;Z.Me(q,X,">>");X+=2;
return X};kc.mD=function(W,q,X,k){var B=q,U={size:0,_:0};while(!0){while(W[q]==" ".charCodeAt(0)||W[q]=="\t".charCodeAt(0)||W[q]=="\n".charCodeAt(0))q++;
if(W[q]=="<".charCodeAt(0)){U._={};q=kc.Kv(W,U._,q,X+1);break}else if(W[q]=="(".charCodeAt(0)){q+=3;
var l=q;while(!0){if(W[l-1]!="\\".charCodeAt(0)&&W[l]==")".charCodeAt(0)&&(W[l+1]=="\n".charCodeAt(0)||W[l+1]==" ".charCodeAt(0)))break;
else l++}U._=Z.amE(W,q,l);q=l+2;break}else if(W[q]=="[".charCodeAt(0)){q++;U._=[];while(W[q]==" ".charCodeAt(0)||W[q]=="\t".charCodeAt(0)||W[q]=="\n".charCodeAt(0))q++;
while(W[q]!="]".charCodeAt(0)){var K=kc.mD(W,q,X+1,k);U._.push(K._);q+=K.size;while(W[q]==" ".charCodeAt(0)||W[q]=="\t".charCodeAt(0)||W[q]=="\n".charCodeAt(0))q++}q++;
break}else{var D=Z.indexOf(W," ".charCodeAt(0),q,q+50),m=Z.indexOf(W,"\n".charCodeAt(0),q,q+50);if(m==-1)m=Infinity;
if(D==-1)D=Infinity;var Y=Z.zD(W,q,Math.min(D,m)-q).trim(),a=parseFloat(Y);if(!isNaN(a)){U._=parseFloat(Y);
q=Math.min(D,m)+1;break}else if(Y=="true"||Y=="false"){U._=Y=="true";q=Math.min(D,m)+1;break}else if(Y=="null"||Y=="NaN"||Y=="undefined"){U._=0;
q=Math.min(D,m)+1;break}else{console.log("unknown identifier: "+Y);throw"e"}q=Math.min(D,m)+1}}U.size=q-B;
return U};kc.FO=function(W,q,X,k){if(W instanceof Array){var B=W.length==0||typeof W[0]=="number";if(B){Z.Me(q,X,"[ ");
X+=2;for(var N=0;N<W.length;N++){var U=W[N]+" ";Z.Me(q,X,U);X+=U.length}Z.Me(q,X,"]");X+=1}else{Z.Me(q,X,"[\n");
X+=2;for(var N=0;N<W.length;N++){Z.qs(q,X,"\t".charCodeAt(0),k);X+=k;X=kc.FO(W[N],q,X,k);Z.Me(q,X,"\n");
X++}Z.qs(q,X,"\t".charCodeAt(0),k);X+=k;Z.Me(q,X,"]");X+=1}}else if(W instanceof Object){X=kc.VM(W,q,X,k)}else if(typeof W=="string"){Z.Me(q,X,"(");
X++;Z.qs(q,X,254);X++;Z.qs(q,X,255);X++;X=Z.ayC(q,X,W);Z.Me(q,X,")");X+=1}else{var U=W+"";Z.Me(q,X,U);
X+=U.length}return X};kc.amQ=function(W){var q=typeof W;return q=="string"||q=="number"||q=="boolean"};
function gC(){}gC.WZ=function(W){var q={};gC.aqv(W,q,0,0);return q};gC.FN=function(W,q){var X=0;Z.Me(q,X," ");
X++;X=gC.aFw(W,q,X,0);X--;q.Td(X,2);q.data[X]=q.data[X+1]=0;X+=2;return X};gC.Kv=function(W,q,X,k){while(W[X]!="<".charCodeAt(0)){X++;
console.log("šipka")}X+=2;X=gC.aqv(W,q,X,k);return X};gC.VM=function(W,q,X,k){Z.Me(q,X,"<< ");X+=3;X=gC.aFw(W,q,X,k);
Z.Me(q,X,">>");X+=2;return X};gC.x2=function(W){return W==9||W==10||W==32};gC.aqv=function(W,q,X,k){while(!0){while(gC.x2(W[X])||W[X]==0)X++;
if(X>=W.length)break;if(W[X]=="/".charCodeAt(0)){X++;var B=X;while(!gC.x2(W[B]))B++;var U=Z.zD(W,X,B-X);
X=B+1;var l=gC.mD(W,X,k,U);q["_"+U]=l._;X+=l.size}else if(W[X]==">".charCodeAt(0)){X+=2;break}else{var K=W[X];
console.log(Z.zD(W,X,X+100));console.log("unknown byte: "+K+", char: "+String.fromCharCode(K)+", offset: "+X);
X++;throw"e";return-1}}return X};gC.aFw=function(W,q,X,k){for(var B in W){var U=B.substring(1,B.length);
Z.Me(q,X,"/"+U);X+=1+U.length;Z.Me(q,X," ");X++;X=gC.FO(W[B],q,X,k+1,U);Z.Me(q,X," ");X++}return X};
gC.mD=function(W,q,X,k){var B=q,U={I:"",size:0,_:0};while(gC.x2(W[q]))q++;if(W[q]=="<".charCodeAt(0)){U.I="Object";
U._={};q=gC.Kv(W,U._,q,X+1)}else if(W[q]=="(".charCodeAt(0)){U.I="String";q++;if(W[q]==")".charCodeAt(0)){U._="e";
q++}else if(W[q]==254&&W[q+1]==255){q+=2;var l=q,K=0;while(!0){if(W[l]==")".charCodeAt(0)&&W[l-1]!="\\".charCodeAt(0))break;
else l+=1}U._="s"+Z.amE(W,q,l);q=l+2}else{var l=q;while(W[l]!=")".charCodeAt(0))l++;U._="s"+Z.zD(W,q,l-q);
q=l+1}}else if(W[q]=="[".charCodeAt(0)){q++;U._=[];U.I="Array";while(gC.x2(W[q]))q++;while(W[q]!="]".charCodeAt(0)){var D=gC.mD(W,q,X+1,k);
if(D==-1)return-1;U._.push(D._);q+=D.size;delete D.size;while(gC.x2(W[q]))q++}q++}else{var m=q;while(!gC.x2(W[m]))m++;
var Y=Z.zD(W,q,m-q),a=parseFloat(Y);if(!isNaN(a)&&Y.indexOf(".")!=-1){U.I="Float";var p=parseFloat(Y);
U._="f"+p}else if(!isNaN(a)&&Y.indexOf(".")==-1){U.I="Integer";U._="i"+parseInt(Y)}else if(Y=="true"||Y=="false"){U.I="Boolean";
U._=Y=="true"}else if(Y.charAt(0)=="/"){U.I="BString";U._=Y}else if(Y=="NaN"||Y=="undefined"){U.I="Float";
U._="f0"}else{console.log("unknown value",JSON.stringify(Y))}q=m+1}U.size=q-B;return U};gC.aIg=function(W){if(W==Math.round(W))return W+".0";
var q=W.toFixed(5);while(q.endsWith("0")&&q[q.length-2]!=".")q=q.slice(0,q.length-1);if(0<W&&W<1)q=q.slice(1);
if(-1<W&&W<0)q="-"+q.slice(2);return q};gC.FO=function(W,q,X,k,B){var U=typeof W=="string"?W.charAt(0):"";
if(W instanceof Array){Z.Me(q,X,"[ ");X+=2;for(var N=0;N<W.length;N++){X=gC.FO(W[N],q,X,k,"");Z.Me(q,X," ");
X++}Z.Me(q,X,"]");X+=1}else if(W instanceof Object){X=gC.VM(W,q,X,k)}else if(U=="e"){Z.Me(q,X,"()");
X+=2}else if(U=="s"){Z.Me(q,X,"(");X++;if(B=="97"){Z.Me(q,X,W.slice(1));X+=W.length-1}else{Z.qs(q,X,254);
X++;Z.qs(q,X,255);X++;X=Z.ayC(q,X,W.slice(1))}Z.Me(q,X,")");X++}else if(U=="/"){Z.Me(q,X,W);X+=W.length}else if(U=="f"){var l=parseFloat(W.substring(1)),K=gC.aIg(l);
Z.Me(q,X,K);X+=K.length}else if(U=="i"){Z.Me(q,X,W.substring(1));X+=W.length-1}else{var K=W+"";Z.Me(q,X,K);
X+=K.length}return X};function Z(){}Z.aFX=function(a1){var W="";for(var N=3;N>=0;N--)W+=String.fromCharCode(a1>>N*8&255);
return W};Z.apK=function(W){var a1=0;for(var N=W.length-1;N>=0;N--)a1|=W.charCodeAt(N)<<(3-N)*8;return a1};
Z.indexOf=function(W,q,X,k){if(X==null)X=0;if(k==null)k=W.length;k=Math.min(k,W.length);for(var N=X;
N<k;N++)if(W[N]==q)return N;return-1};Z.Ka=function(W,q,X){if(X==null)X=0;var k=q.length,B=W.length-k;
if(typeof q=="string"){var U=[];for(var N=0;N<k;N++)U.push(q.charCodeAt(N));q=U}if(q.length>0){var l=q[0];
for(var N=X;N<B;N++)if(W[N]==l){var K=!0;for(var D=1;D<k;D++)if(q[D]!=W[N+D]){K=!1;break}if(K)return N}}return-1};
Z.amE=function(W,q,X){var k=[],U="";while(q<X){var B=W[q++];if(B=="\\".charCodeAt(0))k.push(W[q++]);
else k.push(B)}for(var N=0;N<k.length;N+=2)U+=String.fromCharCode(k[N]<<8|k[N+1]);return U};Z.a1N=function(W,q,X){var k=new Uint8Array(2);
for(var N=0;N<X.length;N++){Z.SX(k,0,X.charCodeAt(N));if(k[0]==")".charCodeAt(0)||k[0]=="(".charCodeAt(0)||k[0]=="\\".charCodeAt(0)){W[q]="\\".charCodeAt(0);
q++}W[q]=k[0];q++;if(k[1]==")".charCodeAt(0)||k[1]=="(".charCodeAt(0)||k[1]=="\\".charCodeAt(0)){W[q]="\\".charCodeAt(0);
q++}W[q]=k[1];q++}return q};Z.ayC=function(W,q,X){W.Td(q,4*X.length);return Z.a1N(W.data,q,X)};Z.gq=function(W,q,X){var k="";
for(var N=0;N<X;N++){var B=W[q++]|W[q++]<<8;k+=String.fromCharCode(B)}return k};Z.Pa=function(W,q,X){var k="";
for(var N=0;N<X;N++){var B=W[q++]<<8|W[q++];k+=String.fromCharCode(B)}return k};Z.an$=function(W,q,X){for(var N=0;
N<X.length;N++){var k=X.charCodeAt(N);Z.fZ(W,q+2*N,k)}};Z.aBg=function(W,q,X){for(var N=0;N<X.length;
N++){var k=X.charCodeAt(N);Z.SX(W,q+2*N,k)}};Z.a7H=function(W,q,X){W.Td(q,2*X.length);Z.aBg(W.data,q,X)};
Z.apP=function(W,N,q){var X=[],k=0,B=0;q+=N;while(N<q){k=W[N++];if((k&128)==0)B=k;else if((k&224)==192){B=(k&31)<<6;
k=W[N++];B|=k&63}else if((k&240)==224){B=(k&15)<<12;k=W[N++];B|=(k&63)<<6;k=W[N++];B|=k&63}else if((k&248)==240){B=(k&7)<<18;
k=W[N++];B|=(k&63)<<12;k=W[N++];B|=(k&63)<<6;k=W[N++];B|=k&63}else throw"e";X.push(B)}return X};Z.aoW=window.TextDecoder?new window.TextDecoder("utf8"):null;
Z._o=function(W,q,X){if(q==null)q=0;if(X==null)X=W.length;if(Z.aoW&&q==0&&X==W.length)return Z.aoW.decode(W);
var k=Z.apP(W,q,X),B=k.length;for(var N=0;N<B;N++)k[N]=String.fromCharCode(k[N]);return k.join("")};
Z.aaZ=window.TextEncoder?new window.TextEncoder("utf8"):null;Z.hP=function(W){if(Z.aaZ)return Z.aaZ.encode(W);
var q=new Uint8Array(W.length*4),X=Z.o9(W,q,0);return q.slice(0,X)};Z.o9=function(W,q,X){var k=W.length,N=0;
for(var B=0;B<k;B++){var U=W.charCodeAt(B);if((U&4294967295-(1<<7)+1)==0){q[X+N]=U;N++}else if((U&4294967295-(1<<11)+1)==0){q[X+N]=192|U>>6;
q[X+N+1]=128|U>>0&63;N+=2}else if((U&4294967295-(1<<16)+1)==0){q[X+N]=224|U>>12;q[X+N+1]=128|U>>6&63;
q[X+N+2]=128|U>>0&63;N+=3}else if((U&4294967295-(1<<21)+1)==0){q[X+N]=240|U>>18;q[X+N+1]=128|U>>12&63;
q[X+N+2]=128|U>>6&63;q[X+N+3]=128|U>>0&63;N+=4}else throw"e"}return N};Z.o6=function(W,q){var X=Z.WP(W,q),k=Z._o(W,q+4,X-1);
return{Sp:k,RG:4+X}};Z.auE=function(W,q){var X=Z.P2(W,q),k=Z.gq(W,q+4,X);return k};Z.AV=function(W,q){var X=Z.WP(W,q),k=Z.Pa(W,q+4,X);
return k};Z.DX=function(W,q){var X=Z.WP(W,q),k=Z.Pa(W,q+4,X-1);return k};Z.T6=function(W,q){var X=Z.P2(W,q),k=Z.gq(W,q+4,X-1);
return k};Z.aaz=function(W,q,X){Z.Tk(W,q,X.length);q+=4;Z.an$(W,q,X)};Z.aCC=function(W,q,X){Z.Tj(W,q,X.length);
q+=4;Z.aBg(W,q,X)};Z.cr=function(W,q,X){W.Td(q,4+2*X.length);Z.aCC(W.data,q,X)};Z.ayn=function(W,q,X){W.Td(q,4+2*X.length);
Z.aaz(W.data,q,X)};Z.xa=function(W,q,X){var k=[];for(var N=0;N<X;N++)k.push(String.fromCharCode(W[q+N]));
return k};Z.aii=function(W,q,X){var k=!1,B=W.length-X.length;for(var N=q;N<B;N++){for(var U=0;U<X.length;
U++){if(W[N+U]!=X.charCodeAt(U))break;if(U==X.length-1)return N}}};Z.LS=function(W,q,X){var k=Z.zD(W,q,4);
if(X)k=k.split("").reverse().join("");return k};Z.zD=function(W,q,X){var k="";for(var N=0;N<X;N++)k+=String.fromCharCode(W[q+N]);
return k};Z.o3=function(W,q,X){for(var N=0;N<X.length;N++)W[q+N]=X.charCodeAt(N)};Z.Me=function(W,q,X){W.Td(q,X.length);
Z.o3(W.data,q,X)};Z.auQ=function(W,q,X){var k="";for(var N=0;N<X;N++){var B=W[q+N];if(B<10)k+="  ";else if(B<100)k+=" ";
k+=B+", "}return k};Z.U_=function(W,q){return W[q]<<8|W[q+1]};Z.SX=function(W,q,a1){W[q]=a1>>8&255;W[q+1]=a1&255};
Z.Hz=function(W,q,a1){W.Td(q,4);Z.SX(W.data,q,a1)};Z.L6=function(W,q){var X=Z.U_(W,q),k=Z.U_(W,q+2);
return X+k*(1/65536)};Z.agG=function(W,q,a1){var X=Math.floor(a1),k=Math.floor((a1-X)*65536);Z.SX(W,q,X);
Z.SX(W,q+2,k)};Z.Sm=function(W,q){return W[q+1]<<8|W[q]};Z.fZ=function(W,q,a1){W[q+1]=a1>>8&255;W[q]=a1&255};
Z.Hk=function(W,q,a1){W.Td(q,4);Z.fZ(W.data,q,a1)};Z.dd=function(W,q){Z.tn[0]=W[q+1];Z.tn[1]=W[q];return Z.bW[0]};
Z.lm=function(W,q){Z.tn[0]=W[q];Z.tn[1]=W[q+1];return Z.bW[0]};Z.bg=Z.SX;Z.yT=Z.Hz;Z.WU=function(W,q){Z.A_[0]=W[q+3];
Z.A_[1]=W[q+2];Z.A_[2]=W[q+1];Z.A_[3]=W[q];return Z.Nu[0]};Z.P_=function(W,q,a1){Z.Nu[0]=a1;W[q+3]=Z.A_[0];
W[q+2]=Z.A_[1];W[q+1]=Z.A_[2];W[q+0]=Z.A_[3]};Z.z8=function(W,q,a1){W.Td(q,4);Z.P_(W.data,q,a1)};Z.C9=function(W,q,X,k){X[k+0]=W[q+0];
X[k+1]=W[q+1];X[k+2]=W[q+2];X[k+3]=W[q+3]};Z.P2=function(W,q){Z.C9(W,q,Z.A_,0);return Z.a0f[0]};Z.Tk=function(W,q,a1){Z.a0f[0]=a1;
Z.C9(Z.A_,0,W,q)};Z.au=function(W,q,a1){W.Td(q,4);Z.Tk(W.data,q,a1)};Z.qX=function(W,q){Z.C9(W,q,Z.A_,0);
return Z.Nu[0]};Z.aFi=function(W,q,a1){Z.Nu[0]=a1;Z.C9(Z.A_,0,W,q)};Z.avb=function(W,q,a1){W.Td(q,4);
Z.aFi(W.data,q,a1)};Z.WP=function(W,q){var X=W[q]*(256*256*256)+(W[q+1]<<16|W[q+2]<<8|W[q+3]);return X};
Z.Tj=function(W,q,a1){W[q]=a1>>24&255;W[q+1]=a1>>16&255;W[q+2]=a1>>8&255;W[q+3]=a1>>0&255};Z.YK=function(W,q,a1){W.Td(q,4);
Z.Tj(W.data,q,a1)};Z.sa=function(W,q){return Z.WP(W,q)<<32|Z.WP(W,q+4)};Z.axx=function(W,q,a1){Z.Tj(W,q,a1>>16>>16);
Z.Tj(W,q+4,a1&4294967295)};Z.GA=function(W,q,a1){W.Td(q,8);Z.axx(W.data,q,a1)};Z.ac1=function(W,q){return Z.P2(W,q+4)|Z.P2(W,q)<<32};
Z.Rm=function(W,q){var X=new Uint8Array(8);for(var N=0;N<8;N++)X[N]=W[q+7-N];var k=new Float64Array(X.buffer);
return k[0]};Z.mx=function(W,q){var X=new Uint8Array(8);for(var N=0;N<8;N++)X[N]=W[q+N];var k=new Float64Array(X.buffer);
return k[0]};Z.fN=function(W,q,a1){var X=new Float64Array(1);X[0]=a1;var k=new Uint8Array(X.buffer);
for(var N=0;N<4;N++){var B=k[N];k[N]=k[7-N];k[7-N]=B}for(var N=0;N<8;N++)W[q+N]=k[N]};Z.pU=function(W,q,a1){W.Td(q,8);
Z.fN(W.data,q,a1)};Z.Op=function(W,q){Z.A_[0]=W[q+3];Z.A_[1]=W[q+2];Z.A_[2]=W[q+1];Z.A_[3]=W[q+0];return Z.D3[0]};
Z.EI=function(W,q){Z.A_[0]=W[q+0];Z.A_[1]=W[q+1];Z.A_[2]=W[q+2];Z.A_[3]=W[q+3];return Z.D3[0]};Z.od=function(W,q,a1){Z.D3[0]=a1;
W[q+0]=Z.A_[3];W[q+1]=Z.A_[2];W[q+2]=Z.A_[1];W[q+3]=Z.A_[0]};Z.ats=function(W,q,a1){W.Td(q,4);Z.od(W.data,q,a1)};
Z.Ns=function(W,q,a1){Z.D3[0]=a1;W[q+0]=Z.A_[0];W[q+1]=Z.A_[1];W[q+2]=Z.A_[2];W[q+3]=Z.A_[3]};Z.anN=function(W,q,a1){W.Td(q,4);
Z.Ns(W.data,q,a1)};Z.avV=function(W,q){var X=Z.WU(W,q),k=X*(1/(1<<24));return k};Z.aAI=function(W,q){var X=Z.qX(W,q),k=X*(1/(1<<24));
return k};Z.asy=function(W,q,X){var k=Math.floor(X*(1<<24));Z.P_(W,q,k)};Z.a3t=function(W,q,X){W.Td(q,4);
Z.asy(W.data,q,X)};Z.E1=function(W,q){var X=W[q],k=Z.zD(W,q+1,X);X+=1-X%2;return{AA:k,length:X+1}};Z.axl=function(W,q,X){var k=X.length;
W[q]=k;Z.o3(W,q+1,X);if(k%2==0){W[q+1+k]=0;++k}return k+1};Z.Uo=function(W,q,X){W.Td(q,X.length+2);return Z.axl(W.data,q,X)};
Z.Lj=function(W,q,X){var k=X?Z.mx:Z.Rm,B=new ka;B.iM=k(W,q+0*8);B.X=k(W,q+1*8);B.bO=k(W,q+2*8);B.kv=k(W,q+3*8);
B.Wy=k(W,q+4*8);B.rY=k(W,q+5*8);return B};Z.IP=function(W,q,X){Z.fN(W,q+0*8,X.iM);Z.fN(W,q+1*8,X.X);
Z.fN(W,q+2*8,X.bO);Z.fN(W,q+3*8,X.kv);Z.fN(W,q+4*8,X.Wy);Z.fN(W,q+5*8,X.rY)};Z.acm=function(W,q,X){W.Td(q,48);
Z.IP(W.data,q,X)};Z.aGw=function(W,q){var X=Z.Op(W,q),k=Z.Op(W,q+4),B=Z.Op(W,q+8),U=Z.Op(W,q+12);return new dU(X,k,B-X,U-k)};
Z.aCe=function(W,q,X){Z.od(W,q,X.x);Z.od(W,q+4,X.y);Z.od(W,q+8,X.x+X.r);Z.od(W,q+12,X.y+X.$)};Z.afB=function(W,q,X){W.Td(q,16);
Z.aCe(W.data,q,X)};Z.Rc=function(W,q,X){var k=X?Z.qX:Z.WU,B=k(W,q),U=k(W,q+4),l=k(W,q+8),K=k(W,q+12);
return new dU(U,B,K-U,l-B)};Z.ajc=function(W,q,X){Z.P_(W,q,X.y);Z.P_(W,q+4,X.x);Z.P_(W,q+8,X.y+X.$);
Z.P_(W,q+12,X.x+X.r)};Z.nw=function(W,q,X){W.Td(q,16);Z.ajc(W.data,q,X)};Z.d$=function(W,q,X){var k=new Uint8Array(X);
for(var N=0;N<X;N++)k[N]=W[q+N];return k};Z.a1L=function(W,q,X){W.set(X,q)};Z.Ex=function(W,q,X){W.Td(q,X.length);
Z.a1L(W.data,q,X)};Z.a4M=function(W,q,X,a1){if(!a1)a1=1;for(var N=0;N<a1;N++)W[q+N]=X};Z.qs=function(W,q,X,a1){if(!a1)a1=1;
W.Td(q,a1);Z.a4M(W.data,q,X,a1)};Z.bW=new Int16Array(1);Z.tn=new Uint8Array(Z.bW.buffer);Z.Nu=new Int32Array(1);
Z.a0f=new Uint32Array(Z.Nu.buffer);Z.A_=new Uint8Array(Z.Nu.buffer);Z.D3=new Float32Array(Z.Nu.buffer);
function kk(){}kk.WZ=function(W,q){var X=new Uint8Array(W),k=0,B=Z.zD(X,k,9),K=4,D=100;k+=9;var U=Z.zD(X,k,4);
k+=4;k++;q.r=Z.WP(X,k);k+=4;q.$=Z.WP(X,k);k+=4;var l=Z.WP(X,k);k+=4;if(l!=0)alert("Unsupported image format, not RGB!");
if(["file","v001","v002","v003"].indexOf(U)==-1){D=Z.WP(X,k);k+=4;if(parseInt(U.slice(1))>=7){D=D}else alert("Unknown XCF version: "+U);
K=8}var m={};k=kk.Cm(X,k,m);var Y=[];k=kk.Se(X,k,Y,K);var a=[];k=kk.Se(X,k,a,K);q.Lh=0;for(var N=0;N<Y.length;
N++)kk.aBC(X,Y[N],q,m,K,D);while(q.Lh>0){q.U.push(q.rS());q.Lh--}q.U.reverse();delete q.Lh;q.buffer=g.j(q.r*q.$*4);
if(q.U.length==0)console.log("No layers!!!");for(var N=0;N<a.length;N++){var p=kk.af4(X,a[N],m,K,D);
if(p.kG[kq.aeH])q.d={c:p.JP,S:new dU(0,0,q.r,q.$)}}};kk.aBC=function(W,q,X,k,B,U){var l=X.Sh(),K=Z.WP(W,q),a=0;
q+=4;var D=Z.WP(W,q);q+=4;l.S=new dU(0,0,K,D);var m=Z.WP(W,q);q+=4;var Y=Z.o6(W,q);q+=Y.RG;l.YY(Y.Sp);
var p={};q=kk.Cm(W,q,p);if(p[kq.avl]){var M=p[kq.avl];a=M.length/4-1}if(p[kq.nS]){l.S.x=Z.WU(p[kq.nS],0);
l.S.y=Z.WU(p[kq.nS],4)}if(p[kq.ag3]){l.zO=Z.WP(p[kq.ag3],0)}if(p[kq.aBH]){l.add.lsct=e5.B2;l.Z9=24}if(p[kq.a6M]){var x=Z.WP(p[kq.a6M],0);
l.JY=kq.ap7[x];if(l.S3()&&l.JY=="norm")l.JY="pass"}if(p[kq.anS]){if(Z.WP(p[kq.anS],0)==0)l.Z9+=2}if(p[kq.au5]){var R=Z.WP(p[kq.au5],0);
l.add.lsct=R&1==1?e5.B2:e5.Fn}if(p[kq.qW]){var y=p[kq.qW];for(var s in y){var F=y[s];if(s=="gimp-text-layer"){var E=kk.aku(F),o=E.text,G=E.font,d=E.color,u=E["font-size"];
if(o==null&&E.markup){var r=new DOMParser,v=r.parseFromString(E.markup,"image/svg+xml");while(v.firstChild!=null&&v.firstChild.tagName!=null){v=v.firstChild;
var c=v.getAttribute("font"),V=v.getAttribute("foreground"),j=v.getAttribute("size");if(c!=null)G=c;
if(V!=null){V=CSS.Hj(V);d=[1,V.o/255,V.L/255,V.X/255]}if(j!=null){u=""+parseFloat(j)/245}}o=v.textContent}l.add.lnsr="rend";
l.add.TySh=gZ.nG(0,0);l.add.TySh.oJ=new dU(0,0,100,100);l.add.TySh.M=new ka(1,0,0,1,l.S.x,l.S.y);var Q=l.add.TySh.FZ;
gZ.L3(Q,0,o);var H=gZ.J0(Q,0,0),T=E.justify,e=E["line-spacing"];if(d)H.n6.FillColor={Type:1,Values:[1,parseFloat(d[1]),parseFloat(d[2]),parseFloat(d[3])]};
if(u){u=Math.round(parseFloat(u));H.n6.FontSize=u;l.add.TySh.M.rY+=Math.min(17,u*.17)}if(e){e=Math.round(parseFloat(e)+H.n6.FontSize*1.2);
H.n6.Leading=e;H.n6.AutoLeading=!1}if(T)H.D8.Justification=["left","right","center","fill"].indexOf(T);
if(G&&G!="Sans-serif"){var z=G.toLowerCase(),J="bold italic semi extra regular condensed light".split(" "),P=z.length;
for(var N=0;N<J.length;N++){var L=z.indexOf(J[N]);if(L!=-1&&L<P&&z[L-1]==" ")P=L}if(P!=z.length)G=G.slice(0,P-1).split(" ").join("")+"-"+G.slice(P).split(" ").join("");
gZ.j_(H,G)}gZ.oM(Q,0,o.length,H);var h=E["box-width"],C=E["box-height"],w=h?parseFloat(h):l.S.r,f=C?parseFloat(C):l.S.$;
gZ.XM(Q,1);gZ.eR(Q,[0,0,Math.ceil(w),Math.ceil(f)])}else console.log("Unknown property "+s)}}while(X.Lh>a){X.U.push(X.rS());
X.Lh--}X.Lh=a;if(l.add.lsct==e5.B2||l.add.lsct==e5.Fn)X.Lh++;var n=B==4?Z.WP:Z.sa,$=n(W,q);q+=B;var d9=n(W,q);
q+=B;if(l.xn()){l.buffer=g.j(l.S.C()*4);var i=new g.rV(l.S.C());kk.awi(W,$,i,k,B,U);g.Aw(i,l.buffer)}if(d9!=0){l.BD=new b.pj;
var dF=kk.af4(W,d9,k,B,U);l.BD.c=dF.JP;l.BD.S=l.S.P();if(p[kq.abg])l.BD.isEnabled=Z.WP(p[kq.abg],0)==1;
l.BD.color=l.BD.c[0];l.BD.xX()}if(l.S3())l.S=new dU;X.U.push(l)};kk.aku=function(W){var q="("+Z._o(W,0,W.length-1)+")",X=[],k={};
kk.aIq(q,1,X);kk.aAf(X,k);return k};kk.aAf=function(W,q){for(var N=0;N<W.length;N++){var X=W[N],k=X[0];
if(X.length==2)q[k]=X[1];else q[k]=X.slice(1)}};kk.aIq=function(W,q,X){while(!0){if(q>=W.length)throw"e";
var k=W.charAt(q);q++;if(k=="("){var B=[];q=kk.aIq(W,q,B);X.push(B)}else if(k==" "||k=="\n"||k=="\r"){}else if(k==")")return q;
else if(k=="\""){var U=q;while(!0){var l=W[q];q++;if(l=="\"")break;if(l=="\\")q++}X.push(JSON.parse(W.slice(U-1,q)))}else{var U=q-1;
while(W[q]!=" "&&W[q]!=")")q++;X.push(W.slice(U,q))}}};kk.af4=function(W,q,X,k,B){var U=Z.WP(W,q);q+=4;
var l=Z.WP(W,q);q+=4;var K=Z.o6(W,q);q+=K.RG;var D={};q=kk.Cm(W,q,D);var m=new g.rV(U*l),Y=k==4?Z.WP:Z.sa,a=Y(W,q);
q+=k;kk.awi(W,a,m,X,k,B);return{JP:m.o,kG:D}};kk.awi=function(W,q,X,k,B,U){var l=Z.WP(W,q);q+=4;var K=Z.WP(W,q);
q+=4;var D=Z.WP(W,q);q+=4;var m=B==4?Z.WP:Z.sa,Y=m(W,q);q+=B;kk.aEt(W,Y,X,k,D,B,U)};kk.aEt=function(W,q,X,k,B,U,l){var K=Z.WP(W,q),Y=0,N=0;
q+=4;var D=Z.WP(W,q);q+=4;var m=new dU(0,0,K,D);if(l==100||l==150)Y=1;else if(l==200||l==250)Y=2;else if(l==300||l==350)Y=4;
else if(l==500||l==550)Y=2;else if(l==600||l==650)Y=4;else if(l==700||l==750)Y=8;else{alert("unsupported bit depth "+l);
throw"e"}var a=B/Y,Y=Math.round(B/a),p=[];q=kk.Se(W,q,p,U);var M=new g.rV(64*64*Y),x=new dU,R=k[kq.aoz][0],y=[M.o,M.L,M.X,M.iM];
if(a==3)M.iM.fill(255);var s=Date.now();if(p.length!=0)for(var F=0;F<D;F+=64)for(var E=0;E<K;E+=64){var o=Math.min(K-E,64),G=Math.min(D-F,64),d=o*G;
x.cQ(E,F,o,G);kk.a9n(W,p[N++],d*Y,R,a,y);if(l==100||l==150){}else if(l==250){for(var u=0;u<a;u++){var r=y[u];
for(var v=0;v<d;v++){var c=r[v]<<8|r[d+v];r[v]=Math.min(c>>>8,255)}}}else if(l==600){var V=kk.aEM(),j=new Uint32Array(1),Q=new Float32Array(j.buffer);
for(var u=0;u<a;u++){var r=y[u];for(var v=0;v<d;v++){j[0]=r[v]<<24|r[d+v]<<16|r[(d<<1)+v]<<8|r[(d<<1)+d+v]<<0;
var H=Q[0];if(H<0)H=0;else if(H>1)H=1;r[v]=V[~~(.5+H*1e3)]}}}else console.log("unknown data format",l);
g.PF(M,x,X,m)}};kk.aEM=function(){var W=kk.a8c;if(W!=null)return W;W=kk.a8c=new Uint8Array(1001);for(var N=0;
N<1001;N++)W[N]=~~(.49+255*g.Kz(N*.001));return W};kk.a9n=function(W,q,X,k,B,U){if(k==1){for(var l=0;
l<B;l++){var K=U[l],D=0;while(D<X){var a1=W[q];q++;if(a1<127){var m=W[q];q++;a1++;for(var N=0;N<a1;N++)K[D+N]=m}else if(a1==127){var Y=W[q];
q++;var a=W[q];q++;var m=W[q];q++;a1=Y<<8|a;for(var N=0;N<a1;N++)K[D+N]=m}else if(a1==128){var Y=W[q];
q++;var a=W[q];q++;a1=Y<<8|a;for(var N=0;N<a1;N++)K[D+N]=W[q+N];q+=a1}else{a1=256-a1;for(var N=0;N<a1;
N++)K[D+N]=W[q+N];q+=a1}D+=a1}}}else if(k==2){var p=pako.inflate(W.slice(q)),M=Math.round(p.length/X);
for(var N=0;N<X;N++){var x=N*M;U[0][N]=p[x];U[1][N]=p[x+1];U[2][N]=p[x+2];U[3][N]=M==3?255:p[x+3]}}else alert("Unknown compression "+k)};
kk.Se=function(W,q,X,k){var B=k==4?Z.WP:Z.sa;while(!0){var U=B(W,q);q+=k;if(U==0)break;else X.push(U)}return q};
kk.Cm=function(W,q,X){while(!0){var k=Z.WP(W,q);q+=4;var B=Z.WP(W,q);q+=4;if(k==kq.atn)break;else if(k==kq.qW)X[k]=kk.azb(W,q,q+B);
else X[k]=Z.d$(W,q,B);q+=B}return q};kk.azb=function(W,q,X){var k={};while(q<X){var B=Z.o6(W,q);q+=B.RG;
var U=Z.WP(W,q);q+=4;if(U!=1)console.log("unknown flags",U);var l=Z.WP(W,q);q+=4;k[B.Sp]=Z.d$(W,q,l);
q+=l}return k};var kq={atn:0,a4f:1,a2O:2,aJe:3,aeH:4,a3M:5,ag3:6,a6M:7,anS:8,ac0:9,a3m:10,abg:11,aDX:12,a5j:13,akY:14,nS:15,ako:16,aoz:17,ajL:18,axE:19,a2D:20,qW:21,awn:22,aDj:23,ah2:24,afr:25,aCM:26,aov:27,a8g:28,aBH:29,avl:30,au5:31,aI1:32,awg:33,axL:34,aGa:35,arP:36,agx:37,aKY:38,aHF:0,af_:1,aDS:2,ayd:3,ald:1,a2L:2,aDh:0,a3Y:1,aCF:1};
kq.ap7="norm,diss,norm,mul ,scrn,over,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,norm,over,hue ,hue ,colr,lite,norm,norm,mul ,scrn,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,vLit,pLit,lLit,hMix,smud,lbrn,lum ,lum ,lum ,lum ,norm,norm,norm,pass".split(",");
var dW=function(){var W=!1,q,X,s=0,o;function k(){var u=Z.zD(q,X,4);X+=4;return u[3]+u[2]+u[1]+u[0]}function B(){var u=Z.zD(q,X,4);
X+=4;return u}function U(){var u=q[X];X+=1;return u}function l(){var u=Z.Sm(q,X);X+=2;return u}function K(){var u=Z.P2(q,X);
X+=4;return u}function D(){var u=Z.qX(q,X);X+=4;return u}function m(){var u=Z.P2(q,X);X+=8;return u}function Y(){var u=Z.EI(q,X);
X+=4;return u}function a(){var u=Z.mx(q,X);X+=8;return u}function p(){var u=Z.Sm(q,X),r=Z._o(q,X+2,u);
X+=2+u;return r}function M(){var u=Z.P2(q,X),r=Z._o(q,X+4,u);X+=4+u;return r}function x(u){X=u;var r=[];
while(X!=0){var v=B();if(v!="#FT4"&&v!="#FT3"&&v!="#FT2")throw v;var c=m(),V=m(),j=m(),Q=m(),H=m(),T=K(),e=K(),z=K(),J=l(),P=U(),L={};
r.push(L);for(var N=0;N<T;N++){var A=K(),h=U();if(h!=0&&h!=1&&h!=2)throw h;var C=[];if(h==0||h==1){var w=m(),f=m(),O=m(),n=K(),$=U(),d9=K(),i=v!="#FT4"?0:K(),dF=null;
if(v=="#FAT"||v=="#FT2"){switch($){case 1:$=1;break;case 2:$=65;break;case 3:$=129;break;case 4:$=193;
break;default:$=0;break}}if(h==0)dF=p();C=[w,f,O,$,dF]}L["i"+A]=[h,C]}for(var N=0;N<J;N++){var t=l(),im=l(),bc=m(),at=Z.zD(q,X,t);
X+=t}X=c}r.reverse();for(var l9=1;l9<r.length;l9++){var L=r[l9],fF=r[l9]=g.N(r[l9-1]);for(var g$ in L){var fR=L[g$];
if(fR[0]==0)fF[g$]=fR;else if(fR[0]==1){fR[1][4]=fF[g$][1][4];fF[g$]=fR}else if(fR[0]==2)delete fF[g$]}}var cr=r.pop(),eE=[];
for(var g$ in cr)eE.push(cr[g$][1]);eE.sort(function(bQ,hT){return bQ[0]-hT[0]});return eE}function R(u,r,v,c){while(X<q.length){var V=U(),T=null;
if(V==0){if(c){var j=U();if(j!=2){var Q=k()}if(j==0)X+=4;c=!1;continue}else{break}}var H=k();if(H.indexOf("\0")!=-1)throw H;
if(W)console.log("  ".repeat(r),V,V&127,H,u._type);if(V>127)T=y(V,r,v);else T=F(V,r,v);if(W)console.log("  ".repeat(r),T);
u[H]=T}}function y(u,r,v){var c=[];u=u&127;if(u==43)X+=4;var V=K();if(u==50){var j=k(),Q=l();if(Q!=1)throw"e";
for(var N=0;N<V;N++){var H={_status:"NotShared",_type:j};c.push(H);var T=U();if(T!=0&&T!=1)throw T;R(H,r+1,v)}}else if(u==41){if(V>8)throw V;
for(var N=0;N<V;N++)c.push((q[X]>>>N&1)==1);X++}else for(var N=0;N<V;N++){c.push(F(u,r,v,N!=0));if(u==42)u=2}return c}function F(u,r,v,c){var V=null;
if(u==49){V={};var j=U();if(j!=0){var Q=K();if(v==null){V._id=Q;V._status=["Shared","Link"][j-1]}if(v&&j==2)V=v[Q];
if(j==1){if(v)v[Q]=V;var H=U(),T=!1;if(H>1)throw H;V._type=k();if(V._type.indexOf("\0")!=-1)throw V._type;
if(W)console.log("  ".repeat(r),"new",V._type,H,X);if(H==0){while(!0){var e=l();if(e!=0&&e!=1&&e!=2&&e!=3&&e!=4)throw e;
if(q[X]!=0){T=!0;break}var z=l();if(z==512)break;var J=k();if(z==256)break}}R(V,r+1,v,T)}}}else if(u==50){V={_status:"NotShared"};
if(U()==1){V._type=k();X+=2;R(V,r+1,v)}}else if(u==1)V={type:"byte",value:U()};else if(u==2)V={type:"uint16",value:l()};
else if(u==3)V={type:"uint32",value:K()};else if(u==4)V={type:"uint64",value:m()};else if(u==7)V={type:"int32",value:D()};
else if(u==8)V={type:"int64",value:m()};else if(u==9)V={type:"float32",value:Y()};else if(u==10)V={type:"float64",value:a()};
else if(u==11)V={type:"float64",value:a()};else if(u==21)V={type:"Vec2i",value:[K(),K()]};else if(u==23)V={type:"Vec4i",value:[K(),K(),K(),K()]};
else if(u==33)V={type:"Vec4f",value:[Y(),Y(),Y(),Y()]};else if(u==36)V={type:"Vec2",value:[a(),a()]};
else if(u==38)V={type:"Vec4",value:[a(),a(),a(),a()]};else if(u==40)V={type:"Vec6",value:[a(),a(),a(),a(),a(),a()]};
else if(u==41)V={type:"bool",value:U()!=0};else if(u==42)V={type:"Enum",value:K()};else if(u==43)V={type:"string",value:M()};
else if(u==44){if(c!=!0)s=l();var P,L=a();if(s==12)P=[U(),U(),U(),U()];else if(s==16)P=[K(),K()];else if(s==32)P=[a(),a(),a()];
else throw s;V={type:"curv16",value:[L,P]}}else if(u==45){var A=K();V={type:"buff",value:q.slice(X,X+A)};
X+=A}else if(u==47){V={type:"uint32",value:K()}}else if(u==48){var h=[],C=l();if(C!=1)throw C;while(!0){if(q[X]==135){var w=y(U(),r+1,v),f=y(U(),r+1,v),O=y(U(),r+1,v);
h.push([w,f,O])}else{var n=1;if(q[X]==3){U();n=K()}for(var N=0;N<n;N++){if(U()!=41)throw"e";var Q=U();
if(Q!=0&&Q!=1)throw Q;if(U()!=172)throw"e";var $=K(),i=l(),P=[];h.push(P);if(i!=18)throw i;if($>4e3)throw $;
for(var dF=0;dF<$;dF++)P.push([a(),a(),U(),U()])}}if(q[X]==0){X++;break}}V={type:"curve",value:h}}else if(u==51){V={type:"EmbeddedData"};
V[k()]=M()}else if(u==52)V={type:"uint32",value:K()};else if(u==56)V={type:"Color32",value:[U(),U(),U(),U()]};
else if(u==60)V={type:"ColorGRAY",value:[Y(),Y()]};else if(u==68)V={type:"ColorRGBA",value:[Y(),Y(),Y(),Y()]};
else if(u==72)V={type:"ColorCMYK",value:[Y(),Y(),Y(),Y(),Y()]};else{throw u}return u==49||u==50||u==51?V:V.value}function E(u){var r=0,v=u.length;
for(var N=0;N<v;N+=4){u[N]=r=r+u[N];u[N+1]=r=r+u[N+1];u[N+2]=r=r+u[N+2];u[N+3]=r=r+u[N+3]}}function G(u){q=u;
X=4;var r=K(),v=B();if(v!="nsrP")throw v;var v=B();if(v!="#Inf")throw v;var c=m();o=m();var V=m(),j=m(),Q=m(),H=K(),T=K(),v=B();
if(v!="Prot")throw v;var H=K(),e=x(c),z={},J=Date.now();for(var P=0;P<e.length;P++){var L=e[P],A=L[3],O=null;
X=L[0];var v=B();if(v!="#Fil")throw v;var h=A>>>5&1,C=A&3,w=A&192;switch(w){case 64:w=1;h=0;break;case 128:w=2;
break;case 192:w=3;break;default:w=0;h=0}var f=new Uint8Array(q.buffer,X,L[2]);if(C==0)O=f;else if(C==1)O=pako.inflate(f);
else if(C==2)O=lf.Mz.eG(f,L[1]);else throw C;if(h==0){if(w==1)E(O);if(w==2)throw"e"}else if(h==1){if(w==2)E(O);
else throw w}else throw h;z[L[4]]=O}return z}function d(u){var r=G(new Uint8Array(u));q=r["doc.dat"];
X=16;var v={};R(v,0,[]);return[r,v,o]}return{aln:d}}();function iu(){}iu.WZ=function(){function W(R,y){var s=Date.now(),F=dW.aln(R),E=F[0],o=F[1],G=F[2],d=o.DocR,u=d.DfSz,r=d.Chld;
if(r.length!=1)console.log(r);var v=r[0],c=v.SprB,V=v.bbxs;r=v.Chld;if(c){y.r=~~c[2];y.$=~~c[3]}else if(V){var j=V.rcts,Q=new dU;
for(var N=0;N<4;N++){var H=j[N];Q=Q.xw(new dU(H[0],H[1],H[2]-H[0],H[3]-H[1]))}y.r=Q.r;y.$=Q.$}else{y.r=1920;
y.$=1080}y.buffer=g.j(y.r*y.$*4);var T=[0,{}];for(var N=0;N<r.length;N++)U(r[N],y,E,new ka,T,[],0);y.GX(T[0]);
console.log(Date.now()-s,"Document created");s=Date.now()}function q(R){return new ka(R[0],R[3],R[1],R[4],R[2],R[5])}function X(R,y){var s=y.Xfrm;
s=s?q(s):new ka;s.concat(R);return s}function k(R){var y={0:"norm",1:"dark",2:"mul ",3:"idiv",196613:"lbrn",65538:"dkCl",4:"lite",5:"scrn",6:"div ",7:"lddg",65542:"lgCl",8:"over",9:"sLit",10:"hLit",11:"vLit",65551:"lLit",12:"pLit",13:"hMix",14:"diff",15:"smud",16:"fsub",262165:"fdiv",17:"hue ",18:"sat ",20:"colr",19:"lum "}[R];
return y?y:"norm"}function B(R,y){var s=R[y],F=R.DsMa;if(s==null&&F)s=F[y];return s}function U(R,y,s,F,E,o,G){var d=R._type,u=R.Chld,r=y.Sh();
r.YY(R.Desc==null||R.Desc==""?d=="Grup"?"Folder":"Layer":R.Desc);var v=B(R,"Visi");if(v!=null)r.ZR(v);
var c=B(R,"Opac");if(c!=null)r.zO=Math.round(255*c);var V=B(R,"FOpc");if(V!=null)r.add.iOpa=Math.round(255*V);
var j=B(R,"Blnd");if(j!=null)r.JY=k(j);if(R.BFFl&&R.BFFl[0])o.push(R.BFFl[0]);var Q=X(F,R),H=d=="ShpN"||d=="PCrv";
if(u){y.U.push(y.rS());r.add.lsct=e5.B2;if(r.JY=="norm")r.JY="pass";r.Z9=24;if(v!=null)r.ZR(v);if(d=="ShpN"&&G==0){var T=R.ShpB;
r.VA(new dU(T[0]+Q.Wy,T[1]+Q.rY,Math.round(Q.iM*(T[2]-T[0])),Math.round(Q.kv*(T[3]-T[1]))));E[0]++;r.add.artb.Clr={t:"Objc",v:g.ov.E2({o:255,L:255,X:255})};
var e=o[0];for(var N=0;N<o.length;N++)if(o[N].FDeF._type!="FilN")e=o[N];if(e.FDeF._type=="FilS"){r.add.artb.Clr=m(e.FDeF.Colr);
r.add.artb.artboardBackgroundType.v=4}}var z=R.Shpe?R:null;if(z==null)z=R.DsMa&&R.DsMa.Shpe?R.DsMa:null;
if(z){var J=K(z);if(J.G.length!=7){r.add.vmsk=J;g.z.Y9(J.G,Q);r.tw();r.Ae(y)}}for(var N=0;N<u.length;
N++)U(u[N],y,s,Q,E,o,G+1)}else if(d=="Rstr"||d=="ImgN"||d=="MRst"){var P=B(R,"Bitm"),L=P.Bckg,A=Date.now(),h;
if(L==null){h=a(P,s,E[1]);r.S=h[2].P();r.buffer=h[1].slice(0);r.S.x+=Q.Wy;r.S.y+=Q.rY}if(L||Q.Lr()!=1){var C,w=0,f=0;
if(L){var O=s[L.Data],n=Z.Ka(O,"ataD")+4,$=Z.P2(O,n);n+=4;C=O.slice(n,n+$)}else{w=r.S.x-Q.Wy;f=r.S.y-Q.rY;
if(h[3]==null)h[3]=new Uint8Array(lf.c_("PNG")._M([[r.buffer.buffer]],r.S.r,r.S.$));C=h[3].slice(0)}var d9=y.ow(C,r.getName(),0,0);
d9.Z9=r.Z9;d9.zO=r.zO;r=d9;var i=new ka;i.translate(w,f);i.concat(Q);var dF=r.S.P();dF.x=dF.y=0;var t=g.b.Lw(dF).n;
g.b.M(t,i,t);r.add.SoLd.Trnf=_.Gz.If(t);r.add.SoLd.nonAffineTransform=_.Gz.If(t);r.uz(y,!1)}}else if(d=="TxtA"||d=="TxtF"){r.add.lnsr="rend";
r.add.TySh=gZ.nG(0,0);r.add.TySh.oJ=new dU(0,0,100,100);var im=R.TxtH?R:R.DsMa,bc=im.TxtH.FrmB,at=1,l9=1,fF=r.add.TySh.M=new ka,bQ=0;
fF.translate(bc[0],bc[1]);fF.concat(Q);if(d=="TxtF"){var g$=Math.atan2(-fF.X,fF.iM);fF.rotate(-g$);at=fF.iM;
l9=fF.kv;fF.kv=fF.iM=1;fF.rotate(g$)}var fR=r.add.TySh.FZ,cr=im.StSt;if(cr==null)cr=im.StMa.StSt;var eE=cr.Blok;
if(eE.length!=1)throw"e";for(var hT=0;hT<eE.length;hT++){var df=eE[hT],eV=bQ,gU=0,i8=df.Glyp.Utf8;if(i8==null)continue;
i8=i8.replace(/\u2028/g,"\n");i8=i8.replace(/\u2029/g,"\n");i8=i8.slice(0,i8.length-1);if(i8=="")continue;
r.YY(i8.slice(0,255));gZ.L3(fR,bQ,i8);bQ+=i8.length;var bv=df.GAtt.Runs,fE=df.PAtt.Runs[0],d5=fE.Item.Ints[0];
for(var aR=0;aR<bv.length;aR++){var l8=bv[aR],au=l8.Indx,hx=l8.Item,fw=hx.Objs,cx=gZ.J0(fR,eV,1);cx.D8.Justification=d5==0?0:d5==1?2:1;
gZ.j_(cx,hx.DFnt.Post);cx.n6.FontSize=hx.Doub[0];for(var N=0;N<fw.length;N++){var fg=fw[N];if(fg._type=="FDsc"){var iI=fg.FDeF;
if(iI._type=="FilS"){var eq=Y(iI.Colr);cx.n6.FillColor={Type:1,Values:[1,eq[0],eq[1],eq[2]]}}}}gZ.oM(fR,eV+gU,eV+Math.min(au,i8.length),cx);
gU=au}}gZ.XM(fR,1);gZ.eR(fR,[0,0,Math.round((bc[2]-bc[0])*at*1.02),Math.round((bc[3]-bc[1])*l9*1.2)]);
y.Tr=!0}else if(H){r.Z9|=16;var fS=r.add.vstk=kE.Cs.wy(!0),J=r.add.vmsk=K(R);g.z.Y9(J.G,Q);var e=o[0];
for(var N=0;N<o.length;N++)if(o[N].FDeF._type!="FilN")e=o[N];if(e){var f1=e.FDeF,c4=f1._type;if(c4=="FilS")r.add.SoCo={classID:"null",Clr:m(f1.Colr)};
else if(c4=="FilG"){var ea=r.add.GdFl=JSON.parse(kE.iv[kE.order.indexOf("GrFl")]);D(e,ea,g.z.Sa(J.G))}else if(c4=="FilN"){r.add.SoCo={classID:"null",Clr:{t:"Objc",v:g.ov.E2({o:0,L:0,X:0})}};
fS.fillEnabled.v=!1}else console.log(c4)}if(R.LILn){var ie=R.LILn[0].LDeL,i$=ie.Wght;if(i$!=0){fS.strokeEnabled.v=!0;
fS.strokeStyleLineWidth.v.val=i$;var f1=R.LIFl[0].FDeF,c4=f1._type;if(c4=="FilS")fS.strokeStyleContent.v.Clr=m(f1.Colr);
else if(c4=="FilN")fS.strokeEnabled.v=!1}}r.tw();r.Ae(y)}else if(d=="RcRA"){var cI=R.AdjP,cD="hue2",fG=r.add[cD]=dY.wy(cD);
l(fG,cI)}else console.log(d);var cH=R.AdCh,hL=[];if(cH)for(var N=0;N<cH.length;N++){var ee=cH[N],aj=ee._type;
if(aj=="ShpN"||aj=="PCrv"){var J=r.add.vmsk=K(ee),iA=X(Q,ee);g.z.Y9(J.G,iA);r.tw();r.Ae(y)}else if(ee.AdjP){var cI=ee.AdjP,eL=cI._type;
console.log(eL);var hZ={LevP:"levl",WhBP:"levl",SHiP:"curv",HSSP:"hue2",RecP:"hue2","B&WP":"blwh","B&CP":"brit",PosP:"post",VibP:"vibA",ExpP:"expA",ThrP:"thrs",CrvP:"curv"}[eL];
if(hZ==null){console.log(cI);continue}var bZ=dY.NK(hZ,{});hL.push(bZ);var fG=bZ.v.Fltr.v;if(eL=="LevP"){var k_=i0.XN(fG,0);
k_[0]=cI.OutB*255;k_[1]=cI.OutW*255;i0.jr(fG,0,k_)}else if(eL=="WhBP"){var k_=i0.XN(fG,2);k_[4]=100+cI.WBTi*20;
i0.jr(fG,2,k_);var k_=i0.XN(fG,3);k_[4]=100+cI.WBTi*200;i0.jr(fG,3,k_)}else if(eL=="HSSP"){var k_=cW.XN(fG,0);
k_[0]=Math.round(cI.HueA*256);k_[1]=Math.round(cI.SatA*256);k_[2]=Math.round(cI.LumA*256);cW.jr(fG,0,k_)}else if(eL=="RecP"){l(fG,cI)}else if(eL=="B&CP"){fG.Brgh.v=Math.round(cI.Brig*100);
fG.Cntr.v=Math.round(cI.Ctrs*100-100)}else if(eL=="PosP"){fG.Lvls.v=cI.Post}else if(eL=="VibP"){fG.vibrance.v=cI.Vibr-100;
fG.Strt.v=Math.round(cI.Satu*100)}else if(eL=="ExpP"){fG.Exps.v=cI.Expo;fG.gammaCorrection.v=cI.Gamm/2.2}else if(eL=="ThrP"){fG.Lvl.v=Math.round(cI.Thre*255)}else if(eL=="CrvP"){var kW=cI.Mast["Cnt "],iU=cI.Mast.Vals,k_=eR.XN(fG,0),kO=k_[0];
for(var hq=0;hq<kW;hq++){var e8=k_[hq]=g.N(kO);e8.v.Hrzn.v=Math.round(iU[hq]*255);e8.v.Vrtc.v=Math.round(iU[4+hq]*255)}eR.jr(fG,0,k_)}}else console.log(ee)}if(hL.length!=0&&r.add.SoLd){r.add.SoLd.filterFX=dY.EC();
y.ik({id:r.add.SoLd.placed.v,S:new dU,buffer:g.j(1),BD:new b.pj});r.add.SoLd.filterFX.v.filterFXList.v=hL;
r.uz(y,!1)}var gi=R.FiEf;if(gi&&gi.length!=0){var jZ=r.add.lmfx=JSON.parse(kE.default);for(var N=0;N<kE.order.length;
N++)jZ[kE.m1[N]]={t:"VlLs",v:[]};for(var cg=0;cg<gi.length;cg++){var hn=gi[cg],bF=hn._type,gf={ColO:"SoFi",GrdO:"GrFl",Shad:"DrSh",InnS:"IrSh",OutG:"OrGl",InnG:"IrGl",Strk:"FrFX",PhgB:"ebbl",BevE:"ebbl"}[bF],ea=gf?JSON.parse(kE.iv[kE.order.indexOf(gf)]):null,eH=1;
if(bF=="ColO"){ea.Clr=m(hn.Colr)}else if(bF=="GrdO"){D(hn.GrFl,ea)}else if(bF=="Shad"||bF=="InnS"||bF=="OutG"||bF=="InnG"){ea.Clr=m(hn.Colr);
ea.blur.v.val=Math.round(hn.Radi);var h5=hn.Comp;if(h5!=null){if(h5>.5)eH=1-.5*(h5-.5);else ea.Ckmt.v.val=Math.round(100*(.5-h5))}if(hn.Offs!=null){ea.Dstn.v.val=hn.Offs;
ea.lagl.v.val=Math.round(180-hn.Angl*180/Math.PI);ea.uglg.v=!1}}else if(bF=="Strk"){if(hn.Ftyp==0)ea.Clr=m(hn.Colr);
else{D(hn.GrFl,ea);ea.PntT.v.FrFl="GrFl"}ea.Sz.v.val=Math.round(hn.Radi)}else if(bF=="PhgB"||bF=="BevE"){ea.blur.v.val=Math.round(hn.Radi);
if(bF=="BevE")ea.bvlS.v.BESl="PlEb"}else if(bF=="Gaus"){if(H&&hn.Enab){r.add.vmsk.iE=hn.Radi/2.4;r.add.vmsk.Uf=!0;
r.tw();r.Ae(y)}}if(gf){ea.enab.v=hn.Enab;if(ea.Md&&hn.BlnM!=null)ea.Md.v.BlnM=jm.yq(k(hn.BlnM));if(ea.Opct&&hn.Opac!=null)ea.Opct.v.val=Math.round(eH*hn.Opac*100);
var gS=kE.m1[kE.order.indexOf(gf)];jZ[gS].v.unshift({t:"Objc",v:ea})}}}if(R.BFFl&&R.BFFl[0])o.pop();
y.U.push(r)}function l(R,y){R.Clrz.v=!0;var s=cW.XN(R,0);s[0]=Math.round(y.RecH*360);s[1]=Math.round(y.RecS*100);
s[2]=Math.round(y.RecL*100);cW.jr(R,0,s)}function K(R){var y=new b.jY,s=R._type;if(R.ShpB==null&&R.Crvs==null)R=R.DsMa;
if(s=="PCrv"){var F=R.Crvs.Data,E=[],o=[];for(var N=0;N<F.length;N++){var G=F[N],d=G.length%3;if(d!=1){G=d==2?G[0][2]!=0?G.slice(0,G.length-1):G.slice(1):G.slice(1,G.length-1)}for(var u=0;
u<G.length;u++){var r=G[u],v=r[2];if(v!=0)E.push(u==0?"M":"C");o.push(r[0],r[1])}}y.G=g.b.gH({n:o,zb:E},!0)}else{var c=R.ShpB,V=R.Shpe,j=V._type,Q=c[2]-c[0];
if(j=="ShpE"){y.G=g.z.oz.am(c[0],c[1],c[2]-c[0],c[3]-c[1])}else if(j=="ShNR"){var H=[0,0,0,0];if(V.CTyp){H=V.ShCR.slice(0);
for(var N=0;N<4;N++)H[N]*=c[2]-c[0];for(var N=1;N<4;N++)H[N]=H[0]}y.G=g.z.oz.Rect(c[0],c[1],c[2]-c[0],c[3]-c[1],H)}else if(j=="ShpT"){y.G=g.b.gH({zb:["M","L","L","Z"],n:[c[0],c[3],c[2],c[3],c[0]+Q*.5,c[1]]},!0)}else if(j=="ShTz"){y.G=g.b.gH({zb:["M","L","L","L","Z"],n:[c[0]+Q*V.PosL,c[1],c[0]+Q*V.PosR,c[1],c[2],c[3],c[0],c[3]]},!0)}else{console.log("--",j);
y.G=g.z.oz.Rect(c[0],c[1],c[2]-c[0],c[3]-c[1],[0,0,0,0])}}return y}function D(R,y,s){var F=R.FDeF,E=R.FDeX;
if(E)E=q(E);var o=F.Grad,G=o.Cols;y.Type.v.GrdT=F.Type==0?"Lnr":"Rdl";var d=[];for(var N=0;N<G.length;
N++){var u=Y(G[N]);d.push([o.Posn[N][0],u])}y.Grad.v.Intr.v=0;g.ov.mi(d,y.Grad.v);var r=o.Posn,v=new hw(r[0][0],r[0][1]),c=new hw(r[1][0],r[1][1]);
if(E){var V=new ka;if(s==null)V.translate(-.5,-.5);V.concat(E);if(s==null)V.translate(.5,.5);v=V.Bb(v);
c=V.Bb(c)}if(F.Type==0)v=new hw((v.x+c.x)/2,(v.y+c.y)/2);g.ov.Za(v,c,s?s:new dU(0,0,1,1),y)}function m(R){var y=Y(R);
return{t:"Objc",v:g.ov.E2({o:y[0]*255,L:y[1]*255,X:y[2]*255})}}function Y(R){var y=R._col,s=R._type;
if(s=="HSLA"){var F=g.Vy(y[0],y[1],y[2]);return[F.o,F.L,F.X,y[3]]}else if(s=="RGBA")return y;else if(s=="CMYK")return g.eL(y);
else if(s=="GRAY")return[y[0],y[1],y[2]];else if(s=="Pant")return R.srgb._col;else{console.log(y);throw s}}function a(R,y,s){var F=R.Frmt,T="";
if(F!=0&&F!=1&&F!=4&&F!=6)throw F;var E=R.BmpW,o=R.BmpH,G=F==1?128:256,d=F==4?5:F==0||F==1?4:1,u=R.TWi1;
if(u==null)u=Math.ceil(E/G);var r=R.THi1;if(r==null)r=Math.ceil(o/256);var v=new dU(0,0,u,r),c=new dU;
for(var N=0;N<d;N++){var V=new Uint8Array(R["Sta"+(N+1)]);if(V.length!=v.C())throw"e";for(var j=0;j<V.length;
j++)if(V[j]==1)V[j]=0;var Q=g.Iu(V,v);c=c.xw(Q)}var H=[];for(var N=0;N<d;N++){var V=new Uint8Array(R["Sta"+(N+1)]),e=g.j(c.C());
g.Z_(V,v,e,c);H[N]=[];for(var j=0;j<e.length;j++)H[N][j]=e[j];T+=JSON.stringify(H[N])+","+JSON.stringify(R["Idx"+(N+1)])+","}if(s[T]==null){var z=c.r*G,J=c.$*256,P=new Array(d);
for(var N=0;N<d;N++){var V=P[N]=new Uint8Array(z*J);p(V,R["Idx"+(N+1)],H[N],y,z,J,G)}var L=g.j(z*J*4);
if(F==0||F==1)g.Aw({o:P[0],L:P[1],X:P[2],iM:P[3]},L);else if(F==4){for(var N=0;N<P[0].length;N++){var A=N*4,h=P[0][N]*(1/255),C=P[1][N]*(1/255),w=P[2][N]*(1/255),f=P[3][N]*(1/255),O=UDOC.C.cmykToRgb([h,C,w,f]);
L[A]=O[0]*255;L[A+1]=O[1]*255;L[A+2]=O[2]*255;L[A+3]=P[4][N]}}else{L.fill(255);g.LO(P[0],L)}var n=new dU(0,0,z,J),$={buffer:L,S:n};
g.gu($);s[T]=[$.S,$.buffer]}var Q=s[T][2]=s[T][0].P();Q.x+=c.x*G;Q.y+=c.y*256;return s[T]}function p(R,y,s,F,E,o,G){var d=0,u=E>>>(G==256?8:7),r=o>>>8;
for(var v=0;v<r;v++)for(var c=0;c<u;c++){var V=c*G,j=v*256,Q=v*u+c,H=j*E+V,T=s[Q];if(T<=1){}else if(T==2)M(R,H,255,E,G,256);
else if(T==4){var e=y[d];d++;var z=F[e.Data.DatI],J=e.Rect;if(J==null)J=[0,0,G,256];x(R,(j+J[1])*E+V+J[0],z,J[1]*G+J[0],E,G,J[2]-J[0],J[3]-J[1])}else console.log(T)}}function M(R,y,s,F,E,o){var G=y+F*o;
for(;y<G;y+=F){var d=y+E;for(var u=y;u<d;u++){R[u]=s}}}function x(R,y,s,F,E,o,G,d){var u=y+E*d,r=F+o*d;
for(;y<u&&F<r;y+=E,F+=o){for(var N=0;N<G;N++)R[y+N]=s[F+N]}}return W}();function eU(){}eU.WZ=function(W,q){var X=eU,k=kr.parse(W),U=0;
if(k.pages.length>1)console.log(k.pages.length,"pages");var B=[],l=new dU;for(var K=0;K<k.pages.length;
K++){var D=k.pages[K],m=D.layers,Y=X.Hb(m,K),p=!1;if(Y.C()>8e3*8e3||Y.r>3e4||Y.$>3e4){X.ac8(m,!0);var a=X.Hb(m,K);
if(a.C()>=Y.C())X.ac8(m,!1)}Y=X.Hb(m,K);for(var M=0;M<m.length;M++){var x=m[M];if(X.uH(x)=="artboard")p=!0}if(!p){console.log("no artboard");
var R={};for(var y in D)R[y]=D[y];R._class="group";D.layers=[R]}B.push(Y.P());if(Y.PM())continue;Y.x=0;
Y.y=U;U+=Y.$+200;l=l.xw(Y)}var s={};if(k.foreignSymbols)for(var N=0;N<k.foreignSymbols.length;N++){var F=k.foreignSymbols[N].symbolMaster;
s[F.symbolID]={c2:F}}X.aw8(k.pages,s,q);for(var E in s){var x=s[E].c2,o=X.anw(x.layers)}var G=eU.hi(l,8192*8192);
q.Tr=!0;q.r=Math.round(l.r/G);q.$=Math.round(l.$/G);q.buffer=g.j(q.r*q.$*4);q.GX(k.pages[0].layers.length);
q.Ed={};q.nz=[];U=0;for(var K=0;K<k.pages.length;K++){var d=k.pages[K],Y=B[K],u=new ka(G,0,0,G,Y.x,Y.y-U);
X.YT(d.layers,q,u,k,s,{},[]);U+=Y.$+200}delete q.Ed;delete q.nz;if(G!=1)alert("File scaled down "+G+"x");
q.awU()};eU.afD=0;eU.uH=function(W){return W._class?W._class:W.$class};eU.hi=function(W,q){var X=1;if(cC!=0)return X;
while(Math.round(W.r/X)*Math.round(W.$/X)>q||Math.max(Math.round(W.r/X),Math.round(W.$/X))>3e4)X++;if(window.adC)return X;
if(X!=1&&!window.confirm("Your image is quite large ("+W.r+" x "+W.$+" px).\n"+"Press OK to scale it down "+X+"x, or Cancel to keep the size."))X=1;
return X};eU.Hb=function(W,q){var X=[],k=eU;for(var B=0;B<W.length;B++){var U=W[B],l=k.Rc(U.frame);if(q==0||k.uH(U)=="artboard")X.push(l)}return g.S.jK(X)};
eU.ac8=function(W,q){var X=[],k=eU;for(var B=0;B<W.length;B++){var U=W[B],l=k.Rc(U.frame);l.r+=150;l.$+=150;
X.push(l)}var K=g.S.jK(X);g.S.azi(X,q);var D=g.S.jK(X);if(D.C()*1.5<K.C()||K.r>3e4&&D.r<=3e4||K.$>3e4&&D.$<=3e4){alert("Re-arranging artboards");
for(var B=0;B<W.length;B++){var m=X[B],U=W[B],Y=U.frame;Y.x=m.x;Y.y=m.y}}};eU.aw8=function(W,q,X){if(W==null)return;
var k=eU;for(var B=0;B<W.length;B++){var U=W[B],l=k.uH(U);if(["page","artboard","group"].indexOf(l)!=-1)k.aw8(U.layers,q,X);
else if(l=="symbolMaster")q[U.symbolID]={c2:U}}};eU.anw=function(W){var q=eU;for(var X=0;X<W.length;
X++){var k=W[X],B=q.uH(k),U=null;if(["page","artboard","group"].indexOf(B)!=-1)U=q.anw(k.layers);if(B=="symbolMaster"||B=="symbolInstance")U=k;
if(U!=null)return U}return null};eU.YT=function(W,q,X,k,B,U,l){if(W==null)return;var K=eU,D=[];for(var m=0;
m<W.length;m++){var Y=W[m],a=Y.frame?K.Rc(Y.frame):null,p=Y.style,s="",u=null,r=!1;if(p==null){console.log("no styles")}var M=K.avK(Y,X),x=K.uH(Y),R=x=="shapeGroup"||x=="shapePath"||x=="rectangle"||x=="oval"||x=="triangle"||x=="polygon",y=["page","artboard","group"].indexOf(x)!=-1;
if(x=="shapeGroup"){for(var N=0;N<Y.layers.length;N++)if(K.uH(Y.layers[N])=="shapeGroup")y=!0}var F=Y.exportOptions;
if(F){var E=F.exportFormats;if(E==null)E=F.sizes;if(x!="artboard"&&(E&&E.length!=0)){var o=E[0].scale}}var G=q.Sh();
G.ZR(Y.isVisible);var d=Y.name;if(!(typeof d=="string"))d=x;G.YY(s+d.slice(0,250));if(p!=null)u=K.aJ3(k,q,p,a,M,G.getName(),R||x=="artboard"||y);
if(x=="rectangle"&&p&&p.fills&&p.fills[0]){var v=p.fills[0];if(v.fillType==4&&v.patternFillType>1&&v.image!=null)r=!0}if(Y.shouldBreakMaskChain){while(D.length!=0)K.aJz(D.pop(),q)}if(y){G.add.lsct=Y.layerListExpandedType==2?e5.B2:e5.Fn;
G.JY="pass";G.Z9=24;G.ZR(Y.isVisible);q.U.push(q.rS());if(x=="artboard"){var c=a.P(),V=M.Lr();c.x=-Math.floor(M.Wy/V);
c.y=-Math.floor(M.rY/V);c.r=Math.floor(c.r/V);c.$=Math.floor(c.$/V);G.VA(c);var j=Y.backgroundColor,Q=j?{o:255*j.red,L:255*j.green,X:255*j.blue}:{o:255,L:255,X:255};
G.add.artb.Clr={t:"Objc",v:g.ov.E2(Q)};G.add.artb.artboardBackgroundType={t:"long",v:4}}K.YT(Y.layers,q,M,k,B,U,l)}else if(R&&!r){var H=u!=null&&u.frameFXMulti.v.length==1;
G.add.vmsk=new b.jY;G.add.vstk=kE.Cs.wy(!0,H);var T=p?p.fills:null,e=p?K.aoA(k,T,a,M,G.getName(),q,K.hA(l,Y.do_objectID+"_image")):[];
if(e.length==0){if(H)G.add.vstk.fillEnabled.v=!1;else G.add.iOpa=0;G.add.SoCo={classID:"null",Clr:{t:"Objc",v:g.ov.E2({o:0,L:0,X:0})}}}else{var z=e[0],J=null,P=null;
if(z.I=="SoFi"){J="SoCo";P=kE.nV}if(z.I=="GrFl"){J="GdFl";P=kE.N2}if(z.I=="patternFill"){J="PtFl";P=kE.W0}if(J!=null){G.add[J]={classID:"null"};
for(var N=0;N<P.length;N++){var L=P[N];G.add[J][L]=z._.v[L]}var A=z._.v.Opct.v.val;if(H&&A==0)G.add.vstk.fillEnabled.v=!1;
else G.add.iOpa=Math.round(255*A/100)}}G.Z9|=16;G.add.vmsk.G=K.ot(Y.layers?Y.layers:[Y],Y.layers?M:X);
var h=p?p.blur:null;if(h&&h.isEnabled&&h.type<=1)G.add.vmsk.iE=h.radius;if(G.add.vmsk.G.length==2){console.log("shape with no content:",G.getName())}if(H){var C=u.frameFXMulti.v[0].v,w=G.add.vstk,O=p.borders[0];
u.frameFXMulti.v=[];dx.a88(C,w);var n=p.borderOptions,$=p.miterLimit;if(n)kE.Cs.write(w,{VT:n.lineCapStyle,WA:n.lineJoinStyle,Vt:n.dashPattern,Mj:$})}G.tw();
G.Ae(q)}else if(x=="bitmap"||r){if(!r&&Y.image==null)continue;var d9=r?p.fills[0]:null,i=r?d9.image.bdata:Y.image.bdata,t=q.ow(i,G.getName(),0,0);
t.Z9=G.Z9;G=t;var h=p?p.blur:null,im=p?p.colorControls:null;if(h||im){G.add.SoLd.filterFX=dY.EC();q.ik({id:G.add.SoLd.placed.v,S:new dU,buffer:g.j(1),BD:new b.pj});
var T=G.add.SoLd.filterFX.v.filterFXList.v;if(h){var bc=dY.NK("GsnB",{});bc.v.enab.v=h.isEnabled;bc.v.Fltr.v.Rds.v.val=h.radius;
T.push(bc)}if(im){var at=im.brightness,l9=im.contrast,fF=im.hue,g$=im.saturation;if(fF!=0||g$!=1){var bc=dY.NK("hue2",{});
bc.v.enab.v=im.isEnabled;cW.jr(bc.v.Fltr.v,0,[Math.round(fF*180/Math.PI),Math.round((g$-1)*100),0]);
T.push(bc)}if(at!=0||l9!=1){var bc=dY.NK("brit",{});bc.v.enab.v=im.isEnabled;l9=l9-1;if(l9>0)l9/=2;var fR=bc.v.Fltr.v;
fR.Brgh.v=Math.round(at*255);fR.Cntr.v=Math.round(l9*255);fR.useLegacy.v=!0;T.push(bc)}}}if(r){var cr=d9.patternFillType;
if(cr==3){var eE=G.S.r/G.S.$,bQ=a.r/a.$;if(eE<bQ){M.translate(-(a.r*(1-eE/bQ))/2,0);M.scale(bQ/eE,1)}else{M.translate(0,-(a.$*(1-bQ/eE))/2);
M.scale(1,eE/bQ)}}}a.x=a.y=0;var hT=g.b.Lw(a).n;M.i5();g.b.M(hT,M,hT);G.add.SoLd.Trnf=_.Gz.If(hT);G.add.SoLd.nonAffineTransform=_.Gz.If(hT);
G.uz(q,!1)}else if(x=="text"){if(Y.attributedString==null)continue;var df=M.P(),eV,gU,aR=0;df.i5();df.iM=df.kv=Math.min(df.iM,df.kv);
G.add.lnsr="rend";G.add.TySh=gZ.nG(0,0);G.add.TySh.oJ=new dU(0,0,a.r,a.$);G.add.TySh.M=df;var i8=Y.attributedString;
if(i8.archivedAttributedString)i8=i8.archivedAttributedString;var bv=i8.NSString;if(bv==null)bv=i8.string;
if(bv==null)bv="";if(bv["NS.string"])bv=bv["NS.string"];if(U[Y.do_objectID]!=null)bv=U[Y.do_objectID];
var fE=K.hA(l,Y.do_objectID+"_stringValue");if(fE)bv=fE.value;if(i8.attributes!=null){eV=[];gU=[];var d5=i8.attributes;
for(var N=0;N<d5.length;N++){eV.push(d5[N].length,N);gU.push(d5[N].attributes)}}else if(i8.NSAttributeInfo==null){eV=[bv.length,0];
gU=[i8.NSAttributes]}else{eV=i8.NSAttributeInfo["NS.data"];gU=i8.NSAttributes;eV=eU.aih(eV,gU)}for(var N=0;
N<eV.length;N+=2)aR+=eV[N];if(aR!=bv.length){while(aR>bv.length){eV[eV.length-2]--;aR--;if(eV[eV.length-2]==0){eV.pop();
eV.pop()}}eV[eV.length-2]+=bv.length-aR}bv=bv.replace(/\u2028/g,"\n");bv=bv.replace(/\u2029/g,"\n");
bv=bv.replace(/\r/g,"\n");var l8=G.add.TySh.FZ;gZ.L3(l8,0,bv);if(bv!=""){var au=Y.textBehaviour,hx=p.textStyle,fw=hx?hx.verticalAlignment:0,cx=K.apH(l8,eV,gU,bv),V=df.Lr(),fg=gZ.J0(l8,0,1),fS=0;
if(fg.n6.Font){var iI=fg.MD[fg.n6.Font].Name;if(iI=="FontAwesome"||iI=="Ionicons")cx*=.87}var eq=fg.n6.AutoLeading?0:fg.n6.Leading*.6,f1=Math.max(cx,eq)*V,c4=a.r,ea=a.$;
if(au==0){gZ.XM(l8,0);var ie=gZ.kZ(fg.D8);if(ie==1)fS=c4*V;if(ie==2)fS=c4*V*.5;if(fw==0)f1*=1;else f1*=.9}else{gZ.XM(l8,1);
gZ.eR(l8,[0,0,Math.round(c4),Math.round(ea)]);if(au==2&&fw==0)f1=f1*.2;else if(au==2&&fw==1){f1=V*.5*(ea-fg.n6.FontSize)}else if(au==1&&fw==0)f1=f1*.2;
else f1=f1*.35}G.add.TySh.M.translate(fS,f1)}}else if(x=="symbolInstance"||x=="symbolMaster"){var i$=Y.symbolID;
if(U[Y.do_objectID])i$=U[Y.do_objectID].symbolID;var cI=K.hA(l,Y.do_objectID+"_symbolID");if(cI)i$=cI.value;
if(i$=="")continue;var cD={};for(var L in U)cD[L]=U[L];if(Y.overrides)for(var L in Y.overrides)cD[L]=Y.overrides[L];
var fG=l.slice(0);if(Y.overrideValues)fG=fG.concat(Y.overrideValues);var cH=B[i$];if(cH==null){console.log("Unknown master master",Y.symbolID);
continue}var hL=eU.Rc(cH.c2.frame),ee=hL.r/a.r,aj=hL.$/a.$,iA=M.P();iA.scale(ee,aj);G.add.lsct=e5.Fn;
G.JY="pass";G.Z9=24;G.ZR(Y.isVisible);q.U.push(q.rS());var eL=cH.c2;if(q.nz.indexOf(eL)==-1){q.nz.push(eL);
K.YT(eL.layers,q,iA,k,B,cD,fG);q.nz.pop()}}else if(x=="slice"){console.log("slice layers are ignored by now");
continue}else{console.log("unknown layer type: "+x,Y);continue}if(p&&p.contextSettings){var hZ=p.contextSettings,bZ=hZ.blendMode;
if(bZ<K.eE.length){G.JY=jm.eB[jm.FW.indexOf(K.eE[bZ])];if(y&&G.JY=="norm")G.JY="pass"}G.zO=Math.round(G.zO*hZ.opacity)}if(u!=null){G.add.lmfx=u}q.U.push(G);
if(Y.hasClippingMask&&W.length>1){D.push(G);q.U.push(q.rS())}}while(D.length!=0)K.aJz(D.pop(),q)};eU.hA=function(W,q){for(var N=0;
N<W.length;N++)if(W[N].overrideName.startsWith(q))return W[N]};eU.aih=function(W,q){var X=0,k=[];while(X+1<W.length){var B=W[X];
X++;if(B>127){B+=128*(W[X]-1);X++;if(W[X-1]>127){B+=128*(W[X]-1);X++}}var U=W[X];X++;k.push(B,U)}return k};
eU.apH=function(W,q,X,k){var B=eU,U=0,Y=0,a=0;for(var N=0;N<k.length;N++){var l=k.charCodeAt(N),K=1473<=l&&l<=1479||1488<=l&&l<=1514||1520<=l&&l<=1524,D=1569<=l&&l<=1594||1600<=l&&l<=1749;
if(K||D)U++}var m=U>k.length/2;for(var N=0;N<q.length;N+=2){var p=q[N],G=14,d="DejaVuSans";if(p==0)continue;
var M=q[N+1],x=X[M],R=gZ.J0(W,Y,Y+p-1),y=x.NSColor;if(y==null){var y=x.MSAttributedStringColorDictionaryAttribute;
if(y==null)y=x.MSAttributedStringColorAttribute;if(y==null)y="0 0 0";else y=[y.red,y.green,y.blue].join(" ")}else if(B.uH(y)=="MSArchivedColor")y=y.dr+" "+y.dg+" "+y.db;
else if(y.NSRGB){y=y.NSRGB;y=Z.zD(y,0,y.length-1)}else if(y.NSCMYK){y=y.NSCMYK;y=Z.zD(y,0,y.length-1);
y=y.split(" ").map(parseFloat);var s=1-y[0],F=1-y[1],E=1-y[2],o=1-y[3];y=s*o+" "+F*o+" "+E*o}else if(y.NSWhite){y="1 1 1"}y=y.split(" ");
R.n6.FillColor={Type:1,Values:[1,parseFloat(y[0]),parseFloat(y[1]),parseFloat(y[2])]};var u=x.MSAttributedStringFontAttribute;
if(x.NSFont){G=x.NSFont.NSSize;d=x.NSFont.NSName}else if(u){if(u.attributes){u=u.attributes;G=u.size;
d=u.name}else{var r=u.NSFontDescriptorAttributes;if(r==null)r=u.UIFontDescriptorAttributes;u=r;G=u.NSFontSizeAttribute;
d=u.NSFontNameAttribute}if(d==null)d="DejaVuSans"}var a=Math.max(a,G);R.n6.FontSize=Math.round(G);gZ.j_(R,d);
var v=x.NSKern;if(v==null)v=x.kerning;if(v!=null)R.n6.Tracking=Math.round(1e3*v/G);if(x.NSUnderline!=null)R.n6.Underline=x.NSUnderline>0;
var c=x.NSStrikethrough;if(c==null)c=x.strikethroughStyle;if(c!=null)R.n6.Strikethrough=c>0;if(x.MSAttributedStringTextTransformAttribute==1)R.n6.FontCaps=2;
var V=x.NSParagraphStyle;if(V==null)V=x.paragraphStyle;if(V){var j=V.paragraphSpacing;if(j!=null){R.D8.SpaceAfter=j}var Q=V.NSAlignment;
if(Q==null)Q=V.alignment;if(Q!=null){var H=0;if(!1){}else if(Q==1)H=1;else if(Q==2)H=2;else if(Q==4)H=0;
else{H=Q;console.log("unknown align",Q)}if(m&&H<2)H=1-H;R.D8.Justification=H}var T=V.NSMinLineHeight;
if(T==null)T=V.minimumLineHeight;if(T!=null){R.n6.AutoLeading=!1;R.n6.Leading=T}}R.D8._Direction=m?1:0;
gZ.oM(W,Y,Y+p,R);Y+=p}return a};eU.aJ3=function(W,q,X,k,B,U,l){var K=eU,D=JSON.parse(kE.default),m=!1;
for(var N=0;N<kE.order.length;N++)D[kE.m1[N]]={t:"VlLs",v:[]};var Y=X.fills,a=K.aoA(W,Y,k,B,U,q);for(var p=0;
p<2;p++){var M=X[["shadows","innerShadows"][p]];if(M==null)continue;var x=["DrSh","IrSh"][p],R=kE.m1[kE.order.indexOf(x)];
for(var N=0;N<M.length;N++){var y=M[N];if(!y.isEnabled)continue;var s=y.contextSettings;if(s&&s.opacity==0||y.color.alpha==0)continue;
var F=JSON.parse(kE.iv[kE.order.indexOf(x)]);D[R].v.unshift({t:"Objc",v:F});m=!0;F.Clr.v=K.Hj(y.color);
F.blur.v.val=Math.round(y.blurRadius/B.Lr());var E=B.P();E.Wy=E.rY=0;E.i5();var o=E.Bb(new hw(y.offsetX,y.offsetY)),G=Math.sqrt(o.x*o.x+o.y*o.y);
F.Dstn.v.val=Math.round(G);F.lagl.v.val=Math.round(Math.atan2(o.y,-o.x)*(180/Math.PI));if(F.layerConceals)F.layerConceals.v=a.length!=0;
K.Mf(y,F)}}var d=X.borders;if(d!=null&&(a.length==0||X.blur==null||!X.blur.isEnabled))for(var N=0;N<d.length;
N++){var u=d[N];if(!u.isEnabled)continue;var F=JSON.parse(kE.iv[kE.order.indexOf("FrFX")]),R=kE.m1[kE.order.indexOf("FrFX")];
D[R].v.unshift({t:"Objc",v:F});m=!0;F.Clr.v=K.Hj(u.color);if(u.fillType!=0&&u.gradient){var r=K.acu(u.gradient,k,B,U),v=["Type","Angl","Ofst","Scl"];
for(var N=0;N<v.length;N++)F[v[N]]=r[v[N]];F.Grad.v=r.Grad.v;F.PntT.v.FrFl="GrFl"}F.Sz.v.val=Math.round(u.thickness/B.Lr());
F.Styl.v.FStl=["CtrF","InsF","OutF"][u.position];K.Mf(u,F)}for(var N=l?1:0;N<a.length;N++){var c=a[N],R=kE.m1[kE.order.indexOf(c.I)];
D[R].v.unshift(c._);m=!0}return m?D:null};eU.aoA=function(W,q,X,k,B,U,l){if(q==null)return[];var K=eU,D=[];
for(var N=0;N<q.length;N++)if(q[N].isEnabled)D.push(q[N]);q=D;var m=[];for(var N=0;N<q.length;N++){var Y=q[N],a=null,p=null;
if(Y.fillType==0){a="SoFi";var M=JSON.parse(kE.iv[kE.order.indexOf("SoFi")]);p={t:"Objc",v:M};p.v.Clr.v=K.Hj(Y.color)}else if(Y.fillType==1){a="GrFl";
p={t:"Objc",v:K.acu(Y.gradient,X,k,B)}}else if(Y.fillType==4&&Y.image!=null){var x=Y.image;if(l)x=l.value;
var R=lf.pP(x.bdata.buffer);if(R=="fpng")R="png";if(R!=null&&R!="pdf"&&R!="eps"){var y,G=0,d=0,u=0;if(U.Ed[x.key])y=U.Ed[x.key];
else{var s={data:new ArrayBuffer(4),oq:new dU(0,0,1,1)};try{s=lf.c_(R).Vp(x.bdata)[0]}catch(bu){}y={};
y.id=ey.Gk()+"-d71c-11e5-b1ae-a548a96e5f9f";y.name="someImage";y.CH=[new Uint8Array(s.data),s.oq];U.cB(y);
U.Ed[x.key]=y}var F=y.CH[1],M=JSON.parse(kE.iv[kE.order.indexOf("patternFill")]);a="patternFill";p={t:"Objc",v:M};
var E=Y.patternFillType,o=Y.patternTileScale;M.Algn.v=!0;M.Ptrn.v.Idnt.v=y.id;if(E==0){G=o*F.r/Math.min(F.r,F.$);
d=-k.Wy;u=-k.rY}else{G=Math.max(X.r/F.r,X.$/F.$);d=-k.Wy-(F.r*G-X.r)/2;u=-k.rY-(F.$*G-X.$)/2}M.Scl.v.val=100*G*(1/k.Lr());
M.phase.v.Hrzn.v=Math.round(d/k.Lr());M.phase.v.Vrtc.v=Math.round(u/k.Lr())}}else if(Y.fillType==5){console.log("fill type Noise not supported yet")}else console.log("unknown fill type",Y.fillType);
if(a!=null){K.Mf(Y,p.v);m.push({I:a,_:p})}}return m};eU.a61=function(W){var q=eU,X=new dU(0,0,1,1);W=W.slice(0);
while(!0){var k=!1;for(var N=0;N<W.length-1;N++){var B=W[N],U=W[N+1],l=null,K=B.contextSettings;if(B.fillType==0&&(K==null||K.opacity==1&&K.blendMode==0)&&B.color.alpha==1){var D="norm",m=1,K=U.contextSettings;
if(K){m=K.opacity;D=jm.U3(q.eE[K.blendMode])}if(U.fillType==0){l=g.N(U);q.amP(l.color,B.color,l.color,X,D,m)}if(U.fillType==1){l=g.N(U);
var Y=l.gradient.stops;for(var a=0;a<Y.length;a++)q.amP(Y[a].color,B.color,Y[a].color,X,D,m)}if(l!=null&&l.contextSettings){var K=l.contextSettings;
K.opacity=1;K.blendMode=0}}if(l!=null){W.splice(N,0,l);k=!0;break}}if(!k||W.length<2)break}return W};
eU.amP=function(W,q,X,k,B,U){var l=eU,K=g.j(4);l.ak7(W,K);var D=g.j(4);l.ak7(q,D);g.v.HX(B,K,k,D,k,k,U);
l.avc(D,X)};eU.ak7=function(W,q){q[0]=255*W.red;q[1]=255*W.green;q[2]=255*W.blue;q[3]=255*W.alpha};eU.avc=function(W,q){q.red=W[0]/255;
q.green=W[1]/255;q.blue=W[2]/255;q.alpha=W[3]/255};eU.aJz=function(W,q){W=W.P();W.Z9=24;W.YY("Mask by "+W.getName());
q.U.push(W);W.add.lsct=e5.B2;W.add.lyid=q.l1();delete W.add.lmfx;delete W.add.SoCo;delete W.add.GdFl;
delete W.add.PtFl;delete W.add.iOpa;if(W.add.vmsk)W.add.vmsk.Uf=!0;W.tw();W.Ae(q);if((W.Z9&16)==16)W.Z9-=16;
if((W.Z9&2)==2)W.Z9-=2;W.JY="pass";W.zO=255};eU.eE="Nrml Drkn Mltp CBrn Lghn Scrn CDdg Ovrl SftL HrdL Dfrn Xclu H Strt Clr Lmns linearBurn linearDodge".split(" ");
eU.acu=function(W,q,X,k){X=X.P();X.i5();X.Wy=X.rY=0;var B=X.Lr(),p=0,M=0;X.scale(1/B,1/B);var U=eU,l=JSON.parse(kE.iv[kE.order.indexOf("GrFl")]),K=l.Grad.v;
K.Intr.v=0;if(W==null)return l;var D=W.gradientType,m=U.lq(W.from),Y=U.lq(W.to);m.offset(-.5,-.5);Y.offset(-.5,-.5);
m=X.Bb(m);Y=X.Bb(Y);var a=Math.atan2(-(Y.y-m.y),Y.x-m.x);l.Type.v.GrdT=["Lnr","Rdl","Angl"][D];l.Scl.v.val=100*hw.tj(m,Y);
if(D==0){l.Angl.v.val=180/Math.PI*a;l.Scl.v.val=100*hw.tj(m,Y);p=(m.x+Y.x)/2;M=(m.y+Y.y)/2}if(D==1){l.Scl.v.val=200*hw.tj(m,Y);
p=m.x;M=m.y}if(D==2){l.Angl.v.val=180/Math.PI*(a-Math.PI/2)}var x=l.Ofst.v;x.Hrzn.v.val=p*100;x.Vrtc.v.val=M*100;
var R=[];for(var N=0;N<W.stops.length;N++){var y=W.stops[N],s=y.color;R.push([y.position,s?[s.red,s.green,s.blue]:[0,0,0],s.alpha])}g.ov.mi(R,K);
return l};eU.Mf=function(W,q){var X=eU,k=1,B=W.contextSettings;if(B!=null){q.Md.v.BlnM=X.eE[B.blendMode];
k*=B.opacity}else q.Md.v.BlnM=X.eE[0];q.enab.v=W.isEnabled;if(q.uglg!=null)q.uglg.v=!1;if(W.color!=null)k*=W.color.alpha;
q.Opct.v.val=Math.round(k*100)};eU.Hj=function(W){return g.ov.E2(W?{o:W.red*255,L:W.green*255,X:W.blue*255}:{o:0,L:0,X:0})};
eU.ot=function(W,q){var X=eU,k=[{I:6},{I:8,all:0}];for(var B=0;B<W.length;B++){var U=W[B],l=U.booleanOperation,K=0,D=U._class,x=!1;
if(D=="group"||D=="text"||D=="symbolInstance"||D=="slice"){console.log(D+" inside ShapeGroup");continue}if(l==-1)K=0;
else if(l==0)K=1;else if(l==1)K=2;else if(l==2)K=3;else if(l==3)K=0;if(B==0)K=1;var m=eU.Rc(U.frame),Y=X.avK(U,q),a=U.path?U.path:U,p=[{I:0,length:0,R3:K,HG:2,Wm:0,jA:0}],M=a.points;
for(var N=0;N<M.length;N++){var R=M[N],y=X.lq(R.curveTo),s=X.lq(R.point),F=X.lq(R.curveFrom);x=x||R.hasCurveFrom&&!F.AB(s)||R.hasCurveTo&&!y.AB(s)}var E=[];
if(!x){var o=[],a1=M.length;if(a1==0)continue;for(var N=0;N<a1;N++){E[N]=M[N].cornerRadius;var R=X.lq(M[N].point);
o.push(R.x,R.y)}Y.scale(1/m.r,1/m.$);Y.i5();g.b.M(o,Y,o);p=g.z.oz.XA(o,E).slice(2);p[0].R3=K}else{var G=M.length;
p[0].length=G;for(var N=0;N<G;N++){var R=M[N],d=R.curveMode,u=X.lq(R.point);p[1+N]={I:d==2||d==4?1:2,mp:R.hasCurveTo?X.lq(R.curveTo):u.P(),WL:u,ko:R.hasCurveFrom?X.lq(R.curveFrom):u.P()}}Y.scale(1/m.r,1/m.$);
Y.i5();g.z.Y9(p,Y);var E=[];for(var N=0;N<G;N++){var R=M[N],d=R.curveMode,r=R.cornerRadius;if(d==1&&r!=0)E.push(r);
else E.push(0)}}if(!a.isClosed)for(var N=0;N<p.length;N++)p[N].I+=3;k=k.concat(p);var v=X.uH(U);if(Y.X==0&&Y.bO==0){var c=Y.Wy,V=Y.rY,j=c+Y.iM,Q=V+Y.kv,H=[c,V,j,Q]}}return k};
eU.avK=function(W,q){var X=q.P(),k=W.frame?eU.Rc(W.frame):null;if(k)X.translate(-k.x-k.r/2,-k.y-k.$/2);
if(W.isFlippedHorizontal)X.scale(-1,1);if(W.isFlippedVertical)X.scale(1,-1);X.rotate(-W.rotation*(Math.PI/180));
if(k)X.translate(k.r/2,k.$/2);return X};eU.lq=function(W){W=W.slice(1,W.length-1).split(",");return new hw(parseFloat(W[0]),parseFloat(W[1]))};
eU.Rc=function(W){return new dU(W.x,W.y,W.width,W.height)};eU.ajc=function(W){return{_class:"rect",constrainProportions:!1,x:W.x,y:W.y,width:W.r,height:W.$}};
function kQ(){}kQ.WZ=function(W,q){var X=Date.now(),k=kQ,B=UZIP.parse(W),U=JSON.parse(Z._o(B.manifest)),l=JSON.parse(Z._o(B["resources/graphics/graphicContent.agc"])).resources,K=[],D=[],m=U.children;
for(var N=0;N<m.length;N++){var Y=m[N];if(Y.name=="artwork"){var a=Y.children;for(var p=0;p<a.length;
p++){var M=a[p],x=JSON.parse(Z._o(B["artwork/"+M.path+"/graphics/graphicContent.agc"])),R=x.children;
if(R.length==0){}else if(R.length==1){if(M["uxdesign#bounds"]){M._node=R[0];K.push(M)}}else{var y=R[0],s=y.transform,F=y.shape;
if(F==null)F={x:0,y:0,width:1e3,height:1e3};if(F.type=="path"){var E=g.b.DS(Typr.U.SVGToPath(F.path).crds);
F={x:E.x,y:E.y,width:E.r,height:E.$}}F=g.N(F);if(s){F.x+=s.tx;F.y+=s.ty}M["uxdesign#bounds"]=F;M._node={type:"artboard",artboard:{children:R}};
D.push(M)}}}}if(K.length==0)K=D;var o=[],G=new dU;for(var N=0;N<K.length;N++){var M=K[N],d=eU.Rc(M["uxdesign#bounds"]);
o.push(d);G=G.xw(d)}var u=eU.hi(G,8192*8192);q.Tr=!0;q.r=Math.round(G.r/u);q.$=Math.round(G.$/u);q.buffer=g.j(q.r*q.$*4);
q.GX(K.length);var r=new ka(u,0,0,u,G.x,G.y);q.Ed={};for(var N=0;N<K.length;N++){var M=K[N],d=eU.Rc(M["uxdesign#bounds"]),v=M._node,c=r.P(),V=d.P(),j=c.Lr();
c.translate(-d.x,-d.y);V.x=-Math.floor(c.Wy/j);V.y=-Math.floor(c.rY/j);V.r=Math.floor(V.r/j);V.$=Math.floor(V.$/j);
c.translate(d.x,d.y);kQ.X3(v,q,c,l,B,V);var Q=q.U[q.U.length-1];Q.YY(M.name);Q.VA(V);if(N!=K.length-1)Q.add.lsct=e5.Fn}delete q.Ed};
kQ.Lj=function(W){if(W==null)return new ka;return new ka(W.a,W.b,W.c,W.d,W.tx,W.ty)};kQ.X3=function(W,q,X,k,B,U){var l=kQ,K=W.type,D=W[K],m=W.style,Y=l.Lj(W.transform),x,R="none",y,s="none",F,E;
Y.i5();var a=X.P();a.concat(Y);var p=q.Sh(),M=W.name;p.YY(M?M.slice(0,250):"Layer");if(W.visible!=null)p.ZR(W.visible);
if(m){x=m.stroke;R=x?x.type:"none";y=m.fill;s=y?y.type:"none";if(y&&Object.keys(y).length==1)s="none";
F=m.filters;E=m.clipPath;if(E&&k.clipPaths[E.ref])E=k.clipPaths[E.ref].children;else E=null;if(m.opacity!=null)p.zO=Math.round(255*m.opacity);
if(s=="solid"&&y.color.alpha)p.zO=Math.round(p.zO*y.color.alpha);if(F){p.add.lmfx=l.aoY(F);for(var N=0;
N<F.length;N++)if(F[N].type=="uxdesign#blur"){var o=F[N],G=o.params,d=G.brightnessAmount;if(d==null)d=0;
d=Math.abs(d/100);if((o.visible==null||o.visible==!0)&&G.backgroundEffect)p.zO=Math.round(p.zO*(d+(1-d)*G.fillOpacity))}}if(s=="pattern"&&y.pattern.meta.ux.uid=="")s="none"}if(E==null&&W.meta&&W.meta.ux&&W.meta.ux.clipPathResources)E=W.meta.ux.clipPathResources.children;
if(K=="artboard"||K=="group"){if(E){var u=E[0],r=u.shape,v=r!=null&&r.type=="rect"&&r.width*r.height>4e6;
if(u.type!="text"&&!v){if(r){var Y=l.Lj(u.transform);Y.i5();var c=a.P();c.concat(Y);p.add.vmsk=new b.jY;
p.add.vmsk.G=l.ot(r);c=c.P();c.i5();g.z.Y9(p.add.vmsk.G,c);p.tw();p.Ae(q)}}else if(!v)alert("Clipping by text has been ignored")}p.add.lsct=e5.B2;
p.JY="pass";p.Z9=24;if(W.visible!=null)p.ZR(W.visible);q.U.push(q.rS());var V=D.children,j=y;if(j)j=j.color;
if(j)j=j.value;if(y){if(K=="artboard"&&s=="solid"){p.VA(new dU(0,0,10,10));p.add.artb.Clr={t:"Objc",v:g.ov.E2({o:j.r,L:j.g,X:j.b})};
p.add.artb.artboardBackgroundType={t:"long",v:4}}else{var Q=q.Sh();Q.YY("BACKGROUND");Q.Z9|=16;Q.add.vstk=kE.Cs.wy();
Q.add.vmsk=new b.jY;Q.add.vmsk.G=l.ot({type:"rect",x:U.x,y:U.y,width:U.r,height:U.$});l.Hq(y,s,a,U,U,Q,q,k,B);
Q.tw();Q.Ae(q);q.U.push(Q)}}for(var N=0;N<V.length;N++){kQ.X3(V[N],q,a,k,B,U)}}else if(K=="shape"&&(D.type=="rect"&&(D.r==null||D.r==0)||D.type=="path"&&UDOC.G.isBox(Typr.U.SVGToPath(D.path)))&&s=="pattern"&&(Math.abs(D.width/D.height-y.pattern.width/y.pattern.height)<.01||m.fill.pattern.meta.ux.scaleBehavior=="fill")){var H=y.pattern,T=H.meta.ux,z=T.uid,J=B["resources/"+z];
if(J==null){console.log(H);return}var P=q.ow(J,p.getName(),0,0);P.Z9=p.Z9;P.zO=p.zO;p=P;var L=g.z.Sa(l.ot(D),null),A=g.b.Lw(new dU(0,0,H.width,H.height)).n,h=new ka;
h.scale(H.width/L.r,H.height/L.$);if(T.offsetX)h.translate(-T.offsetX*H.width,0);if(T.offsetY)h.translate(0,-T.offsetY*H.height);
a.concat(h);a.i5();g.b.M(A,a,A);p.add.SoLd.Trnf=_.Gz.If(A);p.add.SoLd.nonAffineTransform=_.Gz.If(A);
p.uz(q,!1)}else if(K=="shape"){p.Z9|=16;p.add.vstk=kE.Cs.wy();p.add.vmsk=new b.jY;p.add.vmsk.G=l.ot(D);
var L=g.z.Sa(p.add.vmsk.G,null),c=a.P();c.i5();g.z.Y9(p.add.vmsk.G,c);var C=g.z.Sa(p.add.vmsk.G,null);
if(R=="none"){}else{var w=x.color.value,O,n;O="SoFi";var $=JSON.parse(kE.iv[kE.order.indexOf("SoFi")]);
n={t:"Objc",v:$};n.v.Clr.v=g.ov.E2({o:w.r,L:w.g,X:w.b});var d9=x.align,i=x.cap;if(d9==null)d9="center";
var dF=p.add.vstk;dF.strokeEnabled.v=!0;dF.strokeStyleLineWidth.v.val=x.width;if(d9)dF.strokeStyleLineAlignment.v.strokeStyleLineAlignment=kE.Cs.vi[["inside","center","outside"].indexOf(d9)];
if(i)dF.strokeStyleLineCapType.v.strokeStyleLineCapType=kE.Cs.LR[["butt","round","square"].indexOf(i)];
var t=["SoFi","GrFl","patternFill"].indexOf(O),im=[kE.nV,kE.N2,kE.W0][t];dF.strokeStyleContent.v={classID:kE.Cs.Y_[0]};
var bc=dF.strokeStyleContent.v={classID:kE.Cs.Y_[t]};for(var N=0;N<im.length;N++)bc[im[N]]=n.v[im[N]]}if(F)for(var N=0;
N<F.length;N++)if(F[N].type=="uxdesign#blur"&&F[N].visible){var at=F[N];p.add.vmsk.iE=at.params.blurAmount}l.Hq(y,s,a,L,C,p,q,k,B);
p.tw();p.Ae(q)}else if(K=="text"&&W.text){var l9=W.text,fF=l9.frame,g$=m.font,fR=m.textAttributes,Y=a.P(),eV=0;
Y.i5();p.add.lnsr="rend";p.add.TySh=gZ.nG(0,0);p.add.TySh.oJ=new dU(0,0,100,100);p.add.TySh.M=Y;var cr=p.add.TySh.FZ,eE=l9.rawText.replace(/\r/g,"\n").replace(/\u000b/g,"\n");
gZ.L3(cr,0,eE);if(eE!=""){var bQ=gZ.J0(cr,0,1),hT=g$.postscriptName;if(hT==null)hT=g$.family;gZ.j_(bQ,hT);
bQ.n6.FontSize=Math.round(g$.size);if(s=="solid"){var w=y.color.value;bQ.n6.FillColor={Type:1,Values:[1,w.r/255,w.g/255,w.b/255]}}if(fR){if(fR.paragraphAlign)bQ.D8.Justification=["left","right","center"].indexOf(fR.paragraphAlign);
if(fR.letterSpacing)bQ.n6.Tracking=Math.round(fR.letterSpacing);if(fR.lineHeight){bQ.n6.AutoLeading=!1;
bQ.n6.Leading=Math.round(fR.lineHeight)}}gZ.oM(cr,0,eE.length,bQ)}var df=W.meta.ux.rangedStyles;if(df)for(var N=0;
N<df.length;N++){var D=df[N],gU=Math.min(D.length,eE.length-eV);if(N==df.length-1)gU=eE.length-eV;var bQ=gZ.J0(cr,eV,eV+gU),hT=D.postscriptName;
if(hT==null)hT=D.family;if(hT!=null)gZ.j_(bQ,hT);var i8=D.textScript,bv=D.underline,fE=D.fontSize,o=D.fill,d5=D.textTransform;
if(i8&&i8!="none")bQ.n6.FontBaseline=i8=="superscript"?1:2;if(bv!=null)bQ.n6.Underline=bv;if(fE!=null)bQ.n6.FontSize=Math.round(fE);
if(d5!=null)bQ.n6.FontCaps=d5=="uppercase"?2:0;if(d5=="lowercase"){gZ.xo(cr,eV,eV+gU);gZ.L3(cr,eV,eE.slice(eV,eV+gU).toLowerCase())}if(o!=null){var aR=o.value;
bQ.n6.FillColor={Type:1,Values:[1,(aR>>>16&255)/255,(aR>>>8&255)/255,(aR>>>0&255)/255]}}gZ.oM(cr,eV,eV+gU,bQ);
eV+=gU}if(fF.type=="area"||fF.type=="autoHeight"){var l8=fF.width,au=fF.height;gZ.XM(cr,1);gZ.eR(cr,[0,0,l8,au!=null?au:l8*2])}}else if(K=="syncRef"){var hx=W.syncSourceGuid,fw=k.meta.ux.symbols,cx=l.TH(fw,hx);
if(cx){var fg=a.P();fg.concat(l.Lj(cx.transform));kQ.X3(cx,q,fg,k,B,U)}return}else console.log(K,W);
q.U.push(p)};kQ.TH=function(W,q){for(var N=0;N<W.length;N++){var X=W[N],k=X.group;if(X.id==q)return X;
if(k){var B=kQ.TH(k.children,q);if(B)return B}}return null};kQ.ot=function(W){var q=W.type,X=[{I:6},{I:8,all:0}];
if(q=="rect"){var k=W.r,B=W.x,U=W.y,l=W.width,K=W.height;X=g.z.oz.Rect(B,U,l,K,k?k:0)}else if(q=="circle"){var k=W.r;
X=g.z.oz.am(W.cx-k,W.cy-k,2*k,2*k)}else if(q=="ellipse"){var D=W.rx,m=W.ry;X=g.z.oz.am(W.cx-D,W.cy-m,2*D,2*m)}else if((q=="path"||q=="compound")&&W.path){var Y=Typr.U.SVGToPath(W.path);
X=g.b.gH({zb:Y.cmds,n:Y.crds},!1)}else if(q=="line"){var a=W.x1,p=W.x2,M=W.y1,x=W.y2;X=g.z.oz.XA([a,M,p,x],0,!0)}else if(q=="polygon"){var R=W.points,y=[];
for(var N=0;N<R.length;N++)y.push(R[N].x,R[N].y);X=X.concat(g.z.oz.XA(y,0,!1).slice(2))}else console.log(q,W);
return X};kQ.aoY=function(W){var q=JSON.parse(kE.default);for(var N=0;N<kE.order.length;N++)q[kE.m1[N]]={t:"VlLs",v:[]};
for(var N=0;N<W.length;N++){var X=W[N],k=X.type,B=X.params,U=X.visible;if(k=="dropShadow"){var l=kE.m1[kE.order.indexOf("DrSh")],K=JSON.parse(kE.iv[kE.order.indexOf("DrSh")]);
q[l].v.unshift({t:"Objc",v:K});var D=B.dropShadows;if(D.length!=1)throw"e";var m=D[0],Y=m.color,a=Y.value,p=m.dx,M=m.dy;
K.Clr.v=g.ov.E2({o:a.r,L:a.g,X:a.b});K.Opct.v.val=Math.round((Y.alpha!=null?Y.alpha:1)*100);K.uglg.v=!1;
K.enab.v=U!=null?U:!0;K.lagl.v.val=Math.round(180/Math.PI*Math.atan2(M,-p));K.Dstn.v.val=Math.round(Math.sqrt(p*p+M*M));
K.blur.v.val=Math.round(m.r*2.3)}}return q};kQ.Hq=function(W,q,X,k,B,U,l,K,D){var m=kQ;U.add.vstk.fillEnabled.v=q!="none";
if(q=="none"){U.add.SoCo={classID:"null",Clr:{t:"Objc",v:g.ov.E2({o:0,L:0,X:0})}}}else{var Y,a,p;if(q=="solid"){var M=W.color.value;
Y="SoCo";a=kE.nV;var x=JSON.parse(kE.iv[kE.order.indexOf("SoFi")]);p={t:"Objc",v:x};p.v.Clr.v=g.ov.E2({o:M.r,L:M.g,X:M.b})}else if(q=="gradient"){Y="GdFl";
a=kE.N2;var x=JSON.parse(kE.iv[kE.order.indexOf("GrFl")]),R=x.Grad.v,o,G,d;R.Intr.v=0;var y=W[q],s=y.ref?K.gradients[y.ref]:y.meta.ux.gradientResources,F=["linear","radial","angular"].indexOf(s.type),E=s.stops;
x.Type.v.GrdT=["Lnr","Rdl","Angl"][F];if(F==0){var o=new hw(y.x1,y.y1),G=new hw(y.x2,y.y2);o.x=G.x+.5*(o.x-G.x);
o.y=G.y+.5*(o.y-G.y)}else{var o=new hw(y.cx,y.cy),G=new hw(y.cx+y.r,y.cy)}d=B;if(y.units=="objectBoundingBox"){var u=new ka(k.r,0,0,k.$,k.x,k.y);
o=u.Bb(o);G=u.Bb(G)}var u=m.Lj(y.transform);o=u.Bb(o);G=u.Bb(G);u=X.P();u.i5();o=u.Bb(o);G=u.Bb(G);g.ov.Za(o,G,d,x);
var r=[];for(var N=0;N<E.length;N++){var v=E[N],c=v.color,M=c.value,V=c.alpha;if(V==null)V=1;r.push([v.offset,[M.r/255,M.g/255,M.b/255],V])}g.ov.mi(r,R);
p={t:"Objc",v:x}}else if(q=="pattern"){Y="PtFl";a=kE.W0;var x=JSON.parse(kE.iv[kE.order.indexOf("patternFill")]),L;
p={t:"Objc",v:x};var j=W[q],Q=j.meta.ux,H=Q.uid,T=D["resources/"+H].buffer,e=Q.flipX,z=Q.flipY,J=H+e+z,P=lf.pP(T);
if(l.Ed[J])L=l.Ed[J];else{var A=new dU(0,0,j.width,j.height),h;if(A.PM()||P==null){A=new dU(0,0,1,1);
h=new ArrayBuffer(4)}else{var C=lf.c_(P);if(C.MM){var w=new ey;C.Vp(T,w);h=w.OL().buffer}else{try{var O=C.Vp(T)[0];
h=O.data;A=O.oq}catch(bu){h=new ArrayBuffer(A.C()*4)}}}L={};L.id=ey.Gk()+"-d71c-11e5-b1ae-a548a96e5f9f";
L.name="someImage";L.CH=[new Uint8Array(h),A];if(e)g.F.z9(L.CH[0].slice(0),L.CH[0],A.r,A.$);if(z)g.F.a7e(L.CH[0].slice(0),L.CH[0],A.r,A.$);
l.cB(L);l.Ed[J]=L}var n=X.P();n.i5();n.translate(k.x,k.y);var $=k.r,d9=k.$,i=L.CH[1].r,dF=L.CH[1].$,t=Math.max($/i,d9/dF);
if(Q.scale)t*=Q.scale;var im=new ka;im.translate(-i/2,-dF/2);im.scale(1/i,1/dF);if(Q.offsetX!=null)im.translate(Q.offsetX,Q.offsetY);
im.scale(i,dF);im.scale(t,t);im.translate($/2,d9/2);im.concat(n);dx.a18(L,x,0,0,1e3,im)}else console.log(q);
if(Y!=null){U.add[Y]={classID:"null"};for(var N=0;N<a.length;N++){var bc=a[N];U.add[Y][bc]=p.v[bc]}}}};
function jS(){}jS.WZ=function(){var W=Z.qX,q=Z.P2,X=Z.Sm;function k(F,E){return Z.zD(F,E,4).split("").reverse().join("")}function B(F,E){return Z.zD(F,E,4)}function U(F,E){var o=new Uint8Array(F);
if(q(o,0)==759775571)l(F,E);else K(F,E)}function l(F,E){var o=new Uint8Array(F),G=0,d=Z.zD(o,G,16);G+=16;
if(d!="SAI-CANVAS-TYPE0")throw"e";var u=q(o,G);G+=4;var r=E.r=q(o,G);G+=4;var v=E.$=q(o,G);G+=4;var c=q(o,G);
G+=4;var V=q(o,G),j=q(o,G+4);G+=8;console.log(V,j);for(var N=0;N<4;N++)if(q(o,G+N*4)!=0)throw"e";G+=16;
if(q(o,G)!=4286611584)throw"e";G+=4;var Q=B(o,G);G+=4;if(Q!="norm"&&Q!="ver1")throw Q;var H=new Array(V),T={};
for(var e=0;e<V;e++){var z=B(o,G);G+=4;var d=q(o,G),J=q(o,G+4);G+=8;if(q(o,G)!=0)throw"e";G+=4;var P=q(o,G+8);
if(e==V-1)P=o.length;console.log(e,z,d,J,P-J);if(z=="layr"){var L=E.Sh();E.U.push(L);if(B(o,J)!=z)throw"e";
J+=4;var A=L.add.lyid=q(o,J);J+=4;if(A!=d)throw"e";if(q(o,J)!=0&&q(o,J+4)!=0)throw"e";J+=8;var h=B(o,J);
J+=4;var C=Y(o,J);J+=16;var w=q(o,J),f=q(o,J+4);J+=8;var O=B(o,J);J+=4;L.zO=Math.round(255*q(o,J)/100);
J+=4;var n=q(o,J);J+=4;T[d]=[L,f];while(!0){if(q(o,J)==0)break;var z=B(o,J);J+=4;var $=q(o,J);J+=4;if(z=="name")L.YY(Z.gq(o,J+2,X(o,J)));
else console.log(z,$);J+=$}if(J+4!=P)throw"e";console.log(w,f,n.toString(16),C,L.getName())}else if(z=="lpix"||z=="intg"){var d9=B(o,J),i,dF,f,bc=0;
J+=4;if(d9!="dpcm"&&d9!="\0\0\0\0")throw d9;if(z=="intg"){dF=new dU(0,0,E.r,E.$);i=E.buffer=g.j(dF.C()*4);
f=Math.ceil(E.r/256)*Math.ceil(E.$/256)}else{var t=T[d],L=t[0];f=t[1];dF=L.S=new dU(0,0,256,256);i=L.buffer=g.j(dF.C()*4)}i.fill(255);
var im=g.j(256*256),at=J+f*4;for(var N=0;N<f;N++){var l9=q(o,J);J+=4;if(N==0)dI.be(o,at+bc+4,l9,im,0);
bc+=l9}if(z=="lpix")g.LO(im,i)}}}function K(F,E){M(F);var o=a(new Uint8Array(F),2,0),G=o.canvas;E.r=q(G,4);
E.$=q(G,8);E.mC=q(G,22);var d=o.layers,u=[],r={};for(var v in d){var c=d[v],V=0,j=q(c,V);V+=4;var Q=E.Sh(),H={dF:Q,pv:j==8?[]:null},T=Q.add.lyid=q(c,V);
V+=4;r[T]=H;var e=Q.S=Y(c,V);V+=16;Q.S.offset(-8,-8);if(q(c,V)!=0)throw"e";V+=4;Q.zO=Math.round(255*c[V]/100);
V++;Q.ZR(c[V]==1);V++;Q.buffer=g.j(e.C()*4);var z=c[V];V++;if(j!=8)Q.Oa=c[V]==1;V++;if(c[V]!=0)throw"e";
V++;var J=k(c,V);V+=4;var P={"add ":"lddg","sub ":"lbrn",adsb:"lLit",cbin:"norm"}[J];Q.JY=P?P:J;var L={};
V=m(c,V,L);Q.YY(L.name);var A=L.pfid;if(A!=null)r[A].pv.push(H);else u.push(H);if(j==8){Q.add.lsct=L.fopn?e5.B2:e5.Fn;
Q.JY="pass";Q.Z9=24;continue}var h=Math.ceil(e.r/32),C=Math.ceil(e.$/32),w=V;V+=h*C;var f=new dU(0,0,32,32),O=g.j(f.C()*4),n=g.j(f.C()),$=e.P();
$.x=$.y=0;for(var d9=0;d9<C;d9++){for(var i=0;i<h;i++){if(c[w+d9*h+i]==1){for(var dF=0;dF<8;dF++){var t=X(c,V);
V+=2;dI.be(c,V,t,n,0);V+=t;if(dF<4)g.fP(n,O,dF==3?3:2-dF)}f.x=i*32;f.y=d9*32;g.dU(O);g.YE(O,f,Q.buffer,$)}}}if(V!=c.length)throw"e"}D(u,E)}function D(F,E){for(var N=0;
N<F.length;N++){var o=F[N];if(o.pv){E.U.push(E.rS());D(o.pv,E)}E.U.push(o.dF)}}function m(F,E,o){while(E<F.length){var G=k(F,E),u=null;
E+=4;if(q(F,E-4)==0)break;var d=q(F,E);E+=4;if(G=="name"){var r=E;while(F[r]!=0)r++;u=Z.zD(F,E,r-E)}else if(G=="lorg")u=[W(F,E),W(F,E+4)];
else if(G=="pfid")u=q(F,E);else if(G=="fopn")u=F[E]==1;else u=F.slice(E,E+d);o[G]=u;E+=d}return E}function Y(F,E){return new dU(W(F,E),W(F,E+4),W(F,E+8),W(F,E+12))}function a(F,E,o){var G=new Uint8Array(F.buffer,E*4096,4096),d={},q=Z.P2;
for(var u=0;u<64;u++){var r=u*64,v=q(G,r);r+=4;if(v==0)continue;var c=r;while(G[c]!=0)c++;var V=Z.zD(G,r,c-r);
r+=32;var j=G[r+2];r+=4;var Q=q(G,r);r+=4;var H=q(G,r);r+=4;r+=8;if(j==16)d[V]=a(F,Q,o+1);else d[V]=p(F,Q,H,o+1)}return d}function p(F,E,o,G){var d=new Uint8Array(o),u=0;
while(u<o){var r=new Uint8Array(F.buffer,E*4096,Math.min(4096,o-u));d.set(r,u);u+=4096;var v=E&511;E=q(F,(E-v)*4096+v*8+4)}return d}function M(F){var E=F.byteLength>>>12,o=null;
for(var G=0;G<E;G++){var d=G&511,u=new Uint32Array(F,G*4096,1024);if(d==0){x(G>>>9,u);o=u}else{R(o[d*2],u)}}}function x(F,E){for(var N=0;
N<1024;N++){var o=E[N],G=o^y(F);E[N]=G<<16|G>>>16;F=o}}function R(F,E){for(var N=0;N<1024;N++){var o=E[N];
E[N]=o-y(F);F=o}}function y(F){return F^s[F>>24&255]+s[F>>16&255]+s[F>>8&255]+s[F&255]}var s=[2568213150,2213907773,3502118182,2252615351,2126945275,2312593252,4216435257,4278811734,2718363422,2537383565,3280172813,481610987,922161291,1077111757,2228298685,2951699955,2419222343,3422529757,632899331,3620054202,3825866656,3940214514,1802732112,1995240010,1864845004,2616811044,516581573,3877394729,2014831980,798606449,962212537,1631814467,1581141896,2158572332,410633887,2047071060,317232928,4185932942,56898934,2520522107,3152871894,3306333873,1372277035,1153097417,3000323009,1316759699,355584419,1134767269,1437751943,1893333625,4015737571,2330457237,2453308677,496133388,3377109596,668252948,326281719,203007998,1694112339,4053986157,2683015439,1289817166,545412609,2113706180,2688993288,2391861182,1612571479,4083217276,13463415,3429546452,617369208,2870873084,1787544965,4252019696,3567735393,448747572,1172110871,1600643382,2492455189,1705877237,2175475945,3547246402,259999175,464417497,3188812486,3747132629,1057723918,3261153176,2959472816,1650063733,3298487940,695306595,191731997,164592183,1764388344,1740016386,772856770,1815406908,2823508129,2893004987,1554389068,887382403,1119058345,2038971062,141887777,900672281,4155148394,1240629715,2708897881,341216509,2335581686,1041968541,4128117966,290924298,3680272051,1938426618,432163045,1494007138,2067251986,4227903816,3624455943,3602717826,3176198616,2447287224,4203131712,4125043328,2591812206,388020465,3985941867,3204628008,222404520,121327036,2191405380,43992033,1910953247,2839027465,1479570912,3818444681,4041412870,1963409077,1459914302,1861289019,3158343475,2377972517,2288815906,1525996922,753584693,2412341724,2646136500,3328105519,3859780374,176443802,975781905,3706914367,1096947235,579647323,686412134,2925730687,114868839,3664329876,1420159072,2082566388,4074935499,1534566649,3105170086,3964966144,282949799,941876312,2010342234,26095721,3761885269,3586343359,2619605226,2243994065,1711643782,68615962,3799909832,2979810349,4266521999,3538996778,853545920,4007016407,3925787112,2760445386,4095214355,1922134924,3786429346,2550212222,765549531,2915359311,3482702964,3223738241,522349805,2806458706,1012859507,3243424360,3714511003,2479353295,1326740484,831734365,649426570,241711918,2502942512,711700038,2740294256,3078740119,3947809617,3729340749,1212113564,559121502,3020776674,1205538512,808291915,1274548831,735228076,1036531436,3347519845,3058457822,2661858343,3515167888,994241647,1671757201,2854788376,1294671433,3097518253,3052849049,1830780188,3129846502,3843690435,3645411559,377353938,2275134785,1352051739,95204826,928851182,2133767850,2771777336,3402673424,4165299770,603804818,3010745650,1405198962,1184759007,3902259069,2797331118,1758345391,1568161035,1380917732,1243970353,3464103858,1445781573,867633316,2364443375,3371921919,1961177003,3450963862];
return U}();var jH=function(){function W(s){return s.tagName?s.tagName.split(":").pop():null}function q(s,F,E){if(E&&E[0]==null)E=null;
s=new Uint8Array(s);var o,L=1;if(s[0]==255&&s[1]==254)o=Z.gq(s,2,(s.length>>>1)-1);else o=Z._o(s,0,s.length);
var G=new DOMParser,d=G.parseFromString(o,"image/svg+xml"),u=d.getElementsByTagName("style")[0];if(u)u=Typr.U.SVG.cssMap(u.textContent);
else u={};var r=d.firstChild;while(W(r)!="svg")r=r.nextSibling;var v=new dU(0,0,100,100),c=r.getAttribute("viewBox"),V=r.getAttribute("width"),j=r.getAttribute("height"),Q=V!=null?parseFloat(V):parseFloat(j),H=j!=null?parseFloat(j):parseFloat(V);
if(c){var T=X(c);v.x=T[0];v.y=T[1];v.r=T[2];v.$=T[3];if(V!=null){var e=T[2]/T[3],z=Q/H;if(z>e){var J=T[3]*z-v.r;
v.x-=J/2;v.r+=J}if(z<e){var P=T[2]/z-v.$;v.y-=P/2;v.$+=P}}}else if(V!=null||j!=null){v.r=Q;v.$=H}v=g.b.V5(v);
while(E&&Math.max(v.r*L,v.$*L)<Math.max(E[0],E[1]))L++;while(E==null&&Math.max(v.r,v.$)*L>8192)L*=.5;
F.Tr=!0;F.r=~~(v.r*L);F.$=Math.abs(~~(v.$*L));var A=new ka(L,0,0,L,-v.x*L,-v.y*L),h={NF:p(r),atr:u,jV:0};
k(d,r.children,F,A,h,new ka,0);if(F.U.length==0){var C=F.Sh();C.YY("Layer");F.U.push(C)}}function X(s){var F=" ";
if(s.indexOf(",")!=-1)F=",";return s.split(F).map(parseFloat)}function k(s,F,E,o,G,d,u,r){var v=["display","opacity","fill-opacity","filter","clip-path"],c=0;
for(var V=0;V<F.length;V++){var j=F[V],Q=W(j),H=j.getAttribute("id"),z=13,h=1,f="clip-path",O=null,bQ=0;
if(H==null)H=j.getAttribute("data-name");var T=p(j,G.atr);for(var e in G.NF)if((v.indexOf(e)==-1||r)&&T[e]==null)T[e]=G.NF[e];
if(T["font-size"])z=K(T["font-size"],z);var J=m(j);if(j.getAttribute("dx"))J.Wy+=K(j.getAttribute("dx"),z);
if(j.getAttribute("dy"))J.rY+=K(j.getAttribute("dy"),z);J.concat(o);var P=j.getAttribute("visibility"),L=T.display,A=E.Sh();
if(P=="hidden"||L=="none")A.ZR(!1);A.YY(H!=null?H.split(":::")[0]:"Layer");if(T.opacity)h*=parseFloat(T.opacity);
if(T["fill-opacity"]){var C=parseFloat(T["fill-opacity"]);if(C!=0)h*=C}A.zO=Math.round(255*h);if(T["mix-blend-mode"]){var w=jm.at.indexOf(T["mix-blend-mode"]);
if(w!=-1)A.JY=jm.eB[w]}if(j.getAttribute(f)==null)f="mask";if(j.getAttribute(f)!=null||T["clip-path"]){var n=j.getAttribute(f);
if(n==null)n=T["clip-path"];n=n.slice(4,n.length-1);var $=s.getElementById(n.slice(1)),d9=$?$.children:null,i=$&&$.tagName=="mask"&&d9[0]&&d9[0].tagName=="g";
if(i){var dF=d9[0].children[0];i=dF&&dF.tagName=="g"&&dF.children[0]&&dF.children[0].tagName=="image"}if(i){var t=d9[0].children[0],im=m(t);
im.concat(J);var bc=t.children[0];console.log(bc);var at=B(E,bc,im),l9=G.c6=new b.pj;l9.S=at.S;l9.c=g.j(l9.S.C());
g.u6(at.buffer,l9.c,0)}else if($){O=E.Sh();O.YY("Clip-Path"+(H?": "+H:""));O.add.lsct=u<2?e5.B2:e5.Fn;
O.JY="pass";O.Z9=24;var fF=O.add.vmsk=new b.jY;E.U.push(E.rS());var g$=[];if($.getAttribute(f)){var n=$.getAttribute(f);
n=n.slice(4,n.length-1);g$=s.getElementById(n.slice(1)).children}for(var N=0;N<d9.length;N++){var fR=m(d9[N]);
fR.concat(J);var cr=l(E,s,d9[N],!1).slice(2);g.z.Y9(cr,fR);fF.G=fF.G.concat(cr)}for(var N=0;N<g$.length;
N++){var fR=m(d9[N]);fR.concat(J);var cr=l(E,s,g$[N],!1).slice(2);for(var eE=0;eE<cr.length;eE++)if(cr[N].R3!=null)cr[N].R3=3;
g.z.Y9(cr,fR);fF.G=fF.G.concat(cr)}for(var N=0;N<fF.G.length;N++)if(fF.G[N].R3!=null)fF.G[N].R3=0;O.tw();
O.Ae(E);u++}}if(T.filter&&T.filter!="none"){var hT=T.filter,eV,gU,i8,fE=!1,d5=!1,aR=!1;hT=hT.slice(5,hT.length-1);
var df=s.getElementById(hT),bv=[0,0,0,.5],l8=J.Lr();if(df)for(var N=0;N<df.children.length;N++){var au=df.children[N],hx=W(au);
if(hx=="feGaussianBlur"){fE=!0;eV=parseFloat(au.getAttribute("stdDeviation"))*l8}if(hx=="feColorMatrix"){var fw=au.getAttribute("values");
if(fw){fw=fw.split(" ").map(parseFloat);bv=[fw[4],fw[9],fw[14],fw[18]]}}if(hx=="feComposite"){aR=!0}if(hx=="feOffset"){d5=!0;
var cx=au.getAttribute("dx"),fg=au.getAttribute("dy");gU=parseFloat(cx?cx:0)*l8;i8=parseFloat(fg?fg:0)*l8}}if(fE&&(aR||d5)){var iI=aR?"IrSh":"DrSh",eq=JSON.parse(kE.iv[kE.order.indexOf(iI)]);
eq.blur.v.val=Math.round(eV*2.4);var fS=Math.sqrt(gU*gU+i8*i8);eq.uglg.v=!1;eq.Dstn.v.val=Math.round(fS);
eq.lagl.v.val=Math.round(Math.atan2(i8,-gU)*(180/Math.PI));eq.Clr.v=g.ov.E2({o:bv[0]*255,L:bv[1]*255,X:bv[2]*255});
eq.Opct.v.val=Math.round(bv[3]*100);U(A,kE.m1[kE.order.indexOf(iI)],eq)}else if(fE)bQ=eV}if(Q=="g"||Q=="a"||Q=="svg"||Q=="switch"||(Q=="text"||Q=="textPath")&&j.children.length>0||Q=="symbol"&&r){if(Q=="text")d=Y(j,d);
var f1=j.getAttribute("viewBox"),c4=j.getAttribute("width"),ea=j.getAttribute("height");if(Q=="svg"&&c4&&ea&&f1==null)f1="0 0 "+c4+" "+ea;
if(f1&&c4&&ea){var ie=X(f1),i$=Y(j),cI=new ka;cI.translate(-ie[0],-ie[1]);cI.scale(parseFloat(c4)/ie[2],parseFloat(ea)/ie[3]);
cI.translate(i$.Wy,i$.rY);cI.concat(J);J=cI}var cD=j.children.length,fG=G.NF;G.NF=T;var cH=G.jV;G.jV=Math.max(G.jV,bQ);
var hL=Q!="text"&&Q!="textPath"||cD>1;if(hL){var ee=A.P$();A.add.lsct=u<2&&ee&&(H==null||!H.endsWith(":::"))?e5.B2:e5.Fn;
A.JY="pass";A.Z9=24;A.ZR(ee);E.U.push(E.rS())}k(s,j.children,E,J,G,d,u+1);if(hL)E.U.push(A);else{var aj=E.U[E.U.length-1];
aj.zO=A.zO;aj.JY=A.JY}G.jV=cH;G.NF=fG}else if(Q=="use"){var cI=Y(j);cI.concat(J);var iA=x(j),eL=s.getElementById(iA.slice(1));
if(eL){var fG=G.NF;G.NF=T;if(T.filter)eL.setAttribute("filter",T.filter);k(s,[eL],E,cI,G,d,u+1,!0);G.NF=fG}}else if(Q=="path"||Q=="rect"||Q=="circle"||Q=="ellipse"||Q=="polygon"||Q=="polyline"||Q=="line"){A.Z9|=16;
var fF=A.add.vmsk=new b.jY,hZ=T.fill,bZ=hZ=="none"||T["fill-opacity"]&&parseFloat(T["fill-opacity"])==0,k_=T["fill-rule"]=="evenodd"?1:0;
fF.G=l(E,s,j,k_==1,bZ);fF.HG=k_;g.z.Y9(fF.G,J);var kW=T.stroke,iU=T["stroke-width"],kO=T["stroke-dasharray"],hq=T["stroke-linejoin"];
if(hq==null)hq="miter";var e8=T["stroke-linecap"];if(e8==null)e8="butt";var gi=T["stroke-miterlimit"];
if(gi==null)gi=4;else gi=parseFloat(gi);var jZ=T["paint-order"],cg=!(kW==null||kW=="none"||kW=="null"),hn=A.add.vstk=kE.Cs.wy(null,cg),bF=T["stroke-opacity"]?parseFloat(T["stroke-opacity"]):1;
if(cg){var gf=D(s,kW,J,fF.G,E),eH=["SoFi","GrFl","patternFill"].indexOf(gf.I),h5=gf._.v.Opct.v,iy=1;
if(h5.val!=100||bF!=1&&bZ){A.zO=Math.round(bF*A.zO*h5.val/100);h5.val=100;bF=1}var gS=[kE.nV,kE.N2,kE.W0][eH],hP=hn.strokeStyleContent.v={classID:kE.Cs.Y_[eH]};
for(var N=0;N<gS.length;N++)hP[gS[N]]=gf._.v[gS[N]];iU=iU?parseFloat(iU):1;if(jZ&&jZ.replace(/\s\s+/g," ").slice(0,11)=="stroke fill"){iy=2;
iU/=2}var cs={WA:["miter","round","bevel"].indexOf(hq),VT:["butt","round","square"].indexOf(e8),A4:iU,Mj:gi};
if(kO!=null&&kO!="none")cs.Vt=kO.split(",").map(parseFloat);kE.Cs.write(hn,cs,J.Lr());hn.strokeStyleLineAlignment.v.strokeStyleLineAlignment=kE.Cs.vi[iy];
hn.strokeStyleOpacity.v.val=100*bF;if(gf.jg)A.add._sstl=gf.jg}A.add.vstk.fillEnabled.v=!bZ;if(bZ){A.add.SoCo={classID:"null",Clr:{t:"Objc",v:g.ov.E2({o:0,L:0,X:0})}}}else{var gf=D(s,hZ,J,fF.G,E),fH=null,fM=null;
if(gf.I=="SoFi"){fH="SoCo";fM=kE.nV}if(gf.I=="GrFl"){fH="GdFl";fM=kE.N2}if(gf.I=="patternFill"){fH="PtFl";
fM=kE.W0}if(fH!=null){var h5=gf._.v.Opct.v;if(h5.val!=100){A.zO=Math.round(A.zO*h5.val/100);h5.val=100}A.add[fH]={classID:"null"};
for(var N=0;N<fM.length;N++){var e=fM[N];A.add[fH][e]=gf._.v[e]}}if(gf.jg)A.add._fstl=gf.jg}var az=Math.max(bQ,G.jV);
if(az!=0)A.add.vmsk.iE=az;A.tw();A.Ae(E);E.U.push(A)}else if((Q=="text"||Q=="tspan")&&j.textContent!=""){d=Y(j,d);
var cI=d.P(),i8=0;cI.concat(J);if(Q=="tspan"&&d.x!=0){}else cI.translate(c,0);if(j.children.length>0){var er=p(j.children[0],G.atr);
for(var e in er)if(v.indexOf(e)==-1)T[e]=er[e]}var aJ=T["xml:space"],kS=j.textContent;if(aJ=="preserve")kS=kS.replace(/\t/g," ").replace(/\n/g," ");
if(H==null)A.YY(kS);A.add.lnsr="rend";A.add.TySh=gZ.nG(0,0);A.add.TySh.oJ=new dU(0,0,100,100);A.add.TySh.M=cI.P();
var ge=A.add.TySh.FZ;gZ.L3(ge,0,kS);if(Q=="tspan")c+=z*kS.length*.5*cI.Lr();var hZ=T.fill,aT=T["font-weight"],fQ=T["font-family"],j6=T["text-decoration"],kW=T.stroke,iU=T["stroke-width"],et=T["dominant-baseline"];
if(et=="text-before-edge")i8=z;else if(et=="middle")i8=z/2;else if(et=="hanging")i8=z;if(i8!=0)A.add.TySh.M.translate(0,i8);
var d2=gZ.J0(ge,0,1);if(hZ&&hZ!="none"){var bv=CSS.Hj(hZ);d2.n6.FillColor={Type:1,Values:[1,bv.o/255,bv.L/255,bv.X/255]}}if(j6=="underline")d2.n6.Underline=!0;
d2.n6.FontSize=Math.round(z);gZ.j_(d2,"LiberationSans");if(aT=="bold")gZ.j_(d2,"LiberationSans-Bold");
if(fQ){fQ=fQ.split(",")[0].trim();if(fQ[0]=="\"")fQ=fQ.slice(1);if(fQ[fQ.length-1]=="\"")fQ=fQ.slice(0,fQ.length-1);
var kx=fQ+":"+(aT?aT:"normal"),c2={"'DejaVu Sans':normal":"DejaVuSans","'DejaVu Sans':bold":"DejaVuSans-Bold","'Nimbus Sans L':normal":"NimbusSanL-Reg","'Nimbus Sans L':bold":"NimbusSanL-Bol","Libre Franklin:300":"LibreFranklin-Light","Libre Franklin:400":"LibreFranklin-Regular","Libre Franklin:500":"LibreFranklin-Medium","Libre Franklin:600":"LibreFranklin-SemiBold","Libre Franklin:700":"LibreFranklin-Bold","Source Sans Pro:normal":"SourceSansPro-Regular","Source Sans Pro:bold":"SourceSansPro-Bold"};
if(c2[kx])gZ.j_(d2,c2[kx]);else gZ.j_(d2,fQ)}if(T["text-anchor"])d2.D8.Justification=["start","end","middle"].indexOf(T["text-anchor"]);
gZ.oM(ge,0,kS.length,d2);if(kW==null||kW=="none"){}else{var eq=JSON.parse(kE.iv[kE.order.indexOf("FrFX")]);
eq.Clr.v=g.ov.E2(CSS.Hj(kW));eq.Sz.v.val=Math.round(parseFloat(iU)*cI.Lr());U(A,"frameFXMulti",eq)}E.U.push(A)}else if(Q=="image"){var at=B(E,j,J);
if(at){at.YY(A.getName());at.Z9=A.Z9;A=at;E.U.push(A);if(G.c6)A.BD=G.c6;G.c6=null}}else console.log("unknown tag: "+Q,j.children.length,j.textContent.length);
if(O!=null){E.U.push(O);u--}}}function B(s,F,E){var o=x(F);if(o&&o.slice(0,4)=="data"){var G=lf.zP(o),d=G,u=s.ow(d,"hey",0,0),r=u.S.P();
r.x=r.y=0;var v=F.getAttribute("width"),c=F.getAttribute("height");if(v)r.r=parseFloat(v);if(c)r.$=parseFloat(c);
var V=Y(F);V.concat(E);var j=g.b.Lw(r).n;g.b.M(j,V,j);u.add.SoLd.Trnf=_.Gz.If(j);u.add.SoLd.nonAffineTransform=_.Gz.If(j);
u.uz(s,!1);return u}}function U(s,F,E){var o=s.add.lmfx;if(o==null){var o=s.add.lmfx=JSON.parse(kE.default);
for(var N=0;N<kE.order.length;N++)o[kE.m1[N]]={t:"VlLs",v:[]}}o[F].v.push({t:"Objc",v:E})}function l(s,F,E,o,G){var d=[{I:6},{I:8,all:0}],u=W(E);
if(u=="use"){var r=x(E),v=F.getElementById(r.slice(1)),c=new ka;if(W(v)!="rect")c=Y(v);c.concat(m(v));
d=l(s,F,v,o,G);g.z.Y9(d,c)}else if(u=="path"){var V=E.getAttribute("d");if(V==null)return d;var j=Typr.U.SVGToPath(V);
d=g.b.gH({n:j.crds,zb:j.cmds},o,G);g.z.aDO(d,o)}else if(u=="rect"){var Q=E.getAttribute("rx"),H=new hw(0,0);
R("x",E,s,H,!0);R("y",E,s,H,!1);var T=new hw(0,0);R("width",E,s,T,!0);R("height",E,s,T,!1);d=g.z.oz.Rect(H.x,H.y,T.x,T.y,Q?parseFloat(Q):0)}else if(u=="circle"||u=="ellipse"){var e=[0,0,0,0],z=["cx","cy","rx","ry","r"];
for(var N=0;N<5;N++){var J=E.getAttribute(z[N]);if(J){J=parseFloat(J);if(N<4)e[N]=J;else e[2]=e[3]=J}}d=g.z.oz.am(e[0]-e[2],e[1]-e[3],2*e[2],2*e[3])}else if(u=="polygon"||u=="polyline"||u=="line"){var P;
if(u=="line")P=[E.getAttribute("x1"),E.getAttribute("y1"),E.getAttribute("x2"),E.getAttribute("y2")].map(parseFloat);
else P=E.getAttribute("points").trim().replace(/\s\s+/g," ").split(",").join(" ").split(" ").map(parseFloat);
d=g.z.oz.XA(P,0,u!="polygon")}return d}function K(s,F){if(s.endsWith("em"))return F*parseFloat(s.slice(0,s.length-2));
else return parseFloat(s)}function D(s,F,E,o,G){var d,u,r,v=JSON.parse(kE.iv[kE.order.indexOf("SoFi")]),c=g.z.Sa(o),V=F!=null?F.indexOf("("):-1;
if(V!=-1){var j=F.lastIndexOf(")"),Q=F.slice(0,V).trim(),H=F.slice(V+1,j).trim();if(H.charAt(0)=="'"||H.charAt(0)=="\"")H=H.slice(1,H.length-1);
if(Q=="url"){if(H.charAt(0)=="#"){var T=s.getElementById(H.slice(1));if(T&&W(T).toLowerCase().endsWith("gradient")){r=y(s,T,E,c,o);
var e=jt.tQ(r,o);d="GrFl";u={t:"Objc",v:e}}else if(T&&W(T).toLowerCase()=="pattern"&&T.children[0]&&W(T.children[0])=="use"){d="SoFi";
u={t:"Objc",v:v};var z=T.children[0],J=m(z),L=x(z),A=s.getElementById(L.slice(1)),h;if(x(A)){var C=lf.zP(x(A)).buffer,w=lf.c_(lf.pP(C));
h=w.Vp(C)[0]}else{var f=new Uint32Array(4*4);f.fill(4278220799);h={data:f.buffer,oq:new dU(0,0,4,4)}}var O={};
O.id=ey.Gk()+"-d71c-11e5-b1ae-a548a96e5f9f";O.name="someImage";O.CH=[new Uint8Array(h.data),h.oq];G.cB(O);
var v=JSON.parse(kE.iv[kE.order.indexOf("patternFill")]);v.Scl.v.val=Math.round(100*c.r*J.iM);var n=v.phase.v;
n.Hrzn.v=Math.round(c.x+J.Wy*c.r);n.Vrtc.v=Math.round(c.y+J.rY*c.$);v.Ptrn.v.Idnt.v=O.id;d="patternFill";
u={t:"Objc",v:v}}else{d="SoFi";u={t:"Objc",v:v}}}else console.log("unknown url",H)}else if(Q=="rgb"||Q=="rgba"||Q=="hsla"){d="SoFi";
u={t:"Objc",v:v};u.v.Clr.v=g.ov.E2(CSS.Hj(F));if(Q=="rgba"||Q=="hsla")u.v.Opct.v.val=Math.round(100*parseFloat(F.split(",").pop()))}else if(Q=="light-dark"){var $=0,d9=0;
for(var N=0;N<H.length;N++){if(H[N]=="(")d9++;if(H[N]==")")d9--;if(H[N]==","&&d9==0){$=N;break}}return D(s,H.slice(0,$),E,o,G)}else console.log("unknown fill",F)}else{d="SoFi";
u={t:"Objc",v:v};var i=CSS.Hj(F);u.v.Clr.v=g.ov.E2(i);if(i.iM!=null)u.v.Opct.v.val=Math.round(100*i.iM/255)}return{I:d,_:u,jg:r}}function m(s){var F=new ka,E=s.getAttribute("transform");
if(E)F=a(E);var o=s.getAttribute("style");if(o!=null){var G={};M(G,o,["transform"]);o=G.transform;if(o)F.concat(a(o))}return F}function Y(s,F){var E=new ka,o=s.getAttribute("x"),G=s.getAttribute("y");
if(o)E.Wy=parseFloat(o);else if(F)E.Wy=F.Wy;if(G)E.rY=parseFloat(G);else if(F)E.rY=F.rY;return E}function a(s){var F=Typr.U.SVG.readTrnf(s);
return new ka(F[0],F[1],F[2],F[3],F[4],F[5])}function p(s,F){var E={},o="fill-rule fill stroke stroke-width stroke-dasharray stroke-opacity stroke-linejoin stroke-linecap stroke-miterlimit font-size font-weight font-family text-decoration text-anchor dominant-baseline stop-color stop-opacity filter display opacity fill-opacity paint-order clip-path mix-blend-mode xml:space".split(" ");
for(var N=0;N<o.length;N++){var G=s.getAttribute(o[N]);if(G!=null&&G!="inherit")E[o[N]]=G}var d=s.getAttribute("class");
if(F!=null&&d!=null&&F["."+d]!=null)M(E,F["."+d],o);var u=s.getAttribute("id");if(F!=null&&u!=null&&F["#"+u]!=null)M(E,F["#"+u],o);
var r=s.getAttribute("style");if(r!=null)M(E,r,o);return E}function M(s,F,E){F=F.trim().split(";");for(var N=0;
N<F.length;N++){var o=F[N].split(":"),G=o[0]?o[0].trim():"",d=o[1]?o[1].trim():"";for(var u=0;u<E.length;
u++)if(G==E[u]&&d!="inherit")s[E[u]]=d}}function x(s){var F=s.getAttribute("xlink:href");if(F==null)F=s.getAttribute("href");
if(F==null)F=s.getAttribute("xl:href");return F}function R(s,F,E,o,G){var d=F.getAttribute(s);if(d==null)return;
var u=parseFloat(d);if(d.endsWith("%"))u*=(G?E.r:E.$)/100;if(G)o.x=u;else o.y=u}function y(s,F,E,o,G){var d=R,u=new ka,r=F.getAttribute("gradientTransform"),H=!1;
if(r)u=a(r);u.concat(E);var v=W(F)=="linearGradient"?0:1,c=new hw(0,0),V=new hw(1,0),j=c.P();if(v==0){var Q=new dU(0,0,1,1);
d("x1",F,Q,c,!0);d("y1",F,Q,c,!1);d("x2",F,Q,V,!0);d("y2",F,Q,V,!1);j.cQ(c.x,c.y)}if(v==1){if(F.getAttribute("cx"))c.x=parseFloat(F.getAttribute("cx"));
if(F.getAttribute("cy"))c.y=parseFloat(F.getAttribute("cy"));V.cQ(c.x,c.y);j.cQ(c.x,c.y);if(F.getAttribute("r"))V.x+=parseFloat(F.getAttribute("r"));
if(F.getAttribute("fx"))j.x=parseFloat(F.getAttribute("fx"));if(F.getAttribute("fy"))j.y=parseFloat(F.getAttribute("fy"))}var T=F;
while(!0){if(T.getAttribute("gradientUnits")=="userSpaceOnUse")H=!0;var e=x(T);if(e==null||e=="none")break;
T=s.getElementById(e.slice(1))}if(!H)u=new ka(o.r,0,0,o.$,o.x,o.y);u=jt.Ei(c,V,u);var z=jt.d8(v,u,G);
jt.bF(z,c,V,j);var J=F.children,P=z[1]=[];if(J.length==0){var L=x(F);if(L==null)throw"gradient has no stops";
var A=s.getElementById(L.slice(1));if(A==null){console.log(L.slice(1))}else P=z[1]=y(s,A,u,o,G)[1]}else for(var N=0;
N<J.length;N++){var h=J[N],C=p(h),w=C["stop-color"],f=C["stop-opacity"],O=h.getAttribute("offset");if(w==null)w="#000000";
f=f==null?1:parseFloat(f);var n=O?parseFloat(O):0;if(O&&O.endsWith("%"))n/=100;w=CSS.Hj(w);if(w.iM!=null)f*=w.iM/255;
P.push([n,[w.o/255,w.L/255,w.X/255],parseFloat(f),.5])}return z}return{WZ:q}}();jH.zX=function(){var W=null,q="",X="",k;
function B(v,c,V,j){var Q=[],z=" { ",J=" } ",P=!1;W=c;X=c.iO?"":"\t";q=c.iO?"":" ";var H=c.alF,T=c.adY;
k=cC==0?new dU(0,0,v.r,v.$):v.pI();if(j!=null){k=v.root.children[j].B.La();H=k.r;T=k.$}Q.push("<svg version=\"1.2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\""+[k.x,k.y,k.r,k.$].join(" ")+"\" width=\""+H+"\" height=\""+T+"\">");
if(!c.iO)Q.push(U(1)+"<title>"+F(v.name.split(".")[0])+"</title>");var e={Nb:[],eO:[],wc:0,jF:0,QS:0,aU:{},rn:{},cL:0,T_:{},aA3:{},UG:0,yK:[]};
x(v,e,v.root.children,1,c,V,j);if(e.Nb.length!=0){Q.push(U(1)+"<defs>");Q=Q.concat(e.Nb);Q.push(U(1)+"</defs>")}Q.push(U(1)+"<style>");
if(c.iO){z="{";J="}"}for(var N=0;N<v.U.length;N++)if(v.U[N].add.TySh)P=!0;if(P&&!c.awL&&!c.awr)Q.push(U(2)+"tspan"+z+"white-space:pre"+J);
for(var L in e.T_)Q.push(U(2)+"."+L+z+e.T_[L]+J);Q.push(U(1)+"</style>");Q=Q.concat(e.eO);Q.push("</svg>");
Q=Q.join(c.iO?"":"\n");return Z.hP(Q)}function U(a1){var v="";for(var N=0;N<a1;N++)v+=X;return v}function l(a1,v){if(v==null)v=1;
var c=""+parseFloat(a1.toFixed(v));if(c.startsWith("0."))c=c.slice(1);return c}function K(v,c){var V=v.add.lmfx;
if(V)V=V[c].v[0];if(V)V=V.v;if(V&&!V.enab.v)V=null;return V}function D(v,c){var V=K(v,"frameFXMulti");
if(V){var j=V.Sz.v.val;if(V.Styl.v.FStl=="OutF"){c.push("paint-order:stroke fill markers");j*=2}M(c,CSS.mY(V.Clr.v),1);
if(j!=1)c.push("stroke-width: "+j);c.push("stroke-linejoin: round;")}}var m="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");
function Y(v){var c=m.length,V="";for(var j=1;j<10;j++){var Q=(c-10)*~~Math.pow(c,j-1);if(v<Q){for(var N=0;
N<j;N++){var H=N==j-1?10:0,T=c-H,e=v%T;V=m[e+H]+V;v=Math.floor((v-e)/T)}break}v-=Q}return V}function a(v,c,V,j){if(v.length!=0){if(j==null)j="s";
var Q=v.join(";"),H=c.aA3[Q];if(H==null){H=W.iO?Y(c.UG):j+c.UG;c.UG++;c.aA3[Q]=H;c.T_[H]=Q}if(V)V.push(H);
return H}}function p(v){if(W.iO&&v.length==7&&v[0]=="#"){if(v[1]==v[2]&&v[3]==v[4]&&v[5]==v[6])v="#"+v[1]+v[3]+v[5]}return v}function M(v,c,V){c=p(c);
if(c!="#000"||V==1)v.push((V==0?"fill:":"stroke:")+q+c)}function x(v,c,V,j,Q,H,T){var e=!1;for(var z=0;
z<V.length;z++){var J=V[z].B,P=J.add.lsct;if(J.D7)continue;if(J.add.artb&&T!=null&&z!=T)continue;if(!J.Oa&&V[z+1]&&V[z+1].B.Oa&&J.Nj()&&J.add.vmsk){var L=[];
o(J,J.add.vmsk,c,L);c.eO.push(U(j)+"<g "+L[0]+">");j++;e=!0}else if(!J.Oa&&V[z-1]&&V[z-1].B.Oa&&e){j--;
c.eO.push(U(j)+"</g>");e=!1}var A=J.add.vmsk,h=J.add.vogk,C=J.add.vstk,w=J.add.TySh;if(A&&!A.isEnabled)A=C=null;
var f=[];if(!Q.hidden&&!J.P$())continue;var O=J.zO/255,n=J.add.iOpa?J.add.iOpa/255:1;if(J.S3()){O*=n;
n=1}if(O!=1)f.push("opacity:"+q+l(O,2));if(n!=1)f.push("fill-opacity:"+q+l(n,2));if(J.JY!="norm"){var $=jm.at[jm.eB.indexOf(J.JY)];
if($!=null)f.push("mix-blend-mode:"+q+$)}if(!J.P$())f.push("display:"+q+"none");var L=[],d9=[],i=J.getName(),dF=i.indexOf(" .");
if(!Q.iO&&i!="Layer")L.push("id=\""+F(i)+"\"");var t=dx.aCi(J.add.lmfx,J.add),im=t[0],bc=t[1],at=J.add.SoLd;
if(at&&at.filterFX){var l9=at.filterFX.v;if(l9.enab.v&&l9.filterFXList.v.length!=0)at=null}var fF=[];
if(A&&!J.Nj()&&!J.S3())o(J,A,c,fF);if(fF.length!=0)c.eO.push(U(j)+"<g "+s(fF,d9)+">");if(J.S3()){var g$=V[z].children;
if(g$.length==1&&g$[0].B.add.SoLd&&!Q.KW){}else{var fR=A,cr=g$.length==0?null:g$[g$.length-1].B;if(cC==1&&cr&&cr.D7&&cr.P$())fR=cr.add.vmsk;
o(J,fR,c,L);if(f.length!=0)L.push("style=\""+f.join(";")+"\"");if(im){var eE=CSS.mY(im.Clr.v),bQ="f"+c.jF;
c.jF++;c.eO.push(U(j)+"<filter id=\""+bQ+"\">");c.eO.push(U(j+1)+"<feFlood flood-color=\""+eE+"\" flood-opacity=\""+l(im.Opct.v.val/100,2)+"\" />");
c.eO.push(U(j+1)+"<feBlend mode=\""+jm.at[jm.eB.indexOf(jm.U3(im.Md.v.BlnM))]+"\" in2=\"SourceGraphic\"/>");
c.eO.push(U(j+1)+"<feComposite in2=\"SourceAlpha\" operator=\"in\" />");c.eO.push(U(j)+"</filter>");
L.push("filter=\"url(#"+bQ+")\"")}var hT=s(L,d9),df=Q.iO&&hT=="";if(!df)c.eO.push(U(j)+"<g"+(hT==""?"":" "+hT)+">");
x(v,c,g$,j+1,Q,H);if(!df)c.eO.push(U(j)+"</g>")}}else if(J.Nj()&&A==null){G(v,f,J.add,c,k,Q);if(f.length!=0)L.push("style=\""+f.join(";")+"\"");
c.eO.push(U(j)+"<rect width=\""+k.r+"\" height=\""+k.$+"\" "+s(L,d9)+"/>")}else if(A&&J.Nj()&&J.add.PtFl==null){G(v,f,J.add,c,al,Q,A.G);
a(f,c,d9);var eV,gU=null,i8=0,bv;if(h.length!=0){eV=h[0].v;gU=eV.keyOriginType;if(gU)gU=gU.v;if(gU==2){var fE=g.BI._J(eV);
i8=fE[0];for(var N=0;N<3;N++)if(i8!=fE[N+1])gU=null}}if(h.length==1&&gU==5&&Math.abs(g.BI.apD(eV))<1e-4){var d5=g.BI.ZW(eV),aR=(d5[0]+d5[2])/2,l8=(d5[1]+d5[3])/2,au=aR-d5[0],hx=l8-d5[1],fw=Math.abs(au-hx)<.01,cx=fw?"r=\""+l(au)+"\"":"rx=\""+l(au)+"\" ry=\""+l(hx)+"\"";
bv="<"+(fw?"circle":"ellipse")+" "+s(L,d9)+" cx=\""+l(aR)+"\" cy=\""+l(l8)+"\" "+cx+"/>"}else if(h.length==1&&gU==2&&i8!=0&&Math.abs(g.BI.apD(eV))<1e-4){var d5=g.BI.ZW(eV),fg=d5[0],iI=d5[1],eq=d5[2]-d5[0],fS=d5[3]-d5[1],f1="";
if(fg!=0)f1+=" x=\""+l(fg)+"\"";if(iI!=0)f1+=" y=\""+l(iI)+"\"";f1+=" width=\""+l(eq)+"\"";f1+=" height=\""+l(fS)+"\"";
f1+=" rx=\""+l(i8)+"\"";bv="<rect "+s(L,d9)+f1+"></rect>"}else{var c4,ea;if(cC==0){var ie=g.z.eK(A.G,1);
c4=ie.wb;ea=ie.jl}else{var i$=g.b.sz(A.G);c4=Typr.U.pathToSVG({crds:i$.n,cmds:i$.zb},1);ea=A.HG}if(ea!=0){L.push("fill-rule=\"evenodd\"")}bv="<path "+s(L,d9)+" d=\""+c4+"\"/>"}c.eO.push(U(j)+bv)}else if(w&&Q.awL){q=Q.iO?"":" ";
var cI=w.FZ,cD=new cm(cI,H,w.ZN),fG=null;if(im)fG=CSS.mY(im.Clr.v);if(bc){var d5=J.S.P();r(bc,c,d5,Q);
fG="url(#g"+c.wc+")"}if(fG)f.push("fill:"+q+fG);D(J,f);var i$=hj.Gi(cD,w,!0),cH=g.b.N9(i$);for(var hL in cH){var ee=f.slice(0),aj=d9.slice(0),iA=L.slice(0);
if(fG==null){M(ee,hL.slice(0,7),0);if(hL.length>7){var eL=hj.adp(hL.slice(7));M(ee,u(eL.rD),1);d(eL,ee)}}a(ee,c,aj);
var hZ=cH[hL],bZ=Typr.U.pathToSVG({crds:hZ.n,cmds:hZ.zb},1);c.eO.push(U(j)+"<path "+s(iA,aj)+(Q.iO?"":" "+y(w))+" d=\""+bZ+"\"/>")}}else if(w&&!Q.awr){var cI=w.FZ,k_=w.M.P(),fG=null;
f.push("transform:"+q+E(k_));var kW=gZ.mw(cI),cD=new cm(cI,H,w.ZN);D(J,f);if(f.length!=0)L.push("style=\""+f.join(";")+"\"");
c.eO.push(U(j)+"<text "+s(L,d9)+" >");if(im)fG=CSS.mY(im.Clr.v);if(bc){var d5=J.S.P();d5.x-=k_.Wy;d5.y-=k_.rY;
r(bc,c,d5,Q);fG=" url(#g"+c.wc+")"}for(var N=0;N<cD.D8.length;N++){var iU=cD.D8[N];if(iU.e6.length==1&&iU.e6[0].cS)continue;
for(var kO=0;kO<iU.tE.length;kO++){var hq=iU.tE[kO],l8=iU.l7.y+hq.l7.y,e8=iU.e6[hq.start].start,gi=iU.e6[hq.end-1].end,jZ=gZ.ars(cI,e8,gi),cg="";
for(var hn=0;hn<jZ.length;hn++){var bF=cD.Xt(e8),gf=jZ[hn],eH=gZ.J0(cI,e8,e8),h5=eH.MD[eH.n6.Font].Name,hL=gZ.yM(eH.n6.FillColor),gS=Math.round(eH.n6.FontSize),hP=kW.slice(e8,e8+gf);
if(eH.n6.FontCaps==2)hP=hP.toUpperCase();var iy=new ka;iy.translate(bF.OM.x,-l8);var cs=[];CSS.aH2(cs,eH,null,!0,!0,fG);
var fH=a(cs,c,null,"t");fH=fH?" class=\""+fH+"\"":"";var aR=bF.OM.x,fM=R(eH,hP);cg+="<tspan "+(hn==0?"x=\""+l(bF.OM.x)+"\"":"")+" y=\""+l(l8)+"\""+fH+fM+">"+F(hP)+"</tspan>";
e8+=gf}c.eO.push(U(j+1)+cg)}}c.eO.push(U(j)+"</text>")}else if(at&&Q.KW&&im==null){var bQ=at.Idnt.v,az=0,er=at.Crop?at.Crop.v:null;
console.log(er);if(c.rn[bQ]!=null)az=c.rn[bQ];else{c.cL++;az=c.cL;c.rn[bQ]=c.cL;var aJ=v.a3(bQ,er),aT="";
if(aJ==null)return;var kS=aJ.jx,ge=lf.pP(aJ.raw.buffer);console.log(ge);if(ge=="pdf"){var fQ=new ey("h");
lf.c_("PDF").Vp(aJ.raw.buffer,fQ);fQ.Hm();fQ.Ek();fQ.I_();fQ.HQ();if(at.Crop&&at.Crop.v==1){_.wW.ip(fQ,fQ.root.wu(fQ,!0))}var j6=lf.c_("SVG")._M(fQ,fQ.r,fQ.$,null,{yK:H});
aT="data:image/svg+xml;base64,"+lf.KT(j6)}else if(ge=="jpg"||ge=="png"||ge=="gif"||ge=="svg"){var et={jpg:"image/jpg",png:"image/png",jpg:"image/jpg",svg:"image/svg+xml"};
aT="data:"+et[ge]+";base64,"+lf.KT(aJ.raw.buffer)}else{aT=lf.nn(kS[0].buffer,kS[1].r,kS[1].$)}var d2=at.Sz.v;
c.Nb.push(U(2)+"<image width=\""+d2.Wdth.v+"\" height=\""+d2.Hght.v+"\" id=\"img"+az+"\" href=\""+aT+"\"/>")}var kx=g.F.cH(at);
if(f.length!=0)L.push("style=\""+f.join(";")+"\"");var c2=s(L,d9);c.eO.push(U(j)+"<use "+c2+" href=\"#img"+az+"\" transform=\""+E(kx)+"\"/>")}else if(!J.S.PM()&&(Q.KW||w)){if(f.length!=0)L.push("style=\""+f.join(";")+"\"");
var c2=s(L,d9),ke=J.buffer;if(im)ke=dx.asw(ke,im,J.S);var ea=J.S;c.cL++;var aT=lf.nn(ke.buffer,ea.r,ea.$,"png",null,!0);
c.Nb.push(U(2)+"<image "+y(w)+" width=\""+J.S.r+"\" height=\""+J.S.$+"\" id=\"img"+c.cL+"\" href=\""+aT+"\"/>");
c.eO.push(U(j)+"<use "+c2+" href=\"#img"+c.cL+"\" x=\""+ea.x+"\" y=\""+ea.y+"\"/>")}if(fF.length!=0)c.eO.push(U(j)+"</g>")}if(e){j--;
c.eO.push(U(j)+"</g>");e=!1}}function R(v,c){var V=v.n6.Tracking,j="";if(V!=null&&V!=0){V=Math.round(V*v.n6.FontSize/1e3);
j=" dx=\"0";for(var Q=1;Q<c.length;Q++)j+=" "+V;j+="\" "}return j}function y(v){if(v==null)return"";
var c=v.FZ,V=gZ.mw(c);V=F(V.slice(0,V.length-1));return"aria-label=\""+V+"\" "}function s(v,c){if(c.length!=0)v.push("class=\""+c.join(" ")+"\"");
return v.join(" ")}function F(v){return String(v).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u0022/g,"&quot;")}function E(v){var c=[v.iM,v.X,v.bO,v.kv,v.Wy,v.rY];
for(var N=0;N<6;N++)c[N]=l(c[N],3);return"matrix("+c.join(",")+")"}function o(v,c,V,j){if(c||v.add.artb){var Q;
if(c)Q=g.z.eK(c.G).wb;else{var H=v.La(),T=g.b.Lw(H);Q=Typr.U.pathToSVG({crds:T.n,cmds:T.zb},1)}V.QS++;
j.push("clip-path=\"url(#cp"+V.QS+")\"");V.Nb.push(U(2)+"<clipPath clipPathUnits=\"userSpaceOnUse\" id=\"cp"+V.QS+"\">");
V.Nb.push(U(3)+"<path d=\""+Q+"\"/>");V.Nb.push(U(2)+"</clipPath>")}}function G(v,c,V,j,Q,H,T){var e=V.vmsk,z=V.lmfx,J=[];
if(e&&e.iE!=0){var P=l(e.iE);if(j.aU[P]==null){j.jF++;j.aU[P]=j.jF;j.Nb.push(U(2)+"<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"f"+j.jF+"\"> <feGaussianBlur stdDeviation=\""+P+"\"/> </filter>")}J.push("url(#f"+j.aU[P]+")")}if(z)for(var N=0;
N<kE.order.length;N++){var L=kE.order[N],A=kE.m1[N],h=z[A].v;console.log(z);for(var C=0;C<h.length;C++){var w=h[C].v,f=w.classID;
if(!w.enab.v||!z.masterFXSwitch.v)continue;if(f=="OrGl"||f=="DrSh"){j.jF++;J.push("url(#f"+j.jF+")");
var O=0,n=0,$=w.blur.v.val/2.4,d9=w.Opct.v.val/100;if(f=="DrSh"){var i=w.uglg&&w.uglg.v?v.Fi():w.lagl.v.val;
i=i*(Math.PI/180);var t=w.Dstn.v.val;O=-Math.cos(i)*t;n=Math.sin(i)*t}if(f=="OrGl")d9/=w.Inpr.v.val/100;
var im="<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"f"+j.jF+"\" >";im+="<feDropShadow dx=\""+O+"\" dy=\""+n+"\" stdDeviation=\""+$+"\" flood-color=\""+CSS.mY(w.Clr.v)+"\" flood-opacity=\""+l(d9)+"\"/>";
im+="</filter>";j.Nb.push(U(2)+im)}}}if(J.length!=0)c.push("filter:"+q+J.join(" "));var bc=V.vstl;if(bc==null)bc=ey.I1(V,v);
for(var N=0;N<2;N++){var at=N==0?bc.jg:bc.rD;if(at.length==0){if(N==0)c.push("fill:"+q+"none")}else if(at.length==3)M(c,u(at),N);
else{r(at,j,Q,H,T);M(c,"url(#g"+j.wc+")",N)}}if(bc.rD.length!=0){d(bc,c)}}function d(v,c){var V=v.VT,j=v.WA,Q=v.A4,H=v.EE,T=v.Vt;
if(H==2){Q*=2;c.push("paint-order:stroke fill markers")}if(V!=0)c.push("stroke-linecap:"+q+["butt","round","square"][V]);
if(j!=0)c.push("stroke-linejoin:"+q+["miter","round","bevel"][j]);else if(v.Mj!=4)c.push("stroke-miterlimit:"+v.Mj);
if(Q!=1)c.push("stroke-width:"+q+l(Q));if(T.length!=0)c.push("stroke-dasharray:"+q+T.join(","))}function u(v){return CSS.ea({o:v[0]*255,L:v[1]*255,X:v[2]*255})}function r(v,c,V,j,Q){if(Q==null)Q=g.z.oz.Rect(V.x,V.y,V.r,V.$);
if(!(v instanceof Array))v=jt.fH(v,Q);c.wc++;var H=v[0],T=(H==1?"radial":"linear")+"Gradient",e=U(2)+"<"+T+" id=\"g"+c.wc+"\"",z="";
if(j.iO){if(c.wc==1)c.Nb.push("<linearGradient id=\"P\" gradientUnits=\"userSpaceOnUse\"/>");z=" href=\"#P\""}else z=" gradientUnits=\"userSpaceOnUse\"";
var J=jt.qR(v,Q),P=[new hw(0,0),new hw(1,0)];z+=" gradientTransform=\""+E(J)+"\"";var L=j.iO?2:3;if(H==0)c.Nb.push(e+" x2=\"1\""+z+">");
if(H==1){if(v[2][6]!=0){var A=v[2][5]*Math.PI/180,h=v[2][6];c.Nb.push(e+" cx=\"0\" cy=\"0\" r=\"1\" fx=\""+l(Math.cos(A)*h,L)+"\" fy=\""+l(-Math.sin(A)*h,L)+"\""+z+">")}else c.Nb.push(e+" cx=\"0\" cy=\"0\" r=\"1\""+z+">")}var C=v[1];
for(var N=0;N<C.length;N++){var w=C[N],f=w[0],O=w[1],n=w[2];n=n==1?"":" stop-opacity=\""+l(n,L)+"\"";
var $=f==0&&j.iO?"":" offset=\""+l(f,L)+"\"",d9=u(O);d9=j.iO&&d9=="#000000"?"":" stop-color=\""+p(d9)+"\"";
c.Nb.push(U(3)+"<stop"+$+d9+n+"/>")}c.Nb.push(U(2)+"</"+T+">")}jH.IP=E;return B}();jH.oz=function(W,q,X,k,B){var U=[],l=jH.oz,K=!1,D={Ah:W,QB:q,Ep:[!0,!0,!0],wK:!1,g_:X,aA0:0};
D.i8=Math.round(Math.max(W,q)*(.02+l.Nr(D)*.03));D.Zg=l.aFE(D);D.fm=l.a8q(D.Zg,(l.Nr(D)<.5?-1:1)*(.2+l.Nr(D)*.3));
if(l.Nr(D)<.5){var m=D.Zg;D.Zg=D.fm;D.fm=m}D.aq4=l.Nr(D)<.4&&l.aeX(D.fm,{o:1,L:1,X:1})>.3;D.aHw=l.Nr(D)<.5?0:1;
U.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+W+" "+q+"\" width=\""+W+"\" height=\""+q+"\">");
D.Q5=k[Math.floor(l.Ug(D)*k.length)];D.Iz=k[Math.floor(l.Ug(D)*k.length)];U.push("<style>");U.push("@font-face {  font-family: "+D.Q5[2]+";  src: url("+gv.yh("rsrc/fonts/"+D.Q5[5])+");  }");
U.push("@font-face {  font-family: "+D.Iz[2]+";  src: url("+gv.yh("rsrc/fonts/"+D.Iz[5])+");  }");U.push("</style>");
var Y=[0,0,W,q],a=Y;if(B==null)U.push("<path style=\"fill: "+l.u7(D.Zg)+"\" d=\""+l.Rect(Y[0],Y[1],Y[2]-Y[0],Y[3]-Y[1])+"\" id=\"Background\" />");
else{D.wK=!0;l.ajt(D,Y,U,B)}if(l.Nr(D)<.25&&!D.wK){D.Ep[0]=D.Ep[2]=!1;l.aa5(Y,D,U);a=Y}else if(l.Nr(D)<.25||D.wK)a=Y;
else{var p=.52+l.Nr(D)*.2;if(l.Nr(D)<.5)p=1-p;var M=Y.slice(0),x=Y.slice(0);if(l.Nr(D)<.5)M[2]=x[0]=Math.round(p*W);
else M[3]=x[1]=Math.round(p*q);if(l.Nr(D)<.5){var m=M;M=x;x=m}a=M;l.aA8(D,x,U,B)}l.aoZ(D,a,U);U.push("</svg>");
U=U.join("\n");var R=g.j(Math.round(U.length*1.5)),y=Z.o9(U,R,0);return[R.buffer.slice(0,y),D.S0]};jH.oz.aa5=function(W,q,X){var k=jH.oz,B=W[2]-W[0],U=W[3]-W[1];
if(k.Nr(q)<.5){X.push("<path id=\"Border\" style=\"fill: "+k.u7(q.fm)+"\" d=\""+k.a7m(W[0],W[1],W[2]-W[0],W[3]-W[1],q.i8)+"\" />")}else{var l=k.Nr(q)<.5?0:1,K=(l==0?U:B)/4,D=k.e7(q,l,W,X,K,!0),D=k.e7(q,l+2,W,X,K,!0,D)}};
jH.oz.aoZ=function(W,q,X){var k=jH.oz,B="Hello World!-What a beautiful day.-What Is Love?-Baby, don't hurt me.-Is This a Real Life?-Is this a fantasy?-Wake Me Up!-Before you go go.-I Saw The Sign.-And it opened up my mind!".split("-"),U=2*Math.floor(k.Nr(W)*B.length/2),l=q[2]-q[0],K=q[3]-q[1],m=0,a=0;
W.aF=(W.Ah+l)*.5*(.04+k.Nr(W)*.05);W.aF=Math.min(W.aF,K*.4,l*.12);W.aF=Math.round(W.aF);var D=Math.min(W.aF*B[U].length*(.35+.3*k.Nr(W)),l*.9),Y=(q[1]+q[3])/2,p=g.L2(W.Zg)<.85?{o:1,L:1,X:1}:{o:.1,L:.1,X:.1};
if(k.Nr(W)<.25&&W.Ep[0]){a=0;m=q[0]+W.i8}else if(k.Nr(W)<.33&&W.Ep[2]){a=2;m=q[2]-W.i8}else{a=1;m=(q[0]+q[2])/2}var M=p.o==1?"0,0,0":"255,255,255",x=W.wK&&k.Nr(W)<1;
if(x){var R=q[0],y=l,s=Y-W.aF*1.1,F=W.aF*2.2,E=.7;if(a==1&&k.Nr(W)<.5){R=s=.2*Math.min(l,K);y=l-2*s;
F=K-s-s}else if(k.Nr(W)<.7){R=s=0;y=l;F=K;E=.25}X.push("<path id=\"Strip\" style=\"fill: rgb("+M+"); opacity: "+E+"\" d=\""+k.Rect(R,s,y,F)+"\" />")}if(k.Nr(W)<.4){var o=W.aF*.07;
o*=1.5+k.Nr(W)*1;if(a==-1&&l/K<3&&!x){X.push("<path id=\"Bar-bottom\" style=\"fill: "+k.u7(p)+"\" d=\""+k.Rect(m-D/2,Y+W.aF*1.1-o/2,D,o)+"\" />");
X.push("<path id=\"Bar-top\"    style=\"fill: "+k.u7(p)+"\" d=\""+k.Rect(m-D/2,Y-W.aF*1.1-o/2,D,o)+"\" />")}if(a!=1){X.push("<path id=\"Bar\" style=\"fill: "+k.u7(p)+"\" d=\""+k.Rect(m-o/2,Y-W.aF*.8,o,W.aF*.8*2)+"\" />");
m+=(a==0?1:-1)*W.aF/3}}var G=W.aF*.4;X.push(k.ave(B[U+1],m,Y+G*1.6,G,p,a,W.Iz));X.push(k.ave(B[U],m,Y+W.aF*.04,W.aF,p,a,W.Q5))};
jH.oz.aA8=function(W,q,X,k){var B=q[2]-q[0],U=q[3]-q[1],l=Math.max(B,U),K=Math.min(B,U),D=jH.oz;if(l/K<5&&!W.wK&&!1){D.ajt(W,q,X,k)}else if(D.Nr(W)<0)X.push("<path style=\"fill: "+D.u7(W.fm)+"\" d=\""+D.Rect(q[0],q[1],B,U)+"\" />");
else{var m=0;if(q[3]!=W.QB)m=0;if(q[2]!=W.Ah)m=3;if(q[0]!=0)m=1;if(q[1]!=0)m=2;var Y=m+2&3;if(l/K<3){var a=D.acb(Y),p=a[Math.round(D.Nr(W)*(a.length-1))],M=p.em.slice(0,4),x=M.indexOf(1);
p=g.N(p);var R=-1;if(M!="0000"){var y=new ka;if(p.em[5]=="0"){if(x==3&&m==1){R=1;y.scale(-1,1)}else R=x}else{var s=Y;
while(s==Y)s=Math.floor(D.Nr(W)*4)&3;y.rotate((-x+s)*Math.PI/2)}D.M(p,y)}var F=D.Hb(p),E=B-2*W.i8,o=U-2*W.i8;
if(R!=-1){if((R&1)==0)o-=W.i8;else E-=W.i8}var G=Math.min(E/F.r,o/F.$),d=new ka;d.translate(-F.x,-F.y);
d.scale(G,G);var u=(B-F.r*G)/2,r=(U-F.$*G)/2;if(R!=-1){if(R==3)u=0;if(R==0)r=0;if(R==1)u=B-F.r*G;if(R==2)r=U-F.$*G}d.translate(q[0]+u,q[1]+r);
D.Wp(W,p,d,W.fm,X)}else{D.e7(W,m,q,X,1e9)}}};jH.oz.ajt=function(W,q,X,k){var B=q[2]-q[0],U=q[3]-q[1],l=Math.max(B,U),K=Math.min(B,U),D=jH.oz,m=D.Ug(W),Y,a,p,M=k[0]instanceof ArrayBuffer;
if(M){Y="data:image/jpg;base64,"+ch.gV(k[0]);a=k[1];p=k[2]}else{var x=Math.floor(m*k.length),R=k[x];
W.S0=R;Y=R.webformatURL;a=R.webformatWidth;p=R.webformatHeight}var y=q[0],s=q[1],F=B,E=U;if(B/U>a/p){E=F*p/a;
s=s-(E-U)/2}else{F=E*a/p;y=y-(F-B)/2}if(M){X.push("<defs>");X.push("<image width=\""+a+"\" height=\""+p+"\" id=\"Background\" href=\""+Y+"\" />");
X.push("</defs>");var o=F/a;X.push("<use href=\"#Background\" transform=\""+jH.IP(new ka(o,0,0,o,y,s))+"\" />")}else{var G="cp"+Math.random();
X.push("<clipPath id=\""+G+"\">");X.push("<path style=\"fill: "+D.u7(W.fm)+"\" d=\""+D.Rect(q[0],q[1],B,U)+"\" />");
X.push("</clipPath>");X.push("<image  clip-path=\"url(#"+G+")\" xlink:href=\""+Y+"\" x=\""+y+"\" y=\""+s+"\" width=\""+F+"\" height=\""+E+"\" />")}};
jH.oz.ave=function(W,q,X,k,B,U,l){var K=jH.oz;return"<text x=\""+q+"\" y=\""+X+"\" style=\"fill:"+K.u7(B)+"; font-size:"+k+"px; text-anchor:"+["start","middle","end"][U]+"; font-family:"+l[2]+";\"><tspan>"+W+"</tspan></text>"};
jH.oz.Wp=function(W,q,X,k,B){var U=jH.oz,l=[];for(var N=0;N<q.qH.length;N++){l.push(k);if(W.aq4){k=(N&1)==W.aHw?{o:1,L:1,X:1}:l[0]}}B.push("<g id=\""+q.em.split("-")[2]+":::\" style=\"transform: "+jH.IP(X)+";\" >");
for(var N=0;N<q.qH.length;N++){var K=q.qH[N];k=l.pop();B.push("<path style=\"fill: "+(k?U.u7(k):"#"+K[0])+"\" d=\""+Typr.U.pathToSVG({crds:K[1].n,cmds:K[1].zb})+"\" />")}B.push("</g>")};
jH.oz.azW=function(){if(SHPS[0].em)return;for(var N=0;N<SHPS.length;N++){var W=SHPS[N],q=W[1],X=[];for(var k=0;
k<q.length;k++){var B=q[k],U=Typr.U.SVGToPath(B[1]);X.push([B[0],{zb:U.cmds,n:U.crds}])}SHPS[N]={em:W[0],qH:X}}};
jH.oz.acb=function(W){var q=SHPS;jH.oz.azW();var X=[];for(var N=0;N<q.length;N++){var k=q[N],B=k.em.slice(0,4);
if(B=="0000"){X.push(k);continue}if(["1000","0100","0010","0001"].indexOf(B)==-1)continue;var U=B.indexOf("1");
if(k.em[5]=="0"&&W==U&&U!=3)continue;X.push(k)}return X};jH.oz.e7=function(W,q,X,k,B,U,l){var K=SHPS,F,E;
jH.oz.azW();var D=jH.oz,m=[];for(var N=0;N<K.length;N++){var Y=K[N],a=Y.em.slice(0,4);if(["1110","1101","1011","0111"].indexOf(a)==-1)continue;
var p=a.indexOf("0")+2&3;if(Y.em[5]=="0")if(U==!0||q!=p&&!(q==1&&p==3))continue;m.push(Y)}var M=l!=null?l:Math.floor(D.Nr(W)*m.length),Y=m[M],Y=g.N(Y),a=Y.em.slice(0,4),p=a.indexOf("0")+2&3;
if(p==3&&q==1)g.M(Y,new ka(1,0,0,-1,0,1e3));var x=new ka;x.translate(-500,-500);x.rotate(-p*Math.PI/2);
x.translate(500,500);D.M(Y,x);var R=X[3]-X[1],y=X[2]-X[0],s=D.Hb(Y);if(s.y<0){s.$+=s.y;s.y=0}if(s.y>0){s.$+=s.y;
s.y=0}if((q&1)==0){E=R;F=y}else{F=R;E=y}var o=Math.min(Math.min(.5+.5*D.Nr(W))*Math.min(y,R),B)/s.$,G=Math.ceil(F/(1e3*o)),d=new ka,u=new ka;
u.scale(o,o);if(q==0||q==2){u.translate(-(y/2),-(R/2));u.rotate(-q*Math.PI/2);u.translate(y/2+X[0],R/2+X[1])}else{u.rotate(Math.PI/2);
u.scale(1,-1);u.translate(X[0],X[1]);if(q==1){u.scale(-1,1);u.translate(y,0)}}k.push("<g id=\"Border-"+["top","right","bottom","left"][q]+":::\">");
for(var N=0;N<G;N++){var r=d.P();r.concat(u);D.Wp(W,Y,r,W.fm,k);d.translate(1e3-2,0)}k.push("</g>");
return M};jH.oz.Rect=function(W,q,X,k){return Typr.U.pathToSVG({crds:[W,q,W+X,q,W+X,q+k,W,q+k],cmds:["M","L","L","L","Z"]})};
jH.oz.a7m=function(W,q,X,k,B){var U=[W,q,W+X,q,W+X,q+k,W,q+k];W+=B;q+=B;X-=2*B;k-=2*B;U.push(W,q,W,q+k,W+X,q+k,W+X,q);
return Typr.U.pathToSVG({crds:U,cmds:"M L L L Z M L L L Z".split(" ")})};jH.oz.a8q=function(W,q){var X=g.Kp(W.o,W.L,W.X);
X.RG=Math.max(.1,Math.min(.9,X.RG+q));return g.Vy(X.QB,X.Sp,X.RG)};jH.oz.ahI=function(W,q){var X=g.Kp(W.o,W.L,W.X);
X.QB+=q;return g.Vy(X.QB,X.Sp,X.RG)};jH.oz.aAp=function(W){var q=g.Kp(W.o,W.L,W.X);q.RG=1-q.RG;return g.Vy(q.QB,q.Sp,q.RG)};
jH.oz.aeX=function(W,q){var X=W.o-q.o,k=W.L-q.L,B=W.X-q.X;return Math.sqrt(X*X+k*k+B*B)};jH.oz.aFE=function(W){var q=jH.oz;
return{o:q.Nr(W),L:q.Nr(W),X:q.Nr(W)}};jH.oz.u7=function(W){return CSS.ea({o:W.o*255,L:W.L*255,X:W.X*255})};
jH.oz.Hb=function(W){var q=W.qH,X=new dU;for(var N=0;N<q.length;N++)X=X.xw(g.b.Hb(q[N][1].n));return X};
jH.oz.M=function(W,q){var X=W.qH;for(var N=0;N<X.length;N++)g.b.M(X[N][1].n,q,X[N][1].n)};jH.oz.Nr=function(W){W.aA0++;
var q=W.aA0&3;if(q==0)W.g_=jH.oz.es(W.g_);var X=W.g_>>>8*q&255;return X*(.99999999/255)};jH.oz.Ug=function(W){var q=jH.oz.es(W.g_);
W.g_=jH.oz.es(q);return q*(1/4294967295)};jH.oz.es=function(W){W=(W^61^W>>>16)>>>0;W=W+(W<<3)>>>0;W=(W^W>>>4)>>>0;
W=W*668265261>>>0;W=(W^W>>>15)>>>0;return W};var kr={};kr.parse=function(W){var q=new Uint8Array(W),X=null;
if(q[0]==80&&q[1]==75){var k=Date.now(),B=UZIP.parse(q.buffer),X=B["document.json"];X=JSON.parse(Z._o(X,0,X.length));
kr.Na(X,B)}else{var U=bs.parse(W);X=kr.an6(U[2][0][1])}return X};kr.Na=function(W,q){var X=typeof W;
if(X=="string"||X=="number"||X=="boolean"||W==null)return W;if(W instanceof Array){for(var N=0;N<W.length;
N++)W[N]=kr.Na(W[N],q);return W}var k=W._class;if(k==null)return W;if(k=="MSJSONFileReference"){var B=W._ref;
if(!1){}else if(q[B+".json"]!=null){var U=q[B+".json"],l=U.length;for(var N=0;N<l;N++)if(U[N]==11||U[N]==3)U[N]=32;
var K=Z._o(U,0,l);W=JSON.parse(K)}else if(q[B+".png"]!=null)return{key:B.split("/").pop(),bdata:q[B+".png"]};
else if(q[B+".jpg"]!=null)return{key:B.split("/").pop(),bdata:q[B+".jpg"]};else if(q[B+".pdf"]!=null)return{key:B.split("/").pop(),bdata:q[B+".pdf"]};
else if(q[B]!=null)return{key:B.split("/").pop(),bdata:q[B]};else{console.log(W,q);return}}else if(k=="MSAttributedString"){var K=atob(W.archivedAttributedString._archive),D=K.length,m=new Uint8Array(D);
for(var N=0;N<D;N++)m[N]=K.charCodeAt(N);W.archivedAttributedString=kr.an6(m)}for(var Y in W)W[Y]=kr.Na(W[Y],q);
return W};kr.a53=function(W,q,X,k,B){if(W instanceof Uint8Array)return null;if(k.indexOf(W)!=-1)return null;
k.push(W);if(W==q)return X;for(var U in W){X.push(U);var l=kr.a53(W[U],q,X,k,B);if(l){console.log(W,l);
throw"e"}X.pop()}};kr.an6=function(W){var q=ek.parse(W,0),X=q.$objects,k=new Uint8Array(X.length),B=kr.eH(X,k,q.$top.root);
for(var N=0;N<X.length;N++)if(k[N]==0&&N!=0){console.log(N,X[N]);kr.a53(B,N,[],[],typeof X[N])}for(var N=0;
N<X.length;N++){var U=X[N];if(U._class&&(U._class=="bitmap"||U._class=="fill"&&U.fillType==4&&(U.image||U.imageSHA))){var l=U.image,K=U.imageSHA,D=null,m=null;
if(l=="$null")l=null;if(K=="$null")K=null;if(l&&l.data){m=l.sha1["NS.bytes"];m=btoa(Z.zD(m,0,m.length));
D=l.data instanceof Uint8Array?l.data:l.data["NS.bytes"]}else if(l==null&&K==null){var Y=lf.c_("PNG")._M([[g.j(4).buffer]],1,1);
D=new Uint8Array(Y)}else{var a=(B.assets?B.assets.imageCollection:B.images).images;if(K)m=K instanceof Uint8Array?K:K["NS.bytes"];
else m=l.sha1["NS.bytes"];m=btoa(Z.zD(m,0,m.length));var D=a[m].data;if(D["NS.bytes"])D=D["NS.bytes"]}D=new Uint8Array(D.buffer.slice(D.byteOffset,D.byteOffset+D.length));
delete U.imageSHA;U.image={key:m,bdata:D}}}return B};kr.a3Z=function(W){return W.slice(0,11)=="MSImmutable"?"MS"+W.slice(11):W};
kr.eH=function(W,q,X){var k=W[X];if(q[X]==1){return k}q[X]=1;if(typeof k=="string")return k;if(typeof k=="number")return k;
if(typeof k=="boolean")return k;if(k instanceof Array)return k;if(k instanceof Uint8Array){return k}if(W[k.$class]==null){if(k.$class==null&&k["NS.data"]!=null)return k;
console.log(X,k);throw"e"}var B=W[k.$class],U=kr.a3Z(B.$classname);q[k.$class]=1;k.$class=U;if(kr.ahQ[U]){delete k.$class;
k._class=kr.ahQ[U]}var l=kr.eH;if(U=="NSMutableArray"||U=="NSArray"){var K=[];if(k["NS.objects"]!=null)for(var N=0;
N<k["NS.objects"].length;N++)K.push(l(W,q,k["NS.objects"][N]));else for(var N=0;k["NS.object."+N]!=null;
N++)K.push(l(W,q,k["NS.object."+N]));W[X]=K;return K}if(U=="NSDictionary"||U=="NSMutableDictionary"){var D={$class:U};
if(k["NS.keys"]!=null)for(var N=0;N<k["NS.keys"].length;N++){var m=l(W,q,k["NS.keys"][N]);if(m instanceof Uint8Array)m=btoa(kr.e4.zD(m,0,m.length));
else if(typeof m!="string"&&typeof m!="number")m=btoa(kr.e4.zD(m["NS.bytes"],0,m["NS.bytes"].length));
D[m]=l(W,q,k["NS.objects"][N])}else for(var N=0;k["NS.key."+N]!=null;N++){var m=l(W,q,k["NS.key."+N]);
if(m instanceof Uint8Array)m=btoa(kr.e4.zD(m,0,m.length));else if(typeof m!="string"&&typeof m!="number")m=btoa(kr.e4.zD(m["NS.bytes"],0,m["NS.bytes"].length));
D[m]=l(W,q,k["NS.object."+N])}for(var Y in k)delete k[Y];for(var Y in D)k[Y]=D[Y];return k}if(U=="NSURL")return{$class:U,base:l(W,q,k["NS.base"]),relative:l(W,q,k["NS.relative"])};
if(kr.a7g.indexOf(U)!=-1){W[X]=l(W,q,k.array_do);return W[X]}if(k.do_objectID!=null)k.do_objectID=l(W,q,k.do_objectID);
if(kr.aAd.indexOf(U)!=-1)return k;var a=kr.ach[U];if(a==null){console.log(W,k);throw"unknown class "+U}for(var N=0;
N<a.length;N++)if(k[a[N]]!=null)k[a[N]]=l(W,q,k[a[N]]);if(U=="MSTextLayer"){var p=k,M,x,R,y;if(p.attributedString)M=p.attributedString.archivedAttributedString;
else M=p.storage;y=M.NSString;if(typeof y!="string")y=Z._o(y["NS.bytes"],0,y["NS.bytes"].length);if(M.NSAttributeInfo)x=M.NSAttributeInfo["NS.bytes"];
else{var s=y.length,F=[];while(s>0){var E=Math.min(100,s);F.push(E,0);s-=E}x=new Uint8Array(F)}R=M.NSAttributes instanceof Array?M.NSAttributes:[M.NSAttributes];
var o={$class:"NSAttributedString",NSString:y,NSAttributes:R};p.attributedString={_class:"MSAttributedString",archivedAttributedString:o};
o.NSAttributeInfo={$class:"NSMutableData","NS.data":x};delete p.storage}return k};kr.e4={U_:function(W,q){return W[q+1]<<8|W[q]},WP:function(W,q){return W[q+3]<<24|W[q+2]<<16|W[q+1]<<8|W[q]},zD:function(W,q,X){var k="";
for(var N=0;N<X;N++)k+=String.fromCharCode(W[q+N]);return k}};kr.ahQ={MSPage:"page",MSArtboardGroup:"artboard",MSShapeGroup:"shapeGroup",MSLayerGroup:"group",MSBitmapLayer:"bitmap",MSTextLayer:"text",MSSliceLayer:"slice",MSSymbolMaster:"symbolMaster",MSSymbolInstance:"symbolInstance",MSStyleFill:"fill",MSShapePathLayer:"shapePath",MSRectangleShape:"rectangle",MSOvalShape:"oval",MSTriangleShape:"triangle"};
kr.a7g=["MSArray","MSFillStyleCollection","MSBorderStyleCollection","MSShadowStyleCollection","MSInnerShadowStyleCollection"];
kr.aAd="MSArchivedColor MSLayoutGrid MSSimpleGrid MSColor MSRect MSStyleColorControls MSGraphicsContextSettings NSMutableString NSMutableData NSDecimalNumberPlaceholder MSStyleReflection".split(" ");
kr.ach={MSAssetCollection:["gradients","colors","imageCollection","images"],MSImageCollection:["images"],MSSharedStyleContainer:["objects"],MSSharedTextStyleContainer:["objects"],MSSharedLayerStyleContainer:["objects"],MSSharedLayerTextStyleContainer:["objects"],MSSharedLayerContainer:["objects"],MSSymbolContainer:["objects"],MSGradient:["stops","from","to","points"],MSGradientStop:["color"],MSStyleFill:["color","gradient","contextSettings","image","imageSHA"],MSExportFormat:["fileFormat","name"],MSExportOptions:["exportFormats","includedLayerIds","sizes"],MSRulerData:["guides"],MSStyle:"textStyle fills contextSettings sharedObjectID borders blur shadows innerShadows borderOptions colorControls reflection".split(" "),MSSharedStyle:["name","value"],MSSymbol:["name","value"],MSAttributedString:["archivedAttributedString"],MSSharedLayerStyle:["name","value","instances"],MSSharedLayer:["name","value","instances"],MSDocumentData:"assets layerStyles pages layerTextStyles layerSymbols images userInfo cloudShareID cloudShareURL cloudUserID".split(" "),MSShapePathLayer:"exportOptions frame name userInfo path originalObjectID".split(" "),MSOvalShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSRectangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSPolygonShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSTriangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSStarShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSBitmapLayer:"exportOptions frame name userInfo style imageSHA nineSliceCenterRect nineSliceScale image clippingMask originalObjectID".split(" "),MSTextLayer:"exportOptions frame name userInfo style originalObjectID attributedString glyphBounds storage".split(" "),MSShapeGroup:"exportOptions frame name userInfo style originalObjectID layers".split(" "),MSLayerGroup:"exportOptions frame name userInfo style originalObjectID layers sharedObjectID".split(" "),MSArtboardGroup:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid backgroundColor".split(" "),MSPage:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid scrollOrigin".split(" "),MSSymbolMaster:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid originalObjectID symbolID backgroundColor".split(" "),MSSymbolInstance:"exportOptions frame name userInfo style symbolID overrides masterInfluenceBounds originalObjectID".split(" "),MSSliceLayer:["exportOptions","frame","name","userInfo","backgroundColor"],MSTextStyle:["attributes","encodedAttributes"],MSShapePath:["points"],MSPointArray:["points"],MSImageData:["data","sha1","name"],MSCurvePoint:["curveFrom","curveTo","point"],MSImageProxy:["sha1"],MSStyleBorder:["color","gradient","contextSettings"],MSStyleBlur:["center"],MSStyleShadow:["color","contextSettings"],MSStyleInnerShadow:["color","contextSettings"],MSExportSize:["format","name"],MSStyleBorderOptions:["dashPattern"],NSFont:["NSName","NSDescriptor"],NSColor:["NSCustomColorSpace"],NSFontDescriptor:["NSFontDescriptorAttributes"],NSMutableParagraphStyle:["NSTextBlocks","NSTabStops","NSTextLists"],NSAttributedString:["NSAttributes","NSString","NSAttributeInfo"],NSTextStorage:["NSAttributeInfo","NSAttributes","NSString"],NSColorSpace:["NSICC"],NSParagraphStyle:["NSTabStops","NSTextBlocks","NSTextLists"],NSTextList:["NSMarkerFormat"],NSTextTab:["NSTabOptions"],UIFontDescriptor:["UIFontDescriptorAttributes"]};
var ek={};ek.parse=function(W,q){var X=Z.zD(W,q,8);q+=8;var k=W.length-32,B=ek.parse.a0U(W,k),U=[];if(B.sV==1){var q=k-B.sV*B._W;
for(var N=0;N<B._W;N++)U.push(W[q+N])}else if(B.sV==2){var q=k-B.sV*B._W;for(var N=0;N<B._W;N++)U.push(Z.U_(W,q+N*2))}else if(B.sV==4){var q=k-B.sV*B._W;
for(var N=0;N<B._W;N++)U.push(Z.WP(W,q+N*4))}else{throw"e"}var l=ek.parse.eH(W,U,B.root,B);return l};
ek.parse.eH=function(W,q,X,k){var B=ek.e4,U=k.aiz,l=U==4?B.WP:U==2?B.U_:B.a5T,K=ek.parse,D=q[X],m=W[D],Y=m>>4,a=m&15,M=null;
D+=1;if([4,5,6,10,12,13].indexOf(Y)!=-1&&a==15){var p=K.WU(W,D);D+=p.Fk;a=p._}if(!1){}else if(Y==0)M=a==8?!1:a==9?!0:null;
else if(Y==1)M=K.WU(W,D-1)._;else if(Y==2)M=1<<a==4?Z.Op(W,D):Z.Rm(W,D);else if(Y==3)M=Z.Rm(W,D);else if(Y==4)M=new Uint8Array(W.buffer,D,a);
else if(Y==5)M=Z.zD(W,D,a);else if(Y==6)M=Z.Pa(W,D,a);else if(Y==8){M=0;for(var N=0;N<a+1;N++)M=M<<8|W[D+N]}else if(Y==10){M=[];
for(var N=0;N<a;N++)M.push(K.eH(W,q,l(W,D+U*N),k))}else if(Y==12){M=[];for(var N=0;N<a;N++)M.push(K.eH(W,q,l(W,D+U*N),k))}else if(Y==13){M={};
for(var N=0;N<a;N++){var x=K.eH(W,q,l(W,D+U*N),k),R=K.eH(W,q,l(W,D+U*(a+N)),k);M[x]=R}}else throw"unknown mask "+Y;
return M};ek.parse.WU=function(W,q){var X=1<<(W[q]&15),k=0;for(var N=0;N<X;N++)k=k<<8|W[q+1+N];return{_:k,Fk:X+1}};
ek.parse.a0U=function(W,q){var X={};q+=6;X.sV=W[q];q++;X.aiz=W[q];q++;q+=4;X._W=Z.WP(W,q);q+=4;q+=4;
X.root=Z.WP(W,q);q+=4;q+=4;X.aKL=Z.WP(W,q);q+=4;return X};ek.e4={a5T:function(W,q){return W[q]},U_:function(W,q){return W[q]<<8|W[q+1]},WP:function(W,q){return W[q]<<24|W[q+1]<<16|W[q+2]<<8|W[q+3]},zD:function(W,q,X){var k="";
for(var N=0;N<X;N++)k+=String.fromCharCode(W[q+N]);return k}};var bs={parse:function(W){var q=new Uint8Array(W),X=bs.pO(q),k=[],B=new Uint8Array(q.length),U=[];
k.push(U);bs.Eu(q,X,1,B,U);for(var N=0;N<U.length;N++){var l=[];k.push(l);bs.Eu(q,X,U[N][3],B,l,N==11);
U[N][3]=N+1}return k},Eu:function(W,q,X,k,B,U){X--;var l=X*q.X1+(X==0?100:0),K=W[l],D=bs.U_(W,l+1),m=bs.U_(W,l+3),Y=bs.U_(W,l+5),p=0;
if(Y==0)Y=65536;var a=W[l+7];l+=8;if(K==2||K==5){p=bs.WP(W,l);l+=4}for(var M=0;M<m;M++){var x=X*q.X1+bs.U_(W,l+2*M),R=-1,y=0,s=0,F=0;
if(K==2||K==5){R=bs.WP(W,x);x+=4}if(K==2||K==10||K==13){y=bs.fy(W,x);x+=y.Fk}if(K==5||K==13){s=bs.fy(W,x);
x+=s.Fk}if(K==2||K==5){bs.Eu(W,q,R,k,B,U);continue}var E=q.X1-(X==0?100:0),o=y.he,G=K==13?E-35:Math.floor((E-12)*64/255)-23,d=Math.floor((E-12)*32/255)-23,u=d+(o-d)%(E-4);
if(o<=G){bs.cX(W,x,k,0,o)}else{var r=u<=G?u:d,v=0;bs.cX(W,x,k,0,r);v+=r;F=bs.WP(W,x+r);while(F!=0){var c=(F-1)*q.X1;
F=bs.WP(W,c);var V=Math.min(q.X1-4,o-v);bs.cX(W,c+4,k,v,V);v+=V}}B.push(bs.aiJ(k,o))}if(p!=0)bs.Eu(W,q,p,k,B,U)},aiJ:function(W,q){var X=0,k=bs.fy(W,X);
X+=k.Fk;var B=[],U=[];while(X<k.he){var l=bs.fy(W,X);X+=l.Fk;B.push(l.he)}if(X!=k.he)throw"e";for(var N=0;
N<B.length;N++){var l=B[N];if(!1){}else if(l==0)U.push(null);else if(l==1){U.push(bs.ayY(W,X));X+=1}else if(l==2){U.push(bs.dd(W,X));
X+=2}else if(l==3){U.push(bs.aby(W,X));X+=3}else if(l==4){U.push(bs.WU(W,X));X+=4}else if(l==5){U.push(bs.WP(W,X+2));
X+=6}else if(l==6){U.push(bs.WP(W,X)+":"+bs.WP(W,X+4));X+=8}else if(l==7){U.push(bs.aj1(W,X));X+=8}else if(l==8)U.push(0);
else if(l==9)U.push(1);else if(l>=12&&(l&1)==0){var K=l-12>>1,D=new Uint8Array(K);bs.cX(W,X,D,0,K);U.push(D);
X+=K}else if(l>=13&&(l&1)==1){var K=l-13>>1;U.push(bs._o(W,X,K));X+=K}else throw"unknonw type "+l}return U},pO:function(W){if(!(W[18]==1&&W[19]==1&&W[20]==0&&W[21]==64&&W[22]==32&&W[23]==32))throw"unexpected SQL3 header";
var q={nO:bs.zD(W,0,15),X1:bs.U_(W,16),a56:bs.WP(W,24),size:bs.WP(W,28),abl:bs.WP(W,32),a0b:bs.WP(W,36),a63:bs.WP(W,40),avD:bs.WP(W,44),aij:bs.WP(W,48),ap9:bs.WP(W,52),akE:bs.WP(W,56),a8T:bs.WP(W,60),a0R:bs.WP(W,64)!=0,aur:bs.WP(W,68),aaa:bs.WP(W,92),ae4:bs.WP(W,96)};
if(q.X1==1)q.X1=65536;if(q.akE!=1)throw"unsupported text encoding "+q.akE;return q},agJ:function(W,q){return W[q]<<16|W[q+1]<<8|W[q+2]},aby:function(W,q){var X=bs.agJ(W,q),k=X&8388608;
return k?-(16777215-X+1):X},ayY:function(W,q){bs.Sq[0]=W[q];return bs.ayU[0]},WU:function(W,q){var X=bs.Sq;
for(var N=0;N<4;N++)X[N]=W[q+3-N];return bs.atM[0]},dd:function(W,q){var X=bs.Sq;X[0]=W[q+1];X[1]=W[q];
return bs.at2[0]},U_:function(W,q){return W[q]<<8|W[q+1]},WP:function(W,q){var X=bs.Sq;for(var N=0;N<4;
N++)X[N]=W[q+3-N];return bs.a6A[0]},aj1:function(W,q){var X=bs.Sq;for(var N=0;N<8;N++)X[N]=W[q+7-N];
return bs.am7[0]},fy:function(W,q){var X=q,a1=0;while(!0){var k=W[q];q++;a1=a1*128+(k&127);if(k<128)break}return{he:a1,Fk:q-X}},zD:function(W,q,X){var k="";
for(var N=0;N<X;N++)k+=String.fromCharCode(W[q+N]);return k},_o:function(W,q,X){var k="";for(var N=0;
N<X;N++)k+="%"+bs.aEd(W[q+N].toString(16));try{k=decodeURIComponent(k);return k}catch(bu){return k}},cX:function(W,q,X,k,B){if(B!=0&&(W[q+B-1]==null||X[k+B-1]==null)){console.log(q,k,B);
throw"e"}for(var N=0;N<B;N++)X[k+N]=W[q+N]},aEd:function(a1){return a1.length<2?"0"+a1:a1}};bs.Sq=new Uint8Array(8);
bs.ayU=new Int8Array(bs.Sq.buffer);bs.at2=new Int16Array(bs.Sq.buffer);bs.atM=new Int32Array(bs.Sq.buffer);
bs.a6A=new Uint32Array(bs.Sq.buffer);bs.am7=new Float64Array(bs.Sq.buffer);bs.atS=function(W,q){var X=W[0],k={};
for(var N=0;N<X.length;N++){var B=X[N],U=B[1];if(B[0]!="table")continue;var l=B[4];l=l.slice(l.indexOf("(")+1,l.indexOf(")"));
l=l.split(",");for(var K=0;K<l.length;K++){var D=l[K].trim().split(" ")[0];if(q&&D.startsWith(U))D=D.slice(U.length);
l[K]=D}var m=k[U]=[],Y=W[B[3]];for(var K=0;K<Y.length;K++){var a=Y[K],p={};m.push(p);for(var M=0;M<l.length;
M++){if(p[l[M]]!=null)throw"e";p[l[M]]=a[M]}}}return k};function kb(W,q,X){this.BL=W;this.Tq=q;this.amr=X;
this.jk=new hw(0,0);this.gb=-1;this.Ss=0;this.o0=0;this.bY=new dU;this.ld=[];this.jh=null;this.azH=null;
this.KV=null;this.tA=null;this.KA=null;this.aiM=null}kb.prototype.StartPage=function(W,q,X,k,B){var U=this.Tq,l=U.Lr(),K=1,D=(X-W)*(k-q);
if(B!=null)D=B;while(D*l*l/(K*K)>2*8192*8192)K++;U.scale(1/K,1/K);this.azH=[W,q,X,k];var K=U.Lr();W=Math.round(W*K);
q=Math.round(q*K);X=Math.round(X*K);k=Math.round(k*K);var m=this.BL,Y=this.KV;if(Y==null){U.Wy=-W}else{var a=Y[2]-Y[0]+30,p=Math.round(X-W)+30;
if(this.jk.x+a+p>8192){U.Wy=-W;this.jk.x=0;this.jk.y+=this.o0+120;this.o0=0}else{U.Wy+=a;this.jk.x+=a}}U.rY=this.jk.y+(this.amr?k:-q);
this.o0=Math.max(this.o0,Math.round(k-q));this.KV=[W,q,X,k];this.aL3=[];m.U.push(m.rS())};kb.prototype.StartTGroup=function(W){this.Yn();
var q=this.BL;q.U.push(q.rS());var X=kb.aB[W.bmode];if(X==null)X="norm";var k=q.Sh();k.YY("<Group>");
k.add.lsct=e5.B2;k.JY=X=="norm"?"pass":X;k.Z9=24;k.zO=Math.round(255*W.ca);this.aL3.push(k)};kb.prototype.EndTGroup=function(){this.BL.U.push(this.aL3.pop())};
kb.prototype.aFv=function(){var W=this.BL,q=W.U[W.U.length-1];return q};kb.prototype.aCf=function(){var W=this.BL,q=W.Sh();
q.YY("Path "+W.U.length);this.BL.U.push(q);q.Z9|=16;q.add.SoCo={classID:"null",Clr:{t:"Objc",v:g.ov.E2({o:0,L:0,X:0})}};
q.add.vmsk=new b.jY;q.add.vstk=kE.Cs.wy();return q};kb.prototype.js=function(W,q){var X={n:W.crds,zb:W.cmds},k=g.b.gH(X,!1);
g.z.aDO(k,q);g.z.Y9(k,this.Tq);return k};kb.aEx=function(W,q){for(var N=0;N<W.length;N++)if(W[N].R3!=null)W[N].R3=q};
kb.pe=function(W){return g.ov.E2({o:W[0]*255,L:W[1]*255,X:W[2]*255})};kb.fs=function(W){return new ka(W[0],W[1],W[2],W[3],W[4],W[5])};
kb.prototype.Stroke=function(W){if(this.gb!=-1&&this.gb!=this.Ss)return;if(W.pth.cmds.length<=1)return;
var q=this.js(W.pth,!0),l=null;if(q.length<=2)return;this.lL(W);kb.aEx(q,-1);q[2].R3=1;var X=this.aFv(),k=kE.Cs.wy(null,!0),B=W.ctm,U={};
kb.awP(U,W);kE.Cs.write(k,U,Math.sqrt(Math.abs(B[0]*B[3]-B[1]*B[2]))*this.Tq.Lr());if(!(W.COLR instanceof Array)){l=g.b.Hb(W.pth.crds);
var K=g.b.Lw(l);g.b.M(K.n,this.Tq,K.n);l=g.b.Hb(K.n)}var D=kb._m(W.COLR,this.Tq,q),m=["SoFi","GrFl","patternFill"].indexOf(D.I),Y=[kE.nV,kE.N2,kE.W0][m],a=k.strokeStyleContent.v={classID:kE.Cs.Y_[m]};
for(var N=0;N<Y.length;N++)a[Y[N]]=D._.v[Y[N]];var p=X!=null&&X.add.vmsk!=null&&!X.S3(),M=p&&!X.add.vstk.fillEnabled.v&&JSON.stringify(k)==X.add.vsjs;
if(M){var x=X.add.vmsk.G;for(var N=2;N<q.length;N++)x.push(q[N])}else{var R=p&&!X.add.vstk.strokeEnabled.v&&b.jY.a7p(X.add.vmsk.G,q,!0);
if(R){X.add.vstk=k;k.fillEnabled.v=!0}else{X=this.aCf();X.add.vmsk.G=q;X.add.vstk=k;X.add.vsjs=JSON.stringify(k)}}};
kb.awP=function(W,q){W.A4=q.lwidth;W.Mj=q.mlimit;W.Vt=q.dash.slice(0);W.ON=q.doff;W.WA=q.ljoin;W.VT=q.lcap;
W.EE=1};kb.HY=function(W,q){q.lwidth=W.A4*(W.EE==2?2:1);q.mlimit=W.Mj;q.doff=W.ON;q.ljoin=W.WA;q.lcap=W.VT;
q.sal=W.EE;q.dash=W.Vt.slice(0);if(q.dash.length==1&&q.dash[0]==0)q.dash=[]};kb.prototype.Fill=function(W,q){if(this.gb!=-1&&this.gb!=this.Ss)return;
if(W.ca==0)return;var X=W.pth.cmds;if(X.length==0)return;if(X.length==2&&JSON.stringify(X)=="[\"M\",\"L\"]")return;
var k=g.b.Hb(W.pth.crds),B=g.b.Hb(W.cpth.crds);if(k.x$(B).PM())return;var U=W.pth,l=UDOC.G.isBox(U,[k.x,k.y,k.x+k.r,k.y+k.$]),K=W.cpth,D=UDOC.G.isBox(K,[B.x,B.y,B.x+B.r,B.y+B.$]);
if(l&&D&&k.C()>B.C()*2){var m=k.x$(B),Y=m.x,a=m.y,p=Y+m.r,M=a+m.$;U={cmds:["M","L","L","L","Z"],crds:[Y,a,p,a,p,M,Y,M]};
k=m}else if(this.tA==null&&UDOC.G.isBox(U,[k.x,k.y,k.x+k.r,k.y+k.$])&&k.Ox(B)){U=K;k=B}else this.lL(W);
var x=this.js(U,q),R=kb._m(W.colr,this.Tq,x),y=this.aFv(),s=y!=null&&y.zO==Math.round(255*W.ca)&&y.add.vstk!=null&&!y.add.vstk.strokeEnabled.v&&y.add.SoCo&&R.I=="SoFi"&&JSON.stringify(y.add.SoCo.Clr.v)==JSON.stringify(R._.v.Clr.v);
if(s){var F=!1;for(var N=0;N<x.length;N++){if(x[N].R3==0||x[N].R3==2)F=!0}if(F){var E=g.b.Hb(g.z.Y$(y.add.vmsk.G)),o=g.b.Hb(g.z.Y$(x));
s=E.x$(o).PM()}}if(s){var G=y.add.vmsk.G;for(var N=2;N<x.length;N++)G.push(x[N])}else{y=this.aCf();delete y.add.SoCo;
y.add.vmsk.G=b.jY.zx(x);kb.Hq(W.colr,y,this.Tq,x);kb.aja(W,y)}};kb.Hq=function(W,q,X,k){var B=kb._m(W,X,k),U=null,l=null;
q.add.vstk.fillEnabled.v=!0;if(B.I=="SoFi"){U="SoCo";l=kE.nV}if(B.I=="GrFl"){U="GdFl";l=kE.N2}if(B.I=="patternFill"){U="PtFl";
l=kE.W0}if(U!=null){q.add[U]={classID:"null"};for(var N=0;N<l.length;N++){var K=l[N];q.add[U][K]=B._.v[K]}if(U=="GdFl")q.add._fstl=B.jg}};
kb.prototype.lL=function(W){var q=this.BL,X=W.cpth,k=X.cmds.join(""),B=X.crds,U=k+" "+B.join(","),l=UDOC.G.isBox(X,this.azH);
if(l&&this.tA==null)return;if(U==this.tA)return;this.Yn();if(!l){this.tA=U;q.U.push(q.rS());var K=q.Sh();
K.YY("Mask");K.add.lsct=e5.Fn;K.JY="pass";K.Z9=24;var D=K.add.vmsk=new b.jY;D.G=this.js(W.cpth,!0);if(UDOC.G.isBox(X)){this.KA=g.z.Sa(D.G);
this.KA.Pt(3,3)}else this.KA=null;this.aiM=K}};kb.prototype.Yn=function(){var W=this.BL;if(this.tA!=null){var q=W.U.length-1,N=q,X=!1;
while(N>=0&&W.U[N].add.lsct!=e5.dx)N--;var k=this.KA;if(k){var B=new dU,U=q;while(U>N){B=W.U[U].wu(this.BL,!1,!0);
U--}X=k.Ox(B)}if(X){this.ld.splice(N,1);W.U.splice(N,1)}else{W.U.push(this.aiM)}this.tA=null}};kb._m=function(W,q,X){var k,B,U;
if(W.length!=null){k="SoFi";var l=JSON.parse(kE.iv[kE.order.indexOf("SoFi")]);B={t:"Objc",v:l};B.v.Clr.v=kb.pe(W)}else{var K=kb.awM(W,q,X);
k="GrFl";B={t:"Objc",v:jt.tQ(K,X)};U=K}return{I:k,_:B,jg:U}};kb.awM=function(W,q,X){var k=kb.fs(W.mat);
k.concat(q);var B=new hw(0,0),U=new hw(0,0),l=new hw,K=W.crds,D=W.typ=="rad"?1:0;if(D==1){var m=.7;l.x=K[0];
l.y=K[1];B.x=K[3];B.y=K[4];U.x=B.x;U.y=B.y;U.x+=K[5]}else{B.x=K[0];B.y=K[1];U.x=K[2];U.y=K[3];l.cQ(B.x,B.y)}k=jt.Ei(B,U,k);
var Y=jt.d8(D,k,X);jt.bF(Y,B,U,l);Y[1]=g.N(W.grad);return Y};kb.prototype.PutText=function(W,q,X,k){var B=q.charCodeAt(0),M=null;
if(this.gb!=-1&&this.gb!=this.Ss)return;if(q.length==0||q.length==1&&(B==0||B==8203))return;this.lL(W);
var U=this.BL,l=W.font,K=Math.round(255*W.ca);if(W.font.Tmode==3)K=0;var D=kb.fs(W.ctm);D.concat(this.Tq);
var m=kb.fs(l.Tm);m.concat(D);var Y=m.Lr(),a=new ka(1/Y,0,0,-1/Y,0,0);a.concat(m);var p=l.Tfs*Y,x=U.U.length-1;
while(x>=0&&U.U[x].add.TySh==null)x--;if(a.X*a.X+a.bO*a.bO<.001&&k==null&&x>=0&&U.U[x].add.TySh&&U.U[x].zO==K){var R=U.U[x],y=this.ld[x],s=R.add.TySh.M,F=(a.Wy-y.aqn)/p,E=Math.abs(F),o=s.iM==a.iM&&s.X==a.X&&s.bO==a.bO&&s.kv==a.kv,G=a.rY-y.Ru,d=o&&Math.abs(G)<1e-5&&E<1;
if(d){M=R;if(F>.2&&[".",",","?",":","!"].indexOf(q)==-1){q=" "+q;X+=.5}}else if(o&&0<G&&G<p*1.7&&y.ahL==p){M=R;
this.aId(y);y.Ru=a.rY;y.az2=a.Wy;q="\n"+q}}if(M==null){x=U.U.length;this.ld[x]={oe:[],P6:0,aqn:a.Wy,Ru:a.rY,az2:a.Wy,FR:"",ahL:p};
M=U.Sh();U.U.push(M);M.add.lnsr="rend";M.add.TySh=gZ.nG(0,0);M.add.TySh.M=a}var y=this.ld[x];y.P6+=X*p;
y.FR+=q;y.aqn=a.Wy+X*p;var u=M.add.TySh.FZ,r=gZ.mw(u);if(k){gZ.XM(u,1);var v=[0,0,Math.ceil(k[0]*Y),Math.ceil(k[1]*Y)];
gZ.eR(u,v)}var c=r.length-1,V=c+q.length;gZ.L3(u,c,q);if(this.jh==null)this.jh=gZ.J0(u,c,c);var j=this.jh;
j.n6.FontSize=Math.round(p);j.n6.Tracking=Math.round(l.Tc*100);j.n6.Underline=l.Tun==1;j.n6.FillColor={Type:1,Values:[1,W.colr[0],W.colr[1],W.colr[2]]};
if(l.Tal!=null)j.D8.Justification=l.Tal;if(y.oe.length!=0){j.n6.AutoLeading=!1;j.n6.Leading=y.Ru-y.oe[y.oe.length-1].y}var Q=l.Tf;
Q=Q.replace(/#2B/g,"+");Q=Q.replace(/#2C/g,"-");Q=Q.replace(/#2D/g,"-");Q=Q.split("+").pop();var H={"NimbusRomNo9L-Medi":"NimbusRomNo9L-Med","NimbusRomNo9L-Regu":"NimbusRomNo9L-Reg","NimbusRomNo9L-MediItal":"NimbusRomNo9L-MedIta","NimbusRomNo9L-ReguItal":"NimbusRomNo9L-RegIta",CMTT9:"NimbusMono-Regular",Arial:"ArialMT","BebasNeue-Regular":"BebasNeueRegular"};
if(H[Q])Q=H[Q];gZ.j_(j,Q);gZ.oM(u,c,V-1,j);M.Kj();M.zO=K};kb.prototype.aId=function(W){W.oe.push({Ah:W.P6,t:W.FR.slice(W.oe.length==0?0:1)+"\n",x:W.az2,y:W.Ru,Sp:W.ahL});
W.P6=0;W.FR=""};kb.prototype.iQ=function(W,q,X){var k=lf.c_("PNG"),B=cC==1?k.GC(W.buffer,q,X,8):k._M([[W.buffer,0]],q,X);
return new Uint8Array(B)};kb.prototype.PutImage=function(W,q,X,k,B,U,l){if(this.gb!=-1&&this.gb!=this.Ss)return;
var K=this.BL,D=W.font.Tmode;if(D==7&&K.U[K.U.length-1].add.TySh){return}this.lL(W);var m=kb.fs(W.ctm);
m.concat(this.Tq);var Y=new ka(1/X,0,0,-1/k,0,1);Y.concat(m);m=Y;q=kb.aqR(q,X,k,U,!1);if(B)B=kb.aqR(B,X,k,l,!0);
if(B==null){if(q.length==X*k*4)q=this.iQ(q,X,k)}else{q=this.amA(q,X,k,U,!1);B=this.amA(B,X,k,l,!0);var a=g.j(X*k);
g.u6(B,a,0);g.fP(a,q,3);q=this.iQ(q,X,k)}var p=K.ow(q,"Bitmap",0,0),M=new dU(0,0,X,k),x=g.b.Lw(M).n;
g.b.M(x,m,x);p.add.SoLd.Trnf=_.Gz.If(x);p.add.SoLd.nonAffineTransform=_.Gz.If(x);p.uz(K,!1);kb.aja(W,p);
K.U.push(p)};kb.aja=function(W,q){q.zO=Math.round(255*W.ca);var X=kb.aB[W.bmode];if(X==null)console.log("Unknown blend mode",X);
else q.JY=X};kb.aB={"/Normal":"norm","/Multiply":"mul ","/Screen":"scrn","/Overlay":"over","/Darken":"dark","/Lighten":"lite","/ColorDodge":"div ","/ColorBurn":"idiv","/HardLight":"hLit","/SoftLight":"sLit","/Difference":"diff","/Exclusion":"smud","/Hue":"hue ","/Saturation":"sat ","/Color":"colr","/Luminosity":"lum "};
kb.a17=function(W){if(W=="pass")W="norm";for(var q in kb.aB)if(kb.aB[q]==W)return q;return"/Normal"};
kb.aqR=function(W,q,X,k,B){var U=lf.pP(W.buffer);if(U=="jpg"){try{W=new Uint8Array(lf.c_("JPG").aH8(W.buffer))}catch(bu){W=new Uint8Array(q*X*4)}}else if(U=="jb2"){W=new Uint8Array(lf.c_("JPG").Vp(W.buffer,k,B)[0].data)}else if(W.length!=q*X*4){var l=new Uint8Array(q*X*4),K=Math.ceil(q/8),D=new Uint8Array(X*K);
UTIF.decode._decodeG4(W,0,W.length,D,0,q,1);var m=D[0]==(B?255:0);for(var Y=0;Y<X;Y++){var a=K*Y;for(var p=0;
p<q;p++){var N=Y*q+p,M=N*4,x=(D[a+(p>>3)]>>7-(p&7)&1)*255;if(m)x=255-x;l[M]=x;l[M+1]=x;l[M+2]=x;l[M+3]=255}}W=l}return W};
kb.prototype.amA=function(W,q,X,k,B){if(W.length!=q*X*4){var U=lf.pP(W.buffer);if(U=="jb2")throw"e";
var l=lf.c_(U);if(l==null||U=="tga")l=lf.c_("jpg");W=new Uint8Array(l.Vp(W,k,B)[0].data)}return W};kb.prototype.ShowPage=function(){var W=this.BL;
this.Ss++;var q=this.KV;this.Yn();var X=W.Sh();W.U.push(X);var k=new dU(Math.round(this.jk.x),Math.round(this.jk.y),Math.round(q[2]-q[0]),Math.round(q[3]-q[1]));
if(k.PM())k.r=k.$=2e3;this.bY=this.bY.xw(k);X.VA(k);X.add.artb.artboardBackgroundType.v=1;X.YY("Page "+this.Ss);
X.add.lsct=e5.Fn;X.JY="pass";X.Z9=24};kb.prototype.Print=function(W){console.log("Print:",W)};kb.prototype.Done=function(){var W=this.BL;
if(this.Ss==1)W.U[W.U.length-1].add.lsct=e5.B2;W.GX(this.Ss);for(var N=0;N<W.U.length;N++){var q=W.U[N],X=q.add.vmsk,k=q.add.TySh,B=this.ld[N];
q.tw();delete q.add.vsjs;if(X){var U=!1;for(var l=0;l<X.G.length;l++){var K=X.G[l];if((K.I==0||K.I==3)&&K.length>32767)U=!0}if(U){W.U.splice(N,1);
N--;continue}}q.Ae(W);if(k&&B&&B.oe.length!=0){this.aId(B);var D=k.FZ,m=B.oe.length,Y=B.oe[0],a=1e9,p=-1e9,d="";
for(var l=0;l<m;l++){var M=B.oe[l];a=Math.min(a,M.x);p=Math.max(p,M.x+M.Ah)}var x=[];for(var l=0;l<m;
l++){var M=B.oe[l],R=-1,y=Y.Sp*.1,s=Math.abs(M.x-a),F=Math.abs(M.x+M.Ah-p),E=Math.abs(s-F);if(E<y)R=2;
if(F<y){R=1;if(M.x!=a)if(l!=0&&B.oe[l-1].x==M.x||l!=m-1&&B.oe[l+1].x==M.x)R=-1}if(s<y)R=0;if(M.Ah==p-a)R=3;
x.push(R)}var o=[!1,!1,!1];for(var l=0;l<m;l++){var R=x[l];if(R==3)R=l==0?x[l+1]:x[l-1];if(R==3)R=0;
x[l]=R;o[R]=!0}var G=(p-a)*.05;if(o[0]&&!o[1])p+=G;if(!o[0]&&o[1])a-=G;if(!o[0]&&!o[1]){a-=G;p+=2*G}gZ.XM(D,1);
k.M.rY-=Y.Sp*.7;k.M.Wy=Math.round(a);gZ.eR(D,[0,0,Math.ceil(p-a),Math.ceil(B.oe[m-1].y-Y.y+Y.Sp*2)]);
for(var l=0;l<m;l++){var M=B.oe[l],R=x[l],u=0;if(R==-1){R=0;u=Math.round(M.x-a)}var r=d.length,v=r+M.t.length;
d+=M.t;var c={MD:[],n6:{},D8:{Justification:R,StartIndent:u}};gZ.oM(k.FZ,r,v-1,c)}}if(k){var D=k.FZ;
gZ.aoe(D);var V=gZ.mw(D).split("\n");for(var l=0;l<V.length-1;l++){var M=V[l],j=0;for(var Q=0;Q<M.length;
Q++){var H=M.charCodeAt(Q);if(1473<=H&&H<=1524)j++}if(j>M.length/2){V[l]=M.split("").reverse().join("");
var T=D.EngineDict.ParagraphRun.RunArray[l].ParagraphSheet.Properties;T._Direction=1;T.Justification=gZ.kZ(T)}}gZ.gK(D,V.join("\n"))}}W.Tr=!0;
W.r=this.bY.r;W.$=this.bY.$;W.buffer=g.j(this.bY.C()*4)};var b1={};b1.Zl=null;b1.zX=function(W,q,X,k,B,U){var l=cC==0?new dU(0,0,W.r,W.$):W.pI();
if(B==null)B=l.r;if(U==null)U=l.$;b1.Zl=W;var K=[[W.root,l,null]];if(cC==0&&W.add.artd){var D=W.root.children,m=[],Y=!0;
for(var N=0;N<D.length;N++){var a=D[N].B,p=a.add.artb,M=null;if(p==null){Y=!1;break}var x=p.artboardBackgroundType.v;
if(x!=1&&x!=3)M=a.Yr();m.push([D[N],a.La(),M])}if(Y)K=m}if(cC==1){var R=W.add.arts;K=[];for(var N=0;
N<R.length;N++)K.push([W.root,g.b.DS(R[N].IH),null])}var y=q.pags;y=y.replace(/,/g," ").replace(/\-/g," - ").replace(/  +/g," ").trim();
y=y.split(" ");var s=[];for(var N=0;N<y.length;N++){var F=y[N];if(F=="-"){var E=s.pop(),o=parseInt(y[N+1]);
while(E<o){s.push(E);E++}}else s.push(parseInt(F))}y=s;for(var N=0;N<y.length;N++)if(isNaN(y[N])||y[N]<1||y[N]>K.length){y.splice(N,1);
N--}var G=B/l.r,d=U/l.$,u=G*72/W.mC,r=d*72/W.mC,v=q.mrgn;if(v==null)v=0;var c=72*v,V=72*v;for(var j=0;
j<K.length;j++){var N=j;if(q.rvrs)N=K.length-1-j;if(y.length!=0&&y.indexOf(N+1)==-1)continue;var Q=K[N][0],H=K[N][1];
if(!Q.B.P$())continue;var T=Math.round(H.r*u+2*c),e=Math.round(H.$*r+2*V);X.StartPage(0,0,T,e);var z=UDOC.getState(),J=new ka;
J.translate(-H.x,-H.y-H.$);J.scale(u,-r);J.translate(c,V);if(K[N][2]){var P=K[N][2],L=c*u,A=V*r,h=L+H.r*u,C=A+H.$*r;
z.colr=[(P>>>0&255)/255,(P>>>8&255)/255,(P>>>16&255)/255];z.pth={cmds:["M","L","L","L","Z"],crds:[L,A,h,A,h,C,L,C]};
X.Fill(z)}if(cC==0&&q.rall){var w=g.j(H.C()*4);g.YE(g.Cn(W.OL(),8),l,w,H);var f=W.XZ();if(f)ICC.U.applyLUT(f[W.add.fcmy==1?5:3],f[2],w,w);
var O=lf.c_("JPG")._M([[w.buffer]],H.r,H.$,{qual:q.qual});w=new Uint8Array(O);var n=new ka;n.translate(H.x,H.y);
b1.eW(z,X,w,H,n,J)}else{b1.ql(W,Q,z,X,J,H,q,k);if(c!=0){var L=c,A=V,h=L+H.r*72/W.mC,C=A+H.$*72/W.mC,$=h+c,d9=C+c;
z.ca=1;z.colr=[1,1,1];z.pth={cmds:"M L L L Z M L L L Z".split(" "),crds:[0,0,0,d9,$,d9,$,0,L,A,h,A,h,C,L,C]};
X.Fill(z)}}if(q.cmrk){var i=[[0,0],[1,0],[1,1],[0,1]],dF=50,t=5,im=dF*.5,bc=t*.5,at=H.r*72/W.mC,l9=H.$*72/W.mC;
z.colr=[.1,.1,.1];for(var fF in i){var g$=i[fF],fR=[fF==0||fF==3?-1:1,fF==0||fF==1?-1:1],cr=[c-im+bc*fR[0]+g$[0]*at,V-(fR[1]!=1?t:0)+g$[1]*l9],eE=[c-(fR[0]!=1?t:0)+g$[0]*at,V-im+bc*fR[1]+g$[1]*l9];
z.pth={cmds:"M L L L Z M L L L Z".split(" "),crds:[cr[0],cr[1],cr[0]+dF,cr[1],cr[0]+dF,cr[1]+t,cr[0],cr[1]+t,eE[0],eE[1],eE[0]+t,eE[1],eE[0]+t,eE[1]+dF,eE[0],eE[1]+dF]};
X.Fill(z)}}var bQ=W.Ev;for(var hT=0;hT<bQ.length;hT++){var df=bQ[hT].v,H=g.NP.wu(df),eV=g.b.Lw(H).n;
g.b.M(eV,J,eV);var gU=g.b.Hb(eV);if(!new dU(0,0,T,e).Ox(gU))continue;if(X.AddAnnot)X.AddAnnot([gU.x,gU.y,gU.x+gU.r,gU.y+gU.$],df.url.v)}X.ShowPage()}X.Done();
b1.Zl=null};b1.hT=function(W){W=g.ov.yM(W);return[W.o/255,W.L/255,W.X/255]};b1.ql=function(W,q,X,k,B,U,l,K){var D=q.B,m=D.add.lsct,Y=D.add.lmfx,o,G,T,z=!1;
if(D.D7)return;var a=D.add.vmsk,p=D.add.vstk,M=D.add.TySh;if(cC==1&&!D.S3()&&!U.ty(g.b.Hb(D.sF())))return;
var x=q.children,R=x&&x.length!=0?x[x.length-1].B:null;if(cC==1&&R&&R.D7&&R.P$())a=R.add.vmsk;if(!D.P$())return;
var y=D.zO/255,s=D.add.iOpa!=null?D.add.iOpa/255:1;X.bmode=kb.a17(D.JY);var F=X.ca;X.ca=X.CA=y*s;var E=Y;
if(E)E=E.solidFillMulti.v[0];if(E)E=E.v;if(E&&!E.enab.v)E=null;var d=D.S;if(D.ID()&&(!D.S3()||D.kJ&&D.kJ.J5)){if(D.S3()){o=D.kJ.J5;
d=D.kJ.aKB}else{o=g.j(D.S.C());g.u6(g.Cn(D.buffer,8),o,3)}var u=dx.rX(Y,D.add.fxrp,o,d,W,d),G=u.I;dx.aKy(u);
var r=["DrSh","OrGl"];if(s!=1||p&&!p.fillEnabled.v){var v=o.slice(0);g.i5(v);for(var N=0;N<r.length;
N++){var c=G[r[N]];for(var V=0;V<c.length;V++){var j=c[V],Q=j.Ft.P();Q.x+=d.x;Q.y+=d.y;g.Jd(v,d,j.kl,Q)}}}}if(G)b1.avv(D,o,d,G,X,k,B,l,!0);
var H=dx.anQ(D,!1);if(H){k.StartTGroup(X);T=X;X=UDOC.getState();X.abk=T.abk}var e=a&&!D.Nj(),J=D.add.GdFl;
if(J&&J.Type.v.GrdT!="Lnr"&&J.Type.v.GrdT!="Rdl"){z=!0}if(e){var P=g.b.c$(a.G,!1),L=P.wb;g.b.M(L.n,B,L.n);
X.cpth={cmds:L.zb,crds:L.n}}if(D.S3()){for(var N=0;N<q.children.length;N++)b1.ql(W,q.children[N],X,k,B,U,l,K)}else if(D.Nj()&&D.add.PtFl==null&&!z){var A=a?a.G:g.z.oz.Rect(0,0,W.r,W.$),h=D.add.vstl,L,w;
if(h==null)h=ey.I1(D.add,W);for(var N=0;N<2;N++){var C=N==0?h.jg:h.rD;if(C&&C.length==4)for(var V=0;
V<C[1].length;V++)C[1][V][1]=b1.UB(C[1][V][1])}kb.HY(h,X);X.lwidth*=B.Lr();for(var N=0;N<X.dash.length;
N++)X.dash[N]*=B.Lr();if(cC==0){var P=g.b.c$(A,h.rD==null);L=P.wb;w=P.jl}if(cC==1){L=g.b.sz(A);w=a.HG}g.b.M(L.n,B,L.n);
X.pth={cmds:L.zb,crds:L.n};for(var V=0;V<2;V++){var N=h.EE==2?1-V:V,O=N==0?h.jg:h.rD,n=null;if(O.length==0)continue;
else if(O.length==3)n=O;else{var $=jt.qR(O,A);$.concat(B);var d9=[0,0,1,0];if(O[0]==1){var i=O[2][5]*Math.PI/180,t=O[2][6];
d9=[Math.cos(i)*t,-Math.sin(i)*t,0,0,0,1]}n={typ:["lin","rad"][O[0]],mat:[$.iM,$.X,$.bO,$.kv,$.Wy,$.rY],grad:g.N(O[1]),crds:d9}}X[N==0?"colr":"COLR"]=n;
k[N==0?"Fill":"Stroke"](X,w!=0)}}else if(M&&l.vtxt){var im=M.FZ,bc=new cm(im,K,M.ZN),L=hj.Gi(bc,M,!0),at=g.b.N9(L),l9=null,p=dx.as9(Y);
if(p){l9=kE.Cs.IZ(p);l9.rD=b1.hT(p.strokeStyleContent.v.Clr.v)}for(var fF in at){var g$=parseInt(fF.slice(1,7),16),fR=0;
X.colr=E?b1.hT(E.Clr.v):b1.aBK(g$);var cr=at[fF];g.b.M(cr.n,B,cr.n);cr=g.b.aws(cr);X.pth={cmds:cr.zb,crds:cr.n};
var h=l9?g.N(l9):null;if(fF.length>7)h=hj.adp(fF.slice(7));if(h)h.A4*=B.Lr();if(h&&h.EE==2){X.COLR=h.rD;
kb.HY(h,X);k.Stroke(X)}k.Fill(X);if(h&&h.EE!=2){X.COLR=h.rD;kb.HY(h,X);k.Stroke(X)}}}else if(M){var im=g.N(M.FZ);
gZ.aoe(im);var eE=M.M.P(),bQ=new ka(1,0,0,-1,0,0);bQ.concat(eE);bQ.concat(B);var hT=gZ.mw(im),bc=new cm(im,K,M.ZN);
for(var N=0;N<bc.D8.length;N++){var df=bc.D8[N];if(df.e6.length==1&&df.e6[0].cS)continue;for(var V=0;
V<df.tE.length;V++){var eV=df.tE[V],gU=df.l7.y+eV.l7.y,i8=df.e6[eV.start].start,bv=df.e6[eV.end-1].end,fE=gZ.ars(im,i8,bv);
for(var d5=0;d5<fE.length;d5++){var aR=bc.Xt(i8),l8=fE[d5],au=gZ.J0(im,i8,i8),hx=au.MD[au.n6.Font].Name;
X.font.Tf=hx;var fF=gZ.yM(au.n6.FillColor);X.colr=E?b1.hT(E.Clr.v):[fF.o/255,fF.L/255,fF.X/255];var fw=X.font.Tfs=Math.round(au.n6.FontSize),cx=hT.slice(i8,i8+l8);
if(au.n6.FontCaps==2)cx=cx.toUpperCase();var $=new ka;$.translate(aR.OM.x,-gU);$.concat(bQ);X.ctm=[$.iM,$.X,$.bO,$.kv,$.Wy,$.rY];
k.PutText(X,cx,0);for(var fg=0;fg<2;fg++){var iI=au.n6[fg==0?"Strikethrough":"Underline"];if(!iI)continue;
var eq=bc.Xt(i8+l8-1),fS=fg==0?.27:-.2,f1=fw*fS,c4=fw*(fS+.07),fR=eq.OM.x+eq.OM.r-aR.OM.x,ea=[0,f1,fR,f1,fR,c4,0,c4];
g.b.M(ea,$,ea);X.pth={cmds:["M","L","L","L","Z"],crds:ea};k.Fill(X)}X.ctm=[1,0,0,1,0,0];i8+=l8}}}}else if(!D.S.PM()||cC==1){var ie,i$,cI=!1,cD=new ka,fG=D.add.SoLd,cH=!0;
if(fG)cH=g.F.iU(g.F.b6(_.Gz.rQ(fG.Trnf)));var hL=W.XZ();if(fG&&cH&&hL==null){var ee=fG.Idnt.v,aj=W.a3(ee,fG.Crop?fG.Crop.v:null),hZ="";
if(aj==null)return;var iA=aj.jx,eL=lf.pP(aj.raw.buffer);if(l.fmts.indexOf(eL)!=-1){ie=aj.raw;cI=!0}else ie=iA[0];
i$=iA[1];cD=g.F.cH(fG)}else{ie=g.Cn(D.buffer,8);i$=D.S;cD.translate(i$.x,i$.y);if(hL){ie=ie.slice(0);
ICC.U.applyLUT(hL[W.add.fcmy==1?5:3],hL[2],ie,ie)}if(g.Md(ie,i$.r,i$.$)&&l.fmts&&l.fmts.indexOf("jpg")!=-1){var bZ=lf.c_("JPG")._M([[ie.buffer]],i$.r,i$.$,[l[1]]);
ie=new Uint8Array(bZ);cI=!0}}if(E&&!cI)ie=dx.asw(ie,E,i$);b1.eW(X,k,ie,i$,cD,B);if(E&&cI){var ea=[0,0,i$.r,0,i$.r,i$.$,0,i$.$];
g.b.M(ea,cD,ea);g.b.M(ea,B,ea);var k_=g.N(X);k_.ca=E.Opct.v.val/100;k_.pth={cmds:["M","L","L","L","Z"],crds:ea};
k_.colr=b1.hT(E.Clr.v);k.Fill(k_)}}if(e)X.cpth=null;if(H){k.EndTGroup();X=T}X.ca=X.CA=F;if(G)b1.avv(D,o,d,G,X,k,B,l,!1)};
b1.UB=function(W){var q=b1.Zl;if(q==null)return W;var X=q.XZ();if(X&&q.add.fcmy){return g.eL(g.s6(W)).slice(0,3)}return W};
b1.hT=function(W){W=g.ov.yM(W);return b1.UB([W.o/255,W.L/255,W.X/255])};b1.aBK=function(W){return b1.UB([(W>>>16&255)/255,(W>>>8&255)/255,(W&255)/255])};
b1.avv=function(W,q,X,k,B,U,l,K,D){var m=X.P(),Y=q;if(W.add.TySh&&!K[3]&&!K[4])return;var a=B.ca,p=B.bmode;
for(var N=kE.order.length-1;N>=0;N--){var M=kE.order[N];if(M=="GrFl"||M=="SoFi")continue;if((W.add.vmsk||W.add.TySh)&&M=="FrFX")continue;
var x=k[M],R=N>7||M=="FrFX";if(R!=D)continue;for(var y=0;y<x.length;y++){var s=x[y];if(s.Ft==null)s=s.tv?s.tv:s.ir;
if(s==null)continue;var F=s.Ft.P();F.offset(m.x,m.y);if(!R){if(!m.Ox(F)){var E=m.xw(F),o=g.j(E.C());
g.Z_(Y,m,o,E);Y=o;m=E}g.Jd(Y,m,s.kl,F)}if(R&&M=="FrFX"&&s.lW)g.Jd(s.lW,F,s.kl,F);var G=new ka;G.translate(F.x,F.y);
B.ca=s.zi;B.bmode=kb.a17(s.Dz);b1.eW(B,U,s.kl,F,G,l)}}B.ca=a;B.bmode=p};b1.eW=function(W,q,X,k,B,U){var l=new ka;
l.scale(k.r,-k.$);l.translate(0,k.$);l.concat(B);l.concat(U);W.ctm=[l.iM,l.X,l.bO,l.kv,l.Wy,l.rY];q.PutImage(W,X,k.r,k.$);
W.ctm=[1,0,0,1,0,0]};var gJ={};gJ.WZ=function(W){var q=new Uint8Array(W);return gJ.c3(q,0)};gJ.c3=function(W,q){var X=Z.WP,k=Z.zD,B={I8:k(W,q,4),h:q+8,size:X(W,q+4)},U=B.I8=="FORM"||B.I8=="FOR4"||B.I8=="LIST"||B.I8=="CAT ";
if(U)B.Y_=k(W,q+8,4);if(B.size<0||B.h+B.size>W.length)throw"e";if(U){B.sub=[];q+=12;var l=B.h+B.size;
while(q<l){var K=gJ.c3(W,q);B.sub.push(K);var D=K.size&1,m=K.size&3;if(B.I8=="FOR4")D=m==0?0:4-m;q+=8+K.size+D}}return B};
var eB={};eB.WZ=function(W,q){var X=new Uint8Array(W);return eB.c3(X,0,q)};eB.c3=function(W,q,X){var k=Z.P2,B=Z.zD,U={I8:B(W,q,4),h:q+8,size:k(W,q+4)};
if(X&&X[U.size]!=null)U.size=X[U.size];if(U.I8=="RIFF"||U.I8=="LIST"){U.Y_=B(W,q+8,4)}if(U.size<0||U.h+U.size>W.length){console.log(U,W.length);
throw"e"}if(U.I8=="RIFF"||U.I8=="LIST"&&(U.Y_!="cmpr"&&U.Y_!="stlt")){U.sub=[];q+=12;var l=U.h+U.size;
while(q<l){var K=eB.c3(W,q,X);U.sub.push(K);q+=8+K.size+(K.size&1)}}return U};var b4=function(){function W(n,$){var d9=null;
if(n.sub==null)return d9;for(var N=0;N<n.sub.length;N++){var i=n.sub[N];if(i.I8==$||i.Y_==$)d9=i}return d9}function q(n){if(n==32)return 300;
else if(n<49)return 0;else if(n<58)return 100*(n-48);else if(n<65)return 0;return 100*(n-55)}var X;function k(n,$){var d9=new Uint8Array(n);
$.Tr=!0;X={};var i=Z.zD(d9,0,2);if(i=="WL"){alert("Unsupported CDR version")}else{var dF,t,im,l9,eV=300,bv=0;
if(i=="PK"){t=UZIP.parse(d9);if(t["content/root.dat"]){d9=t["content/root.dat"];im=Z._o(t["content/dataFileList.dat"]).split("\n")}else{d9=t["content/riffData.cdr"];
t=null}}dF=eB.WZ(d9.buffer);console.log(dF);var bc=q(d9[11]),at={data:d9,h:0,_k:bc};at.sD=at._k<600?16:32;
r(d9,at,im,t,dF.sub,0);var fF=[];if(t){l9=W(dF,"doc ");B(l9);var g$=dF.sub;for(var N=0;N<g$.length;N++)if(g$[N].Y_=="page")fF.push(g$[N]);
fF=fF.slice(1)}else if(dF.sub[3]&&dF.sub[3].I8=="pack"){alert("We dont support this version of CDR files");
return}else if(W(dF,"cmpr")==null){l9=W(dF,"page");fF.push(l9);if(W(l9,"mcfg")==null){l9=W(dF,"doc ");
B(l9);fF=[];var g$=dF.sub;for(var N=0;N<g$.length;N++)if(g$[N].Y_=="page")fF.push(g$[N]);fF=fF.slice(1)}}else{var fR=W(dF,"cmpr").sub;
l9=fR[0];fF=[fR.slice(1)[1]];if(W(l9,"filt"))B(l9)}var cr=W(l9,"mcfg")._,eE=cr.awC,bQ=eE.x*.1,hT=eE.x*fF.length+bQ*(fF.length-1),df=eE.y;
eV/=eU.hi(new dU(0,0,Math.round(hT*eV),Math.round(df*eV)),8192*8192);var gU=Math.round(hT*eV),i8=Math.round(df*eV);
$.r=gU;$.$=i8;$.buffer=g.j($.r*$.$*4);for(var N=0;N<fF.length;N++){var fE=new ka(eV,0,0,-eV,eE.x*eV/2+bv,eE.y*eV/2);
U(fF[N],l9,$,fE);var d5=$.U[$.U.length-1];d5.VA(new dU(Math.round(bv),0,Math.round(eE.x*eV),Math.round(eE.y*eV)));
d5.YY("Page "+(N+1));bv+=eE.x*eV+bQ*eV}$.GX(fF.length)}}function B(n){var $=W(n,"filt").sub,d9=W(n,"otlt").sub,i=W(n,"fntt");
if(i)i=i.sub;n.yF={};for(var N=0;N<$.length;N++)n.yF[$[N].sub[0]._.id]=$[N].sub[0]._;n.wH={};for(var N=0;
N<d9.length;N++)n.wH[d9[N]._.id]=d9[N]._;if(i){n.fonts={};for(var N=0;N<i.length;N++)n.fonts[i[N]._.id]=i[N]._}}function U(n,$,d9,i){var dF=n.Y_?n.Y_:n.I8,t=W(n,"lgob"),im=W(n,"txsm"),bc=null,at=null;
if(t){bc=W(t,"trfl");at=W(t,"loda")}else if(W(n,"lobj"))at=W(n,"lobj");var l9=bc&&bc.sub[0].Ez?bc.sub[0].Ez.P():new ka;
l9.concat(i);var fF=d9.Sh();if(dF=="page"||dF=="layr"||dF=="grp "){fF.YY((dF=="page"?"Page":"Group")+" "+d9.U.length);
fF.add.lsct=e5.B2;fF.JY="pass";fF.Z9=24;var g$=[];if(dF=="page")g$=W(n,"gobj").sub;if(dF=="layr")g$=n.sub.slice(2);
if(dF=="grp ")g$=n.sub.slice(4);if(g$.length==0)return;d9.U.push(d9.rS());for(var N=g$.length-1;N>=0;
N--)U(g$[N],$,d9,i)}else if(dF=="obj "&&at._&&at._.path){var fR,cr;if($.yF){fR=$.yF[at._.aiD];cr=$.wH[at._.ax7]}if(fR==null)fR=at._.akD;
if(cr==null)cr=at._.ar4;fF=l(d9,at._.path,i,l9,fR,cr)}else if(dF=="obj "&&im){var eE=at._.arq,bQ=at._.aK0,eV="";
fF.add.TySh=gZ.nG(0,0);var hT=l9.Lr();fF.add.TySh.M.translate(l9.Wy,l9.rY);var df=fF.add.TySh.FZ,gU=im._.E3;
if(gU==null)return;for(var N=0;N<gU.length;N++){var i8=gU[N],bv=eV.length;eV+=i8.text+"\n";gZ.L3(df,bv,i8.text+"\n");
if(i8.text=="")continue;var fE=K(i8.aqq,$),d5=fE.adZ,aR=$.fonts[d5.aec],l8=gZ.J0(df,bv,eV.length);if(fE.align==3)l8.D8.Justification=1;
else if(fE.align==2)l8.D8.Justification=2;else l8.D8.Justification=0;var au=fE.fill._;if(au==null)au=[0,0,0];
if(aR.Ue)gZ.j_(l8,aR.Ue);l8.n6.FillColor={Type:1,Values:[1,au[0],au[1],au[2]]};l8.n6.FontSize=Math.round(d5.fontSize*i.Lr());
gZ.oM(df,bv,eV.length-1,l8)}if(bQ){gZ.XM(df,0)}else{gZ.XM(df,1);gZ.eR(df,[0,0,Math.round(eE.x*l9.iM),Math.round(-eE.y*l9.kv)])}fF.YY(eV.slice(0,10))}else{fF=null}if(fF)d9.U.push(fF)}function l(n,$,d9,i,dF,t){var im=n.Sh();
im.YY("Object "+n.U.length);im.Z9|=16;var bc=im.add.vstk=kE.Cs.wy();im.add.vmsk=new b.jY;im.add.vmsk.G=g.b.gH($,!1);
g.z.Y9(im.add.vmsk.G,i);var at=dF&&dF.I!=0,l9=at&&dF._!=null?dF._:[0,0,0];kb.Hq(l9,im,i,im.add.vmsk.G);
bc.fillEnabled.v=at;if(t&&t.aK6!=1){bc.strokeEnabled.v=!0;bc.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
var fF=bc.strokeStyleLineWidth.v.val=t.lineWidth*d9.Lr(),g$=t.color;bc.strokeStyleContent.v.Clr.v=g.ov.E2({o:g$[0]*255,L:g$[1]*255,X:g$[2]*255});
if(t.Vt.length!=0)bc.strokeStyleLineDashSet.v=dx.uD(t.Vt,4/fF);var fR=t.aq1,cr=t.axX;if(cr!=0){var eE=$.n,N=eE.length-4,bQ=eE[N],hT=eE[N+1],df=eE[N+2],eV=eE[N+3],gU=new ka;
gU.scale(.15,.15);gU.rotate(-Math.PI/2+Math.atan2(eV-hT,-(df-bQ)));gU.translate(df,eV);gU.concat(i);
if(X[cr]){var i8=l(n,X[cr],d9,gU,g$,null);n.U.push(i8)}}}im.tw();im.Ae(n);return im}function K(n,$){var d9=W($,"stlt")._,i=g.N(d9.sg[n]);
if(i.rT!=0){var dF=d9.sg[i.rT];for(var t in dF)if(i[t]==null||i[t]==0)i[t]=dF[t];delete i.rT}i.align=d9.acn[i.a39];
i.fill=$.yF[d9.a9b[i.akA]];i.ag1=$.wH[d9.ajU[i.aBE]];i.adZ=d9.axe[i.ah3];return i}function D(N){var a1=N.data[N.h];
N.h+=1;return a1}function m(N){var a1=Z.Sm(N.data,N.h);N.h+=2;return a1}function Y(N){var a1=Z.P2(N.data,N.h);
N.h+=4;return a1}function a(N){var a1=Z.P2(N.data,N.h);N.h+=8;return a1}function p(N){var a1=Z.lm(N.data,N.h);
N.h+=2;return a1}function M(N){var a1=Z.qX(N.data,N.h);N.h+=4;return a1}function x(N){var a1=Z.mx(N.data,N.h);
N.h+=8;return a1}function R(N){if(N.h>=N.data.length)throw"e";var n=0;while(N.data[N.h+n]!=0)n++;var $=Z.zD(N.data,N.h,n);
N.h+=n+1;return $}function y(N){var n="";while(!0){var $=m(N);if($==0)break;n+=String.fromCharCode($)}return n}function s(n){var $=Y(n),d9=($&4294901760)>>>16,i=($&65535)/65535;
return d9+i}function F(n){if(n._k<600)return Math.PI*p(n)/1800;return Math.PI*M(n)/18e7}function E(n){if(n._k<1500)return o(n);
else return x(n)/254e3}function o(n){if(n._k<600)return p(n)/1e3;else return M(n)/254e3}function G(n){if(n._k<600)return m(n);
else return Y(n)}function d(n){if(n._k<600)return p(n);else return M(n)}function u(n,$,d9){var i="";
for(var N=0;N<d9;N++){for(var dF=0;dF<$;dF+=4){var a1=Z.P2(n.data,n.h+N*$+dF);i+=(a1<500?a1:a1)+","}i+="\n"}return i}function r(n,$,d9,i,dF,t){var im,bc,at;
for(var l9=0;l9<dF.length;l9++){var fF=$._k,g$=dF[l9];$.data=n;$.h=g$.h+(g$.I8=="LIST"?4:0);if(i&&g$.sub==null){im=Y($);
bc=Y($);at=Y($);var fR=m($);if(fR!=0&&fR!=256&&fR!=768)throw fR.toString(16);var cr=m($);if(cr>32)throw"e";
$.h-=16;if(im!=4294967295){$.data=i["content/data/"+d9[im]];$.h=at}}if(g$.I8=="vrsn"){if(g$.size==16)$.h+=8;
var eE=m($);$._k=eE;console.log("Version",eE);$.sD=eE<600?16:32}else if(g$.I8=="DISP"){}else if(g$.I8=="pack"){var bQ=Y($),hT=Z.zD($.data,$.h,4),gU=0;
if(hT!="CPng")throw hT;var df=new Uint8Array($.data.buffer,$.h+8+2,g$.size-10-4),eV=pako.inflateRaw(df);
g$.sub=[];while(gU<eV.length){var i8=eB.c3(eV,gU);gU=i8.h+i8.size;g$.sub.push(i8)}var bv={data:eV,h:0,_k:fF,sD:$.sD};
r(eV,bv,d9,i,g$.sub,t+1)}else if(g$.I8=="LIST"&&g$.Y_=="cmpr"){var fE=Y($),d5=Y($),aR=Y($),bQ=Y($),hT=Z.zD($.data,$.h,4),gU=0;
if(hT!="CPng")throw hT;var df=new Uint8Array($.data.buffer,$.h+8+2,fE-6-8),eV=pako.inflateRaw(df);$.h+=fE;
df=new Uint8Array($.data.buffer,$.h+8+2);var l8=pako.inflateRaw(df),au=[];for(var hx=0;hx<l8.length;
hx+=4)au.push(Z.P2(l8,hx));g$.sub=[];while(gU<eV.length){var i8=eB.c3(eV,gU,au);gU=i8.h+i8.size;g$.sub.push(i8)}var bv={data:eV,h:0,_k:fF,sD:$.sD};
r(eV,bv,d9,i,g$.sub,t+1)}else if(g$.I8=="LIST"&&g$.Y_=="stlt"||g$.I8=="stlt"){if(im==4294967295)return;
var fw=$.h,c4="",bZ=32;g$._={};var cx=Y($);if(cx==0)return;g$._.a9b=z($,fF>=1300);g$._.ajU=z($);g$._.axe={};
var fg=Y($);for(var N=0;N<fg;N++){var iI=Y($);$.h+=fF<1e3?12:20;var eq=m($),fS=m($);$.h+=8;var f1=o($);
$.h+=fF<1e3?12:20;g$._.axe[iI]={aec:eq,a4L:fS,fontSize:f1}}g$._.acn=z($);var ea=Y($);c4+="Intervals\n"+u($,52,ea)+"\n";
$.h+=52*ea;var ie=Y($);c4+="Set5s\n"+u($,152,ie)+"\n";$.h+=152*ie;var i$=Y($);c4+="Tabs\n"+u($,784,i$)+"\n";
$.h+=784*i$;var cI=Y($);c4+="Bullets\n";for(var N=0;N<cI;N++){var cD=$.h,fG=Y($);$.h+=4*3;if(fF>1300)$.h+=4;
var cH=Y($);$.h+=4*5;if(fF>=1300){var hL=Y($);if(hL){if(Y($))$.h+=64;else $.h+=60}else $.h+=12}else{$.h+=20;
if(fF>=1e3)$.h+=8;if(Y($))$.h+=8;$.h+=8}var ee=$.h;$.h=cD;c4+=u($,ee-cD,1);$.h=ee}c4+="\n";var aj=Y($);
c4+="Indents\n";g$._.a44={};for(var N=0;N<aj;N++){var cD=$.h,iA=Y($),eL={};$.h+=12;eL.right=o($);eL.a9O=o($);
eL.left=o($);g$._.a44[iA]=eL;var ee=$.h;$.h=cD;c4+=u($,ee-cD,1);$.h=ee}c4+="\n";var hZ=Y($);if(fF>=1300)bZ+=4;
c4+="Hypens\n"+u($,bZ,hZ)+"\n";$.h+=bZ*hZ;var k_=Y($);c4+="Dropcaps\n"+u($,28,k_)+"\n";$.h+=28*k_;if(fF>800){var kW=Y($);
c4+="Set11s\n"+u($,28,kW)+"\n";$.h+=12*kW}g$._.sg={};for(var N=0;N<cx;N++){var iU=Y($);if(iU>3)throw iU;
var kO=Y($),hq={};hq.rT=Y($);$.h+=8;var e8=Y($);if(fF>=1200)e8*=2;$.h+=e8;hq.akA=Y($);hq.aBE=Y($);if(iU>1){hq.ah3=Y($);
hq.a39=Y($);hq.a9y=Y($);hq.aIS=Y($);if(fF>800)hq.aKZ=Y($)}if(iU>2){hq.a2I=Y($);hq.aaY=Y($);hq.aoN=Y($);
hq.aly=Y($);hq.ayj=Y($)}g$._.sg[kO]=hq}}else if(g$.I8=="LIST")r(n,$,d9,i,g$.sub,t+1);else if(g$.I8=="txsm"){g$._={};
if(fF<600)throw"e";if(fF<700)throw"e";if(fF>=1600){g$._=e($);return}if(fF>=1500)$.h+=37;else $.h+=36;
if(Y($)){if(fF<800)$.h+=32}if(fF<800)$.h+=4;g$._.aqf=Y($);g$._.E3=[];$.h+=48;if(fF>=800){if(Y($)){$.h+=32;
if(fF>=1300)$.h+=8}}if(fF>=1500)$.h+=12;var iU=Y($),gi=1,jZ=!1;if(!iU){if(fF>=800)$.h+=4;if(fF>800)$.h+=2;
if(fF>=1400)$.h+=2;$.h+=24;if(fF<800)$.h+=8;gi=Y($)}for(var hx=0;hx<gi;hx++){var cg=Y($),N=0;if(fF>=1300&&iU)$.h++;
$.h++;var cx=Y($),hn=[];for(N=0;N<cx;N++){var bF=D($),eH=0;D($);var gf=D($);if(fF>=800)eH=D($);var hq={};
if(gf&1){hq.aec=m($);var h5=m($);if(h5)hq.a66=h5}if(gf&2)$.h+=4;if(gf&4)hq.a2p=o($);if(gf&8)$.h+=4;if(gf&16)$.h+=4;
if(gf&32)$.h+=4;if(gf&64){hq.akA=Y($);if(fF>=1500)$.h+=48}if(gf&128){hq.aBE=Y($)}if(eH&8){if(fF>=1300){var gS=Y($);
if($.h+gS*2>=$.data.length){jZ=!0;break}$.h+=gS*2}else $.h+=4}if(eH&32){var hP=D($);if(hP)$.h+=52}if(bF==2)if(fF>=1300)$.h+=48;
hn.push(hq)}if(jZ){break}var iy=Y($);if($.h+iy*4>$.data.length)break;var cs=[];for(N=0;N<iy;N++){var fH=0;
if(fF>=1200)fH=a($)&4294967295;else fH=Y($);cs[N]=fH>>16|fH&1}var fM=iy;if(fF>=1200)fM=Y($);var az=R($);
g$._.E3.push({aqq:cg,text:az,sg:hn})}}else if(g$.I8=="arrw")g$._=v($);else if(g$.I8=="font"){var cD=$.h,er=m($),aJ=m($),kS="";
$.h+=14;if($._k>=1200)kS=y($);else kS=R($);g$._={id:er,axI:aJ,name:kS};if(i){var ge=cD+bc;while($.data[$.h]==0)$.h++;
$.h+=2;var aT=y($);while($.data[$.h]==0)$.h++;while($.data[$.h]<=2)$.h+=4;g$._.Ue=y($)}}else if(["IKEY","ICMT","pfrd","bcfg"].indexOf(g$.I8)!=-1){}else if(g$.I8=="flgs")g$._=Y($);
else if(g$.I8=="bbox"){var fQ=o($),j6=o($),et=o($),d2=o($);g$._=new dU(fQ,j6,et-fQ,d2-j6)}else if(g$.I8=="fild"){var kx=Y($),ke;
if(fF>=1300)$.h+=8;if(fF>=2510)$.h+=16+8;var c2=m($);if(c2==0){}else if(c2==1){$.h+=fF>=1300?13:2;ke=f($)}else if(c2==2){$.h+=fF>=1300?8:2;
var dv=D($),fN=0;if(fF>=1300){$.h+=17;fN=p($)}else if(fF>=600){$.h+=19;fN=M($)}else{$.h+=11;fN=p($)}var b_=F($),hJ=.5+d($),dP=.5+d($)-.5;
if(fF>=600)$.h+=2;var cf=G($)&255,ig=D($)/100;$.h++;var b8=G($)&65535;if(fF>=1300)$.h+=3;var hE=[];for(var N=0;
N<b8;N++){var is=f($);if(fF>=1400)$.h+=26;else if(fF>=1300)$.h+=5;var e2=(G($)&65535)/100;if(fF>=1300)$.h+=3;
hE.push([e2,is])}ke={typ:dv==1?"lin":"rad",crds:[hJ-Math.cos(b_)/2,dP-Math.sin(b_)/2,hJ,dP],grad:hE,mat:[1,0,0,1,0,0]}}else console.log("Unknown fill type",c2);
g$._={id:kx,I:c2,_:ke}}else if(g$.I8=="outl"){var hh=Y($);if(fF>=1300){var e3=0,gy=0;while(e3!=1){$.h+=gy;
e3=Y($);gy=Y($)}}var hy=m($),iV=m($),fL=m($);if(fF<1300&&fF>=600)$.h+=2;var ct=o($),gE=m($)/100;if(fF>=600)$.h+=2;
var gz=F($);if(fF>=1300)$.h+=46;else if(fF>=600)$.h+=52;var ke=f($);if(fF<600)$.h+=10;else $.h+=16;var ij=m($),d$=$.h,jr=[];
for(var N=0;N<ij;++N)jr.push(m($));if(fF<600)$.h=d$+20;else $.h=d$+22;var f9=Y($),gl=Y($);g$._={id:hh,aK6:hy,awT:iV,aJY:fL,lineWidth:ct,color:ke,Vt:jr,aq1:f9,axX:gl}}else if(g$.I8=="mcfg"){if(1300<=fF)$.h+=12;
else if(900<=fF)$.h+=4;else if(600<=fF&&fF<700)$.h+=28;var i7=0,gq=0;if(fF<400){$.h+=2;var fQ=o($),j6=o($),et=o($),d2=o($);
i7=Math.abs(et-fQ);gq=Math.abs(d2-j6)}else{i7=o($);gq=o($)}g$._={awC:new hw(i7,gq)}}else if(g$.I8=="loda"||g$.I8=="lobj"){var fw=$.h,hV=G($),f_=G($),du=G($),f7=G($),gF=G($),gY=[],eD=[],N=0,gR=null;
$.h=fw+du;while(N<f_)gY[N++]=G($);$.h=fw+f7;while(N>0)eD[--N]=G($);g$._={};for(N=0;N<f_;N++){$.h=fw+gY[N];
var cv=eD[N];if(cv==30){if(fF>=400&&gF==1||fF<400&&gF==0){g$._.path=H($)}else if(fF>=400&&gF==2||fF<400&&gF==1){g$._.path=Q($)}else if(fF>=400&&gF==3||fF<400&&gF==2){g$._.path=A($)}else if(gF==37){g$._.path=L($)}else if(fF>=400&&gF==4||fF<400&&gF==3){g$._.aK0=J($)}else if(fF>=400&&gF==6||fF<400&&gF==5){g$._.arq=P($)}else console.log(gF)}else if(cv==20){if(fF<400)g$._.akD=V($);
else g$._.aiD=Y($)}else if(cv==10){if(fF<400)g$._.ar4=j($);else g$._.ax7=Y($)}else if(cv==200)g$._.aET=G($);
else if(cv==100){if(fF<400)gR=c($)}}if(gR&&g$._.path)g.b.M(g$._.path.n,gR,g$._.path.n)}else if(g$.I8=="trfd"){var fw=$.h,hV=G($),f_=G($),du=G($);
$.h=fw+du;var gY=[];for(var N=0;N<f_;N++)gY[N]=G($);for(var N=0;N<f_;N++){$.h=fw+gY[N];if(fF>=1300)$.h+=8;
var aH=m($);if(aH==8){var dk,lj,fQ,jq,j7,j6;if(fF>=600)$.h+=6;if(fF>=500){dk=x($);lj=x($);fQ=x($)/(fF<600?1e3:254e3);
jq=x($);j7=x($);j6=x($)/(fF<600?1e3:254e3)}else throw"e";g$.Ez=new ka(dk,jq,lj,j7,fQ,j6)}else console.log(aH)}}else if(!1){console.log(g$);
var es=Math.min(g$.size,32);console.log(Z.xa(n,g$.h,es));console.log(Z.auQ(n,g$.h,es))}}}function v(n){var $=Y(n);
n.h+=4;var d9=m(n);n.h+=4;var i=[];for(var dF=0;dF<d9;dF++)i.push(D(n));n.h+=1;var t=[];for(var im=0;
im<d9;im++){var bc=[];bc[1]=o(n);bc[0]=o(n);t.push(bc)}var at=C(t,i);X[$]=at}function c(n){var $=0,d9=0,i=0,dF=0,t=0,im=0;
if(n._k>=300){var bc=n.h;n.h+=10;var at=G(n);n.h=bc+at;$=s(n);d9=s(n);i=M(n)/1e3;dF=s(n);t=s(n);im=M(n)/1e3}else{i=o(n);
im=o(n);$=s(n);d9=s(n);i+=s(n)/1e3;dF=s(n);t=s(n);im+=s(n)/1e3}return new ka($,d9,dF,t,i,im)}function V(n){var $=D(n);
if($==0)return null;else if($==1)return f(n);else console.log($)}function j(n){var $=D(n);$<<=1;var d9=o(n),i=m(n)/100,dF=F(n),t=f(n);
return{aK6:$,lineWidth:d9,color:t,Vt:[],aq1:0,axX:0}}function Q(n){var $=o(n),d9=o(n),i=F(n),dF=F(n),t=g.b.sz(g.z.oz.am(0,0,$,d9));
return t}function H(n){var $=n._k,d9=E(n),i=E(n),dF=0,t=0,im=0,bc=0,at=0,l9=1,fF=1;if($<1500){bc=E(n);
im=$<900?bc:E(n);t=$<900?bc:E(n);dF=$<900?bc:E(n)}else{var g$=x(n);if(g$!=0)l9=g$;g$=x(n);if(g$!=0)fF=g$;
var fR=D(n);n.h+=7;if(fR==0){bc=x(n);at=D(n);n.h+=15;im=x(n);n.h+=16;t=x(n);n.h+=16;dF=x(n);var cr=Math.abs(d9*l9/2),eE=Math.abs(i*fF/2);
bc*=cr<eE?cr:eE;im*=cr<eE?cr:eE;t*=cr<eE?cr:eE;dF*=cr<eE?cr:eE}else{bc=E(n);at=D(n);n.h+=15;im=E(n);
n.h+=16;t=E(n);n.h+=16;dF=E(n)}}return g.b.sz(g.z.oz.Rect(0,0,d9,i,[dF,t,im,bc]))}function T(n){var $=Y(n);
if(n._k<1700)$*=2;n.h+=$;return""}function e(n){var $=Y(n),i=0;n.h+=37;var d9=Y(n);for(var N=0;N<d9;
N++){var dF=Y(n);i=dF;n.h+=48;var t=Y(n);if(t==1)n.h+=12*4;else n.h+=8;if(!$){n.h+=16;T(n)}}var im={aqf:i,E3:[]},bc=Y(n);
for(var at=0;at<bc;at++){if(n.h>n.data.length)throw"e";var l9=Y(n),fF=D(n),g$=-1,fE="";if($){g$=D(n);
if(g$==1)n.h+=64}var fR=T(n),cr=Y(n);for(var N=0;N<cr;N++){n.h+=2;var eE=m(n),bQ=m(n);if(bQ&4){var hT=Y(n);
hT*=2;n.h+=hT}if(eE||bQ&4){var df=T(n)}}var eV=Y(n),gU=[];for(var N=0;N<eV;N++){var i8=a(n)&4294967295;
gU[N]=i8>>16|i8&1}var bv=Y(n);for(var N=0;N<eV;N++){var d5=gU[N]&7,aR=0;if(d5==0||d5==2||d5==4||d5==6)aR=n.data[n.h++];
else if(d5==1||d5==3||d5==5||d5==7)aR=n.data[n.h++]+n.data[n.h++]*256;else throw d5;fE+=String.fromCharCode(aR)}if(at+1<bc)n.h++;
var l8=fE.split("\r");for(var N=0;N<l8.length;N++)im.E3.push({text:l8[N],aqq:l9,sg:[]})}return im}function z(n,$){var d9={},i=Y(n);
for(var N=0;N<i;N++){var dF=Y(n);n.h+=4;var t=Y(n);d9[dF]=t;if($)n.h+=48}return d9}function J(n){var $=o(n),d9=o(n);
return new hw($,d9)}function P(n){n.h+=4;var $=o(n),d9=o(n);return new hw($,d9)}function L(n){n.h+=4;
var $=m(n)+m(n);n.h+=16;var d9=h(n,$);return d9}function A(n){var $=m(n);n.h+=2;return h(n,$)}function h(n,$){var d9=[],i=[];
for(var N=0;N<$;N++)d9.push([o(n),o(n)]);for(var N=0;N<$;N++)i.push(D(n));return C(d9,i)}function C(n,$){var d9={n:[],zb:[]},i=0,dF=0,t=0;
for(var N=0;N<n.length;N++){var i=n[N][0],dF=n[N][1],im=$[N];if(!(im&64)&&!(im&128)||N==0){d9.n.push(i,dF);
d9.zb.push("M");t+=2}else if(im&64&&!(im&128)){d9.n.push(i,dF);d9.zb.push("L");t+=2}else if(!(im&64)&&im&128){d9.n.push(i,dF);
d9.zb.push("C");t+=6}else if(im&64&&im&128){d9.n.push(i,dF)}}if(t!=d9.n.length)throw"e";return d9}function w(n,$){var d9=Z.P2;
$+=8;var i=d9(n,$);$+=4;var dF=d9(n,$);$+=4;$+=4*7;var t=$,im=g.j(i*dF*4);$+=1024;for(var bc=0;bc<dF;
bc++)for(var at=0;at<i;at++){var N=bc*i+at,l9=(dF-bc-1)*i+at,fF=n[$+N]<<2,g$=l9<<2;im[g$+0]=n[t+fF+2];
im[g$+1]=n[t+fF+1];im[g$+2]=n[t+fF+0];im[g$+3]=255}return{kl:im,S:new dU(0,0,i,dF)}}function f(n){var $=n._k,d9=0,i=0,dF=0;
if($>=500){d9=m(n);if(d9==1&&$>=1300)d9=25;if(d9==30){d9=25;i=30}else{i=m(n);n.h+=4}dF=Y(n)}else if($>=400)throw"e";
else{d9=D(n);dF=Y(n)}return O(d9,i,dF)}function O(n,$,d9){var i=[0,0,0];if(n==2||n==3||n==9||n==17){var dF=[d9>>>0&255,d9>>>8&255,d9>>>16&255,d9>>>24&255];
if(n==2)for(var N=0;N<4;N++)dF[N]=Math.round(255*dF[N]/100);for(var N=0;N<4;N++)dF[N]/=255;i=UDOC.C.cmykToRgb(dF)}else if(n==1||n==5){i=[d9>>>0&255,d9>>>8&255,d9>>>16&255];
for(var N=0;N<3;N++)i[N]=i[N]/255;if(n==5)i.reverse()}else console.log("Unknown color model "+n,d9,d9.toString(16));
return i}return{WZ:k}}(),ic=function(){var W,q,X=new ArrayBuffer(4),k=new Uint8Array(X),B=new Uint32Array(X),U=new Float32Array(X);
function l(p,M){for(var x=0;x<p.length;x++)if(p[x][0]==M)return p[x]}function K(){var p=0,M=0,x=0;do{x=W[q++];
p|=(x&127)<<M;M+=7}while(x&128&&M<35);return p>>>0}function D(p,M,x,R,y){W=p;q=M;var s=R[0]=="mesg",F=R[2],E={},o=1,G=s?1e9:F.length;
while(o<=G){var d=o;if(s){d=K();if(d==0)break}var u=l(F,d),r=u[2],v=u[1]==1,c=v?K():1,V=new Array(c);
if(r==3){if(!v)throw"e";V=W.slice(q,q+c);q+=c}else for(var N=0;N<c;N++){var j;if((r&1)==1){if(r==1)j=W[q++]==1;
else if(r==3)j=W[q++];else if(r==5){var Q=K();j=Q&1?~(Q>>>1):Q>>>1}else if(r==7)j=K();else if(r==9){if(W[q]==0){j=0;
q++}else{k[0]=W[q];k[1]=W[q+1];k[2]=W[q+2];k[3]=W[q+3];var H=B[0];B[0]=H<<23|H>>>9;j=U[0];q+=4}}else if(r==11){var T=m(W,q);
j=T[0];q+=T[1]+1}else throw r}else{var e=x[r>>>1];if(e[0]=="enum"){var z=K();j=e[2][z]}else{var J=D(W,q,x,e,y+1);
j=J[0];q=J[1]}}V[N]=j}E[u[3]]=v?V:V[0];o++}return[E,q]}function m(p,M){var x=M;while(p[x]!=0)x++;return[Z._o(new Uint8Array(p.buffer,M,x-M)),x-M]}function Y(p,M){var x=M;
while(p[x]!=0)x++;for(var N=M;N<x;N++)if(p[N]>127)throw"e";return Z.zD(p,M,x-M)}function a(p){W=p;q=1;
var M=[];while(q<p.length){var x=q,R=M.length,y=Y(p,q);q+=y.length+1;var s=K();if(s>2)throw"e";var F=K(),E=[];
for(var N=0;N<F;N++){var o=Y(p,q);q+=o.length+1;var G=K(),d=K(),u=K();E.push(s==0?o:[u,d,G,o])}M.push([["enum","strc","mesg"][s],y,E])}return M}return{adW:a,atR:D}}();
function f4(){}f4.WZ=function(W,q){var X=Date.now(),k=new Uint8Array(W),B=8,U,p=0,P=0;if(k[0]==80&&k[1]==75){U=UZIP.parse(W);
k=U["canvas.fig"]}var l=Z.P2(k,B);B+=4;var K=[];while(B<k.length){var D=Z.P2(k,B);B+=4;var m=k.slice(B,B+D);
if(k[B]==137&&k[B+1]==80){}else if(l>=70&&K.length!=0){var Y=lf.Mz.eG(m);m=Y.length==0?UZIP.inflateRaw(m):Y}else m=UZIP.inflateRaw(m);
K.push(m);B+=D}var a=ic.adW(K[0]);for(var N=0;N<a.length;N++)if(a[N][1]=="Message")p=N;var M=ic.atR(K[1],0,a,a[p],0)[0],x={Rr:{},ph:{},alE:{},ar:U},R=M.nodeChanges;
for(var y=0;y<R.length;y++){var s=R[y],F=s.guid;x.ph[F.sessionID+","+F.localID]=s}for(var y=0;y<R.length;
y++){var s=R[y],F=s.parentIndex;if(F){var E=f4.TH(x.ph,F.guid);if(E.children==null)E.children=[];E.children.push(s)}}var o=R[0],G=o.children,d=new dU,u=[],r=[];
for(var F=0;F<G.length;F++){var v=G[F],c=v.children;if(v.name=="Internal Only Canvas"||c==null)continue;
var V=new dU;for(var N=0;N<c.length;N++){var j=c[N],Q=j.transform,H=j.size;if(Q.m00==1&&Q.m10==0&&Q.m01==0&&Q.m11==1){var T=new dU(Q.m02,Q.m12,H.x,H.y);
V=V.xw(T)}}var e=d.$==0?0:d.$+100,z=V.P();z.x=0;z.y=e;d=d.xw(z);u[F]=V;r[F]=e}var J=eU.hi(new dU(0,0,d.r,d.$),8192*8192);
q.r=Math.round(d.r/J);q.$=Math.round(d.$/J);q.buffer=g.j(q.r*q.$*4);for(var F=0;F<G.length;F++){var v=G[F],c=v.children;
if(v.name=="Internal Only Canvas"||c==null)continue;c.sort(f4.aCY);var L=new ka(1,0,0,1,-u[F].x,r[F]-u[F].y);
L.scale(1/J,1/J);for(var N=0;N<c.length;N++){var j=c[N];f4.X3(j,[],L,M.blobs,q,0,x);P++}}q.GX(P);q.Tr=!0;
if(J!=1)alert("File scaled down "+J+"x")};f4.X3=function(W,q,X,k,B,U,l){var K=f4,c=!1,V,H=!1,T,e;q=g.N(q);
var D=W.overrideKey?W.overrideKey:W.guid;for(var N=0;N<q.length;N++){var m=q[N],Y=m.guidPath.guids;if(K.alI(Y[0],D)){if(Y.length==1){var a={};
for(var p in W)a[p]=m[p]!=null?m[p]:W[p];W=a}else m.guidPath.guids=Y.slice(1)}}var M=W.type,x=W.children,R=W.size,y=W.effects,s=B.Sh();
s.YY(W.name);s.ZR(W.visible);s.zO=Math.round(W.opacity*255);var F=K.Lj(W.transform),E=F.P();E.concat(X);
if(R==null)R={x:0,y:0};var o=new dU(Math.round(E.Wy),Math.round(E.rY),Math.round(R.x*E.Lr()),Math.round(R.y*E.Lr()));
if(o.r==0||isNaN(o.r))o.r=100;if(o.$==0||isNaN(o.$))o.$=100;var G=W.fillPaints,d=W.inheritFillStyleID;
if(d){var a=K.TH(l.ph,d);if(a)G=a.fillPaints}if(G==null)G=[];var G=K.ap6(G),u=G[0];if(u&&u.type=="IMAGE"&&K.OL(k,f4.UD(u),l,!0)==null)u=null;
var r=W.strokePaints,d=W.inheritFillStyleIDForStroke;if(d){var a=K.TH(l.ph,d);if(a)r=a.fillPaints}if(r==null)r=[];
var r=K.ap6(r),v="BOOLEAN_OPERATION LINE RECTANGLE ROUNDED_RECTANGLE ELLIPSE VECTOR REGULAR_POLYGON STAR".split(" ").indexOf(M)!=-1;
if(v||M=="FRAME"||M=="INSTANCE"){V=new b.jY;K.arm(W,k,V);c=g.z.A8(V.G);g.z.Y9(V.G,E);var j=g.b.V5(g.z.Sa(V.G));
if(!j.PM())o=j;if(l.Rr.Ly&&u){var Q=b.jY.zx(l.Rr.Ly.G);for(var N=2;N<Q.length;N++)if(Q[N].R3!=null)Q[N].R3=3;
V.G=V.G.concat(Q.slice(2))}}if(u&&u.type=="IMAGE"){e=u.imageScaleMode;H=!0;var z=u.originalImageWidth,J=u.originalImageHeight;
if(z*J==0){var P=K.OL(k,f4.UD(u),l);z=P.oq.r;J=P.oq.$}var L=z/J,A=R.x/R.y;T=Math.abs(L-A)}if(M=="FRAME"){}else if(v&&c&&H&&(e=="FIT"||e=="FILL"&&T<=.05||e=="STRETCH"&&T<=.05)){var h=K.OL(k,f4.UD(u),l,!0),C=B.ow(h,s.getName(),0,0);
C.Z9=s.Z9;C.zO=s.zO;s=C;var w=new dU(0,0,R.x,R.y);if(e=="FIT"){var f=u.originalImageWidth,O=u.originalImageHeight,n=Math.min(R.x/f,R.y/O),$=f*n,d9=O*n;
w=new dU(w.x+(w.r-$)/2,w.y+(w.$-d9)/2,$,d9)}var i=g.b.Lw(w).n;g.b.M(i,E,i);s.add.SoLd.Trnf=_.Gz.If(i);
s.add.SoLd.nonAffineTransform=_.Gz.If(i);var dF=[],y=W.effects,t=u.paintFilter;if(y)for(var N=0;N<y.length;
N++)if(y[N].type=="FOREGROUND_BLUR"){var im=y[N],bc=dY.NK("GsnB",{});dF.push(bc);bc.v.enab.v=im.visible;
bc.v.Fltr.v.Rds.v.val=im.radius/2.4}if(t&&t.exposure!=0){var bc=dY.NK("brit",{});dF.push(bc);bc.v.Fltr.v.Brgh.v=Math.round(t.exposure*160);
bc.v.Fltr.v.useLegacy.v=!0}if(t&&t.vibrance!=0){var bc=dY.NK("vibA",{});dF.push(bc);bc.v.Fltr.v.Strt.v=Math.round(Math.round(t.vibrance*100))}if(dF.length!=0){s.add.SoLd.filterFX=dY.EC();
B.ik({id:s.add.SoLd.placed.v,S:new dU,buffer:g.j(1),BD:new b.pj});s.add.SoLd.filterFX.v.filterFXList.v=dF}s.uz(B,!1);
K.ayu(l,s,B)}else if(v){K.U1(s,V,W,u,r,E,o,k,B,l);if(y)for(var N=0;N<y.length;N++){var im=y[N];if(im.type!="FOREGROUND_BLUR")continue;
V.iE=im.radius/2.4}s.tw();s.Ae(B)}else if(M=="TEXT"){var at=W.textData,l9=at.layoutSize;if(l9==null)l9=W.size;
var fF=["LEFT","RIGHT","CENTER"].indexOf(W.textAlignHorizontal);if(fF==-1)fF=0;s.add.lnsr="rend";s.add.TySh=gZ.nG(0,0);
s.add.TySh.oJ=new dU(0,0,100,100);var g$=E.P();s.add.TySh.M=g$;var fR=s.add.TySh.FZ,cr=at.characters;
if(W.textCase=="TITLE"){for(var N=0;N<cr.length;N++)if(N==0||cr[N-1]==" "){var eE=cr.slice(0,N),bQ=cr.slice(N+1);
cr=eE+cr[N].toUpperCase()+bQ}}cr=cr.replace(/\u2028/g,"\n");cr=cr.replace(/\u2029/g,"\n");cr=cr.replace(/\r\n/g," \n");
gZ.L3(fR,0,cr);var hT=W.textAutoResize,df=at.baselines;if(hT=="WIDTH_AND_HEIGHT"){var eV=fF==0?0:fF==1?l9.x:l9.x/2,gU=df?df[0].position.y:W.fontSize;
g$.translate(eV*E.Lr(),gU*E.Lr());gZ.XM(fR,0)}else if(hT=="HEIGHT"||hT=="NONE"||hT==null){var gU=df?df[0].position.y-W.fontSize*.7:0;
g$.translate(0,gU*E.Lr());gZ.XM(fR,1);gZ.eR(fR,[0,0,Math.round(l9.x),Math.round((hT=="NONE"?1.8:1)*l9.y)])}else throw hT;
if(cr!=""){var i8=gZ.J0(fR,0,1);K.a4y(W,E,R,i8,s,k,B,l);gZ.oM(fR,0,cr.length,i8);var bv=at.characterStyleIDs,fE=at.styleOverrideTable;
if(bv){bv=bv.slice(0);for(var N=0;N<bv.length;N++)if(cr[N]=="\n")bv[N]=-N-1;var d5=[0],aR=0,l8=0;for(var N=0;
N<bv.length;N++){l8++;var au=bv[N];if(N==0||au==bv[N-1]){}else{d5.push(l8-1,N);l8=1}}d5.push(l8);for(var N=0;
N<d5.length;N+=2){var hx=d5[N],fw=d5[N+1];if(cr[hx]=="\n")continue;var au=bv[hx];if(au!=0){var cx;for(var fg=0;
fg<fE.length;fg++)if(fE[fg].styleID==au)cx=fE[fg];var i8=gZ.J0(fR,hx,hx+1);K.a4y(cx,E,R,i8,s,k,B,l);
gZ.oM(fR,hx,hx+fw-1,i8)}}}}}else if(M=="SYMBOL"){}else if(M=="INSTANCE"&&W.symbolData){var iI=W.symbolData,eq=iI.symbolOverrides,a=K.TH(l.ph,iI.symbolID);
if(a)x=a.children;else console.log(W.name,"symbol not found",iI.symbolID);q=q.slice(0);for(var N=0;N<eq.length;
N++)q.push(eq[N])}else console.log(M);if(!1){}else if(x&&!v){B.U.push(B.rS());var fS=!1,f1=U==0&&M!="SYMBOL"&&M!="INSTANCE";
if(f1){if(o.PM())console.log(o);s.VA(o)}u=G[G.length-1];if(u&&u.type=="IMAGE"&&K.OL(k,f4.UD(u),l,!0)==null)u=null;
if(f1&&u&&u.type=="SOLID"){var c4=u.color;s.add.artb.artboardBackgroundType.v=4;s.add.artb.Clr=K.Hj(c4)}else if((u||r[0])&&V){var ea=B.Sh();
ea.YY("Background");K.U1(ea,V,W,u,r,E,o,k,B,l);ea.tw();ea.Ae(B);B.U.push(ea);fS=!0}x.sort(K.aCY);var ie=l.Rr;
l.Rr={};for(var i$=0;i$<x.length;i$++)K.X3(x[i$],q,E,k,B,U+1,l);l.Rr=ie;s.add.lsct=!1?e5.B2:e5.Fn;s.JY="pass";
var cI=s.P$();s.Z9=24;s.ZR(cI);var cD=U!=0&&G.length!=0&&!W.frameMaskDisabled&&W.containerSupportsFillStrokeAndCorners;
if(!fS&&cD&&V){s.add.vmsk=V;s.tw();s.Ae(B)}else K.ayu(l,s,B);B.U.push(s)}else if(M=="FRAME"&&u&&V){K.U1(s,V,W,u,r,E,o,k,B,l);
s.tw();s.Ae(B);B.U.push(s)}else if(W.mask){if(V){l.Rr.Ly=V}}else{var fG=[],hZ=1;if(y)for(var cH=0;cH<y.length;
cH++){var im=y[cH],hL=im.color,ee=im.type,aj=["DROP_SHADOW","INNER_SHADOW"].indexOf(ee);if(aj!=-1){var iA=["DrSh","IrSh"][aj],eL=JSON.parse(kE.iv[kE.order.indexOf(iA)]);
fG.push([iA,eL]);eL.enab.v=im.visible;eL.Md.v.BlnM=jm.yq(K.aqV(im.blendMode));eL.Opct.v.val=Math.round(100*hL.a);
eL.blur.v.val=Math.round(im.radius*E.Lr());eL.Clr=K.Hj(hL);var eV=im.offset.x,gU=im.offset.y;eL.uglg.v=!1;
eL.lagl.v.val=Math.round(180/Math.PI*Math.atan2(gU,-eV));eL.Dstn.v.val=Math.round(Math.sqrt(eV*eV+gU*gU)*E.Lr())}}if(M=="TEXT"&&G[0]&&G[0].type!="SOLID")hZ=0;
for(var N=hZ;N<G.length;N++){var bZ=G[N],k_=K.kp(W,bZ,E,o,k,B,l);if(k_[0]=="GdFl")fG.push(["GrFl",k_[1]]);
else if(k_[0]=="SoCo")fG.push(["SoFi",k_[1]]);else if(k_[0]=="PtFl")fG.push(["patternFill",k_[1]]);else if(k_[0]=="None"){}else throw k_}if(!v)for(var N=0;
N<r.length;N++){var bZ=r[N],k_=K.kp(W,bZ,E,o,k,B,l);if(k_[0]=="SoCo"){var eL=JSON.parse(kE.iv[kE.order.indexOf("FrFX")]);
fG.push(["FrFX",eL]);eL.enab=k_[1].enab;eL.Opct=k_[1].Opct;eL.Md=k_[1].Md;eL.Clr=k_[1].Clr;eL.Sz.v.val=Math.round(W.strokeWeight);
var kW=W.strokeAlign;if(kW)eL.Styl.v.FStl=kE.stroke.types[["INSIDE","CENTER","OUTSIDE"].indexOf(kW)]}}if(fG.length!=0){var iU=JSON.parse(kE.default);
for(var N=0;N<kE.order.length;N++)iU[kE.m1[N]]={t:"VlLs",v:[]};for(var N=0;N<fG.length;N++){var kO=fG[N],iA=kE.m1[kE.order.indexOf(kO[0])];
iU[iA].v.unshift({t:"Objc",v:kO[1]})}if(x==null)s.add.lmfx=iU}B.U.push(s)}};f4.U1=function(W,q,X,k,B,U,l,K,D,m){var Y=f4;
W.Z9|=16;W.add.vmsk=q;var a=W.add.vstk=kE.Cs.wy(),p=Y.kp(X,k,U,l,K,D,m);a.fillEnabled.v=p[0]!="None";
if(p[0]=="None"){W.add.SoCo=p[1]}else{Y.Cb(p,W);W.add[p[0]]=p[1]}var p=Y.kp(X,B[0],U,l,K,D,m);if(p[0]!="None"){var a=W.add.vstk;
a.strokeEnabled.v=!0;a.strokeStyleLineWidth.v.val=X.strokeWeight*U.Lr();a.strokeStyleLineAlignment.v.strokeStyleLineAlignment=kE.Cs.vi[["INSIDE","CENTER","OUTSIDE"].indexOf(X.strokeAlign)];
var M={SoCo:"SoFi",GdFl:"GrFl",PtFl:"patternFill"}[p[0]],x=["SoFi","GrFl","patternFill"].indexOf(M),R=[kE.nV,kE.N2,kE.W0][x];
a.strokeStyleContent.v={classID:kE.Cs.Y_[0]};var y=X.dashPattern;if(y)a.strokeStyleLineDashSet.v=dx.uD(y,1/X.strokeWeight);
var s=a.strokeStyleContent.v={classID:kE.Cs.Y_[x]};for(var N=0;N<R.length;N++)s[R[N]]=p[1][R[N]];if(!a.fillEnabled.v)Y.Cb(p,W)}};
f4.Cb=function(W,q){var X=W[1].Opct.v.val;if(X!=100)q.zO=Math.round(q.zO/255*(X/100)*255)};f4.aCY=function(W,q){var X=W.parentIndex.position,k=q.parentIndex.position;
return X>k?1:-1};f4.ap6=function(W){for(var N=1;N<W.length;N++){var q=W[N];if(q.type=="IMAGE"&&q.opacity==1){W=W.slice(N);
break}}for(var N=0;N<W.length;N++){var q=W[N],X=q.imageThumbnail,k=q.type=="IMAGE";if(k&&(q.image==null||q.image.dataBlob==null)&&X&&X.dataBlob)q.image=X;
if(!q.visible||k&&q.image==null){W.splice(N,1);N--}}return W};f4.ayu=function(W,q,X){if(W.Rr.Ly){q.add.vmsk=W.Rr.Ly.P();
q.tw();q.Ae(X)}};f4.a4y=function(W,q,X,k,B,U,l,K){var D=W.fontSize,m=W.lineHeight,Y=W.fontName,a=W.textAlignHorizontal,p=W.textTracking,M=W.textCase,x=W.textDecoration;
if(D==null)D=k.n6.FontSize;if(Y){var R=Y.postscript;if(R==""){var y=Y.family,s=Y.style;R=y.split(" ").join("")+"-"+s}gZ.j_(k,R)}if(D!=null)k.n6.FontSize=Math.round(D);
if(x=="UNDERLINE")k.n6.Underline=!0;if(p)k.n6.Tracking=Math.round(p*1e3);if(M)k.n6.FontCaps=M=="UPPER"?2:0;
if(m&&(m.units!="PERCENT"||m.value!=100)){if(D==null)D=15;var F=m.value;if(m.units=="PERCENT")F=1*D*F/100;
if(m.units=="RAW")F=1*D*F;k.n6.AutoLeading=!1;k.n6.Leading=Math.round(F)}if(a)k.D8.Justification=["LEFT","RIGHT","CENTER"].indexOf(a);
var E=W.fillPaints,o=W.inheritFillStyleID;if(o){var G=f4.TH(K.ph,o);if(G)E=G.fillPaints}if(E&&E[0]){var d=f4.kp(W,E[0],q,X,U,l,K);
if(d[0]=="SoCo"){var u=g.ov.yM(d[1].Clr.v);k.n6.FillColor={Type:1,Values:[1,u.o/255,u.L/255,u.X/255]};
f4.Cb(d,B)}}};f4.kp=function(W,q,X,k,B,U,l){var K=f4,D,m,Y=W.size;if(Y==null)Y={x:0,y:0};if(q){var a=q.type,p=["GRADIENT_LINEAR","GRADIENT_RADIAL","GRADIENT_DIAMOND","GRADIENT_ANGULAR"].indexOf(a);
if(a=="SOLID"){D="SoCo";var M=q.color;m=JSON.parse(kE.iv[kE.order.indexOf("SoFi")]);m.Clr=K.Hj(M)}else if(p!=-1){var x=JSON.parse(kE.iv[kE.order.indexOf("GrFl")]),R=x.Grad.v;
R.Intr.v=0;x.Type.v.GrdT=["Lnr","Rdl","Dmnd","Angl"][p];var y=[],s=q.stops;for(var N=0;N<s.length;N++){var F=s[N],E=F.color;
y.push([F.position,[E.r,E.g,E.b],E.a])}g.ov.mi(y,R);var o=K.Lj(q.transform);o.i5();var G=o.P();if(Y)G.scale(Y.x,Y.y);
G.concat(X);var d=new hw(0,.5),u=new hw(1,.5);d=G.Bb(d);u=G.Bb(u);if(!0){d.x=u.x+.5*(d.x-u.x);d.y=u.y+.5*(d.y-u.y)}g.ov.Za(d,u,k,x);
if(p==3){if(G.iM*G.kv-G.X*G.bO<0)x.Rvrs.v=!x.Rvrs.v}D="GdFl";m=x}else if(a=="IMAGE"){var x=JSON.parse(kE.iv[kE.order.indexOf("patternFill")]),o=K.Lj(q.transform);
o.i5();var r=f4.UD(q),v=l.alE[r];if(v==null){var c=K.OL(B,r,l);if(c==null)c={data:g.j(4),oq:new dU(0,0,1,1)};
v=l.alE[r]={};v.id=ey.Gk()+"-d71c-11e5-b1ae-a548a96e5f9f";v.CH=[new Uint8Array(c.data),c.oq];if(o.iM<0){var V=v.CH[0].slice(0);
g.F.z9(V,v.CH[0],c.oq.r,c.oq.$)}v.name="someImage";U.cB(v)}if(o.iM<0)o.iM=-o.iM;var j=["FILL","FIT","STRETCH","TILE"].indexOf(q.imageScaleMode),Q=j==3?q.scale:1;
dx.a18(v,x,Y.x,Y.y,j,X,o,Q);D="PtFl";m=x}else if(a=="VIDEO"){D="SoCo";m=JSON.parse(kE.iv[kE.order.indexOf("SoFi")]);
m.Clr=K.Hj({r:255,g:0,b:255})}else throw a;if(m)m.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(q.opacity*100)}}}if(D==null||q.opacity<.001){D="None";
m={classID:"null",Clr:{t:"Objc",v:g.ov.E2({o:0,L:0,X:0})}}}return[D,m]};f4.UD=function(W){var q=W.image,X=q.dataBlob;
if(X==null){X="";for(var N=0;N<20;N++)X+=q.hash[N].toString(16).padStart(2,"0")}return X};f4.OL=function(W,q,X,k){if(W[q]){var B=W[q];
if(k)return B.bytes;if(B.rslt)return B.rslt;var U=B.bytes.buffer;B.rslt=f4.aGi(U);return B.rslt}else{if(X.ar==null)return null;
if(k)return X.ar["images/"+q];var l=X.ar["images/"+q];if(l==null)return null;var U=l.buffer;if(X.ar["images/-"+q])return X.ar["images/-"+q];
X.ar["images/-"+q]=f4.aGi(U);return X.ar["images/-"+q]}};f4.aGi=function(W){var q=lf.pP(W);if(q=="fpng")q="png";
var X=lf.c_(q);try{var k=X.Vp(W)[0];if(k.depth==16){k.depth=8;k.data=g.Cn(new Uint16Array(k.data),8).buffer}return k}catch(bu){return{data:g.j(4),oq:new dU(0,0,1,1)}}};
f4.arm=function(W,q,X){var k=W.type,B=W.size,U=W.cornerRadius,m;if(U==null)U=0;var l=B.x,K=B.y,D=[U,U,U,U],Y=["rectangleTopLeftCornerRadius","rectangleTopRightCornerRadius","rectangleBottomRightCornerRadius","rectangleBottomLeftCornerRadius"];
for(var N=0;N<4;N++)if(W[Y[N]]!=null)D[N]=W[Y[N]];if(k=="RECTANGLE"||k=="ROUNDED_RECTANGLE"||k=="FRAME"||k=="INSTANCE"){m=g.z.oz.Rect(0,0,l,K,D)}else if(k=="ELLIPSE"){var a=W.arcData,p=a?a.startingAngle:0,M=a?a.endingAngle:2*Math.PI,x=a?a.innerRadius:0;
if(p==0&&M>1.999*Math.PI)m=g.z.oz.am(0,0,l,K,0);else m=g.z.oz.auK(l/2,K/2,K/2,p,M);if(x!=0&&x!=1){var R=b.jY.zx(m).slice(3);
R.reverse();for(var N=0;N<R.length;N++){var y=R[N],s=y.mp;y.mp=y.ko;y.ko=s}var F=new ka;F.translate(-l/2,-K/2);
F.scale(x,x);F.translate(l/2,K/2);g.z.Y9(R,F);m=m.concat(R);m[2].length*=2}}else if(k=="LINE"){m=g.z.oz.Rect(0,0,l,K,0);
m.pop();m.pop();m[2].length=2}else if(k=="STAR"){m=g.z.oz.a5Q(l/2,K/2,l/2,2*Math.PI*(1/4),5,0,W.starInnerScale)}else if(k=="REGULAR_POLYGON"){m=g.z.oz.VB(.5,.5,.5,Math.PI/2,W.count,0);
var E=new ka;E.scale(l,K);g.z.Y9(m,E)}else if(k=="BOOLEAN_OPERATION"){m=[{I:6},{I:8,all:0}];var o=W.children,G=["XOR","UNION","SUBTRACT","INTERSECT"].indexOf(W.booleanOperation);
if(G==-1)throw W;if(o==null)o=[];for(var N=0;N<o.length;N++){var d=o[N],u=new b.jY,r=f4.arm(d,q,u);if(u.G==null)continue;
g.z.Y9(u.G,f4.Lj(d.transform));m=m.concat(u.G.slice(2))}for(var N=3;N<m.length;N++)if(m[N].R3!=null)m[N].R3=G}else if(k=="VECTOR"){var v,c,A=3;
if(!0){var V=W.vectorData;if(V==null)return;v=V.normalizedSize;c=V.vectorNetworkBlob}var j=q[c].bytes,Q=new Uint32Array(j.buffer),H=new Float32Array(j.buffer),T=Q[0],e=Q[1],z=Q[2],J=[],P=[],L=[],h=A+T*3,C=h+e*7;
for(var N=0;N<T;N++){var w=A+N*3;if(Math.abs(H[w+0])>1e-7)throw"e";J.push(new hw(H[w+1],H[w+2]))}for(var N=0;
N<e;N++){var f=h+N*7;P.push([Q[f+0],Q[f+1],H[f+2],H[f+3],Q[f+4],H[f+5],H[f+6]])}for(var N=0;N<z;N++){var O=Q[C+1],n=L[N]=[];
C+=2;for(var $=0;$<O;$++){var d9=Q[C++],i=n[$]=[];for(var dF=0;dF<d9;dF++)i[dF]=Q[C+dF];C+=d9}}if(C!=Q.length&&C!=Q.length-1)throw"e";
if(L.length==0&&P.length!=0){var t=new Uint8Array(J.length),im=new Uint8Array(J.length),bc=-1;for(var N=0;
N<P.length;N++){var at=P[N];t[at[1]]++;t[at[4]]++;im[at[1]]=1}for(var N=0;N<J.length;N++){if(t[N]==1&&im[N]==1){bc=N;
break}}if(bc!=-1)for(var N=0;N<P.length;N++){if(P[N][1]==bc){var s=P[0];P[0]=P[N];P[N]=s;break}}var l9=P[0][4];
for(var N=1;N<P.length;N++){var fF=-1;for(var $=N;$<P.length;$++)if(P[$][4]==l9)fF=$;for(var $=N;$<P.length;
$++)if(P[$][1]==l9)fF=$;if(fF!=-1){var g$=0,s=P[fF];P[fF]=P[N];P[N]=s;if(s[1]!=l9){g$=s[1];s[1]=s[4];
s[4]=g$;g$=s[2];s[2]=s[5];s[5]=g$;g$=s[3];s[3]=s[6];s[6]=g$}}l9=P[N][4]}L.push([[]]);for(var N=0;N<P.length;
N++)L[0][0].push(N)}var fR=[],cr=[];for(var eE=0;eE<L.length;eE++){for(var bQ=0;bQ<L[eE].length;bQ++){var hT=L[eE][bQ],df=0;
if(hT.length>1){var eV=P[hT[0]],gU=P[hT[1]];df=eV[4]==gU[1]?1:0}for(var N=0;N<hT.length;N++){var i8=P[hT[N]],bv=1,fE=4;
if(df==0){bv=4;fE=1}var d5=J[i8[bv]],aR=J[i8[fE]];if(N==0){cr.push("M");fR.push(d5.x,d5.y)}cr.push("C");
fR.push(d5.x+i8[bv+1],d5.y+i8[bv+2],aR.x+i8[fE+1],aR.y+i8[fE+2],aR.x,aR.y)}}}m=g.b.gH({n:fR,zb:cr},!1);
if(U!=0){var D=[],l8=m[2].length;for(var N=0;N<l8;N++)D.push(U);if(g.z.ay(m))g.z.zh(m,2,D)}var au=new ka;
au.scale(v.x==0?1:B.x/v.x,v.y==0?1:B.y/v.y);g.z.Y9(m,au)}X.G=m};f4.TH=function(W,q){return W[q.sessionID+","+q.localID]};
f4.alI=function(W,q){return W.sessionID==q.sessionID&&W.localID==q.localID};f4.aqV=function(W){var q={NORMAL:"norm",MULTIPLY:"mul ",SCREEN:"scrn",COLOR_DODGE:"div ",LINEAR_DODGE:"lddg",COLOR_BURN:"idiv",LINEAR_BURN:"lbrn",SOFT_LIGHT:"sLit",HARD_LIGHT:"hLit",DARKEN:"dark",LUMINOSITY:"lum ",OVERLAY:"over",COLOR:"colr"}[W];
if(q==null)throw W;return q};f4.Hj=function(W){return{t:"Objc",v:g.ov.E2({o:W.r*255,L:W.g*255,X:W.b*255})}};
f4.Lj=function(W){if(W==null)return new ka;var q=[W.m00,W.m10,W.m01,W.m11,W.m02,W.m12];for(var N=0;N<6;
N++)if(Math.abs(q[N])<1e-20)q[N]=0;return new ka(q[0],q[1],q[2],q[3],q[4],q[5])};function bm(){}bm.WZ=function(){var W=Z.zD;
function q(M,x,R,y){var s=y?[]:{};while(x<M.length-1&&M[x]!=125){var F=W(M,x,3),E=W(M,x+3,1),o;x+=4;
x++;if(E=="v"){var G=q(M,x,R+1,F=="ELM"||F=="TIL"||F=="TFS");o=G._;x=G.h}else if(E=="i"||E=="f"){var d=x;
while(M[d]!=125)d++;var u=W(M,x,d-x);o=E=="i"?parseInt(u,16):parseFloat(u);x=d+1}else if(E=="s"){var r=Z.U_(M,x),u="";
x+=2;for(var N=0;N<r;N++)u+=String.fromCharCode(M[x+2*N+1]);o=u;x=x+2*r+1}else if(E=="b"){o=M[x]==49;
x=x+2}else throw"e";if(y)s.push([F,o]);else if(s[F]==null)s[F]=o;else{if(!(s[F]instanceof Array))s[F]=[s[F]];
s[F].push(o)}}x++;return{_:s,h:x}}function X(M,x){var R=k(M).slice(1),M=x.Clr.v;M.Rd.v=R[0]*255;M.Grn.v=R[1]*255;
M.Bl.v=R[2]*255}function k(M){return[(M>>>24&255)/255,(M>>>16&255)/255,(M>>>8&255)/255,(M>>>0&255)/255]}function B(M,x){var R=x&4278190080|(x&255)<<16|(x>>>8&255)<<8|x>>>16&255;
g.WD(M,R)}function U(M,x){var R=M.TSZ,y=M.WPX,s=M.HPX,F=M.TIL,E=new dU(0,0,y,s),o=g.j(y*s*4),G=0;for(var d=0;
d<s;d+=R)for(var u=0;u<y;u+=R){var r=new dU(u,d,R,R),v,c=F[G];if(c[0]=="TMC"){v=g.j(r.C()*4);B(v,c[1])}else if(c[0]=="TID"){v=x[c[1]]}g.YE(v,r,o,E);
G++}return[o,E]}function l(M,x){M=new Uint8Array(M);var R=8,y,s={},e=0;while(R<M.length){var F=Z.WP(M,R);
R+=4;var E=W(M,R,4);R+=4;if(E=="mkTS"){var o=pako.inflate(M.slice(R,R+F)),G=q(o,0,0);y=G._}else if(E=="mkBT"){var d=Z.WP(M,R+4),u=Z.WP(M,R+8),o=pako.inflate(M.slice(R+76,R+F));
if(u==0)for(var N=0;N<o.length;N+=4){var r=o[N],v=o[N+1],c=o[N+2],V=o[N+3];o[N+3]=r;o[N+2]=V;o[N+1]=c;
o[N]=v}else{var j=g.j(o.length*4);j.fill(255);g.LO(o,j);o=j}s[d]=o}R+=F+4}var Q=y.PDC,H=Q?Q instanceof Array?Q:[Q]:[y.MKB],T=new dU;
for(var N=0;N<H.length;N++){var z=H[N];T=T.xw(new dU(0,e,z.WID,z.HIT));e+=z.HIT+100}x.r=T.r;x.$=T.$;
x.buffer=g.j(T.C()*4);x.GX(H.length);e=0;for(var J=0;J<H.length;J++){x.U.push(x.rS());var z=H[J],P=z.WID,L=z.HIT,A=z.BGC,h=(z.LYL?z:y).LYL.LAY,f=3;
for(var N=0;N<h.length;N++)D(h[N],x,null,s,new ka(1,0,0,1,-z.XLC,-z.YLC+e));var C=x.Sh();x.U.push(C);
var w=new dU(0,e,P,L);e+=L+100;C.VA(w);if(A>>>24!=0){var O=g.ov.E2({o:A>>>16&255,L:A>>>8&255,X:A>>>0&255});
C.add.artb.Clr={t:"Objc",v:O};f=4}C.add.artb.artboardBackgroundType.v=f;C.YY(z.PGN?z.PGN:"Page "+(J+1));
C.add.lsct=e5.Fn;C.JY="pass";C.Z9=24}}function K(M,x,R){var y=M[x];return y instanceof Array?y[R]:y}function D(M,x,R,y,s){var F=x.Sh();
if(M.VIS!=null)F.ZR(M.VIS);if(M.VIF!=null)F.ZR(M.VIF.VIS);if(M.OPA!=null)F.zO=Math.round(255*M.OPA/1e3);
F.JY=M.CLL||R=="GRP"?"pass":"norm";if(M.BLD!=null){var E=M.BLD,o={"0":"norm","2":"mul ","4":"over","5":"scrn","7":"diss","9":"dark","10":"lite","37":"idiv","30":"norm","39":"lbrn","41":"vLit"}[E+""];
if(o==null)console.log(M.OBN,E);else F.JY=o;if(E==30)F.zO>>>=1}if(M.CLL){F.YY(M.LNM);x.U.push(x.rS());
var G=M.CLL.CEL;if(G.length==null)G=[G];for(var d=G.length-1;d>=0;d--){var u=G[d].ELM;for(var N=u.length-1;
N>=0;N--)D(u[N][1],x,u[N][0],y,s)}F.add.lsct=M.DIS?e5.B2:e5.Fn;F.Z9|=24}else if(R=="GRP"){var r=F.add.lmfx=Y(M.EFL),v;
x.U.push(x.rS());var u=M.ELM,c=M.MRM;if(M.MNA){v=u[0][1];u=u.slice(1)}F.YY("Group: "+u.length+" objects");
for(var N=u.length-1;N>=0;N--)D(u[N][1],x,u[N][0],y,s);if(v){if(M.MRX){var V=U(v,y),j=F.BD=new b.pj;
j.S=V[1].P();j.S.x=v.XLC;j.S.y=v.YLC+s.rY;j.c=g.j(j.S.C());g.u6(V[0],j.c,0);g.i5(j.c)}else{m(F,v,s);
F.tw();F.Ae(x)}}if(c){m(F,c.PTH,s);F.tw();F.Ae(x)}F.add.lsct=e5.Fn;F.Z9|=24}else if(R=="IMG"){F.YY(M.OBN?M.OBN:"Bitmap");
var V=U(M,y);F.S=V[1].P();F.S.x=M.XLC;F.S.y=M.YLC+s.rY;F.buffer=V[0]}else if(R=="TXT"){var Q=M.TFS,J="";
F.add.lnsr="rend";F.add.TySh=gZ.nG(0,0);F.add.TySh.oJ=new dU(0,0,100,100);var H=new ka(1,0,0,1,M.LFT,M.TOP);
if(M.MTX){var T=M.MTX,j=new ka(T.M00,T.M01,T.M10,T.M11,T.M20,T.M21);H.concat(j)}H.concat(s);F.add.TySh.M=H;
var e=F.add.TySh.FZ,z=gZ.J0(e,0,0),P=K(M,"FON");if(P)gZ.j_(z,P);var L=K(M,"PTS");if(L)z.n6.FontSize=Math.round(L);
var A=K(M,"ITL");if(A)z.n6.FauxItalic=A;if(M.PAT)z.n6.FillColor={Type:1,Values:k(K(M.PAT,"FCL"))};for(var N=0;
N<Q.length;N++){var h=Q[N][0],C=Q[N][1];if(h=="TRN"){C=C.replaceAll("\x18","'").replaceAll("\x19","'").replaceAll("\x1C","'").replaceAll("\x1D","'");
C=C.replaceAll("\x03","\n").replaceAll("\r","\n");gZ.L3(e,J.length,C);gZ.oM(e,J.length,J.length+C.length,z);
J+=C}else if(h=="FON")gZ.j_(z,C);else if(h=="PTS")z.n6.FontSize=Math.round(C);else if(h=="ITL")z.n6.FauxItalic=C;
else if(h=="UND")z.n6.Underline=C;else if(h=="FCL")z.n6.FillColor={Type:1,Values:k(C)};else if(h=="LED"){z.n6.Leading=C*z.n6.FontSize;
z.n6.AutoLeading=!1}else if(h=="JST")z.D8.Justification=[0,2,1,3,5,4,6,7,8][C]}F.YY(J.slice(0,255));
var w=M.RIT-M.LFT,f=M.BOT-M.TOP;if(M.IMG){D(M.IMG,x,"IMG",y,s);var O=x.U.pop();F.buffer=O.buffer;F.S=O.S.P()}gZ.XM(e,1);
gZ.eR(e,[0,0,w,f])}else if(R=="PTH"){F.YY(M.OBN?M.OBN:"Path");F.Z9|=16;var n=!1;m(F,M,s);var $=F.add.vmsk,d9=F.add.vstk,i=g.z.Sa($.G),t=M.PAT,im=t.BPL,bc=t.FPL,at=t.TXF;
if(bc&&bc.FEF)$.iE+=bc.FEF/2.4;if(im){var l9=im.CAT;d9.strokeEnabled.v=!0;d9.strokeStyleLineWidth.v.val=im.BDI;
d9.strokeStyleLineAlignment.v.strokeStyleLineAlignment=kE.Cs.vi[M.BRP];X(t.BCL,d9.strokeStyleContent.v);
if(l9!="bc_Basic"&&l9!="bc_Pencil")n=!0}d9.fillEnabled.v=bc!=null;if(bc==null){F.add.SoCo=JSON.parse(kE.iv[kE.order.indexOf("SoFi")]);
X(0,F.add.SoCo)}else if(bc.CAT=="fc_Solid"){F.add.SoCo=JSON.parse(kE.iv[kE.order.indexOf("SoFi")]);X(M.PAT.FCL,F.add.SoCo)}else if(bc.CAT=="fc_Linear"||bc.CAT=="fc_Circular"||bc.CAT=="fc_Elliptical"){var fF=bc.CAT=="fc_Linear",g$=F.add.GdFl=JSON.parse(kE.iv[kE.order.indexOf("GrFl")]),fR=g$.Grad.v,cr=[],eE=bc.FGL,bQ,hT=[];
if(eE.FGY){var df=eE.FGY,bQ=df.FG0.FGI,hT=df.FG1.FGI}else bQ=eE.FGV.FGI;for(var N=0;N<bQ.length;N++){var eV=bQ[N],gU=k(eV.FGC),i8=1;
if(hT.length==bQ.length)i8=k(hT[N].FGC)[0];cr.push([eV.FGP,gU.slice(1),i8])}g$.Type.v.GrdT=fF?"Lnr":"Rdl";
g.ov.mi(cr,fR);fR.Intr.v=0;var bv=M.PRI?M.PRI:M,fE=new hw(bv.PSX,bv.PSY),d5=new hw(bv.PEX,bv.PEY);if(bc.CAT=="fc_Elliptical"&&bv.PFX!=null){var aR=new hw(bv.PFX,bv.PFY),l8=hw.tj(fE,d5),au=hw.tj(fE,aR);
if(au<l8){var hx=l8;l8=au;au=hx}d5=new hw(fE.x+(l8+au)/2,fE.y);if(l8/au<.5)n=!0}if(fF){fE.x=(fE.x+d5.x)/2;
fE.y=(fE.y+d5.y)/2}g.ov.Za(fE,d5,i,g$)}else console.log(bc.CAT);var r=F.add.lmfx=Y(M.EFL,$);if(bc&&bc.FTB!=0&&at){var V=U(at.MSK,y),fw={};
fw.id=ey.Gk()+"-d71c-11e5-b1ae-a548a96e5f9f";fw.name="someImage";fw.CH=V;x.cB(fw);var cx=V[0];for(var N=0;
N<cx.length;N+=4){cx[N+3]=255-cx[N];cx[N]=cx[N+1]=cx[N+2]=255}var g$=JSON.parse(kE.iv[kE.order.indexOf("patternFill")]);
g$.Opct.v.val=Math.round(bc.FTB/10);g$.Algn.v=!0;g$.Ptrn.v.Idnt.v=fw.id;r.patternFillMulti.v.unshift({t:"Objc",v:g$})}if(n&&M.IMG){D(M.IMG,x,"IMG",y,s);
var fg=x.U[x.U.length-1];fg.zO=F.zO;return}F.tw();F.Ae(x)}else if(R=="URL")return;else{console.log("unknown layer type",R,M);
F.YY("Layer")}x.U.push(F)}function m(M,x,R){if(x.PBL==null)return;var y=M.add.vmsk=new b.jY,s=M.add.vstk=kE.Cs.wy(!0),F=x.PBL.PBP;
if(!(F instanceof Array))F=[F];for(var E=0;E<F.length;E++){var o=F[E].PBT;if(o==null)continue;if(!(o instanceof Array))o=[o];
var G=F[E].ISC?0:3;y.G.push({I:G,length:o.length,R3:0,HG:2,Wm:0,jA:0});for(var N=0;N<o.length;N++){var d=o[N],u=d.XLC,r=d.YLC,v=[u,r,u,r,u,r],c="XPC YPC XLC YLC XSC YSC".split(" ");
for(var V=0;V<6;V++){var j=c[V],Q=d[j];if(Q!=null)v[V]=Q}y.G.push({I:G+2,WL:new hw(u,r),mp:new hw(v[0],v[1]),ko:new hw(v[4],v[5])})}}g.z.Y9(y.G,R)}function Y(M,x){var R=JSON.parse(kE.default);
for(var N=0;N<kE.order.length;N++)R[kE.m1[N]]={t:"VlLs",v:[]};if(M==null||M.EPS==null)return R;var y=M.EPS;
if(!(y instanceof Array))y=[y];for(var N=0;N<y.length;N++){var s=y[N].DCE,F={};for(var E=0;E<s.length;
E++)F[s[E].DCK]=s[E].DCV;if(F.EffectIsVisible=="false")continue;var o=F.mkbFile_WriteOnly_TemporaryEffectUiName;
if(o=="Gaussian Blur..."&&x){x.iE+=parseFloat(F.gaussian_blur_radius);continue}var G=["Drop Shadow","Inner Bevel","Inner Glow","Glow"].indexOf(o);
if(G==-1){continue}var d=["DrSh","ebbl","IrGl","OrGl"][G],u=kE.m1[kE.order.indexOf(d)],r=JSON.parse(kE.iv[kE.order.indexOf(d)]);
R[u].v.unshift({t:"Objc",v:r});if(d=="DrSh"){r.uglg.v=!1;a(F,"ShadowDistance",r,"Dstn");a(F,"ShadowBlur",r,"blur");
a(F,"ShadowAngle",r,"lagl",180);r.Opct.v.val=100;p(F,"ShadowColor",r,"Clr")}if(d=="IrGl"){r.Md.v.BlnM="Nrml";
var v=F.MaskSoftness,c=F.GlowWidth;if(v&&c){v=parseInt(v);c=parseInt(c);r.blur.v.val=c+v;r.Ckmt.v.val=Math.round(100*c/(c+v))}a(F,"BevelContrast",r,"Opct");
p(F,"OuterBevelColor",r,"Clr")}if(d=="OrGl"){r.Md.v.BlnM="Nrml";var v=F.MaskSoftness,c=F.GlowWidth;if(v&&c){v=parseInt(v);
c=parseInt(c);r.blur.v.val=c+v}a(F,"BevelContrast",r,"Opct");p(F,"OuterBevelColor",r,"Clr")}if(d=="ebbl"){r.uglg.v=!1;
a(F,"BevelWidth",r,"blur");a(F,"AngleSoftness",r,"Sftn");a(F,"BevelContrast",r,"srgR");a(F,"LightAngle",r,"lagl")}}return R}function a(M,x,R,y,s){var F=M[x];
if(s==null)s=0;if(F)R[y].v.val=parseInt(F)+s}function p(M,x,R,y){var s=M[x];if(s){s=s.slice(1);if(s.length==6)s=s+"ff";
if(s.length!=8)throw"e";var F=k(parseInt(s,16)),E=R[y].v;E.Rd.v=F[0]*255;E.Grn.v=F[1]*255;E.Bl.v=F[2]*255;
R.Opct.v.val=Math.round(R.Opct.v.val/100*F[3]*100)}}return l}();var iv=function(){function W(l){var K=new Uint8Array(l.length);
Z.o3(K,0,l);return K}function q(l){var K=["<< /Type /Catalog  /Pages 2 0 R  >>","<< /Type /Pages  /Kids [ 3 0 R ] /Count 1 >>","<< /Type /Page   /Parent 2 0 R    /MediaBox [ 0 0 283 283 ] /Contents 4 0 R  /PieceInfo << /Illustrator << /Private 5 0 R>> >>   >>",W("")],D=K.length,Y=0;
K.push("<< /AIMetaData  "+(D+2)+" 0 R /AIPrivateData1 "+(D+3)+" 0 R  /AIPrivateData2 "+(D+4)+" 0 R  /CreatorVersion 15  /ContainerVersion  9  /RoundtripVersion  15  /NumBlock 2  >>");
K.push(W(""));K.push(W(""));K.push(l);var m=new dl,a=[];function p(y){Z.Me(m,Y,y);Y+=y.length}p("%PDF-1.5\n");
for(var N=0;N<K.length;N++){a.push(Y);p(N+1+" 0 obj\n");var M=K[N];if(typeof M=="string")p(K[N]+"\n");
else{var x=pako.deflate(M);p("<< /Length "+x.length+" /Filter [ /FlateDecode ] >>\nstream\n");m.Td(Y,x.length);
m.data.set(x,Y);Y+=x.length;p("\nendstream\n")}p("endobj\n")}var R=Y;p("xref\n0 "+(a.length+1)+"\n0000000000 65535 f\r\n");
for(var N=0;N<a.length;N++)p((a[N]+"").padStart(10,"0")+" 00000 n\r\n");p("trailer\n<< /Root 1 0 R /Size "+(a.length+1)+" >>\nstartxref\n"+R+"\n%%EOF\n");
return m.data.slice(0,Y)}function X(l,K){var D=Date.now(),m=new Uint8Array(l),Y,a=m[2]==68;if(K)console.log(!a?"EPS":"PDF");
if(a){var p=Z.Ka(m,"/AIMetaData "),d,u,r;while(m[p]!=60)p--;p--;var M=Z.Ka(m,">>",p),x=Z.zD(m,p+2,M-p-2).split("/"),R=[];
for(var N=0;N<x.length;N++){var y=x[N],s=y.startsWith("AIPrivateData"),F=y.startsWith("AIPDFPrivateData");
if(!s&&!F)continue;var E=y.trim().split(/\s+/),o=parseInt(E[1]),G=parseInt(E[0].slice(s?13:16));R.push([G,o])}if(K)console.log("--- map made",Date.now()-D);
D=Date.now();while(!0){var v=FromPDF.indexOfXref(m),c=[],V=FromPDF.readXrefTrail(m,v,c),j={buff:m,off:0},Q=!1;
d=new Array(R.length);u=!1;r=!1;for(var N=0;N<R.length;N++){var G=R[N][0],o=R[N][1],z=0;if(c[o]==null){Q=!0;
break}var H=FromPDF.getIndirect(o,0,j,c),T=H.buff,e=H["/Filter"];if(e!=null&&typeof e=="string")e=[e];
var J=Z.zD(T,z,z+20);if(J=="%AI12_CompressedData"){z+=20;u=!0}else if(J=="%AI24_ZStandard_Data"){z+=20;
r=!0}T=new Uint8Array(T.buffer,T.byteOffset+z,T.length-z);if(e)for(var P=0;P<e.length;P++){var L=e[P];
if(L=="/FlateDecode")T=pako.inflate(T);else if(L=="/ASCIIHexDecode")T=FromPS.F.HexDecode({buff:T,off:0});
else if(L=="/ASCII85Decode")T=FromPS.F.ASCII85Decode({buff:T,off:0});else throw L}d[G-1]=T}if(Q){console.log("extra xref after AI");
m=m.slice(0,v);continue}break}if(K)console.log("--- arrays found",Date.now()-D);D=Date.now();var A=Z.zD(d[0],0,13);
if(A=="%%BoundingBox"||A=="%AI7_Thumbnai")d=d.slice(1);if(A=="%AI24_ZStanda"){d[0]=d[0].slice(20);r=!0}if(Z.zD(d[0],0,13)=="%AI12_Compres"){d[0]=d[0].slice(20);
u=!0}Y=k(d);if(K)console.log("--- concatenated",Date.now()-D);D=Date.now();if(u)Y=UZIP.inflate(Y);if(r)Y=lf.Mz.eG(Y);
if(K)console.log("--- inflated",Date.now()-D);D=Date.now()}else{var h=Z._o(m);if(h.indexOf("%AI5_BeginLayer")!=-1){Y=m}else{var C=h.split(/[\n\r]+/),w=[],f=!1;
for(var O=0;O<C.length;O++){var n=C[O].trim();if(n=="%AI9_PrivateDataEnd"){f=!1;break}else if(n=="%AI9_DataStream"||n=="%AI24_DataStream"){f=!0}else if(f)w.push(n.slice(1))}var $=Z.hP(w.join("")),d9=FromPS.F.ASCII85Decode({buff:$,off:0});
if(d9[0]==120&&d9[1]==156)Y=UZIP.inflate(d9);else Y=lf.Mz.eG(d9)}}return Y}function k(l){var K=0,m=0;
for(var N=0;N<l.length;N++)K+=l[N].length;var D=new Uint8Array(K);for(var N=0;N<l.length;N++){var Y=l[N];
D.set(Y,m);m+=Y.length}return D}function B(l){var K=0,D=[];while(K<l.length){var m=l[K],Y=m.charCodeAt(0);
if(m==" ")K++;else if(m==","||m==";"||m==":"){D.push(m);K++;var a=D[D.length-2];if(a=="/ASCII85Decode"){var p=K+1;
while(l[p]!="~"||l[p+1]!=">")p++;p+=2;var M=l.slice(K,p),x=FromPS.F.ASCII85Decode({off:0,buff:Z.hP(M)});
D.push(x);K=p}if(a=="/StrokeStyle"||a=="/FillStyle"||a=="/BlendStyle"||a=="/SimpleStyle"||a=="/SmoothShadingStyle"){var p=K+1;
while(l[p]!=";")p++;D.pop();D.pop();D.push(l.slice(K,p));D.push("/String");K=p+1}}else if(m=="("){var p=K+1;
while(!(l[p]==")"&&(l[p-1]!="\\"||l[p-2]=="\\")))p++;var R=l.slice(K+1,p);D.push(R);K=p+1}else if(m=="/"||m=="-"||48<=Y&&Y<=57){var p=K;
while(l[p]!=" ")p++;D.push(l.slice(K,p));K=p}else if(m=="X"&&l[K+1]=="="){var p=K,y=0;while(!0){if(l[p]=="X"&&l[p+1]=="="){y++}if(l[p]=="X"&&l[p+1]=="+"&&l[p+2]==" "){y--;
if(y==0)break}p++}D.push(l.slice(K+3,p));D.push("/String");K=p+2}else{console.log(D);console.log(l.slice(K-600,K+10));
throw m}}return D}function U(l){var K={"/Filter":3,"/Visible":1,"/FillOrStroke":1,"/PluginFileName":1,"/Title":1},D={},m=B(l.join(" ")),Y=[],a=parseFloat;
while(m.length!=0){var p=m.shift();if(p=="/Recorded"||p=="/NotRecorded"){continue}else if(p=="/Dict"){Y.pop();
var M=Y.pop();Y[Y.length-1][p]=M}else if(p=="/Execution"){Y.pop();var M=Y.pop();Y[Y.length-1][p]=M}else if(p=="/Part"){Y.pop();
var M=Y.pop(),x=Y[Y.length-1];if(x[p]==null)x[p]=[];x[p].push(M);m.shift()}else if(p=="/Def"){Y.pop();
var R=Y.pop(),y=Y[0];if(D[y]==null)D[y]=[];if(y=="/KnownStyle"){R={val:R};R[Y.pop()]=Y.pop()}Y.pop();
D[y].push(R);m.shift()}else if(p==":"){var y=Y.pop();if(y=="/Dictionary"||y=="/ArtDictionary"||y=="/XMLNode"||y=="/Mask"||y=="/ActiveStyle")Y.push({});
else if(y=="/CompoundFilter"||y=="/BasicFilter"){Y.push({typ:"Filter"})}else if(y=="/SVGFilter"||y=="/KnownStyle"){Y.push(y)}else if(y=="/Array"||y=="/Document")Y.push([]);
else if(y=="/Binary"){var s=m.shift();if(s!="/ASCII85Decode")throw"e";m.shift();Y.push(m.shift())}else if(y=="/XMLUID"||y=="/XMLUIDREF"){m[1]=y}else if(y=="/GObjRef"){Y.push(m.shift());
Y.push("/String");m.shift();m.shift()}else{console.log(Y);console.log(m);throw y}if(m[0]=="/NotRecorded"){m.shift();
m.shift()}}else if(p==","){var F=Y.pop(),y,E;if(F[0]=="/"&&F[1]==F[1].toUpperCase()||F==";"){y=F;F=null}else y=Y.pop();
if(y=="/Name"){Y.push(y);continue}if(K[y]){E=Y.slice(Y.length-K[y]);for(var N=0;N<K[y];N++)Y.pop();var o=Y.pop();
o[y]=E;Y.push(o);continue}if(y=="/RealPoint"||y=="/RealPointRelToROrigin"){var G=Y.pop();E=[a(Y.pop()),a(G)]}else if(y=="/RealMatrix"){E=[];
for(var N=0;N<6;N++)E.push(a(Y.pop()));E.reverse()}else if(y=="/String"&&typeof Y[Y.length-1]!="string")E="";
else{var top=Y.pop();if(y==";")E=top;else if(y=="/String"||y=="/UnicodeString"||y=="/XMLUID"||y=="/XMLUIDREF"){E=top;
while(typeof Y[Y.length-1]=="string")E=Y.pop()+E}else if(y=="/Int"||y=="/Real")E=a(top);else if(y=="/Bool")E=top=="1";
else throw JSON.stringify(y)}if(Y.length==0)throw"e";var o=Y.pop();if(F==null&&!(o instanceof Array)){alert("key is null in a Dict");
continue}if(F)o[F]=E;else o.push(E);Y.push(o)}else Y.push(p)}return Y.length==0?D:Y[0]}return{a3h:X,ayq:q,aEp:U}}();
function jt(){}jt.WZ=function(){function W(V,j,Q){var H=!1,T=Date.now(),e=iv.a3h(V,H);if(e==null)return;
if(H)console.log("part found",Date.now()-T);T=Date.now();var z=r(e),J=z.Layer,P=z.Header;if(H)console.log(z);
var L=z.Setup.TextDocument,A=J[0];A=z.Layer[0];if(H)console.log("document parsed",Date.now()-T);T=Date.now();
z.Setup.Gradient=u(z.Setup.Gradient,e);if(H)console.log("grads loaded",Date.now()-T);T=Date.now();z.Setup.Pattern=G(z.Setup.Pattern,e);
if(H)console.log("patts loaded",Date.now()-T);T=Date.now();z.Setup.Palette=d(z.Setup.Palette,e);if(H)console.log("palet loaded",Date.now()-T);
T=Date.now();z.Setup.DocumentData=o(z.Setup.DocumentData,e);if(H)console.log("docdata loaded",Date.now()-T);
T=Date.now();z.Setup.SVGFilter=o(z.Setup.SVGFilter,e);if(H)console.log("svgfilter loaded",Date.now()-T);
T=Date.now();var h=z.Setup.ArtStyles;if(h){z.Setup.ArtStyles=o(h,e)}var C=z.Setup.Palette;for(var N=0;
N<C.length;N++){var w=C[N],f=w[0],O=w[1][0];if(f==null)f=w[1][1];var n=z.Setup.Gradient[f];if(O==0)j.hf.push([f,w[1][1]]);
if(O==1)j.hf.push([f,[n.R7,n.a9U,0,0]]);if(O==2)j.hf.push([f,[f,0]])}var $=P.Cropmarks,d9=P.BoundingBox.split(" ").map(parseFloat),i=P.ArtSize?P.ArtSize.split(" ").map(parseFloat):[d9[2]-d9[0],d9[3]-d9[1]];
j.r=Math.round(Math.abs(i[0]));j.$=Math.round(Math.abs(i[1]));var dF=[1,0,0,1,-d9[0]+(j.r-(d9[2]-d9[0]))/2,-d9[1]+(j.$-(d9[3]-d9[1]))/2];
dF[3]=-1;dF[5]=j.$-dF[5];if($){$=$.split(" ").map(parseFloat);j.r=Math.round($[2]-$[0]);j.$=Math.round($[3]-$[1]);
dF=[1,0,0,-1,-$[0],j.$+$[1]]}console.log(z);var t=z.Setup.DocumentData,im=[],bc=[];if(t&&t[0]&&t[0].ArtboardArray){var im=t[0].ArtboardArray;
if(im.length!=1)console.log(im.length,"artboards");var at=new dU;for(var N=0;N<im.length;N++){var l9=im[N],fF=l9.PositionPoint1,g$=l9.PositionPoint2,fR=fF[0],cr=Math.min(fF[1],g$[1]),eE=g$[0],bQ=Math.max(fF[1],g$[1]),hT=new dU(fR,cr,eE-fR,bQ-cr);
bc.push(hT);at=at.xw(hT)}j.r=Math.round(at.r);j.$=Math.round(at.$);dF[4]=-at.x;dF[5]=at.y+j.$}if(t&&t[0]&&t[0]["#document"]){var df=t[0]["#document"],eV=df["xmlnode-children"][0];
if(eV&&eV["xmlnode-children"])eV=eV["xmlnode-children"][0];if(eV&&eV["xmlnode-nodename"]=="variableSets"){var gU=eV["xmlnode-children"][0]["xmlnode-children"],i8=gU[0],bv=gU[1],fE=c(i8);
j.$y=dS.aaA("<variableSets><variableSet>"+fE+"</variableSet></variableSets>");if(bv){var d5=c(bv),aR=j.dp=dS.amu(d5);
for(var N=0;N<aR.length;N++)for(var l8=0;l8<aR[N].length;l8++)aR[N][l8]=aR[N][l8].trim()}}}var au=1/eU.hi(new dU(0,0,j.r,j.$),8192*8192);
if(Math.max(j.r*au,j.$*au)<800)au*=2;while(Q&&Math.max(j.r*au,j.$*au)<Math.max(Q[0],Q[1]))au++;if(cC==1)au=1;
j.r=Math.round(j.r*au);j.$=Math.round(j.$*au);j.mC=Math.round(72*au);for(var N=0;N<6;N++)dF[N]*=au;var hx=[];
if(im.length!=[1,0][cC]){var fw=cC==0?j.U:[];fw.push(j.rS());for(var N=0;N<bc.length;N++){var l9=im[N],hT=bc[N],cx=j.Sh();
cx.YY(l9.Name);fw.push(cx);cx.add.SoCo=JSON.parse(kE.iv[kE.order.indexOf("SoFi")]);var fg=cx.add.SoCo.Clr.v;
a(fg,[1,1,1]);var fR=hT.x,cr=hT.y,eE=fR+hT.r,bQ=cr+hT.$,iI=[fR,cr,eE,cr,eE,bQ,fR,bQ];g.b.M(iI,M(dF),iI);
y(cx,{cmds:["M","L","L","L","Z"],crds:iI},j,0);cx.add.vstk=kE.Cs.wy(!0);var eq=g.b.Hb(iI);hx.push({em:l9.Name,IH:[eq.x,eq.y,eq.x+eq.r,eq.y+eq.$],Y:l9.IsArtboardSelected})}var cx=j.Sh();
cx.YY("_Artboards_");cx.add.lsct=e5.Fn;cx.JY="pass";cx.Z9=24;fw.push(cx)}else hx=[{em:"Artboard",IH:[0,0,j.r,j.$],Y:!0}];
if(cC==1)j.add.arts=hx;X=[0,0,0];k=[0,0,0];B="SoCo";U="SoCo";for(var fS=0;fS<J.length;fS++){var f1=J[fS];
f1.Raster=q(f1,"Raster");f1.Place=q(f1,"Place");var c4=F(e,f1);l(j,c4,dF,z,f1,e)}if(cC==0)for(var N=0;
N<j.U.length;N++){var cx=j.U[N];if(cx.D7){j.U.splice(N,1);var ea,ie=0;for(var l8=N;l8<j.U.length;l8++){ea=j.U[l8];
if(ea.add.lsct==e5.dx)ie++;else if(ea.S3())ie--;if(ie==-1)break}ea.add.vmsk=cx.add.vmsk;ea.add.vogk=cx.add.vogk;
ea.Ae(j)}}else{}if(Q){j.Hm();var i$=j.root.wu();_.wW.ip(j,i$)}if(H)console.log("layers created",Date.now()-T);
T=Date.now()}function q(V,j){var Q=V.Layer,H=V[j];if(H==null)H=[];if(Q){for(var N=0;N<Q.length;N++){var T=Q[N],e=T[j]=q(T,j);
H=H.concat(e)}H.sort(function(z,J){return z._begin-J._begin})}return H}var X,k,B,U;function l(V,j,Q,H,T,e){var z=[],J=0,P="",L=!1,A={},h=UDOC.G,C=UDOC.getState(),f="norm",O=1,n=0,$=!1,d9=0,i=!1,dF=!0,t=null,im=null,bc=!1,at=!1,l9=0,fF=null,g$,fR,cr=0,eE=0,bQ=0,gU=0,i8=!1;
C.ctm=Q;var w=kE.Hr.wy(),hT=[0,0],df=[],eV=[];for(var bv=0;bv<j.length;bv++){var fE=j[bv],fw=1e9;if(fE[0]=="%"){if(fE=="%_/ArtDictionary :"&&l9==0){t=[fE.slice(2)]}else if(t!=null){if(fE=="%_"&&l9==0){var d5=iv.aEp(t),aR=V.U[V.U.length-1],l8=d5.AI10_ArtUID,au=d5.BBAccumRotation;
if(l8&&!l8.startsWith("XMLID"))aR.YY(v(l8));if(au&&aR.add.vmsk==null&&V.U[V.U.length-2])aR=V.U[V.U.length-2];
if(au&&aR.add.vmsk)aR.add.vmsk.DC=parseFloat(au);t=null}else{t.push(fE.slice(bc?1:2));if(fE=="%_X=")l9++;
if(fE=="%_X+")l9--;if(fE=="%_/Binary : /ASCII85Decode ,")bc=!0;if(bc&&fE.endsWith("~>"))bc=!1}}else if(fF){g$+=(g$==""?"":" ")+fE.slice(2);
if(g$.endsWith("X#")){fF.push(g$.slice(0,g$.length-3));g$=""}}else if(fE.startsWith("%BeginData:"))at=!0;
continue}else if(fE.endsWith("%EndData"))at=!1;else if(fE=="/Mesh X!"){fF=[];g$="";continue}else if(fE=="/End X!"){m(fF,C,V);
fF=null;continue}if(fE!="XI"&&at)continue;var hx="Xa XR m l c f Q q U u *U w W h n J j M d".split(" "),cx=-1,fg=fE.indexOf("(")!=-1;
for(var N=0;N<hx.length;N++){var iI=fE.indexOf(" "+hx[N]+" ");if(iI!=-1&&iI<fw&&!fg){fw=iI;cx=N}}if(cx!=-1){L=!0;
var eq=fw+1+hx[cx].length;j[bv]=fE.slice(0,eq);var fS=j[bv+1];if(fS==null||fS[0]=="%"||cx>9)j.splice(bv+1,0,fE.slice(eq));
else j[bv+1]=(fE.slice(eq)+" "+fS).replace(/\s\s+/g," ");bv--;continue}fE=fE.trim();var f1=fE.split(" "),c4=f1[f1.length-1],ea=c4.toLowerCase(),ie=f1.map(parseFloat);
if(c4=="m")h.moveTo(C,ie[0],ie[1]);else if(c4=="L"||c4=="l")h.lineTo(C,ie[0],ie[1]);else if(c4=="V"||c4=="v"){var i$=C.pth.crds,cI=C.cpos[0],cD=C.cpos[1];
h.curveTo(C,cI,cD,ie[0],ie[1],ie[2],ie[3]);var fG=i$.length;i$[fG-6]=cI;i$[fG-5]=cD}else if(c4=="Y"||c4=="y")h.curveTo(C,ie[0],ie[1],ie[2],ie[3],ie[2],ie[3]);
else if(c4=="C"||c4=="c")h.curveTo(C,ie[0],ie[1],ie[2],ie[3],ie[4],ie[5]);else if(c4=="H"||c4=="h"){if(c4==ea)h.closePath(C);
if(!$){var cH=V.Sh();V.U.push(cH);cH.YY("<Clipping Path>");cH.D7=!0;cH.add.vstk=kE.Cs.wy();cH.add.SoCo=JSON.parse(kE.iv[kE.order.indexOf("SoFi")]);
y(cH,C.pth,V,n)}else i=!0}else if(c4=="XR"){n=ie[0]}else if(c4=="Xy"){f=jt.ab1[ie[0]];O=ie[1];if(f==null){f="norm";
console.log("unknown blend mode",ie[0])}}else if(c4=="Xd"){var aR=V.U[V.U.length-1];aR.zO=Math.round(255*O);
aR.JY=aR.S3()&&f=="norm"?"pass":f}else if(c4=="AE")cr=ie[0];else if(c4=="Ae")eE=ie[0];else if(c4=="Xw")bQ=ie[0];
else if(c4=="*"){var hL=C.pth.crds,ee=C.ctm,iI=hL[0]==hL[2]?0:1;V.UZ.push([iI,hL[iI]]);h.newPath(C)}else if(c4=="XN")fR=fE.split(" ")[0];
else if(c4=="XI"){var aj=T.Raster,iA,eL,gS;if(aj==null||aj.length==0){console.log("no Raster");continue}if(fE!="XI"){continue}else{var hZ=aj[J++];
if(hZ.Data)hZ=hZ.Data;var bZ=hZ._begin,k_=hZ._end;while(e[bZ]!=88)bZ++;bZ+=3;iA=e.slice(bZ,k_);eL=j[bv-2].split(" ").map(parseFloat)}var kW=eL.slice(8),iU=kW[2],kO=kW[3],hq=iU*kO,e8=g.j(hq*4);
e8.fill(255);var gi=kW[7],jZ=kW[8],cg=kW[6],hn=Math.ceil(iU*gi*cg/8);if(gi==1){if(cg==8)for(var N=0;
N<hq;N++)for(var bF=0;bF<3;bF++)e8[4*N+bF]=iA[N];else if(cg==1)for(var gf=0;gf<kO;gf++)for(var eH=0;
eH<iU;eH++)for(var bF=0;bF<3;bF++)e8[4*(gf*iU+eH)+bF]=255*(iA[gf*hn+(eH>>>3)]>>>7-(eH&7)&1);else throw cg}else if(gi==3)for(var N=0;
N<hq;N++)for(var bF=0;bF<3;bF++)e8[4*N+bF]=iA[3*N+bF];else if(gi==4||gi==5){for(var N=0;N<hq;N++){e8[4*N+0]=iA[gi*N+0];
e8[4*N+1]=iA[gi*N+1];e8[4*N+2]=iA[gi*N+2];e8[4*N+3]=iA[gi*N+3]}g.a7k(e8);for(var N=0;N<hq;N++)e8[N*4+3]=255}else if(gi==7)for(var N=0;
N<hq;N++){e8[4*N+0]=iA[gi*N+0];e8[4*N+1]=iA[gi*N+1];e8[4*N+2]=iA[gi*N+2]}else console.log("unknown number of channels",gi);
if(jZ==1){var h5=kO*hn;for(var N=0;N<hq;N++)e8[4*N+3]=iA[h5+N]}if(iU*kO<700*700)gS="PNG";else if(Math.max(iU,kO)>32768)gS="PNG";
else gS=g.Md(e8,iU,kO)?"JPG":"PNG";var hP=lf.c_(gS)._M([[e8.buffer]],iU,kO),iy=V.ow(new Uint8Array(hP),"<Image>",0,0);
V.U.push(iy);iy.JY=f;iy.zO=Math.round(255*O);iy.ZR(bQ==0);var cs=new ka;cs.scale(1,-1);cs.concat(M(eL.slice(1)));
cs.concat(M(C.ctm));var fH=iy.add.SoLd,fM=fH.Sz.v,az=new dU(0,0,fM.Wdth.v,fM.Hght.v),f1=g.b.Lw(az).n;
g.b.M(f1,cs,f1);iy.add.SoLd.Trnf=_.Gz.If(f1);iy.add.SoLd.nonAffineTransform=_.Gz.If(f1);iy.uz(V,!1)}else if(c4=="Ln"){z.push(Y(fE))}else if(c4=="u"||c4=="q"||c4=="Lb"){if(c4=="Lb")V.add.prvw=ie[1];
df.push(eE==1);eV.push((c4=="Lb"?1-ie[0]:bQ)==0);if($)continue;V.U.push(V.rS())}else if(c4=="U"||c4=="Q"||c4=="LB"){if(df.length==0||eV.length==0)throw bv;
var er=df.pop(),aJ=eV.pop();if(c4=="LB")er=cr==1;if($)continue;var iy=V.Sh();iy.YY((c4=="U"?"<Group>":"<Clip Group>")+P);
if(c4=="LB")iy.YY(z.pop());iy.add.lsct=er?e5.B2:e5.Fn;iy.JY="pass";iy.Z9=24;iy.ZR(aJ);V.U.push(iy);if(i8){if(V.U[V.U.length-3].getName()=="</Layer group>"){V.U.pop();
V.U.splice(V.U.length-2,1)}i8=!1}}else if(c4=="Bb")dF=ie[0]!=1;else if(c4=="BB"){}else if(c4=="Bm"||c4=="Bc"||c4=="Xm"){}else if(c4=="Bh")hT=ie.slice(2,4);
else if(c4=="Bg"){var kS=H.Setup.Gradient,ge=kS[Y(fE)],f1=fE.slice(fE.indexOf(")")+2).split(" ").map(parseFloat);
if(ge==null){console.log("gradient not found");for(var aT in kS){ge=kS[aT];break}}var fQ=f1[10];if(isNaN(fQ))fQ=1;
var j6=f1.slice(0,4);j6.push(fQ,hT[0],hT[1]);if(Math.max(Math.abs(j6[0]),Math.abs(j6[1]))>20){j6[0]=0;
j6[1]=0;j6[3]=1;console.log("strange gradient")}var et=[ge.R7,ge.a9U,j6,f1.slice(4,10)];D(et,"GdFl",dF)}else if(ea=="p"&&1<fE.length&&fE.length<100){var d2=Y(fE),kx=H.Setup.Pattern[d2],c2=kx.IH,iU=Math.round(c2[2]-c2[0]),kO=Math.round(c2[3]-c2[1]);
if(V.Ed[d2]==null){var d5=new ey,ke=Math.sqrt(Math.abs(Q[0]*Q[3]-Q[1]*Q[2])),cs=new ka(1,0,0,-1,-kx.IH[0],kO+kx.IH[1]);
cs.concat(new ka(ke,0,0,ke,0,0));var dv=[X,k,B,U];X=[0,0,0];k=[0,0,0];B="SoCo";U="SoCo";l(d5,kx.oe,ka.U9(cs),H,T,e);
d5.r=Math.round(iU*ke);d5.$=Math.round(kO*ke);d5.Hm();d5.I_();if(cC==0){d5.buffer=g.j(d5.r*d5.$*4);d5.HQ()}X=dv[0];
k=dv[1];B=dv[2];U=dv[3];V.Ed[d2]=d5}var fN=fE.slice(fE.indexOf(")")+2),b_=fN.slice(0,fN.indexOf("[")-1).split(" ").map(parseFloat),hJ=fN.slice(fN.indexOf("[")+1,fN.indexOf("]")).split(" ").map(parseFloat),cs=new ka(1,0,0,-1,0,kO);
cs.concat(ka.aaE(hJ));D([d2,[b_,ka.U9(cs)]],"patt",c4=="p")}else if(c4=="J"||c4=="j"||c4=="w"||c4=="M"||c4=="d"){var cs=C.ctm,ke=Math.sqrt(Math.abs(cs[0]*cs[3]-cs[1]*cs[2]));
for(var N=1;N<f1.length;N++){var dP=f1[N],cf=ie[N-1];if(dP=="w")w.A4=cf*ke;if(dP=="j")w.WA=cf;if(dP=="J")w.VT=cf;
if(dP=="M")w.Mj=cf;if(dP=="d"){var ig=fE.slice(fE.indexOf("[")+1,fE.indexOf("]")).trim();if(ig.length!=0){var b8=ig.split(" ").map(parseFloat);
w.Vt=b8;for(var bF=0;bF<b8.length;bF++)b8[bF]*=ke}else if(ig=="")w.Vt=[]}}}else if(ea=="xa"||ea=="xx"){var hE=R(fE);
D(hE,"SoCo",c4=="Xa"||c4=="Xx")}else if(ea=="xk"){hE=R(fE);D(hE,"SoCo",c4=="Xk")}else if(ea=="k"||ea=="x"){hE=R(fE);
D(hE,"SoCo",c4==ea)}else if(ea=="g"){var hE=[ie[0],ie[0],ie[0]];D(hE,"SoCo",c4==ea)}else if(ea=="n"){if(!$)h.newPath(C)}else if(c4=="*u"){$=!0;
d9=0;eV.push(bQ==0)}else if(c4=="*U"||ea=="s"||ea=="f"||ea=="b"){if(c4!="*U"&&$){if(ea=="f"||ea=="b")d9|=1;
if(ea=="s"||ea=="b")d9|=2;continue}if(c4==ea)h.closePath(C);if(c4=="*U"){$=!1}var iy;{iy=V.Sh();iy.Z9|=16;
y(iy,C.pth,V,n);var is=ea=="f"||ea=="b"||c4=="*U"&&d9&1,e2=ea=="s"||ea=="b"||c4=="*U"&&d9&2,hh=iy.add.vstk=kE.Cs.wy(is,e2),e3=g.N(w);
e3.jg=[];e3.rD=[];if(is)e3.jg=X;if(e2)e3.rD=k;if(cC==0){kE.Cs.write(hh,e3);if(B=="SoCo"){iy.add.SoCo=JSON.parse(kE.iv[kE.order.indexOf("SoFi")]);
var gy=iy.add.SoCo.Clr.v;a(gy,X)}if(B=="GdFl"){iy.add.GdFl=jt.tQ(X,iy.add.vmsk.G)}if(B=="patt"){iy.add.PtFl=K(X,V)}if(e2){var hy=["SoCo","GdFl","patt"].indexOf(U),iV=hy==0?{Clr:{t:"Objc",v:kb.pe(k)}}:hy==1?jt.tQ(k,iy.add.vmsk.G):K(k,V),fL=[kE.nV,kE.N2,kE.W0][hy],ct=hh.strokeStyleContent.v={classID:kE.Cs.Y_[hy]};
for(var N=0;N<fL.length;N++)ct[fL[N]]=iV[fL[N]]}}else iy.add.vstl=e3}if(c4=="*U"&&i){iy.D7=!0;i=!1}iy.YY("<"+(c4=="*U"?"Compound ":"")+"Path>"+P);
iy.JY=f;iy.zO=Math.round(255*O);iy.ZR(c4=="*U"?eV.pop():bQ==0);iy.Ae(V);V.U.push(iy);h.newPath(C)}else if(c4==","&&f1[0]=="/XMLUID"){var aR=V.U[V.U.length-1];
for(var N=0;N<V.$y.length;N++)if("("+V.$y[N].docRef+")"==f1[2])V.$y[N].docRef="id('"+aR.add.lyid+"')"}else if(c4==","&&f1[1]=="/FreeUndo"){gU=ie[0]}else if(c4==","&&f1[1]=="/StoryIndex"){var gE=H.Setup.TextDocument,hV=null;
if(!(gE instanceof Array))window.aa$=gE=H.Setup.TextDocument=E(gE,e);var gz=gE[0],ij=gE[2];if(gz._DocumentResources)gz=gE[0]=li.asj(gz);
else li.arV(gz);var iy=V.Sh();iy.add.lnsr="rend";iy.add.TySh=gZ.nG(0,0);var d$=ie[0];if(gU==1){for(var N=1;
N<60;N++){var fS=j[bv+N];if(fS&&fS.endsWith("/StoryIndex ,")){d$=parseFloat(fS.slice(2,fS.indexOf(" ")));
i8=!0;break}}gU=0}var jr=cR.a9a(gz),f9=iy.add.TySh.FZ=jr[d$];if(f9==null){console.log("text not found");
i8=!1;continue}iy.YY(gZ.mw(f9).slice(0,50));iy.JY=f;iy.zO=Math.round(255*O);iy.ZR(bQ==0);var gl=gz._1._1[d$]._1._0[0]._0;
gl=parseInt(gl.slice(1));var i7=gz._0._8._0,gq=i7[gl]._0;if(gq._0)hV=p(gq._0);else if(gq._1)hV=p(gq._1._0);
else hV=p(gq._2._2).slice(3);if(hV.length!=2){var c2=g.b.Hb(hV);hV=[c2.x,c2.y];if(c2.C()!=0){gZ.XM(f9,1);
gZ.eR(f9,[0,0,Math.round(c2.r),Math.round(c2.$)])}}var f_=new ka,du=new ka(1,0,0,1,hV[0],hV[1]),f7=new ka(1,0,0,1,-ij[0],-ij[1]),gF=M(C.ctm),gY=new ka;
if(gq._2&&gq._2._2){var Q=p(gq._2._2);gY=M(Q)}f_.concat(du);f_.concat(gY);f_.concat(f7);f_.scale(1,-1);
f_.concat(gF);iy.add.TySh.M=f_;V.U.push(iy);V.Tr=!0}else if(c4=="Tp"){A.Ez=M(ie)}else if(c4=="Tf"){A.font=f1[0].slice(2)}else if(c4=="Tk"){var iy=V.Sh();
iy.add.lnsr="rend";var eD=iy.add.TySh=gZ.nG(0,0),f9=eD.FZ,cs=A.Ez.P(),fM=cs.Lr();cs.concat(M(C.ctm));
var gR=new ka(1/fM,0,0,-1/fM,0,0);gR.concat(cs);eD.M=gR;var cv=Y(fE);iy.YY(cv);gZ.L3(f9,0,cv);var aH=gZ.J0(f9,0,cv.length);
aH.n6.FontSize=fM;aH.n6.FillColor={Type:1,Values:[1,X[0],X[1],X[2]]};gZ.j_(aH,A.font);gZ.oM(f9,0,cv.length,aH);
V.U.push(iy);V.Tr=!0}else if(L&&ie.length>3){var dk=!1;for(var N=0;N<ie.length;N++)if(isNaN(ie[N]))dk=!0;
if(!dk)j[bv+1]=(fE+" "+j[bv+1]).replace(/\s\s+/g," ")}}}function K(X,V){if(V.Fu==null)V.Fu={};var j=V.Fu[X[0]];
if(j==null){var Q=V.Ed[X[0]],j=V.Fu[X[0]]={};j.id=ey.Gk()+"-d71c-11e5-b1ae-a548a96e5f9f";j.name="someImage";
j.CH=[Q.OL(),new dU(0,0,Q.r,Q.$)];V.cB(j)}var H=JSON.parse(kE.iv[kE.order.indexOf("patternFill")]);H.Ptrn.v.Idnt.v=j.id;
var T=M(X[1][1]),e=-Math.atan2(-T.X,T.iM);H.Angl.v.val=Math.round(e*180/Math.PI);H.Scl.v.val=Math.round(100*T.Lr());
return H}jt.tQ=function(V,j){var Q=jt.qR(V,j),H=[0,0,1,0];if(V[0]==0)H[0]=.5;g.b.M(H,Q,H);var T=JSON.parse(kE.iv[kE.order.indexOf("GrFl")]),e=T.Grad.v;
e.Intr.v=0;T.Type.v.GrdT=["Lnr","Rdl"][V[0]];g.ov.mi(V[1],e);g.ov.Za(new hw(H[0],H[1]),new hw(H[2],H[3]),g.z.Sa(j),T);
return T};jt.fH=function(V,j,Q){var H={Lnr:0,Rflc:0,Rdl:1,Angl:1,Dmnd:1}[V.Type.v.GrdT],T=g.z.Sa(j);
if(Q&&!V.Algn.v)T=new dU(0,0,Q.r,Q.$);var e=g.ov.adM(V,T),z=e[0],J=e[1];if(H==0){z.x-=J.x-z.x;z.y-=J.y-z.y}var P=J.x-z.x,L=J.y-z.y,A=Math.sqrt(P*P+L*L),h=new ka;
h.rotate(Math.atan2(-L,P));h.scale(A,A);h.translate(z.x,z.y);var C=jt.d8(H,h,j),w=V.Grad.v;C[1]=g.ov.awH(w,null,null);
return C};jt.Ei=function(V,j,Q){var H=hw.tj(V,j),T=new ka;T.scale(H,H);T.rotate(-Math.atan2(j.y-V.y,j.x-V.x));
T.translate(V.x,V.y);if(Q)T.concat(Q);return T};jt.bF=function(V,j,Q,H,T){if(j&&!H.AB(j)){var e=Math.atan2(-(Q.y-j.y),Q.x-j.x);
if(T!=null||e!=0){var z=new ka;z.translate(-j.x,-j.y);z.scale(1,T);z.rotate(e);z.translate(j.x,j.y);
z.i5();H=z.Bb(H)}var J=Math.atan2(-(H.y-j.y),H.x-j.x);V[2][5]=J*180/Math.PI;V[2][6]=hw.tj(H,j)/hw.tj(Q,j)}};
jt.d8=function(V,j,Q){var H=j.P(),P,L,A=1;H.i5();var T=b.jY.zx(Q);g.z.Y9(T,H);var e=g.z.Sa(T),z=e.r,J=e.$;
if(V==0){var h=new ka;h.translate(-e.x,-e.y);h.translate(-z/2,-J/2);var C=jt.a3H(z,J,0);h.scale(1/C,1/C);
h.scale(1/z,1/J);P=h.Wy+.5;L=h.rY+.5;A=h.iM}else{P=-e.x/z-.5;L=-e.y/J-.5;var w=(P-.5)*z/2,f=(L-.5)*J/2;
A=1/Math.sqrt(2*(w*w+f*f))}var O=[V,null,[P,L,0,A,1,0,0],[j.iM,j.X,j.bO,j.kv,j.Wy,j.rY]];return O};jt.qR=function(V,j){var Q=V[0],H=V[2],T=V[3],e=M(T);
e.i5();var z=b.jY.zx(j);g.z.Y9(z,e);var J=g.z.Sa(z),P=J.r,L=J.$,A=H[0],h=H[1],C=H[2]*Math.PI/180,w=H[3],f=new ka;
if(Q==0){f.scale(w,w);f.translate(A-.5,h-.5);f.scale(P,L);f.rotate(C);var O=jt.a3H(P,L,C);f.scale(O,O);
f.translate(P/2,L/2)}else{var n=(A-.5)*P/2,$=(h-.5)*L/2,O=w*Math.sqrt(2*(n*n+$*$));f.scale(O,O*H[4]);
f.rotate(C);f.translate((A+.5)*P,(h+.5)*L)}f.translate(J.x,J.y);f.concat(M(T));return f};function D(V,j,Q){if(Q){B=j;
X=V}else{U=j;k=V}}function m(V,j,Q){var H=UDOC.G,T=[],e=[],z="/DeviceGray",J=1,P=[],L=1;for(var A=0;
A<V.length;A++){var h=V[A];if(h.endsWith(" /CS")){var C=h.indexOf("/NChannel"),w=h.indexOf("/Process");
if(h.startsWith("/DeviceRGB")){z="/DeviceRGB";J=3}else if(h.startsWith("/DeviceGray")){z="/DeviceGray";
J=1}else if(h.startsWith("/DeviceCMYK")){z="/DeviceCMYK";J=4;P=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]]}else if(C!=-1){z="/DeviceCMYK";
J=parseInt(h.slice(C-2,C-1));var f=1;for(var N=0;N<J;N++){f=h.indexOf("[",f);P[J-1-N]=h.slice(f+1,f+8).split(" ").map(parseFloat);
f++}}else if(w){z="/DeviceGray";J=1}else throw h}else if(h[0]=="["){var O=h.indexOf("]"),n=h.slice(1,O).split(" ").map(parseFloat),$=h.slice(O+2),d9,i,dF,t,im,bc;
if($=="/Size"||$=="/P"||$=="/R")continue;if($=="/S"||$=="/A"){d9=n[0];i=n[1];dF=n[2];t=n[3];im=n[4];
bc=n[5]}else if($=="/N"){var at=J+(L==1?0:1),l9;d9=n[at+0];i=n[at+1];dF=n[at+2];t=n[at+3];im=n[at+5];
bc=n[at+6];if(z=="/DeviceRGB")l9=n.slice(0,3);else if(z=="/DeviceGray")l9=[n[0],n[0],n[0]];else if(z=="/DeviceCMYK"){var fF=[0,0,0,0];
for(var N=0;N<J;N++){var g$=n[N],fR=P[N];fF[0]+=g$*fR[0];fF[1]+=g$*fR[1];fF[2]+=g$*fR[2];fF[3]+=g$*fR[3]}l9=x(fF)}else throw l9;
l9.push(n[J]);e.push([l9,d9,i])}else throw $;T.push([$,im,bc,d9,i,dF,t])}else if(h=="/E"){var cr=T.slice(0),eE=0;
for(var N=0;N<T.length;N++){var bQ=T[N][0];if(bQ=="/N"){eE++;continue}var hT=N,df=N+1;while(T[df][0]!="/N"&&df<T.length)df++;
if(eE==0||eE==3){for(var eV=0;eV<df-hT;eV++)cr[hT+eV]=T[df-1-eV]}else for(var eV=hT;eV<df;eV++){var gU=cr[eV],i8=gU[1];
gU[1]=gU[5];gU[5]=i8;i8=gU[2];gU[2]=gU[6];gU[6]=i8}N=df-1}T=[];for(var N=0;N<cr.length;N++){var gU=cr[N];
T.push(gU[1],gU[2],gU[3],gU[4],gU[5],gU[6])}var bv=T.length;H.moveTo(j,T[2],T[3]);for(var N=0;N<bv;N+=6){var dF=T[(N+4)%bv],t=T[(N+5)%bv],im=T[(N+6)%bv],bc=T[(N+7)%bv],d9=T[(N+8)%bv],i=T[(N+9)%bv];
H.curveTo(j,dF,t,im,bc,d9,i)}H.closePath(j);T=[]}else if(h.endsWith("/Version"))L=parseFloat(h[0])}var fE=Q.Sh();
fE.Z9|=16;fE.YY("<Mesh>");var d5=fE.add.vstk=kE.Cs.wy(!0);y(fE,j.pth,Q,0);if(e.length>=2){var aR=0,l8=0,au=0;
for(var N=0;N<e.length;N++)for(var eV=N+1;eV<e.length;eV++){var hx=e[N][0],fw=e[eV][0],cx=hx[0]-fw[0],fg=hx[1]-fw[1],iI=hx[2]-fw[2],eq=Math.sqrt(cx*cx+fg*fg+iI*iI);
if(eq>au){au=eq;aR=N;l8=eV}}var fS=e[aR],f1=e[l8],c4=[[0,fS[0],1,.5],[1,f1[0],1,.5]],ea=M(j.ctm),ie=ea.Bb(new hw(fS[1],fS[2])),i$=ea.Bb(new hw(f1[1],f1[2]));
if(ie.AB(i$))i$.x+=1;if(cC==0){var cI=fE.add.GdFl=JSON.parse(kE.iv[kE.order.indexOf("GrFl")]),cD=cI.Grad.v;
cD.Intr.v=0;cI.Type.v.GrdT="Lnr";g.ov.mi(c4,cD);var fG=g.b.Hb(j.pth.crds);ie.x=(ie.x+i$.x)/2;ie.y=(ie.y+i$.y)/2;
g.ov.Za(ie,i$,fG,cI)}else{var cH=fE.add.vstl=kE.Hr.wy();cH.rD=[];var hL=jt.Ei(ie,i$,new ka);cH.jg=jt.d8(0,hL,fE.add.vmsk.G);
cH.jg[1]=c4}}Q.U.push(fE);H.newPath(j)}function Y(V){var j=V.indexOf(")");while(V[j-1]=="\\")j=V.indexOf(")",j+1);
return V.slice(V.indexOf("(")+1,j).replaceAll("\\","")}function a(V,X){V.Rd.v=X[0]*255;V.Grn.v=X[1]*255;
V.Bl.v=X[2]*255}function p(V){var j=[];for(var N=0;N<V.length;N++)j[N]=parseFloat(V[N].slice(1));return j}function M(V){return ka.aaE(V)}function x(V){return g.eL(V.slice(0,4)).slice(0,3)}function R(V){var j=V.split(" "),Q=j[j.length-1],H=Q.toLowerCase(),T=j.map(parseFloat),e=null;
if(H=="xa"||H=="xx"||H=="xz"){var e=T[4]==null?T.slice(0,3):[T[4],T[5],T[6]];if(H=="xx"&&T[T.length-2]==2)e=x(T)}else if(H=="g")e=x([0,0,0,1-T[0]]);
else if(H=="x"||H=="k"){if(H=="x"){T.pop();var z=1-T.pop();for(var N=0;N<4;N++)T[N]*=z}e=x(T)}else if(H=="xk"){var J=T[T.length-2],P=T[T.length-3];
if(J==0)e=x(T);else if(J==1){e=[T[4],T[5],T[6]];for(var N=0;N<3;N++)e[N]=P*1+(1-P)*e[N]}else throw V}else throw H;
return e}function y(V,j,Q,H){V.add.vmsk=new b.jY;if(j.crds.length!=0)V.add.vmsk.G=s(j);V.add.vmsk.HG=H;
V.tw();V.Ae(Q)}function s(V){var j={n:V.crds,zb:V.cmds},Q=g.b.gH(j,!1);return Q}function F(V,j){var Q=[],A=0,f=0;
for(var H=0;H<2;H++){var T=j[["Raster","Place"][H]];if(T==null)continue;for(var N=0;N<T.length;N++){for(var e=0;
e<3;e++){var z=T[N][["Data","Document","PlacedObjectPreview"][e]];if(z==null)continue;var J=z._begin,P=z._end;
if(J>P)J=P;Q.push([J,P])}}}Q.sort(function(n,$){return n[0]-$[0]});var L=[j._begin];for(var N=0;N<Q.length;
N++){var h=Q[N],J=h[0]+32;L.push(J,h[1]);A+=h[1]-J}L.push(j._end);var C=j._end-j._begin,w=new Uint8Array(C-A);
for(var N=0;N<L.length;N+=2){var J=L[N],O=L[N+1]-J;w.set(new Uint8Array(V.buffer,J,O),f);f+=O}return Z._o(w).split(/\r\n|\r|\n/)}function E(V,j){if(V==null)return[];
var Q=F(j,V),H="",T="",e=0,z;for(var N=2;N<Q.length;N++){var J=Q[N];if(J[0]=="%"){if(e==0)H+=J.slice(1);
else T+=J.slice(1)}else if(J==";")e++;else if(J.endsWith("/RulerOrigin ,"))z=J.split(" ").slice(0,2).map(parseFloat)}var P=[H,T],L=[];
for(var N=0;N<2;N++){var A=P[N],h=new Uint8Array(A.length);Z.o3(h,0,A);var C=FromPS.F.ASCII85Decode({buff:h,off:0}),w=gC.WZ(C);
L.push(w)}L.push(z);return L}function o(V,j){if(V==null)return[];var Q=F(j,V);Q=Q.slice(1);for(var N=0;
N<Q.length;N++){var H=Q[N];if(H.startsWith("%AI17_Begin_Content_if_version_gt")||H=="%AI17_Alternate_Content"||H=="%AI17_End_Versioned_Content")Q[N]="";
else if(H[0]=="%")Q[N]=H.slice(H[1]=="_"?2:1)}var T=iv.aEp(Q);return T}function G(V,j){var Q={};if(V==null)return Q;
for(var N=0;N<V.length;N++){var H=F(j,V[N]),T=H[1],e=Y(T),z=T.slice(T.lastIndexOf(")")+2).split(" ").map(parseFloat),J=[];
for(var P=2;P<H.length;P++)J.push(H[P].slice(2));Q[e]={IH:z,oe:J}}return Q}function d(V,j){var Q=[],T,e;
if(V==null)return Q;var H=F(j,V);for(var N=1;N<H.length;N++){var z=H[N];if(z=="0 0 Pb"||z=="PB"||z==""){}else if(z.endsWith("Xa")||z.endsWith("Xz")||z.endsWith("Xx")||z.endsWith("Xk")||z.endsWith(" g")||z.endsWith(" x")||z.endsWith(" k"))T=[0,R(z)];
else if(z.endsWith("Xs"))T=[0,[0,0,0]];else if(z.endsWith("Bg"))T=[1,Y(z)];else if(z.endsWith("Pg")||z.endsWith("p"))T=[2,Y(z)];
else if(z[0]=="(")e=Y(z);else if(z=="Pc")Q.push([e,T]);else if(z=="0 BB"||z=="Bb"||z.endsWith("Bh")){}else if(z.startsWith("%AI17_")){}else throw z}return Q}function u(V,j){var Q={},H,T;
if(V==null)return Q;var e=[];for(var N=0;N<V.length;N++){var z=F(j,V[N]);for(var J=0;J<z.length;J++){var P=z[J];
if(P.endsWith("%_Bs")){var L=P.slice(0,P.length-4);if(!L.endsWith(" "))L+=" ";P=L+"%_BS"}if(P[0]=="("){H=Y(P);
var A=P.slice(P.lastIndexOf(")")+2).split(" ");T=parseInt(A[0])}else if(P.endsWith("%_BS")){var h=P.split(" "),O,n=1;
h.pop();h=h.map(parseFloat);var C=h.pop(),w=h.pop(),f=h.pop();if(f==0)O=[h[0],h[0],h[0]];else if(f==2||f==4)O=[h[4],h[5],h[6]];
else if(f==1||f==3)O=x(h);else if(f==6){if(h.length==3)O=[h[0],h[0],h[0]];else if(h.length>=8)O=h.slice(4,7);
else O=x(h);n=h.pop()}else{throw f}e.push([C/100,O,n,w/100])}else if(P=="BD"){e.sort(function($,d9){return $[0]-d9[0]});
Q[H]={R7:T,a9U:e};e=[]}}}return Q}function r(V){var j="Gradient PluginObject Symbol Pattern PatternLayer BrushPattern Encoding Raster Layer Resource Place Rider".split(" "),Q=Date.now(),H=0,T=[],e={Header:{}},z=[e],J=V.length;
while(H<J){var P=H;while(P!=J&&V[P]!=13&&V[P]!=10){P++}if(V[H]==37&&V[H+1]==95&&V[H+2]==37)H+=2;if(V[H]==37&&(V[H+1]==37||V[H+1]==65)){var L=Z.zD(V,H,P-H);
if(L=="%%EOF")break;if(L=="%%EndComments"||L=="%EndComments"||L=="%AI5_Begin_NonPrinting"||L=="%AI5_End_NonPrinting--"||L.startsWith("%AI17_Begin_Content_if_version_gt")||L=="%AI17_End_Versioned_Content"){}else{var A=L.indexOf("Begin"),h=Math.max(L.indexOf("_End"),L.indexOf("%End"));
if(A!=-1&&L[A-1]!="%"&&L[A-1]!="_")A=-1;if(A!=-1){var C=L.slice(A+5).split(":")[0],w={_begin:H,_end:H},f=z[z.length-1];
if(j.indexOf(C)!=-1){if(f[C]==null)f[C]=[];f[C].push(w)}else{if(f[C]!=null){console.log(z);throw L}f[C]=w}z.push(w);
if(L.startsWith("%%BeginData")){P=Z.Ka(V,"%%EndData",H)}else if(L.slice(0,15)=="%%BeginDocument")P=Z.Ka(V,"%%EndDocument",P);
else if(L=="%AI9_BeginDocumentData")P=Z.Ka(V,"%AI9_EndDocumentData",P);else if(L=="%AI11_BeginTextDocument")P=Z.Ka(V,"%AI11_EndTextDocument",P)}else if(h!=-1){if(z.length>1)z.pop()._end=H}else if(z.length==1&&(L.startsWith("%AI")||L.startsWith("%%")&&L.indexOf(" ")!=-1)){var O=1;
if(L.startsWith("%AI"))while(L[O]!="_"&&O<L.length)O++;var n=L.indexOf(":");if(n==-1)n=L.indexOf(" ");
var $=L.slice(O+1,n),d9=L.slice(n+1).trim();e.Header[$]=d9}}}H=P;if(V[H]==13)H++;if(V[H]==10)H++}return e}function v(V){var j="";
for(var N=0;N<V.length;N++){if(V[N]=="_"&&V[N+1]=="x"){var a1=parseInt(V.slice(N+2,N+4),16);j+=String.fromCharCode(a1);
N+=4}else if(V[N]=="_")j+=" ";else j+=V[N]}return j}function c(V){var j="xmlnode-nodename",Q="xmlnode-nodevalue",H="xmlnode-attributes",T="xmlnode-children",e=V[j].split(":").pop().replace("#",""),z=V[H],J=V[T],P="<"+e;
for(var L in z)if(L!="xmlns"&&L!="xmlns:v")P+=" "+L.split(":").pop()+"=\""+z[L][Q]+"\"";P+=">"+(J.length==0?"":"\n");
for(var N=0;N<J.length;N++)P+=c(J[N]);if(V[Q])P+=V[Q];return P+"</"+e+">\n"}return W}();jt.a3H=function(W,q,X){var k=g.b.Lw(new dU(0,0,W,q)).n,B=new ka;
B.rotate(X);g.b.M(k,B,k);var U=g.b.Hb(k);return U.r/W};jt.ab1="norm,mul ,scrn,over,sLit,hLit,div ,idiv,dark,lite,diff,smud,hue ,sat ,colr,lum ".split(",");
jt.zX=function(){function W(x){var R=72/x.mC,y=new ka(R,0,0,-R,0,0),s=x.root.children,F=[],E={ee:[],G6:{},abR:0},G=16383,t=0,bc=0;
for(var N=0;N<x.hf.length;N++){var o=x.hf[N];if(o[1].length==4)p(o[1],E,o[0])}for(var N=0;N<s.length;
N++)D(s[N],x,y,E,F,0);var d=["%!PS-Adobe-3.0\r","%%Creator:Adobe Illustrator (TM) 15.000000 Exported from Photopea","%%Title:Sitecreator.io.ai\r","%%CreationDate:\r","%%Canvassize:"+G+"\r","%%BoundingBox:0 0 0 0\r","%%DocumentProcessColors: Cyan Magenta Yellow Black\r","%AI3_ColorUsage: Color\r","%AI3_Cropmarks:0 0 1 1\r","%AI3_TileBox:0 0 1 1\r","%AI3_TemplateBox:0 0 1 1\r","%AI3_DocumentPreview: None\r","%AI5_ArtSize: 0 0 \r","%AI5_NumLayers: 1\r","%AI5_FileFormat 2.0\r","%AI9_ColorModel: 1\r","%AI12_CMSettings: 00.MS\r","%%BeginProlog\r","%%EndProlog\r"];
d.push("%%BeginSetup\r");d=d.concat(E.ee);for(pn in x.Ed){var u=x.Ed[pn],r=x.mC/72;d.push("%AI3_BeginPattern: ("+pn+")");
d.push("("+pn+") 0 0 "+Math.round(u.r/r)+" "+Math.round(u.$/r));var s=u.root.children,v=[];for(var N=0;
N<s.length;N++)D(s[N],u,y,E,v,1);v=window.aem;for(var N=0;N<v.length;N++){var c=v[N];d.push(c.startsWith("%_")?c:"%_"+c)}d.push("E","%AI3_EndPattern")}if(x.hf.length!=0){d.push("%AI5_BeginPalette","0 0 Pb");
for(var N=0;N<x.hf.length;N++){var o=x.hf[N],V="("+o[0]+")",j=o[1].length;if(o[0]=="[Registration]")d.push("0.749721 0.679194 0.670497 0.901457 0 0 0 ([Registration]) 0 1 Xz");
else if(j==3)d.push(K(g.s6(o[1]).concat(o[1]))+" "+V+" 0 1 Xk");else if(j==4)d.push("Bb","0 0 0 0 Bh",o[1][0]+1+" "+V+" 0 0 0 1 1 0 0 1 0 0 1 Bg","0 BB");
else if(j==2)d.push(V+" 0 0 1 1 0 0 0 0 0 [1 0 0 1 0 0] p");d.push(V,"Pc")}d.push("PB","%AI5_EndPalette")}d=d.concat(["%AI9_BeginDocumentData\r","/Document :","/Dictionary :","0 /Int (CropAreaActive) ,","/Array :"]);
var Q=x.add.arts;for(var N=0;N<Q.length;N++){var H=Q[N];console.log(H);var T=H.IH[0]*R,e=-H.IH[1]*R,z=H.IH[2]*R,J=-H.IH[3]*R;
d.push("/Dictionary :","("+H.em+") /UnicodeString (Name) ,","1 /Real (PAR) ,","1 /Bool (IsArtboardDefaultName) ,",G/2+" "+G/2+" /RealPoint"," (RulerOrigin) ,","0 /Int (DisplayMark) ,",X(T)+" "+X(e)+" /RealPointRelToROrigin"," (PositionPoint1) ,",X(z)+" "+X(J)+" /RealPointRelToROrigin"," (PositionPoint2) ,","; ,")}d=d.concat("; (ArtboardArray) ,-/Dictionary :-/Array :-; (SelHatDocInterIDsArray) ,-; (SelHatDocTableDict) ,-; /Recorded ,-/Dictionary : /NotRecorded ,-/Dictionary : /NotRecorded ,-; (PDFPresetCollection) ,-; /NotRecorded ,-;-%AI9_EndDocumentData\r".split("-"));
var P=[],L=[];for(var N=0;N<x.U.length;N++){var A=x.U[N],h=A.add.TySh;if(h){P.push(h.FZ);L.push(h)}}if(P.length!=0){var C=cR.aKd(P,null,null);
function w(H){return H.map(function(at){return"f"+at})}for(var f=0;f<P.length;f++){var h=L[f],O=C._1._1[f],n=O._1._0[0]._0;
n=parseInt(n.slice(1));var $=C._0._8._0[n]._0,d9=h.M.P();d9.concat(y);d9.scale(1,-1);$._2._2=w([d9.iM,d9.X,d9.bO,d9.kv,d9.Wy,d9.rY])}var i=q(C),dF=q(C);
d.push("%AI11_BeginTextDocument");d.push("/AI11TextDocument : /ASCII85Decode ,");d=d.concat(i);d.push("0.0001 0.0001 /RulerOrigin ,");
d.push(";");d.push("/AI11UndoFreeTextDocument : /ASCII85Decode ,");d=d.concat(dF);d.push(";");d.push("%AI11_EndTextDocument")}d.push("%%EndSetup\r");
d=d.concat(F);d.push("%%PageTrailer\r","gsave annotatepage grestore showpage\r","%%Trailer\r","%%EOF\r","\r","");
for(var N=0;N<d.length;N++){var H=d[N];if(typeof H=="string")H=d[N]=Z.hP(H);t+=H.length+1}var im=new Uint8Array(t);
for(var N=0;N<d.length;N++){var H=d[N];im.set(H,bc);bc+=H.length;im[bc]=13;bc++}return iv.ayq(im).buffer}function q(x){var R=new dl,y=gC.FN(x,R)-2,s=M(R.data.slice(0,y)),F=[];
for(var E=0;E<s.length;E+=100){if(s.length-E<103){F.push("%"+s.slice(E));break}F.push("%"+s.slice(E,E+100))}return F}function X(a1){return a1.toFixed(3)}function k(x,R){var y=x.getName(),s=null;
R.push("%_/ArtDictionary :");if(x.add.vmsk)s=x.add.vmsk.DC;if(x.add.SoLd){var F=g.F.cH(x.add.SoLd);s=Math.atan2(-F.X,F.iM)}if(x.add.TySh){var F=x.add.TySh.M;
s=Math.atan2(-F.X,F.iM)}if(s!=null&&s!=0)R.push("%_("+s+") /String (BBAccumRotation) ,");if(x.add.TySh)R.push("%_(21b560b4-4fda-4f2d-b9c0-837007f17e72) /UnicodeString (AI24 TextStoryRawDataUUID) ,");
else if(!y.startsWith("<")&&!y.endsWith(">")){R.push("%_/XMLUID : "+B(y)+" ; (AI10_ArtUID) ,")}R.push("%_;","%_")}function B(x){var R="";
for(var N=0;N<x.length;N++){var y=x[N],s=x.charCodeAt(N);if(y==" ")R+="_";else if(y=="."||y==":"||y=="-"||48<=s&&s<=57||65<=s&&s<=90||97<=s&&s<=122||127<s)R+=y;
else R+="_x"+s.toString(16).toUpperCase()+"_"}return"("+R+")"}function U(x,R,y){y.push(K(x)+" "+R)}function l(x){return"[ "+K(x)+" ]"}function K(x){return x.map(X).join(" ")}function D(x,R,y,s,F,E){var o=x.B;
if(E!=0)F.push("0 A",(o.P$()?0:1)+" Xw");if(o.S3()){var G=!1;for(var N=0;N<x.children.length;N++)if(x.children[N].B.D7)G=!0;
var d=o.add.lsct==e5.B2?1:0;if(E==0){F.push("%AI5_BeginLayer");F.push((o.P$()?1:0)+" "+R.add.prvw+" 1 1 0 0 1 -1 51 44 43 0 100 0 Lb");
F.push("("+o.getName()+") Ln");F.push(d+" AE");k(o,F)}else{F.push(d+" Ae");F.push(G?"q":"u")}for(var N=0;
N<x.children.length;N++)D(x.children[N],R,y,s,F,E+1);if(E==0)F.push("LB","%AI5_EndLayer--");else{F.push(G?"Q":"U");
k(o,F);m(o,F);F.push("0 0 Xd","6 () XW")}}else if(!0){m(o,F);var u=o.add.TySh,r=o.add.vmsk;if(u){F.push("/AI11Text :","0 /FreeUndo ,","0 /FrameIndex ,",s.abR+" /StoryIndex ,");
if(gZ.sJ(u.FZ)==1){var v=gZ.KJ(u.FZ),c=g.b.Lw(new dU(v[0],v[1],v[2],v[3])).n;g.b.M(c,u.M,c);g.b.M(c,y,c);
F.push("/Art :","X=","1 Ap",c[0]+" "+c[1]+" m",c[2]+" "+c[3]+" L",c[4]+" "+c[5]+" L",c[6]+" "+c[7]+" L",c[0]+" "+c[1]+" L","n","X+","; /ConfiningPath ,")}F.push("2 /TextAntialiasing ,",";");
s.abR++}else if(o.add.SoLd){var V,j,Q,H=o.add.SoLd,T=H.Idnt.v,e=R.a3(T,H.Crop?H.Crop.v:null),z=e.jx,V=z[0],j=z[1];
Q=g.F.cH(H);var J=new ka(1,0,0,-1,0,0);J.concat(Q);J.concat(y);var P=j.C(),L=j.r,A=j.$,h=g.j(P*4+8);
for(var N=0;N<P;N++){var C=N*4,w=N*3;h[w]=V[C];h[w+1]=V[C+1];h[w+2]=V[C+2];h[3*P+N]=V[C+3]}Z.o3(h,P*4,"%EndData");
F.push("%AI5_File:","%AI5_BeginRaster",l([J.iM,J.X,J.bO,J.kv,J.Wy,J.rY])+" 0 0 "+[L,A,L,A].join(" ")+" 8 3 1 17 1 0 4 4 0 0","%BeginData: "+(P*4+4),"XI",h,"XH","%AI5_EndRaster","N")}else if(r){var f=o.add.vstl,O,n;
if(f){O=f.jg;n=f.rD;if(O.length==0)O=null;if(n.length==0)n=null}var $=g.z._H(r.G)>1;if($)F.push("*u","0 Xw");
if(O){if(O.length==3)U(O,"Xa",F);else if(O.length==4){var d9=a(O,s);F.push("Bb",d9,"2 BB")}else{F.push("("+O[0]+") "+O[1][0].join(" ")+" ["+O[1][1].join(" ")+"] p")}}if(n){var i=y.Lr(),dF=f.Vt.slice(0);
for(var N=0;N<dF.length;N++)dF[N]*=i;F.push(f.VT+" J "+f.WA+" j "+f.A4*i+" w "+X(f.Mj)+" M ["+dF.join(" ")+"]0 d");
if(n.length==3)U(n,"XA",F);else if(n.length==4){var d9=a(n,s);F.push("1 Bb",d9,"2 BB")}else{F.push("("+n[0]+") "+n[1][0].join(" ")+" ["+n[1][1].join(" ")+"] P")}}var t=g.b.sz(r.G,1);
g.b.M(t.n,y,t.n);var im=o.D7?"h\nW\nn":O&&n?"b":O?"f":"s";Y(t,im,r.HG,F);if($)F.push("*U")}k(o,F)}else{var bc=["0 Ae","u","0 Ae","*u","4 As","0 O","0.749721467494965 0.679194271564484 0.670496642589569 0.901457190513611 0 0 0 Xa","0 1 0 0 0 Xy","0 J 0 j 1 w 10 M []0 d","0 XR","111.18822479248 -34.0734329223633 m","78.6218032836914 -68.3782501220703 L","50.4593849182129 -42.8814239501953 L","111.18822479248 -34.0734329223633 L","F","4 As","1 D","127.456848144531 -25.6510887145996 m","36.9820060729981 -38.7733764648438 L","78.938850402832 -76.7589797973633 L","127.456848144531 -25.6510887145996 L","127.456848144531 -25.6510887145996 L","f","*U","U","%_/ArtDictionary :","%_/XMLUID : (stroke_center_00000129180656820086388900000009385145657589981339_) ; (AI10_ArtUID) ,","%_;","%_","0 0 Xd","6 () XW","%_3 As","%_0 D","%_36.9820193421074 -38.7733812949637 m","%_127.456839485992 -25.65107913669 l","%_78.9388538744815 -76.758992805755 l","%_36.9820193421074 -38.7733812949637 l","%_n","%_/ArtDictionary :","%_/XMLUID : (stroke_center) ; (AI10_ArtUID) ,","%_;","%_","1 (Anon EuoqR7CI7zs=) XW"];
F=F.push(bc.join("\n"))}}function m(x,R){var y=jt.ab1.indexOf(x.JY);if(y==-1)y=0;R.push(y+" "+X(x.zO/255)+" 0 0 0 Xy")}function Y(x,R,y,s){s.push(y+" XR");
var F=0;for(var E=0;E<x.zb.length;E++){var o=x.zb[E],G,d=0,u="";if(o=="M"){d=2;G="m"}if(o=="L"){d=2;
G="l"}if(o=="C"){d=6;G="c"}for(var N=0;N<d;N++)u+=X(x.n[F+N])+" ";F+=d;if(d!=0)s.push(u+G);if(E==x.zb.length-1||x.zb[E+1]=="M"){s.push(o=="Z"?R:R.toUpperCase())}}}function a(x,R){var y=p(x,R),s="";
if(x[0]==1)s="0 0 "+x[2].slice(5).map(X).join(" ")+" Bh\n";return s+"1 ("+y+") "+x[2].slice(0,4).map(X).join(" ")+" "+x[3].map(X).join(" ")+" "+X(x[2][4])+" Bg"}function p(x,R,y){var s=x[0],F=x[1].slice(0),E=s+"-"+JSON.stringify(F);
if(R.G6[E])return R.G6[E];console.log(y);var o=R.G6[E]=y?y:"grd"+R.ee.length;R.ee.push("%AI5_BeginGradient: ("+o+")","("+o+") "+s+" "+F.length+" Bd","[","4 %_Br","0","0","1","4 %_Br","[");
if(s==0)F=F.reverse();for(var N=0;N<F.length;N++){var G=F[N];if(G[3]==null)throw"e";var d=g.s6(G[1]),u=100*G[3],r=d.concat(G[1]).map(X).join(" ")+" 2 "+X(G[2])+" 6 "+u+" "+X(G[0]*100);
R.ee.push(r+" %_BS");R.ee.push("%_"+r+" Bs")}R.ee.push("BD","%AI5_EndGradient");return o}function M(x){var R=[85*85*85*85,85*85*85,85*85,85,1],y="",s=x.length,F=new Uint8Array(4),E=new Uint32Array(F.buffer);
for(var N=0;N<s;N+=4){var o=s-N;F[3]=x[N];F[2]=o>1?x[N+1]:0;F[1]=o>2?x[N+2]:0;F[0]=o>3?x[N+3]:0;var G=E[0],d=1+Math.min(4,o);
for(var u=0;u<d;u++){var r=Math.floor(G/R[u]);y+=String.fromCharCode(33+r);G-=r*R[u]}}return y+"~>"}return W}();
function ks(){}ks.WZ=function(){var W,q,X,k,B,U=!0,l=!0,G,d,u;function K(L){return U?Z.P2(W,L):Z.WP(W,L)}function D(L){return U?Z.Sm(W,L):Z.U_(W,L)}function m(L){return U?Z.mx(W,L):Z.Rm(W,L)}function Y(L){return Z.Sm(W,L)}function a(L){return Z.P2(W,L)}function p(L){return Z.qX(W,L)}function M(L,A){if(L+A*4>W.length)throw A;
var h=[];for(var N=0;N<A;N++)h.push(K(L+N*4));return h}function x(L,A){var h=[];for(var N=0;N<A;N++)h.push(m(L+N*8));
return h}function R(L){return a((L+1)*4096-12)}function y(L){return a((L+1)*4096-8)}function s(L,q,A,h){if(k[L]==null)k[L]=[];
k[L].push([h,new Uint8Array(W.buffer,q,A)])}function F(L,A,h,C){var w=X[L],q=w*4096;q=q+a(q+4096-24-12-A*4);
var f=Y(q),O=W[q+2],n=W[q+3];if(A!=O)throw O;if(n==0)s(C,q+4,h,9);else{var $=Y(q+6),d9=a(q+8);s(C,q+12,f-12,9);
F(d9,$,h-(f-12),C)}}function E(){var L=a(352),A=a(L*4096+128),h=a(936);X=[];k={};B={};for(var N=0;N<1e9;
N++){var C=a(h*4096+128+N*4);if(C==0)break;var w=M(C*4096+128,4096-128-12>>>2);X=X.concat(w)}for(var f=0;
f<X.length;f++){var O=X[f],n=R(O);if(n!=6)continue;var q=O*4096,$=a(q);q+=4;for(var N=0;N<$;N++){var d9=a(q);
q+=4;var i=a(q);q+=4;var dF=a(q);q+=4;var t=a(q);q+=4;if(d9==0)B[i]=dF;else{var im=dF&65535,bc=dF>>>16;
if(bc==0)s(i,t*4096,im,8);else F(t,bc,im,i)}}}var G={};for(var at in k){var l9=k[at],fF=l9.length;if(fF==1)G[at]=l9[0][1];
else{var g$=0,q=0;for(var N=0;N<fF;N++)g$+=l9[N][1].length;var fR=G[at]=new Uint8Array(g$);for(var N=0;
N<fF;N++){fR.set(l9[N][1],q);q+=l9[N][1].length}}}return G}function o(q,L){var A=0,h="";if(L){A=K(q);
q+=4}else{q+=3;A=D(q);q+=2}while(h.length<A){var C=D(q),w=C&255,f=C>>>8,O=0,n="";w+=(f&15)*256;f=f&240;
q+=2;if(w==0)throw"e";for(var N=0;N<w;N++){if(f==64)O=W[q++];else if(f==128){O=D(q);q+=2}else throw f;
n+=String.fromCharCode(O)}h+=n}return[h,q]}function r(q,L,A){var h=M(q,L);for(var N=0;N<L;N++){A.push(N);
if(h[N]>d)throw"e";h[N]=c(h[N],A);A.pop()}return h}var v={};function c(L,A){if(u.indexOf(L)!=-1)return G[L];
if(L==0)return null;if(G[L]==null)return null;if(!(G[L]instanceof Uint8Array))return G[L];var h=W,q=0;
W=G[L];u.push(L);var C=B[L].toString(16),w=G[L]={_type:P[C]?P[C]+":"+C:"typ-"+C,_eid:L};while(q+8<W.length){var f=K(q);
q+=4;var O=K(q);q+=4;var n=f.toString(16),$=q+O;if(q+O>W.length){w._bin=W;break}V(n,T,w,q,O,A);q=$}W=h;
u.pop();return w}function V(L,A,h,q,C,w){var f=A[L+":"+h._type];if(f==null)f=A[L];w.push(f?f[0]==""?L:f[0]:L);
if(f){var O=f[0],n=null,$=f[1];if(O=="")O=$+"-"+L;if(z[$]&&C!=z[$]){console.log($);console.log(L,f);
console.log(W.slice(q,q+C));throw"e"}if($=="mat")n=x(q,6);else if($=="mmat")n=[c(K(q),w),C==6?[1,0,0,1,0,0]:x(q+6,6)];
else if($=="rect")n=x(q,4);else if($=="mrct"){n=x(q,4);n.push(Y(q+32))}else if($=="doub")n=m(q);else if($=="pointArr"){var d9=Y(q);
n=M(q+2,d9*2)}else if($=="usrt")n=Y(q);else if($=="uint")n=K(q);else if($=="pntr"||$=="ptr6"){n=c(K(q),w)}else if($=="bool2"){if(D(q)!=0&&D(q)!=1)throw D(q);
n=D(q)==1}else if($=="bool4"){if(K(q)>60)throw L+","+K(q);n=K(q)==1}else if($=="color"){if(C!=38&&C!=30&&C!=22)throw C;
var i=K(q),dF=D(q+4);n=[i];for(var N=0;N<dF;N++)n.push(m(q+6+N*8))}else if($=="path"){var t=q+C;n=[];
var im=K(q);q+=4;for(var N=0;N<im;N++){var bc=[[]];n.push(bc);var at=K(q);q+=4;for(var l9=0;l9<at;l9++){var i=K(q);
q+=4;if(i<2){bc[0].push([i,m(q),m(q+8),m(q+16),m(q+24),m(q+32),m(q+40)]);q+=48}else if(i==2){bc[0].push([i,m(q),m(q+8)]);
q+=16}else throw i}bc.push(Y(q));q+=2}}else if($=="ptrAndList"){var fF=K(q),n=[];if(C>4){var g$=K(q+4);
if(g$>600)throw g$;n=r(q+8,g$,w)}n.unshift(c(fF,w))}else if($=="ptrArray"||$=="ptrArrayX"){var fR=C>>2;
if($=="ptrArray"){fR=K(q);q+=4;if(C!=4+fR*4)throw C}n=r(q,fR,w)}else if($=="ptrArray2"){var fR=K(q);
q+=4;n=r(q,fR,w);q+=fR*4;fR=K(q);q+=4;n.push(r(q,fR,w))}else if($=="cldrn"){var cr=K(q),eE=K(q+4),fR=K(q+8);
n={m:c(cr,w),Jc:c(eE,w),Er:r(q+12,fR,w)};if(C!=12+fR*4){console.log(L,sa);throw"e"}if(cr==0)throw cr}else if($=="aprnc"){var fR=K(q);
q+=4;n={};for(var N=0;N<fR;N++){var bQ=K(q),hT=D(q+4),df=D(q+6);q+=8;var eV=J[bQ.toString(16)];if(eV==null)eV="prm-"+bQ.toString(16);
else eV=H(eV);n[eV]=[];for(var l9=0;l9<df;l9++){var gU=K(q),i8=D(q+4),bv=null;q+=6;if(gU==28264)bv=m(q);
else if(gU==28263)bv=K(q);else if(gU==279||gU==6917)bv=c(K(q),w);else if(gU==28261)bv=Y(q)==1;else if(gU==28265)bv=[m(q),m(q+4)];
else if(gU==6914||gU==83231)bv=o(q)[0];else if(gU==28259||gU==28260||gU==23094||gU==67679){bv=W.slice(q,q+i8)}else throw gU.toString(16);
n[eV].push(bv);q+=i8}}}else if($=="lopts"){var fE=8;if(U&&D(q+fE)<2)fE+=2;if(!U&&(K(q+fE)==0||K(q+fE)==65536))fE+=2;
n={aKK:D(q+0)==1,show:D(q+2)==1,a4u:D(q+4)==1,JS:K(q+fE),name:o(q+fE+8)[0]}}else if($=="origin"){var t=q+C;
if(W[q++]!=1)throw"e";var d9=K(q);q+=4;var d5=Z.zD(W,q,d9);q+=d9;q++;var aR=W[q++],l8=D(q);q+=2;var au=K(q);
q+=4;if(au!=0&&au!=1)throw au;var hx=K(q);q+=4;if(hx!=0&&hx!=2&&hx!=3)throw hx;var fw=a(q);q+=4;var cx=o(q,!0);
q=cx[1];cx=cx[0];var fg=a(q),iI=a(q+4);q+=8;var eq=a(q);q+=4;if(eq!=0)throw eq;var fS=a(q);q+=4;var f1=o(q)[0];
q+=2+2+f1.length+3;n={file:d5,id:cx,me:f1}}else if($=="string")n=o(q)[0];else if($=="relEnt"){var c4=D(q);
q+=2;n=[];for(var N=0;N<c4;N++)n.push([K(q+N*8),c(K(q+N*8+4),w)])}else if($=="textData"){var t=q+C,ea=K(q);
q+=4;var bQ=K(q);q+=4;var dF=D(q);q+=2;var ie=[];for(var N=0;N<dF;N++){var i$=K(q);q+=4;if(ea==514)ie.push(o(q,!0)[0]);
else if(ea==515){var cI=K(q),L=K(q+4),cD=j(q+8,w);ie.push([cI,c(L,w),cD])}else if(ea==516){var cI=K(q),L=K(q+4),fG=D(q+8),cD=j(q+8,w);
ie.push([cI,c(L,w),cD])}else ie.push(W.slice(q,q+i$));q+=i$}if(t-q!=12)throw t-q;n=ie}else if($=="storyProps"){var cH=q;
if(D(cH+4)>1)throw"e";var dF=K(cH+10);n={aGL:K(cH),a2n:c(K(cH+6),w),Er:r(cH+14,dF,w),afY:c(K(cH+14+dF*4),w)}}else if($=="styleProps")n=j(q,w);
else if($=="bounds"){var cH=q,c4=K(q);q+=4;n=[];for(var N=0;N<c4;N++){var hL=[];n.push(hL);for(var l9=0;
l9<4;l9++)hL.push(m(q+l9*8));q+=32;hL.push(W[q]);q++}if(q!=cH+C)throw"e"}else if($=="columnPos"){var c4=K(q);
q+=4;n=[x(q,c4),m(q+c4*8)];q+=c4*8+8}else if($=="StyleName"){n=[K(q+4)]}else if($=="fontName"){var t=q+C;
n=[D(q)];q+=2;if(n[0]==2){q=t}else if(n[0]==3){for(var N=0;N<2;N++){if(D(q+3)==0){q+=7;continue}var d5=o(q);
q=d5[1];n.push(d5[0])}var ee=K(q);q+=4;if(ee==0){q=t}else{var d5=o(q);q=d5[1];n.push(d5[0]);var d5=o(q);
q=d5[1];n.push(d5[0]);var d5=o(q);q=d5[1];n.push(d5[0]);q+=10}q=t}else{if(n[0]!=1&&n[0]!=4)throw n[0];
for(var N=0;N<2;N++){var d5=o(q);q=d5[1];n.push(d5[0])}var aj=D(q),iA=D(q+2);q+=4;n.push(aj);var ee=D(q);
q+=2;n.push(ee);var eL=D(q);q+=2;var hZ=[];n.push(hZ);for(var bZ=0;bZ<eL;bZ++){var k_=[];hZ.push(k_);
var d5=o(q);q=d5[1];k_.push(d5[0]);var kW=D(q);if(kW<256){q+=2;var d5=Z.zD(W,q,kW);q+=kW;k_.push(d5)}else{var d5=o(q);
q=d5[1];k_.push(d5[0])}for(var N=0;N<3;N++){var d5=o(q);q=d5[1];k_.push(d5[0])}var iU=K(q);k_.push(iU);
q+=4;if(K(q)>65535)l=!1;if(!l)continue;var d5=o(q,!0);q=d5[1];k_.push(d5[0])}n.push(K(q));q+=4}if(q!=t){q=t;
console.log("strange fontName")}}else throw $;if(h[O]!=null){console.log(O,h[O],n);console.log(w.slice(0));
console.log(eid,L,q,h[O],f,n);throw"e"}h[O]=n}else{var kO=W.slice(q,q+C);h["prop-"+L]=kO}w.pop()}function j(q,L){var A=D(q);
q+=2;var h={};for(var N=0;N<A;N++){var C=K(q);q+=4;var w=C.toString(16),f=D(q);q+=2;var O=D(q);q+=2;
for(var n=0;n<O;n++){var $=K(q);q+=4;var d9=D(q);q+=2;V(w,e,h,q,d9,L);q+=d9}}return h}function Q(L){U=!0;
l=!0;W=new Uint8Array(L);G=E();var A=G[2147483649];A=Z._o(A,4,A.length-4);delete G[2147483649];d=0;for(var h in G)d=Math.max(d,parseInt(h));
u=[];var C={};for(var h in G)C[h]=G[h];var w=G[1];if(w[0]==0)U=!1;for(var h in G)c(parseInt(h),[]);return G}function H(L){L=L.split(" ").join("");
return L[0].toLowerCase()+L.slice(1)}var T={"1623":["","bool2"],"2c32":["visible","bool2"],cd1f:["","bool2"],"1b8":["","bool4"],"2c2d":["locked","bool4"],"118":["","uint"],"119":["bitmap","uint"],"117":["","uint"],"117:Page:50f":["color","pntr"],"117:Fill:1f05":["parentFill","pntr"],"56c":["","uint"],bf31:["","uint"],ca58:["","uint"],cade:["","uint"],"313":["","pntr"],a6b:["trapPreset","pntr"],e02:["","pntr"],"170d":["bitmapFill","pntr"],"1b916":["","pntr"],"205":["columns","ptrAndList"],"220":["obj228","ptrAndList"],"2ab":["story","ptrArrayX"],"302":["layer","ptr6"],"154":["rect","rect"],"21f":["rect","rect"],"27e":["","rect"],"2d6":["rect","rect"],"565":["rect","rect"],"5dd":["rect","rect"],"1633":["rect","rect"],"51a":["margins","mrct"],"151":["transform","mat"],"2de":["transform","mat"],"40d":["transform","mat"],"56e":["transform","mat"],"5cc":["transform","mat"],"140f":["mTransform","mmat"],"14527":["transform","mat"],"528":["columnPos","columnPos"],"261":["relEnt","relEnt"],"262":["textData","textData"],"15b":["children","cldrn"],"2c8":["children","cldrn"],"303":["children","cldrn"],"503":["children","cldrn"],"28dc":["children","cldrn"],"104e5":["children","cldrn"],"1b95a":["children","cldrn"],"1f01":["color","color"],"162b":["path","path"],"6e03":["appearance","aprnc"],"304":["lopts","lopts"],"2c10":["name","string"],"8c92":["origin","origin"],"3e05":["name","fontName"],"20f":["","ptrArrayX"],"210":["","ptrArrayX"],"211":["","ptrArrayX"],"222":["stories","ptrArray2"],"223":["stoProps","storyProps"],"23f":["styProps","styleProps"],"2c6b":["bounds","bounds"],"230":["name","StyleName"],"301":["layers","ptrArray"],"501":["spreads","ptrArray"],"4c01":["sections","ptrArray"],"1401":["masterSpreads","ptrArray"],a67:["","ptrArray"],"1f05":["colors","ptrArray"],"1f0c":["","ptrArray"],"1f60":["","ptrArray"],"1f61":["","ptrArray"],"288a":["","ptrArray"],"377c":["textFrames","ptrArray"],"3e06":["","ptrArray"],"1081d":["","ptrArray"]},e={"1b01":["fillColor","pntr"],"1b02":["fontStyle","string"],"1b03":["FontSize","doub"],"1b11":["FontCaps","usrt"],"1b16":["StartIndent","doub"],"1b17":["EndIndent","doub"],"1b18":["FirstLineIndent","doub"],"1b1b":["leading","doub"],"1b26":["SpaceBefore","doub"],"1b27":["SpaceAfter","doub"],"1b2a":["Underline","bool2"],"1b2b":["font","pntr"],"1b3c":["FontBaseline","usrt"],"1b3d":["Strikethrough","bool2"],"1b7e":["align","usrt"]},z={mat:48,mrct:34,rect:32,doub:8,ptr6:6,uint:4,pntr:4,bool4:4,bool2:2,usrt:2},J={"10816":"Object Opacity","10891":"Stroke Opacity","10892":"Stroke Blending Mode","10893":"Stroke Knockout Group","10894":"Stroke Isolate Blending","108d8":"Fill Opacity","108d9":"Fill Blending Mode","108da":"Fill Knockout Group","108db":"Fill Isolate Blending","10817":"Object Blending Mode","10818":"Object Knockout Group","10819":"Object Isolate Blending","6e64":"Stroke Swatch","6e65":"Stroke Weight","6e66":"Stroke Tint","6e6e":"Stroke Type","6e68":"Fill Swatch","6e69":"Fill Tint","6e6b":"Stroke Cap","6e6c":"Stroke Join","6e6d":"Stroke Mitre Limit","6e8c":"Stroke Align Stroke","6e71":"Stroke Start Arrrowhead","6e72":"Stroke End Arrrowhead","6e89":"Stroke Gap Color Swatch","6e8a":"Stroke Gap Tint","6e84":"Stroke Arrowhead Align","6e95":"Stroke Start Arrowhead Scale","6e96":"Stroke End Arrowhead Scale","6e8f":"Corner 1 Shape","6e6f":"Corner 2 Shape","6e90":"Corner 3 Shape","6e91":"Corner 4 Shape","6e70":"Corner 1 Size","6e92":"Corner 2 Size","6e93":"Corner 3 Size","6e94":"Corner 4 Size","1081a":"Drop Shadow","1081b":"Drop Shadow DX","1081c":"Drop Shadow DY","1081e":"Drop Shadow Opacity","1081f":"Drop Shadow BMode","10820":"Drop Shadow Size","10837":"Drop Shadow Color","1084d":"Inner Shadow","1084e":"Inner Shadow Color","1084f":"Inner Shadow BMode","10850":"Inner Shadow Opacity","10851":"Inner Shadow Angle","10852":"Inner Shadow Dist","10855":"Inner Shadow Size","10857":"Oglow","10858":"Oglow BMode","10859":"Oglow Opacity","1085b":"Oglow Color","1086d":"Oglow Choke","1085e":"Oglow Size","1085f":"Iglow","10860":"Iglow BMode","10861":"Iglow Opacity","10863":"Iglow Color","10865":"Iglow Choke","10866":"Iglow Size","10868":"Bevel","1086b":"Bevel Depth","1086d":"Bevel Size","1086f":"Bevel Angle","10870":"Bevel Alt","10872":"Bevel ColorH","10873":"Bevel BModeH","10874":"Bevel OpacityH","10875":"Bevel ColorS","10875":"Bevel BModeS","10877":"Bevel OpacityS","10878":"Satin","10879":"Satin Color","1087a":"Satin BMode","1087b":"Satin Opacity","1087c":"Satin Angle","1087d":"Satin Dist","1087e":"Satin Size","1087f":"Satin Invert","10821":"Basic Feather","10822":"Basic Feather Width","10895":"Stroke Drop Shadow","10899":"Stroke Drop Shadow Blending Mode","1eb8f":"GradientFeatherSetting GradientStart","1eb8e":"GradientFeatherSetting Length","14534":"name"},P={e01:"Document","301":"RESpread","236":"REParStyle","302":"Layer","401":"Group","501":"Spread","50f":"Page","227":"Column","201":"Story","205":"Style","263":"TextFrame",a32:"Trapping","1f05":"Fill","3e03":"Font","6201":"Path",ca18:"StoryText"};
return Q}();function iW(){}iW.WZ=function(){var W=0;function q(a,p){var M=ks.WZ(a),Q=1;W=0;var x=M[1],R=x.spreads,y=[],s=new dU;
for(var F=0;F<R.length;F++){var E=R[F],o=E.children;if(o==null)continue;var G=o.Er,d=k(E),u=G[0].children.Er,r=new dU;
for(var v=0;v<u.length;v++){var c=u[v],V=k(c);V.concat(d);var j=X(c);j.offset(V.Wy,V.rY);j=g.b.V5(j);
r=r.xw(j)}y.push(r);s=s.xw(r)}while(Math.sqrt(s.C())*Q<1e3)Q++;while(s.C()*Q*Q*4>2e9)Q/=2;p.r=s.r*Q;
p.$=s.$*Q;p.buffer=new Uint8Array(4*p.r*p.$);p.Tr=!0;p.mC=Math.round(72*Q);p.GX(R.length);for(var F=0;
F<R.length;F++){var E=R[F],o=E.children;if(o==null)continue;var G=o.Er,H=p.Sh();H.Z9=24;H.add.lsct=e5.B2;
H.YY("Artboard "+(F+1));var T=y[F].P();T.offset(-s.x,-s.y);T.x*=Q;T.y*=Q;T.r*=Q;T.$*=Q;T=g.b.V5(T);H.VA(T);
H.JY="pass";p.U.push(p.rS());var d=k(E);d.translate(-s.x,-s.y);d.scale(Q,Q);var e={};for(var z=0;z<G.length-1;
z++){var J=G[z],P=J.children;if(P==null)continue;P=P.Er;var L=p.Sh(),A=J.layer;if(A==null)continue;var h=A.lopts;
if(h.name=="Internal_pages_layer_name"||e[h.name])continue;e[h.name]=!0;L.Z9=24;L.add.lsct=e5.B2;L.YY(h.name);
L.ZR(h.show);if(h.aKK)L.add.lspf=1<<31;L.JY="pass";p.U.push(p.rS());for(var N=0;N<P.length;N++)D(P[N],p,d,M);
p.U.push(L)}p.U.push(H)}}function X(a){var p=a.rect;return new dU(p[0],p[1],p[2]-p[0],p[3]-p[1])}function k(a){var p=a.transform;
if(p==null)p=new ka;return new ka(p[0],p[1],p[2],p[3],p[4],p[5])}function B(a){var p=a.color,M=a.parentFill,R;
if(p==null&&M)p=M.color;if(p==null){console.log("strange color",a);return[0,0,0]}var x=p[0];if(x==5)R=p.slice(1);
else if(x==6)R=UDOC.C.cmykToRgb(p.slice(1));else if(x==7){var y=g.sR(p[1],p[2],p[3]);R=[y.o/255,y.L/255,y.X/255]}else if(x==9)R=[p[1],p[1],p[1]];
else if(x==14){R=p.slice(1);console.log("unsure about the color")}else{console.log(p);throw x}return R}function U(a){var p=B(a);
return g.ov.E2({o:p[0]*255,L:p[1]*255,X:p[2]*255})}function l(a){return"norm,mul ,scrn,over,sLit,hLit,div ,idiv,dark,lite,diff,smud,hue ,sat ,colr,lum ".split(",")[a]}function K(a,p){var N=0,M=0;
while(a[N+1]&&M+a[N][0]<=p){M+=a[N][0];N++}a=a[N][1].textData;N=0;while(a[N+1]&&M+a[N][0]<=p){M+=a[N][0];
N++}return a[N]}function D(a,p,M,x){var R=a.transform?k(a):new ka;R.concat(M);var y=a.path,s=a.appearance,F=a.visible,E=a.children?a.children.Er:null,o=p.Sh();
if(F!=null)o.ZR(F);var G=E&&E.length==1&&E[0]&&E[0].bitmapFill,d=a["bool2-1623"]&&E&&E.length==1&&E[0].rect&&E[0]._type.startsWith("TextFrame");
if(G){o.YY("bitmap");var u=E[0],r=X(u),v=k(u),T=null;v.concat(R);var c=u.bitmapFill.bitmap;c=x[c]._bin;
if(c==null)return;if(c.length!=c.buffer.byteLength)c=c.slice(0);if(c[0]==123){console.log("unknown bitmap format");
return}var V=lf.pP(c.buffer);if(V=="heic"||V=="avif"){alert("unsupported bitmap format:"+V);return}var j=p.ow(c,"img.jpg",0,0);
j.Z9=o.Z9;o=j;var Q=[0,0,r.r,0,r.r,r.$,0,r.$];g.b.M(Q,v,Q);o.add.SoLd.Trnf=_.Gz.If(Q);o.add.SoLd.nonAffineTransform=_.Gz.If(Q);
o.uz(p,!1);var H=u.path;if(H&&H.length!=0)T=Y(H,v,s);else if(y&&y.length!=0)T=Y(y,R,s);if(T){var e=g.z.Sa(T.G),z=g.b.Hb(Q);
if(e.C()/z.x$(e).C()>1.1){if(e.contains(z))T=null;var J=a.children;a.children=null;D(a,p,M,x);a.children=J}}if(T)o.add.vmsk=T;
o.tw();o.Ae(p)}else if(d){if(s&&s.strokeSwatch){var P=p.Sh();m(P,p,s,y,R);p.U.push(P)}var L=E[0],r=X(L),v=k(L),fF=0;
v.concat(R);var A=L.children.Er[0],h=A.obj228,C=h[0].story[1],w=C.stoProps.a2n.relEnt,f=C.stoProps.Er[0].relEnt;
if(f==null)f=C.stoProps.Er[2].relEnt;var O=C.stoProps.Er[1];if(O["ptrArrayX-210"]==null)O=C.stoProps.Er[6];
if(O["ptrArrayX-210"][0]==null)return;O=O["ptrArrayX-210"][0].textData;var n=x[w[0][1].textData[0][1].name[0]],$=n?n.styProps:{};
O=O.join("").replace(/\r/g,"\n");var d9=-1;while((d9=O.indexOf("\uFFFC"))!=-1){O=O.slice(0,d9)+(O[d9-1]=="\n"?" ":" ")+O.slice(d9+1)}o.YY(O.slice(0,255));
o.add.lnsr="rend";o.add.TySh=gZ.nG(0,0);o.add.TySh.oJ=r;o.add.TySh.M=v;var i=o.add.TySh.FZ;gZ.L3(i,0,O);
var dF=gZ.J0(i,0,O.length);dF.n6.FontSize=10;gZ.oM(i,0,O.length,dF);var t=[];if(O.length!=0){var im=K(w,0),bc=K(f,0),at=1;
for(var N=1;N<O.length;N++){var y=K(w,N),l9=K(f,N);if(y!=im||l9!=bc){t.push(at);at=0}im=y;bc=l9;at++}if(at!=0)t.push(at)}for(var N=0;
N<t.length;N++){var g$=K(f,fF),fR=t[N],cr=Math.min(fF+fR,O.length-1),eE=g$[2],bQ=g$[1]?g$[1].styProps:null;
if(bQ==null)bQ={};var hT=K(w,fF),df=hT[1].styProps,eV=hT[2],gU={};for(var i8 in $)gU[i8]=$[i8];for(var i8 in df)gU[i8]=df[i8];
for(var i8 in eV)gU[i8]=eV[i8];for(var i8 in bQ)gU[i8]=bQ[i8];for(var i8 in eE)gU[i8]=eE[i8];gU.FontCaps=gU.FontCaps&3;
var dF=gZ.J0(i,fF,cr),bv=["FontSize","FontCaps","Underline","Strikethrough","FontBaseline"],fE=bv.concat(["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"]);
for(var d5=0;d5<fE.length;d5++){var i8=fE[d5],aR=d5<bv.length?dF.n6:dF.D8;if(gU[i8]!=null)aR[i8]=gU[i8]}if(gU.fillColor){var l8=B(gU.fillColor);
dF.n6.FillColor={Type:1,Values:[1].concat(l8)}}if(gU.font){var au=gU.font.name[5],hx=gU.fontStyle;if(hx==null)hx="Regular";
if(au)for(var fw=0;fw<au.length;fw++)if(au[fw][0]==hx)gZ.j_(dF,au[fw][1])}if(gU.leading!=null&&gU.leading>1){dF.n6.Leading=gU.leading;
dF.n6.AutoLeading=!1}if(gU.align!=null)dF.D8.Justification=[0,2,1,6,3,5,4,0,0,0][gU.align];gZ.oM(i,fF,cr,dF);
fF+=fR}gZ.XM(i,1);gZ.eR(i,[0,0,Math.round(r.r),Math.round(r.$)])}else if(a._type.startsWith("Path")&&(E==null||E.length==0)&&y){m(o,p,s,y,R)}else{var cx=a["prop-14526"];
if(E==null&&cx){var fg=x[Z.P2(cx,20)];E=[fg]}if(E){if(y&&y.length!=0){o.add.vmsk=Y(y,R,s);o.tw();o.Ae(p)}o.YY("group");
o.Z9=24;o.add.lsct=e5.B2;p.U.push(p.rS());for(var N=0;N<E.length;N++)if(E[N])D(E[N],p,R,x)}}if(s){var iI=s.objectBlendingMode,eq=s.objectOpacity,fS=s.fillTint,c4=!1;
if(iI)o.JY=l(iI[0]);if(eq)o.zO=Math.round(o.zO*eq[0]/100);if(!G&&fS)o.zO=Math.round(o.zO*fS[0]/100);
var f1=JSON.parse(kE.default);for(var N=0;N<kE.order.length;N++)f1[kE.m1[N]]={t:"VlLs",v:[]};var ea="dropShadow innerShadow satin bevel iglow oglow".split(" "),ie="DrSh IrSh ChFX ebbl IrGl OrGl".split(" ");
for(var N=0;N<ea.length;N++){var i$=ea[N];if(s[i$]&&s[i$][0]){var cI=s[i$],fG=135,cH=10;c4=!0;var cD=JSON.parse(kE.iv[kE.order.indexOf(ie[N])]);
f1[kE.m1[kE.order.indexOf(ie[N])]].v.push({t:"Objc",v:cD});if(s[i$+"Color"])cD.Clr.v=U(s[i$+"Color"][0]);
else if(ea[N]=="iglow"||ea[N]=="oglow")cD.Clr.v=g.ov.E2({o:255,L:255,X:255});if(s[i$+"ColorH"])cD.hglC.v=U(s[i$+"ColorH"][0]);
if(s[i$+"ColorS"])cD.sdwC.v=U(s[i$+"ColorS"][0]);if(s[i$+"BMode"])cD.Md.v.BlnM=jm.yq(l(s[i$+"BMode"][0]));
if(s[i$+"BModeH"])cD.hglM.v.BlnM=jm.yq(l(s[i$+"BModeH"][0]));if(s[i$+"BModeS"])cD.sdwM.v.BlnM=jm.yq(l(s[i$+"BModeS"][0]));
if(s[i$+"Opacity"])cD.Opct.v.val=s[i$+"Opacity"][0];if(s[i$+"OpacityH"])cD.hglO.v.val=s[i$+"OpacityH"][0];
if(s[i$+"OpacityS"])cD.sdwO.v.val=s[i$+"OpacityS"][0];if(s[i$+"Size"])cD.blur.v.val=s[i$+"Size"][0];
if(s[i$+"Angle"])fG=s[i$+"Angle"][0];if(s[i$+"Dist"])cH=s[i$+"Dist"][0];if(s[i$+"DX"]){var hL=s[i$+"DX"][0],ee=s[i$+"DY"]?s[i$+"DY"][0]:0;
cH=Math.round(Math.sqrt(hL*hL+ee*ee));fG=Math.round(Math.atan2(ee,-hL)*180/Math.PI)}if(cD.lagl)cD.lagl.v.val=fG;
if(cD.Dstn)cD.Dstn.v.val=cH;if(cD.uglg)cD.uglg.v=!1;if(s[i$+"Invert"])cD.Invr.v=s[i$+"Invert"][0];else if(ea[N]=="satin")cD.Invr.v=!1;
if(s[i$+"Alt"])cD.Lald.v.val=s[i$+"Alt"][0];if(s[i$+"Depth"])cD.srgR.v.val=s[i$+"Depth"][0];if(s[i$+"Choke"])cD.Ckmt.v.val=s[i$+"Choke"][0]}}if(c4)o.add.lmfx=f1}if(a.name)o.YY(a.name);
else if(s&&s.name)o.YY(s.name[0]);p.U.push(o)}function m(a,p,M,x,R){a.YY("path");a.Z9|=16;a.add.vmsk=Y(x,R,M);
var y=a.add.vstk=kE.Cs.wy(),s=g.ov.E2({o:0,L:0,X:0});if(M){var F=M.strokeSwatch,E=M.fillSwatch,o=M.basicFeather,G=M.basicFeatherWidth,d=M.strokeWeight;
y.strokeEnabled.v=F!=null;y.fillEnabled.v=E!=null;if(o)a.add.vmsk.iE=G?G[0]:9;if(F){y.strokeStyleLineWidth.v.val=d?d[0]:1;
s=U(F[0]);y.strokeStyleContent.v.Clr.v=s}if(E){s=U(E[0])}}if(s)a.add.SoCo={classID:"null",Clr:{t:"Objc",v:s}};
a.tw();a.Ae(p)}function Y(a,p,M){var x=new b.jY,R=x.G;for(var y=0;y<a.length;y++){var s=a[y],F=s[0].length,E=s[1]==0;
if(F==0)continue;var o=E?0:3;R.push({I:o,length:F,R3:0,HG:2,Wm:0,jA:0});for(var N=0;N<F;N++){var G=s[0][N],d=G[0],u=new hw(G[1],G[2]),r=new hw(G[3],G[4]),v=new hw(G[5],G[6]);
if(d==0||d==1)R.push({I:o+2,mp:u,WL:r,ko:v});else if(d==2)R.push({I:o+2,mp:u,WL:u,ko:u});else throw d}}g.z.Y9(R,p);
return x}return q}();function bN(){}bN.Hc=async function(W,q,X){if(X==null){X=8*1024*1024}var k=await W.slice(q,q+X),B=await k.arrayBuffer();
return new Uint8Array(B)};bN.arb=function(W,q){var X=W[q],k=X,B=1;while(!(X&128)){++B;X=X<<1&255}X&=127;
X>>>=B-1;for(var N=1;N<B;++N){var U=W[q+N];X*=256;X+=U;k*=256;k+=U}return[X,B,k]};bN.WU=function(W,q,X){var k=W[q],B=k&128,U=k&127;
for(var N=1;N<X;++N){B*=256;U*=256;U+=W[q+N]}return U-B};bN.WP=function(W,q,X){var k=W[q];for(var N=1;
N<X;++N){k*=256;k+=W[q+N]}return k};bN.a5l=function(W){var q=1,X=bN.WP(W,q,1),m="hvc1",a=0,p=!1,M="";
q+=1;var k=X>>6,B=(X&32)>>5,U=X&31,l=bN.WP(W,q,4);q+=4;var K=W.slice(q,q+6);q+=6;var D=bN.WP(W,q,1);
m+=".";switch(k){case 0:m+="";break;case 1:m+="A";break;case 2:m+="B";break;case 3:m+="C";break}m+=U;
m+=".";var Y=l;for(var N=0;N<32;N++){a|=Y&1;if(N==31)break;a<<=1;Y>>=1}m+=a.toString(16);m+=".";if(B===0){m+="L"}else{m+="H"}m+=D;
for(N=5;N>=0;N--){if(K[N]||p){M="."+K[N].toString(16)+M;p=!0}}m+=M;return m};bN.cm=function(W,q){this.d0=!1;
this.I$=W;this.position=0;this.TX=[];this.Sy=[];this.TR=[];this.TZ=[];this.ca=!0;this.aDB=0;this.kc=10;
this.U2=6;this.xI=[];this.vw=-2;this.u3=[];this.MN;this.iG;this.nD=q;this.M_;this.pb;this.alu=-1;this.frames;
this.Xj=null;this.nE=null;this.YX=null};bN.cm.nO=async function(){if(!this.d0){await this.KJ()}return this.SL};
bN.cm.ok=function(W){var q=this.Sy[this.position],X;if(this.ca&&q==this.aDB)this.ca=!1;if(!this.nD){if(this.TR[q]){this.iG.drawImage(W,0,0);
X=this.iG.getImageData(0,0,this.SL.he.width,this.SL.he.height).data}if(this.TZ[this.position]==0)W.close()}try{if(this.TX[q]){if(this.nD){this.TX[q](W)}else if(this.TR[q]){this.TX[q](X)}}var k=this.position-this.kc;
if(k>=0){var B=this.Sy[k];delete this.IY[B];delete this.TX[B];this.TR[B]=!1}this.position++}catch(bu){console.log(q);
console.log(this.TX[q]);console.log(bu)}};bN.cm.w$=async function(W){if(this.TZ[this.position]==0){if(this.nD){createImageBitmap(W).then(img=>{this.ok(img)});
W.close()}else{this.ok(W)}}else{var q=this.TZ[this.position];createImageBitmap(W,{resizeWidth:W.alm>>q,resizeHeight:W.ago>>q}).then(img=>{this.ok(img)});
W.close()}};bN.cm.mW=async function(W,q,hc=0){if(!this.d0){await this.KJ()}if(!this.nE){await this.aAJ();
if(this.nE.state!="configured"){console.log("Could not make decoder.");return}}if(this.M_.length<=W){console.log("Requested track does not exist");
return}var X=this.M_[W],U,l,K;if(q>=this.SL.he.B_||q<0){console.log("Requested frame out of range");
return}var k=q;q=this.L$(q);this.TR[q]=!0;var B=q-this.vw;if(this.ca){B=1;this.aDB=q}if(q!=this.vw+1){l=this.xI[this.xI.length-1];
for(var N=0;N<this.xI.length;++N){if(q<this.xI[N]){l=this.xI[N-1];break}}if(l==this.alu){if(q>this.Sy[this.Sy.length-1]){l=this.Sy[this.Sy.length-1]+1}else if(this.IY[q.toString()]){l=this.Sy[this.Sy.length-1]+1}else{for(var N=this.Sy.length-this.U2;
N<this.Sy.length;++N){if(this.Sy[N]==q){l=this.Sy[this.Sy.length-1]+1;break}}}}else{this.alu=l;for(var N=this.Sy.length-this.U2;
N<this.Sy.length;++N){if(this.Sy[N]==q){l=this.Sy[this.Sy.length-1]+1;break}}}}else{l=0;if(this.Sy.length>0){l=this.Sy[this.Sy.length-1]+1}}if(l<this.frames){K=Math.min(q+this.U2,this.frames);
for(var N=l;N<K;++N){this.IY[N]=new Promise(function(D,m){U=D});this.TX[N]=U;this.Sy.push(N);this.TZ.push(hc);
if((N-q)%B==0)this.TR[N]=!0}this.a5z(X,l,K)}this.vw=q;if(this.ca)await new Promise(resolve=>setTimeout(resolve,200));
if(this.ca){this.kc+=10;this.U2+=6;this.mW(W,k+1,hc)}return this.IY[q.toString()]};var kL=function(W){function q(l,K){var D=[];
for(var N=0;N<9;N++){var m=Z.WP(l,K+N*4);if(N%3==2)D.push((m>>>30)+(m&1073741823)/1073741823);else D.push((m>>>16)+(m&65535)/65535)}return D}async function X(l,K,D,m,Y,a){var p={},M=Z.WP,x=Z.U_;
if(K==null){K=await bN.Hc(l,D)}var R=m-D;while(m<Y){var y=R,s=Z.WP(K,R);R+=4;var F=Z.zD(K,R,4);R+=4;
if(s==0)s=Y-y-D;if(s==1){s=Z.sa(K,R);R+=8}var E=y+s,o="".padStart(a,"\t");if(F!="mdat"&&E>K.byteLength){K=await bN.Hc(l,D,E)}var G={};
if(F=="mvhd"){var d=K[R];if(d>1)throw F+"-e";R+=4;if(d==0){G.LX=M(K,R);R+=4;G.tZ=M(K,R);R+=4;G.uU=M(K,R);
R+=4;G.duration=M(K,R);R+=4}else{G.LX=Z.sa(K,R);R+=8;G.tZ=Z.sa(K,R);R+=8;G.uU=M(K,R);R+=4;G.duration=Z.sa(K,R);
R+=8}G.R1=M(K,R);R+=4;G.volume=x(K,R);R+=2;R+=10;G.akZ=q(K,R);R+=4*9;G.a0M=[];for(var N=0;N<6;N++)G.a0M.push(M(K,R+N*4));
R+=4*6;G.adz=M(K,R);R+=4}else if(F=="tkhd"){var d=K[R];if(d>1)throw F+"-e";R+=4;if(d==0){G.LX=M(K,R);
R+=4;G.tZ=M(K,R);R+=4;G.Od=M(K,R);R+=4;R+=4;G.duration=M(K,R);R+=4}else{G.LX=Z.sa(K,R);R+=8;G.tZ=Z.sa(K,R);
R+=8;G.Od=M(K,R);R+=4;R+=4;G.duration=Z.sa(K,R);R+=8}R+=8;G.B=x(K,R);R+=2;G.afu=x(K,R);R+=2;G.volume=x(K,R);
R+=2;R+=2;G.akZ=q(K,R);R+=4*9;G.Ah=M(K,R)>>>16;R+=4;G.QB=M(K,R)>>>16;R+=4}else if(F=="mdhd"){var d=K[R];
if(d>1)throw F+"-e";R+=4;if(d==0){G.LX=M(K,R);R+=4;G.tZ=M(K,R);R+=4;G.uU=M(K,R);R+=4;G.duration=M(K,R);
R+=4}else{G.LX=Z.sa(K,R);R+=8;G.tZ=Z.sa(K,R);R+=8;G.uU=M(K,R);R+=4;G.duration=Z.sa(K,R);R+=8}G.lang=x(K,R);
R+=2;G.hg=x(K,R);R+=2}else if(F=="hdlr"){var u=M(K,R);R+=4;if(u!=0)throw u;G.R7=Z.zD(K,R,4);R+=4;G.aFh=Z.zD(K,R,4);
R+=4;G.ajN=M(K,R);R+=4;G.Z9=M(K,R);R+=4;G.aCO=M(K,R);R+=4;var r=R;while(K[r]!=0)r++;G.name=Z.zD(K,R,r-R);
R+=r-R+1}else if(F=="stsd"){var u=M(K,R);R+=4;if(u!=0)throw u;var v=M(K,R);R+=4;if(v!=1)throw v;var c=M(K,R);
R+=4;G.we=Z.zD(K,R,4);R+=4;if(G.we=="mett"){G.aFz=Z.zD(K,R,E-R)}else{for(var N=0;N<6;N++)if(K[R+N]!=0)throw F+"-e";
R+=6;G.aiy=x(K,R);R+=2;G.amv=x(K,R);R+=2;G.apg=x(K,R);R+=2;G.azc=M(K,R);R+=4;if("mp4v,avc1,encv,s263,vp09,hvc1,hev1,apcn,raw ,rle ".split(",").indexOf(G.we)!=-1){G.agc=M(K,R);
R+=4;G.ahS=M(K,R);R+=4;G.a0Z=[x(K,R),x(K,R+2)];R+=4;G.av1=[M(K,R)/(1<<16),M(K,R+4)/(1<<16)];R+=8;var V=M(K,R);
R+=4;if(V!=0)throw F+"-e";var j=x(K,R);R+=2;if(j!=1)throw F+"-e";var Q=K[R];R++;G.amF=Z.zD(K,R,Q);R+=31;
G.a1K=x(K,R);R+=2;var H=x(K,R);R+=2;if(H!=65535)throw F+"-e";if(R!=E)G.nF=await X(l,K,D,D+R,D+E,a+1)}else if("mp4a enca samr sawb ec-3 ac-3 lpcm".split(" ").indexOf(G.we)!=-1){G.RH=x(K,R);
R+=2;G.abe=x(K,R);R+=2;var T=x(K,R);R+=2;if(T!=0&&T!=65534)throw T;var e=x(K,R);R+=2;if(e!=0)throw e;
G.auo=M(K,R)/(1<<16);R+=4;if(R!=E)G.nF=await X(l,K,D,D+R,D+E,a+1)}else if(G.we=="CTMD"){G._=K.slice(R,E)}else if(G.we=="tx3g"||G.we=="text"||G.we=="mebx"){}else if(G.we=="tmcd"){}else if(G.we=="CRAW"){}else if(G.we=="sowt"){}else throw JSON.stringify(G.we)}}else if(F=="stts"||F=="stsz"||F=="stco"||F=="stsc"||F=="ctts"||F=="elst"){var u=M(K,R),z=0,L=0;
R+=4;if(F=="stsz"){z=M(K,R);R+=4}var J=M(K,R)*(F=="stsc"||F=="elst"?3:F=="stts"||F=="ctts"?2:1);R+=4;
G=[];for(var N=0;N<J;N++){if(z!=0)G.push(z);else{if(F=="elst"){if(N%3==2){var P=M(K,R);P*=1/(1<<16);
G.push(P)}else G.push(Z.WU(K,R))}else G.push(M(K,R));R+=4}}for(var N=0;N<J;N++)L+=G[N]}else if(F=="co64"){var u=M(K,R);
R+=4;if(u!=0)throw u;var J=M(K,R);R+=4;G=[];for(var N=0;N<J;N++){G.push(Z.sa(K,R));R+=8}}else if(F=="iinf"){G=[];
R+=2;var A=M(K,R);R+=4;for(var N=0;N<A;N++){var h=M(K,R),C=Z.zD(K,R+4,4),w=x(K,R+12),f=Z.zD(K,R+16,4),y=[C,w,f];
G.push(y);if(h>21)y.push(Z.zD(K,R+21,h-22));R+=h}}else if("moov trak mdia minf dinf stbl uuid edts meta iprp moof traf mvex".split(" ").indexOf(F)!=-1){if(F=="uuid")R+=16;
if(F=="meta")R+=4;G=await X(l,K,D,D+R,D+E,a+1);if(F=="moof"){G.h=R+D;G.qy=s}}else if(F=="CMT1"||F=="CMT2"||F=="CMT3"||F=="CMT4"){G=UTIF.decode(K.slice(R,E))}else if(F=="stss"){G.h=R+D;
G.qy=s;G.ayZ=M(K,R+4)}else if(F=="trex"){G.Z9=M(K,R);R+=4;G.wD=M(K,R);R+=4;G.anj=M(K,R);R+=4;G.EQ=M(K,R);
R+=4;G.a2h=M(K,R);R+=4;G.alA=M(K,R);R+=4}else if(F=="tfhd"){G.Z9=M(K,R);R+=4;G.wD=M(K,R);R+=4;if(G.Z9&1)R+=8;
if(G.Z9&2)R+=4;if(G.Z9&8){G.EQ=M(K,R);R+=4}}else if(F=="trun"){G.h=R+D;G.qy=s;G.Z9=M(K,R);R+=4;G.auR=M(K,R);
R+=4}else{G.h=R+D;G.qy=s}R=E;if(F=="trak"||F=="free"||F=="uuid"||F=="traf"||F=="trex"||p.moov&&p.moov.mvex&&(F=="moof"||F=="mdat")){if(p[F]==null)p[F]=[];
p[F].push(G)}else{if(p[F]!=null)throw F;p[F]=G}m=R+D;if(R>=K.byteLength){D+=R;R=0;K=await bN.Hc(l,D)}}return p}async function k(l){return await X(l,null,0,0,l.size,0)}function B(l,K){var D=l.mdia.minf.stbl,m=D.stsc,Y=0,a=0;
for(var N=0;N<m.length;N+=3){var p=(N+3<m.length?m[N+3]:1e4)-m[N],M=a+p*m[N+1];if(a<=K&&K<M){while(a+m[N+1]<=K){Y++;
a+=m[N+1]}break}Y+=p;a=M}var x=D.stco;if(x==null)x=D.co64;var R=x[Y];while(a<K){R+=D.stsz[a];a++}return[R,D.stsz[K]]}function U(l,K){var D=l.moov.trak,m=[];
for(var N=0;N<D.length;N++){if(D[N].mdia.hdlr.aFh==K){m.push(D[N])}}return m}return{WZ:k,i4:B,getTracks:U}}();
function hr(W,q){bN.cm.call(this,W,q);this.nO=bN.cm.nO;this.ok=bN.cm.ok;this.w$=bN.cm.w$;this.mW=bN.cm.mW;
this.kl;this.adk=0;this.y_=0;this.Oo=0;this.wZ=null;this.p_=null;this.SC}hr.prototype.ak=function(W){this.u3.push(W)};
hr.prototype.awz=function(W,N){var q=0,X=W.getUint8(N,!1);N+=1;q=X&127;var k=X>>7;while(k==1){X=W.getUint8(N,!1);
N+=1;k=X>>7;var B=X&127;q=q<<7|B}return[q,N]};hr.prototype.aeh=function(W){this.TB={};var q=new DataView(W.buffer),N=4;
N+=4;while(N<q.byteLength){var X=q.getUint8(N,!1);N+=1;var k=this.awz(q,N),B=k[0];N=k[1];if(X==3){N+=2;
N+=1}else if(X==4){this.TB.objectType=q.getUint8(N,!1);N+=1;this.TB.streamType=q.getUint8(N,!1)>>2;N+=1;
N+=3;this.TB.maxBitrate=q.getUint32(N,!1);N+=4;this.TB.avgBitrate=q.getUint32(N,!1);N+=4}else if(X==5){this.TB.decoderSpecificInfo=W.slice(N,N+B);
N+=B}else{N+=B}}};hr.prototype.acf=function(W){var q=null,U=0;if(W.a9J){if(W.edts.aGo)q=W.edts.aGo}if(q==null){this.Xj=this.frames;
return}var X=this.de.moov.mvhd.uU,k=W.mdia.mdhd.uU,B=W.mdia.mdhd.duration*1e3/k/this.Rp.stsz.length;
this.wZ=[];for(var N=0;N<q.length;N+=3){var l;if(q[N+1]==-1)l=-1;else l=q[N+1]*1e3/B/k;var cB=q[N]*1e3/B/X;
this.wZ.push(U);this.wZ.push(Math.floor(l));this.wZ.push(q[N+2]);U+=Math.floor(cB)}this.Xj=U;if(this.L$(this.Xj-1)>this.frames-1)this.Xj--;
if((U+1)*B<W.tkhd.duration*1e3/X){this.wZ.push(U);this.wZ.push(0);this.wZ.push(1);this.Xj=Math.floor(W.tkhd.duration*1e3/X/B)}};
hr.prototype.L$=function(W){if(this.wZ){for(var N=this.wZ.length-3;N>=0;N-=3){if(W>=this.wZ[N]){if(this.wZ[N+1]==-1)W=this.vw;
else if(this.wZ[N+2]==0)W=this.wZ[N+1];else W=W-this.wZ[N]+this.wZ[N+1];break}}}return W};hr.prototype.aAJ=async function(){this.nE=new VideoDecoder({output:cY=>this.w$(cY),error:function(k){console.log(k.message)}});
var W=this.Rp.stsd.we;if(W=="avc1"){this.BE=this.Rp.stsd.nF.avcC;var q={codec:"avc1.640034"};q.description=new Uint8Array(await this.I$.slice(this.BE.h,this.BE.h+this.BE.qy).arrayBuffer());
this.nE.configure(q)}else if(W=="hev1"||W=="hvc1"){var q={};this.WC=this.Rp.stsd.nF.hvcC;q.description=new Uint8Array(await this.I$.slice(this.WC.h,this.WC.h+this.WC.qy).arrayBuffer());
var X=bN.a5l(q.description);q.codec=X;q.codedWidth=this.SL.he.width;q.codedHeight=this.SL.he.height;
this.nE.configure(q)}else{var q={codec:"vp09.00.10.08"};this.nE.configure(q)}};hr.prototype.a2B=async function(){this.YX=new AudioDecoder({output:cY=>this.ak(cY),error:function(W){console.log(W)}});
console.assert(await AudioDecoder.isConfigSupported(this.dr));this.YX.configure(this.dr)};hr.prototype.aIx=async function(){var W=this.de.moof,q=null,X=this.de.moov.mvex.trex,l=0;
for(var N=0;N<X.length;++N){if(X[N].wD==this.SC){q=X[N];break}}if(q==null)throw"fmp4 video track not found";
var k=q.EQ;if(k==0){for(var N=0;N<W[0].traf.length;++N){var B=W[0].traf[N].tfhd;if(B.wD==this.SC){k=B.EQ;
break}}}var U=this.M_[0].mdia.mdhd.uU;this.R1=1/(k/U);this.sizes=[];this.dS=[];for(var N=0;N<W.length;
++N){for(var K=0;K<W[N].traf.length;++K){var B=W[N].traf[K].tfhd;if(B.wD!=this.SC&&B.wD!=this.ay6)continue;
var D=W[N].traf[K].trun,m=this.de.mdat[N].h,Y=await this.I$.slice(D.h-4,D.h+D.qy),a=await Y.arrayBuffer(),p=new Uint8Array(a),M=new DataView(p.buffer),x=8+3*4;
if(B.wD==this.SC){this.xI.push(this.sizes.length);while(x<M.byteLength-8){if(D.Z9&256)x+=4;if(D.Z9&512){this.sizes.push(M.getUint32(x,!1));
x+=4}if(D.Z9&1024)x+=4;if(D.Z9&2048)x+=4}for(var R=0;R<D.auR;++R){if(R==0)this.dS.push(m);else this.dS.push(this.dS[l+R-1]+this.sizes[l+R-1])}l+=D.auR}}}};
hr.prototype.KJ=async function(){this.de=await kL.WZ(this.I$);if(this.de.moov.mvex)this.p_=!0;this.aB4={};
this.IY={};this.M_=kL.getTracks(this.de,"vide");var W=!0,K=!0;if(this.M_.length>0){var q=this.M_[0],X=q.tkhd;
this.SC=X.Od;this.Rp=q.mdia.minf.stbl;var k=this.Rp.stsd.we;if(k=="avc1"||k=="vp09"||k=="hvc1"||k=="hev1"){if(k=="avc1"&&!this.Rp.stsd.nF.avcC||(k=="hvc1"||k=="hev1")&&!this.Rp.stsd.nF.hvcC){console.log(k+" video codec not supported (avcC missing).");
W=!1}else{if(!this.p_){await this.aor(this.Rp.stss.h+8,this.Rp.stss.qy-8);for(var N=0;N<this.auj.byteLength;
N+=4){var B=this.auj.getUint32(N,!1)-1;this.xI.push(B)}var U=q.mdia.mdhd.uU,l=q.mdia.mdhd.duration/U;
this.frames=this.Rp.stsz.length;this.R1=this.frames/l;this.acf(q)}}}else{console.log(k+" video codec not supported.");
W=!1}}this.pb=kL.getTracks(this.de,"soun");if(this.pb.length>0){var D=this.pb[0],Y;this.ay6=D.tkhd.Od;
var m=D.mdia.minf.stbl,a=m.stsd.RH;if(m.stsd.we=="mp4a"){if(m.stsd.nF.esds){this.a1c=m.stsz.length;var p=m.stsd.nF.esds.h,M=m.stsd.nF.esds.qy,x=await this.I$.slice(p-4,p+M+4),R=await x.arrayBuffer(),y=new Uint8Array(R),s=null;
this.aeh(y);Y="mp4a.";if(this.TB.objectType==64){Y+=this.TB.objectType.toString(16);Y+=".";Y+=(this.TB.decoderSpecificInfo[0]>>3).toString();
s=this.TB.decoderSpecificInfo}else{Y+=this.TB.objectType.toString(16).toUpperCase()}if(s){var F=s[0]>>3;
if(F==31){var E=(s[0]&7)<<3|s[1]>>5;F=32+E;var o=s[1]&31>>1;if(o==15){a=(s[4]&1)<<3|s[5]>>5}else{a=(s[1]&1)<<3|s[2]>>5}}else{var o=(s[0]&7)<<1|s[1]>>7;
if(o==15){a=(s[4]&127)>>3}else{a=(s[1]&127)>>3}}}this.dr={codec:Y,numberOfChannels:a,sampleRate:m.stsd.auo};
if(s){this.dr.description=s}}else{console.log("Audio codec not supported.");K=!1}}else{console.log("Audio codec not supported.");
K=!1}}if(this.p_){await this.aIx();this.frames=this.dS.length;this.Xj=this.dS.length}this.SL={};if(W&&this.M_.length>0){this.SL.he={M_:1,B_:this.Xj,R1:this.R1,width:X.Ah,height:X.QB}}if(K&&this.pb.length>0&&!this.p_){this.SL.iM={M_:a,R1:m.stsd.auo,B_:D.mdia.mdhd.duration}}if(!this.nD){this.MN=new OffscreenCanvas(this.SL.he.width,this.SL.he.height);
this.iG=this.MN.getContext("2d",{willReadFrequently:!0});this.kc=10;this.U2=6}this.d0=!0};hr.prototype.aor=async function(W,q){this.a9f=await this.I$.slice(W,W+q).arrayBuffer();
this.auj=new DataView(this.a9f)};hr.prototype.uY=async function(W,q){var X=Math.min(q+250,this.frames-1),k,B;
if(this.p_){k=this._0(q);B=this._0(X)}else{k=kL.i4(W,q);B=kL.i4(W,X)}var U=await this.I$.slice(k[0],B[0]+B[1]),l=await U.arrayBuffer();
this.kl=new Uint8Array(l);this.adk=q;this.y_=X;this.Oo=k[0];return};hr.prototype._0=function(N){var W=[];
W.push(this.dS[N]);W.push(this.sizes[N]);return W};hr.prototype.a5z=async function(W,q,X){if(q>=this.y_||X<this.adk){await this.uY(W,q)}for(var N=q;
N<X;++N){if(N>=this.y_){await this.uY(W,N)}var k=this.xI.indexOf(N),B=this.p_?this._0(N):kL.i4(W,N),U=this.kl.slice(B[0]-this.Oo,B[0]+B[1]-this.Oo),l=new EncodedVideoChunk({timestamp:N,duration:1e3,type:k!=-1?"key":"delta",data:U});
if(this.nE.state=="configured"){try{this.nE.decode(l)}catch(X){console.log("CAUGHT unconfigured");console.log(X);
console.log(l)}}else{console.log("unconfigured");delete U}delete U}if(X==this.frames){await this.nE.flush()}};
hr.prototype.afK=async function(W,q,X){if(!this.YX){await this.a2B()}if(this.pb.length<=W){console.log("Requested audio track does not exist");
return}var k=this.pb[W],B=k.mdia.minf.stbl.stts,U=null,l=null,K=0,D=0;for(var N=0;N<B.length;N+=2){if(U==null&&K+B[N]*B[N+1]>=q){U=Math.ceil(D+(q-K)/B[N+1])}if(l==null&&K+B[N]*B[N+1]>=X){l=Math.ceil(D+(X-K)/B[N+1])}if(U&&l){break}K+=B[N]*B[N+1];
D+=B[N]}var m=kL.i4(k,U),Y=kL.i4(k,l),a=await this.I$.slice(m[0],Y[0]+Y[1]),p=await a.arrayBuffer(),M=new Uint8Array(p);
for(var N=U;N<l;++N){var x=kL.i4(k,N),R=M.slice(x[0]-m[0],x[0]+x[1]-m[0]),y=new EncodedAudioChunk({timestamp:N,duration:1e3,type:"key",data:R});
try{this.YX.decode(y)}catch(bu){console.log("Error decoding audioframe "+N.toString()+". "+bu.message)}}try{await this.YX.flush()}catch(bu){console.log("CAUGHT flush, but returning");
return this.u3}return this.u3};function b9(W,q,X){this.SL=q;this.tu=W;this.aBl=[0,0,0,24,102,116,121,112,109,112,52,50,0,0,0,0,109,112,52,50,105,115,111,109,0,0,0,8,102,114,101,101];
this.aGu=40;this.Ah,this.QB;this.QD;this.Va;this.ht;this.a8a;this.description;this.q2;this.nl;this.__;
this.IN;this.O$;this.Em;this.OT=X;this.sZ;this.sw;this.Yi;this.aco;this.sj;if(this.SL.he){this.abT()}if(this.SL.iM){this.aKf()}}b9.prototype.aqT=function(W){return new Uint8Array([W.charCodeAt(0),W.charCodeAt(1),W.charCodeAt(2),W.charCodeAt(3)]).buffer};
b9.prototype.aCp=function(W){var q=new Uint32Array([W]),X=new Uint8Array(q.buffer);return new Uint8Array([X[3],X[2],X[1],X[0]])};
b9.prototype.x8=function(W){this.Yi[this.sw]=W;++this.sw};b9.prototype.$q=function(W){this.Yi[this.sw]=W>>8&255;
this.Yi[this.sw+1]=W&255;this.sw+=2};b9.prototype.atX=function(W){this.Yi[this.sw]=W>>16&255;this.Yi[this.sw+1]=W>>8&255;
this.Yi[this.sw+2]=W&255;this.sw+=3};b9.prototype.uh=function(W){this.Yi[this.sw]=W>>24&255;this.Yi[this.sw+1]=W>>16&255;
this.Yi[this.sw+2]=W>>8&255;this.Yi[this.sw+3]=W&255;this.sw+=4};b9.prototype.CS=function(W){this.sZ.push(this.sw);
this.sw+=4;this.Dq(W)};b9.prototype.Dq=function(W){for(var N=0;N<W.length;++N){this.Yi[this.sw]=W.charCodeAt(N);
++this.sw}};b9.prototype.aC7=function(W){this.Yi.set(new Uint8Array(W),this.sw);this.sw+=W.byteLength};
b9.prototype.xO=function(){var W=this.sw;this.sw=this.sZ.pop();this.uh(W-this.sw);this.sw=W};b9.prototype.aEc=function(W,q){if(!this.description&&q){if(q.description){this.description=q.description}if(q.decoderConfig&&q.decoderConfig.description){this.description=q.decoderConfig.description}}var X=new ArrayBuffer(W.byteLength);
W.copyTo(X);this.dn(X);this.QD.push({duration:W.duration,timestamp:W.timestamp,type:W.type,byteLength:W.byteLength});
if(W.type=="key"){this.ht.push(this.QD.length)}};b9.prototype.ak=function(W,q){if(!this.q2&&q){if(q.decoderConfig){this.q2=q.decoderConfig}}var X=new ArrayBuffer(W.byteLength);
W.copyTo(X);this.au0(X);this.Va.push({duration:W.duration,timestamp:W.timestamp,type:W.type,byteLength:W.byteLength});
if(W.type=="key"){this.a8a.push(this.Va.length)}};b9.prototype.dn=function(W){var q=new Uint8Array(this.nl.byteLength+W.byteLength);
q.set(new Uint8Array(this.nl));q.set(new Uint8Array(W),this.nl.byteLength);this.nl=q.buffer;if(this.nl.byteLength>20*1024*1024){this.tu.write(this.nl);
this.nl=new Uint8Array}};b9.prototype.au0=function(W){var q=new Uint8Array(this.__.byteLength+W.byteLength);
q.set(new Uint8Array(this.__));q.set(new Uint8Array(W),this.__.byteLength);this.__=q.buffer};b9.prototype.avo=function(){this.sZ=[];
var W=this.aGu,q=[],X={},k=9e4,B=this.QD.length,U=this.ht.length,l=-1,D=!1,x=1;for(var N=0;N<this.QD.length;
++N){this.IN+=this.QD[N].duration/1e3;this.Em+=this.QD[N].byteLength;if(this.QD[N].duration!=l){if(N!=0){q.push(X)}l=this.QD[N].duration;
X={duration:9e4*this.QD[N].duration/1e6,sampleCount:1}}else{X.sampleCount=X.sampleCount+1}}this.Em+=8;
q.push(X);var K=q.length;if(this.SL.iM){D=!0}if(D){var m=[],Y=this.Va.length;this.O$=0;var a=this.q2.sampleRate,l=-1;
for(var N=0;N<this.Va.length;++N){this.O$+=this.Va[N].duration/1e3;this.Em+=this.Va[N].byteLength;var p=Math.round(a*this.Va[N].duration/1e6);
if(p!=l){if(N!=0){m.push(X)}l=p;X={duration:p,sampleCount:1}}else{X.sampleCount=X.sampleCount+1}}m.push(X);
var M=m.length}var R=579+this.description.byteLength+4*B+4*B+4*U+8*K;if(D){R+=426+this.q2.description.byteLength+4*Y+4*Y+8*K;
x=2}this.Yi=new Uint8Array(R);this.sw=0;this.CS("moov");this.CS("mvhd");this.uh(0);this.uh(0);this.uh(0);
this.uh(1e3);this.uh(this.IN);this.uh(65536);this.$q(256);this.$q(0);this.uh(0);this.uh(0);this.uh(65536);
this.uh(0);this.uh(0);this.uh(0);this.uh(65536);this.uh(0);this.uh(0);this.uh(0);this.uh(1073741824);
this.uh(0);this.uh(0);this.uh(0);this.uh(0);this.uh(0);this.uh(0);this.uh(2);this.xO();for(var y=0;y<x;
++y){this.CS("trak");this.CS("tkhd");this.uh(7);this.uh(0);this.uh(0);this.uh(1);this.uh(0);if(y==1)this.uh(this.O$);
else this.uh(this.IN);this.uh(0);this.uh(0);this.$q(0);this.$q(0);this.$q(256);this.$q(0);if(y==1){this.uh(1);
this.uh(0);this.uh(0);this.uh(0);this.uh(1);this.uh(0);this.uh(0);this.uh(0);this.uh(1);this.uh(this.Ah*0);
this.uh(this.QB*0)}else{this.uh(65536);this.uh(0);this.uh(0);this.uh(0);this.uh(65536);this.uh(0);this.uh(0);
this.uh(0);this.uh(1073741824);this.uh(this.Ah*65536);this.uh(this.QB*65536)}this.xO();this.CS("mdia");
this.CS("mdhd");this.uh(0);this.uh(0);this.uh(0);if(y==1){this.uh(this.q2.sampleRate);this.uh(this.O$/1e3*this.q2.sampleRate)}else{this.uh(k);
this.uh(this.IN/1e3*k)}this.x8(85);this.x8(196);this.$q(0);this.xO();this.CS("hdlr");this.uh(0);this.uh(0);
if(y==1){this.Dq("soun");this.uh(0);this.uh(0);this.uh(0);this.Dq("SoundHandler");this.x8(0)}else{this.Dq("vide");
this.uh(0);this.uh(0);this.uh(0);this.Dq("VideoHandler");this.x8(0)}this.xO();this.CS("minf");if(y==1){this.CS("smhd");
this.uh(0);this.$q(0);this.$q(0);this.xO()}else{this.CS("vmhd");this.uh(1);this.$q(0);this.$q(0);this.$q(0);
this.$q(0);this.xO()}this.CS("dinf");this.CS("dref");this.uh(0);this.uh(1);this.CS("url ");this.uh(1);
this.xO();this.xO();this.xO();if(y==1){this.CS("stbl");this.CS("stsd");this.uh(0);this.uh(1);this.CS("mp4a");
this.$q(0);this.$q(0);this.$q(0);this.$q(1);this.uh(0);this.uh(0);this.$q(this.q2.numberOfChannels);
this.$q(16);this.$q(0);this.$q(0);this.$q(this.q2.sampleRate);this.$q(0);this.CS("esds");this.uh(0);
this.x8(3);this.x8(25);this.$q(0);this.x8(0);this.x8(4);this.x8(17);this.x8(64);this.x8(21);this.atX(0);
this.uh(16e4);this.uh(16e4);this.x8(5);this.x8(2);this.aC7(this.q2.description);this.x8(6);this.x8(1);
this.x8(2);this.xO();this.xO();this.xO();this.CS("stts");this.uh(0);this.uh(M);for(var N=0;N<M;++N){this.uh(m[N].sampleCount);
this.uh(m[N].duration)}this.xO();this.CS("stsc");this.uh(0);this.uh(1);this.uh(1);this.uh(1);this.uh(1);
this.xO();this.CS("stsz");this.uh(0);this.uh(0);this.uh(Y);for(var N=0;N<Y;++N){this.uh(this.Va[N].byteLength)}this.xO();
this.CS("stco");this.uh(0);this.uh(Y);for(var N=0;N<Y;++N){this.uh(W);W+=this.Va[N].byteLength}this.xO();
this.xO()}else{this.CS("stbl");this.CS("stsd");this.uh(0);this.uh(1);this.CS("avc1");this.$q(0);this.$q(0);
this.$q(0);this.$q(1);this.$q(0);this.$q(0);this.uh(0);this.uh(0);this.uh(0);this.$q(this.Ah);this.$q(this.QB);
this.uh(4718592);this.uh(4718592);this.uh(0);this.$q(1);for(var N=0;N<8;++N){this.uh(0)}this.$q(24);
this.$q(-1);this.CS("avcC");this.aC7(this.description);this.xO();this.xO();this.xO();this.CS("stts");
this.uh(0);this.uh(K);for(var N=0;N<K;++N){this.uh(q[N].sampleCount);this.uh(q[N].duration)}this.xO();
this.CS("stsc");this.uh(0);this.uh(1);this.uh(1);this.uh(1);this.uh(1);this.xO();this.CS("stsz");this.uh(0);
this.uh(0);this.uh(B);for(var N=0;N<B;++N){this.uh(this.QD[N].byteLength)}this.xO();this.CS("stco");
this.uh(0);this.uh(B);for(var N=0;N<B;++N){this.uh(W);W+=this.QD[N].byteLength}this.xO();this.CS("stss");
this.uh(0);this.uh(U);for(var N=0;N<U;++N){this.uh(this.ht[N])}this.xO();this.xO()}this.xO();this.xO();
this.xO()}this.xO();return};b9.prototype.aB8=async function(W){console.assert(await VideoEncoder.isConfigSupported(W))};
b9.prototype.abT=function(){var W=Date.now(),q=this.SL.he.width,X=this.SL.he.height;this.Ah=q;this.QB=X;
this.description=null;this.ht=[];this.QD=[];this.IN=0;this.Em=0;this.nl=new Uint8Array;this.dn(new Uint8Array(this.aBl));
this.dn(this.aCp(0).buffer);this.dn(this.aqT("mdat"));this.BR=new VideoEncoder({output:(chunk,opts)=>this.aEc(chunk,opts),error:bu=>{console.log(bu)}});
var k=this.OT*this.Ah*this.QB,B=k*this.SL.he.B_,U=Math.round(k*24),l={width:this.Ah,height:this.QB,codec:"avc1.420034",bitrate:U,acceleration:"prefer-hardware"};
this.aB8(l);this.BR.configure(l);this.sj=0};b9.prototype.a6q=async function(W){console.assert(await AudioDecoder.a0T(W))};
b9.prototype.aKf=function(){this.__=new Uint8Array;this.q2=null;this.a8a=[];this.Va=[];var W={codec:"mp4a.40.2",numberOfChannels:this.SL.iM.M_,sampleRate:this.SL.iM.R1,bitrate:16e4};
this.wJ=new AudioEncoder({output:(cY,gv)=>this.ak(cY,gv),error:function(q){console.log(q)}});this.a6q(W);
this.wJ.configure(W)};b9.prototype.nO=function(){return this.SL};b9.prototype.awv=async function(W,q,X){var k=W,B=1e6/this.SL.he.R1;
if(X%50==0){console.log(Math.round(X/this.SL.he.B_*100).toString()+"%")}var U=new VideoFrame(k.buffer,{timestamp:this.sj,duration:B,format:"RGBA",codedWidth:this.Ah,codedHeight:this.QB});
this.BR.encode(U);U.close();this.sj+=B;delete k;delete W;delete U};b9.prototype.aeI=async function(W,q,X,k){for(var N=0;
N<W.length;++N){this.wJ.encode(W[N])}};b9.prototype.finish=async function(){if(this.SL.he){await this.BR.flush()}if(this.SL.iM){await this.wJ.flush()}this.avo();
this.tu.write(this.nl);if(this.SL.iM){this.tu.write(this.__)}this.tu.write(this.Yi);this.tu.write({I:"write",data:this.aCp(this.Em),position:this.aGu-8});
return this.tu.close()};var br=function(W){var q=[[21,73,169,102],[22,84,174,107],[17,77,155,116],[28,83,187,107],[31,67,182,117],[18,84,195,103]],X="KaxInfo KaxTracks KaxSeekHead KaxCues KaxCluster KaxTags".split(" "),k=!1,B=bN.arb,U=bN.WP,l=bN.WU;
function K(R){for(var N=0;N<q.length;++N){var y=!0;for(var s=0;s<q[N].length;++s){if(R[s]!=q[N][s]){y=!1;
break}}if(y==!0){return X[N]}}}async function D(R,y,s,F){if(y==null||F<s||F>=s+y.byteLength){y=await bN.Hc(R,F);
s=F;F=0}else{F-=s;var E=F,o=B(y,F),G=o[2];F+=o[1];o=B(y,F);var d=o[0];F+=o[1];if(F+d>y.byteLength){y=await bN.Hc(R,s+E,d+F-E);
s+=E;F=0}else{F=E}}return[y,s,F]}async function m(R,y,s,F,E){var o=E.fC.CueClusterPosition,j=!1;o+=y.Segment.In;
var G=await D(R,s,F,o);s=G[0];F=G[1];o=G[2];if(s.length==0)return{SS:0,data:s,start:F,jR:null};var d=B(s,o),u=d[2];
o+=d[1];d=B(s,o);var r=d[0];o+=d[1];var v=o;d=B(s,v);u=d[2];v+=d[1];d=B(s,v);r=d[0];v+=d[1];var c=br.Mg[u];
if(c.g=="CRC-32"){v+=r;d=B(s,v);u=d[2];v+=d[1];d=B(s,v);r=d[0];v+=d[1]}var V=U(s,v,r);if(E.fC.CueRelativePosition){o+=E.fC.CueRelativePosition;
d=B(s,o);u=d[2];o+=d[1];d=B(s,o);r=d[0];o+=d[1];if(c.g=="BlockGroup"){j=!0}return{SS:F+o+r,data:s,start:F,jR:M(s.slice(o,o+r),j),timeStamp:V}}else{var Q=0;
if(E.fC.CueBlockNumber){Q=E.fC.CueBlockNumber-1;if(y.Segment.Info.MuxingApp.toLowerCase().includes("yamka")){Q++}}r=0;
do{o+=r;d=B(s,o);u=d[2];o+=d[1];d=B(s,o);r=d[0];o+=d[1];c=br.Mg[u]}while(c.g!="SimpleBlock"&&c.g!="BlockGroup");
for(var N=0;N<Q;++N){o+=r;d=B(s,o);u=d[2];o+=d[1];d=B(s,o);r=d[0];o+=d[1]}c=br.Mg[u];if(c.g=="BlockGroup"){j=!0}return{SS:F+o+r,data:s,start:F,jR:M(s.slice(o,o+r),j),timeStamp:V}}}async function Y(R,y,s,F){var E=null,o=await D(R,y,s,F),c=!1;
y=o[0];s=o[1];F=o[2];if(y.length==0)return{SS:0,data:y,start:s,jR:null};var G=B(y,F),d=G[2];F+=G[1];
G=B(y,F);var u=G[0];F+=G[1];var r=br.Mg[d];if(r.g!="SimpleBlock"&&r.g!="BlockGroup"){var v="SeekHead Tags Void Info Tracks Attachments Chapters Tags Cues".split(" ");
if(v.indexOf(r.g)==-1){do{if(r.g=="Cluster"){u=0}F+=u;o=await D(R,y,s,s+F);y=o[0];s=o[1];F=o[2];if(y.length==0)return{SS:0,data:y,start:s,jR:null};
G=B(y,F);d=G[2];F+=G[1];G=B(y,F);u=G[0];F+=G[1];r=br.Mg[d];if(r.g=="Timestamp"){E=U(y,F,u)}}while(r.g!="SimpleBlock"&&r.g!="BlockGroup")}else return{SS:0,data:y,start:s,jR:null}}if(r.g=="BlockGroup"){c=!0}return{SS:s+F+u,data:y,start:s,jR:M(y.slice(F,F+u),c),timeStamp:E}}async function a(R,y,s,F,E){var o={},G=F-s;
if(y==null){y=await bN.Hc(R,G);s=G;G=0}while(G+s<E&&!k){var d,u=G+s,r=B(y,G),v=r[2];G+=r[1];r=B(y,G);
var c=r[0];G+=r[1];var V=br.Mg[v];if(!V){throw"Unknown EBML element "+v.toString(16)}var j=V.g,Q=G+c,H=G+s;
if(Q>y.byteLength&&j!="Segment"){y=await bN.Hc(R,s,Q)}if(V.t=="m"&&j=="Cluster"){k=!0;return[G,o]}if(V.t=="m"){var T=await a(R,y,s,s+G,s+Q);
G=T[0];T[1].h=u;T[1].In=H;if(V.A==1){if(o[j]==null){o[j]=[]}o[j].push(T[1])}else{o[j]=T[1]}if(k){break}}else{if(V.t=="8"){d=Z._o(y,G,c)}else if(V.t=="s"){d=Z.zD(y,G,c)}else if(V.t=="b"){d=Z.d$(y,G,c)}else if(V.t=="u"){d=U(y,G,c)}else if(V.t=="i"){d=l(y,G,c)}else if(V.t=="f"){if(c==4){d=Z.Op(y,G)}else if(c==8){d=Z.Rm(y,G)}else throw"Cannot read float of size "+c.toString()}else if(V.t=="d"){var e=U(y,G,c);
e*=1e-6;e+=new Date(2001,1,1).valueOf()-new Date(1970,1,1).valueOf();d=new Date(e)}else{d=c}G+=c;if(V.g=="SeekID"){var z=K(d);
d=z}if(V.A==1){if(o[j]==null){o[j]=[]}o[j].push(d)}else{o[j]=d}}if(G+s<E&&G>=y.byteLength){s+=G;G=0;
y=await bN.Hc(R,s)}}return[G,o]}function p(R,y){var s=R.Segment.Tracks.TrackEntry,F=[];for(var N=0;N<s.length;
++N){var E=s[N];if(E.TrackType==y){F.push(E)}}return F}function M(R,y){var s,F,E,o=0;if(y){s=B(R,o);
var G=s[2];o+=s[1];s=B(R,o);var d=s[0];o+=s[1];F=o+d}s=B(R,o);o+=s[1];var u=s[0],r=l(R,o,2);o+=2;var v=R[o],c=v>>>7;
o+=1;if(y){E=R.slice(o,F)}else{E=R.slice(o)}return[u,r,c,E]}async function x(R){var y=await a(R,null,0,0,R.size);
k=!1;var s=y[1];if(s.Segment.SeekHead){var F=s.Segment.SeekHead;for(var N=0;N<F.length;++N){if(F[N].Seek){for(var E=0;
E<F[N].Seek.length;++E){if(F[N].Seek[E].SeekID=="KaxSeekHead"){var o=F[N].Seek[E].SeekPosition+s.Segment.In;
y=await a(R,null,0,o,R.size);k=!1;s.Segment.SeekHead.push(y[1])}else if(F[N].Seek[E].SeekID=="KaxCues"){if(!s.Segment.Cues){o=F[N].Seek[E].SeekPosition+s.Segment.In;
y=await a(R,null,0,o,R.size);k=!1;s.Segment.Cues=y[1].Cues}}}}}}else{console.log("No seek heads parsed, WIP, not implemented yet.")}return s}return{WZ:x,getTracks:p,ec:Y,XG:m}}();
br.Mg={440786851:{g:"EBML",t:"m",A:0},17030:{g:"EBMLVersion",t:"u",A:0},17143:{g:"EBMLReadVersion",t:"u",A:0},17026:{g:"DocType",t:"s",A:0},17031:{g:"DocTypeVersion",t:"u",A:0},17029:{g:"DocTypeReadVersion",t:"u",A:0},17028:{g:"DocTypeExtensionVersion",t:"u",A:0},191:{g:"CRC-32",t:"b",A:0},236:{g:"Void",t:"b",A:1},17138:{g:"EBMLMaxIDLength",t:"u",A:0},17139:{g:"EBMLMaxSizeLength",t:"u",A:0},408125543:{g:"Segment",t:"m",A:0},290298740:{g:"SeekHead",t:"m",A:1},19899:{g:"Seek",t:"m",A:1},21419:{g:"SeekID",t:"b",A:0},21420:{g:"SeekPosition",t:"u",A:0},357149030:{g:"Info",t:"m",A:0},29604:{g:"SegmentUUID",t:"b",A:0},29572:{g:"SegmentFilename",t:"8",A:0},3979555:{g:"PrevUUID",t:"b",A:0},3965867:{g:"PrevFilename",t:"8",A:0},4110627:{g:"NextUUID",t:"b",A:0},4096955:{g:"NextFilename",t:"8",A:0},17476:{g:"SegmentFamily",t:"b",A:1},26916:{g:"ChapterTranslate",t:"m",A:1},27045:{g:"ChapterTranslateID",t:"b",A:0},27071:{g:"ChapterTranslateCodec",t:"u",A:0},27132:{g:"ChapterTranslateEditionUID",t:"u",A:1},2807729:{g:"TimestampScale",t:"u",A:0},17545:{g:"Duration",t:"f",A:0},17505:{g:"DateUTC",t:"d",A:0},31657:{g:"Title",t:"8",A:0},19840:{g:"MuxingApp",t:"8",A:0},22337:{g:"WritingApp",t:"8",A:0},524531317:{g:"Cluster",t:"m",A:1},231:{g:"Timestamp",t:"u",A:0},22612:{g:"SilentTracks",t:"m",A:0},22743:{g:"SilentTrackNumber",t:"u",A:1},167:{g:"Position",t:"u",A:0},171:{g:"PrevSize",t:"u",A:0},163:{g:"SimpleBlock",t:"b",A:1},160:{g:"BlockGroup",t:"m",A:1},161:{g:"Block",t:"b",A:0},162:{g:"BlockVirtual",t:"b",A:0},30113:{g:"BlockAdditions",t:"m",A:0},166:{g:"BlockMore",t:"m",A:1},165:{g:"BlockAdditional",t:"b",A:0},238:{g:"BlockAddID",t:"u",A:0},155:{g:"BlockDuration",t:"u",A:0},250:{g:"ReferencePriority",t:"u",A:0},251:{g:"ReferenceBlock",t:"i",A:1},253:{g:"ReferenceVirtual",t:"i",A:0},164:{g:"CodecState",t:"b",A:0},30114:{g:"DiscardPadding",t:"i",A:0},142:{g:"Slices",t:"m",A:0},232:{g:"TimeSlice",t:"m",A:1},204:{g:"LaceNumber",t:"u",A:0},205:{g:"FrameNumber",t:"u",A:0},203:{g:"BlockAdditionID",t:"u",A:0},206:{g:"Delay",t:"u",A:0},207:{g:"SliceDuration",t:"u",A:0},200:{g:"ReferenceFrame",t:"m",A:0},201:{g:"ReferenceOffset",t:"u",A:0},202:{g:"ReferenceTimestamp",t:"u",A:0},175:{g:"EncryptedBlock",t:"b",A:1},374648427:{g:"Tracks",t:"m",A:0},174:{g:"TrackEntry",t:"m",A:1},215:{g:"TrackNumber",t:"u",A:0},29637:{g:"TrackUID",t:"u",A:0},131:{g:"TrackType",t:"u",A:0},185:{g:"FlagEnabled",t:"u",A:0},136:{g:"FlagDefault",t:"u",A:0},21930:{g:"FlagForced",t:"u",A:0},21931:{g:"FlagHearingImpaired",t:"u",A:0},21932:{g:"FlagVisualImpaired",t:"u",A:0},21933:{g:"FlagTextDescriptions",t:"u",A:0},21934:{g:"FlagOriginal",t:"u",A:0},21935:{g:"FlagCommentary",t:"u",A:0},156:{g:"FlagLacing",t:"u",A:0},28135:{g:"MinCache",t:"u",A:0},28152:{g:"MaxCache",t:"u",A:0},2352003:{g:"DefaultDuration",t:"u",A:0},2313850:{g:"DefaultDecodedFieldDuration",t:"u",A:0},2306383:{g:"TrackTimestampScale",t:"f",A:0},21375:{g:"TrackOffset",t:"i",A:0},21998:{g:"MaxBlockAdditionID",t:"u",A:0},16868:{g:"BlockAdditionMapping",t:"m",A:1},16880:{g:"BlockAddIDValue",t:"u",A:0},16804:{g:"BlockAddIDName",t:"s",A:0},16871:{g:"BlockAddIDType",t:"u",A:0},16877:{g:"BlockAddIDExtraData",t:"b",A:0},21358:{g:"Name",t:"8",A:0},2274716:{g:"Language",t:"s",A:0},2274717:{g:"LanguageBCP47",t:"s",A:0},134:{g:"CodecID",t:"s",A:0},25506:{g:"CodecPrivate",t:"b",A:0},2459272:{g:"CodecName",t:"8",A:0},29766:{g:"AttachmentLink",t:"u",A:0},3839639:{g:"CodecSettings",t:"8",A:0},3883072:{g:"CodecInfoURL",t:"s",A:1},2536e3:{g:"CodecDownloadURL",t:"s",A:1},170:{g:"CodecDecodeAll",t:"u",A:0},28587:{g:"TrackOverlay",t:"u",A:1},22186:{g:"CodecDelay",t:"u",A:0},22203:{g:"SeekPreRoll",t:"u",A:0},26148:{g:"TrackTranslate",t:"m",A:1},26277:{g:"TrackTranslateTrackID",t:"b",A:0},26303:{g:"TrackTranslateCodec",t:"u",A:0},26364:{g:"TrackTranslateEditionUID",t:"u",A:1},224:{g:"Video",t:"m",A:0},154:{g:"FlagInterlaced",t:"u",A:0},157:{g:"FieldOrder",t:"u",A:0},21432:{g:"StereoMode",t:"u",A:0},21440:{g:"AlphaMode",t:"u",A:0},21433:{g:"OldStereoMode",t:"u",A:0},176:{g:"PixelWidth",t:"u",A:0},186:{g:"PixelHeight",t:"u",A:0},21674:{g:"PixelCropBottom",t:"u",A:0},21691:{g:"PixelCropTop",t:"u",A:0},21708:{g:"PixelCropLeft",t:"u",A:0},21725:{g:"PixelCropRight",t:"u",A:0},21680:{g:"DisplayWidth",t:"u",A:0},21690:{g:"DisplayHeight",t:"u",A:0},21682:{g:"DisplayUnit",t:"u",A:0},21683:{g:"AspectRatioType",t:"u",A:0},3061028:{g:"UncompressedFourCC",t:"b",A:0},3126563:{g:"GammaValue",t:"f",A:0},2327523:{g:"FrameRate",t:"f",A:0},21936:{g:"Colour",t:"m",A:0},21937:{g:"MatrixCoefficients",t:"u",A:0},21938:{g:"BitsPerChannel",t:"u",A:0},21939:{g:"ChromaSubsamplingHorz",t:"u",A:0},21940:{g:"ChromaSubsamplingVert",t:"u",A:0},21941:{g:"CbSubsamplingHorz",t:"u",A:0},21942:{g:"CbSubsamplingVert",t:"u",A:0},21943:{g:"ChromaSitingHorz",t:"u",A:0},21944:{g:"ChromaSitingVert",t:"u",A:0},21945:{g:"Range",t:"u",A:0},21946:{g:"TransferCharacteristics",t:"u",A:0},21947:{g:"Primaries",t:"u",A:0},21948:{g:"MaxCLL",t:"u",A:0},21949:{g:"MaxFALL",t:"u",A:0},21968:{g:"mingMetadata",t:"m",A:0},21969:{g:"PrimaryRChromaticityX",t:"f",A:0},21970:{g:"PrimaryRChromaticityY",t:"f",A:0},21971:{g:"PrimaryGChromaticityX",t:"f",A:0},21972:{g:"PrimaryGChromaticityY",t:"f",A:0},21973:{g:"PrimaryBChromaticityX",t:"f",A:0},21974:{g:"PrimaryBChromaticityY",t:"f",A:0},21975:{g:"WhitePointChromaticityX",t:"f",A:0},21976:{g:"WhitePointChromaticityY",t:"f",A:0},21977:{g:"LuminanceMax",t:"f",A:0},21978:{g:"LuminanceMin",t:"f",A:0},30320:{g:"Projection",t:"m",A:0},30321:{g:"ProjectionType",t:"u",A:0},30322:{g:"ProjectionPrivate",t:"b",A:0},30323:{g:"ProjectionPoseYaw",t:"f",A:0},30324:{g:"ProjectionPosePitch",t:"f",A:0},30325:{g:"ProjectionPoseRoll",t:"f",A:0},225:{g:"Audio",t:"m",A:0},181:{g:"SamplingFrequency",t:"f",A:0},30901:{g:"OutputSamplingFrequency",t:"f",A:0},159:{g:"Channels",t:"u",A:0},32123:{g:"ChannelPositions",t:"b",A:0},25188:{g:"BitDepth",t:"u",A:0},21233:{g:"Emphasis",t:"u",A:0},226:{g:"TrackOperation",t:"m",A:0},227:{g:"TrackCombinePlanes",t:"m",A:0},228:{g:"TrackPlane",t:"m",A:1},229:{g:"TrackPlaneUID",t:"u",A:0},230:{g:"TrackPlaneType",t:"u",A:0},233:{g:"TrackJoinBlocks",t:"m",A:0},237:{g:"TrackJoinUID",t:"u",A:1},192:{g:"TrickTrackUID",t:"u",A:0},193:{g:"TrickTrackSegmentUID",t:"b",A:0},198:{g:"TrickTrackFlag",t:"u",A:0},199:{g:"TrickmTrackUID",t:"u",A:0},196:{g:"TrickmTrackSegmentUID",t:"b",A:0},28032:{g:"ContentEncodings",t:"m",A:0},25152:{g:"ContentEncoding",t:"m",A:1},20529:{g:"ContentEncodingOrder",t:"u",A:0},20530:{g:"ContentEncodingScope",t:"u",A:0},20531:{g:"ContentEncodingType",t:"u",A:0},20532:{g:"ContentCompression",t:"m",A:0},16980:{g:"ContentCompAlgo",t:"u",A:0},16981:{g:"ContentCompSettings",t:"b",A:0},20533:{g:"ContentEncryption",t:"m",A:0},18401:{g:"ContentEncAlgo",t:"u",A:0},18402:{g:"ContentEncKeyID",t:"b",A:0},18407:{g:"ContentEncAESSettings",t:"m",A:0},18408:{g:"AESSettingsCipherMode",t:"u",A:0},18403:{g:"ContentSignature",t:"b",A:0},18404:{g:"ContentSigKeyID",t:"b",A:0},18405:{g:"ContentSigAlgo",t:"u",A:0},18406:{g:"ContentSigHashAlgo",t:"u",A:0},475249515:{g:"Cues",t:"m",A:0},187:{g:"CuePoint",t:"m",A:1},179:{g:"CueTime",t:"u",A:0},183:{g:"CueTrackPositions",t:"m",A:1},247:{g:"CueTrack",t:"u",A:0},241:{g:"CueClusterPosition",t:"u",A:0},240:{g:"CueRelativePosition",t:"u",A:0},178:{g:"CueDuration",t:"u",A:0},21368:{g:"CueBlockNumber",t:"u",A:0},234:{g:"CueCodecState",t:"u",A:0},219:{g:"CueReference",t:"m",A:1},150:{g:"CueRefTime",t:"u",A:0},151:{g:"CueRefCluster",t:"u",A:0},21343:{g:"CueRefNumber",t:"u",A:0},235:{g:"CueRefCodecState",t:"u",A:0},423732329:{g:"Attachments",t:"m",A:0},24999:{g:"AttachedFile",t:"m",A:1},18046:{g:"FileDescription",t:"8",A:0},18030:{g:"FileName",t:"8",A:0},18016:{g:"FileMediaType",t:"s",A:0},18012:{g:"FileData",t:"b",A:0},18094:{g:"FileUID",t:"u",A:0},18037:{g:"FileReferral",t:"b",A:0},18017:{g:"FileUsedStartTime",t:"u",A:0},18018:{g:"FileUsedEndTime",t:"u",A:0},272869232:{g:"Chapters",t:"m",A:0},17849:{g:"EditionEntry",t:"m",A:1},17852:{g:"EditionUID",t:"u",A:0},17853:{g:"EditionFlagHidden",t:"u",A:0},17883:{g:"EditionFlagDefault",t:"u",A:0},17885:{g:"EditionFlagOrdered",t:"u",A:0},17696:{g:"EditionDisplay",t:"m",A:1},17697:{g:"Editions",t:"8",A:0},17892:{g:"EditionLanguageIETF",t:"s",A:1},182:{g:"ChapterAtom",t:"m",A:1},29636:{g:"ChapterUID",t:"u",A:0},22100:{g:"ChaptersUID",t:"8",A:0},145:{g:"ChapterTimeStart",t:"u",A:0},146:{g:"ChapterTimeEnd",t:"u",A:0},152:{g:"ChapterFlagHidden",t:"u",A:0},17816:{g:"ChapterFlagEnabled",t:"u",A:0},28263:{g:"ChapterSegmentUUID",t:"b",A:0},17800:{g:"ChapterSkipType",t:"u",A:0},28348:{g:"ChapterSegmentEditionUID",t:"u",A:0},25539:{g:"ChapterPhysicalEquiv",t:"u",A:0},143:{g:"ChapterTrack",t:"m",A:0},137:{g:"ChapterTrackUID",t:"u",A:1},128:{g:"ChapterDisplay",t:"m",A:1},133:{g:"Chaps",t:"8",A:0},17276:{g:"ChapLanguage",t:"s",A:1},17277:{g:"ChapLanguageBCP47",t:"s",A:1},17278:{g:"ChapCountry",t:"s",A:1},26948:{g:"ChapProcess",t:"m",A:1},26965:{g:"ChapProcessCodecID",t:"u",A:0},17677:{g:"ChapProcessPrivate",t:"b",A:0},26897:{g:"ChapProcessCommand",t:"m",A:1},26914:{g:"ChapProcessTime",t:"u",A:0},26931:{g:"ChapProcessData",t:"b",A:0},307544935:{g:"Tags",t:"m",A:1},29555:{g:"Tag",t:"m",A:1},25536:{g:"Targets",t:"m",A:0},26826:{g:"TargetTypeValue",t:"u",A:0},25546:{g:"TargetType",t:"s",A:0},25541:{g:"TagTrackUID",t:"u",A:1},25545:{g:"TagEditionUID",t:"u",A:1},25540:{g:"TagChapterUID",t:"u",A:1},25542:{g:"TagAttachmentUID",t:"u",A:1},26568:{g:"SimpleTag",t:"m",A:1},17827:{g:"TagName",t:"8",A:0},17530:{g:"TagLanguage",t:"s",A:0},17531:{g:"TagLanguageBCP47",t:"s",A:0},17540:{g:"TagDefault",t:"u",A:0},17588:{g:"TagDefaultBogus",t:"u",A:0},17543:{g:"Tags",t:"8",A:0},17541:{g:"Tagb",t:"b",A:0}};
function cF(W,q){bN.cm.call(this,W,q);this.nO=bN.cm.nO;this.ok=bN.cm.ok;this.w$=bN.cm.w$;this.mW=bN.cm.mW;
this.L$=function(X){return X};this.SS=0;this.data=null;this.start=0;this.xu=null;this.bi=null;this.MY=0;
this.r7=0}cF.prototype.aAJ=async function(){this.nE=new VideoDecoder({output:cY=>this.w$(cY),error:function(X){console.log(X.message)}});
var W={codec:this.xu};if(this.bi){W.description=this.bi}var q=await VideoDecoder.isConfigSupported(W);
if(q.supported==!0){this.nE.configure(W)}else{console.log("Codec not supported.",W)}};cF.prototype.aj9=async function(){if(!this.cues)return null;
var W=this.cues[this.cues.length-1],q=await br.XG(this.I$,this.de,this.data,this.start,W),X=q.timeStamp,k,B=[];
this.SS=q.SS;this.data=q.data;this.start=q.start;do{if(q.jR&&q.jR[0]==1){k=q;B.push(q.jR[1])}q=await br.ec(this.I$,this.data,this.start,this.SS);
if(q.timeStamp){X=q.timeStamp}this.SS=q.SS;this.data=q.data;this.start=q.start}while(q.SS>0);if(!this.hO){B.sort((cC,h2)=>cC-h2);
this.hO=Math.round((B[B.length-1]-B[0])/(B.length-1));this.R1=1e3/this.hO}this.frames=Math.floor((X+k.jR[1]+this.hO-this.MY)/this.hO)};
cF.prototype.KJ=async function(){this.de=await br.WZ(this.I$);this.aB4={};this.IY={};this.M_=br.getTracks(this.de,1);
var W=!0;if(this.M_.length>0){var q=this.M_[0],X=q.TrackNumber,k=q.CodecID;if(q.CodecPrivate)this.bi=q.CodecPrivate;
var B=q.Video.PixelWidth,U=q.Video.PixelHeight,l=this.de.Segment.Info.TimestampScale,K=q.DefaultDuration/l;
this.R1=1e3/K;this.hO=K;var D=["V_VP8","V_VP9","V_MPEG4/ISO/AVC","V_MPEGH/ISO/HEVC"],m=["vp8","vp09.00.10.08","avc1.640034","hvc1"],Y=D.indexOf(k);
if(Y>=0)this.xu=m[Y];if(this.xu=="hvc1"){if(this.bi){this.xu=bN.a5l(this.bi)}else{this.xu=null}}console.assert(this.xu!=null,"Codec "+k.toString()+" not supported.");
if(this.xu==null){W=!1}var a=this.de.Segment.Cues.CuePoint;this.cues=[];for(var N=0;N<a.length;++N){for(var p=0;
p<a[N].CueTrackPositions.length;++p){if(a[N].CueTrackPositions[p].CueTrack==X){this.cues.push({Pn:a[N].CueTime,fC:a[N].CueTrackPositions[p]})}}}if(this.cues[0].Pn>0){this.MY=this.cues[0].Pn}await this.aj9();
this.xI=[];for(var N=0;N<this.cues.length;++N){this.xI.push(Math.round((this.cues[N].Pn-this.MY)/this.hO))}}this.SL={};
if(W&&this.M_.length>0){this.SL.he={M_:1,B_:this.frames,R1:this.R1,width:B,height:U}}if(!this.nD){this.MN=new OffscreenCanvas(this.SL.he.width,this.SL.he.height);
this.iG=this.MN.getContext("2d",{aFM:!0});this.kc=10;this.U2=6}this.d0=!0};1,0,cF.prototype.XG=async function(W){var q=await br.XG(this.I$,this.de,this.data,this.start,this.cues[W]);
this.SS=q.SS;this.data=q.data;this.start=q.start;this.azN(q)};cF.prototype.ec=async function(){var W;
do{W=await br.ec(this.I$,this.data,this.start,this.SS);this.SS=W.SS;this.data=W.data;this.start=W.start}while(W.SS>0&&W.jR[0]!=1);
if(this.SS>0){this.azN(W)}};cF.prototype.azN=function(W){var q=new EncodedVideoChunk({timestamp:W.jR[1],duration:this.hO,type:W.jR[2]==1?"key":"delta",data:W.jR[3]});
if(this.nE.state=="configured"){try{this.nE.decode(q)}catch(bu){console.log("CAUGHT unconfigured");console.log(bu);
console.log(q)}}else{console.log("unconfigured",this.SS,W);delete W}delete W};cF.prototype.a5z=async function(W,q,X){var k=X*this.hO,B=this.xI.indexOf(q),U=0,l;
for(var N=q;N<X;++N){while(this.r7>0){await new Promise(resolve=>setTimeout(resolve,50))}this.r7=1;if(N==q&&B>=0){await this.XG(B)}else{await this.ec()}this.r7=0}if(X==this.frames){await new Promise(resolve=>setTimeout(resolve,100));
while(this.SS!=0){while(this.r7>0){await new Promise(resolve=>setTimeout(resolve,50))}this.r7=1;await this.ec();
this.r7=0}await this.nE.flush()}};var j8=function(){var W,q,X,k,B,U,l=4294967292,K=4294967293,D=4294967294,m=4294967295;
function Y(){k+=1;return X[k-1]}function a(){k+=2;return Z.lm(X,k-2)}function p(){k+=4;return Z.qX(X,k-4)}function M(){k+=4;
return Z.P2(X,k-4)}function x(G){return 512+512*G}function R(G){return 64*G}function y(G,d){if(G>=d.length){console.log("error?");
return[]}var u=[];while(G!=D){u.push(G);G=d[G]}return u}function s(G,d,u){var r=y(G,u==64?U:B);if(d==null)d=r.length*u;
var v=new Uint8Array(d),c=u==64?q:W;for(var N=0;N<r.length;N++){var V=r[N],j=u==64?R(V):x(V);v.set(new Uint8Array(c.buffer,j,Math.min(u,d-N*u)),N*u)}return v}function F(G,d){for(var N=0;
N<G;N++){var u=M();if(u==m)continue;d.push(u)}}function E(G,d,u,r){var v=X,c=k,L;X=G;k=d*128;var V=Z.gq(X,k,32);
k+=64;var j=a();V=V.slice(0,j-2>>>1);var Q=Y(),H=Y(),T=p(),e=p(),z=p();k+=20;k+=8;k+=8;var J=p(),P=p();
if(p()!=0)throw"e";if(Q==1||Q==5){if(Q==5){q=s(J,null,512)}L={};E(G,z,L,r+1)}else if(Q==2){if(P<=4096)L=s(J,P,64);
else L=s(J,P,512)}else throw Q;if(T!=-1)E(G,T,u,r+1);if(e!=-1)E(G,e,u,r+1);u[V]=L;X=v;k=c}function o(G){X=W=new Uint8Array(G);
k=0;var d=[208,207,17,224,161,177,26,225];for(var N=0;N<8;N++)if(Y()!=d[N])throw"e";for(var N=0;N<16;
N++)if(Y()!=0)throw"e";var u=a(),r=a();if(a()!=-2)throw"big endian";if(a()!=9)throw"not 512";if(a()!=6)throw"not  64";
for(var N=0;N<10;N++)if(Y()!=0)throw"e";var v=p(),c=p();if(p()!=0)throw"e";if(p()!=4096)throw"e";var V=p(),j=p(),Q=p(),H=p(),T=[];
F(109,T);for(var N=0;N<H;N++){k=x(Q);F(127,T);Q=p()}if(T.length!=v)throw"e";B=[];for(var N=0;N<v;N++){k=x(T[N]);
for(var e=0;e<128;e++){var z=M();B.push(z)}}U=[];for(var N=0;N<j;N++){if(isNaN(V))throw"e";k=x(V);for(var e=0;
e<128;e++){var z=M();U.push(z)}V=B[V]}var J=s(c,null,512),P={};E(J,0,P,0);return P["Root Entry"]}return{parse:o}}(),_={};
_.W$=function(W){return window.devicePixelRatio||1};_.YA=function(W,q){return(q.aL8=="touch"?12:8)*_.W$()/W.f.$Z};
_.t7=function(){var W="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAfAgMAAABiwP6qAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAlQTFRFAAAAAAAA////g93P0gAAAAN0Uk5TAP//RFDWIQAAACxJREFUeJxjYGBgYHVggAA2ujNCQ0PDgDiEIWvVqpWrVq1aghAZEPcwQEMDAMwiEgB+z9L1AAAAAElFTkSuQmCC",q=_.W$(),X=15.5/q;
return"image-set(url('"+W+"') "+q+"x) "+X+" "+X+",auto"};_.CB=function(W,q,X){this.name=W;this.id=q;
this.gr=null;if(X!=null)this.iI=X};_.CB.prototype.s4=function(W,q,X,k,B){};_.CB.prototype.enable=function(W,q,X,k,B,U){var l=new ip(S.E.H,!0);
l.data={R:S.m.db,pq:"default"};q.T(l)};_.CB.prototype.disable=function(W,q,X,k,B){};_.CB.prototype.a4t=function(W,q,X,k,B){return!1};
_.CB.prototype.mc=function(W,q,X,k,B){};_.CB.prototype.$J=function(W,q,X,k,B){};_.CB.prototype.lG=function(W,q,X,k,B){};
_.CB.prototype.iY=function(W,q,X,k,B,U){};_.CB.prototype.xM=function(W,q,X,k,B){};_.CB.prototype.jm=function(W,q,X,k){};
_.CB.prototype.yi=function(W,q,X,k){};_.CB.prototype._j=function(W,q){};_.CB.prototype.tG=function(W,q){};
_.CB.prototype.Gr=function(W){return 0};_.CB.prototype.Os=function(W,q,X,k,B){};_.CB.prototype.QL=function(W,q){};
_.CB.prototype.hK=function(W,q){return!1};_.CB.prototype.Ps=function(W,q){return!1};_.CB.prototype.mf=function(){return!1};
_.CB.prototype.hr=function(W,q){return!0};_.CB.prototype.p5=function(){return null};_.CB.prototype.Ll=function(W,q,X){};
_.CB.prototype.av2=function(){return!1};_.CB.prototype.AL=function(W,q,X,k){};_.CB.prototype.track=function(W){var q=new ip(S.E.dq,!0);
q.data=W;W.sy=!0;this.gr.T(q)};_.CB.tJ=function(W,q,X,k){var B=10*_.W$()*(W.aL8=="touch"?2:1),U=W.x+B,l=W.y-B,K=g.Qs.ft(q.r,X.mC,k,X.r,!0),D=g.Qs.ft(q.$,X.mC,k,X.$,!0);
while(K.length<D.length)K=" "+K;while(K.length>D.length)D=" "+D;_.CB.V3(U,l,[js.get([12,41]).charAt(0)+": "+K,js.get([12,42]).charAt(0)+": "+D],X)};
_.CB.V3=function(W,q,X,k){function B(m,R,y,s,F,E){m.beginPath();m.moveTo(R,y+E);m.arcTo(R,y+F,R+E,y+F,E);
m.arcTo(R+s,y+F,R+s,y+F-E,E);m.arcTo(R+s,y,R+s-E,y,E);m.arcTo(R,y,R,y+E,E)}var U=_.W$(),l=Math.round,K=l(11*U),D=_.CB.ajk,Y=0;
if(D==null)D=_.CB.ajk=document.createElement("canvas");var m=D.getContext("2d");m.font=K+"px monospace";
for(var N=0;N<X.length;N++)Y=Math.max(Y,m.measureText(X[N]).width);var a=l(Y+12*U),p=l((X.length*14+5)*U),M=new dU(W,q-p,a,p);
if(D.width!=a||D.height!=p){D.width=a;D.height=p;m.font=K+"px monospace"}m.clearRect(0,0,a,p);m.fillStyle="rgba(0,0,3,0.8)";
B(m,0,0,a,p,l(4*U));m.fill();m.fillStyle="rgba(255,255,255,1)";for(var N=0;N<X.length;N++)m.fillText(X[N],l(6*U),l((N+1)*13*U));
var x=[m.getImageData(0,0,a,p).data,M.P()];if(k)k.W.L1=[x];return x};_.CB.ajk=null;_.CB.a9V=function(W,q,X,k){if(q)this.gr=q;
var B=this.a05;if(W)B=[W.r,W.$,W.mC];if(X&&B)B[3]=X.bm.vA;this.a05=B;var U=new ip(S.E.H,!0);U.data={R:S.m.os,J:this.id,JD:B};
if(this.gr)this.gr.T(U)};_.CB.mJ=function(W){W.prototype.yi=_.CB.a9V;W.prototype.QL=function(q,X){if(X==aI.VH||X==aI.NC)this.yi(null,null,q,null)}};
_.zl="0";_.iK="1";_.a6k="2";_.a0q="3";_.fX="5";_.ag7="6";_.aJ6="7";_.lv="8";_._I="9";_.mq="10";_.MX="11";
_.eP="12";_.pz="13";_.Uy="14";_.a27="15";_.ns="16";_.aw="18";_.Om="19";_.aED="90";_.OU="20";_.Fb="21";
_.sx="22";_.AC="23";_.te="24";_.Uc="25";_.gv="27";_.pM="31";_.cA="32";_.a0n="33";_.jJ="34";_.agy="35";
_.rb="36";_.Q4="37";_.rm="38";_.nH="39";_.A2="40";_.ed="41";_.wz="42";_.IB="43";_.a1$="44";_.a4j="45";
_.asf="46";_.ae3="72";_.W6="47";_.Cq="48";_.ZA="51";_.dm="52";_.FE="54";_.h0="55";_.lb="56";_.c0="57";
_.Lu="58";_.gT="59";_.u5="60";_.hm="61";_.tk="70";_.eh="71";_.as0="73";_.Xx="100";_.oV="101";_.Fh="102";
_.Jb="103";_.Zw="120";_.BG="121";_.py="122";_.wm="230";_.afT="231";_.Yo="232";_.b9="233";_.Rd="234";
_.zF="235";_.Ki="236";_.zt={};_.zt[_.AC]="tools/brush";_.zt[_.te]="tools/pencil";_.zt[_.pM]="tools/eraser";
_.zt[_.W6]="tools/htype";_.X4={PcTl:_.te,PbTl:_.AC,moveTool:_.zl,cloneStampTool:_.gv,typeCreateOrEditTool:_.W6,artboardTool:_.tk,marqueeRectTool:_.iK,typeVerticalCreateOrEditTool:_.Cq,perspectiveCropTool:_.MX,marqueeEllipTool:_.a6k,eyedropperTool:_.Uy,eraserTool:_.pM,pathComponentSelectTool:_.ZA,lassoTool:_.fX,backgroundEraserTool:_.cA,directSelectTool:_.dm,polySelTool:_.ag7,rectangleTool:_.FE,magneticLassoTool:_.aJ6,gradientTool:_.jJ,quickSelectTool:_.lv,bucketTool:_.agy,ellipseTool:_.h0,magicWandTool:_._I,blurTool:_.rb,polygonTool:_.lb,cropTool:_.mq,sharpenTool:_.Q4,lineTool:_.c0,sliceTool:_.eP,smudgeTool:_.rm,customShapeTool:_.Lu,sliceSelectTool:_.pz,dodgeTool:_.nH,spotHealingBrushTool:_.aw,burnInTool:_.A2,saturationTool:_.ed,penTool:_.wz,redEyeTool:_.sx,freeformPenTool:_.IB,rulerTool:_.ns,paintbrushTool:_.AC,handTool:_.gT,pencilTool:_.te,zoomTool:_.hm,objectSelectTool:_.a0q,healingBrushTool:_.Om,patchTool:_.OU,contentAwareMoveTool:_.Fb,colorReplacementBrushTool:_.Uc,curvaturePenTool:_.a1$,rotareViewTool:_.u5};
_.Vz=function(W,q,X){_.CB.call(this,W,q,X);this.Xm={brush:W?gs.FL():null,bmode:"norm",opacity:1,flow:1,smth:0,samp:0,emode:0,wconf:[40,!0,!0],sall:!1,algnd:!1,sfrom:0,alt:[!1],expo:.5,rng:1,strn:.5,pdetail:!0,smode:1,qsmode:0,setop:0,patch:0};
this.e=null;this.Ay=null;this.SG=null;this.up=null;this.OZ=null;this.bv=null;this.mS=null;this.Nl=null;
this.HZ=null;this.pQ=null;this._Y=null;this.NY=null;this.UQ=null;this.Pv=1;this.wd=!1;this.VJ=!1;this.Wf=null;
this.jT;this.caller=null};_.Vz.prototype=new _.CB;_.Vz.prototype.Ps=function(W,q){return W.Vj&&q.D(bu.m4)};
_.Vz.prototype.$J=function(W,q,X,k,B){if(k.D(bu.Wr)){this.bv=new hw(B.x,B.y);var U=this.Xm.brush.Brsh.v,l=U.Dmtr.v.val,K=U.Hrdn!=null?U.Hrdn.v.val:-1;
this.mS=[l,K,!0,g.N(this.Xm.brush),B];this.Sx(X)}};_.Vz.prototype.c1=function(W,q,X){var k=this.mS,B=W.f.$Z,U=X.x-k[4].x,l=X.y-k[4].y,K=k[0],D=k[1],m=Math.abs(U)>Math.abs(l);
if(m&&k[2]){var Y=Math.round(2*U/B);K+=Y;X.x-=U-.5*Y*B}if(!m&&!k[2]&&D!=-1){var Y=Math.round(.25*l);
D+=Y;X.y-=l-4*Y}K=Math.max(1,K);D=k[1]==-1?-1:Math.max(0,Math.min(100,D));var a=k[3];a.Brsh.v.Dmtr.v.val=K;
if(D!=-1)a.Brsh.v.Hrdn.v.val=D;this.mS=[K,D,m,a,X];var p=bf.Yw(a,q.cY.n5,B),M=p[1];M.x=Math.round(this.bv.x-M.r/2);
M.y=Math.round(this.bv.y-M.$/2);W.W.yR=[p];var x=W.f.uy(this.bv.x,this.bv.y);W.W.Pg={bU:[],Ab:[x.x-K/2,x.y,x.x+K/2,x.y]};
if(D!=-1)W.W.Pg.Ab.push(x.x+50/B,x.y-D/2,x.x+50/B,x.y+D/2);W.R2=!0};_.Vz.prototype.xM=function(W,q,X,k,B){if(this.id==_.OU||this.id==_.Fb)return;
if(this.bv){this.bv=null;this.jp(g.N(this.mS[3]));W.W.yR=[];W.W.Pg=null;W.R2=!0;return}var U=new ip(S.E.H,!0);
U.data={R:S.m.os,J:this.id,anG:"showBrushOpts",sw:new hw(B.Ty+4,B.Be)};q.T(U)};_.Vz.prototype.jp=function(W){var q=new ip(S.E.H,!0);
q.data={R:S.m.Dt,rl:aI.O2,Fj:W};this.caller.T(q)};_.Vz.u$=function(W,q,X,k,B,U){if(W==null)W="FrgC";
if(q==null)q="norm";if(X==null)X=1;if(B==null)B=!1;var l={classID:"Fl",Usng:{t:"enum",v:{FlCn:W}},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(X*100)}},PrsT:{t:"bool",v:B},Md:{t:"enum",v:{BlnM:jm.yq(q)}}};
if(W=="Clr")l.Clr={t:"Objc",v:k};if(W=="contentAware")l.contentAwareColorAdaptationFill={t:"bool",v:!0};
if(W=="Ptrn")l.Ptrn={t:"Objc",v:U};return{yx:"fill",Og:l}};_.Vz.prototype.s4=function(W,q,X,k,B){this.gr=q;
var U=X.TC.length,l=U!=0?-1-X.TC[0]:X.Y[0],K=X.U[l],D=K&&K.add.SoLd&&K.add.SoLd.generativeDocInfo,m=W.R=="fromAction"&&W.lz&&W.lz.Og&&JSON.stringify(W.lz.Og).indexOf("aiHeal")!=1;
if(U==0&&!m&&!X.or(q))return;if(W.R=="fromAction"){var Y=W.lz,a=Y.Og;if(a&&a.null&&a.null.v[0]&&a.null.v[0].v.classID=="Path"){var p=X.Yb(),M=p[0],x=p[1],R=M[x.length==0?0:x[0]].add.vmsk;
if(Y.yx=="fill"){var y=R.Jx(),s=B.w5,F=this.Xm,E=s>>16&255,o=s>>8&255,G=s>>0&255;this.CO(X,K,y,E,o,G,Math.round(F.opacity*255),F.bmode,"Fill Path")}else{var d=a&&a.Prs&&a.Prs.v,u=JSON.stringify(this.Xm.brush);
if(d)gs.abw(this.Xm.brush,[!1,!0]);var r=Date.now();for(var v=0;v<1e3;v++){var c=g.z.wS(R.G,v,!0);if(c==-1){this.iY(X,q,B,k,null);
break}var V=R.G[c],j=R.G.slice(c,c+1+V.length),Q=g.b.sz(j,2).n,H=Q.slice(0,8);for(var T=8;T<Q.length;
T+=6)H.push(Q[T-2],Q[T-1],Q[T],Q[T+1],Q[T+2],Q[T+3],Q[T+4],Q[T+5]);var e={};e.Points=H;e.TextOnPathTRange=R.qH.slice(0);
var e=cm.U7(e,2,V.I==3),z=e[0],J=X.f.az(z[0],z[1]);if(d)J.Kx=0;if(v==0)this.mc(X,q,B,k,J);else this.Ay.moveTo(z[0],z[1],d?0:null);
var P=z.length,L=V.I==0?P+2:P;for(var N=2;N<L;N+=2){J=X.f.az(z[N%P],z[(N+1)%P]);J.Vj=!0;if(d){var A=N/L;
J.Kx=2*Math.min(A,1-A)}this.lG(X,q,B,k,J,this.Xm.flow)}this.Ay.finish();this.nR(X)}console.log(Date.now()-r);
if(d)this.Xm.brush=JSON.parse(u)}}else if(Y.yx=="fill"){var h=a.PrsT?a.PrsT.v:!1,C=K?K.add.lspf:0;if(h&&K){K.add.lspf=C==null?1:C|1}var w=(a.Opct?a.Opct.v.val:100)/100,f=a.Md?jm.U3(a.Md.v.BlnM):"norm";
w=Math.round(255*w);var O=a.Usng.v.FlCn;if(O=="contentAware"||O=="aiHeal"){if(X.d==null&&!D){alert("Select an area to heal first.");
return}var n=X.d;if(O=="aiHeal"&&!ky.sv(X))return;if(O=="contentAware"){this.XX(X);this.JN(X,0);var $=g.j(n.S.C()*4);
g.fP(n.c,$,3);this.Lv(X,"sheal",$,n.S,n.S);this.I_(X,n.S);this.finish(X,n.S)}else{this.Zl=X;this.e=B;
var d9=ky.YB(B,3),i=function(){this.jT=a.prmt.v;ky.aB3(this.jT,d9,X,this.a65.bind(this),a.rl);var d5=new ip(S.E.H,!0);
d5.data={R:S.m.dW,RU:"Processing ..."};q.T(d5);this.caller=q}.bind(this);if(d9||ky.tM(3))i();else ky.QG(i)}}else if(O=="Ptrn"){var dF=B.Ix,t=X.d?X.d.S.P():new dU(0,0,X.r,X.$),im=g.j(t.C()*4);
dx.qh(a,im,t,dF,new hw(0,0));for(var N=0;N<im.length;N+=4)im[N+3]=w;this.th(X,K,X.d,im,f,[6,48,0,2])}else{var s;
if(O=="FrgC")s=B.w5;else if(O=="BckC")s=B.yY;else if(O=="Blck")s=0;else if(O=="Wht")s=16777215;else if(O=="Gry")s=8421504;
else if(O=="Clr"){var bc=g.ov.yM(a.Clr.v);s=bc.o<<16|bc.L<<8|bc.X}var E=s>>16&255,o=s>>8&255,G=s>>0&255;
this.CO(X,K,X.d,E,o,G,w,f,[2,3])}if(h&&K){K.add.lspf=C==null?0:C}}else if(Y.yx=="delete"){var at=l<0?1:K.pw,n=X.d,fR;
if(n==null)return;var l9=l<0?X.RH[-l-1]:at<=0?null:at==1?K.Jx():K.Q2(X).BD,t=at<=0?K.S:l9.S,fF=at<=0?n.S.x$(t):n.S.P();
if(fF.PM())return;var g$=fF.C();if(at<=0){fR=g.j(g$*4,X.depth);g.YE(K.buffer,K.S,fR,fF)}else{fR=g.j(g$,X.depth);
l9.extend(fF);g.Z_(l9.c,l9.S,fR,fF)}if(0<=l&&K.oR(X,n)){if(at<=0){fR.fill(0);g.YE(K.dg.IH,K.dg.WM,fR,fF)}else{fR.fill(255);
g.Z_(K.dg.IH,K.dg.WM,fR,fF)}}else{if(at<=0){var cr=g.j(fR.length>>2,X.depth);g.u6(fR,cr,3);g.v.Ot(g.j(n.S.C(),X.depth),n.S,cr,fF,n.c,fF,1);
g.fP(cr,fR,3)}else{var eE=g.j(n.S.C(),X.depth),E=B.yY>>>16&255,o=B.yY>>8&255,G=B.yY>>0&255;eE.fill(Math.round(g.jN(E,o,G)));
g.v.Ot(eE,n.S,fR,fF,n.c,fF,1)}}this.HF(X,!0,[2,2],l,at,fF,fR)}}if(W.R=="stroke"){var bQ=W.ahA,n=X.d;
if(n==null){n={S:K.S.P(),c:g.j(K.S.C())};g.u6(K.buffer,n.c,3)}var hT=dx.Uh(bQ),df=_.lR.aet(n,Math.ceil(hT[0]),Math.ceil(hT[1])),s=g.ov.yM(bQ.Clr.v),E=Math.round(s.o),o=Math.round(s.L),G=Math.round(s.X);
this.CO(X,K,df,E,o,G,Math.round(255*bQ.Opct.v.val/100),jm.U3(bQ.Md.v.BlnM),[14,9])}if(W.R=="fillBMP"){this.th(X,K,X.d,W.jq,W.Dz,W.xJ)}if(W.R=="draw"){var eV=W.PW,gU=eV.S;
this.XX(X);var i8=X.U[X.Y[0]];if(W.a7u&&i8&&i8.pw<=0&&X.TC.length==0){gU=_.zB.acJ(eV,X);i8.buffer=eV.buffer.slice(0);
i8.S=gU.P()}else{var bv=this.Xm.bmode,fE=this.Xm.opacity;this.Xm.bmode="norm";this.Xm.opacity=1;this.Lv(X,"draw",eV.buffer,gU,gU.x$(new dU(0,0,X.r,X.$)));
this.Xm.bmode=bv;this.Xm.opacity=fE}this.I_(X,gU);X.qg=!0;this.finish(X,gU,W.xJ,W.a7u)}};_.Vz.prototype.a65=function(W){var q=W.target.response,X=new Uint8Array(q);
if(this.as4){this.as4=!1;q=lf.GS(Z._o(X))}else if(X[0]==123){var k=JSON.parse(Z._o(X)),N=0;console.log(k);
if(k.status=="error"){alert(k.message.prompt[0]);return}var B=k.image_links;if(B==null)B=k.output;var U=B[0],l=new XMLHttpRequest;
l.responseType="arraybuffer";while(!0){var K=new XMLHttpRequest;K.open("HEAD",U,!1);K.send();if(K.status!=404)break;
console.log("not ready");N++}l.open("GET",U,!0);l.onload=this.a65.bind(this);this.as4=!0;l.send();return}var D=lf.WJ.Vp(q)[0],m=new Uint8Array(D.data),Y=this.Zl,a=ky.DI(Y)[0],p=ky.DI(Y)[1];
this.Zl=null;var M=a.r/D.oq.r;if(M>1.1){var x=_.Gz.k6([m,D.oq],new ka(M,0,0,M,0,0));m=x.buffer}var R=Y.U[Y.Y[0]],y=R.add.SoLd&&Y.d==null,s=y?R.Jx():Y.d,F=g.j(a.C()*4);
g.YE(g.Cn(Y.OL(),8),new dU(0,0,Y.r,Y.$),F,a);var E=g.j(a.C());g.Z_(g.Cn(s.c,8),s.S,E,a);g.round(E);var o=new Uint32Array(F.buffer),G=new Uint32Array(m.buffer);
for(var N=0;N<o.length;N++)if(E[N]==0)G[N]=o[N];g.n4.fb(m,E,a,null,500*(1+p));var d=new ip(S.E.H,!0);
d.data={R:S.m.xA,RU:"Processing ..."};this.caller.T(d);if(y){var d=new ip(S.E.O,!0);d.J=_.b9;d.data={R:b.vj,_:[m,a],ajz:this.jT};
this.caller.T(d)}else{var u=new ey(this.jT),q=s.S.x$(new dU(0,0,Y.r,Y.$));u.r=q.r;u.$=q.$;u.mC=Y.mC;
u.U.push(u.rS());var R=u.Sh();R.S=q.P();u.U.push(R);R.YY(this.jT);R.buffer=g.j(R.S.C()*4);g.YE(m,a,R.buffer,R.S);
R.S.x=R.S.y=0;R=u.Sh();R.YY("Variations");R.add.lsct=e5.B2;R.JY="pass";R.Z9=24;u.U.push(R);u.I_();var d=new ip(S.E.O,!0);
d.data={R:b.cG,LV:u};d.J=_.b9;this.caller.T(d);R=Y.U[Y.Y[0]];var r=R.add.SoLd;r.generativeDocInfo={t:"Objc",v:{classID:"generativeDocInfo",Vrsn:{t:"long",v:1},workflow:{t:"long",v:0}}};
_.U6.J_(Y,Y.Y,null,[q.x-R.S.x,q.y-R.S.y]);R.BD=new b.pj;R.BD.color=0;R.BD.S=Y.d.S.P();R.BD.c=Y.d.c.slice(0);
Y.I_();d=new ip(S.E.dq,!0);d.data=_.lR.XU();this.caller.T(d);d=new ip(S.E.H);d.data={R:S.m.oU,ud:dE.FV.iD};
this.caller.T(d)}if(ky.YB(this.e,3)==null)ky.H3("Inpaint",3)};_.Vz.prototype.CO=function(W,q,X,k,B,U,l,K,D){var m=X==null?new dU(0,0,W.r,W.$):X.S,Y=g.j(m.C()*4,W.depth);
if(W.depth==8)g.WD(Y,l<<24|U<<16|B<<8|k<<0);else{var a=g.bH(W.depth)/255;for(var N=0;N<Y.length;N+=4){Y[N]=k*a;
Y[N+1]=B*a;Y[N+2]=U*a;Y[N+3]=l*a}}this.th(W,q,X,Y,K,D)};_.Vz.prototype.th=function(W,q,X,k,B,U){var l=W.TC.length!=0?-1-W.TC[0]:W.Y[0],K=l<0?1:q.pw,D=l<0?W.RH[-1-l]:K<=0?null:K==1?q.Jx():q.Q2(W).BD,m=K<=0?q.S:D.S,Y=X==null?new dU(0,0,W.r,W.$):X.S,a;
if(X)a=X.c;else{a=g.j(W.r*W.$,W.depth);a.fill(g.bH(W.depth))}if(X!=null)g.Qj(a,k);var p=Y.C(),M=g.j(p*4,W.depth);
if(K<=0)g.YE(q.buffer,q.S,M,Y);else{D.extend(Y);M.fill(255);g.LO(D.OQ(Y),M)}if(0<=l&&X&&q.oR(W,X)&&K<=0){var x=q.dg.LE,R=q.dg.LE.slice(0);
if(K<=0)g.cX(k,R);else g.cX(fullc,R);var y=new j3([2,3],this);y.data={R:"drawtemp",B:W.Y[0],gj:K,atg:x,atB:R};
W.O_(y);this._j(y.data,W)}else{if(K<=0){var s;if(q.kW(0)){s=g.j(Y.C(),W.depth);g.u6(M,s,3)}g.v.HX(B,k,Y,M,Y,Y,1);
if(q.kW(0))g.fP(s,M,3)}else{g.v.HX(B,k,Y,M,Y,Y,1);var F=g.j(p,W.depth);g.Iv(M,F);M=F}this.HF(W,!0,U,l,K,Y,M)}};
_.Vz.prototype.hK=function(W){if(bu.dh.indexOf(W)!=-1)return!0;return!1};_.Vz.prototype.jm=function(W,q,X,k){var B=this.Xm.brush,U=k.D(bu.Wr),l=k.ahE(),K=U!=this.wd,D=l!=this.VJ;
this.wd=U;this.VJ=l;var m=_.Vz.x5(B,k);if(m!=null)this.jp(m);if(!k.D(bu.p7)&&k.z1()!=-1&&this.id!=_.Uc){var Y=bu.ai6(Math.round(this.Xm.opacity*100),k.z1())/100;
this.Mr({opacity:Y},q)}if(this.id==_.lv&&K&&W!=null){var a=this.Xm.qsmode;if(a==2)a=W.d==null?0:1;else a=2;
this.Mr({qsmode:a},q)}if(K||D){if(W)this.Pv=W.f.$Z;this.Sx(X,k)}};_.Vz.x5=function(W,q){var X=W.Brsh.v.Dmtr.v.val,k=W.Brsh.v.Hrdn!=null?W.Brsh.v.Hrdn.v.val:-1,B=W.Brsh.v.Angl.v.val,U=X,l=k,K=B,D=q.D(bu.m4);
if(q.D(bu.Vv)){if(D)k=25*Math.floor((k-1)/25);else{if(X<=10)X--;else if(X<=50)X=5*Math.floor((X-1)/5);
else if(X<=100)X=10*Math.floor((X-1)/10);else if(X<=200)X=25*Math.floor((X-1)/25);else if(X<=400)X=50*Math.floor((X-1)/50);
else X=100*Math.floor((X-1)/100)}}if(q.D(bu.SP)){if(D)k=25*Math.ceil((k+1)/25);else{if(X<10)X++;else if(X<50)X=5*Math.ceil((X+1)/5);
else if(X<100)X=10*Math.ceil((X+1)/10);else if(X<200)X=25*Math.ceil((X+1)/25);else if(X<400)X=50*Math.ceil((X+1)/50);
else X=100*Math.ceil((X+1)/100)}}var m=q.D(bu.Is),Y=q.D(bu.uQ);if(D&&(m||Y)){B=(B+360+15*(m?1:-1))%360}X=Math.max(1,X);
k=Math.max(0,Math.min(100,k));if(l==-1)k=-1;if(X!=U||k!=l||B!=K){var a=g.N(W);a.Brsh.v.Dmtr.v.val=X;
a.Brsh.v.Angl.v.val=B;if(l!=-1)a.Brsh.v.Hrdn.v.val=k;return a}return null};_.Vz.prototype.Sx=function(W,q,X,k){if(W.cY.list.length==0)return;
var B=this.id,U;if((B==_.gv||B==_.Om||B==_.AC||B==_.te)&&(q!=null&&q.D(bu.Wr)||this.Xm.alt[0]))U="crosshair";
else{var l=this.Pv,K=this.Xm.brush;if((B==_.gv||B==_.Om)&&X&&this.NY&&this.NY.length==this._Y.C()*4){var D=X.f.uy(k.x,k.y),m=this.a9A(D),Y=this.NY,a=this._Y,p=new dU(a.x+m.x,a.y+m.y,a.r,a.$),M=bf.Yw(K,W.cY.n5,l),x=M[0],R=M[1],y=Math.ceil(R.r/l),s=new dU(Math.round(D.x-y/2),Math.round(D.y-y/2),y,y),F=g.j(s.C()*4),E,o;
if(X.depth==8)g.YE(Y,p,F,s);else{var G=g.j(s.C()*4,X.depth);g.YE(Y,p,G,s);F=g.Cn(G,8)}if(l==1){E=F;o=s}else{var d=new ka(l,0,0,l,0,0),u=_.Gz.k6([F,s],d,!0);
o=R.P();o.x=u.S.x;o.y=u.S.y;if(o.AB(u.S))E=u.buffer;else{E=g.j(o.C()*4);g.YE(u.buffer,u.S,E,o)}}var r=this.Xm.opacity/255;
for(var N=0;N<E.length;N+=4)E[N+3]=r*(x[N+3]*E[N+3]);bf.CX(new Uint32Array(E.buffer),o,4278190080,4294967295);
U={S0:E,OM:o,Qv:new hw(o.r/2,o.$/2)}}else{U=bf.h9(K,W.cY.n5,l,B==_.Uc||B==_.cA);if(this.VJ){U.S0.fill(0);
bf.CX(new Uint32Array(U.S0.buffer),U.OM,4278190080,4294967295)}}}var v=new ip(S.E.H,!0);v.data={R:S.m.db,pq:U};
if(this.caller)this.caller.T(v)};_.Vz.prototype.enable=function(W,q,X,k){this.e=X;this.caller=q;this.jp(g.N(this.Xm.brush));
if(W&&W.f.$Z!=0)this.Pv=W.f.$Z;this.VJ=k.ahE();this.Sx(X,k)};_.Vz.prototype.QL=function(W,q){if(q==aI.O2){this.Xm.brush=W.cY.wC;
this.Sx(W)}};_.Vz.prototype.Os=function(W,q,X,k,B){for(var U in W)this.Xm[U]=W[U];if(this.Xm.alt[0])this.Sx(B,k,X)};
_.Vz.prototype.aw6=function(W){var q=W.TC.length!=0?-1-W.TC[0]:W.Y[0],X=W.U[q],k=q<0?1:X.pw,B=q<0?W.RH[-q-1]:k<=0?null:k==1?X.Jx():X.Q2(W).BD,U=B?B.c:X.buffer,l=(B?B.S:X.S).P();
return[X,k,B,U,l]};_.Vz.prototype.XX=function(W,q){this.UQ=W.d==null?null:{S:W.d.S.P(),c:W.d.c.slice(0)};
var X=this.pQ,k=this.aw6(W),B=k[0],U=k[1],l=k[2];this.pQ=k[3];this.HZ=k[4];var K=new dU(0,0,W.r,W.$),D=K.xw(this.HZ);
if((this.FP()&&U<=0||D.AB(this.HZ))&&q!=!0){if(X&&X.length==this.pQ.length){X.set(this.pQ);this.pQ=X}else this.pQ=this.pQ.slice(0)}else{if(l)l.extend(D);
else B.extend(D)}};_.Vz.prototype.JN=function(W,q){var X=this.aw6(W),k=X[1],B=X[3],U=X[4],l=[B,U],K=q!=null?q:this.Xm.sfrom;
if(k<=0&&K!=0){l[1]=new dU(0,0,W.r,W.$);l[0]=W.OL(K==1&&W.Y[0]!=W.U.length-1?W.Y[0]:null).slice(0)}this._Y=l[1].P();
this.NY=l[0].slice(0)};_.Vz.prototype.PY=function(W,q,X,k,B,U){if(B.Vj&&k.D(bu.Wr)&&this.bv==null){if(U)this.$C=X.w5;
var l=new ip(S.E.O,!0);l.J=_.Uy;l.data={R:"pickhere",a7Y:B};q.T(l);var K=_.Mo.auT(W,!1,!0,B,null,X.w5,this.$C,1),l=new ip(S.E.H,!0);
l.data={R:S.m.db,pq:K};q.T(l);return!0}return!1};_.Vz.prototype.co=function(W,q,X,k,B,U){if(this.id!=_.lv&&!W.or(this.caller)){this.Ay=null;
return}if(this.id!=_.lv&&this.Ay)return;this.XX(W);var l=new dU(0,0,W.r,W.$),K=null;if(U!=null){var D=W.TC.length!=0?-1-W.TC[0]:W.Y[0],m=W.U[D],Y=D<0?W.RH[-D-1]:m.pw<=0?null:m.pw==1?m.Jx():m.Q2(W).BD;
K=g.j(l.C()*4,W.depth);if(Y)_.Vz.vY(this.pQ,this.HZ,Y.color,K,l);else g.YE(this.pQ,this.HZ,K,l)}var a=this.Xm;
if(this.Ay&&this.id==_.lv&&a.qsmode!=0&&W.d!=null){}else{var p=q.w5,M=q.yY,y=null;if(this.Wf=="erase"){var x=p;
p=M;M=x}var R=this.id==_.lv?this.HZ:l;if(W.Cg)y=[3];else if(W.sY!=-1){var s=W.RM[W.sY];y=[s.gY[0],s.gY[1],s.add.vmsk.G]}this.Ay=new bf(a.brush,q.cY.n5,q.cY.OJ,{hq:B,Tt:U,aF0:a.smth*50/W.f.$Z,Cf:this.id==_.te||a.emode==1,gY:y,depth:W.depth},p,M,R,K)}if(this.id==_.lv){this.Ay.a6n(a.brush,a.qsmode==2?0:16777215)}var F=W.f.uy(k.x,k.y);
if(X.D(bu.m4)&&this.SG){var E=this.SG;this.Ay.moveTo(E.x,E.y,k.Kx);this.Ay.lineTo(.001*E.x+.999*F.x,.001*E.y+.999*F.y,k.Kx);
this.Ay.lineTo(F.x,F.y,k.Kx)}else this.Ay.moveTo(F.x,F.y,k.Kx);this.SG=F;this.up=F.P();this.OZ=new ac(F,W.f.Zi)};
_.Vz.prototype._N=function(W,q,X){if(W&&W.f.$Z!=0&&W.f.$Z!=this.Pv){this.Pv=W.f.$Z;this.Sx(X)}};_.Vz.prototype.QX=function(W,q,X,k){if(this.Ay==null)return;
var B=W.U[W.Y[0]],U=W.f.uy(k.x,k.y),l=this.OZ.uf(U,X);if(l.AB(this.SG))return 1;this.Ay.lineTo(l.x,l.y,k.Kx);
this.SG=l;if(this.id==_.gv||this.id==_.Om){var K=this.cv(),D=11;K=W.f.az(U.x-K.x,U.y-K.y);var m=D>>>1,Y=new dU(Math.round(K.x)-m,Math.round(K.y)-m,D,D),a=g.j(Y.C()*4);
for(var N=0;N<D;N++)a[(N*D+m)*4+3]=a[(D*m+N)*4+3]=255;W.W.L1=[[a,Y]];W.R2=!0}};_.Vz.prototype.yi=function(W,q,X,k){if(X.bt!=this.id)return;
if(this.id!=_.lv||W==null)return;if(W.d==null||W.Y[0]!=this.alk){this.alk=W.Y[0];this.Mr({qsmode:0},q)}};
_.Vz.prototype.I_=function(W,q){if(W.TC.length!=0){W.R2=!0;return}var X=W.U[W.Y[0]];if(q==null){q=this.Ay.Nk();
if(this.FP()&&X.pw<=0)q=q.x$(this.HZ)}var k=X.pw;if(k==1||k==3){var B=Math.round((k==1?X.Jx():X.Q2(W).BD).iE*2.4);
q=q.P();q.Pt(B,B)}if(q.PM())return;if(k<=0){X.I_(q)}if(k==1){X.Jx().Uf=!0;X.Ae(W,q)}if(k==3){X.I_(q)}W.I_(W.root.Ph(q,W,W.Y[0],!0))};
_.Vz.prototype.iY=function(W,q,X,k,B){if(this.Ay==null)return;this.Ay.finish();if(this.id!=_.aw&&this.id!=_.Om&&this.id!=_.lv)this.nR(W);
if(this.id==_.gv||this.id==_.Om){W.W.L1=[];W.R2=!0}if(this.id==_.lv){var U=W.d;W.d=this.UQ;var l=new ip(S.E.O,!0);
l.data={R:"setsel",xJ:this.name,d:U};l.J=_.iK;q.T(l);if(this.Xm.qsmode==0)this.Mr({qsmode:1},q)}else{this.finish(W,this.Ay.NU());
this.Ay=null;this.Nl=null}this.dir=0};_.Vz.prototype.Mr=function(W,q){for(var X in W)this.Xm[X]=W[X];
var k=new ip(S.E.H,!0);k.data={R:S.m.os,J:this.id,Iq:W};q.T(k)};_.Vz.prototype.FP=function(){var W=this.id;
return W==_.lv||W==_.pM||W==_.nH||W==_.A2||W==_.ed||W==_.sx};_.Vz.prototype.finish=function(W,q,X,k,B){var U=W.TC.length!=0?-1-W.TC[0]:W.Y[0],l=W.U[U],K=U<0?1:l.pw,D=U<0?W.RH[-U-1]:K<=0?null:K==1?l.Jx():l.Q2(W).BD,m=D?D.S:l.S,p;
if(this.FP()||!m.AB(this.HZ)){if(D==null){if(this.FP())l.xX();else{var Y=q.xw(this.HZ),a=g.j(Y.C()*4,W.depth);
g.YE(l.buffer,l.S,a,Y);l.buffer=a;l.S=Y}}else D.xX();this.I_(W,m)}if(K<=0){p=g.j(q.C()*4,W.depth);g.YE(this.pQ,this.HZ,p,q)}else{p=g.j(q.C(),W.depth);
p.fill(Math.round(g.bH(W.depth)*D.color/255));g.Z_(this.pQ,this.HZ,p,q)}this.HF(W,!1,X?X:this.name,U,K,q,p,k,B)};
_.Vz.prototype.HF=function(W,q,X,k,B,U,l,K,D){var m=l;if(B>0){m=g.j(U.C()*4,g.Oj(l));_.Vz.vY(l,U,0,m,U)}var Y=new j3(X,this);
Y.data=[{B:k,gj:B,OM:U,Wa:m}];if(K)Y.data.Qo=[W.d,null];if(D)Y.data.Qo=[this.UQ,W.d];W.O_(Y);if(q)this._j(Y.data,W);
else if(K)W.d=null;_.oc.aFY(W,Y.data)};_.Vz.prototype.tG=function(W,q){this.al9(W,q,!1)};_.Vz.prototype._j=function(W,q){this.al9(W,q,!0)};
_.Vz.prototype.Gr=function(W){return _.oc.Gr(W)};_.Vz.prototype.al9=function(W,q,X){if(W.R=="drawtemp"){var k=X?W.atB:W.atg,B=q.U[W.B];
B.dg.LE=k;B.lN(q,0,0,q.d);B.I_();q.qg=!0}else{_.oc.C2(q,W);if(W.Qo){q.d=W.Qo[X?1:0];q.r5=!0}}q.I_()};
_.Vz.prototype.nR=function(W){var q=this.Ay.uY(),X=this.Ay.wu(),k=this.Ay.Nk();this.Lv(W,this.Wf,q,X,k);
this.I_(W)};_.Vz.prototype.Lv=function(W,q,X,k,B){var U=this.Xm,l=W.U[W.Y[0]],K=W.TC.length!=0?W.RH[W.TC[0]]:l.pw<=0?null:l.pw==1?l.Jx():l.Q2(W).BD,D=g.j(B.C()*4,W.depth),m,Y=l.kW(0);
if(K==null){if(this.id==_.Fb&&q=="heal")g.YE(l.buffer,l.S,D,B);else g.YE(this.pQ,this.HZ,D,B);if(Y){m=g.j(B.C(),W.depth);
g.u6(D,m,3)}}else{_.Vz.vY(this.pQ,this.HZ,K.color,D,B)}if(W.d&&q!="qselect"){var a=B.x$(W.d.S),p=g.j(a.C()*4,W.depth);
if(q=="copy"){var M=g.j(a.C(),W.depth);g.Z_(W.d.c,W.d.S,M,a);g.YE(D,B,p,a);g.v.lE(X,k,p,a,M,a,0,a,1,!1)}else{g.YE(X,k,p,a);
g.Jd(W.d.c,W.d.S,p,a)}X=p;k=a}function x(s,hT){var eV=Math.max(hT.x,Math.min(hT.x+hT.r-1,s.x)),gU=Math.max(hT.y,Math.min(hT.y+hT.$-1,s.y));
return new hw(eV,gU)}if(q=="idraw"||q=="ierase"){if(this.Nl==null)this.Nl=g.j(this.HZ.C());var R=U.samp,y=this.e.yY,s=x(this.SG,B),F=R==0?s:this.up,E=F.x,o=F.y,G=_.t6._6(this.pQ,this.HZ,[F,new hw(E-2,o),new hw(E+2,o),new hw(E,o-2),new hw(E,o+2)]);
if(R==2)G=[[y>>>16&255,y>>>8&255,y>>>0&255,255]];var d=_.t6.p8(D,B,s,G,U.wconf),u=g.j(B.C());g.Z_(this.Nl,this.HZ,u,B);
g.Gg.xw(d,u,u);g.Z_(u,B,this.Nl,this.HZ);g.Jd(u,B,X,k);q=q.slice(1)}if(q=="erase"&&(_.oc.aEO(W)!=16777215||K))q="draw";
if(q=="draw")g.v.HX(U.bmode,X,k,D,B,B,U.opacity);else if(q=="erase"){var r=U.opacity;if(this.id==_.cA)r=1;
var v=g.j(B.C()*4,W.depth);g.YE(X,k,v,B);if(K==null){var c=g.j(B.C(),W.depth);g.u6(v,c,3);g.Ky(c,r);
g.i5(c);g.Jd(c,B,D,B)}else{g.t3(v,0,0,0);g.v.HX("norm",v,B,D,B,B,r)}}else if(q=="clone"||q=="heal"){var V=this.cv(),j=this._Y.P();
j.offset(V.x,V.y);var Q=B.P();Q.Pt(1,1);var H=g.j(Q.C()*4,W.depth),T=g.j(Q.C(),W.depth);g.YE(X,k,H,Q);
g.u6(H,T,3);H.fill(0);if(K==null){g.YE(this.NY,j,H,Q);var e=g.j(Q.C(),W.depth);g.u6(H,e,3);g.Fz(e,T)}else _.Vz.vY(this.NY,j,K.color,H,Q);
if(q=="clone"){g.fP(T,H,3);g.v.HX(U.bmode,H,Q,D,B,B,U.opacity)}if(q=="heal"){var z=T.slice(0);g.round(z,g.bH(W.depth)/10);
var J=g.j(Q.C()*4,W.depth);if(K==null)g.YE(this.pQ,this.HZ,J,Q);else _.Vz.vY(this.pQ,this.HZ,K.color,J,Q);
g.v.lE(H,Q,J,Q,z,Q,0,Q,1,!1);var P=g.Cn(J,8);g.n4.fb(P,z,Q);g.Cn(P,W.depth,J);g.v.lE(J,Q,D,B,T,Q,0,B,1,!1)}}else if(q=="dodge"||q=="burn"){var L=B.C()*4,A=g.bH(W.depth),h=1/A,H=g.j(L,W.depth),w=1,f=0,O=0,n=0;
g.YE(X,k,H,B);var C=_.Vz.CJ;if(this.wd){if(q=="dodge")q="burn";else q="dodge"}var $=U.rng;if(q=="dodge"){f=[1-w/2,1,1+w][$];
O=[1,1/(1+w),1][$];n=[w/2,0,0][$]}if(q=="burn"){f=[1/(1-w/2),1,1-w/2][$];O=[1,1+w,1][$];n=[-(w/2)/(1-w/2),0,0][$]}for(var N=0;
N<L;N+=4){var d9=H[N+3]*h;D[N+0]=A*C(D[N+0]*h,f,O,n,d9);D[N+1]=A*C(D[N+1]*h,f,O,n,d9);D[N+2]=A*C(D[N+2]*h,f,O,n,d9)}}else if(q=="sponge"||q=="redeye"){var H=g.j(B.C()*4,W.depth),T=g.j(B.C(),W.depth);
g.YE(X,k,H,B);g.u6(H,T,3);g.cX(D,H);var i=U.smode;if(this.wd)i=1-i;var dF=dY.wy("hue2");if(q=="sponge")cW.jr(dF,0,[0,[-50,46][i],[6,5][i]]);
else cW.jr(dF,1,{DU:[265,305,25,55],al:[0,-90,-70]});var t=dZ.z2("hue2",dF);dZ.GT(t,H,H,B);g.v.lE(H,B,D,B,T,B,0,B,1,!1)}else if(q=="copy")g.YE(X,k,D,B);
else if(q=="sheal"){var H=g.j(B.C()*4,W.depth),T=g.j(B.C(),W.depth);g.YE(X,k,H,B);g.u6(H,T,3);H.fill(0);
var im=this.NY,bc=this._Y;if(K){im=g.j(bc.C()*4,W.depth);_.Vz.vY(this.NY,bc,0,im,bc)}var at=g.Cn(H,8),l9=g.AJ.fb(g.Cn(im,8),bc,g.Cn(T,8),at,B);
g.Cn(at,W.depth,H);if(l9!=0)g.YE(im,bc,H,B);if(U.sfrom==0)g.YE(H,B,D,B);else{g.YE(this.pQ,this.HZ,D,B);
g.fP(T,H,3);g.v.HX("norm",H,B,D,B,B,1)}}else if(q=="qselect"){var fF=this.HZ,g$=fF.r,fR=fF.$,cr=g$*fR,eE=this.Ay.uY(),G=this.pQ,bQ=_.lR.go,T=bQ.Vn;
T.fill(128);for(var N=0;N<cr;N++){var hT=eE[N<<2],df=eE[(N<<2)+3];if(df==255&&(hT==0||hT==255))T[N]=hT}T[0]=T[g$-1]=0;
T[(fR>>>1)*g$]=T[(fR>>>1)*g$+g$-1]=0;_.a8.kC(bQ,!0,W);W.d={S:fF,c:bQ.d.slice(0)};W.r5=!0}if(K==null){if(Y)g.fP(m,D,3);
g.YE(D,B,l.buffer,l.S)}else _.Vz.OH(D,B,K)};_.Vz.cv=function(){return null};_.Vz.CJ=function(W,q,X,k,B){var U=k+q*Math.pow(W,X),l=U*B+W*(1-B);
return Math.max(0,Math.min(1,l))};_.Vz.vY=function(W,q,X,k,B){var U=g.Oj(W),l=g.bH(U),K=g.j(B.C(),U);
K.fill(l*X/255);g.Z_(W,q,K,B);k.fill(l);g.LO(K,k)};_.Vz.OH=function(W,q,X){var k=g.j(q.C(),g.Oj(W));
g.Iv(W,k);g.Z_(k,q,X.c,X.S)};_.lR=function(W,q,X){_.CB.call(this,W,q,X);this.Xm={binop:0,feat:0,cstr:{t:0,x:3,y:2},wconf:[16,!0,!0],anta:!0,sall:!1};
this.mv=new hw(-1,-1);this.UN=new hw(-1,-1);this.k0="default";this.gr=null;this.vr=!1;this.o8=new gM;
this.KI=!1;this.Sc=null;this.d7=null;this.sk=!1;this.A7=!1};_.lR.prototype=new _.CB;_.lR.prototype.p5=function(){var W=this.Xm,q=[W.binop,W.feat],X=W.wconf.slice(0);
X[1]=X[1]?1:0;X[2]=X[2]?1:0;var k=X.join(",")=="16,1,1";if(q[0]==0&&q[1]==0&&k)return null;if(!k)q.push(X);
return q};_.lR.prototype.Ll=function(W,q,X){var k=this.Xm;if(W[0])k.binop=W[0];if(W[1])k.feat=W[1];if(W[2]){var B=k.wconf=W[2].slice(0);
if(typeof B[1]=="number"){B[1]=B[1]==1;B[2]=B[2]==1}}this.Sg(X)};_.lR.prototype.Sg=function(W){var q=new ip(S.E.H,!0);
q.data={R:S.m.os,J:this.id,Xm:this.Xm};W.T(q)};_.lR.go={key:""};_.lR.ul=function(W,q,X){var k={yx:W,Og:{classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}};
if(q)k.Og.T=q;if(X!=null)k.Og.AntA={t:"bool",v:X};return k};_.lR.sT=function(W,q,X){return _.lR.ul("set",{t:"Objc",v:{classID:W,Top:{t:"UntF",v:{type:"#Pxl",val:q.y}},Left:{t:"UntF",v:{type:"#Pxl",val:q.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:q.y+q.$}},Rght:{t:"UntF",v:{type:"#Pxl",val:q.x+q.r}}}},X)};
_.lR.tq=function(W,q,X){var k=[],B=[],l="set";for(var N=0;N<W.length;N+=2){k.push(W[N]);B.push(W[N+1])}var U={t:"Objc",v:{classID:"Plgn",Pts:{t:"ObAr",v:{classID:"Pnt",arr:[{id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:k},{id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:B}]}}}};
if(q)l=["set","addTo","subtractFrom","interfaceWhite"][q];return _.lR.ul(l,U,X)};_.lR.apE=function(W,q,X){var k={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:W.x}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:W.y}}}},B=_.lR.ul("set",k);
B.Og.Tlrn={t:"long",v:q[0]};B.Og.AntA={t:"bool",v:q[1]};B.Og.Cntg={t:"bool",v:q[2]};if(X==!0)B.Og.Mrgd={t:"bool",v:X};
return B};_.lR.XU=function(W){return _.lR.ul("set",{t:"enum",v:{Ordn:W?"Al":"None"}})};_.lR.AF=function(W,q,X){var k={classID:"null"};
if(W!="border")k.selectionModifyEffectAtCanvasBounds={t:"bool",v:X};var B={e:"By",c:"By",b:"Wdth",f:"Rds",s:"Rds"}[W[0]];
k[B]={t:"UntF",v:{type:"#Pxl",val:q}};return{yx:W,Og:k}};_.lR.yu=function(W,q,X){var k={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},B={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:q}}]};
if(X)B.v.push({t:"name",v:{classID:"Lyr",val:X}});var U=[{classID:"null",null:k,T:B},{classID:"null",null:B,T:k},{classID:"null",null:B,From:k},{classID:"null",null:B,With:k}],l=["set","add","subtract","interfaceIconFrameDimmed"];
return{yx:l[W],Og:U[W]}};_.lR.akI=function(){return{yx:"make",Og:{classID:"null",null:{t:"obj ",v:[{t:"Clss",v:{classID:"Path"}}]},From:{t:"obj ",v:[{t:"prop",v:{classID:"csel",keyID:"fsel"}}]},Tlrn:{t:"UntF",v:{type:"#Pxl",val:2}}}}};
_.lR.aK5=function(W,q){var X=new ip(S.E.H,!0);X.data={R:S.m.Dt,rl:aI.U$};if(!q.$O)W.T(X);X.data={R:S.m.Dt,rl:aI.AK};
if(!q.bm.xx)W.T(X)};_.lR.prototype.s4=function(W,q,X,k,B){_.lR.aK5(q,B);this.gr=q;var U=W.R,l,K,D=new dU(0,0,X.r,X.$),fS=!1,f1,c4,ea,ie;
if(U=="fromAction"){var m=W.lz,Y=m.yx,a=m.Og,p=a?a.selectionModifyEffectAtCanvasBounds:null,M=p&&p.v;
if(Y=="colorRange"){if(a.Clrs){var x=a.Clrs.v.Clrs,R=0,y=255,s=["Shdw","Mdtn","Hghl"].indexOf(x),G=.4;
if(s==0)y=60;else if(s==1){R=100;y=150}else R=190;var F=["shadows","midtones","highlights"][s],E=a[F+"LowerLimit"],o=a[F+"UpperLimit"];
if(E)R=E.v;if(o)y=o.v;var d=a[F+"Fuzziness"];if(d)G=d.v/100;l=_.lR.Bh(X,R,y,G,!0)}else{var R=a.Mnm.v,y=a.Mxm.v,G;
R={xd:R.Lmnc.v,iM:R.A.v,X:R.B.v};y={xd:y.Lmnc.v,iM:y.A.v,X:y.B.v};G=a.Fzns.v/200;l=_.lR.Bh(X,R,y,G)}K=[7,8]}else if(Y=="inverse"){if(X.d==null){alert("No selection!");
return}l={c:g.j(D.C(),X.depth),S:D};g.Z_(X.d.c,X.d.S,l.c,l.S);g.i5(l.c);K=[7,2]}else if(Y=="expand"){var u=a.By.v.val,r=X.d.S.P();
r.Pt(u,u);var v=g.j(r.C()),c=g.j(r.C(),X.depth);g.Z_(X.d.c,X.d.S,c,r);g.style.stroke(g.Cn(c,8),v,r,u);
l={c:g.Cn(v,X.depth),S:r};K=[7,4]}else if(Y=="contract"){var u=a.By.v.val,V=X.d.S.P();V.Pt(1,1);if(!M)V=V.x$(D);
var c=g.j(V.C(),X.depth),j=g.j(c.length,8);g.Z_(X.d.c,X.d.S,c,V);g.i5(c);g.style.stroke(g.Cn(c,8),j,V,u);
g.i5(j);l={c:g.Cn(j,X.depth),S:V};g.xX(l);K=[7,5]}else if(Y=="border"){var u=a.Wdth.v.val;l=_.lR.aet(X.d,u/2,u/2);
K=[7,9]}else if(Y=="feather"||Y=="smoothness"){var u=a.Rds.v.val;l=_.lR.aht(X.d,u,Y=="smoothness",D,M);
K=Y=="feather"?[7,6]:[19,3,0]}else if(Y=="move"){var Q=a.T.v,r=X.d.S.P();r.x+=Q.Hrzn.v.val;r.y+=Q.Vrtc.v.val;
l={c:X.d.c,S:r};K=[7,7]}else if(Y=="grow"||Y=="similar"){var H=this.Xm.wconf.slice(0);if(a.Tlrn)H[0]=a.Tlrn.v;
H[2]=Y=="grow";var T=X.OL(),e=new dU(0,0,X.r,X.$),z=X.d.S,J=Math.max(1,Math.round(Math.sqrt(z.C())/10)),P=g.j(e.C());
g.Z_(X.d.c,z,P,e);var L=[];for(var A=0;A<z.$;A+=J)for(var h=(z.C()+A)%J;h<z.r;h+=J)if(X.d.c[A*z.r+h]==255){var C=new hw(z.x+h,z.y+A);
L.push(C);if(H[2])g.Gg.xw(_.t6.p8(T,e,C,null,H),P,P)}if(!H[2])g.Gg.xw(_.t6.p8(T,e,C,_.t6._6(T,e,L),H),P,P);
l={c:P,S:e};K=Y=="grow"?"Grow Selection":"Similar Selection";console.log(a)}else{var w=a.null.v,f=a.AntA!=null&&a.AntA.v;
function O(gf){return g.b.V5(g.BI.wu(gf,X.r,X.$),!0)}function n(gf){var h5=gf[0].arr,gS=gf[1].arr,hP={n:[],zb:[]};
for(var N=0;N<h5.length;N++){hP.zb.push(N==0?"M":"L");hP.n.push(h5[N],gS[N])}hP.zb.push("Z");if(gf[0].uID=="#Prc")g.b.M(hP.n,new ka(X.r/100,0,0,X.$/100,0,0),hP.n);
return hP}var $=["set","addTo","subtractFrom","interfaceWhite"].indexOf(Y),d9=a.T?a.T.v:null;if(d9&&d9.classID=="Elps"){l=this.arn(_.DR.adL(O(d9)),X.depth);
K=[10,4]}else if(d9&&d9.classID=="Rctn"){var i=O(d9);l={c:g.j(i.C(),X.depth),S:i.P()};l.c.fill(g.bH(X.depth));
K=[10,15]}else if(d9&&d9.classID=="ObSl"){var i=O(d9),dF=_.lR.go,t=dF.S,im=dF.Vn,bc=t.r,at=t.$,l9=i.x-t.x,fF=l9+i.r-1,g$=Math.max(l9,Math.min(fF,l9+fF>>>1)),fR=i.y-t.y,cr=fR+i.$-1,eE=Math.max(fR,Math.min(cr,fR+cr>>>1)),bQ=Math.max(l9,0),hT=Math.min(fF,bc),df=Math.max(fR,0),eV=Math.min(cr,at);
im.fill(128);if(0<=fR)for(var h=bQ;h<hT;h++)im[fR*bc+h]=0;if(cr<at)for(var h=bQ;h<hT;h++)im[cr*bc+h]=0;
if(0<=l9)for(var A=df;A<eV;A++)im[A*bc+l9]=0;if(fF<bc)for(var A=df;A<eV;A++)im[A*bc+fF]=0;var gU=_.t_.abN,i8=Math.round(i.r*gU),bv=Math.round(i.$*gU);
for(var h=Math.max(0,g$-i8);h<Math.min(bc,g$+i8);h++)im[eE*bc+h]=255;for(var A=Math.max(0,eE-bv);A<Math.min(at,eE+bv);
A++)im[A*bc+g$]=255;_.a8.kC(dF,!0);l={c:dF.d.slice(0),S:t.P()};K=[10,44]}else if(d9&&d9.classID=="Plgn"){l=this.arn(n(d9.Pts.v.arr),X.depth);
K=[10,9]}else if(d9&&d9.classID=="Pnt"){l=_.t6.ao8(X,new hw(d9.Hrzn.v.val,d9.Vrtc.v.val),[a.Tlrn.v,f,a.Cntg==null||a.Cntg.v],a.Mrgd?a.Mrgd.v:!1);
K=[10,12]}else if(d9&&d9.Ordn=="None"){l=null;K=[7,1]}else if(d9&&d9.Ordn=="Al"){var fE=D;if(X.Y.length!=0){var d5=X.root.Vf(X.Y[0]);
while(d5.parent&&d5.parent.parent)d5=d5.parent;if(d5.B.add.artb)fE=d5.B.La()}l={c:g.j(fE.C(),X.depth),S:fE};
l.c.fill(g.bH(X.depth));K=[7,0]}else if(d9&&d9[0]&&d9[0].v.keyID=="WrPt"){var aR={R:"frompath",jX:[-1,0,0]};
this.s4(aR,q,X,k,B);return}else{var l8=["set","add","subtract","interfaceIconFrameDimmed"].indexOf(Y),au=Y=="set"?d9:w,hx=au[0].v.enum,aR;
if(hx=="Trsp"||hx=="Gray"||hx=="Msk"||hx=="vectorMask"||hx=="Trgt"){var fw=X.Y[0];if(au.length==2)fw=j0.EZ(X,au[1]);
var cx=["Trsp","Msk","vectorMask"].indexOf(hx);if(hx=="Trgt"&&X.U[fw].pw==1)cx=1;if(hx=="Gray")cx=-1;
aR={R:"fromlayer",jX:[fw,cx,l8]}}else{if(au[0].t=="name"){var fw=0;for(var N=0;N<X.RH.length;N++)if(X.RH[N].name==au[0].v.val)fw=N;
aR={R:"fromchannel",jX:[-5-fw,0,l8]}}else{var fg=["RGB","Rd","Grn","Bl"].indexOf(hx);aR={R:"fromchannel",jX:[-1-fg,0,l8]}}}this.s4(aR,q,X,k,B);
return}if(l){if(!f)g.round(l.c);if(a.Fthr)l=_.lR.aht(l,a.Fthr.v.val,!1);if(Y!="set"&&X.d!=null)l=g.Gg.kX(l,X.d,$)}}if(Y=="expand"||Y=="contract")if(!M&&!D.contains(l.S)){var iI=l.S.x$(D),eq=g.j(iI.C(),X.depth);
g.Z_(l.c,l.S,eq,iI);l.c=eq;l.S=iI}}if(U=="qmask"){fS=!0;var i$=X.hh(),e=new dU(0,0,X.r,X.$);if(i$){l=i$.S.AB(e)&&g.Xe(i$.c,255)?null:{S:i$.S.P(),c:i$.c.slice(0)};
f1=i$}else{l=null;c4=new b.pj;c4.color=0;c4.name="Quick Mask";c4.kA=!0;if(X.d){c4.S=X.d.S.P();c4.c=X.d.c.slice(0)}else{c4.S=e;
c4.c=g.j(c4.S.C());c4.c.fill(255)}}K=[6,6,1];X.qg=!0}if(U=="setsel"){l=W.d;K=W.xJ}if(U=="crange"){var R=W.fF,y=W.qK;
l=_.lR.Bh(X,R,y,W.su);K=[7,8]}if(U=="fromlayer"||U=="fromchannel"||U=="frompath"){var cI=W.jX[0],cx=W.jX[1],$=W.jX[2];
if(U=="fromlayer"){if(cI==null)cI=X.Y[0];var cD=X.U[cI];if(cx<=0){if(cD.S3()){var d5=X.root.Vf(cI);l={c:g.j(0),S:new dU};
for(var N=0;N<d5.children.length;N++){var fG=d5.children[N].B;if(fG.S.PM())continue;var cH=g.j(fG.S.C());
g.u6(fG.buffer,cH,3);var hL={c:cH,S:fG.S.P()};if(N==0)l=hL;else l=g.Gg.kX(l,hL,1)}if(l.S.PM())return}else{var ee=cD.S,aj=cD.buffer;
if(ee.PM())return;var iA=g.j(aj.length>>>2,X.depth);if(cx==0)g.u6(aj,iA,3);if(cx==-1)g.Iv(aj,iA);l={c:iA,S:ee.P()}}}else{if(cD.BD==null)cD.Ae(X);
var eL=cx==1?cD.Jx():cD.BD;if(cx==3)eL=cD.Q2(X).BD;l=_.lR.aAA(eL,D)}this.track(_.lR.yu($,["Trsp","Msk"][cx],cD.getName()))}else if(U=="frompath"){var hZ=X.Yb(),bZ=hZ[1],hZ=hZ[0],iU=!0;
if(cI==null)if(hZ.length==0||bZ.length==0)return;var k_=hZ[bZ[0]];if(cI!=null)for(var N=0;N<hZ.length;
N++)if(hZ[N].bT==cI)k_=hZ[N];var eL=k_.add.vmsk.Jx(),kW=eL.wu();if(kW.C()==0)return;var iA=eL.mj();if(W.jX[3]!=null)iU=W.jX[3];
if(!iU){iA=iA.slice(0);g.round(iA)}ea=[JSON.stringify(X.Lf),JSON.stringify(X.sh)];ie=["[]","[]"];X.Lf=[];
X.sh=[];l={c:iA,S:kW}}else if(U=="fromchannel"){if(cI==null)cI=_.lR.aDU(X);l=_.lR.a9R(X,cI)}if($!=0&&X.d)l=g.Gg.kX(l,X.d,$);
K=[14,11]}if(U=="bgrm"){if(_.lR.asz(X,q,W,B))return;var kO=window.locStor.getItem("bgrmt");if(kO==null)kO=0;
var hq=24*60*60,e8=_.lR.amo.bind([X,q,W,B]),gi=Math.floor((Date.now()-kO)/1e3);if(!ky.tM(1)&&gi<hq&&ky.YB(B,1)==null){var jZ=gv.jj(),cg=jZ?"Out of AI credits :( Now, you":"Non-Premium users",hn=cg+" can use it once a day ("+((hq-gi)/60).toFixed(1)+" min remain). "+(jZ?"":"Go Premium for $5 a month (press Account at the top).")+" \nWatch a short ad and skip waiting?";
bB.QG(e8,hn,"rmbg")}else e8();return}if(l!=null&&g.Xe(l.c,0)){l=null;K=[7,1]}if(l)g.xX(l);var bF=new j3(K,this);
bF.data={R:"changesel",d:l,hh:fS,aq_:f1,ap3:c4,Zh:ea,agm:ie};X.O_(bF);this._j(bF.data,X)};_.lR.asz=function(W,q,X,k){var B=W.U[W.Y[0]],U=B.S,l=B.buffer,K=U.r,D=U.$,m=[0,0,K-1,0,0,D-1,K-1,D-1],Y=!0;
for(var N=0;N<4;N+=2){var a=(m[N+1]*K+m[N])*4,p=0;for(var M=0;M<3;M++){p+=(l[M]-l[a+M])*(l[M]-l[a+M])}if(p>25)Y=!1}if(Y&&B.Jx()==null&&W.d==null){var x=g.j(K*D);
for(var N=0;N<4;N++){var R=m[N*2],y=m[N*2+1],s=20,F=1,E=null;if(x[y*K+R]>200)continue;while(s<120){var o=_.t6.p8(l,U,new hw(R,y),null,[s,!0,!0]),G=0;
for(var M=0;M<o.length;M++)G+=o[M];var d=s<50?1.015:1.004;if(E&&G>F*d)break;E=o;F=G;s+=10}for(var M=0;
M<E.length;M++)x[M]=Math.max(x[M],E[M])}g.i5(x);_.lR.aJ8(B,q,x,U,X._,null);alert(ia.wl("5[[eD_??KH6@J:*54(-A2 ~nyv qb\\sSc_\\TP^=@7<>Z"),2500);
return!0}return!1};_.lR.amo=function(){var W=this[0],q=this[1],X=this[2],k=this[3],B=2,U=W.U[W.Y[0]],l=U.S,K=U.buffer,D=1,m=[4096,4096,2048][B];
while(Math.max(l.r,l.$)>m){var Y=g.ly(K,l);l=Y.S;K=Y.kl;D*=2}var a=lf.c_("png"),p=lf.c_("jpg"),M=p._M([[K.buffer]],l.r,l.$),x=new FormData;
x.append("image",new Blob([M],{type:"ima"+"ge/j"+"pg"}));x.append("mode","mask");var R=new ip(S.E.H,!0);
R.data={R:S.m.dW,RU:"Processing ..."};q.T(R);window.a8V=Date.now();var y=function(s){console.log(Date.now()-window.a8V);
var F=s.target.response,E=new Uint8Array(F);if(E.length!=0){var o=a.Vp(F)[0],G=o.oq,d=g.j(G.C());g.Iv(new Uint8Array(o.data),d);
for(var N=0;N<d.length;N++){if(d[N]>250)d[N]=255}if(D!=1){var Y=_.Gz.yt([d,G],new ka(D,0,0,D,0,0));G=Y.S;
d=Y.c}G.x=U.S.x;G.y=U.S.y;_.lR.aJ8(U,q,d,G,X._,ia.wl("AQVUYE\\{}"));if(ky.YB(k,1)==null){ky.H3("Rem"+"ove B"+"G",1);
window.locStor.setItem("bgrmt",Date.now())}}else{alert("An error occured :( we are trying to fix it.")}var R=new ip(S.E.H,!0);
R.data={R:S.m.xA,RU:"Processing ..."};q.T(R)};ky.aso(ia.wl("aQVUYEi<87<5=7:0#"),x,ky.YB(k,1),y)};_.lR.aJ8=function(W,q,X,k,B,U){var l=new ip(S.E.O,!0);
if(B==1){l.J=_.b9;l.data={R:b.PU,vP:U,ao_:!0,Bz:"HdAl"};q.T(l);var K=W.Jx();K.color=0;K.S=k;K.c=X;K.xX();
W.Ae()}else if(B==2){l.J=_.iK;l.data={R:"setsel",d:{c:X,S:k},xJ:"Select Subject"};q.T(l)}else throw"e"};
_.lR.aDU=function(W){var q=0;if(W.TC.length!=0)q=-5-W.TC[0];else if(JSON.stringify(W.f.K7)=="[1,1,1]")q=-1;
else q=-2-W.f.K7.indexOf(1);return q};_.lR.a9R=function(W,q){var X,k=new dU(0,0,W.r,W.$);if(-5<q&q<0){var B=-q-1,U=W.OL(),l=g.j(k.C());
if(B==0)g.Iv(U,l);else g.u6(U,l,B-1);X={c:l,S:k.P()}}if(q<-4){X=_.lR.aAA(W.RH[-q-5],k)}return X};_.lR.aAA=function(W,q){var X,k;
if(W.yM()==0){k=W.wu().P();if(k.C()==0)return;X=W.mj()}else{k=q;X=g.j(k.C());W.sA(k,X)}return{c:X,S:k}};
_.lR.prototype.Ps=function(W){return this.KI||W.Vj&&this.id!=_.fX};_.lR.prototype.hv=function(W,q,X){var k=new ip(q,!0);
k.data=X;W.T(k)};_.lR.prototype.a59=function(W,q){var X=new ip(S.E.H,!0);X.data={R:S.m.db,pq:q};W.T(X)};
_.lR.prototype.wu=function(W,q,X){q=W.d==null||this.o8.Rk(1)||this.o8.uS(1)?q:null;var k=this.mv,B=this.UN;
if(X){k.x=Math.max(0,Math.min(W.r,k.x));k.y=Math.max(0,Math.min(W.$,k.y));B.x=Math.max(0,Math.min(W.r,B.x));
B.y=Math.max(0,Math.min(W.$,B.y))}var U=_.Wp.Lp(k,B,q,!0,this.Xm.cstr),l=U[0].x,K=U[0].y,D=new dU(l,K,U[1].x-l,U[1].y-K);
if(X){D.x=Math.max(D.x,0);D.y=Math.max(D.y,0)}return D};_.lR.prototype.mc=function(W,q,X,k,B){this.A7=!0;
if(this.ux())return;this.gr=q;this.vr=!1;this.o8.mc(k);this.mv=W.f.uy(B.x,B.y);this.mv=_.U6.W1(W,this.mv,X);
if(this.aKx(W,this.mv,k)){this.KI=!0;this.Sc=W.d.S.P();return}this.S4(W,X,k,B);W.f.q3=new dU};_.lR.prototype.aKx=function(W,q,X){var k=X.D(bu.m4),B=X.D(bu.Wr);
if(W.d&&!k&&!B&&this.Xm.binop==0)return g.Sj(q,W.d.c,W.d.S);return!1};_.lR.prototype.lG=function(W,q,X,k,B){this.gr=q;
if(this.sk)return;var U=W.f.uy(B.x,B.y);if(hw.tj(this.mv,U)*W.f.$Z>5){this.vr=!0;this.o8.lG()}if(k.D(bu.BC)){if(this.d7==null)this.d7=new hw(U.x-this.mv.x,U.y-this.mv.y);
this.mv.x=U.x-this.d7.x;this.mv.y=U.y-this.d7.y}else this.d7=null;this.UN=U;if(!this.KI&&this.id!=_.fX)this.UN=_.U6.W1(W,this.UN,X);
if(this.aKx(W,this.UN,k))this.a59(q,"move");else this.a59(q,this.k0);if(this.KI){var l=this.Sc.P();l.x+=this.UN.x-this.mv.x;
l.y+=this.UN.y-this.mv.y;var K=_.U6.T2(W,l,X);W.d.S.x=Math.round(this.UN.x-this.mv.x+this.Sc.x+K[0]);
W.d.S.y=Math.round(this.UN.y-this.mv.y+this.Sc.y+K[1]);W.r5=!0;_.U6.FJ(W,l,K);return}this.HL(W,X,k,B,q);
if(W.f.q3)W.f.q3=this.wu(W,k)};_.lR.prototype.ux=function(){return!1};_.lR.prototype.iY=function(W,q,X,k,B,U){var l=this.A7;
this.A7=!1;if(U||!l)return;W.f.q3=null;this.UN=W.f.uy(B.x,B.y);this.UN=_.U6.W1(W,this.UN,X);if(this.KI){this.KI=!1;
if(W!=null&&W.W.Bk){W.W.Bk=null;W.R2=!0}if(this.UN.AB(this.mv)&&this.XC()==0){this.hv(q,S.E.dq,_.lR.XU());
return}this.aAr(W,this.Sc,W.d.S.P());return}this.qO(W,X,k,B,q);_.lR.aK5(q,X);this.o8.iY();this.Ct(q)};
_.lR.prototype.aAr=function(W,q,X){var k=W.d2();if(k!=null&&k.J==this&&k.data.R=="movesel"){}else{k=new j3([7,7],this);
k.data={R:"movesel",xG:q};W.O_(k)}k.data.OV=X;this._j(k.data,W)};_.lR.prototype.$J=function(W,q,X,k,B){this.sk=!0};
_.lR.prototype.xM=function(W,q,X,k,B){var U=new ip(S.E.H,!0);U.data={R:S.m.os,J:this.id,Dv:B,BL:W,e:X};
q.T(U);this.sk=!1};_.lR.prototype.jm=function(W,q,X,k){this.o8.jm(k);if(W!=null&&W.d!=null){var B=k.wp();
if(B.x!=0||B.y!=0){var U=W.d.S.P();U.x+=B.x;U.y+=B.y;this.aAr(W,W.d.S.P(),U)}}this.Ct(q)};_.lR.prototype.Ct=function(W){var q=new ip(S.E.H,!0);
q.data={R:S.m.os,J:this.id,zi:this.XC()};W.T(q)};_.lR.prototype.XC=function(){var W=this.o8.Rk(0),q=this.o8.uS(0);
return _.lR._q(this.Xm.binop,W,q)};_.lR._q=function(W,q,X){if(q)W=1;if(X)W=2;if(q&&X)W=3;return W};_.lR.prototype.finish=function(W,q,X,k){var B=W.d,U=this.getSelection(W,q,X,k);
if(U==null)U=_.lR.XU();else{var l=this.Xm.feat,K=this.XC();if(l!=0)U.Og.Fthr={t:"UntF",v:{type:"#Pxl",val:l}};
if(K!=0&&K!=4)U.yx=["","addTo","subtractFrom","interfaceWhite",""][K]}this.hv(this.gr,S.E.dq,U);this.mv.cQ(-1,-1);
this.UN.cQ(-1,-1)};_.lR.prototype.getSelection=function(W,q,X,k){return null};_.lR.prototype.S4=function(W,q,X,k){};
_.lR.prototype.HL=function(W,q,X,k){};_.lR.prototype.qO=function(W,q,X,k){};_.lR.prototype.tG=function(W,q){var X=W.R;
if(X=="changesel"){var k=q.d;q.d=W.d;W.d=k}if(X=="movesel")q.d.S=W.xG;if(W.hh){if(W.aq_){q.TC=[q.RH.length];
q.RH.push(W.aq_)}else{q.RH.pop();q.TC=[]}}if(W.Zh){q.Lf=JSON.parse(W.Zh[0]);q.sh=JSON.parse(W.Zh[1])}q.r5=!0};
_.lR.prototype._j=function(W,q){var X=W.R;if(X=="changesel"){var k=q.d;q.d=W.d;W.d=k}if(X=="movesel")q.d.S=W.OV;
if(W.hh){if(W.ap3){q.TC=[q.RH.length];q.RH.push(W.ap3)}else{q.RH.pop();q.TC=[]}}if(W.Zh){q.Lf=JSON.parse(W.agm[0]);
q.sh=JSON.parse(W.agm[1])}q.r5=!0};_.lR.prototype.Gr=function(W){return W.R=="changesel"&&W.d?W.d.c.length:0};
_.lR.prototype.Os=function(W){for(var q in W.Xm)this.Xm[q]=W.Xm[q]};_.lR.prototype.arn=function(W,q){var X=g.b.DS(W.n);
if(X.PM())return null;var k=g.Nm(X.r,X.$);k.save();k.beginPath();k.translate(-X.x,-X.y);Typr.U.pathToContext({cmds:W.zb,crds:W.n},k);
k.closePath();k.fill();k.restore();var B=g.j(X.C()),U=k.getImageData(0,0,X.r,X.$);g.u6(new Uint8Array(U.data.buffer),B,3);
if(q!=8)B=g.Cn(B,q);return{S:X,c:B}};_.lR.aht=function(W,q,X,k,B){if(X)q=Math.round(q*.7);var U=Math.ceil(2.6*q),l=W.S.P();
l.Pt(U,U);if(k&&!B)l=l.x$(k);var K=g.j(l.C(),g.Oj(W.c));g.Z_(W.c,W.S,K,l);g.Zt.Yd(K,l,q);if(X){var D=K.length,m=g.bH(g.Oj(K)),Y=m/2;
for(var N=0;N<D;N++){var a=(K[N]-Y)*q*2.5;K[N]=Math.max(0,Math.min(m,Y+a))}}return{c:K,S:l}};_.lR.aet=function(W,q,X){var k=g.Oj(W.c),B=g.Cn(W.c,8),U=Math.max(1,Math.ceil(X)),l=W.S.P();
l.Pt(U,U);var K=l.C(),D={c:g.j(K),S:l},m=g.j(K);g.Z_(B,W.S,m,D.S);if(X!=0)g.style.stroke(m,D.c,D.S,X);
else g.cX(m,D.c);var Y=g.j(K);g.i5(m);if(q!=0)g.style.stroke(m,Y,D.S,q);else g.cX(m,Y);g.Gg.x$(D.c,Y,D.c);
D.c=g.Cn(D.c,k);return D};_.lR.Bh=function(W,q,X,k,B){var U=new dU(0,0,W.r,W.$),l=W.OL();if(W.d){var K=W.d.S.x$(U),D=g.j(K.C()*4);
g.YE(l,U,D,K);U=K;l=D}var m=U.C(),Y=g.j(m),a=1/k;if(B){if(q>=X)q=X-1;var p=q*(1-k),M=q,x=X,R=X+(255-X)*k,y=p==M?0:1/(M-p),s=x==R?0:1/(R-x);
for(var N=0;N<m;N++){var F=N<<2,E=g.jN(l[F],l[F+1],l[F+2]),o=0;if(E<p)o=0;else if(E<M)o=(E-p)*y;else if(E<=x)o=1;
else if(E<=R)o=1-(E-x)*s;else o=0;Y[N]=l[F+3]*o*o}}else for(var N=0;N<m;N++){var F=N<<2,G=g.j7(l[F],l[F+1],l[F+2]),o=g.ae0(G,q,X,k,a);
Y[N]=l[F+3]*o}return{S:U,c:Y}};_.fL=function(){_.Vz.call(this,[10,18],_.rb,"tools/blur");this.Wf="copy"};
_.fL.prototype=new _.Vz;_.fL.prototype.mc=function(W,q,X,k,B){var U=k.D(bu.Wr)?bf.bl:bf.rb;this.co(W,X,k,B,this.Xm.strn,U);
if(this.Ay==null)return;this.nR(W)};_.fL.prototype.lG=function(W,q,X,k,B){this._N(W,q,X);if(this.bv)this.c1(W,X,B);
if(this.Ay==null)return;if(!B.Vj)return;this.QX(W,X,k,B);this.nR(W)};_.br=function(){_.Vz.call(this,[10,0],_.AC,"tools/brush");
this.Wf="draw"};_.br.prototype=new _.Vz;_.br.prototype.mc=function(W,q,X,k,B){if(this.PY(W,q,X,k,B,!0))return;
this.co(W,X,k,B,this.Xm.flow);if(this.Ay==null)return;this.nR(W)};_.br.prototype.lG=function(W,q,X,k,B){if(this.PY(W,q,X,k,B))return;
this._N(W,q,X);if(this.bv)this.c1(W,X,B);if(this.Ay==null)return;if(!B.Vj)return;this.QX(W,X,k,B);this.nR(W)};
_.ba=function(){_.Vz.call(this,[10,42],_.Uc,"tools/crepl");this.Wf="idraw";this.Xm.bmode="hue "};_.ba.prototype=new _.Vz;
_.ba.prototype.mc=function(W,q,X,k,B){if(this.PY(W,q,X,k,B,!0))return;this.co(W,X,k,B,this.Xm.flow);
if(this.Ay==null)return;this.nR(W)};_.ba.prototype.lG=function(W,q,X,k,B){if(this.PY(W,q,X,k,B))return;
this._N(W,q,X);if(this.bv)this.c1(W,X,B);if(this.Ay==null)return;if(!B.Vj)return;this.QX(W,X,k,B);this.nR(W)};
_.e0=function(){_.Vz.call(this,[10,43],_.sx,"tools/redeye");this.Xm.smode=0;this.Wf="redeye"};_.e0.prototype=new _.Vz;
_.e0.prototype.mc=function(W,q,X,k,B){this.co(W,X,k,B,this.Xm.flow);if(this.Ay==null)return;this.nR(W)};
_.e0.prototype.lG=function(W,q,X,k,B){this._N(W,q,X);if(this.bv)this.c1(W,X,B);if(this.Ay==null)return;
if(!B.Vj)return;this.QX(W,X,k,B);this.nR(W)};_.T1=function(){_.Vz.call(this,[10,38],_.te,"tools/pencil");
this.Wf="draw"};_.T1.prototype=new _.Vz;_.T1.prototype.mc=function(W,q,X,k,B){if(this.PY(W,q,X,k,B,!0))return;
this.co(W,X,k,B,this.Xm.flow);if(this.Ay==null)return;this.nR(W)};_.T1.prototype.lG=function(W,q,X,k,B){if(this.PY(W,q,X,k,B))return;
this._N(W,q,X);if(this.bv)this.c1(W,X,B);if(this.Ay==null)return;if(!B.Vj)return;this.QX(W,X,k,B);this.nR(W)};
_.Hy=function(){_.Vz.call(this,[10,22],_.A2,"tools/burn");this.Wf="burn"};_.Hy.prototype=new _.Vz;_.Hy.prototype.mc=function(W,q,X,k,B){this.co(W,X,k,B,this.Xm.expo/Math.E);
if(this.Ay==null)return;this.nR(W)};_.Hy.prototype.lG=function(W,q,X,k,B){this._N(W,q,X);if(this.bv)this.c1(W,X,B);
if(this.Ay==null)return;if(!B.Vj)return;this.QX(W,X,k,B);this.nR(W)};_.Oy=function(W,q,X){_.Vz.call(this,W==""?null:W?W:[10,1],q?q:_.gv,X?X:"tools/clone");
this.Wf="clone";this.h$=null;this.h=null};_.Oy.prototype=new _.Vz;_.Oy.prototype.mc=function(W,q,X,k,B){var U=this.Xm,l=U.alt[0];
if(k.D(bu.Wr)||k.D(bu.RI)||l){this.h$=W.f.uy(B.x,B.y);this.h=null;if(l)this.Mr({alt:[!1]},q);this.JN(W);
this.Sx(X,k,W,B);return}if(this.h$==null){alert(js.get([15,7,0]));return}this.Sx(X,k);this.co(W,X,k,B,this.Xm.flow);
if(this.Ay==null)return;this.h=this.a9A(W.f.uy(B.x,B.y));this.nR(W)};_.Oy.prototype.a9A=function(W){var q=this.h;
if(q==null||!this.Xm.algnd)q=new hw(Math.round(W.x-this.h$.x),Math.round(W.y-this.h$.y));return q};_.Oy.prototype.lG=function(W,q,X,k,B){this._N(W,q,X);
if(this.bv)this.c1(W,X,B);if(this.Ay==null){if(this.h$!=null)this.Sx(X,k,W,B);return}if(!B.Vj||this.h$==null)return;
this.QX(W,X,k,B);this.nR(W)};_.Oy.prototype.cv=function(){return this.h};_.HB=function(){_.CB.call(this,[10,53],_.a27,"tools/csamp");
this.Ya=-1;this.gN=null};_.HB.prototype=new _.CB;_.HB.prototype.mc=function(W,q,X,k,B){this.gN=JSON.stringify(W.Eo);
var U=W.f.uy(B.x,B.y),l=W.Eo,K=1e9,D=-1;for(var N=0;N<l.length;N++){var m=l[N],Y=U.x-m.x,a=U.y-m.y,p=Y*Y+a*a;
if(p<K){K=p;D=N}}var M=15/W.f.$Z;D=K<M*M?D:-1;if(D==-1){D=l.length;l.push({x:U.x,y:U.y})}else if(k.D(bu.Wr)){l.splice(D,1);
D=-1}this.Ya=D;W.R2=!0};_.HB.prototype.lG=function(W,q,X,k,B){var U=this.Ya;if(U!=-1){var l=W.f.uy(B.x,B.y);
W.Eo[U].x=l.x;W.Eo[U].y=l.y;W.R2=!0}};_.HB.prototype.iY=function(W,q,X,k,B,U){var l=new j3(this.name,this);
l.data={bG:this.gN,O4:JSON.stringify(W.Eo)};W.O_(l);this.Ya=-1};_.HB.prototype.tG=function(W,q){q.Eo=JSON.parse(W.bG)};
_.HB.prototype._j=function(W,q){q.Eo=JSON.parse(W.O4)};_.wW=function(W,q,X){_.CB.call(this,W,q,X);this.Xm={e3:{t:0,x:0,y:0},ip:!1,Fw:!1};
this.Hv=!1;this.k0=_.t7();this.h_=null;this.cursor=null;this.adO=0;this.c5=null;this.mv=null;this.K0=null;
this.Nv=!1;this.dV=!1};_.wW.prototype=new _.CB;_.wW.prototype.mf=function(){return this.h_!=null};_.wW.prototype.Ps=function(W){return this.mv!=null||this.h_&&this.h_.awV()};
_.wW.prototype.mc=function(W,q,X,k,B){this.c5=B;var U=W.f.uy(B.x,B.y),l=this.Xm.e3,K=l.t!=0?l.x/l.y:null,D=this.Nv;
this.Nv=!1;if(this.h_){var m=this.h_.x4(U,W.f.$Z);if(D&&m==null){this.h_.clear(W);this.h_=null}else{this.h_.mc(W,X,k,U,K,!1,B);
this.dV=!1;return}}this.mv=_.U6.W1(W,U,X)};_.wW.prototype.iT=function(W,q,X){if(X==null)X=[W.x,W.y,W.x+W.r,W.y,W.x+W.r,W.y+W.$,W.x,W.y+W.$];
return new k1(X,!0,!1,this.id==_.MX,!0,q,this.id==_.MX?2:0,this.id==_.MX?4:3)};_.wW.prototype.Sx=function(W){var q=new ip(S.E.H,!0);
q.data={R:S.m.db,pq:this.cursor};W.T(q)};_.wW.prototype.enable=function(W,q,X,k){this.gr=q;this.cursor=this.k0;
this.Sx(q);if(W!=null&&this.h_==null){var B=W.d?{wh:"cropby",aaI:3}:{wh:"config",Xm:this.Xm,anq:!0};
this.Os(B,q,W,k,X);if(W.d==null&&this.Xm.e3.t==0)this.Nv=!0;this.dV=!0}};_.wW.prototype.lG=function(W,q,X,k,B){this.c5=B;
var U=W.f.uy(B.x,B.y);if(!B.Vj){var l=this.k0;if(this.h_){var K=this.h_.x4(U,W.f.$Z,null,B);if(K)l=K;
else l="default"}if(l!=this.cursor){this.cursor=l;this.Sx(q)}}if(this.h_)this.h_.lG(W,X,k,U);else if(this.mv){if(this.Hv){W.W.Qc={zb:["M","L"],n:[this.mv.x,this.mv.y,U.x,U.y]}}else{var D=_.Wp.Lp(this.mv,_.U6.W1(W,U,X),k,!0,this.Xm.e3),m=D[0].x,Y=D[0].y,a=this.K0=new dU(m,Y,D[1].x-m,D[1].y-Y);
W.W.Qc=g.b.Lw(a);_.CB.tJ(B,a,W,X)}W.R2=!0}};_.wW.ajJ=function(W,q,X){var k,B,K,D;if(q<=X){k=q;B=X}else{k=X;
B=q}var U=W-Math.floor((W+Math.PI)/(2*Math.PI))*2*Math.PI;U=Math.abs(U);if(U>Math.PI/2)U=Math.PI-U;var l=k/(B*Math.sin(U)+k*Math.cos(U));
if(q<=X){K=k*l;D=B*l}else{K=B*l;D=k*l}return{Ah:K,QB:D}};_.wW.prototype.iY=function(W,q,X,k,B){this.c5=B;
var U=W.f.uy(B.x,B.y);if(this.h_==null){var l=this.K0;if(this.mv&&(l||this.Hv)){if(this.Hv){var K=this.mv,D=U,m=D.x-K.x,Y=D.y-K.y;
if(Math.abs(m)<Math.abs(Y))D=new hw(K.x-Y,K.y+m);if(K.x>D.x){var a=K;K=D;D=a}var K=Math.atan2(-(D.y-K.y),D.x-K.x),p=_.wW.ajJ(K,W.r,W.$);
if(this.Xm.Fw){var M=g.b.Lw(new dU(0,0,W.r,W.$)),x=new ka;x.rotate(K);g.b.M(M.n,x,M.n);p=g.b.DS(M.n);
p={Ah:p.r,QB:p.$}}var R=[0,0,p.Ah,0,p.Ah,p.QB,0,p.QB],y=new ka;y.translate(-p.Ah/2,-p.QB/2);y.rotate(K);
y.translate(W.r/2,W.$/2);g.b.M(R,y,R);this.h_=this.iT(l,!1,R);this.Hv=!1}else{var s=this.Xm.e3;this.h_=this.iT(l,s.t!=0)}this.dV=!1;
this.h_.Ib(W,X);this.K0=null;this.hv(q,S.E.H,{R:S.m.os,J:this.id,cO:!0});this.mv=null;W.W.L1=[];W.W.Qc=null;
W.R2=!0}return}this.h_.iY(W,X,k,U);this.hv(q,S.E.H,{R:S.m.os,J:this.id,cO:!0});var R=this.h_.LP();if(Math.abs(R[0]-R[4])<2&&Math.abs(R[1]-R[5])<2){this.zu(W,q,null,k);
return}if(Date.now()-this.adO<200&&this.h_.kY(U)){this._3(W,X);this.zu(W,q,X,k);return}this.adO=Date.now()};
_.wW.prototype.jm=function(W,q,X,k){var B=this.h_;if(B==null||this.c5&&this.c5.Vj)return;if(k.D(bu.$H)){this._3(W,X);
this.zu(W,q,X,k)}else if(k.D(bu.hJ)){this.zu(W,q,X,k)}else B.jm(W,X,k)};_.wW.apq=function(W,q,X){var k={classID:"null",T:{t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:W[1]}},Left:{t:"UntF",v:{type:"#Pxl",val:W[0]}},Btom:{t:"UntF",v:{type:"#Pxl",val:W[1]+W[3]}},Rght:{t:"UntF",v:{type:"#Pxl",val:W[0]+W[2]}}}},Angl:{t:"UntF",v:{type:"#Ang",val:q!=null?q:0}},Dlt:{t:"bool",v:X!=null?X:!0},cropAspectRatioModeKey:{t:"enum",v:{cropAspectRatioModeClass:"pureAspectRatio"}},CnsP:{t:"bool",v:!1}};
return{yx:"crop",Og:k}};_.wW.Km=function(W,q){if(q==null)q=[!0,!0,!0,!0];var X={classID:"trim",trimBasedOn:{t:"enum",v:{trimBasedOn:["topLeftPixelColor","bottomRightPixelColor","Trns"][W]}}},k=["Top","Left","Btom","Rght"];
for(var N=0;N<4;N++)X[k[N]]={t:"bool",v:q[N]};return{yx:"trim",Og:X}};_.wW.UL=function(W,q,X,k,B){var U={classID:"null"};
if(k!=null){U.Wdth={t:"UntF",v:B?{type:"#Prc",val:W*100}:{type:"#Pxl",val:W}};U.Hght={t:"UntF",v:B?{type:"#Prc",val:q*100}:{type:"#Pxl",val:q}};
U.Intr={t:"enum",v:{Intp:["Nrst","Blnr","bicubicSharper"][k]}}}if(X!=null)U.Rslt={t:"UntF",v:{type:"#Rsl",val:X}};
return{yx:"imageSize",Og:U}};_.wW.atP=function(W,q,X,k){if(X==null)X=4;if(k==null)k=!1;var B=Math.floor(X/3),U=X%3;
return{yx:"canvasSize",Og:{classID:"null",Wdth:{t:"UntF",v:{type:"#Pxl",val:W}},Hght:{t:"UntF",v:{type:"#Pxl",val:q}},Hrzn:{t:"enum",v:{HrzL:["Left","Cntr","Rght"][U]}},Vrtc:{t:"enum",v:{VrtL:["Top","Cntr","Btom"][B]}},Rltv:{t:"bool",v:k}}}};
_.wW.prototype.s4=function(W,q,X,k,B){var U=new dU(0,0,X.r,X.$),l=[11,3],K=X.mC,D=X.r/2,m=X.$/2,dF=1,fw,cx,fg;
function Y(ie,N){return ie[N]+2*ie[N+1]+ie[N+2]>>>2}if(W.R=="cropAndStr"){var a=X.U[X.Y[0]],p=a.buffer,M=a.S,x=M.r,R=M.$,y=x+2,s=[0,0,x-1,0,x-1,R-1,0,R-1],F,E=1e9,P=0;
for(var N=0;N<4;N++)for(var o=N+1;o<4;o++){var G=s[2*N],d=s[2*N+1],u=(d*x+G)*4,r=(s[2*o+1]*x+s[2*o])*4,v=p[u]-p[r],c=p[u+1]-p[r+1],V=p[u+2]-p[r+2],j=v*v+c*c+V*V;
if(j<E){E=j;F=new hw(G+.5,d+.5)}}var Q=Date.now(),H=_.t6.p8(a.buffer,M,F,null,[16,!1,!0]);g.i5(H);var T=M.P();
T.Pt(1,1);var e=g.j(T.C());g.Z_(H,M,e,T);var z=e.slice(0);for(var d=0;d<R;d++)for(var G=0;G<x;G++){var o=d*x+G;
if(H[o]==255&&Y(p,o*4)>200){var N=(d+1)*y+G+1;e[N]=z[N-y]&z[N-1]&z[N+1]&z[N+y]}}var J=g.b.Kk(e,T.r,T.$,0),L=new ip(S.E.H,!0);
L.data={R:S.m.Zk};var Q=Date.now();for(var A=0;A<J.length;A++){var h=J[A].path.n;if(J[A].IH.C()<2500)continue;
var C=g.b.adB(h,P==3);for(var N=0;N<C.length;N++)C[N]-=1;var w=new hw(C[0],C[1]),f=Math.ceil(hw.tj(w,new hw(C[2],C[3]))),O=Math.ceil(hw.tj(w,new hw(C[6],C[7]))),n=new dU(0,0,f,O),$=g.j(n.C()*4),h=g.F.b6(C,new dU(-1,-1,f+2,O+2));
h=g.F.i5(h);h=g.F.xY(h,g.F.af(new ka(M.r,0,0,M.$,M.x,M.y)));g.F.drawImage(h,a.buffer,M.r,M.$,$,n);P++;
var d9=L.data.LV=new ey("Image "+P+".psd");d9.r=f;d9.$=O;var i=d9.Sh();i.YY("Background");i.buffer=$;
i.S=n;d9.U.push(i);q.T(L)}return}if(W.R=="fromAction"){var t=W.lz,im=t.yx,bc=t.Og,at=X.r/X.$,y=bc.Wdth?bc.Wdth.v.val:-1,l9=bc.Hght?bc.Hght.v.val:-1,K=bc.Rslt?bc.Rslt.v.val:null,fF=bc.Wdth?bc.Wdth.v.type:bc.Hght?bc.Hght.v.type:-1,g$=1,fR;
if(fF=="#Prc"){if(y!=-1)y=Math.round(X.r*y/100);if(l9!=-1)l9=Math.round(X.$*l9/100)}if(im=="imageSize"){if(bc.Intr){if(bc.Intr.v.Intp=="Nrst")g$=0;
if(bc.Intr.v.Intp=="bicubicSharper")g$=2;if(y==-1&&l9==-1){var cr=K/X.mC;y=Math.round(X.r*cr);l9=Math.round(X.$*cr)}if(bc.CnsP&&bc.CnsP.v){if(y==-1)y=Math.round(l9*at);
if(l9==-1)l9=Math.round(y/at)}}else{if(fF=="#Prc")K=Math.round(X.mC*(X.r/y));else if(fF==-1)K=Math.round(K);
else throw"e";y=X.r;l9=X.$}fR={R:"imgsize",Dd:y,Eb:l9,CP:K,v5:g$}}else if(im=="canvasSize"){if(y==-1)y=X.r;
if(l9==-1)l9=X.$;if(bc.Rltv&&bc.Rltv.v==!0){if(bc.Wdth)y+=X.r;if(bc.Hght)l9+=X.$}var eE=bc.Vrtc?bc.Vrtc.v.VrtL:"Cntr",bQ=bc.Hrzn?bc.Hrzn.v.HrzL:"Cntr";
fR={R:"canvsize",Dd:y,Eb:l9,Fy:3*["Top","Cntr","Btom"].indexOf(eE)+["Left","Cntr","Rght"].indexOf(bQ)}}else if(im=="revealAll"){fR={R:"revealAll"}}else if(im=="trim"){var hT={topLeftPixelColor:0,bottomRightPixelColor:1,Trns:2}[bc.trimBasedOn.v.trimBasedOn];
if(hT==null)throw"e";var df=["Top","Left","Btom","Rght"],eV=[!0,!0,!0,!0];for(var N=0;N<4;N++)if(bc[df[N]])eV[N]=bc[df[N]].v;
fR={R:"trim",ak4:hT,T$:eV}}else if(im=="crop"){var G,d,x,R;if(bc.T){var gU=bc.T.v,G=Math.round(gU.Left.v.val),d=Math.round(gU.Top.v.val),x=Math.round(gU.Rght.v.val)-G,R=Math.round(gU.Btom.v.val)-d}else{var M=X.d.S;
G=M.x;d=M.y;x=M.r;R=M.$}fR={R:"canvsize",Dd:x,Eb:R,h:new hw(G,d),aoE:bc.Dlt!=null&&bc.Dlt.v}}else console.log(t);
if(fR)this.s4(fR,q,X,k,B);return}else if(W.R=="imgsize"){U=new dU(0,0,W.Dd,W.Eb);if(W.CP)K=W.CP;dF=W.v5}else if(W.R=="canvsize"){var i8=W.Fy!=null?W.Fy:0;
U=new dU(0,0,W.Dd,W.Eb);var bv=X.r-W.Dd,fE=X.$-W.Eb,d5=Math.round(bv/2),aR=Math.round(fE/2);if(i8==1||i8==4||i8==7)U.x=d5;
if(i8==2||i8==5||i8==8)U.x=bv;if(i8==3||i8==4||i8==5)U.y=aR;if(i8==6||i8==7||i8==8)U.y=fE;if(W.h){U.x=W.h.x;
U.y=W.h.y}}else if(W.R=="rot"&&(W._+2*Math.PI)%(Math.PI/2)!=0){var l8=g.b.Lw(U).n,au=new ka;au.translate(-D,-m);
au.rotate(W._);au.translate(D,m);g.b.M(l8,au,l8);U=g.b.DS(l8)}else if(W.R=="rot"&&W._!=Math.PI&&W._!=-Math.PI){U=new dU(D-X.$/2,m-X.r/2,X.$,X.r);
if((X.r+X.$&1)==1){D=Math.floor(D);m=Math.floor(m);U=new dU(D-Math.floor(X.$/2),m-Math.floor(X.r/2),X.$,X.r);
if((X.r&1)==1&&W._!=-Math.PI/2)U.y--;if((X.$&1)==1&&W._==-Math.PI/2)U.x--}}else if(W.R=="trim"){l=[11,12,0];
var hx=X.OL(),M=new dU(0,0,X.r,X.$);U=g.BF(hx,M,W.ak4,W.T$);if(U.PM())U=M}else if(W.R=="revealAll"){l=[11,12,2];
U=X.root.wu(X,!0)}var iI=W.R=="canvsize"&&W.aoE;if(W.R=="imgsize"||W.R=="rot"||W.R=="scl"||iI){var eq=new ka;
if(W.R=="imgsize"){l=[11,10];eq.scale(W.Dd/X.r,W.Eb/X.$);fg=X.sO();for(var N=0;N<fg[0].length;N++)fg[0][N][1]*=fg[0][N][0]==0?eq.iM:eq.kv}else if(iI){}else{eq.translate(-D,-m);
if(W.R=="rot")eq.rotate(W._);if(W.R=="scl")eq.scale(W._.x,W._.y);eq.translate(D,m);l=W.xJ}cx=g.F.af(eq);
fw=this.io(X,B,!0,cx,dF,iI?U:null)}else if(W.R=="auto-align"){if(X.Y.length<2){alert("Select two or more layers.");
return}var fS=[];for(var N=0;N<X.Y.length;N++){var a=X.U[X.Y[N]];if(!a.xn()&&a.add.SoLd==null){alert("Unsupported layer selected.");
return}if(a.S.PM()){alert("Empty layer selected.");return}fS.push([a.buffer,a.S])}var f1=g.My.Ve(fS);
if(f1==null){alert("No similarity found.");return}cx=f1[1];fw=this.io(X,B,!1,f1,dF);U=X.root.wu(X,!0);
l=[2,10,1]}var c4=new dU(0,0,X.r,X.$);if(!U.PM()&&(!U.AB(c4)||fw!=null)){var ea=new j3(l,this);ea.data={_V:X.mC,CP:K,mO:fw,Kq:cx,KS:_.wW.aaO(X,U,c4,fw!=null)};
if(fg){ea.data.Of=X.sO();ea.data.pZ=fg}_.wW.a1Z(X,ea.data,U);X.O_(ea);this._j(ea.data,X,!0)}};_.wW.aaO=function(W,q,X,k){if(W.Ev.length==0)return null;
var B=JSON.stringify(W.Ev),U=JSON.parse(B);_.r1.akm(U,q,X,k);U=JSON.stringify(U);return[B,U]};_.wW.prototype.io=function(W,q,X,k,B,U,l){var K={U:[],zy:null,$M:!0};
if(X)K.U=_.Gz.J1(W);else K.U=W.Y.slice(0);K.zy=_.Gz.tl(W,K.U,!0);var D=Math.abs(k[3]*k[1])>1e-9;_.Gz.yW(W,q,K.U,K.zy,B,k,null,!0,D&&g.F.iU(k)?null:U);
if(X&&l&&W.or()){var m=W.U[W.Y[0]],Y=m.buffer,a=m.S,p=D?a.P():U.P(),M=g.j(p.C()*4),x=g.j(a.C());g.u6(Y,x,3);
var R=g.j(p.C());g.Z_(x,a,R,p);g.round(R,255);g.i5(R);var y=g.AJ.fb(Y,a,R,M,p);if(y==0){m.S=p;m.buffer=M}}return K};
_.wW.prototype._j=function(W,q,X){if(W.CP)q.mC=W.CP;if(W.KS)q.Ev=JSON.parse(W.KS[1]);if(W.mO){_.wW.Yf(q,g.F.bI(W.Kq));
if(X==null)_.Gz.XS(q,W.mO);if(W.pZ)q.Ov(W.pZ)}_.wW.uF(q,W)};_.wW.prototype.tG=function(W,q){if(W._V)q.mC=W._V;
if(W.KS)q.Ev=JSON.parse(W.KS[0]);_.wW.sd(q,W);if(W.qQ)q.f.h.ny(W.qQ);q.alJ();if(W.mO){var X=g.F.bI(W.Kq).P();
X.i5();_.wW.Yf(q,X);_.Gz.XS(q,W.mO);if(W.Of)q.Ov(W.Of)}};_.wW.Yf=function(W,q){for(var N=0;N<W.U.length;
N++){var X=W.U[N];if(X.add.artb==null)continue;var k=g.b.Lw(X.La()).n;g.b.M(k,q,k);var B=g.b.DS(k);X.VA(B)}};
_.wW.GY=function(W){var q=new dU,X=0,k=W.root.children.length;for(var N=0;N<k;N++){var B=W.root.children[N].B;
if(B.add.artb==null)continue;q=q.xw(B.La());X++}var U=new dU(0,0,W.r,W.$);if(!q.PM()&&!U.AB(q))return q;
return null};_.wW.G7=function(W){var q=_.wW.GY(W);if(q)_.wW.ip(W,q,!0);return q};_.wW.ip=function(W,q,X){var k=W.r,B=W.$,U=q.r,l=q.$,K=q.x==0&&q.y==0;
if(K&&k==U&&B==l)return;W.r=U;W.$=l;var D=[];for(var N=0;N<W.U.length;N++)D.push(N);if(!K)_.U6.c8(W,D,null,-q.x,-q.y);
for(var N=0;N<W.U.length;N++){W.U[N].Ae(W)}W.alJ();if(X){var m=W.f.h,Y=W.f.$Z;m.x+=Math.round((q.x+(U-k)/2)*Y);
m.y+=Math.round((q.y+(l-B)/2)*Y)}else W.f.h.cQ(0,0);if(W.d)W.d.S.offset(-q.x,-q.y);var a=W.sO();for(var p=0;
p<a[0].length;p++)if(a[1][p]==-1){var M=W.UZ[p];M[1]-=M[0]==0?q.x:q.y}for(var N=0;N<W.RH.length;N++)W.RH[N].S.offset(-q.x,-q.y);
for(var N=0;N<W.RM.length;N++)g.z.Y9(W.RM[N].add.vmsk.G,new ka(1,0,0,1,-q.x,-q.y))};_.wW.prototype.Os=function(W,q,X,k,B){if(W.wh=="commit"){this._3(X,B);
this.zu(X,q,null,k)}else if(W.wh=="cancel"){this.zu(X,q,null,k)}var U=null,l=new dU(0,0,X.r,X.$),K=this.Xm.e3;
if(W.wh=="config"){this.Xm=W.Xm;K=this.Xm.e3;if(X==null||!W.anq)return;U=l;if(K.t==1){var D=K.x/K.y;
if(U.r/D<U.$)U.$=Math.round(U.r/D);else U.r=Math.round(U.$*D)}if(K.t==2){U.r=K.x;U.$=K.y}U.x=Math.round((X.r-U.r)/2);
U.y=Math.round((X.$-U.$)/2);this.dV=!1}if(W.wh=="straighten"){alert("Draw a line in the image.");this.Hv=!0}if(W.wh=="cropby"){if(X==null)return;
var m=W.aaI,U;if(m==0)U=X.root.wu(X,!0);if(m==1){if(X.Y.length==0)alert("No layer is selected.");else{var Y=X.root.Vf(X.Y[0]);
U=Y.wu(X,!0)}}if(m==2){if(X.Y.length==0)alert("No layer is selected.");else{U=g.BF(X.OL(),l,0);if(U.PM())U=l.P()}}if(m==3){if(X.d!=null)U=X.d.S;
else alert("There is no selection.")}if(m==4){U=new dU(0,0,X.r,X.$)}}if(U&&U.PM())U=null;if(U!=null){this.h_=this.iT(U,K.t!=0);
this.h_.Ib(X,B);this.hv(q,S.E.H,{R:S.m.os,J:this.id,cO:!0})}};_.CB.mJ(_.wW);_.wW.prototype._3=function(W,q){var X=this.h_.LP(),k=g.b.DS(X),B=this.aEj(W,X),U=!1,l=this.Xm,K=l.e3,D=l.ip,m=K.x,Y=K.y,M;
if(this.id==_.mq&&K.t==2&&B.C()!=m*Y){B=new dU(B.x,B.y,m,Y);U=!0}var a=g.F.b6(X,B);a=g.F.i5(a);var p=!g.F.iU(a),x=Math.abs(Math.atan2(a[3],a[0]))>1e-9,R=new dU(0,0,W.r,W.$);
if(x||p||U||D||l.Fw)M=this.io(W,q,!0,a,1,k,l.Fw);if(!x&&!p&&!U&&B.AB(R))return;var y=new j3(this.name,this);
y.data={mO:M,Kq:a,qQ:W.f.h.P(),KS:_.wW.aaO(W,B,R,!1)};if(K.mC!=null){y.data._V=W.mC;y.data.CP=K.mC}_.wW.a1Z(W,y.data,B);
W.O_(y);this._j(y.data,W,!0);this.track(_.wW.apq([k.x,k.y,k.r,k.$],null,D))};_.wW.a1Z=function(W,q,X){if(X==null)return;
q.xG=new dU(0,0,W.r,W.$);q.OV=X};_.wW.uF=function(W,q){if(q.OV==null)return;_.wW.ip(W,q.OV)};_.wW.sd=function(W,q){if(q.OV==null)return;
var X=q.xG.P();X.offset(-q.OV.x,-q.OV.y);_.wW.ip(W,X)};_.wW.prototype.aEj=function(W,q){var X=g.F.b6(q),k=g.F.iU(X),B=g.F.bI(X),U=B.Wy,l=B.rY,K=Math.atan2(B.X,B.iM);
B.rotate(K);var D=new dU(U,l,B.iM,B.kv);if(!k){function m(E,N,o){var G=E[N]-E[o],d=E[N+1]-E[o+1];return Math.sqrt(G*G+d*d)}var Y=m(q,0,2),a=m(q,4,6),p=Math.max(Y,a),M=m(q,2,4),x=m(q,6,0),R=Math.max(M,x),y=_.wW.Ba(q,W.r/2,W.$/2),s,F;
if(isNaN(y)||y==Infinity||y==-Infinity||Math.min(y,1/y)<.1)y=(Y+a)/(M+x);if(p/R>y){s=p*1;F=s/y}else{F=R*1;
s=F*y}D.r=s;D.$=F}D.x=Math.round(D.x);D.y=Math.round(D.y);D.r=Math.round(D.r);D.$=Math.round(D.$);return D};
_.wW.Ba=function(W,q,X){var k=W[0]-q,B=W[1]-X,U=W[2]-q,l=W[3]-X,K=W[6]-q,D=W[7]-X,m=W[4]-q,Y=W[5]-X,a=((B-Y)*K-(k-m)*D+k*Y-B*m)/((l-Y)*K-(U-m)*D+U*Y-l*m),p=((B-Y)*U-(k-m)*l+k*Y-B*m)/((D-Y)*U-(K-m)*l+K*Y-D*m),M=-((p*D-B)*(a*l-B)+(p*K-k)*(a*U-k))/((p-1)*(a-1));
function x(y){return y*y}var R=Math.sqrt((x(a-1)+x(a*l-B)/M+x(a*U-k)/M)/(x(p-1)+x(p*D-B)/M+x(p*K-k)/M));
if(a==1&&p==1)R=Math.sqrt((x(l-B)+x(U-k))/(x(D-B)+x(K-k)));return R};_.wW.prototype.zu=function(W,q,X,k){if(W==null)return;
if(this.h_)this.h_.clear(W);this.h_=null;this.hv(q,S.E.H,{R:S.m.os,J:this.id,cO:!1})};_.wW.prototype.disable=function(W,q,X,k){if(this.h_&&!this.dV)this._3(W,X);
this.zu(W,q,X,k)};_.wW.prototype.hv=function(W,q,X,k){var B=new ip(q,!0);B.data=X;if(k)B.J=k;W.T(B)};
_.am5=function(){_.wW.call(this,[10,2],_.mq,"tools/rcrop")};_.am5.prototype=new _.wW;_.auF=function(){_.wW.call(this,[10,39],_.MX,"tools/pcrop")};
_.auF.prototype=new _.wW;_.r0=function(){_.Vz.call(this,[10,21],_.nH,"tools/dodge");this.Wf="dodge"};
_.r0.prototype=new _.Vz;_.r0.prototype.mc=function(W,q,X,k,B){this.co(W,X,k,B,this.Xm.expo/Math.PI);
if(this.Ay==null)return;this.nR(W)};_.r0.prototype.lG=function(W,q,X,k,B){this._N(W,q,X);if(this.bv)this.c1(W,X,B);
if(this.Ay==null)return;if(!B.Vj)return;this.QX(W,X,k,B);this.nR(W)};_.gz=function(){_.Vz.call(this,[10,3],_.pM,"tools/eraser");
this.Wf="erase"};_.gz.prototype=new _.Vz;_.gz.prototype.mc=function(W,q,X,k,B){this.co(W,X,k,B,this.Xm.flow);
if(this.Ay==null)return;this.nR(W)};_.gz.prototype.lG=function(W,q,X,k,B){this._N(W,q,X);if(this.bv)this.c1(W,X,B);
if(this.Ay==null)return;if(!B.Vj)return;var U=this.QX(W,X,k,B);this.nR(W)};_.dI=function(){_.Vz.call(this,[10,45],_.cA,"tools/beraser");
this.Wf="ierase"};_.dI.prototype=new _.Vz;_.dI.prototype.mc=function(W,q,X,k,B){if(this.PY(W,q,X,k,B,!0))return;
this.co(W,X,k,B,this.Xm.flow);if(this.Ay==null)return;this.nR(W)};_.dI.prototype.lG=function(W,q,X,k,B){if(this.PY(W,q,X,k,B))return;
this._N(W,q,X);if(this.bv)this.c1(W,X,B);if(this.Ay==null)return;if(!B.Vj)return;this.QX(W,X,k,B);this.nR(W)};
_.Cz=function(){_.lR.call(this,[10,15],_.iK,"tools/rselect");this.k0=_.t7()};_.Cz.prototype=new _.lR;
_.Cz.prototype.HL=function(W,q,X,k){if(!k.Vj||!this.vr)return;var B=this.wu(W,X,!0);W.W.Qc=g.b.Lw(B);
W.R2=!0;_.CB.tJ(k,B,W,q)};_.Cz.prototype.qO=function(W,q,X,k){W.W.Qc=null;W.W.L1=[];W.R2=!0;this.finish(W,q,X,k)};
_.Cz.prototype.getSelection=function(W,q,X,k){if(this.mv.AB(this.UN)||!this.vr)return null;var B=this.wu(W,X,!0);
if(B.PM())return null;return _.lR.sT("Rctn",B,this.Xm.anta)};_.CB.mJ(_.Cz);_.DR=function(){_.lR.call(this,[10,4],_.a6k,"tools/eselect");
this.k0=_.t7()};_.DR.prototype=new _.lR;_.DR.prototype.HL=function(W,q,X,k){if(!k.Vj||!this.vr)return;
var B=this.wu(W,X);W.W.Qc=_.DR.adL(B);W.R2=!0;_.CB.tJ(k,B,W,q)};_.DR.prototype.qO=function(W,q,X,k){W.W.Qc=null;
W.W.L1=[];W.R2=!0;this.finish(W,q,X,k)};_.DR.prototype.getSelection=function(W,q,X,k){if(this.mv.AB(this.UN)||!this.vr)return null;
var B=this.wu(W,X);if(!B.ty(new dU(0,0,W.r,W.$)))return null;return _.lR.sT("Elps",B,this.Xm.anta)};
_.DR.adL=function(W){var q=W.x,X=W.y,k=W.x+W.r,B=W.y+W.$,U=(q+k)/2,l=(X+B)/2,K=(q-k)/2,D=(X-B)/2,m=.5522848,Y={n:[U,l-D],zb:["M","C","C","C","C"]};
Y.n.push(U+m*K,l-D,U+K,l-m*D,U+K,l);Y.n.push(U+K,l+m*D,U+m*K,l+D,U,l+D);Y.n.push(U-m*K,l+D,U-K,l+m*D,U-K,l);
Y.n.push(U-K,l-m*D,U-m*K,l-D,U,l-D);return Y};_.CB.mJ(_.DR);_.Mo=function(W){_.CB.call(this,[10,5],W?_.Jb:_.Uy,"tools/eyedropper");
this.PX=null;this.aBn=!1;this.$C=0;this.cR=null;this.W9=1;this.yr=2;this.aDQ=!0;this.uO=!1};_.Mo.prototype=new _.CB;
_.Mo.prototype.Ps=function(W){return W.Vj};_.Mo.prototype.enable=function(W,q,X,k,B){_.CB.prototype.enable.call(this,W,q,X,k,B);
this.aBn=B};_.Mo.prototype.s4=function(W,q,X,k,B){if(W.R=="pickhere")this.jS(X,q,B,null,W.a7Y);if(W.R=="supertool")this.PX=W.J};
_.Mo.prototype.mc=function(W,q,X,k,B){var U=this.PX;if(U){U.mc(W,q,X,k,B);return}if(cC==0){this.cR=B;
this.$C=X.w5;var l=this.jS(W,null,X,k,B);this.Sx(W,q,l,B)}};_.Mo.prototype.lG=function(W,q,X,k,B){if(cC!=0)return;
var U=this.PX;if(U){U.lG(W,q,X,k,B);return}var l=this.cR;if(l){var K=B.x-l.x,D=B.y-l.y,m=1,Y=new hw(l.x+K*m,l.y+D*m),a=this.jS(W,null,X,k,Y);
this.Sx(W,q,a,Y,new hw(K*(1-m),D*(1-m)))}};_.Mo.prototype.Sx=function(W,q,X,k,B){var U=this.aDQ,l=this.uO;
if(W.f.$Z>4)l=!1;if(!l&&!U)return;var K=_.Mo.auT(W,l,U,k,B,X,this.$C,this.W9),D=new ip(S.E.H,!0);D.data={R:S.m.db,pq:K};
q.T(D)};_.Mo.prototype.iY=function(W,q,X,k,B,U){var l=this.PX;if(l){l.iY(W,q,X,k,B);return}if(cC==0){this.jS(W,q,X,k,B);
if(this.cR){this.cR=null;if(U)this.jS(W,q,X,k,B,this.$C);var K=new ip(S.E.H,!0);K.data={R:S.m.db,pq:"default"};
q.T(K)}}else{var D=W.f.uy(B.x,B.y),m;if(k.D(bu.m4)){var Y=W.pI(),a=new Uint8Array(W.CZ(X)),p=Math.floor(D.x),M=Math.floor(D.y),N=(M-Y.y)*Y.r+p-Y.x;
if(Y.BS(new hw(p,M))){var x=a[N*4+3];if(x==0)m={jg:[1,1,1]};else m={jg:[a[N*4]/255,a[N*4+1]/255,a[N*4+2]/255]}}}else{var R=W.root.Sj(new hw(Math.floor(D.x),Math.floor(D.y)));
if(R==null)return;var y=R.B.add,s=y.TySh;m=y.vstl;if(m==null&&s){var F=s.FZ,E=gZ.J0(F,0,1);m={jg:E.n6.FillColor.Values.slice(1),rD:[]}}}if(m==null)return;
var K=new ip(S.E.H);K.data={R:S.m.Dt,rl:aI.z7,_:g.N(m)};q.T(K)}};_.Mo.prototype.jS=function(W,q,X,k,B,U){if(U==null)U=_.Mo.NR(W,B,this.W9,this.yr);
var l=new ip(S.E.H);l.data={R:S.m.Dt,rl:aI.Z$,w7:!this.aBn&&k&&k.D(bu.Wr)?1:0,_:U};if(q)q.T(l);return U};
_.Mo.auT=function(W,q,X,k,B,U,l,K){if(B==null)B=new hw(0,0);var D=new dU(0,0,W.r,W.$),m=W.OL(),Y=12,a=11,p=(Y*2+1)*a,M=new hw(p/2,p/2),x=new dU(0,0,p,p),R=g.j(x.C()*4),y=W.f.uy(k.x,k.y),s=Math.floor(y.x),F=Math.floor(y.y),E=new ka;
E.scale(1/a,1/a);E.translate(s-Y,F-Y);if(q)g.scale.Z6(m,D,E,R,x);var o=(Y-3.4)*a,G=(Y-1.7)*a,d=Y*a;for(var u=0;
u<p;u++)for(var r=0;r<p;r++){var v=hw.tj(new hw(r,u),M);if(v>o){if(X){var c=Math.max(0,o-v+1),V=(u*p+r)*4,j=R[V+3]<<24|R[V]<<16|R[V+1]<<8|R[V+2],Q=255<<24|(u<d+a*.5?U:l);
if(v>G){c=Math.max(0,G-v+1);j=Q;Q=4286611584}else if(!q){j=Q&16777215}R[V+0]=(1-c)*(Q>>>16&255)+c*(j>>>16&255);
R[V+1]=(1-c)*(Q>>>8&255)+c*(j>>>8&255);R[V+2]=(1-c)*(Q>>>0&255)+c*(j>>>0&255);R[V+3]=(1-c)*(Q>>>24&255)+c*(j>>>24&255)}if(v>d){R[(u*p+r)*4+3]=Math.max(0,255*(d-v+1))}}}function H(N){var im=N<<2;
R[im]=0;R[im+1]=0;R[im+2]=0;R[im+3]=255}function T(N){var im=N<<2;R[im]=255;R[im+1]=255;R[im+2]=255;
R[im+3]=255}var e=K*a+2,z=p-e>>>1,J=z+e-1;if(q&&e<p)for(var N=0;N<e;N++){var P=z*p+z+N,L=J*p+z+N,A=(z+N)*p+z,h=(z+N)*p+J;
H(P);H(L);H(A);H(h);if(N!=0&&N!=e-1){T(P+p);T(L-p);T(A+1);T(h-1)}}if(!q)for(var N=-9;N<=9;N++){if(-3<N&&N<3)continue;
var C=p>>>1,r=C*p+C+N,u=(C+N)*p+C;T(r-p);H(r);T(r+p);T(u-1);H(u);T(u+1)}var w=U>>>16&255,O=U>>>8&255,n=U>>>0&255,$="RGB "+w+","+O+","+n,d9=g.s6([w/255,O/255,n/255]);
if(W.add.fcmy)$="CMYK "+d9.map(function(im){return Math.round(im*100)}).join(",");var i=_.CB.V3(0,0,["#"+g.Ga(U),$]),D=i[1];
D.y=0;D.x=p-D.r>>>1;g.YE(i[0],D,R,x);return{S0:R,OM:x,Qv:new hw(M.x+B.x,M.y+B.y)}};_.Mo.NR=function(W,q,X,k,B){if(k==null)k=2;
var U=W.f.uy(q.x,q.y),l,K,D=W.Y.length==1&&W.U[W.Y[0]].pw>0&&B!=!0,m=W.TC.length!=0,G=0,d=0,u=0;if(D||m){var Y;
if(m)Y=W.RH[W.TC[0]];else{var a=W.U[W.Y[0]];Y=a.pw==1?a.Jx():a.aqs()}K=Y.wu();if(!K.BS(U))return Y.color==0?0:16777215;
l=g.j(K.C()*4);l.fill(255);var p=Y.mj();g.LO(p,l)}else if(k==0&&W.Y.length!=0){var a=W.U[W.Y[0]];l=a.buffer;
K=a.S}else{l=k==2?W.OL():W.OL(W.Y[0]);K=new dU(0,0,W.r,W.$)}var M=Math.floor(U.x)-K.x,x=Math.floor(U.y)-K.y,R=(X-1)/2,y=Math.max(0,M-R),s=Math.max(0,x-R),F=Math.min(K.r,M+R+1),E=Math.min(K.$,x+R+1),o=(F-y)*(E-s);
for(var M=y;M<F;M++)for(var x=s;x<E;x++){var N=4*(x*K.r+M);G+=l[N];d+=l[N+1];u+=l[N+2]}var r=g.Oj(l),v=r==8?255:r==16?65535:1,c=255/(v*o);
G=Math.round(G*c);d=Math.round(d*c);u=Math.round(u*c);return G<<16|d<<8|u};_.Mo.prototype.Os=function(W){var q=W.Xm;
this.W9=[1,3,5,11,31][q[0]];this.yr=q[1];this.aDQ=q[2];this.uO=q[3]};_.ce=function(){_.CB.call(this,[10,6],_.jJ,"tools/gradient");
this.Xm=JSON.parse(kE.iv[6]);this.Xm.Grad=JSON.parse(kE.oo.azr);this.Qn=!1;this.Zl=null;this.YG=null};
_.ce.prototype=new _.CB;_.ce.prototype.enable=function(W,q,X,k){_.CB.prototype.enable.call(this,W,q,X,k);
this.Zl=W;if(this.Qn)_.nX.QV(W)};_.ce.prototype.yi=function(W,q,X,k){if(X.bt!=this.id)return;this.Zl=W;
this.a26(W,q)};_.ce.prototype.disable=function(W,q,X,k){this.Zl=null;if(this.Qn)_.nX.ZM(W)};_.ce.prototype.a26=function(W,q){var X=_.nX.w2(W);
this.Qn=X!=null;var k=new ip(S.E.H,!0);k.data={R:S.m.os,J:this.id,rl:X?W.U[W.Y[0]].add.GdFl:this.Xm,z:this.Qn};
q.T(k);if(this.Qn)_.nX.QV(W);else _.nX.ZM(W)};_.ce.prototype.Os=function(W){var q=this.Zl;if(this.Qn){var X=q.U[q.Y[0]],k=X.add.GdFl;
if(k==null)return;this.u1=JSON.stringify(k);X.add.GdFl=W.rl;X.Ae(q);q.I_();_.nX.a5B(this,q);_.nX.QV(q)}else this.Xm=W.rl};
_.ce.prototype.mc=function(W,q,X,k,B){if(this.Qn){_.nX.prototype.mc.call(this,W,q,X,k,B);return}if(!W.or())return;
this.YG=_.U6.W1(W,W.f.uy(B.x,B.y),X)};_.ce.prototype.lG=function(W,q,X,k,B){if(this.Qn){_.nX.prototype.lG.call(this,W,q,X,k,B);
return}if(!this.YG)return;var U=W.f.uy(B.x,B.y);U=_.U6.W1(W,U,X);if(k.D(bu.m4))U=_.ce.XQ(this.YG,U);
W.W.Qc={n:[this.YG.x,this.YG.y,U.x,U.y],zb:["M","L"]};W.W.Yz=[this.YG.x,this.YG.y,U.x,U.y];W.R2=!0};
_.ce.prototype.iY=function(W,q,X,k,B){if(this.Qn){_.nX.prototype.iY.call(this,W,q,X,k,B);return}if(!this.YG)return;
var U=W.U[W.Y[0]],l=W.f.uy(B.x,B.y);l=_.U6.W1(W,l,X);if(k.D(bu.m4))l=_.ce.XQ(this.YG,l);if(hw.tj(this.YG,l)>2){var K;
if(W.d)K=W.d.S;else K=new dU(0,0,W.r,W.$);var D=g.j(K.C()*4,W.depth),m=this.Xm,Y=m.Type.v.GrdT,a=m.Opct.v.val,p=this.YG;
if(Y=="Lnr")p=new hw((p.x+l.x)/2,(p.y+l.y)/2);g.ov.Za(p,l,K,m);dx.Qb(m,D,K,W,null,null,X.w5,X.yY);var M=D.length,x=a/100;
if(a!=100)for(var N=0;N<M;N+=4)D[N+3]=Math.round(D[N+3]*x);var R=new ip(S.E.O);R.J=_.pM;R.data={R:"fillBMP",jq:D,Dz:jm.U3(m.Md.v.BlnM),xJ:this.name};
q.T(R)}W.W.Qc=null;W.W.Yz=[];W.R2=!0;this.YG=null};_.ce.prototype.s4=function(W,q,X,k,B){function U(a){a=a.v;
var p=a.Hrzn.v.val,M=a.Vrtc.v.val;return X.f.az(p,M)}if(W.R=="fromAction"){var l=this.Xm;this.Xm=g.N(l);
var K=W.lz.Og,D=["Grad","Type","Opct","Dthr"];for(var N=0;N<D.length;N++)if(K[D[N]])this.Xm[D[N]]=K[D[N]];
var m=U(K.From),Y=U(K.T);this.mc(X,q,B,k,m);this.iY(X,q,B,k,Y);this.Xm=l}};_.ce.XQ=function(W,q){if(W.AB(q))return W;
var X=q.x-W.x,k=q.y-W.y,B=Math.abs(X),U=Math.abs(k);if(B>U)U=B/2>U?0:B;if(U>B)B=U/2>B?0:U;B=X>0?B:-B;
U=k>0?U:-U;var l=Math.sqrt(X*X+k*k)/Math.sqrt(B*B+U*U);return new hw(W.x+B*l,W.y+U*l)};_.ce.K$=function(W,q,X,k,B,U,l){var K=new dU(0,0,q,X),D=g.j(q*X*4);
g.Vh(D,q,X,4);var m=Math.sin(k),Y=Math.cos(k),a=g.j(q*X*4);g.ov.TI(W,a,K,[Y*1/q,m*1/q,-m*1/X,Y*1/X],q/2,X/2,!1,0,B,U);
g.v.HX("norm",a,K,D,K,K,1);if(l)return new ImageData(new Uint8ClampedArray(D.buffer),q,X);else return lf.nn(D.buffer,q,X,null,null,!0)};
_.ce.aF_=function(W,q,X){var k=g.N(W);if(k.Clrs)for(var N=0;N<k.Clrs.v.length;N++){var B=k.Clrs.v[N].v,U=B.Type.v.Clry;
if(U=="UsrS")continue;var l=U=="FrgC"?q:X;B.Type.v.Clry="UsrS";B.Clr={t:"Objc",v:g.ov.E2({o:l>>16&255,L:l>>8&255,X:l&255})}}return k};
_.ce.prototype._j=function(W,q){_.nX.prototype._j.call(this,W,q)};_.ce.prototype.tG=function(W,q){_.nX.prototype.tG.call(this,W,q)};
_.nX=function(){_.CB.call(this,"Vector Gradient",_.as0,"tools/gradient");this.uT=null;this.LC=null;this.Ya=null;
this.u1};_.nX.prototype=new _.CB;_.nX.prototype.enable=function(W,q,X,k){_.nX.QV(W)};_.nX.prototype.yi=function(W,q,X,k){if(X.bt!=this.id)return;
_.nX.QV(W)};_.nX.prototype.disable=function(W,q,X,k){_.nX.ZM(W)};_.nX.ZM=function(W){if(W==null)return;
W.W.ZK=null;W.W.Yz=[];W.R2=!0};_.nX.prototype.mc=function(W,q,X,k,B){var U=_.nX.w2(W);if(U==null&&cC==0){var l=new ip(S.E.dq,!0);
l.data=_.Wp.u$(1);q.T(l);U=_.nX.w2(W)}if(U==null)return;var K=_.U6.W1(W,W.f.uy(B.x,B.y),X),D=_.nX.sK(U,K,W),m=W.U[W.Y[0]],Y=m.add.GdFl,a=m.add.vstl;
this.u1=JSON.stringify(cC==0?Y:a);this.uT=K;if(D==-1){var p=U[1];this.LC=[K.x,K.y,K.x+2,K.y];if(p[0]==1){this.LC.push(K.x,K.y-2);
p[2][4]=1}this.Ya=1;_.nX.a0h(W,this.LC)}else{this.LC=U[0];this.Ya=D}};_.nX.prototype.lG=function(W,q,X,k,B){var U=W.f.uy(B.x,B.y),l=_.nX.w2(W),K=this.Ya;
if(K!=null){var D=this.LC.slice(0);U=_.U6.W1(W,U,X);if(k.D(bu.m4))U=_.ce.XQ(new hw(D[0],D[1]),U);var m=U.x-D[K*2],Y=U.y-D[K*2+1];
if(K==0){for(var N=0;N<D.length;N+=2){D[N]+=m;D[N+1]+=Y}}else{D[K*2]+=m;D[K*2+1]+=Y}_.nX.a0h(W,D,K)}else if(l){var a=_.nX.sK(l,U,W),p=new ip(S.E.H,!0);
p.data={R:S.m.db,pq:a==-1?"default":a==0?"move":"pointer"};q.T(p)}_.nX.QV(W)};_.nX.sK=function(W,q,X){var k=6*_.W$()/X.f.$Z,B=W[0],U=g.b.vc(B,q.x,q.y,k);
if(U==0&&B.length==8&&B[0]==B[6]&&B[1]==B[7])U=3;if(U==-1&&W[1][0]==1)U=g.b.vc(B.slice(0,2),q.x,q.y,2*k);
return U};_.nX.prototype.iY=function(W,q,X,k,B){if(this.LC==null)return;this.LC=null;this.Ya=null;_.nX.a5B(this,W)};
_.nX.a5B=function(W,q){var X=q.Y[0],k=q.U[X],B=k.add.GdFl,U=k.add.vstl,l=JSON.stringify(B?B:U),K=q.history[q.Wb];
if(K&&K.J==W&&K.data.dF==X)K.data.pZ=l;else{var D=new j3("Change Gradient",W);D.data={dF:X,Of:W.u1,pZ:l};
q.O_(D)}};_.nX.a0h=function(W,q,X){var k=W.U[W.Y[0]],B=k.add.GdFl,U=k.add.vstl,l=k.add.vmsk,K=new hw(q[0],q[1]),D=new hw(q[2],q[3]),m=new hw(q[4],q[5]),Y=new hw(q[6],q[7]);
if(U){var a=U.jg[0],p=U.jg[2],M=jt.Ei(K,D,new ka),x=jt.d8(a,M,l.G);if(a==1){var R=hw.tj(m,K)/hw.tj(D,K);
if(Math.abs(R-1)<.03)R=1;x[2][4]=X==2?R:p[4];if(X==3){if(hw.tj(Y,K)/hw.tj(D,K)<.05)Y=K.P();jt.bF(x,K,D,Y,x[2][4]);
if(x[2][6]>.999)x[2][6]=.999}else{x[2][5]=p[5];x[2][6]=p[6]}}x[1]=U.jg[1];U.jg=x}else{var a=B.Type.v.GrdT,y=k.S;
if(a=="Lnr"||a=="Rflc"){K.x=(K.x+D.x)/2;K.y=(K.y+D.y)/2}g.ov.Za(K,D,y,B);k.Ae(W)}W.I_()};_.nX.w2=function(W){if(W==null||W.Y.length==0)return;
var q=W.U[W.Y[0]],X=q.add.GdFl,k=q.add.vstl;if(X==null&&k==null)return;if(k==null)k=ey.I1(q.add,W);var B=k.jg;
if(B.length!=4)return;var U=q.add.vmsk?q.add.vmsk.G:g.z.oz.Rect(0,0,W.r,W.$),l=jt.qR(B,U),U=[0,0,1,0];
if(cC==1&&B[0]==1){var K=B[2][5]*Math.PI/180,D=B[2][6];U.push(0,-1,Math.cos(K)*D,-Math.sin(K)*D)}g.b.M(U,l,U);
return[U,B,l]};_.nX.QV=function(W){if(W)_.nX.ZM(W);var q=_.nX.w2(W);if(q==null)return;var X=q[0],k=q[1],B=q[2],U={n:X.slice(0,4),zb:["M","L"]};
if(k[0]==1){var l=g.z.oz.am(-1,-1,2,2),K=g.b.sz(l);g.b.M(K.n,B,K.n);g.b.concat(U,K)}W.W.ZK=U;W.W.Yz=X;
W.R2=!0};_.nX.prototype._j=function(W,q){var X=q.U[W.dF],k=cC==0?"GdFl":"vstl";if(W.pZ){X.add[k]=JSON.parse(W.pZ);
X.Ae(q);q.I_();_.nX.ZM(q)}};_.nX.prototype.tG=function(W,q){var X=q.U[W.dF],k=cC==0?"GdFl":"vstl";if(W.pZ){X.add[k]=JSON.parse(W.Of);
X.Ae(q);q.I_();_.nX.ZM(q)}};_.gw=function(){_.CB.call(this,[10,7],_.gT,"tools/hand");this.OX=!1;this.cR=new hw(0,0);
this.LF=null;this.qY=0};_.gw.prototype=new _.CB;_.gw.prototype.Os=function(W,q,X,k){this.OX=W.OX};_.gw.prototype.s4=function(W,q,X,k,B){var U=W.R;
if(U=="setcls"){X.f.K7=W.K7;X.R2=!0;X.gd=!0}if(U=="scroll"){if(k.D(bu.p7))_.gw.L4(X,X.f.h.x-W.jE.y,X.f.h.y-W.jE.x);
else _.gw.L4(X,X.f.h.x-W.jE.x,X.f.h.y-W.jE.y)}};_.gw.prototype.enable=function(W,q,X,k){this.LF=null;
var B=new ip(S.E.H,!0);B.data={R:S.m.db,pq:"grab"};q.T(B);if(W&&Date.now()-this.qY<300){B.I=S.E.O;B.J=_.hm;
B.data={R:"adapt",_:"fitscr"};q.T(B)}this.qY=Date.now()};_.gw.prototype.mc=function(W,q,X,k,B){this.LF=W.f.h.P();
this.cR.cQ(B.x,B.y)};_.gw.prototype.lG=function(W,q,X,k,B){if(!B.Vj)return;if(this.LF==null)this.mc(W,q,X,k,B);
var U=this.OX?q.Bx:[W];for(var N=0;N<U.length;N++)_.gw.L4(U[N],this.LF.x+(B.x-this.cR.x),this.LF.y+(B.y-this.cR.y))};
_.gw.prototype.iY=function(W,q,X,k,B){this.LF=null};_.gw.L4=function(W,q,X){var k=W.f.$Z,B=W.f.eO,U=B.r,l=B.$,K=g.b.Lw(new dU(0,0,W.r,W.$)).n,D=new ka;
D.rotate(W.f.Zi);g.b.M(K,D,K);var m=g.b.Hb(K),Y=m.r*k,a=m.$*k,p=Y<U&&a<l,M=U/2+Y/2-64,x=l/2+a/2-64;W.f.h.cQ(Math.max(-M,Math.min(M,q)),Math.max(-x,Math.min(x,X)));
W.gd=!0};_.mF=function(){_.CB.call(this,[10,47],_.u5,"tools/rview");this.cR=new hw(0,0);this.SG=null;
this.NX=null;this.qY=0};_.mF.prototype=new _.CB;_.mF.prototype.enable=function(W,q,X,k){this.LF=null;
var B=new ip(S.E.H,!0);B.data={R:S.m.db,pq:"grab"};q.T(B);if(W&&Date.now()-this.qY<300&&W.f.Zi!=0){W.f.Zi=0;
W.R2=!0}this.qY=Date.now();if(W)this.en(W,q)};_.mF.prototype.disable=function(W,q,X,k,B){if(W)this.en(W,q)};
_.mF.prototype.AL=function(W,q,X,k){if(W)this.en(W,q)};_.mF.prototype.mc=function(W,q,X,k,B){this.cR.cQ(B.x,B.y);
var U=W.f;this.SG=U.uy(U.eO.r/2,U.eO.$/2);this.NX=U.bq();var l=U.uy(U.eO.r/2,U.eO.$/2),K=Math.min(U.eO.r,U.eO.$)*.35/U.$Z,D=K*.2,m=l.x,Y=l.y;
W.W.Qc={zb:"M L L L L L".split(" "),n:[m,Y,m,Y-K,m+D,Y,m,Y+K,m-D,Y,m,Y-K]};W.R2=!0};_.mF.prototype.arW=function(W){var q=W.f,X=q.uy(q.eO.r/2,q.eO.$/2);
W.W.Qc={zb:["M","L"],n:[X.x,X.y,X.x,X.y-200]}};_.mF.prototype.lG=function(W,q,X,k,B){if(!B.Vj)return;
var U=W.f,l=this.SG,K=this.cR,D=new hw(U.eO.r/2,U.eO.$/2),m=Math.atan2(B.y-D.y,B.x-D.x),Y=Math.atan2(K.y-D.y,K.x-D.x),a=Math.atan2(this.NX.X,this.NX.iM),p=m-Y,M=Math.PI/4;
if(k.D(bu.m4)){p=a+M*Math.round((p-a)/M)}this.a2z(W,q,this.NX.P(),l,p)};_.mF.prototype.iY=function(W,q,X,k,B){W.W.Qc=null;
W.R2=!0};_.mF.prototype.Os=function(W,q,X,k){this.a2z(X,q,null,null,W.GB-X.f.Zi);X.f.Zi=W.GB};_.mF.prototype.a2z=function(W,q,X,k,B){var U=W.f;
if(X==null)X=U.bq();if(k==null)k=U.uy(U.eO.r/2,U.eO.$/2);X.translate(-k.x,-k.y);X.rotate(B);X.translate(k.x,k.y);
U.aq5(X);if(W.r*U.$Z<U.eO.r&&W.$*U.$Z<U.eO.$)U.h.cQ(0,0);W.R2=!0;this.en(W,q)};_.mF.prototype.en=function(W,q){var X=new ip(S.E.H,!0);
X.data={R:S.m.os,J:this.id,GB:W.f.Zi};q.T(X)};_.uu=function(){_.Oy.call(this,[10,25],_.Om,"tools/hbrush")};
_.uu.prototype=new _.Oy("");_.uu.prototype.iY=function(W,q,X,k,B){if(this.Ay==null)return;this.Lv(W,"heal",this.Ay.uY(),this.Ay.wu(),this.Ay.NU());
this.I_(W,this.Ay.NU());_.Vz.prototype.iY.call(this,W,q,X,k,B);if(!this.Xm.algnd)this.h=null};_._n=function(W){_.CB.call(this,W?["VAR0 VAR1",[22,4,1],[10,8]]:[10,8],W?_.Cq:_.W6,W?"tools/vtype":"tools/htype");
this.Xs=[];this.e=null;this.caller=null;this.qa=1;this.PO=0;this.Ge=null;this.auB=0;this.hV=0;this.aHL=0;
this.aH9=null;this.m$=null;this.wv=null;this.xs=null;this.fk=null;this.$u=null;this.a1C=null;this.IX=null;
this.h_=null;this.JR=null;this.a9L=null;this.wQ=!1;this.uq=!1;this.NN=!1;this.qV=null;this.EM=null;this.am6=null;
this.q7=!1;this.ER=!1;this.C_=-1;this.rU=-1;this.LQ=document.createElement("textarea");this.LQ.setAttribute("style","font-family:Arial; font-size:14px; z-index:-1; "+" position:absolute; top:0px; left:0px;  pointer-events: none; opacity:0; width:"+(window.innerWidth-10)+"px; height:150px;");
this.LQ.addEventListener("input",this.U8.bind(this),!1);this.LQ.addEventListener("keydown",this.a3r.bind(this),!1);
this.LQ.addEventListener("keyup",this.ad5.bind(this),!1)};_._n.prototype=new _.CB;_._n.prototype.Ps=function(W){return W.Vj};
_._n.prototype.yi=function(W,q,X,k){if(this.wv!=null||this.id==_.Cq)return;this.caller=q;var B=this.avS(W);
if(B.length!=0){var U=null,l=[],K=[];for(var N=0;N<B.length;N++){var D=W.U[B[N]],m=D.add.TySh,Y=0,a=gZ.mw(m.FZ).length-2,p=gZ.J0(m.FZ,Y,a);
gZ.Nn(p,m.M.Lr());if(p.n6.Font!=null)p.n6.Font=p.MD[p.n6.Font].Name;U=p.MD;l.push(p.n6);K.push(p.D8)}var p={MD:U,n6:gZ.xY(l),D8:gZ.xY(K)};
if(p.n6.Font!=null)gZ.j_(p,p.n6.Font);this.aeo(q,p,m)}};_._n.prototype.avS=function(W){var q=[];for(var N=0;
N<W.Y.length;N++)if(W.U[W.Y[N]]&&W.U[W.Y[N]].add.TySh)q.push(W.Y[N]);return q};_._n.prototype.s4=function(W,q,X,k,B){var U=W.R=="insertGlyph",l=W.R=="copyText",K=W.R=="selectAll";
if((U||l||W.R=="insertText"||K)&&this.wv){var D=U?String.fromCharCode(65533):W._,m=this.LQ,Y=m.value,a=m.selectionStart,p=m.selectionEnd;
if(l){ch.$Q(new Blob([Y.slice(a,p)],{type:"text/plain"}))}else if(K){this.C_=m.selectionStart=0;this.rU=m.selectionEnd=Y.length;
this.N4(X);m.focus()}else{m.value=Y.slice(0,a)+D+Y.slice(p);m.selectionStart=m.selectionEnd=a+D.length;
this.U8(null,U?W._:null);m.focus()}}if(W.R=="updateStyles"){if(this.wv==null){var M=this.avS(X),x=!1;
if(M.length!=0){this.cy(X,q,B,M);for(var N=0;N<M.length;N++){var R=X.U[M[N]],y=R.add.TySh;gZ.ua(y,this.qa);
y.ZN.VAlign.v=this.PO;this.wv=R;var s=gZ.mw(y.FZ);this.C_=0;this.rU=s.length-1;gZ.oM(y.FZ,this.C_,this.rU,this.sQ(B,y));
var F=this.SA(X,B);if(F==!1)x=!0}if(x){this.q7=!0;return}this.Bl(X,q,!0)}return}this.sB(B)}if(W.R.startsWith("warp")){var E=this.ER;
if(W.R=="warp"||W.R=="warpCancel"){if(this.wv==null)return;if(W.R=="warp")this.wv.add.TySh.DO=W.NP;else this.wv.add.TySh.DO=this.a1C;
this.SA(X,B);if(!E)this.N4(X)}if(W.R!="warp")this.LQ.focus();if((W.R=="warpConfirm"||W.R=="warpCancel")&&E){this.ER=!1;
if(W.R=="warpConfirm")this.Bl(X,q);else this.hk(X,q)}}if(W.R=="editCurr"){if(B.bt!=_.W6){this.Ge=B.bt;
var o=new ip(S.E.H,!0);o.data={R:S.m.oE,J:_.W6};q.T(o)}if(this.wv!=null)this.disable(X,q,B,k);this.e=B;
this.caller=q;this.cy(X,q,B,[W.XK]);var s=gZ.mw(this.wv.add.TySh.FZ);this.C_=0;this.rU=s.length-1;this.N4(X);
this.fv();this.LQ.focus()}if(W.R=="switchPntPrgr"){if(this.wv)return;var R=X.U[X.Y[0]],y=R.add.TySh,G=y.M.Lr(),d=R.wu(),u=g.N(y.FZ),r=gZ.sJ(u),v=r==1?gZ.KJ(u):[0,0,Math.round(d.r*1.05/G),Math.round(d.$*1.25/G)],c=gZ.J0(u,0,0),V=c.MD[c.n6.Font].Name,j=B.yK.yy(V),Q=[0,v[2],v[2]/2][c.D8.Justification%3],H=(j?cm.SY(j):.8)*c.n6.FontSize;
gZ.XM(u,1-r);if(r==0){Q=-Q;H=-H;gZ.eR(u,[0,0,v[2],v[3]])}var T=new ka(1,0,0,1,Q,H);T.concat(y.M);this.s4({MP:X.Y[0],R:"newED",jn:u,M:T,adr:[16,3,r==1?0:1]},q,X,k,B)}if(W.R=="newED"){var R=X.U[W.MP],y=R.add.TySh,e=this.Tz(X,[W.MP]);
y.FZ=W.jn;if(W.M)y.M=W.M;if(hj.gm(y,B.yK,q)){hj.SA(R,B.yK,X);X.I_()}else X.Tr=!0;var z=new j3(W.adr?W.adr:this.name,this);
z.data={a1:e,pV:this.Tz(X,[W.MP])};X.O_(z)}if(W.R=="fromAction"){var J;if(W.lz.yx=="set"){J=W.lz.Og.T.v}else{J=W.lz.Og.Usng.v;
window.a0S=J;var P=J.TxtC.v,L=[];for(var N=0;N<2;N++){var A=P[N==0?"Hrzn":"Vrtc"].v,D=A.val;if(A.type=="#Prc")D=(N==0?X.r:X.$)*(D/100);
L[N]=D}this.DJ(X,q,B,k,X.f.az(L[0],L[1]),!0)}var R=X.U[X.Y[0]],y=R.add.TySh,h=y.FZ,Y=gZ.mw(h);gZ.xo(h,0,Y.length-1);
gZ.L3(h,0,J.Txt.v.replace(/\r/g,"\n"));gZ.avR(J,h,X);if(hj.yw(X,B.yK,q))hj.SA(R,B.yK,X);else X.Tr=!0;
X.I_();this.Bl(X,q)}};_._n.prototype.sB=function(W){var q=Math.min(this.C_,this.rU),X=Math.max(this.C_,this.rU),k=this.wv.add.TySh;
gZ.ua(k,this.qa);k.ZN.VAlign.v=this.PO;var B=this.sQ(W,k);gZ.oM(k.FZ,q,X-1,B);var U=this.caller.jz(),l=this.SA(U,W);
if(l)this.N4(U);if(document.activeElement.tagName.toLowerCase()!="input")this.LQ.focus()};_._n.prototype.hK=function(W){return this.Xs.indexOf(W)!=-1};
_._n.prototype.enable=function(W,q,X,k){var B=this.LQ;q.K.appendChild(B);this.IX="default";this.Sx(q)};
_._n.prototype.mf=function(){return this.wv!=null};_._n.Lk=function(W,q){var X=new hw(q.x,q.y);for(var N=W.U.length-1;
N>=0;N--){var k=W.U[N],B=k.add.TySh;if(B&&W.aaW(N)){var U=X,l=k.S;if(cC==1){var K=B.M.P();K.i5();U=K.Bb(X);
l=k.kJ.aj}if(!l.BS(U))continue;var D=k.kW(31);return D?-2:N}}return-1};_._n.prototype.mc=function(W,q,X,k,B){this.e=X;
this.caller=q;var U=W.f.uy(B.x,B.y),l=this.wv==null;if(l){var K=_._n.Lk(W,U);if(K==-2){alert(js.get([6,57,0]));
return}if(K>=0&&!k.D(bu.m4)){if(!hj.gm(W.U[K].add.TySh,X.yK,q)){alert("Fonts not loaded yet");return}this.cy(W,q,X,[K])}else{this.NN=!0;
this.qV=B;return}}var D=l?-1:gZ.sJ(this.wv.add.TySh.FZ),m=this.JR?this.JR:this.h_,Y=m&&m.mc(W,X,k,U,null,null,B)&&g.NP.GE(this.wv.add.TySh.DO),a=!l&&g.b.aee(U,this.wv.wu())>20/W.f.$Z&&(D==0||D==1);
if(Y||a){this.wQ=!0;this.EM=U;this.am6=this.wv.add.TySh.M.P();if(this.C_==-1&&this.rU==-1)this.C_=this.rU=this.J8(U)}else{if(this.fk==null){alert("Fonts not loaded yet");
return}this.uq=!0;this.C_=this.rU=this.J8(U);var p=Date.now();if(p-this.auB>300)this.hV=0;this.hV++;
this.auB=p;if(this.hV==2)this.a4P();if(this.hV==3)this.aGr();if(this.hV>1){this.uq=!1}}this.fv();this.N4(W)};
_._n.prototype.cy=function(W,q,X,k){var B=W.U[k[0]];this.wv=B;this.hv(q,S.E.H,{R:S.m.os,J:this.id,wh:"showactive"});
this.xs=k;W.Y=k.slice(0);W.OD();W.zf=!0;this.$u=this.Tz(W,k);this.AX(B.add.TySh);this.SA(W,X)};_._n.prototype.AX=function(W){if(gZ.sJ(W.FZ)!=1)return;
var q=gZ.KJ(W.FZ);q=new dU(0,0,q[2]-q[0],q[3]-q[1]);var X=[q.x,q.y,q.x+q.r,q.y,q.x+q.r,q.y+q.$,q.x,q.y+q.$];
g.b.M(X,W.M,X);this.h_=new k1(X,!1,!1,!1,!0);this.h_.Ih(0)};_._n.prototype.a4P=function(){var W=gZ.mw(this.wv.add.TySh.FZ);
this.C_=this.aBj(W,this.C_);this.rU=this.aGl(W,this.C_)};_._n.prototype.aBj=function(W,q){var X=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",k=[];
for(var N=0;N<X.length;N++)k.push(X.charAt(N));var B=k.indexOf(W[q])==-1?!0:!1;for(var N=q-1;N>=0;N--)if(k.indexOf(W.charAt(N))!=-1==B)return N+1;
return 0};_._n.prototype.aGl=function(W,q){var X=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",k=[];for(var N=0;
N<X.length;N++)k.push(X.charAt(N));var B=k.indexOf(W[q])==-1?!0:!1;for(var N=q+1;N<W.length;N++)if(k.indexOf(W.charAt(N))!=-1==B)return N;
return W.length-1};_._n.prototype.aGr=function(){var W=this.fk.ao5(this.C_);this.C_=W[0];this.rU=W[1]};
_._n.prototype.Sx=function(W){var q=new ip(S.E.H,!0);q.data={R:S.m.db,pq:this.IX};W.T(q)};_._n.prototype.lG=function(W,q,X,k,B){var U=W.f.uy(B.x,B.y),l=this.wv;
if(!B.Vj){var K="default",D=this.h_,m=this.JR?this.JR:D;if(m&&g.NP.GE(l.add.TySh.DO)){var Y=m.x4(U,W.f.$Z,null,B);
if(Y)K=Y;else if(m==D&&D.kY(U))K="text"}else if(l&&g.b.aee(U,l.wu())>20/W.f.$Z)K="move";else if(_._n.Lk(W,U)>=0)K="text";
if(K!=this.IX){this.IX=K;this.Sx(q)}}var a=this.qV;if(this.NN&&Math.min(B.x-a.x,B.y-a.y)>4/W.f.$Z){this.NN=!1;
this.DJ(W,q,X,k,B);l=this.wv;this.wQ=!0;this.h_=new k1(null,!1,!1,!1,!0);this.h_.Ih(0);var p=W.f.uy(this.qV.x,this.qV.y);
p.x=Math.round(p.x);p.y=Math.round(p.y);this.h_.mc(W,X,k,p,null,null,B,W.f.Zi)}if(this.wQ){var M=l.add.TySh;
if(this.JR){this.JR.lG(W,X,k,U);var x=g.F.bI(g.F.b6(this.JR.LP(),this.a9L));M.M=x;this.SA(W,X);gZ.v7(M)}else if(this.h_){this.h_.lG(W,X,k,U);
var R=M.M.P(),y=Math.atan2(R.X,R.iM);R.rotate(y);var x=g.F.bI(g.F.b6(this.h_.LP())),s=Math.atan2(x.X,x.iM);
x.rotate(s);if(!isNaN(x.iM)&&x.iM*x.kv-x.X*x.bO!=0){var F=new dU(0,0,x.iM/R.iM,x.kv/R.kv),E=F.r,o=F.$,G=M.FZ.Curve;
if(G){var d=gZ.KJ(M.FZ),u=new ka(E/d[2],0,0,o/d[3],0,0);g.b.M(G.Points,u,G.Points);gZ.v7(M)}gZ.eR(M.FZ,[0,0,E,o]);
M.M=g.F.bI(g.F.b6(this.h_.LP(),F));this.SA(W,X);gZ.v7(M)}}else{var r=U.x-this.EM.x,v=U.y-this.EM.y;M.M=this.am6.P();
var c=new hw(M.M.Wy+r,M.M.rY+v);c=_.U6.W1(W,c,X);M.M.Wy=c.x;M.M.rY=c.y;this.SA(W,X)}}if(this.uq)this.rU=this.J8(U);
if(this.wQ||this.uq)this.N4(W)};_._n.prototype.DJ=function(W,q,X,k,B,U){var l=W.Yb(),K=l[0],D=l[1],m=W.Sh();
m.add.lnsr="rend";var Y=W.U.slice(0);m.YY("Text layer "+Y.length);this.wv=m;var a=W.Y.length==0?W.U.length-1:W.Y[W.Y.length-1],p=a+1;
if(Y[a].add.lsct==e5.B2)p--;this.$u={Xn:Y.slice(0),UQ:W.Y.slice(0)};Y.splice(p,0,m);W.Y=[p];this.C_=this.rU=0;
W.UR(Y);this.$u.pG=Y.slice(0);this.$u.o_=W.Y.slice(0);this.hv(q,S.E.H,{R:S.m.os,J:this.id,wh:"showactive"});
var M=W.f.uy(B.x,B.y),x=X.Xz;console.log(x);if(this.id==_.Cq){x=g.N(x);x.n6.BaselineDirection=1}m.add.TySh=gZ.nG(M.x,M.y,x,W.f.Zi);
var R=m.add.TySh,y=R.FZ;if(this.id==_.Cq)y._LineOrientation=2;gZ.ua(R,this.qa);R.ZN.VAlign.v=this.PO;
if(B.Vj)gZ.XM(y,1);else{gZ.XM(y,0);var s=K[D.pop()],F=s?s.add.vmsk:null;if(U)F=null;if(F&&!k.D(bu.m4)){F=F.P();
var E=F.G,G,d;for(var N=0;N<E.length;N++)if(E[N].R3!=null)E[N].R3=0;var o=5/W.f.$Z;G=g.z.Sj(F.G,M,!0,o);
if(G.bT==-1)G=g.z.Sj(F.G,M);if(G.bT!=-1){gZ.XM(y,1);var u=g.z.wS(E,G.bT),r=g.z.Jt(E,G.bT)-1;E=F.G=E.slice(0,2).concat(E.slice(u,u+r+1));
F.Y=[];R.add={vmsk:F,vogk:b.tw(E)};y.Curve={};gZ.MZ(R);if(G.Rr!=null){var v=cm.U7(y.Curve);g.b.M(v[0],R.M,v[0]);
var c=g.b.vc(v[0],M.x,M.y),V=X.Xz.D8.Justification;if(V==2||V==5){var j=(v[2][c]+v[3]*.5)%v[3];c=cm.fe(j,v[2])}var Q=v[1][c];
Q=Q%r;F.qH=[Q,Q];gZ.MZ(R)}else this.AX(R)}}}return m};_._n.prototype.iY=function(W,q,X,k,B,U){if(U){this.NN=!1;
return}if(this.wv==null&&!this.NN)return;var l=W.f.uy(B.x,B.y),K=this.NN;if(this.NN){this.NN=!1;this.DJ(W,q,X,k,B);
this.uq=!0}if(this.wQ||this.uq){this.N4(W);this.fv();if(K)this.sB(X)}if(this.wQ&&this.h_)this.h_.iY(W,X,k,l);
this.wQ=this.uq=!1;this.LQ.focus()};_._n.prototype.fv=function(){var W=this.wv.add.TySh,q=Math.min(this.C_,this.rU),X=Math.max(this.C_,this.rU),k,B;
if(q==X){var U=gZ.mw(W.FZ);if(q==0||U.charAt(q-1)=="\n")k=B=q;else k=B=q-1}else{k=q;B=X-1}var l=gZ.J0(W.FZ,k,B);
gZ.Nn(l,W.M.Lr());this.aeo(this.caller,l,W)};_._n.prototype.aeo=function(W,q,X){this.hv(W,S.E.H,{R:S.m.Dt,rl:aI.jG,Xz:q});
var k=this.qa=gZ.ao(X),B=this.PO=X.ZN.VAlign.v;this.hv(this.caller,S.E.H,{R:S.m.os,J:this.id,wh:"changeOther",g6:k,JU:B})};
_._n.prototype.xM=function(W,q,X,k,B){if(W==null)return;var U=W.f.uy(B.x,B.y),l=_._n.Lk(W,U);if(l==-1)return;
var K=new ip(S.E.H,!0);K.data={R:S.m.os,J:this.id,wh:"showpan",aks:this.wv!=null,XK:l,Dv:B,BL:W,e:X};
q.T(K)};_._n.prototype.a0w=function(){var W=this.wv;if(W&&!this.wQ&&this.JR!=null){var q=this.caller.jz();
this.JR.iY(q,this.e,null,null);this.JR=null;this.AX(W.add.TySh);this.N4(q)}};_._n.prototype.disable=function(W,q,X,k){var B=this.wv;
this.Bl(W,q)};_._n.prototype.Os=function(W,q,X,k,B){if(this.ER)return;if(W.wh=="commit")this.Bl(X,q);
if(W.wh=="cancel")this.hk(X,q);if(W.wh=="changeOther"){this.qa=W.g6;this.PO=W.JU;if(X!=null)this.s4({R:"updateStyles"},q,X,k,B)}if(W.wh=="showwarp"){if(X==null)return;
if(this.wv==null){var U=X.U[X.Y[0]],l=U.add.TySh;if(l==null)return;this.cy(X,q,B,[X.Y[0]]);this.LQ.focus();
this.ER=!0}this.a1C=this.wv.add.TySh.DO;var K=new ip(S.E.H,!0);K.data={R:S.m.K_,ud:"textwarp"};q.T(K)}};
_._n.prototype.QL=function(W,q){if(q!=aI.Il)return;if(this.q7&&this.xs){this.q7=!1;var X=this.caller.jz(),k=this.xs;
for(var N=0;N<k.length;N++){this.wv=X.U[k[N]];this.SA(X,W)}this.Bl(X,this.caller);return}if(this.wv)this.sB(W)};
_._n.prototype.sQ=function(W,q){var X=g.N(W.Xz);gZ.Nn(X,1/q.M.Lr());return X};_._n.prototype._j=function(W,q){if(W.a1!=null)this.QF(q,W.pV);
else this.ad2(q,W.pG,W.o_)};_._n.prototype.tG=function(W,q){if(W.a1!=null)this.QF(q,W.a1);else this.ad2(q,W.Xn,W.UQ)};
_._n.prototype.QF=function(W,q){for(var N=0;N<q.length;N++){var X=q[N],k=X.MP,B=W.U[k];B.buffer=X.Wa;
B.S=X.OM.P();B.I_();B.kJ.CH=null;B.kJ.path=null;var U=B.add.TySh;U.DO=X.NP;U.oJ=X.oJ.P();U.M=X.M.P();
U.FZ=g.N(X.FZ);B.Kj()}W.I_()};_._n.prototype.Tz=function(W,q){var X=[];for(var N=0;N<q.length;N++){var k=q[N],B=W.U[k],U=B.add.TySh;
X.push({MP:k,M:U.M.P(),NP:g.N(U.DO),oJ:U.oJ.P(),FZ:g.N(U.FZ),Wa:B.buffer.slice(0),OM:B.S.P()})}return X};
_._n.prototype.ad2=function(W,q,X){W.Y=X;W.UR(q);W.I_();W.qg=!0};_._n.prototype.SA=function(W,q,X){if(X==null)X=!1;
var k=this.wv.add.TySh;if(!hj.gm(k,q.yK,this.caller))return!1;if(!X){var B=gZ.mw(k.FZ);this.LQ.value=B.slice(0,B.length-1)}var U=this.wv.S,l=hj.SA(this.wv,q.yK,W);
this.fk=l[1];var K=this.fk.dk();if(g.NP.GE(k.DO))k.oJ=new dU;else{if(gZ.sJ(k.FZ)==1){var D=gZ.KJ(k.FZ),a1=K.y;
k.oJ=new dU(0,a1,D[2]-D[0],D[3]-D[1]-a1)}else k.oJ=K}W.Hm();if(l[2])W.I_(W.root.Ph(l[2].OM.xw(U),W,W.U.indexOf(this.wv)));
return!0};_._n.prototype.U8=function(W,q){if(this.wv==null||this.ER)return;var X=this.LQ.selectionStart,k=this.wv.add.TySh,B=gZ.mw(k.FZ),U=this.LQ.value+"\n",l=Math.min(this.C_,this.rU),K=Math.max(this.C_,this.rU),p=!1;
this.C_=Math.min(X,l);if(U.length-X<B.length-this.rU)this.rU=B.length-U.length+X;if(B!=U){while(this.C_>0&&B.charAt(this.C_-1)!=U.charAt(this.C_-1))this.C_--}var D=B.substring(0,this.C_),m=B.substring(this.rU,B.length),Y=U.substring(this.C_,U.length-m.length);
gZ.xo(k.FZ,this.C_,this.rU);gZ.L3(k.FZ,this.C_,Y);if(q!=null)gZ.a8d(k.FZ,this.C_,q);var a=this.sQ(this.e,k),M=-1,x=Array.from(Y);
for(var N=0;N<x.length;N++)M=Math.max(M,x[N].codePointAt(0));if(M!=-1&&M>32&&M!=65533&&a.n6.Font!=null){var R=a.MD[a.n6.Font].Name,y=this.e.yK.azk(M,R,a.MD);
if(R!=y){gZ.j_(a,y);p=!0}}if(this.m$!=null&&Y==this.m$){var s=JSON.parse(this.aH9);gZ.Nn(s,1/k.M.Lr());
a.n6=s.n6;a.MD=s.MD;p=!0}gZ.oM(k.FZ,this.C_,this.C_+Y.length-1,a);this.C_=this.rU=D.length+Y.length;
var F=this.caller.jz(),E=this.SA(F,this.e,!0);if(E)this.N4(F,!0);if(p)this.fv()};_._n.prototype.ad5=function(W){var q=bu;
if(!W.ctrlKey)this.a0w();W.stopPropagation()};_._n.prototype.a3r=function(W){W.stopPropagation();var q=W.ctrlKey||W.metaKey,X=bu,D=0,m=0,E=0,H=!1;
if(this.wv==null||this.ER)return;if(this.wv==null)return;if(this.caller.YZ.Ao())return;var k=this.caller.jz();
if(this.JR==null&&q){var B=this.wv.add.TySh,U=gZ.sJ(B.FZ),l;if(U==1){l=gZ.KJ(B.FZ);l=new dU(0,0,l[2]-l[0],l[3]-l[1])}else l=this.fk.dk();
var K=[l.x,l.y,l.x+l.r,l.y,l.x+l.r,l.y+l.$,l.x,l.y+l.$];g.b.M(K,B.M,K);this.JR=new k1(K,!0,!0,!1,!1);
this.JR.Ih(0);this.a9L=l;this.N4(k)}if(X.aZ(W.code,X.uQ))D=1;if(X.aZ(W.code,X.Is))D=-1;if(X.aZ(W.code,X.uP))m=-1;
if(X.aZ(W.code,X.Mm))m=1;var Y=X.aZ(W.code,bu.Wz),a=X.aZ(W.code,bu.aDW);if(X.aZ(W.code,bu.$H)&&q){this.Bl(k,this.caller);
return}if(X.aZ(W.code,bu.hJ)){this.hk(k,this.caller);return}if(X.aZ(W.code,bu.hz)){W.preventDefault();
var p=this.LQ,M=p.value,x=p.selectionStart,R=p.selectionEnd;p.value=M.substring(0,x)+"\t"+M.substring(R);
p.selectionStart=p.selectionEnd=x+1;this.U8(null);return}var y=X.aZ(W.code,X.Et),s=X.aZ(W.code,X.wn);
if(q&&(y||s)){W.preventDefault();var F=new ip(S.E.O,!0);F.J=_.hm;F.data={R:"zoom",IK:y};this.caller.T(F)}if(X.aZ(W.code,X.tt))E=1;
if(X.aZ(W.code,X.$S))E=-1;var o=this.C_==this.rU,G=q&&W.shiftKey&&E!=0&&!o;if(G||W.altKey&&D!=0){var d=g.N(this.e.Xz);
if(G){var u=d.n6.FontSize;if(u==null)u=16;d.n6.FontSize=Math.max(1,u+E*(W.altKey?5:1))}else{if(o){d.n6.Kerning+=20*D;
d.n6.AutoKerning=!1}else d.n6.Tracking+=20*D}W.preventDefault();var r=new ip(S.E.H,!0);r.data={R:S.m.Dt,rl:aI.jG,Xz:d};
this.caller.T(r);var F=new ip(S.E.O,!0);F.J=_.W6;F.data={R:"updateStyles"};this.caller.T(F);return}if((X.aZ(W.code,X.uo)||X.aZ(W.code,X.XP))&&q){var v=this.C_,c=this.rU;
if(v>c){var V=v;v=c;c=V}var B=this.wv.add.TySh,j=gZ.mw(B.FZ);if(v!=c){this.m$=j.slice(v,c);this.aH9=JSON.stringify(this.e.Xz)}}var Q=gZ.mw(this.wv.add.TySh.FZ);
if(D!=0||m!=0||Y||a){W.preventDefault();var T=this.C_;if(D!=0){if(q&&D==-1)T=this.aBj(Q,this.C_-1);else if(q&&D==1)T=this.aGl(Q,this.C_);
else{var p=this.LQ,M=p.value;T=this.C_+D;if(T!=0&&M.codePointAt(T-1)>65535)T+=D}}else if(m!=0){var e=this.fk.Xt(this.C_);
if(m==-1&&e.l8==0)T=0;else if(m==1&&e.l8==this.fk.akJ()-1)T=99999999999;else T=this.fk.aw$(new hw(e.OM.x+e.OM.r/2,0),e.l8+m)}else if(Y){var z=this.C_-1;
while(z>0&&Q.charCodeAt(z)!=10)z--;T=z==0?0:z+1}else if(a){var z=this.C_;while(z<Q.length-1&&Q.charCodeAt(z)!=10)z++;
T=z}T=Math.max(0,Math.min(Q.length-1,T));if(W.shiftKey)this.C_=T;else this.C_=this.rU=T;H=!0}if(q&&X.a3s(W,bu.m)){this.C_=0;
this.rU=Q.length-1;H=!0}if(H){this.fv();this.N4(k)}};_._n.adG=function(W,q){var X=W.length;if(X!=q.length)return!1;
for(var N=0;N<X;N++)if(W[N].MP!=q[N].MP)return!1;return!0};_._n.prototype.Bl=function(W,q,X){if(this.wv==null)return;
if(Date.now()-this.aHL<5e3)X=!0;this.aHL=Date.now();this.wv.Kj();var k=this.$u;if(k instanceof Array){var B=this.Tz(W,this.xs),U=W.d2();
if(U!=null&&U.J==this&&U.data.a1&&_._n.adG(U.data.a1,k)&&X)U.data.pV=B;else{var l=new j3(this.name,this);
l.data={a1:k,pV:B};W.O_(l)}}else{var l=new j3(this.name,this);l.data={Xn:k.Xn,pG:k.pG,UQ:k.UQ,o_:k.o_};
W.O_(l);var K=this.wv.add.TySh,D=K.FZ,m=gZ.mw(D).slice(0,-1),Y={classID:"null",null:j0.O8("TxLr"),Usng:{t:"Objc",v:{classID:"TxLr",Txt:{t:"TEXT",v:m},TxtC:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:100*K.M.Wy/W.r}},Vrtc:{t:"UntF",v:{type:"#Prc",val:100*K.M.rY/W.$}}}}}}};
gZ.aCH(Y.Usng.v,D,W);this.gr=q;this.track({yx:"make",Og:Y})}this.escape(W,q)};_._n.prototype.hk=function(W,q){if(this.wv==null)return;
if(this.$u instanceof Array){this.QF(W,this.$u);if(this.wv)gZ.v7(this.wv.add.TySh)}else{W.Y=this.$u.UQ;
W.UR(this.$u.Xn);W.qg=!0}W.I_();this.escape(W,q)};_._n.prototype.escape=function(W,q){this.a0w();this.wv=null;
this.xs=null;this.fk=null;this.h_=null;this.LQ.blur();W.W.Qc=null;W.W.Y0=null;W.W.x7=[];W.R2=!0;this.wQ=!1;
this.uq=!1;this.C_=this.rU=-1;this.hv(q,S.E.H,{R:S.m.os,J:this.id,wh:"hideactive"});if(this.Ge){var X=new ip(S.E.H,!0);
X.data={R:S.m.oE,J:this.Ge};q.T(X);this.Ge=null}};_._n.prototype.hv=function(W,q,X,k){var B=new ip(q,!0);
B.data=X;if(k)B.J=k;W.T(B)};_._n.prototype.J8=function(W){var q=this.wv.add.TySh,X=this.fk,k=q.M.P();
k.i5();var B=k.Bb(W),U=gZ.wu(q,X),l=g.NP.qP(q.DO,U),K=g.my.xL(l,B);if(K==null)K=new Float64Array(2);
B=new hw(U.x+K[0]*U.r,U.y+K[1]*U.$);if(X.Cx){var D=X.Cx.P();D.i5();B=D.Bb(B)}var m=X.aw$(B);return m};
_._n.prototype.N4=function(W,q){if(q==null)q=!1;var X=this.wv.add.TySh,k=gZ.sJ(X.FZ),B=this.fk,U=B?gZ.wu(X,B):null;
W.W.x7=[];W.W.Qc=null;W.W.Y0=null;var l=this.JR?this.JR:this.h_;if(l){l.Ib(W,this.e,!g.NP.GE(X.DO));
var K=X.M.P();K.i5();if(B&&B.Cx&&B.R7==1){var D=B.Cx.P();D.i5();K.concat(D)}g.b.M(W.W.x7,K,W.W.x7);g.b.M(W.W.Qc.n,K,W.W.Qc.n);
if(B&&B.Cx==null&&B.aqt()){var m=U.r-20,Y=U.$+8;W.W.Qc.n.push(m,Y,m+10,Y,m+5,Y-5,m+5,Y+5);W.W.Qc.zb.push("M","L","M","L")}}else if(k==0)this.aFp(W,X,B);
else W.W.Qc={n:[],zb:[]};var a=Math.min(this.C_,this.rU),p=Math.max(this.C_,this.rU);if(!q){this.LQ.selectionStart=a;
this.LQ.selectionEnd=p}if(B!=null){var M=function(l,o){var G=l.x,d=l.y+l.$,u=new ka;u.translate(-G,-d);
u.rotate(-o);u.translate(G,d);l.y+=l.$*.27;var E=g.b.Lw(l);g.b.M(E.n,u,E.n);return E};if(a==p){a=Math.max(a,0);
var x=B.Xt(a);if(x){var R=x.OM,y=this.e.Xz.n6.FontSize;if(y!=null&&y!=0){y/=X.M.Lr();R.y+=R.$-y;R.$=y}var s=B.aHv(a);
if(s!=null&&s.ej==1)R.x+=R.r;var F=M(R,x.Zi).n;W.W.Qc.zb.push("M","L");W.W.Qc.n.push(F[0],F[1]-1,F[6],F[7]-1)}}else if(this.caller.YZ.Ao()==null){W.W.Y0={n:[],zb:[]};
for(var N=a;N<p;N++){var x=B.Xt(N),E=M(x.OM,x.Zi);g.b.concat(W.W.Y0,E)}}}W.W.Qc=hj.KK(W.W.Qc,X,B,!0);
W.W.Y0=hj.KK(W.W.Y0,X,B,!0);W.W.x7=hj.KK({n:W.W.x7},X,B,!0).n;W.R2=!0};_._n.prototype.aFp=function(W,q,X){if(X==null)return;
W.W.x7.push(0,0);if(W.W.Qc==null)W.W.Qc={zb:[],n:[]};for(var N=0;N<X.D8.length;N++){var k=X.D8[N];for(var B=0;
B<k.tE.length;B++){var U=k.tE[B],l=k.l7.x+U.l7.x+U.OM.x,K=k.l7.y+U.l7.y+U.OM.y+U.OM.$;W.W.Qc.zb.push("M","L");
W.W.Qc.n.push(l,K,l+U.OM.r,K)}}W.R2=!0};_.YI=function(){_._n.call(this,!0)};_.YI.prototype=new _._n;
_.bh=function(W){_.lR.call(this,W?"Magic Replace":[10,9],W?_.aED:_.fX,W?"tools/mremove":"tools/lasso");
this.iH=null;this.G2=null;this.EM=null};_.bh.prototype=new _.lR;_.bh.prototype.S4=function(W,q,X,k){this.iH=this.mv;
this.G2={n:[this.iH.x,this.iH.y],zb:["M"]}};_.bh.prototype.HL=function(W,q,X,k){this.EM=k;var B=this.G2;
if(B==null)return;if(!k.Vj){if(this.G2!=null&&this.o8.uS(1)&&X.D(bu.Wr)){B.n.pop();B.n.pop();B.n.push(this.UN.x,this.UN.y);
W.W.Qc=B;W.R2=!0}return}B.zb.push("L");B.n.push(this.UN.x,this.UN.y);this.iH=this.UN;if(this.vr){W.W.Qc=B;
W.R2=!0}};_.bh.prototype.mf=function(){return this.G2!=null};_.bh.prototype.ux=function(){return this.G2!=null};
_.bh.prototype.jm=function(W,q,X,k){_.lR.prototype.jm.call(this,W,q,X,k);if(this.G2&&this.o8.uS(1)&&this.EM&&!this.EM.Vj&&!k.D(bu.Wr))this.awo(W,X,k)};
_.bh.prototype.qO=function(W,q,X,k){this.EM=k;var B=this.G2;if(B==null)return;if(this.o8.uS(1)&&X.D(bu.Wr)){B.zb.push("L");
B.n.push(this.UN.x,this.UN.y);return}this.awo(W,q,X)};_.bh.prototype.awo=function(W,q,X){this.finish(W,q,X,this.EM);
this.G2=null;W.W.Qc=null;W.R2=!0};_.bh.prototype.getSelection=function(W,q,X,k){if(this.mv.AB(this.UN)||!this.vr)return null;
return _.lR.tq(this.G2.n,null,this.Xm.anta)};_.U6=function(){_.CB.call(this,[10,11],_.zl,"tools/move");
this.cE=new hw(0,0);this.xf=new hw(0,0);this.yP=null;this.OZ=null;this.uE=new hw(0,0);this.LV=null;this.e=null;
this.gr=null;this.qY=0;this.CG=null;this.Bv=[];this.aQ=null;this.il=null;this.la=!1;this.R=0;this.j3=null;
this.mU=null;this.hZ=null;this.ho=!1;this.Xm={Qe:!0,fg:cC==1,Pg:!1,apa:1};this.aek=!1;this.av7=!1;this.h_=null;
this.fi=null;this.H4=null;var W=[];for(var N=0;N<g.Qs.XW.length;N++)W.push({name:g.Qs.XW[N],i:function(q,X,k){return{jc:X.bm.vA==k}}});
this.ZS=new j_(W);this.ZS.Q("select",this.vK,this)};_.U6.prototype=new _.CB;_.CB.prototype.Ps=function(W){return this.la&&this.R!=2};
_.U6.prototype.av2=function(){return this.la&&(this.R==0||this.R==1)};_.U6.prototype.AL=function(W,q,X,k){this.ep(W,-this.uE.x,-this.uE.y);
this.uE.cQ(0,0);this.yv(W,null,X);this.QV(W)};_.U6.prototype.p5=function(){var W=this.Xm;if(W.Qe&&!W.fg&&!W.Pg)return null;
return[W.Qe?1:0,W.fg?1:0,W.Pg?1:0]};_.U6.prototype.Ll=function(W,q,X){var k=this.Xm;if(W&&W[0]!=null)k.Qe=W[0]==1;
if(W&&W[1]!=null)k.fg=W[1]==1;if(W&&W[2]!=null)k.Pg=W[2]==1;if(cC==1)k.fg=!0;var B=new ip(S.E.H,!0);
B.data={R:S.m.os,J:this.id,g2:k,ahP:q};X.T(B)};_.U6.al8=function(W,q,X,k,B,U,l){if(l==null)l=[!1,!0];
var K=W.Vs(null,B,!0),D,m=B==null?W.Y[0]:B;if(W.add.artd&&(B!=null||W.Y.length==1)&&W.U[m].add.artb){var Y=W.U[m].La();
D=W.yG(K,Y,Y)[0]}else{var a=new dU(0,0,W.r,W.$),D=W.yG(K,l[0]?a:null,l[1]?null:a)[0];delete D.add.artd;
if(l[1]){var p=g.BF(D.OL(),new dU(0,0,D.r,D.$),2);_.wW.ip(D,p)}}if(X!=1){var M=new dU(0,0,Math.round(D.r*X),Math.round(D.$*X));
_.wW.ip(D,M);var x=[];for(var N=0;N<D.U.length;N++)x.push(N);var R=_.Gz.tl(D,x,!0);_.wW.Yf(D,new ka(X,0,0,X,0,0));
_.Gz.yW(D,k,x,R,1,g.F.af(new ka(X,0,0,X,0,0)),null,!0);D.HQ()}var y=[];for(var N=0;N<q.length;N++)if(D.r*D.$!=0)y.push(lf.Xi(D,q[N].toUpperCase(),null,null,U?U[N]:null,k));
return y};_.U6.prototype.a4U=function(W,q,X,k,B){if(W==null||W.Y.length==0)return;var U=_.U6.al8(W,[q],X,k,null);
if(U.length==0){alert("Empty layer selected.");return}var l=U[0],K=new ip(S.E.H,!0);K.data={R:S.m.Gw,data:l,name:W.U[W.Y[0]].getName()+(X==1?"":"@"+X+"x")+"."+q};
B.T(K)};_.U6.prototype.Os=function(W,q,X,k,B){if(W.w7=="getPNG"){this.a4U(X,"png",W.fd,B,q)}else if(W.w7=="getSVG"){this.a4U(X,"svg",W.fd,B,q)}if(W.w7=="prms"){this.Xm=W;
this.QV(X)}};_.U6.asE=function(W){var a1=W.length,X=0;W.sort(function(U,l){return U[0]+U[1]/2-(l[0]+l[1]/2)});
var q=W[a1-1][0]+W[a1-1][1]-W[0][0];for(var N=0;N<a1;N++)X+=W[N][1];var k=Math.round((q-X)/(a1-1)),B=W[0][0];
for(var N=0;N<a1;N++){W[N][0]=B;B+=W[N][1]+k}};_.U6.prototype.s4=function(W,q,X,k,B){var U=W.R;if(U=="trsl"){var l=Math.round(W.Ma),K=Math.round(W.gM);
this.uE.cQ(l,K);this.Qz(X,q,k,B,!1,W.B);this.ep(X,l,K);this.yv(X,null,B)}else if(U=="fcmy"||U=="fvec"){var D=["RGB","CMYK"][W._]+" Color";
if(U=="fvec")D=["Raster","Vector"][W._]+" Mode";var m=new j3(D,this);m.data={R:W.R,bG:X.add[U]==null?0:X.add[U],O4:W._};
X.O_(m);this._j(m.data,X)}else if(U=="pview"){var U=new j3([8,14],this);U.data={R:W.R};X.O_(U);this._j(U.data,X)}else if(U=="lockguides"){if(X)X.y2=!X.y2}else if(U=="gids"||U=="gidsFromLayer"){var Y=W.mU,a,p;
if(Y==null)Y=X.sO();if(U=="gids"){a=W.$w;var M=Y[0].length,x=a[0].length;p=M==x?[23,2]:M>x?[23,3]:[23,4];
if(x==0)p=[11,15,0]}else if(U=="gidsFromLayer"){var R=[],y=[],s=X.l4();for(var N=0;N<X.Y.length;N++){var F=X.U[X.Y[N]].S;
if(F.PM())continue;R.push([0,F.x],[1,F.y],[0,F.x+F.r],[1,F.y+F.$]);y.push(s,s,s,s)}p=[11,15,1];a=X.sO();
_.U6._D(a,[R,y])}if(JSON.stringify(Y)==JSON.stringify(a))return;var U=new j3(p,this);U.data={R:2,mU:Y,$w:a};
X.O_(U);this._j(U.data,X)}else if(U=="algn"){var E=W._,o=W.aEG,P=0,L=0;if(X==null)return;if(X.Y.length<2&&!(X.d!=null&&E!=3&&E!=7)&&o!=1){alert(js.get([15,7,5]));
return}var G=X.d;X.d=null;var F=o==1?new dU(0,0,X.r,X.$):G?G.S:_.Gz.wu(X);this.Qz(X,q,k,B,!1);if(!this.la)return;
var d=this.CG,u={},r=[],v=[],c=[];for(var N=0;N<d.length;N++){var V=d[N];while(X.U[V].getName()=="</Layer group>")V++;
var j=X.root.Vf(V),Q=j;while(j.parent!=null){j=j.parent;if(d.indexOf(j.index)!=-1)Q=j}var H=v.indexOf(Q.index);
if(H==-1){H=v.length;v.push(Q.index)}r[N]=H}var T=[],e=[],z=[],J=new dU;for(var N=0;N<v.length;N++){var A=_.Gz.wu(X,X.Vs(!0,v[N]));
z.push(A);J=J.xw(A);P=Math.max(P,A.r);L=Math.max(L,A.$);var h=E==3?[A.y,A.$]:[A.x,A.r];T[N]=h;e.push(h)}_.U6.asE(e);
if(E==8){var C=W.cols,w=g.Qs.ll(W.aK$,X.mC,X.r,B.bm.vA),f=g.Qs.ll(W.aGk,X.mC,X.r,B.bm.vA);for(var N=0;
N<v.length;N++){var O=Math.floor(N/C),H=N-O*C,A=z[N],n=J.x+H*(P+w),$=J.y+O*(L+f);c.push(Math.round(n-A.x),Math.round($-A.y))}}else for(var N=0;
N<v.length;N++){var A=z[N],n=A.x,$=A.y;if(E==0)n=F.x;if(E==1)n=F.x+(F.r-A.r)/2;if(E==2)n=F.x+(F.r-A.r);
if(E==3)$=T[N][0];if(E==4)$=F.y;if(E==5)$=F.y+(F.$-A.$)/2;if(E==6)$=F.y+(F.$-A.$);if(E==7)n=T[N][0];
c.push(Math.round(n-A.x),Math.round($-A.y))}var d9=[];for(var N=0;N<d.length;N++){var i=r[N];d9[2*N]=c[2*i];
d9[2*N+1]=c[2*i+1]}this.ep(X,0,0,null,d9);var dF=E==3||E==7?[20,4,6]:[20,4,E<3?E:E-1];if(E==8)dF=[2,10,1];
this.yv(X,null,B,d9,dF);X.d=G}else if(U=="disabAuto"){this.Ll([!1],null,q)}};_.U6._D=function(W,q){for(var N=0;
N<q[0].length;N++){var X=q[0][N],k=q[1][N],B=!1;for(var U=0;U<W[0].length;U++){var l=W[0][U],K=W[1][U];
if(X[0]==l[0]&&X[1]==l[1]&&k==K)B=!0}if(!B){W[0].push(X.slice(0));W[1].push(k)}}};_.U6.prototype.enable=function(W,q,X,k,B){this.e=X;
this.gr=q;this.ho=B?!0:!1;this.QV(W);this.Sx("default",q);this.jm(W,q,X,k)};_.U6.prototype.disable=function(W,q,X,k){this.ZM(W)};
_.U6.prototype.ZM=function(W){if(W==null)return;if(this.h_){this.h_.clear(W);this.h_=null}if(W.W.Pg){W.W.Pg=null;
W.R2=!0}if(W.W.Bk){W.W.Bk=null;W.R2=!0}if(W.W.Zs[this.id]){delete W.W.Zs[this.id];W.R2=!0}if(W.W.L1.length!=0){W.W.L1=[];
W.R2=!0}};_.U6.prototype.yi=function(W,q,X,k){if(X.bt!=this.id)return;this.QV(W)};_.U6.prototype.QV=function(W,q){if(W==null)return;
var X=this.Xm;this.ZM(W);if(!this.ho){var k;if(X.fg||X.Pg)k=g.b.V5(_.Gz.wu(W));if(X.fg&&!k.PM()){var B=W.U[W.Y[0]],U=g.b.Lw(k).n;
if(cC==1&&W.Y.length==1){if(B.add.vmsk)U=B.add.vmsk.ga();if(B.add.SoLd)U=_.Gz.rQ(B.add.SoLd.nonAffineTransform);
if(B.add.TySh){U=g.b.Lw(B.kJ.aj).n;g.b.M(U,B.add.TySh.M,U)}}this.h_=new k1(U,!0);this.h_.Ib(W,this.e)}if(X.Pg){var l=null,p=null,M=!1;
if(W.l4()!=-1)l=W.U[W.l4()].La();else l=new dU(0,0,W.r,W.$);W.W.Pg={bU:[k],Ab:[]};var K=W.W.Pg.Ab,D=k.x+k.r,m=k.y+k.$,Y=k.x+Math.floor(k.r/2),a=k.y+Math.floor(k.$/2);
if(q){var x=W.root.Sj(new hw(Math.floor(q.x),Math.floor(q.y)));if(x){p=g.b.V5(x.B.wu(W));if(p.ty(k)){M=(p.Ox(k)||k.Ox(p))&&!k.AB(p);
if(!M)p=null}}}this.aqC(k,K);if(p!=null){W.W.Pg.bU.push(p);var R=p.x+p.r,y=p.y+p.$,s=p.x+Math.floor(p.r/2),F=p.y+Math.floor(p.$/2);
if(M){var E=Y,o=a;if(k.Ox(p)){E=s;o=F}K.push(k.x,o,p.x,o);K.push(D,o,R,o);K.push(E,k.y,E,p.y);K.push(E,m,E,y)}else{this.aqC(p,K);
var G=m<p.y||y<k.y,d=D<p.x||R<k.x;if(D<p.x)K.push(D,a,p.x,a);if(R<k.x)K.push(R,a,k.x,a);if(m<p.y)K.push(Y,m,Y,p.y);
if(y<k.y)K.push(Y,y,Y,k.y);if(G&&!d){if(k.x<p.x)K.push(k.x,F,p.x,F);if(p.x<k.x)K.push(p.x,a,k.x,a)}}}else{if(k.y>l.y)K.push(Y,l.y,Y,k.y);
if(m<l.y+l.$)K.push(Y,m,Y,l.y+l.$);if(k.x>l.x)K.push(l.x,a,k.x,a);if(D<l.x+l.r)K.push(D,a,l.x+l.r,a)}W.R2=!0}}if(this.R==2&&this.la){var u=new dU(0,0,W.r,W.$),r=W.l4();
if(r!=-1){var v=W.sO(),c=v[1][this.CG];if(c==-1)c=r;u=W.U[c].La()}var V=W.UZ[this.CG],j=V[0],Q=(j==0?"X":"Y")+": "+g.Qs.ft(V[1]-(j==0?u.x:u.y),W.mC,this.e,j==0?u.r:u.$,!0);
_.CB.V3(Math.round(this.yP.x)+10,Math.round(this.yP.y)-10,[Q],W);W.R2=!0}if(this.R==3&&this.la){var H=g.b.Lw(this.j3);
W.W.Zs[this.id]={Qc:H};W.R2=!0}};_.U6.prototype.aqC=function(W,q){var X=W.r,k=W.$,B=W.x+Math.floor(X*.2),U=W.y+Math.floor(k*.2);
q.push(B,W.y,B,W.y+k);q.push(W.x,U,W.x+X,U)};_.U6.prototype.Sx=function(W,q){var X={R:S.m.db,pq:W},k=new ip(S.E.H,!0);
k.data=X;q.T(k)};_.U6.prototype.ih=function(W){var q=this.fi.kN()[0],X=this.H4.length;if(q<X){var k=this.LV,B=this.H4[q];
this.Y2(k,B)}else{var U=new ip(q==X?S.E.H:S.E.O,!0);if(q==X)U.data={R:S.m.nj,me:"psd"};else{U.J=_.iK;
U.data={R:"bgrm",_:1}}this.gr.T(U)}};_.U6.prototype.vK=function(W){var q=g.N(this.e.bm);q.vA=this.ZS.kN()[0];
var X=new ip(S.E.H,!0);X.data={R:S.m.Dt,rl:aI.VH,O4:q};this.gr.T(X)};_.U6.prototype.xM=function(W,q,X,k,B){if(this.la)this.iY(W,q,X,k,B);
this.LV=W;this.e=X;this.gr=q;var U=W.f.uy(B.x,B.y),l;if(_.U6.YF(X,B,W.f)){l=this.ZS}else{if(this.fi)this.fi.removeEventListener("select",this.ih);
var K=[];W.root.Sj(U,K);if(K.length==0)return;if(k.D(bu.Wr)){this.Y2(W,K[0]);return}var D=[];this.H4=K;
for(var N=0;N<K.length;N++)D.push({name:W.U[K[N]].getName(),nC:N==K.length-1});D.push({name:[1,18],r8:!0});
D.push({name:"Remove BG",i:hd.HP});l=this.fi=new j_(D);l.Q("select",this.ih,this)}l.parent=q;l.l();l.update(W,X);
var m=new ip(S.E.H,!0);m.data={R:S.m.k8,ii:l,x:B.Ty+2,y:B.Be+1};q.T(m)};_.U6.prototype.a4t=function(W,q,X,k,B){var U=_.U6.qo(W,B);
return U!=-1||_.U6.YF(X,B,W.f)};_.U6.qo=function(W,q){if(W==null||W.add.artd==null)return-1;var X=W.f.uy(q.x,q.y),k=12*_.W$()/W.f.$Z;
for(var N=0;N<W.U.length;N++){var B=W.U[N];if(!B.P$()||B.add.artb==null)continue;var U=B.La(),l=new dU(U.x,U.y-1.7*k,k*B.getName().length*.5,k);
if(l.BS(X))return N}return-1};_.U6.prototype.mc=function(W,q,X,k,B){var U=_.U6.qo(W,B),l=_.U6.a5R(W,W.f.uy(B.x,B.y));
if(U!=-1){W.Y=[U];if(X.bt==_.zl){var K=new ip(S.E.H);K.data={R:S.m.oE,J:_.tk};q.T(K)}return}if(l!=-1){W.f.aS=l;
W.gd=!0;var K=new ip(S.E.H,!0);K.data={R:S.m.oU,ud:dE.FV.aoR};q.T(K);return}this.yP=B;this.cE.cQ(B.x,B.y);
this.xf=W.f.uy(B.x,B.y);this.OZ=new ac(this.xf);this.Qz(W,q,k,X,!0)};_.U6.YF=function(W,q,X,k){var B=g.Qs.fw,U=X.eO.$;
return W.RS&&(0<q.x&&q.x<B||0<q.y&&q.y<B||k&&0<q.x&&q.x<4*B&&U-B<q.y&&q.y<U)};_.U6.prototype.Qz=function(W,q,X,k,B,U){var l,K=this.xf,D=!1;
if(B){var m=k.$O&&k.bm.UZ;if(_.U6.YF(k,this.cE,W.f)){l=W.sO();var Y=W.sO(),a=null;if(this.cE.x<g.Qs.fw){a=[0,K.x]}if(this.cE.y<g.Qs.fw){a=[1,K.y]}Y[0].push(a);
Y[1].push(W.l4(!0));W.Ov(Y);if(!m){var p=new ip(S.E.H);if(!k.bm.UZ){p.data={R:S.m.Dt,rl:aI.QP};q.T(p)}if(!k.$O){p.data={R:S.m.Dt,rl:aI.U$};
q.T(p)}m=!0}}var M=this.a4r(W,K);if(m&&M!=null&&!W.y2){this.R=2;this.mU=l?l:W.sO();this.CG=M;this.la=!0;
this.il=_.Gz.wu(W);return}if(W.TC.length!=0){this.R=4;this.il=W.RH[W.TC[0]].S.P();this.la=!0;return}if(this.h_&&this.h_.x4(K,W.f.$Z,!0,this.yP)!=null){var p=new ip(S.E.H);
p.data={R:S.m.oE,J:_.Xx,afR:!0};q.T(p);return}if(W.d&&W.d.S.BS(K)){var x=Math.round(K.x),R=Math.round(K.y),y=W.d.S;
D=W.d.c[(R-y.y)*y.r+x-y.x]>g.bH(W.depth)/2}var s=this.Xm.Qe||cC==1;if(!D&&(!this.ho&&s||this.ho&&s&&(X.D(bu.m4)||W.Y.length<2))){var F=this.au$(W,K,X);
if(!F){W.Y=[];W.sh=null;W.qg=W.NJ=!0;this.R=3;this.j3=new dU;this.la=!0;return}}if(X.D(bu.Wr)&&!D){var E=new ip(S.E.O);
E.J=_.b9;E.data={R:b.b8,a2b:!0};q.T(E)}}if(W.TC.length!=0){this.R=4;this.il=W.RH[W.TC[0]].S.P();this.la=!0;
return}this.CG=W.Vs(U==null,U,null,!0);for(var N=0;N<this.CG.length;N++){var o=this.CG[N],G=W.U[o];if(G.kW(2)||G.kW(31)||W.bb(o)){alert(js.get([6,57,0]));
return}}if(W.add.artd&&B){var d=this.CG,u=!1;for(var N=0;N<d.length;N++)if(W.U[d[N]].add.artb)u=!0;if(!u){this.aQ=[W,W.U.slice(0),W.Y.slice(0),-1];
this.CG.sort(function(T,e){return T-e})}}this.Bv=_.U6.afW(W,this.CG);this.R=0;if(W.d&&(!B||D)&&W.Y.length==1&&W.or(!1)){if(!W.ao6()){this.la=!1;
return}var r=W.U[W.Y[0]],v=X.D(bu.Wr);this.R=1;var c=W.history[W.Wb];if(c.J==this&&c.data.R==1&&c.data.B==W.Y[0]&&r.pw==r.dg.pw&&!v){this.hZ=c}else{var V=r.dg,j=!1,Q;
if(!r.oR(W,W.d)||v){j=!0;r.iZ(W,W.d,v)}if(r.dg.pw<=0){Q=g.j(r.dg.LE.length>>2,W.depth);g.u6(r.dg.LE,Q,3)}else Q=W.d.c.slice(0);
var H={S:r.dg.jl.P(),c:Q};this.hZ=new j3(v?[12,53]:[12,54],this);this.hZ.data={R:1,B:W.Y[0],dg:r.dg,kO:V,Kh:j,UQ:W.d,o_:H,kv:new hw(0,0)};
W.O_(this.hZ);W.d=H;W.r5=!0}}this.la=!0;this.il=_.Gz.wu(W)};_.U6.prototype.au$=function(W,q,X){var k=W.root.Sj(new hw(Math.floor(q.x),Math.floor(q.y)));
if(k){if(k.B.add.vmsk)W.R2=!0;var B=W.U.indexOf(k.B);if(this.Xm.apa==0){var U=W.root.Vf(B);while(U.parent&&U.parent.depth!=0&&U.parent.B.add.artb==null)U=U.parent;
B=U.index}if(X.D(bu.m4)){var l=W.Y.indexOf(B);if(l==-1)W.Y.push(B);else if(W.Y.length>1)W.Y.splice(l,1)}else if(W.Y.indexOf(B)==-1){this.Y2(W,B)}}return k!=null};
_.U6.prototype.Y2=function(W,q){W.U[q].pw=0;W.Y=[q];W.sh=null;W.OD();W.zf=!0;W.qg=!0};_.U6.a5R=function(W,q){var X=W.add.Anno;
if(X==null||X.length==0)return-1;var k=30/W.f.$Z;for(var N=0;N<X.length;N++)if(new dU(X[N][0],X[N][1],k,k).BS(q))return N;
return-1};_.U6.prototype.lG=function(W,q,X,k,B){this.yP=B;var U=W.f.uy(B.x,B.y),M,x;if(this.OZ&&this.R<2)U=this.OZ.uf(U,k);
if(!this.la){if(X.$O&&X.bm.UZ&&W&&!W.y2){var l=this.a4r(W,U),K="default",D=_.U6.qo(W,B);if(l!=null)K=["col-resize","row-resize"][W.UZ[l][0]];
else if(this.h_){var m=this.h_.x4(U,W.f.$Z,null,B);if(m)K=m}else if(D!=-1||_.U6.a5R(W,U)!=-1){K="pointer"}this.Sx(K,q)}this.QV(W,U);
return}var Y=this.xf,a=Math.round(U.x-Y.x)-this.uE.x,p=Math.round(U.y-Y.y)-this.uE.y;if(this.il){if(this.R==2){var R=[];
if(W.d)R.push(W.d.S);if(this.il)R.push(this.il);if(W.f.q3)R.push(W.f.q3);U=_.U6.W1(W,U,X,[!1,R,!0,!0])}else{x=this.il.P();
x.offset(this.uE.x+a,this.uE.y+p);M=_.U6.T2(W,x,X);var y=this.OZ.aGM(k);if(y==1){M[0]=0;M[2]=1e9}if(y==2){M[1]=0;
M[3]=1e9}a+=Math.round(M[0]);p+=Math.round(M[1])}}this.uE.x+=a;this.uE.y+=p;var s=this.aQ;if(s&&W==s[0]){W.UR(s[1]);
W.Y=s[2].slice(0);s[3]=-1}this.ep(W,a,p,U,null,k.D(bu.m4));if(s&&W==s[0]){var F=this.il.P();F.offset(this.uE.x,this.uE.y);
var E=U,D=W.l4(),o=-1;for(var N=0;N<W.U.length;N++){var G=W.U[N];if(!G.P$()||G.add.artb==null)continue;
var d=G.La();if(d.BS(E))o=N}if(o!=-1&&o!=D){var u=_.zB.lZ(W,this.CG,o,!0,null,!1);W.UR(u[0]);W.Y=u[1];
s[3]=o}}this.QV(W,U);if(M)_.U6.FJ(W,x,M)};_.U6.prototype.a4r=function(W,q){var X=_.YA(W,this.yP);q=[q.x,q.y];
var k=W.sO(),B=W.l4();for(var N=0;N<k[0].length;N++){var U=k[0][N],l=k[1][N];if(l!=-1&&l!=B)continue;
if(Math.abs(U[1]-q[U[0]])<X)return N}return null};_.U6.prototype.ep=function(W,q,X,k,B,U){if(this.R==0){if(B)_.U6.J_(W,this.CG,this.Bv,B);
else _.U6.c8(W,this.CG,this.Bv,q,X)}else if(this.R==1){var l=this.hZ.data;l.kv.offset(q,X);_.U6.$k(W,l.B,q,X)}else if(this.R==2){var K=1e-4;
if(U)K=W.f.$Z<=1?10:1;var D=K*Math.round(k.x/K),m=K*Math.round(k.y/K),Y=[D,m],a=W.UZ[this.CG];a[1]=Y[a[0]]}else if(this.R==3){var p=this.xf,M=g.b.DS([p.x,p.y,k.x,k.y]);
this.j3=M;var x=[];W.root.q9(M,x);if(JSON.stringify(W.Y)!=JSON.stringify(x)){W.Y=x;W.qg=W.NJ=!0}}else if(this.R==4){for(var N=0;
N<W.TC.length;N++)W.RH[W.TC[N]].S.offset(q,X);W.R2=!0}};_.U6.$k=function(W,q,X,k){var B=W.U[q];W.d.S.offset(X,k);
B.lN(W,X,k,W.d);W.r5=!0;W.I_()};_.U6.prototype.iY=function(W,q,X,k,B,U){this.yv(W,B,X);this.QV(W);if(Date.now()-this.qY<300&&!U){var l=_._n.Lk(W,W.f.uy(B.x,B.y));
if(_.U6.YF(X,B,W.f,!0)){var K=new ip(S.E.H);if(B.y>W.f.eO.$-20){K.data={R:S.m.K_,ud:"doczoom",bG:W.f.$Z*100,Ii:{s:S.E.O,J:_.hm,p:{R:"pzoom"}}}}else{K.data={R:S.m.K_,ud:"preferences"}}q.T(K)}else if(l>=0){var D=new ip(S.E.O,!0);
D.J=_.W6;D.data={R:"editCurr",XK:l};q.T(D)}}this.qY=Date.now();_.wW.G7(W)};_.U6.prototype.yv=function(W,q,X,k,B){if(!this.la)return;
this.la=!1;if(this.R<=1){if(k){this.auH(W,null,k,B)}else{if(this.uE.x==0&&this.uE.y==0)return;this.auH(W,this.uE.P())}W.gd=!0}else if(this.R==2){var U=0;
q=[q.x,q.y];var l=this.CG,K=W.UZ[l],bi=this.mU[0].length,D=W.UZ.length;if(X.RS&&q[K[0]]<g.Qs.fw){var m=W.sO();
m[0].splice(l,1);m[1].splice(l,1);W.Ov(m);U=1;if(bi==D-1)return}if(bi<D)U=2;var Y=new j3([[23,2],[23,3],[23,4]][U],this);
Y.data={R:2,mU:this.mU,$w:W.sO()};W.O_(Y)}else if(this.R==4){var Y=new j3([12,54],this);Y.data={R:4,Y:W.TC.slice(0),h:this.uE.P()};
W.O_(Y)}this.uE.cQ(0,0)};_.U6.prototype.jm=function(W,q,X,k){var B=k.wp(W?W.f.Zi:0);if(W!=null&&(B.x!=0||B.y!=0)){if(k.D(bu.Wr)&&W.d==null){var U=new ip(S.E.O);
U.J=_.b9;U.data={R:b.b8,a2b:!0};q.T(U)}this.uE.cQ(B.x,B.y);this.Qz(W,q,k,X,!1);if(!this.la)return;this.ep(W,B.x,B.y);
this.yv(W,null,X);this.QV(W)}var l=k.D(bu.p7);if(!this.ho&&this.av7!=l){if(l){this.aek=this.Xm.Qe;this.Xm.Qe=!0}else{this.Xm.Qe=this.aek}this.av7=l;
var K=new ip(S.E.H,!0);K.data={R:S.m.os,J:this.id,g2:this.Xm};q.T(K)}};_.U6.prototype.tG=function(W,q){if(W.R==0){var X=W.ub;
if(X){q.UR(X.Xn);q.Y=X.fE.slice(0);q.I_();q.qg=!0}_.U6.J_(q,W.Y,W.d6,W.h7,!0);_.wW.G7(q)}else if(W.R=="fcmy"||W.R=="fvec"){if(W.bG==0)delete q.add[W.R];
else q.add[W.R]=W.bG;q.R2=!0}else if(W.R=="pview"){q.Cg=!q.Cg;q.I_()}else if(W.R==2){q.Ov(W.mU);q.R2=!0}else if(W.R==4){for(var N=0;
N<W.Y.length;N++)q.RH[W.Y[N]].S.offset(-W.h.x,-W.h.y);q.R2=!0}else{var k=q.U[W.B];if(W.Kh){k.TT(q,W.kO);
q.d=W.UQ;q.r5=!0;q.I_();k.I_()}else{_.U6.$k(q,W.B,-W.kv.x,-W.kv.y)}}};_.U6.prototype._j=function(W,q){if(W.R==0){_.U6.J_(q,W.Y,W.d6,W.h7);
var X=W.ub;if(X){q.UR(X.pG);q.Y=X.$b.slice(0);q.I_();q.qg=!0}_.wW.G7(q)}else if(W.R=="fcmy"||W.R=="fvec"){if(W.O4==0)delete q.add[W.R];
else q.add[W.R]=W.O4;q.R2=!0}else if(W.R=="pview"){q.Cg=!q.Cg;q.I_()}else if(W.R==2){q.Ov(W.$w);q.R2=!0}else if(W.R==4){for(var N=0;
N<W.Y.length;N++)q.RH[W.Y[N]].S.offset(W.h.x,W.h.y);q.R2=!0}else{var k=q.U[W.B];if(W.Kh){k.dg=W.dg;q.d=W.o_;
_.U6.$k(q,W.B,0,0);k.I_()}else{_.U6.$k(q,W.B,W.kv.x,W.kv.y)}}};_.U6.prototype.auH=function(W,q,X,k){if(X){var B=!0;
for(var N=0;N<X.length;N++)if(X[N]!=0)B=!1;if(B)return}var U=W.history[W.Wb],l=this.aQ,K=l!=null&&l[3]!=-1&&l[0]==W;
if(!K&&X==null&&U.data&&U.J==this&&U.data.R==0&&JSON.stringify(U.data.Y)==JSON.stringify(this.CG)&&JSON.stringify(U.data.d6)==JSON.stringify(this.Bv)){var D=U.data.h7,m=U.data.asx.Og.T.v;
m.Hrzn.v.val+=q.x;m.Vrtc.v.val+=q.y;for(var N=0;N<D.length;N+=2){D[N]+=q.x;D[N+1]+=q.y}}else{if(q==null)q=new hw(X[0],X[1]);
var Y={yx:this.R==0?"move":"cut",Og:{classID:"null",null:this.R==0?j0.O8("Lyr",!0):{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},T:{t:"Objc",v:{classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Rlt",val:q.x}},Vrtc:{t:"UntF",v:{type:"#Rlt",val:q.y}}}}}},a=null;
if(K)a={Xn:l[1],fE:l[2],pG:W.U.slice(0),$b:W.Y.slice(0)};this.aQ=null;this.track(Y);if(this.R!=0)return;
var p=new j3(k?k:[12,54],this);if(X)p.data={R:0,Y:this.CG,d6:this.Bv,ub:a,h7:X};else p.data={R:0,Y:this.CG,d6:this.Bv,ub:a,h7:_.U6.aBp(this.CG,q.x,q.y)};
p.data.asx=Y;W.O_(p)}};_.U6.aBp=function(W,q,X){var k=[];for(var N=0;N<W.length;N++)k.push(q,X);return k};
_.U6.c8=function(W,q,X,k,B){_.U6.J_(W,q,X,_.U6.aBp(q,k,B))};_.U6.J_=function(W,q,X,k,B){if(q.length==0)return;
if(X==null){X=[];for(var N=0;N<q.length;N++){X.push(W.U[q[N]].hb(W,!0))}}var U=new dU,l=new dU(0,0,W.r,W.$);
for(var N=0;N<q.length;N++){var K=k[2*N],D=k[2*N+1];if(B){K=-K;D=-D}var m=W.U[q[N]],Y=X[N];if(m.add.fxrp&&(Y.indexOf(0)!=-1||m.Nj()))m.add.fxrp.offset(K,D);
for(var a=0;a<Y.length;a++){var p=Y[a];if(p==0){m.S.offset(K,D);if(m.SF()&&m.Q2(W))m.Q2(W).S.offset(K,D);
if(m.add.artb){var M=m.La();M.offset(K,D);m.VA(M);var x=m.add.artb.guideIndeces;x=x?x.v:[];for(var R=0;
R<x.length;R++){var y=W.UZ[x[R].v];y[1]+=y[0]==0?K:D}}if(m.add.TySh){m.add.TySh.M.translate(K,D);if(m.add.TySh.add){m.add.TySh.add.vmsk.offset(K,D)}}if(m.add.SoLd){var s=new ka(1,0,0,1,K,D),F=m.add.SoLd,E=_.Gz.rQ(F.Trnf),o=_.Gz.rQ(F.nonAffineTransform);
g.b.M(E,s,E);g.b.M(o,s,o);F.Trnf=_.Gz.If(E);F.nonAffineTransform=_.Gz.If(o);_.Gz.a2$(F,s)}}if(p==1)m.Jx().S.offset(K,D);
if(p==2){m.add.vmsk.offset(K,D);if(m.add.vogk)g.BI.M(m.add.vogk,[1,0,K,0,1,D,0,0],[]);if(m.kJ.G2){var G=m.kJ.G2.wb.n;
g.b.M(G,new ka(1,0,0,1,K,D),G)}}if(p==3){m.Q2(W).BD.S.offset(K,D);if(Y.length==1)m.I_()}}if(Y.length>0){var d=m.add.GdFl;
if(d==null)d=m.add.PtFl;if(m.Nj()&&!m.bk()&&m.add.vmsk!=null&&g.z.bB(m.add.vmsk.G)&&m.add.vmsk.IC==255&&(d==null||d.Algn&&d.Algn.v)){m.S.offset(K,D)}else m.Ae(W);
var u=W.root.Ph(m.wu(W),W,q[N]);if(m.add.artb)u=u.xw(m.La());U=U.xw(u);u.offset(-K,-D);U=U.xw(u);if(m.ID()&&m.BD&&m.BD.color==255)U=U.xw(l);
m.awD()}}W.I_(g.b.V5(U))};_.U6.afW=function(W,q){var X=[];for(var N=0;N<q.length;N++){var k=W.U[q[N]];
X.push(k.hb(W))}return X};_.U6.FJ=function(W,q,X){var k={n:[],zb:[]},B=q.x+X[0],U=q.y+X[1];if(X[2]!=1e9){k.zb.push("M","L");
var l=U+q.$;if(X[4])k.n.push(X[2],Math.min(U,l,X[4][1]),X[2],Math.max(U,l,X[4][1]));else k.n.push(X[2],U,X[2],U+q.$)}if(X[3]!=1e9){k.zb.push("M","L");
var K=B+q.r;if(X[5])k.n.push(Math.min(B,K,X[5][0]),X[3],Math.max(B,K,X[5][0]),X[3]);else k.n.push(B,X[3],K,X[3])}if(k.n.length!=0){W.W.Bk=k;
W.R2=!0}};_.U6.W1=function(W,q,X,k){var B=_.U6.aEI(W,[[q.x],[q.y]],X,k);return new hw(q.x+B[0],q.y+B[1])};
_.U6.T2=function(W,q,X,k,B){var U=B==!0?1:.5,l=_.U6.aEI(W,[[q.x,q.x+Math.round(q.r*U),q.x+q.r],[q.y,q.y+Math.round(q.$*U),q.y+q.$]],X,k);
return l};_.U6.aEI=function(W,q,X,k){if(k==null)k=[!0,null,!0];var B=[0,0,1e9,1e9,null,null];if(!X.hN)return B;
var U=g.N(q);for(var l=0;l<2;l++){var K=1e9,D=q[l],m=0,Y=null;for(var a=0;a<D.length;a++){var p=_.U6.a1g(W,D[a],U[1-l][a],l,X,k),M=p[0];
if(M!=1e9)U[l][a]=M;if(M!=1e9&&Math.abs(M-D[a])<Math.abs(K)){K=M-D[a];m=M;Y=p[1]}}if(K!=1e9){B[l]=K;
B[l+2]=m;B[l+4]=Y}}return B};_.U6.a1g=function(W,q,X,k,B,U){var l=1e9,K=null,D=B.l3,m=B.bm,Y=[W.root];
while(Y.length!=0&&D[2]){var a=Y.pop(),p=a.B,M=p.S;if(!p.P$())continue;if(a.children)for(var N=0;N<a.children.length;
N++)Y.push(a.children[N]);if(W.Y.indexOf(a.index)!=-1||M.PM())continue;var x=M.r,R=x>>>1,y=M.$,s=y>>>1,F=l;
if(k==0){if(Math.abs(M.x-q)<Math.abs(l-q))l=M.x;if(Math.abs(M.x+R-q)<Math.abs(l-q))l=M.x+R;if(Math.abs(M.x+x-q)<Math.abs(l-q))l=M.x+x}else{if(Math.abs(M.y-q)<Math.abs(l-q))l=M.y;
if(Math.abs(M.y+s-q)<Math.abs(l-q))l=M.y+s;if(Math.abs(M.y+y-q)<Math.abs(l-q))l=M.y+y}if(F!=l){K=[M.x+R,M.y+s]}}var E=l;
l=1e9;if(U[0]&&D[0]&&m.UZ&&B.$O){var o=W.sO(),G=o[0],d=o[1],u=W.l4();for(var N=0;N<G.length;N++)if((d[N]==-1||d[N]==u)&&G[N][0]==k&&Math.abs(G[N][1]-q)<Math.abs(l-q))l=G[N][1]}if(D[1]&&m.cM&&B.$O){var r=Math.round(g.Qs.ll(m.hY,W.mC,W.r,m.Kt));
if(k==1&&m.$m==1){var v=X*.5*Math.sqrt(4/3),c;r*=Math.sqrt(4/3);c=Math.round((q-v)/r)*r+v;if(Math.abs(c-q)<Math.abs(l-q))l=c;
c=Math.round((q+v)/r)*r-v;if(Math.abs(c-q)<Math.abs(l-q))l=c}else{var c=Math.round(q/r)*r;if(Math.abs(c-q)<Math.abs(l-q))l=c}}var V=W.Ev;
if(D[3]&&m.Ev&&B.$O&&V.length!=0){for(var N=0;N<V.length;N++){if(!U[2]&&W.Di.indexOf(N)!=-1)continue;
var j=_.r1.XE(V,N);for(var Q=0;Q<3;Q+=2)if(j[Q+k]!=q&&Math.abs(j[Q+k]-q)<Math.abs(l-q))l=j[Q+k]}}if(U[1])for(var H=0;
H<U[1].length;H++){var M=U[1][H],x=M.r,y=M.$,R=x>>>1,s=y>>>1;if(U[3]){R=x/2;s=y/2}var T=[M.x,M.y,M.x+R,M.y+s,M.x+x,M.y+y];
for(var N=0;N<6;N+=2)if(Math.abs(T[N+k]-q)<Math.abs(l-q))l=T[N+k]}if(D[4]){var M=new dU(0,0,W.r,W.$),u=W.l4();
if(u!=-1)M=W.U[u].La();var x=M.r,y=M.$,R=x>>>1,s=y>>>1;if(U[3]){R=x/2;s=y/2}var T=[M.x,M.y,M.x+R,M.y+s,M.x+x,M.y+y];
for(var N=0;N<6;N+=2)if(Math.abs(T[N+k]-q)<Math.abs(l-q))l=T[N+k]}if(Math.abs(l-q)<=Math.abs(E-q))K=null;
else l=E;var e=Math.abs(l-q)<=4*_.W$()/W.f.$Z?l:1e9;return[e,K]};_.t6=function(){_.lR.call(this,[10,12],_._I,"tools/mwand");
this.uT=null};_.t6.prototype=new _.lR;_.t6.prototype.S4=function(W,q,X,k){this.uT=k;this.aI9=this.Xm.wconf[0];
this.finish(W,q,X,k)};_.t6.prototype.HL=function(W,q,X,k,B){if(!k.Vj)return;var U=new ip(S.E.O);U.J=_.Yo;
U.data={R:"h_stepbck"};B.T(U);var l=k.x-this.uT.x,K=Math.max(0,Math.min(255,Math.round(this.aI9+l/4)));
this.Xm.wconf[0]=K;this.Sg(B);this.finish(W,q,X,this.uT)};_.t6.prototype.qO=function(W,q,X,k,B){this.Xm.wconf[0]=this.aI9;
this.Sg(B)};_.t6.prototype.getSelection=function(W,q,X,k){var B=this.UN;B=W.f.uy(k.x,k.y);var U=_.lR.apE(new hw(Math.floor(B.x),Math.floor(B.y)),this.Xm.wconf,this.Xm.sall);
return U};_.t6.ao8=function(W,q,X,k,B){if(q.x<0||q.x>W.r||q.y<0||q.y>W.$)return null;var U,l=new dU(0,0,W.r,W.$);
if(k)U=W.OL();else{var K=W.Y.length,m=null;if(K!=1){alert(K==0?"No layer selected.":"More than one layer selected.");
return null}var D=W.U[W.Y[0]],Y=D.pw<=0?null:D.pw==1?D.Jx():D.Q2(W).BD;if(B||Y&&Y.kA)m=Y;if(m==null&&D.add.lsct!=null&&D.add.lsct!=e5.nQ){alert("No layer selected.");
return null}if(m==null&&l.AB(D.S))U=D.buffer;else{U=g.j(l.C()*4,W.depth);if(m==null)g.YE(D.buffer,D.S,U,l);
else _.Vz.vY(m.c,m.S,m.color,U,l)}}var a=_.t6.p8(U,l,q,null,X),p=g.Iu(a,l),M=g.j(p.C(),W.depth);g.Z_(a,l,M,p);
return{S:p,c:M}};_.t6._6=function(W,q,X){var k=q.r,B=q.$,l=0,K=0,D=0,m=0;W=new Uint32Array(W.buffer);
var U=[],Y=X.length;for(var N=0;N<Y;N++){var a=X[N],p=Math.round(a.x-.5-q.x),M=Math.round(a.y-.5-q.y);
p=Math.max(0,Math.min(k-1,p));M=Math.max(0,Math.min(B-1,M));var x=M*k+p,R=W[x];U.push([R&255,R>>8&255,R>>16&255,R>>>24])}return U};
_.t6.p8=function(W,q,X,k,B){var U=g.Oj(W);W=g.Cn(W,8);W=new Uint32Array(W.buffer);var l=q.r,K=q.$,D=l*K;
if(k==null)k=_.t6._6(W,q,[X]);var m=Math.round(X.x-.5-q.x),Y=Math.round(X.y-.5-q.y),a=Y*l+m,p=Date.now(),M=g.j(l*K),x=B[0],R=1/x,y=B[1]&&x>0?255:0;
if(B[2]){var s=g.j(M.length),F=new Uint32Array(D),E=1;F[0]=m<<16|Y;s[a]=1;while(E>0){var o=F[E-1];E--;
var G=o>>>16,d=o&65535,N=d*l+G,u=_.t6.Ak(W[N],k);if(u>x){var r=y*(1-Math.max(0,Math.min(1,(u-x)*R)));
M[N]=~~r}else{M[N]=255;if(d!=K-1&&s[N+l]==0){F[E++]=G<<16|d+1;s[N+l]=1}if(d!=0&&s[N-l]==0){F[E++]=G<<16|d-1;
s[N-l]=1}if(G!=l-1&&s[N+1]==0){F[E++]=G+1<<16|d;s[N+1]=1}if(G!=0&&s[N-1]==0){F[E++]=G-1<<16|d;s[N-1]=1}}}}else{for(var N=0;
N<D;N++){var u=_.t6.Ak(W[N],k);if(u<=x)M[N]=255}for(var d=0;d<K;d++)for(var G=0;G<l;G++){var N=d*l+G;
if(M[N]==0&&(G>0&&(M[N-1]==255||d>0&&M[N-l-1]==255||d<K-1&&M[N+l-1]==255)||G<l-1&&(M[N+1]==255||d>0&&M[N-l+1]==255||d<K-1&&M[N+l+1]==255)||d>0&&M[N-l]==255||d<K-1&&M[N+l]==255)){var u=_.t6.Ak(W[N],k),r=y*(1-Math.max(0,Math.min(1,(u-x)*R)));
M[N]=~~r}}}M=g.Cn(M,U);return M};_.t6.Ak=function(W,q){var X=q.length,k=_.t6.anY(W,q[0]),N=1;while(N!=X){k=Math.min(k,_.t6.anY(W,q[N]));
N++}return k};_.t6.anY=function(W,q){var X=W&255,k=W>>>8&255,B=W>>>16&255,U=W>>>24&255;if(q[3]==0)return U<5?0:255;
var l=Math.max(Math.abs(X-q[0]),Math.max(Math.abs(k-q[1]),Math.abs(B-q[2])));return U==0?255:l};_.xl=function(W,q){if(q)_.Vz.call(this);
else if(W)_.Vz.call(this,[10,49],_.Fb,"tools/camove");else _.Vz.call(this,[10,26],_.OU,"tools/patch");
this.iH=null;this.G2=null;this.h=null;this.l7=null;this.B8=new hw;this.FU=null;this.pL=null};_.xl.prototype=new _.Vz;
_.xl.prototype.mc=function(W,q,X,k,B){var U=W.f.uy(B.x,B.y);if(W.d&&g.Sj(U,W.d.c,W.d.S)){var l=new dU(0,0,W.r,W.$),K=l.x$(W.d.S);
if(!W.or()||K.PM())return;if(!0){var D=g.j(K.C(),W.depth);g.Z_(W.d.c,W.d.S,D,K);W.d={c:D,S:K}}this.XX(W);
this.JN(W);this.l7=U;this.B8=new hw(U.x-W.d.S.x,U.y-W.d.S.y);this.pL=g.j(W.d.S.C()*4,W.depth);this.pL.fill(g.bH(W.depth));
if(this.Xm.patch==1){var m=W.U[W.Y[0]];m.iZ(W,W.d,!0);if(m.dg==null)this.l7=null}this.FU=W.d.S.P()}else{this.G2={n:[U.x,U.y],zb:["M"]};
this.iH=U}};_.xl.prototype.lG=function(W,q,X,k,B){var U=W.f.uy(B.x,B.y);if(this.l7){if(this.Xm.patch==1){if(W.TC.length==0){var l=W.U[W.Y[0]].dg,K=U.x-this.B8.x,D=U.y-this.B8.y;
_.U6.$k(W,W.Y[0],Math.round(K-l.jl.x),Math.round(D-l.jl.y))}}else this.acl(W,U,"clone")}if(this.iH){this.G2.zb.push("L");
this.G2.n.push(U.x,U.y);this.iH=U;W.W.Qc=this.G2;W.R2=!0}};_.xl.prototype.iY=function(W,q,X,k,B){var U=W.f.uy(B.x,B.y);
if(this.l7){var l=W.d.S.P();if(this.id==_.Fb){var K=W.U[W.Y[0]];K.TT(W,K.dg);W.d.S=this.FU.P();var D=g.j(W.d.S.C()*4,W.depth);
g.fP(W.d.c,D,3);this.Lv(W,"sheal",D,W.d.S,W.d.S);W.d.S=l;l=l.xw(this.FU)}this.acl(W,U,"heal");this.finish(W,l,null,null,!0);
W.I_(l);this.l7=null}if(this.iH){var m=_.lR._q(this.Xm.setop,k.D(bu.m4),k.D(bu.Wr)),Y=new ip(S.E.dq,!0);
if(this.G2.n.length<=4)Y.data=_.lR.XU();else Y.data=_.lR.tq(this.G2.n,m);q.T(Y);this.iH=null;W.W.Qc=null;
W.R2=!0}};_.xl.prototype.cv=function(){return this.h};_.xl.prototype.Os=function(W,q,X,k,B){_.Vz.prototype.Os.call(this,W,q,X,k,B);
this.Sx(B,k)};_.xl.prototype.Sx=function(W,q){var X="auto;";if(q!=null&&q.D(bu.m4)&&!q.D(bu.Wr)||this.Xm.setop=="union")X="copy";
var k=new ip(S.E.H,!0);k.data={R:S.m.db,pq:X};if(this.caller)this.caller.T(k)};_.xl.prototype.acl=function(W,q,X){var k=new hw(Math.round(this.l7.x-q.x),Math.round(this.l7.y-q.y));
if(this.Xm.patch==1)k.cQ(-k.x,-k.y);this.h=k;this.Lv(W,X,this.pL,W.d.S,W.d.S);this.I_(W,W.d.S)};_.abh=function(){_.xl.call(this,!0);
this.Xm.patch=1};_.abh.prototype=new _.xl(!0,!0);_.s8=function(W){if(W)_.Vz.call(this,[10,52],_.a0n,"tools/meraser");
else _.Vz.call(this,[10,13],_.agy,"tools/pbucket");this.CD=!1;this.agU=W};_.s8.prototype=new _.Vz;_.s8.prototype.enable=function(W,q,X,k){var B=new ip(S.E.H,!0);
B.data={R:S.m.db,pq:"default"};q.T(B)};_.s8.prototype.QL=function(W,q){};_.s8.prototype.mc=function(W,q,X,k,B){if(this.PY(W,q,X,k,B,!0))return;
this.CD=!0};_.s8.prototype.lG=function(W,q,X,k,B){if(this.PY(W,q,X,k,B))return};_.s8.prototype.iY=function(W,q,X,k,B,U){this.enable(W,q,X,k);
var l=this.CD;this.CD=!1;if(!l||U)return;if(!W.or())return;var K=W.f.uy(B.x,B.y),D=_.t6.ao8(W,K,this.Xm.wconf,this.Xm.sall,!0);
if(D==null)return;if(W.d){var m=W.d.S.x$(D.S);if(m.C()<D.S.C()){var Y=g.j(m.C(),W.depth);g.Z_(D.c,D.S,Y,m);
D.S=m;D.c=Y}}var a=g.j(D.S.C()*4,W.depth),p=g.gC(X.w5,1);g.t3(a,p.o,p.L,p.X);g.fP(D.c,a,3);this.XX(W);
this.Lv(W,this.agU?"erase":"draw",a,D.S,D.S);this.I_(W,D.S);this.finish(W,D.S)};_.R4=function(){_.lR.call(this,[10,14],_.ag7,"tools/plasso");
this.Xs=[];this.zC=null;this.G2=null;this.a7D=0};_.R4.prototype=new _.lR;_.R4.prototype.disable=function(W,q,X,k){this.zE(W)};
_.R4.prototype.S4=function(W,q,X,k){this.Xs=[bu.GD,bu.gB]};_.R4.prototype.hK=function(W){return this.Xs.indexOf(W)!=-1};
_.R4.prototype.Ps=function(W){return this.G2!=null};_.R4.prototype.ux=function(){return this.G2!=null};
_.R4.prototype.mf=function(){return this.G2!=null};_.R4.prototype.HL=function(W,q,X,k){if(this.G2==null)return;
var B=this.G2,U=B.n,l=U.length-2,K=this.UN;if(this.o8.uS(1)&&X.D(bu.Wr)&&k.Vj){U.push(0,0);B.zb.push("L");
l+=2}else if(X.D(bu.m4))K=_.ce.XQ(new hw(U[l-2],U[l-1]),K);U[l]=K.x;U[l+1]=K.y;W.W.Qc=B;W.R2=!0};_.R4.prototype.qO=function(W,q,X,k){var B=Date.now();
if(this.G2==null)this.G2={n:[this.UN.x,this.UN.y,this.UN.x,this.UN.y],zb:["M","L"]};else{this.HL(W,q,X,k);
if(B-this.a7D<250||hw.tj(this.UN,new hw(this.G2.n[0],this.G2.n[1]))<_.YA(W,k)){this.zC=this.G2;this.finish(W,q,X,k);
this.zE(W);return}this.G2.zb.push("L");this.G2.n.push(this.UN.x,this.UN.y)}this.a7D=B;W.W.Qc=this.G2};
_.R4.prototype.zE=function(W){this.G2=null;this.Xs=[];if(W!=null){W.W.Qc=null;W.R2=!0}};_.R4.prototype.jm=function(W,q,X,k){_.lR.prototype.jm.call(this,W,q,X,k);
if(k.D(bu.hJ)&&this.G2==null&&this.zC&&W.d!=null){var B=new ip(S.E.O);B.J=_.Yo;B.data={R:"h_stepbck"};
q.T(B);this.S4(W,X,k,null);this.G2=this.zC;return}if(this.G2==null)return;if(k.D(bu.GD)||k.D(bu.gB)){this.G2.n.pop();
this.G2.n.pop();this.G2.zb.pop();this.HL(W,X,k)}if(k.D(bu.$H)){if(this.G2.n.length>4){this.zC=this.G2;
this.finish(W,X,k)}this.G2=null}if(k.D(bu.hJ)){this.G2=null}W.W.Qc=this.G2;W.R2=!0};_.R4.prototype.getSelection=function(W,q,X,k){return _.lR.tq(this.G2.n,null,this.Xm.anta)};
_._K=function(){_.lR.call(this,[10,10],_.aJ6,"tools/mlasso");this.Xs=[];this.G=[];this.K9=[];this.tE=[];
this.a1u=null;this.anX=0;this.Vd=null;this.ug=null;this.qY=0;this.pX=0};_._K.prototype=new _.lR;_._K.prototype.disable=function(W,q,X,k){this.clear(W)};
_._K.prototype.Ps=function(W){return this.G.length!=0};_._K.prototype.mf=function(){return this.G.length!=0};
_._K.prototype.hK=function(W){return this.Xs.indexOf(W)!=-1};_._K.prototype.S4=function(W,q,X,k){this.Xs=[bu.GD,bu.gB];
var B=this.FD(this.mv,W);if(this.G.length!=0&&(hw.tj(B,this.G[0])<_.YA(W,k)||Date.now()-this.qY<300)){this.h6(W,this.G[0]);
this.finish(W,q,X);this.clear(W);return}this.qY=Date.now();if(this.G.length!=0)B=this.cd(B,W);else{var U=W.r,l=W.$,K=g.Cn(W.OL(),8),D=UZIP.adler(K,0,K.length);
if(D==this.anX){}else{var m=g.j(U*l),Y=U*l*4;for(var N=0;N<Y;N+=4)m[N>>>2]=~~(.5+g.jN(K[N],K[N+1],K[N+2])*(K[N+3]*(1/255)));
this.a1u=g.mE.aGB(m,U,l);this.anX=D}this.ug=new Uint16Array(U*l)}this.h6(W,B);this.pX=X.D(bu.Wr)?1:0;
this.oH(W)};_._K.prototype.h6=function(W,q){var X=this.G;this.K9[X.length]=this.tE.length;if(X.length!=0){g.mE.Eg(this.Vd,q.y*W.r+q.x);
var k=this.Ea(W,q);k.reverse();var B=_._K.aKX(W,k);this.tE=this.tE.concat(B)}X.push(q);this.aed(W)};
_._K.prototype.aed=function(W){var q=this.G[this.G.length-1],X=q.y*W.r+q.x;this.Vd=g.mE.axt(this.a1u,X,W.r,W.$);
this.ug.fill(0)};_._K.prototype.FD=function(W,q){return new hw(Math.floor(Math.max(0,Math.min(q.r-1,W.x))),Math.floor(Math.max(0,Math.min(q.$-1,W.y))))};
_._K.prototype.clear=function(W){this.tE=[];this.G=[];this.K9=[];this.Vd=null;this.ug=null;if(W!=null){W.W.Qc=null;
W.W.x7=[];W.R2=!0}this.Xs=[]};_._K.prototype.HL=function(W,q,X,k){var B=this.G,U=B.length;if(U==0)return;
var l=this.cd(this.FD(this.UN,W),W),K=this.Ea(W,l);for(var N=0;N<K.length;N++){var D=K[N],m=new hw(D%W.r,Math.floor(D/W.r));
if(this.ug[D]>30&&hw.tj(m,B[U-1])>20){this.h6(W,m);return}this.ug[D]++}if(this.pX==1&&k.Vj)this.h6(W,l);
this.oH(W)};_._K.prototype.oH=function(W){var q=this.G;if(q.length!=0){var X=this.cd(this.FD(this.UN,W),W),k=this.Ea(W,X);
k.reverse();var B=_._K.aKX(W,k),U=this.tE.concat(B),l=W.W.Qc={n:U,zb:["M"]};for(var N=2;N<U.length;N+=2)l.zb.push("L")}W.W.x7=[];
for(var N=0;N<q.length;N++)W.W.x7.push(q[N].x+.5,q[N].y+.5);W.R2=!0};_._K.prototype.qO=function(W,q,X,k){};
_._K.prototype.jm=function(W,q,X,k){if(this.G.length==0)return;if(k.D(bu.GD)||k.D(bu.gB)){this.G.pop();
this.tE=this.tE.slice(0,this.K9[this.G.length]);this.K9.pop();if(this.G.length==0)this.clear(W);else this.aed(W);
this.oH(W)}if(k.D(bu.$H)){var B=this.FD(this.UN,W);this.h6(W,B);this.finish(W,X,k);this.clear(W)}if(k.D(bu.hJ)){this.clear(W)}};
_._K.prototype.getSelection=function(W,q,X,k){return _.lR.tq(this.tE,null,this.Xm.anta)};_._K.prototype.Ea=function(W,q){var X=this.G[this.G.length-1],k=X.y*W.r+X.x,B=q.y*W.r+q.x;
if(this.pX==1)return[B,k];var U=[B];while(B!=k){B=B+this.Vd.yH[B];U.push(B);if(U.length>5e3){console.log(U);
throw"e"}}return U};_._K.aKX=function(W,q){var X=[],k=W.r;for(var N=0;N<q.length;N++){var B=q[N];X.push(B%k+.5,Math.floor(B/k)+.5)}return X};
_._K.prototype.cd=function(W,q){var X=q.r,k=q.$,B=W.P(),l=3;g.mE.Eg(this.Vd,W.y*X+W.x);var U=this.Vd.aL[W.y*X+W.x];
for(var K=-l+1;K<l;K++)for(var D=-l+1;D<l;D++){var m=W.x+D,Y=W.y+K;if(m<0||m>=X||Y<0||Y>=k)continue;
g.mE.Eg(this.Vd,Y*X+m);if(this.Vd.aL[Y*X+m]<U)B.cQ(m,Y)}return B};_.VP=function(){_.CB.call(this,[10,36],_.ns,"tools/ruler");
this.qH=null;this.Un=null;this.gx=null;this.YH=null;this.hy=null};_.VP.prototype=new _.CB;_.VP.prototype.Ps=function(W){return W.Vj};
_.VP.prototype.enable=function(W,q,X,k){_.CB.prototype.enable.call(this,W,q,k,X);if(W){this.QV(W)}};
_.VP.prototype.disable=function(W,q,X,k){if(W)this.zE(W)};_.VP.prototype.s4=function(W,q,X,k,B){if(W.R=="unit"){var U=this.qH,l=W._;
X.mP={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Prpr",keyID:"measurementScale"}},{t:"Enmr",v:{classID:"Dcmn",typeID:"Ordn",enum:"Trgt"}}]},T:{t:"Objc",v:{classID:"measurementScale",pixelLength:{t:"long",v:l[0]},logicalLength:{t:"doub",v:l[1]},logicalUnits:{t:"TEXT",v:l[2]}}}};
this.hv(q,S.E.H,{R:S.m.os,J:this.id,lX:U[0],eN:U[1],fa:U[2],mC:X.mC,a3V:X.r,mP:X.mP})}if(W.R=="reset"){this.qH=this.gx=null;
this.QV(X)}};_.VP.prototype.mc=function(W,q,X,k,B){var U=_.YA(W,B),l=W.f.uy(B.x,B.y);l.x=Math.round(l.x);
l.y=Math.round(l.y);var K=this.qH;this.Un=K?K.slice(0):null;var D=K&&hw.tj(l,K[0])<U,m=K&&hw.tj(l,K[1])<U,Y=K&&K[2]&&hw.tj(l,K[2])<U;
if(D||m||Y){if(k.D(bu.Wr)&&K.length==2){if(m){var a=K[0];K[0]=K[1];K[1]=a}K[2]=K[0].P();this.gx=[2]}else this.gx=[D?0:m?1:2]}else if(K&&_.VP.ahb(K[0],K[1],l)<U&&Math.min(K[0].x,K[1].x)-5<=l.x&&l.x<=Math.max(K[0].x,K[1].x)+5&&Math.min(K[0].y,K[1].y)-5<=l.y&&l.y<=Math.max(K[0].y,K[1].y)+5){this.gx=[];
this.hy=[];for(var N=0;N<K.length;N++){this.gx.push(N);this.hy.push(K[N].P())}this.YH=l}else{this.qH=[l.P(),l.P()];
this.gx=[1]}};_.VP.prototype.lG=function(W,q,X,k,B){if(this.gx==null)return;var U=this.qH,l=this.gx,K=W.f.uy(B.x,B.y);
K.x=Math.round(K.x);K.y=Math.round(K.y);if(l.length>1){var D=K.x-this.YH.x,m=K.y-this.YH.y;for(var N=0;
N<U.length;N++){U[N]=this.hy[N].P();U[N].offset(D,m)}}else{U[l[0]].cQ(K.x,K.y);if(k.D(bu.m4)){U[l[0]]=_.ce.XQ(U[1-l[0]],U[l[0]])}}this.QV(W);
this.hv(q,S.E.H,{R:S.m.os,J:this.id,lX:U[0],eN:U[1],fa:U[2],mC:W.mC,a3V:W.r,mP:W.mP});W.f.q3=g.b.DS([U[0].x,U[0].y,U[1].x,U[1].y])};
_.VP.prototype.iY=function(W,q,X,k,B,U){this.gx=null;if(U){this.qH=this.Un.slice(0);this.QV(W)}};_.VP.prototype.hv=function(W,q,X){var k=new ip(q,!0);
k.data=X;W.T(k)};_.VP.prototype.QV=function(W){var q=this.qH;if(q==null)this.zE(W);else{var X=[q[1].x,q[1].y,q[0].x,q[0].y],k=["M","L"];
if(q.length>2){X.push(q[2].x,q[2].y);k.push("L")}W.W.Qc={zb:k,n:X};W.W.x7=X}W.R2=!0};_.VP.prototype.zE=function(W){W.W.Qc=null;
W.W.x7=[]};_.VP.ahb=function(W,q,X){var k=q.x-W.x,B=q.y-W.y,U=Math.abs(B*X.x-k*X.y+q.x*W.y-q.y*W.x),l=Math.sqrt(k*k+B*B);
return l==0?0:U/l};_.za=function(){_.Vz.call(this,[10,19],_.Q4,"tools/sharpen");this.Wf="copy"};_.za.prototype=new _.Vz;
_.za.prototype.mc=function(W,q,X,k,B){var U=this.Xm.pdetail?bf.bl:bf.Q4;if(k.D(bu.Wr))U=bf.rb;this.co(W,X,k,B,this.Xm.strn,U);
if(this.Ay==null)return;this.nR(W)};_.za.prototype.lG=function(W,q,X,k,B){this._N(W,q,X);if(this.bv)this.c1(W,X,B);
if(this.Ay==null)return;if(!B.Vj)return;this.QX(W,X,k,B);this.nR(W)};_.oi=function(){_.Vz.call(this,[10,24],_.aw,"tools/shbrush");
this.Wf="draw";this.Xm.opacity=.5};_.oi.prototype=new _.Vz;_.oi.prototype.mc=function(W,q,X,k,B){this.co(W,X,k,B,1);
if(this.Ay==null)return;this.JN(W);this.nR(W)};_.oi.prototype.lG=function(W,q,X,k,B){this._N(W,q,X);
if(this.bv)this.c1(W,X,B);if(this.Ay==null)return;if(!B.Vj)return;this.QX(W,X,k,B);this.nR(W)};_.oi.prototype.iY=function(W,q,X,k,B){if(this.Ay==null)return;
this.Lv(W,"sheal",this.Ay.uY(),this.Ay.wu(),this.Ay.NU(),null);this.I_(W,this.Ay.NU());_.Vz.prototype.iY.call(this,W,q,X,k,B)};
_.GP=function(){_.Vz.call(this,[10,20],_.rm,"tools/smudge");this.Wf="copy"};_.GP.prototype=new _.Vz;
_.GP.prototype.mc=function(W,q,X,k,B){var U=this.Xm.brush.toolOptions;this.co(W,X,k,B,this.Xm.strn,bf.rm);
if(this.Ay==null)return;this.nR(W)};_.GP.prototype.lG=function(W,q,X,k,B){this._N(W,q,X);if(this.bv)this.c1(W,X,B);
if(this.Ay==null)return;if(!B.Vj)return;this.QX(W,X,k,B);this.nR(W)};_.TO=function(){_.Vz.call(this,[10,23],_.ed,"tools/sponge");
this.Wf="sponge"};_.TO.prototype=new _.Vz;_.TO.prototype.mc=function(W,q,X,k,B){this.co(W,X,k,B,this.Xm.flow);
if(this.Ay==null)return;this.nR(W)};_.TO.prototype.lG=function(W,q,X,k,B){this._N(W,q,X);if(this.bv)this.c1(W,X,B);
if(this.Ay==null)return;if(!B.Vj)return;this.QX(W,X,k,B);this.nR(W)};_.OK=function(){_.CB.call(this,[10,17],_.hm,"tools/zoom");
this.i5=!1;this.IK=!0;this.OX=!1;this.UC=0;this.tC=null;this.YG=null;this.O1=0;this.qQ=null;this.ai0=0;
this.ZS=new j_([{name:[8,0],Rl:"Ctrl + +"},{name:[8,1],Rl:"Ctrl + -",nC:!0},{name:[20,3],Rl:"Ctrl + 0"},{name:["VAR0: 100%",[20,2]],Rl:"Ctrl + 1"}],[{s:S.E.O,J:_.hm,p:{R:"zoom",IK:!0}},{s:S.E.O,J:_.hm,p:{R:"zoom",IK:!1}},{s:S.E.O,J:_.hm,p:{R:"adapt",_:"fitscr"}},{s:S.E.O,J:_.hm,p:{R:"adapt",_:"pixel"}}])};
_.OK.prototype=new _.CB;_.OK.prototype.xM=function(W,q,X,k,B){var U=this.ZS;U.l();U.parent=q;U.update(W,X);
var l=new ip(S.E.H,!0);l.data={R:S.m.k8,ii:U,x:B.Ty+2,y:B.Be+1};q.T(l)};_.OK.prototype.enable=function(W,q,X,k){this.DB(q,k);
if(W&&Date.now()-this.UC<300)this.s4({R:"adapt",_:"pixel"},q,W,k,X);this.UC=Date.now()};_.OK.prototype.mc=function(W,q,X,k,B){this.YG=new hw(B.x,B.y);
this.O1=W.f.$Z;this.qQ=W.f.h.P()};_.OK.prototype.lG=function(W,q,X,k,B){if(this.YG==null)return;var U=Math.exp(Math.log(this.O1)+(B.x-this.YG.x)/64);
U=Math.max(.02,Math.min(_.OK.ie[0],U));W.f.$Z=this.O1;W.f.h=this.qQ.P();this.s4({R:"zoom",$Z:U,yP:this.YG,OX:this.OX},q,W,k,X)};
_.OK.prototype.iY=function(W,q,X,k,B){if(hw.tj(this.YG,B)<4){var U=this.a0l(k);this.s4({R:"zoom",IK:U,yP:B,OX:this.OX},q,W,k,X)}this.YG=null};
_.OK.ie=[128,64,32,16,12,8,6,5,4,3,2,1,2/3,1/2,1/2*(2/3),1/4,1/4*(2/3),1/8,1/8*(2/3),1/16,1/16*(2/3),1/32,1/32*(2/3),1/64];
_.OK.Xr=function(W,q,X,k){var B=1;while(W*B*1/2>X||q*B*1/2>k)B*=1/2;if(W*B*2/3>X||q*B*2/3>k)B*=1/2;else if(W*B>X||q*B>k)B*=2/3;
return B};_.OK.ao7=function(W,q){var X=_.OK.af1(W);if(q&&X==0)return W;if(!q&&X==_.OK.ie.length-1)return W;
return _.OK.ie[q?X-1:X+1]};_.OK.af1=function(W){var q=0;while(_.OK.ie[q]>W)q++;return q};_.OK.yX=function(W,q,X,k){var B=W.LV;
if(k==0||k==null){k=_.OK.ao7(W.$Z,X);if(k==W.$Z)return}var U=W.uy(q.x,q.y);U.x=Math.max(0,Math.min(B.r,U.x));
U.y=Math.max(0,Math.min(B.$,U.y));if(!1){}else{var l=W.bq(),K=W.$Z/k;l.translate(-U.x,-U.y);l.scale(K,K);
l.translate(U.x,U.y);W.aq5(l)}};_.OK.prototype.s4=function(W,q,X,k,B){if(W.R=="pzoom"){if(typeof W._=="string")return;
W={R:"zoom",$Z:W._/100}}if(W.R=="prvw"){X.add.prvw=1-X.add.prvw;X.R2=!0}var U=0,l=!1,K=null;if(W.R=="adapt"){var D=0;
if(W._=="pixel")D=1;if(W._=="fitscr"){var D=0,m=X.f.eO.r,Y=X.f.eO.$,a=new dU(0,0,X.r,X.$),p=g.b.Lw(a).n,M=new ka;
M.rotate(X.f.Zi);g.b.M(p,M,p);var x=g.b.Hb(p),R=B.RS?g.Qs.fw+4:8;D=Math.min((m-R*2)/x.r,(Y-R*2)/x.$);
X.f.h.cQ(0,0)}K=new hw(Math.round(X.f.eO.r/2),Math.round(X.f.eO.$/2));U=D;_.OK.yX(X.f,K,l,U);X.gd=!0}if(W.R.startsWith("multi")){function y(H){var P=H[0].x-H[1].x,L=H[0].y-H[1].y;
return Math.sqrt(P*P+L*L)}function s(H){return new hw((H[0].x+H[1].x)/2,(H[0].y+H[1].y)/2)}function F(H){var P=H[0].x-H[1].x,L=H[0].y-H[1].y;
return Math.atan2(L,P)}var E=W.m7,o=s(E);if(W.R=="multidown"){this.tC=[E,X.f.$Z,X.f.uy(o.x,o.y),X.f.Zi]}else{var G=_.OK.ie;
U=this.tC[1]*y(E)/y(this.tC[0]);U=Math.max(G[G.length-1],Math.min(G[0],U));if(U!=X.f.$Z)_.OK.yX(X.f,o,l,U);
var d=this.tC[2],u=X.f.az(d.x,d.y),r=X.f.h;r.x=Math.round(r.x+o.x-u.x);r.y=Math.round(r.y+o.y-u.y);var v=this.tC[3]+(F(E)-F(this.tC[0])),c=2*Math.PI,V=[0,c/4,c/2,c*3/4,c];
while(v<0)v+=c;v=v%c;for(var N=0;N<V.length;N++)if(Math.abs(v-V[N])<.05){v=V[N];break}X.f.Zi=v;X.gd=!0}}if(W.R=="scroll"){K=W.yP;
var G=_.OK.ie,j=W.jE.y,Q=1+Math.abs(j)*8e-4*(W.a9k?10:1);if(j>0)Q=1/Q;U=X.f.$Z*Q;_.OK.yX(X.f,K,l,Math.min(G[0],Math.max(G[G.length-1],U)));
X.gd=!0}if(W.R=="zoom"){var H=W.OX?q.Bx:[X];for(var N=0;N<H.length;N++){var T=H[N],e=T.f;K=W.yP?W.yP:new hw(Math.round(e.eO.r/2),Math.round(e.eO.$/2));
if(W.$Z!=null)U=W.$Z;else l=W.IK;_.OK.yX(e,K,l,U);T.gd=!0}}if(W.R=="mskView"){var z=X.U[X.Y[0]];if(z.pw<=0){z.pw=1;
X.qg=!0}var J=z.pw==3?z.Q2(X).BD:z.Jx();if(W._==0){X.f.K7=[1,1,1];J.kA=!1}if(W._==1){X.f.K7=[1,1,1];
J.kA=!0}if(W._==2){X.f.K7=[0,0,0];J.kA=!0}for(var N=0;N<X.RH.length;N++)X.RH[N].kA=!1;X.TC=[];X.R2=!0}};
_.OK.prototype.jm=function(W,q,X,k){if(this.i5!=k.D(bu.Wr)){this.i5=k.D(bu.Wr);var B={R:S.m.os,J:this.id,i5:this.i5},U=new ip(S.E.H,!0);
U.data=B;q.T(U);this.DB(q,k)}};_.OK.prototype.DB=function(W,q){var X=new ip(S.E.H,!0),k=this.a0l(q);
X.data={R:S.m.db,pq:k?"zoom-in":"zoom-out"};W.T(X)};_.OK.prototype.Os=function(W,q,X,k){this.IK=W.IK;
this.OX=W.OX;this.DB(q,k)};_.OK.prototype.a0l=function(W){var q=this.IK;if(W.D(bu.BC)&&W.D(bu.p7))q=!0;
if(this.i5)q=!q;return q};_.OK.aKc=function(W,q){if(W.D(bu.Et)||W.D(bu.a6N)){q.J=_.hm;q.data={R:"zoom",IK:!0}}if(W.D(bu.wn)){q.J=_.hm;
q.data={R:"zoom",IK:!1}}if(W.D(bu.gi)){q.J=_.hm;q.data={R:"adapt",_:"fitscr"}}if(W.D(bu.rp)){q.J=_.hm;
q.data={R:"adapt",_:"pixel"}}};_.U0=function(W,q,X){_.CB.call(this,W,q,X);this.LV=null;this.e=null;this.gr=null;
this.a5Z=0;this.JA=null;this.BX=-1;this.apw=null;this.ab7=null};_.U0.prototype=new _.CB;_.U0.Ke=function(W,q){var X={t:"obj ",v:[{t:"prop",v:{classID:"Path",keyID:"WrPt"}}]},k=W==null?{classID:"null",null:X,WhPt:{t:"bool",v:!0}}:{classID:"Strk",null:X,Usng:{t:"type",v:{classID:W}},__name:"Stroke"};
if(q)k.Prs={t:"bool",v:!0};return{yx:W==null?"fill":"stroke",Og:k}};_.U0.sc=function(N){var W={t:"Enmr",v:{classID:"Path",typeID:"Path",enum:"vectorMask"}},k;
if(N==3){var q=j0.O8("Lyr",!0);q.v.unshift(W);return{yx:"delete",Og:{classID:"Dlt",null:q}}}var q=j0.O8("Path"),X={t:"obj ",v:[W]};
if(N<2)k={t:"enum",v:{vectorMaskEnabled:N==0?"RvlA":"HdAl"}};else k=j0.O8("Path",!0);return{yx:"make",Og:{classID:"Mk",null:q,At:X,Usng:k}}};
_.U0.prototype.enable=function(W,q,X,k,B){this.e=X;var U=new ip(S.E.H,!0);U.data={R:S.m.db,pq:"default"};
q.T(U)};_.U0.prototype.xM=function(W,q,X,k,B){var U=W.Yb(),l=U[0],K=U[1];if(K.length==0)return;var D=l[K[0]],m=D.add.vmsk,Y=W.f.uy(B.x,B.y),a=4*_.W$()/W.f.$Z,p=new dU(Y.x-a,Y.y-a,a*2,a*2),M=g.z.L0(m.G,p)[0];
if(M.length!=0){m.rP=M;W.R2=!0}var x=g.z.Sj(m.G,Y).bT;if(x!=-1){m.Y=[x];W.R2=!0}var R=new ip(S.E.H,!0);
R.data={R:S.m.os,J:this.id,Dv:B,BL:W,e:X};q.T(R)};_.U0.prototype.arf=function(W,q){var X=new ip(S.E.H,!0);
X.data={R:S.m.Dt,rl:aI.U$};if(!q.$O)W.T(X);X.data={R:S.m.Dt,rl:aI.zg};if(!q.bm.RM)W.T(X)};_.U0.prototype.yi=function(W,q,X,k,B){if(this.JA&&this.BX==-1){console.log("updating over live");
this.Go(W,X)}if([_.FE,_.h0,_.lb,_.c0,_.Lu].indexOf(this.id)!=-1)_.CB.a9V.call(this,W,q,X,k);if(W==null)return;
if(X.bt!=this.id&&B==null)return;if(W.Y.length==0)return;var U=W.U[W.Y[0]],l=U.add.vmsk,K=U.add.vstk;
if(cC==0){var D=kE.yB(U.add);this.LV=W;this.gr=q;if(U.Nj()&&l!=null&&(JSON.stringify(K)!=JSON.stringify(X.Jm)||JSON.stringify(D)!=JSON.stringify(X.gh))){this.a5Z=Date.now();
var m=new ip(S.E.H,!0);m.data={R:S.m.Dt,rl:aI.td,_:D};q.T(m);m.data={R:S.m.Dt,rl:aI.fQ,_:K};q.T(m)}}else{var Y=null;
for(var N=0;N<W.Y.length;N++){var U=W.U[W.Y[N]],a=U.add.vstl;if(a==null)continue;if(Y==null)Y=g.N(a);
else{for(var p in a){if(Y[p]==null)continue;if(a[p]==a.rD){if(JSON.stringify(a[p])!=JSON.stringify(Y[p]))delete Y[p]}else if(a[p]==a.jg){if(JSON.stringify(a[p])!=JSON.stringify(Y[p]))delete Y[p]}else if(a[p]!=Y[p])delete Y[p]}}}if(Y==null)return;
var M=JSON.stringify(Y);if(M!=JSON.stringify(X.Hr)){var m=new ip(S.E.H,!0);m.data={R:S.m.Dt,rl:aI.z7,_:Y};
q.T(m)}}};_.U0.prototype.QL=function(W,q){if(q==aI.VH||q==aI.NC)this.yi(null,null,W,null);if(this.LV==null)return;
if(q==aI.NC||q==aI.td||q==aI.fQ){if(Date.now()-this.a5Z<50)return;var X=q==aI.td,k=this.LV,B=X?W.gh:W.Jm,U=[],l=k.Y;
for(var N=0;N<l.length;N++){var K=l[N],D=k.U[K];if(!D.Nj()||D.add.vmsk==null)continue;U.push(K)}var m=new ip(S.E.O,!0);
m.J=_.b9;m.data={R:b.X5,Jp:U,kn:X,_:B};if(U.length!=0)this.gr.T(m)}};_.U0.prototype.aas=function(W){if(typeof W=="number"){var q=new ip(S.E.dq,!0);
q.data=_.Wp.u$(0);q.data.Og.Usng.v.Type.v.Clr.v=g.ov.E2({o:W>>>16&255,L:W>>>8&255,X:W>>>0&255});this.gr.T(q)}};
_.U0.prototype.s4=function(W,q,X,k,B){this.gr=q;if(W.R=="newfill"){if(W.R7==0){var U=new ip(S.E.H,!0);
U.data={R:S.m.K_,ud:"colorpicker",ke:B.w5,om:this.aas.bind(this)};q.T(U)}}else if(W.R=="smplp"){if(X==null)return;
var l=X.Yb(),K=l[0],D=l[1];if(D.length==0){alert("No paths selected");return}var m=K[D[0]];if(m.add.vmsk.Y.length<=0){alert("No paths selected");
return}if(this.fl==null){this.fl=m.add.vmsk.P();this.gy=JSON.stringify(m.add.vogk);this.G2=m;this.LV=X}var U=new ip(S.E.H,!0);
U.data={R:S.m.K_,ud:"simplifypath",bG:100,tO:this.aj0.bind(this)};q.T(U)}else if(W.R=="pathedit"){var Y=W.w7,a="",p=X.RM.slice(0),M=X.Lf.slice(0),x=X.RM.slice(0),R=X.Lf.slice(0),y=X.sY,s=X.sY;
if(Y=="rnm"){var F=-1-W.bT,E=p[F],o=ey.hQ(W.name,E.add);if(F!=0)x[F]=o;else{R=[x.length];x.push(o);x[0]=ey.hQ("Work Path")}a="Rename"}else if(Y=="sspath"){if(W._==-1){s=-1;
R=[]}else if(W._==1&&X.sY!=-1)R=[X.sY];else if(X.Lf.length!=0){if(X.Cg){alert("Symmetry can't be used in the Pattern Preview");
return}s=X.Lf[0]}else return;a="Symmetry"}else if(Y=="new"){var o=ey.hQ("Path "+p.length);if(W.wb)o=W.wb;
if(W.ad3){var l=X.Yb(),K=l[0],D=l[1],G=K[D[0]];o.add.vmsk=G.add.vmsk.P();o.add.vogk=g.N(G.add.vogk);
if(G.bT==-1){var d=x[R[0]]=ey.hQ("Path "+p.length);d.name=G.name;d.bT=G.bT}}x.push(o);R=[x.length-1];
a="New";if(W.gY!=null){if(X.Cg){alert("Symmetry can't be used in the Pattern Preview");return}var u=W.gY[0],r=W.gY[1];
o.name=js.get(g.Rv.list[u][0]);var v=g.Rv.Ea(u,r),c=Math.min(X.r,X.$),V=(X.r-c)/2,j=(X.$-c)/2;g.b.M(v.n,new ka(c,0,0,c,V,j),v.n);
o.add.vmsk.G=g.b.gH(v);o.gY=[g.Rv.list[u][1],r];s=R[0];a="New Symmetry"}}else if(Y=="del"){if(X.sh&&X.sh.length!=0){var U=new ip(S.E.dq,!0);
U.data=_.U0.sc(3);q.T(U)}if(R.length==0)return;R.sort(function(H,O){return H-O});if(R[0]==0){x[0]=ey.hQ(p[0].name);
R=R.slice(1)}var Q=0;while(R.length!=0){x.splice(R[0]-Q,1);R=R.slice(1);Q++}a="Delete"}else if(Y=="fromsel"){var m=x[0]=ey.hQ("Work Path");
R=[0];_.U0.aDs(X.d,m);a="Selection to"}var H=new j3(a+" Path",this);H.data={Un:p,yQ:M,a3_:x,RR:R,ab8:y,a3i:s};
if(Y=="fromsel"){H.data.UQ=X.d;H.data.o_=null}X.O_(H);this._j(H.data,X);if(Y=="new"&&W.gY||Y=="sspath"&&W._!=-1){var U=new ip(S.E.H,!0);
U.data={R:S.m.oE,J:_.Xx};q.T(U)}}else{var T=W.xJ,l=X.Yb(W.R=="append"||W.R=="fromAction"),K=l[0],D=l[1],m=K[D[0]],e=m.add.vmsk,z=m.add.vogk,J=e.P(),P=e.P(),L=JSON.stringify(z);
if(W.R=="fromAction"){var A=W.lz,h=A.yx,C=A.Og,w=C.T;if(h=="set"){if(w){z=[g.BI.SV(w,X.r,X.$)];P.G.push({I:0,R3:1,length:0});
g.BI.pp(z,P);T=[12,76,0]}else throw C}else if(h=="draw"){z=[g.BI.SV(C.Shp,X.r,X.$)];P.G.push({I:0,R3:1,length:0});
g.BI.pp(z,P);_.U0.agM(P.G,C.AntA.v,B.w5,q);return}else throw h}else if(W.R=="remove"){if(W.Yk&&P.rP.length!=0){P.G=g.z.a0g(P.G,P.rP,z,W.amd);
var f=g.z._H(P.G);for(var N=0;N<P.Y.length;N++)if(P.Y[N]>=f){P.Y.splice(N,1);N--}P.rP=[];T="Delete Anchors"}else{if(P.Y.length==0)return;
var Q=0;for(var N=0;N<P.Y.length;N++){z.splice(P.Y[N]+Q,1);Q--}P.G=g.z.aLd(P.G,P.Y);P.Y=[];P.rP=[];if(T==null)T="Delete Paths"}}if(W.R=="append"){_.U0.dY(W.am9,P,z)}this.BN(X,m.bT,P,z);
this.Qk(X,T,m.bT,J,P.P(),null,L,JSON.stringify(z))}};_.U0.aDs=function(W,q){if(W==null)return;var X=W.c.slice(0);
for(var N=0;N<X.length;N++)X[N]=X[N]>128?2:1;var k=W.S.P();k.Pt(1,1);var B=g.j(k.C());g.Z_(X,W.S,B,k);
var U=f3.a4(B,k.r,k.$,Math.round(k.C()*2e-5)),l=f3.Yb(U),K=new ka(1,0,0,1,-1+W.S.x,-1+W.S.y);for(var N=0;
N<l.length;N++)g.b.M(l[N].path.n,K,l[N].path.n);for(var N=0;N<l.length;N++){var D=l[N];if(D.color==1&&D.parent==-1)continue;
var m=g.b.gH(l[N].path,!1);m[2].R3=0;q.add.vmsk.G=q.add.vmsk.G.concat(m.slice(2))}q.add.vogk=b.tw(q.add.vmsk.G)};
_.U0.agM=function(W,q,X,k){var B=new b.jY;B.G=B.G.concat(W.slice(2));var U=B.Jx();if(!q)g.round(U.c);
var l=g.j(U.S.C()*4);g.WD(l,(X&255)<<16|(X>>8&255)<<8|(X>>16&255)<<0);g.fP(U.c,l,3);var K=new ip(S.E.O,!0);
K.J=_.AC;K.data={R:"draw",PW:{buffer:l,S:U.S.P()},xJ:this.name};k.T(K)};_.U0.LN=function(W,q){var X=g.z.acy(W.G,W.Y),k=[];
for(var N=0;N<W.Y.length;N++)k.push(g.N(q[W.Y[N]]));return[X,k]};_.U0.dY=function(W,q,X){var k=g.z._H(q.G),B=g.z._H(W[0]);
q.G=q.G.concat(W[0].slice(2));q.Y=[];for(var N=0;N<B;N++)q.Y.push(k+N);for(var N=0;N<B;N++)X.push(g.N(W[1][N]))};
_.U0.prototype.hK=function(W,q){if(q==null)return!1;var X=q.Yb(),k=X[0],B=X[1];if(B.length==0)return!1;
var U=k[B[0]],l=U.add.vmsk;if(l&&l.Y.length+l.rP.length!=0)return[bu.GD,bu.gB].indexOf(W)!=-1};_.U0.prototype.jm=function(W,q,X,k){if(W==null)return;
var B=W.Yb(),U=B[0],l=B[1];if(l.length==0)return;var K=U[l[0]],D=K.add.vmsk;if(k.D(bu.hJ)||k.D(bu.$H)||this.id==_.wz&&k.D(bu.Rt)&&D.rP.length==1){D.rP=[];
W.R2=!0}if(D.Y.length!=0){var m=k.wp(W?W.f.Zi:0);if(m.x!=0||m.y!=0){var Y=D.P(),a=D.P(),p=new ka(1,0,0,1,m.x,m.y),M=K.add.vogk,x=JSON.stringify(M);
if(k.D(bu.Wr)){var R=_.U0.LN(a,M);_.U0.dY(R,a,M)}g.z.Y9(a.G,p,a.Y);g.BI.M(M,g.F.af(p),a.Y);this.BN(W,K.bT,a,M);
this.Qk(W,"Move Paths",K.bT,Y,a.P(),!0,x,JSON.stringify(M))}if(k.D(bu.GD)||k.D(bu.gB))this.s4({R:"remove",Yk:this.id==_.wz},q,W,k,X)}};
_.U0.prototype.Qk=function(W,q,X,k,B,U,l,K){var D=new j3(q,this);D.data={q5:X,S5:k,J6:B,ati:U,apc:l,wr:K};
W.O_(D)};_.U0.prototype._j=function(W,q){if(W.q5!=null)this.BN(q,W.q5,W.J6.P(),JSON.parse(W.wr));else{q.RM=W.a3_.slice(0);
q.Lf=W.RR.slice(0);q.R2=q.qg=!0}if(W.UQ||W.o_){q.d=W.o_;q.r5=!0}if(W.a3i!=null)q.sY=W.a3i};_.U0.prototype.tG=function(W,q){if(W.q5!=null)this.BN(q,W.q5,W.S5.P(),JSON.parse(W.apc));
else{q.RM=W.Un.slice(0);q.Lf=W.yQ.slice(0);q.R2=q.qg=!0}if(W.UQ||W.o_){q.d=W.UQ;q.r5=!0}if(W.ab8!=null)q.sY=W.ab8};
_.U0.prototype.BN=function(W,q,X,k){var B=q<0?W.RM[-1-q]:q<1e6?W.U[q]:W.U[q-1e6].add.TySh,U=B.add.vmsk;
U.c=null;U.Uf=!0;if(U.$a){U.$a.c=null;U.$a.Uf=!0}B.add.vmsk=X;B.add.vogk=k;if(1e6<=q){gZ.MZ(B);var l=W.U[q-1e6],K=B,D=this.e;
hj.SA(l,D.yK);W.I_()}else if(0<=q){X.Uf=!0;B.Ae(W);W.I_()}W.R2=W.qg=!0};_.U0.prototype.Go=function(W,q,X){if(!X)this.avi(W,q);
var k=W.Yb(),B=k[0],U=k[1];for(var l=0;l<U.length;l++){var K=B[U[l]],D=g.BI.aox(K.add.vogk,K.add.vmsk.Y,W.f);
if(D==null)continue;W.R2=!0;if(D[1])W.W.Yz=D[1];if(X){this.JA[0]=D;return}var m=new k1(D[3],!1,!1);m.Ib(W,q);
this.JA=[D,m,K]}};_.U0.prototype.avi=function(W,q){var X=this.JA;if(X==null)return;W.W.Yz=[];W.W.L1=[];
X[1].clear(W);this.JA=null};_.U0.prototype.ax0=function(W,q,X,k,B){var U=this.JA,l=this.BX;if(U==null)return!1;
var K=W.f.uy(B.x,B.y);if(l!=-1){var D=U[0],m=U[1],Y=U[2],a=this.fl.P(),p=JSON.parse(this.gy);if(l==10){U[1].lG(W,X,k,K);
var M=g.F.b6(U[1].LP()),x=g.F.xY(M,g.F.i5(this.ab7));g.BI.M(p,x,a.Y);g.BI.pp(p,a);this.BN(W,Y.bT,a,p)}else{var R=JSON.parse(this.apw),y=new hw(D[2][l*2],D[2][l*2+1]),s=new hw(D[4][0],D[4][1]),F=Math.round(hw.tj(y,K)/Math.sqrt(2));
if(hw.tj(K,s)>hw.tj(y,s))F=0;_.CB.V3(B.x+20,B.y,[js.get([12,56])+": "+F+" px"],W);if(R[0]==8)R[3]=F;
else{var E=F-R[3][l];if(k.D(bu.Wr))R[3][l]=F;else for(var N=0;N<4;N++)R[3][N]=Math.max(R[3][N]+E,0)}var o=new ip(S.E.O,!0);
o.J=_.b9;o.data={R:b._U,_:R};q.T(o)}this.Go(W,X,!0);return!0}else{var G=U[1].x4(K,W.f.$Z,!0);if(G==null&&U[0][1]){var d=g.b.vc(U[0][1],K.x,K.y,7/W.f.$Z);
if(d!=-1)G="default"}var o=new ip(S.E.H,!0);o.data={R:S.m.db,pq:G?G:_.t7()};q.T(o)}};_.U0.prototype.aEw=function(W,q,X,k,B){var U=this.JA;
if(U==null)return!1;var l=W.f.uy(B.x,B.y),K=-1;if(U[1].x4(l,W.f.$Z,!0)&&U[1].mc(W,X,k,l))K=10;else if(U[0][1]){var D=g.b.vc(U[0][1],l.x,l.y,7/W.f.$Z);
if(D!=-1)K=D}if(K!=-1){var m=U[2];this.fl=m.add.vmsk.P();this.gy=JSON.stringify(m.add.vogk);this.BX=K;
this.apw=JSON.stringify(g.BI.b6(W));this.ab7=g.F.b6(U[1].LP());return!0}};_.U0.prototype.ak0=function(W,q,X,k,B){var U=this.JA,l=this.BX;
if(l==-1)return!1;var K=W.f.uy(B.x,B.y);if(l==10){U[1].iY(W,X,k,K);var D=U[2];this.Qk(W,[10,16],D.bT,this.fl,D.add.vmsk,null,this.gy,JSON.stringify(D.add.vogk))}this.BX=-1;
this.Go(W,X)};_.Wp=function(W,q,X,k){_.U0.call(this,W,q,X);this.Xm={shape:jz.wy(),pshape:0,binop:0,crad:0,irad:40,length:4,sides:5,width:5,tolr:5,tsiz:300,cstr:{t:0},anta:!0,aopts:[!1,!1,50,100,0]};
this.aCu=k;this.Ms=null;this.Sv=null;this.cn=null;this.o8=new gM};_.Wp.prototype=new _.U0;_.Wp.prototype.Ps=function(W){return W.Vj&&this.id!=_.IB};
_.Wp.prototype.enable=function(W,q,X,k,B){this.e=X;var U=new ip(S.E.H,!0);U.data={R:S.m.db,pq:_.t7()};
q.T(U);this.Go(W,X)};_.Wp.prototype.disable=function(W,q,X,k){this.avi(W,X)};_.Wp.prototype.jm=function(W,q,X,k){_.U0.prototype.jm.call(this,W,q,X,k);
this.o8.jm(k);this.Ct(q,X)};_.Wp.prototype.Ct=function(W,q){var X=new ip(S.E.H,!0);X.data={R:S.m.os,J:this.id,zi:this.XC(q)};
W.T(X)};_.Wp.prototype.XC=function(W){var q=this.o8.Rk(0),X=this.o8.uS(0),k=_.lR._q(this.Xm.binop,q,X),B=this.id==_.IB?W.gl:W.Bq;
if(B==1&&k==0)k=1;return k};_.Wp.prototype.AM=function(W,q,X,k){};_.Wp.prototype.mc=function(W,q,X,k,B){if(this.aEw(W,q,X,k,B))return;
var U=this.id==_.IB?X.gl:X.Bq;if(U!=2)this.arf(q,X);if(U==2&&!W.or())return;var l=W.f.uy(B.x,B.y);l=_.U6.W1(W,l,X);
this.cn=[l.x,l.y];this.Ms=l;this.Sv=new hw(0,0);this.o8.mc(k)};_.Wp.prototype.a9N=function(W,q,X,k){var B=[this.Ms.P(),q.P()];
X=this.o8.Rk(1)||X.D(bu.m4)||this.o8.uS(1)?X:null;if(this.aCu)B=_.Wp.Lp(B[0],B[1],X,!0,this.Xm.cstr);
if(W)W.f.q3=new dU(B[0].x,B[0].y,B[1].x-B[0].x,B[1].y-B[0].y);return this.AM(B[0],B[1],this.o8.Rk(1)&&X.D(bu.m4),this.cn,W.f,k)};
_.Wp.prototype.a3y=function(W,q,X){var k=W.f.uy(q.x,q.y);if(this.id==_.IB)return k;var B=this.Xm.cstr;
if(B.t==2){var U=new dU(k.x-B.x,k.y-B.y,B.x,B.y),l=_.U6.T2(W,U,X);k.x+=l[0];k.y+=l[1];_.U6.FJ(W,U,l)}else k=_.U6.W1(W,k,X);
return k};_.Wp.prototype.lG=function(W,q,X,k,B){if(this.ax0(W,q,X,k,B))return;if(this.Ms==null)return;
var U=this.cn,l=U.length,K=B?this.a3y(W,B,X):new hw(U[l-2],U[l-1]);if(k.D(bu.BC))this.Ms=K.SR(this.Sv);
else this.Sv=K.SR(this.Ms);U.push(K.x,K.y);if(this.Xm.shape==null)this.Xm.shape=X.mh[0];var D=this.a9N(W,K,k,!0)[0],m=g.b.sz(D);
W.W.Qc=m;if(this.id!=_.IB&&this.id!=_.lb&&this.id!=_.c0)_.CB.tJ(B,W.f.q3,W,X);W.R2=!0;this.o8.lG()};
_.Wp.prototype.aE8=function(W,q,X,k){var B=W[4].P();if(k){B.x-=q/2;B.y-=X/2}if(this.id==_.lb){q/=2;X/=2;
B.x+=q;B.y+=X;X=-X;q=0}var U=this.AM(B,new hw(B.x+q,B.y+X),!1,this.cn);this.aE7(W[0],W[1],W[2],U)};_.Wp.prototype.aE7=function(W,q,X,k){var B=this.id==_.IB?X.gl:X.Bq,U=new ip(S.E.dq,!0);
if(B==0)U.data=_.Wp.aez(k[1],X);else if(B==1){var l={__name:"Set",classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Path",keyID:"WrPt"}}]},T:k[1]};
U.data={yx:"set",Og:l}}else{var l={__name:"Draw",classID:"Draw",AntA:{t:"bool",v:!0},Shp:k[1]};U.data={yx:"draw",Og:l}}q.T(U);
if(k[1].v.classID=="customShape"&&k[1].v.Nm.v.startsWith("--")){var K=W.Yb(),D=K[0],m=K[1],Y=D[m.pop()],a=Y.add.vmsk,p=Y.add.vogk;
g.BI.a6r(p);var M=a.P();M.G=k[0];this.BN(W,Y.bT,M,p)}if(this.id==_.FE||this.id==_.h0){var K=W.Yb(),D=K[0],m=K[1],Y=D[m.pop()],a=Y.add.vmsk;
a.Y=[0];this.Go(W,X)}};_.Wp.prototype.iY=function(W,q,X,k,B,U){if(this.ak0(W,q,X,k,B))return;if(this.Ms==null)return;
var l=this.a3y(W,B,X),K=this.XC(X),D=this.id==_.IB?X.gl:X.Bq,m=this.cn,Y=m.length;if(this.id==_.IB&&Y<=4){}else if(Y<=4){l.x=Math.round(l.x);
l.y=Math.round(l.y);var a=new ip(S.E.H);a.data={R:S.m.K_,ud:"createshape",aEJ:this.aE8.bind(this),agq:this.name,aim:[W,q,X,k,l]};
if(!U)q.T(a)}else if(Y!=2){var p=this.a9N(W,l,k),M=p[0],x=W.Yb(!0),R=x[0],y=x[1],s=y.length-1;if(D==1&&M.length>2||D==0&&K!=0&&s!=-1&&R[y[s]].bT>=0){M[2].R3=[1,2,3,0][K-1];
var F=R[y.pop()],E=F.add.vmsk,o=F.add.vogk,G=E.P(),d=E.P(),u=JSON.stringify(o);d.G=d.G.concat(M.slice(2));
d.Y=[g.z._H(d.G)-1];var r=g.BI.SV(p[1]);o.push(r?r:g.BI.if());this.BN(W,F.bT,d,o);this.Qk(W,this.name,F.bT,G,d,null,u,JSON.stringify(o))}else if(D==0){this.aE7(W,q,X,p)}else if(D==2){_.U0.agM(M,this.Xm.anta,X.w5,q)}}this.Ms=null;
W.W.Qc=null;W.W.Bk=null;W.W.L1=[];W.f.q3=null;W.R2=!0;this.o8.iY();this.Ct(q,X)};_.Wp.prototype.Os=function(W,q,X,k,B){for(var X in W)this.Xm[X]=W[X]};
_.Wp.Lp=function(W,q,X,k,B){var U=W.x,l=W.y,K=q.x,D=q.y;if(B&&B.t==2){if(k){K=Math.round(K);D=Math.round(D)}U=K-B.x;
l=D-B.y}else{var m=0;if(B&&B.t==1)m=B.y/B.x;else if(X&&X.D(bu.m4))m=1;if(m!=0){if(k){if(U<K)U=Math.floor(U);
else U=Math.ceil(U);if(l<D)l=Math.floor(l);else l=Math.ceil(l)}var Y=Math.abs(K-U),a=Math.abs(D-l),p=Y;
if(a/Y<m)p*=a/Y/m;K=K>U?U+p:U-p;D=D>l?l+p*m:l-p*m}if(X&&X.D(bu.Wr)){U-=K-U;l-=D-l}}var W=new hw(U,l),q=new hw(K,D);
if(k)_.Wp.aFt(W,q);return[W,q]};_.Wp.aFt=function(W,q){if(W.x>q.x){var X=W.x;W.x=q.x;q.x=X}if(W.y>q.y){var X=W.y;
W.y=q.y;q.y=X}W.x=Math.floor(W.x);W.y=Math.floor(W.y);q.x=Math.ceil(q.x);q.y=Math.ceil(q.y)};_.Wp.ajE=function(){return{classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"contentLayer"}}]},Usng:{t:"Objc",v:{classID:"contentLayer",Type:{t:"Objc",v:{}}}}}};
_.Wp.u$=function(W,q){var X=_.Wp.ajE(),k=X.Usng.v.Type;if(q==null){k.v=g.N(kE.EY[W]);k.v.classID=["solidColorLayer","gradientLayer","patternLayer"][W]}else _.zB.y7(q,k.v,W);
return{yx:"make",Og:X}};_.Wp.aez=function(W,q){var X=q.gh,k=g.N(q.Jm);k.fillEnabled.v=X.O5!=0;var B=_.Wp.u$(Math.max(0,X.O5-1),X.bE);
B.Og.Usng.v.Shp=W;B.Og.Usng.v.strokeStyle={t:"Objc",v:k};return B};_._$=function(W){_.U0.call(this,[[10,29],[10,51],"Add Anchor Point","Delete Anchor Point","Convert Point"][W],[_.wz,_.a1$,_.a4j,_.asf,_.ae3][W],["tools/pen","tools/cpen","tools/aapoint","tools/dapoint","tools/capoint"][W]);
this.pX=W;this.D6=null;this.EM=null;this.fl=null;this.gy=null;this.ew=0;this.Rs=null;this.kt=!1;this.fz=!1;
this.G8=!1;this.jL=!1;this.QT=!1;this.X8=!1;this.UC=0};_._$.prototype=new _.U0;_._$.prototype.Ps=function(W){return this.fl!=null};
_._$.prototype.jm=function(W,q,X,k){if(!k.D(bu.Wr))this.QT=!1;if(this.pX==1&&(k.D(bu.GD)||k.D(bu.gB))&&this.hK(bu.GD,W)){this.s4({R:"remove",Yk:!0},q,W,k,X);
return}if(this.EM)this.Sx(W,q,X,k,this.EM);_.U0.prototype.jm.call(this,W,q,X,k)};_._$.prototype.bu=function(W,q,X,k){var B=W.f.uy(k.x,k.y,!0),U=_.U6.W1(W,B,q),l=this.pX,K=q.gl,D=this.ew;
if(K==2)K=0;var m=W.Yb(),Y=m[0],a=m[1],p=a.length==0?null:Y[a.pop()],M=p?p.add.vmsk:null;if(K==0&&D!=0&&p&&p.bT>=0)K=1;
var x=_.YA(W,k);if(l<=1&&K==0&&(M==null||M.rP.length==0&&g.z.Sj(M.G,B,!0,x).bT==-1))return["new",!0];
if(l<=1&&K==1&&M==null)return["new"];if(M==null)return[null];var R=M.G,y=g.z.L0(R,new dU(B.x-x,B.y-x,x*2,x*2),M.rP,!0),s=g.z.Sj(R,B,!0,x);
if(l<3&&s.bT!=-1&&y[0].length==0)return["add"];if((y[3]!=0||s.bT!=-1)&&(X.D(bu.Wr)||l==4))return["cnv"];
var F=y[0].length==1&&R[y[0][0]-1]&&(R[y[0][0]-1].WL!=null||R[y[0][0]-1].I==0||R[y[0][0]-1].length==1);
if(F)return[l==0||l==3?"del":l==2?"mva":"mov"];if(l<2){var E=g.z.wS(R,g.z.WR(R,M.rP[0]));if(E!=-1&&hw.tj(B,R[E+1].WL)<x)return["fin"];
if(M.rP.length!=1)return["new"];return["nrm"]}return[null]};_._$.prototype.mc=function(W,q,X,k,B){var U=W.Lf.indexOf(0)!=-1,l=W.f.uy(B.x,B.y,!0),K=_.U6.W1(W,l,X),D=this.pX,m=X.gl,Y=this.ew;
if(m==2)m=0;var a=W.Yb(m==1),p=a[0],M=a[1],x=p[M.pop()],R=x?x.add.vmsk:null;if(m==0&&Y!=0&&x&&x.bT>=0)m=1;
var y=_.YA(W,B),s=this.bu(W,X,k,B);if(s[0]==null)return;if(s[1]){var F=new ip(S.E.dq,!0),E=g.BI.hH("customShape",[0,0,1,1],null,null,null,"--");
F.data=_.Wp.aez(E,X);q.T(F);this.X8=!0;a=W.Yb(!0);p=a[0];M=a[1];x=p[M.pop()];R=x.add.vmsk;R.G=R.G.slice(0,2)}var o=x.add.vogk,G=R.G;
this.fl=R.P();this.gy=JSON.stringify(o);if(x.name=="Work Path"&&!U){G=R.G=G.slice(0,2);o=[]}this.D6=B;
this.arf(q,X);var d=g.z.L0(G,new dU(l.x-y,l.y-y,y*2,y*2),R.rP,!0),u=g.z.Sj(G,l,!0,y);if(s[0]=="add"){var r=g.z.wS(G,u.bT),v=G[r].length;
while(v<=u.Rr){u.Rr-=v;r+=v+1}var c={I:4,mp:K.P(),WL:K.P(),ko:K.P()},V=r+2+u.Rr,j=r+1+(1+u.Rr)%v,Q=G[V-1],H=G[j];
if(!Q.WL.AB(Q.ko)||!H.mp.AB(H.WL)){var T=g.b.aA1(Q.WL,Q.ko,H.mp,H.WL,u.sw);Q.ko=T[0];c.mp=T[1];c.WL=T[2];
c.ko=T[3];H.mp=T[4]}this.jL=!0;G.splice(V,0,c);G[r].length++;R.rP=[V];if(D==1){c.mp.x+=2;this.i1(R)}}else if(s[0]=="cnv"){var e=-1;
if(d[0].length!=0){e=d[0][0];var z=G[e],J=z.I>=3?3:0,P=e==G.length-1;z.I=J+1;if(!(D==4&&k.D(bu.Wr))&&!(D==0&&P))z.mp=z.WL.P();
z.ko=z.WL.P();this.jL=!0;if(D==0&&!P)this.QT=!0}else if(d[1].length+d[2].length!=0){var e=d[2][0];if(e==null){e=d[1][0];
this.fz=!0}var z=G[e],J=z.I>=3?3:0;z.I=J+2}else e=g.z.wS(G,u.bT)+u.Rr+1;if(e!=-1)R.rP=[e]}else if(s[0]=="mva"){this.G8=!0;
R.rP=[d[0][0]]}else if(s[0]=="mov"){var e=d[0][0],L=G[e],A=L.WL,h=Math.abs(g.b.Au(L.mp.x,L.mp.y,A.x,A.y,L.ko.x,L.ko.y));
if(h>.01){L.mp=A.P();L.ko=A.P()}if(Date.now()-this.UC<300){var C=L.mp.AB(A)&&L.ko.AB(A);if(C)L.ko.offset(2,2);
else{L.mp=A.P();L.ko=A.P()}this.UC=0}else this.UC=Date.now();R.rP=[e];this.i1(R)}else if(s[0]=="del"){var e=d[0][0],r=g.z.wS(G,g.z.WR(G,e)),E=G[r],w=r+E.length;
if(e!=w||E.I==0){G[r].length--;G.splice(e,1);w--;if(E.length==0){G.splice(r,1);w=-1}}if(w!=-1)R.rP=[w];
else R.rP=[]}else if(s[0]=="fin"){var r=g.z.wS(G,g.z.WR(G,R.rP[0]));G[r].I=0;R.rP=[r+1];this.Rs=K;this.kt=!0;
this.jL=!0}else{var f=0;if(s[0]=="new"){R.Y=[g.z._H(G)];G.push({I:3,length:1,R3:[1,2,3,0][Math.max(0,Y-1)],HG:2,Wm:0,jA:0});
f=G.length;o.push(g.BI.if())}if(s[0]=="nrm"){var r=g.z.wS(G,g.z.WR(G,R.rP[0])),L=r+G[r].length;G[r].length++;
f=L+1;if(L==r+1&&G[r].length!=2)f=r+1}if(k.D(bu.m4)&&G[f-1]&&G[f-1].WL)K=_.ce.XQ(G[f-1].WL,K);var c={I:4,mp:K.P(),WL:K.P(),ko:K.P()};
G.splice(f,0,c);R.rP=[f];this.Rs=K;if(this.pX==1){c.mp.x+=2;this.i1(R)}this.jL=!0;this.UC=Date.now()}this.BN(W,x.bT,R,o);
W.R2=!0};_._$.prototype.i1=function(W){var q=W.G,X=W.rP[0],k=g.z.wS(q,g.z.WR(q,X))+1,B=q[k-1].length;
if(B<3)return;var U=[],l=[];for(var N=0;N<5;N++){var K=k+(X-k-2+N+5*B)%B;l.push(K);var D=q[K].WL;U.push(D.x,D.y)}var m=g.b.ajM(U);
for(var N=1;N<4;N++){var Y=N*4,a=q[l[N]],D=a.WL,p=a.mp.AB(D)&&a.ko.AB(D);if(!p){a.mp.cQ(m[Y],m[Y+1]);
a.ko.cQ(m[Y+2],m[Y+3])}else{a.mp=D.P();a.ko=D.P()}}};_._$.prototype.Sx=function(W,q,X,k,B){var U=this.bu(W,X,k,B)[0],l=null;
if(U==null)l="default";else l=_._$.h9(U);var K=new ip(S.E.H,!0);K.data={R:S.m.db,pq:l};q.T(K)};_._$.prototype.lG=function(W,q,X,k,B){this.EM=B;
if(this.fl==null){this.Sx(W,q,X,k,B);return}var U=this.D6;if(U&&hw.tj(U,B)<_.YA({f:{$Z:1}},B))return;
this.D6=null;var l=W.f.uy(B.x,B.y),K=_.U6.W1(W,l,X),D=W.Yb(X.gl==1),m=D[0],Y=D[1],a=m[Y.pop()],p=a.add.vmsk,M=p.G,x=M[p.rP[0]];
if(this.pX==1){var R=x.WL.AB(x.mp)&&x.WL.AB(x.ko);x.WL=l.P();x.mp=l.P();x.ko=l.P();if(!R)x.mp.x+=2;this.i1(p)}else if(k.D(bu.BC)){if(k.D(bu.m4))K=_.ce.XQ(this.Rs,K);
var y=x.WL.SR(x.ko),s=x.mp.SR(x.WL);x.ko=K;x.WL=K.add(y);x.mp=x.WL.add(s)}else if(this.G8){var F=x.mp.SR(x.WL),E=x.ko.SR(x.WL);
x.WL=K;x.mp=x.WL.add(F);x.ko=x.WL.add(E)}else{if(k.D(bu.m4))K=_.ce.XQ(x.WL,K);if(this.fz){var o=x.mp;
x.mp=x.ko;x.ko=o}if(this.kt){var G=hw.tj(x.WL,K),d=G==0?0:hw.tj(x.WL,x.ko)/G;x.ko.x=x.WL.x+d*(K.x-x.WL.x);
x.ko.y=x.WL.y+d*(K.y-x.WL.y)}else x.ko=K;var u=x.I>=3?3:0;if(this.jL&&!this.QT)x.I=u+k.D(bu.Wr)?2:1;
if(x.I-u==1){x.mp=x.WL.add(x.WL.SR(K))}this.Rs=K;if(this.fz){var o=x.mp;x.mp=x.ko;x.ko=o}}this.BN(W,a.bT,p,a.add.vogk);
W.R2=!0};_._$.prototype.iY=function(W,q,X,k,B){if(this.fl==null)return;var U=W.Yb(X.gl==1),l=U[0],K=U[1],D=l[K.pop()],m=D.add.vmsk,Y=D.add.vogk;
if(this.kt){m.rP=[];this.BN(W,D.bT,m,D.add.vogk)}var a=this.fl.G.length,p=m.G.length;if(!this.X8)this.Qk(W,this.kt?"Close Path":(a==p?"Move":a<p?"Add":"Delete")+" Anchor Point",D.bT,this.fl,m.P(),null,this.gy,JSON.stringify(Y));
this.X8=!1;this.kt=!1;this.fz=!1;this.G8=!1;this.jL=!1;this.fl=null};_._$.prototype.Os=function(W,q,X,k,B){this.ew=W.binop};
_._$.a9e={};_._$.h9=function(W){var q=_._$.a9e[W],X=64,K=2,D=10,m=25,Y=5,a=35;if(q)return q;var k=new dU(0,0,X,X),B=-.38,U=g.Nm(X,X);
U.clearRect(0,0,X,X);var l=_.W$();U.save();U.lineWidth=K;U.translate(4-K/2,4-K/2);U.rotate(B);if(l<1.5){var p=.66;
D*=p;m*=p;Y*=p;a*=p}U.lineJoin="miter";U.beginPath();if(W=="cnv"){U.moveTo(-D,m);U.lineTo(0,0);U.lineTo(D,m);
U.stroke()}else{U.moveTo(0,0);U.lineTo(D,m);U.lineTo(Y,a);U.lineTo(-Y,a);U.lineTo(-D,m);U.lineTo(0,0);
U.moveTo(0,0);U.lineTo(0,m);U.fillStyle="white";U.fill();U.stroke();U.fillStyle="black";U.fillRect(-Y-1,a,2*Y+2,6);
U.beginPath();U.arc(0,m-2,2.5,0,2*Math.PI,!1);U.fill();U.rotate(-B);U.translate(24,7);U.beginPath();
if(W=="add"||W=="del"||W=="new"){U.moveTo(-5,0);U.lineTo(5,0);if(W=="add"){U.moveTo(0,-5);U.lineTo(0,5)}if(W=="new"){U.moveTo(-2.5,-4.5);
U.lineTo(2.5,4.5);U.moveTo(2.5,-4.5);U.lineTo(-2.5,4.5)}}else if(W=="fin")U.arc(0,0,5,0,2*Math.PI,!1);
else if(W=="mov"||W=="mva"){for(var N=0;N<4;N++){U.moveTo(0,0);U.lineTo(-7,0);var M=1+K;U.moveTo(-7+M,-M);
U.lineTo(-7,0);U.lineTo(-7+M,M);U.rotate(Math.PI/2)}}U.stroke()}U.restore();var x=new Uint8Array(U.getImageData(0,0,X,X).data.buffer),R=g.j(X*X);
g.u6(x,R,3);var y=g.j(X*X),s=[3,5,3,4,8,4,3,5,3];s=g.PG.XH(s);g.PG.HK(R,y,X,X,s);for(var N=0;N<y.length;
N++)y[N]=Math.min(255,y[N]*2);g.PG.HK(y,R,X,X,s);for(var N=0;N<R.length;N++)R[N]=Math.min(255,R[N]*2);
var F=x.slice(0);x.fill(255);g.fP(R,x,3);g.v.HX("norm",F,k,x,k,k,1);_._$.a9e[W]=q={S0:x,OM:k,Qv:new hw(4,4)};
return q};_.XB=function(){_.Wp.call(this,[10,30],_.IB,"tools/fpen",!1)};_.XB.prototype=new _.Wp;_.XB.prototype.AM=function(W,q,X,k,B,U){var l=k.length-1,K=Math.sqrt((k[l-1]-k[0])*(k[l-1]-k[0])+(k[l]-k[1])*(k[l]-k[1]))<6/B.$Z;
return[g.z.Nh(k,K,U),g.BI.hH("customShape",[0,0,1,1],null,null,null,"--")]};_.a5=function(){_.U0.call(this,[10,27],_.ZA,"tools/pselect");
this.Yu=null;this.cF=!1;this.G2=null;this.fl=null;this.ar9=null;this.gy=null;this.agA=null;this.il=null;
this.JX=null;this.OZ=null};_.a5.prototype=new _.U0;_.a5.prototype.Ps=function(W){return W.Vj};_.a5.prototype.mc=function(W,q,X,k,B){var U=W.f.uy(B.x,B.y),l=W.Yb(),K=l[0],D=l[1],m,Y;
for(var N=0;N<D.length;N++){var a=K[D[N]],p=a.add.vmsk,M=g.z.Sj(p.G,U).bT;if(M!=-1){this.G2=m=a;Y=M}for(var x=0;
x<p.qH.length;x++){var R=g.z.awG(p.G,p.qH[x]);if(R==null)continue;var y=hw.tj(R,U);if(y<4*_.W$()/W.f.$Z){var s=W.U[a.bT-1e6].add.TySh,F=s.FZ.Curve,E=s.M,o=F.Reversed;
F.Reversed=!1;var F=cm.U7(s.FZ.Curve);F.Reversed=o;g.b.M(F[0],E,F[0]);this.JX=[F,x,E.iM*E.kv-E.X*E.bO];
this.G2=m=a;Y=0}}if(this.JX)break}if(m!=null){var p=m.add.vmsk;p.rP=[];var G=p.Y.indexOf(Y);if(k.D(bu.m4)){if(G==-1){p.Y.push(Y);
this.cF=!0}else p.Y.splice(G,1)}else{if(G==-1)p.Y=[Y];this.cF=!0}this.il=g.z.Sa(p.G,p.Y)}this.Yu=U;this.OZ=new ac(U);
W.qg=!0;W.R2=!0};_.a5.prototype.lG=function(W,q,X,k,B){if(this.Yu==null)return;var U=W.f.uy(B.x,B.y);
if(this.cF){U=this.OZ.uf(U,k);var l=this.G2;if(this.fl==null){this.fl=this.ar9=l.add.vmsk.P();this.gy=this.agA=JSON.stringify(l.add.vogk);
if(k.D(bu.Wr)){var K=this.fl.P(),D=JSON.parse(this.gy),m=_.U0.LN(K,D);_.U0.dY(m,K,D);this.ar9=K;this.agA=JSON.stringify(D)}}var K=this.ar9.P(),D=JSON.parse(this.agA);
if(this.JX){var Y=this.JX,a=Y[0][0],p=g.b.vc(a,U.x,U.y);K.qH[Y[1]]=Y[0][1][p];var M=a[p*2],x=a[p*2+1],R=(a[p*2+2]-M)*(U.y-x)-(a[p*2+3]-x)*(U.x-M);
if(Y[2]<0)R=-R;K.av=R>0}else{var y=this.il.P(),s=y.x,F=y.y;y.offset(U.x-this.Yu.x,U.y-this.Yu.y);y.x=Math.round(y.x);
y.y=Math.round(y.y);var E=_.U6.T2(W,y,X),o=new ka(1,0,0,1,y.x-s+E[0],y.y-F+E[1]);g.z.Y9(K.G,o,K.Y);g.BI.M(D,g.F.af(o),K.Y);
_.U6.FJ(W,y,E)}this.BN(W,l.bT,K,D)}else{var G=this.Yu;W.W.Qc=g.b.Lw(new dU(G.x,G.y,U.x-G.x,U.y-G.y));
W.R2=!0}};_.a5.prototype.iY=function(W,q,X,k,B){if(this.Yu==null)return;var U=W.f.uy(B.x,B.y),l=this.G2,K=l?l.add.vmsk:null;
if(this.cF){var D=JSON.stringify(l.add.vogk);if(!this.Yu.AB(U))this.Qk(W,"Move Paths",l.bT,this.fl,K,null,this.gy,D);
if(W!=null&&W.W.Bk){W.W.Bk=null;W.R2=!0}}else{var m=W.Yb(),Y=m[0],a=m[1];if(a.length!=0){var p=Y[a[0]];
K=p.add.vmsk;var M=this.Yu,x=new dU(M.x,M.y,U.x-M.x,U.y-M.y),R=g.z.amg(K.G,x);if(k.D(bu.m4)){for(var N=0;
N<R.length;N++)if(K.Y.indexOf(R[N])==-1)K.Y.push(R[N])}else K.Y=R}W.W.Qc=null;W.R2=!0}this.Yu=null;this.fl=null;
this.JX=null;this.cF=!1;this.OZ=null};_.a5.prototype.aj0=function(W){var q=this.G2,X=this.LV,k=q.add.vmsk,B=q.add.vogk,U=B.length;
if(W=="confirm"){if(k!=this.fl)this.Qk(X,[12,94,2],q.bT,this.fl,k,null,this.gy,JSON.stringify(B));this.zE();
return}if(W=="cancel"){this.BN(this.LV,this.G2.bT,this.fl.P(),JSON.parse(this.gy));this.zE()}else{var k=this.fl.P(),B=JSON.parse(this.gy);
k.G=g.z.aCW(k.G,k.Y,W);this.BN(this.LV,this.G2.bT,k,B)}};_.a5.prototype.zE=function(){this.G2=null;this.fl=null;
this.Yu=null;this.fA=this.C3=-1;this.OZ=null};_.a5.prototype.yi=function(W,q,X,k){_.U0.prototype.yi.call(this,W,q,X,k);
if(X.bt!=this.id)return;if(W.Y.length==0)return;var B=W.Yb(),U=B[0],l=B[1];if(l.length==0)return;var K=U[l[0]],D=K.add.vmsk,m=K.add.vstk,Y=K.add.vogk,a=new ip(S.E.H,!0);
a.data={R:S.m.os,J:this.id,wh:"main",Ly:D?D:null,BI:Y};q.T(a)};_.a5.prototype.Os=function(W,q,X,k,B){var U=W.jX;
if(U.Ly){var l=X.Yb(),K=l[0],D=l[1];if(D.length==0)return;var m=K[D[0]],Y=m.add.vmsk.P(),a=JSON.stringify(m.add.vogk),p=U.Ly;
this.BN(X,m.bT,p,U.BI);var M=[18,5];if(Y.G.length==p.G.length)M=Y.Y[0]==p.Y[0]?"Fill Rule":"Path Order";
this.Qk(X,M,m.bT,Y,p,null,a,JSON.stringify(U.BI))}};_.N7=function(){_.U0.call(this,[10,28],_.dm,"tools/dselect");
this.fA=-1;this.C3=-1;this.np=null;this.Yu=null;this.aW=null;this.G2=null;this.fl=null;this.gy=null;
this.qY=0;this.HC={psnap:!1};this.OZ=null};_.N7.prototype=new _.U0;_.N7.prototype.Ps=function(W){return W.Vj};
_.N7.prototype.Os=function(W){this.HC=W};_.N7.prototype.s4=function(W,q,X,k,B){if(W.R=="crnr"){if(X==null)return;
var U=X.Yb(),l=U[0],K=U[1];if(K.length==0){alert("No paths selected");return}var D=l[K[0]],m=D.add.vmsk;
if(m.rP.length==0){alert("No corners selected");return}for(var N=0;N<m.rP.length;N++){var Y=m.G[m.rP[N]];
if(!Y.WL.AB(Y.ko)||!Y.WL.AB(Y.mp)){alert("Only sharp corners can be rounded");return}}if(this.fl==null){this.fl=D.add.vmsk.P();
this.gy=JSON.stringify(D.add.vogk);this.G2=D;this.LV=X}var a=new ip(S.E.H,!0);a.data={R:S.m.K_,ud:"cornerradius",bG:5,tO:this.aG7.bind(this)};
q.T(a)}else _.U0.prototype.s4.call(this,W,q,X,k,B)};_.N7.prototype.aG7=function(W){if(W=="confirm"){var q=this.LV,X=this.G2,k=X.add.vmsk,B=X.add.vogk;
this.Qk(q,[12,94,0],X.bT,this.fl,k,null,this.gy,JSON.stringify(B));this.zE();return}var k=this.fl.P(),B=JSON.parse(this.gy),U=k.rP;
if(W=="cancel"){}else{var l=[];for(var N=0;N<U.length;N++){var K=U[N],D=g.z.WR(k.G,K,!0),a=0;if(l.indexOf(D)!=-1)continue;
l.push(D);var m=g.z.wS(k.G,D,!0),Y=k.G[m].length,p=[];for(var M=0;M<Y;M++){var x=k.rP.indexOf(m+M+1)==-1?0:W;
p.push(x);if(x!=0)a++}g.z.zh(k.G,m,p);for(var M=0;M<U.length;M++)if(U[M]>m+Y)U[M]+=a}this.O7(k,B);k.rP=[]}this.BN(this.LV,this.G2.bT,k,B);
if(W=="cancel")this.zE()};_.N7.prototype.disable=function(W,q,X,k){this.Im(W)};_.N7.prototype.mc=function(W,q,X,k,B){this.Im(W);
var U=W.f.uy(B.x,B.y),a,p,M;this.np=U.P();var l=W.Yb(),K=l[0],D=l[1];if(D.length==0)return;var m=_.YA(W,B),Y=new dU(U.x-m,U.y-m,m*2,m*2);
for(var x=0;x<D.length;x++){a=this.G2=K[D[x]];p=a.add.vmsk;M=g.z.L0(p.G,Y);if(M[0].length+M[1].length+M[2].length!=0)break}var R=[!1,!1,!1];
for(var N=0;N<3;N++){for(var y=0;y<M[N].length;y++){var s=M[N][y],F=p.G[s];if(p.rP.indexOf(s)!=-1||N==1&&p.rP.indexOf(s-1)!=-1&&!F.WL.AB(F.mp)||N==2&&p.rP.indexOf(s+1)!=-1&&!F.WL.AB(F.ko)){M[N]=[s];
R[N]=!0;break}}}if(M[0].length!=0&&(R[0]||!R[1]&&!R[2])){var E=M[0][0],o=p.rP.indexOf(E);if(k.D(bu.m4)){if(o==-1)p.rP.push(E);
else{p.rP.splice(o,1);W.R2=!0;return}}else if(o==-1)p.rP=[E];this.fA=E;this.C3=0}else if(M[1].length!=0&&R[1]){this.fA=M[1][0];
this.C3=1}else if(M[2].length!=0&&R[2]){this.fA=M[2][0];this.C3=2}else{var G=g.z.Sj(p.G,U,!0,m);if(G.bT==-1)this.Yu=U;
else{this.aW=G;var d=g.z.wS(p.G,G.bT);p.Y=[G.bT];p.rP=[d+1+G.Rr]}}if(this.fl==null){this.fl=a.add.vmsk.P();
this.gy=JSON.stringify(a.add.vogk)}this.OZ=new ac(U);W.R2=!0};_.N7.prototype.lG=function(W,q,X,k,B){if(W==null)return;
var U=W.f.uy(B.x,B.y),l=this.G2;if(this.fA!=-1){var K=this.fl.P(),D=l.add.vogk,m=K.G[this.fA];m=[m.WL,m.mp,m.ko][this.C3];
if(k.D(bu.m4)){if(this.C3==0){U=this.OZ.uf(U,k);U.x+=m.x-this.np.x;U.y+=m.y-this.np.y}else U=_.ce.XQ(K.G[this.fA].WL,U)}else{if(this.HC.psnap){U.x=Math.round(U.x);
U.y=Math.round(U.y)}U=_.U6.W1(W,U,X)}if(this.C3==0){var Y=new ka(1,0,0,1,U.x-m.x,U.y-m.y);g.z.Y9(K.G,Y,null,K.rP)}else{var a=K.G[this.fA];
if(k.D(bu.Wr)&&(a.I==1||a.I==4))a.I++;_.N7.M1(a,U,this.C3==1)}this.O7(K,D);this.BN(W,l.bT,K,D)}else if(this.Yu!=null){var p=this.Yu;
W.W.Qc=g.b.Lw(new dU(p.x,p.y,U.x-p.x,U.y-p.y));W.R2=!0}else if(this.aW!=null){var K=this.fl.P(),D=l.add.vogk,M=this.aW,x=this.np,R=g.z.wS(K.G,M.bT),y=K.G[R].length,s,F=M.sw;
if(F<=1/6)s=0;else if(F<=.5)s=Math.pow((6*F-1)/2,3)/2;else if(F<=5/6)s=(1-Math.pow((6*(1-F)-1)/2,3))/2+.5;
else s=1;var E=U.x-x.x,o=U.y-x.y,G=(1-s)/(3*F*(1-F)*(1-F)),d=s/(3*F*F*(1-F)),u=K.G[R+1+M.Rr];u.ko.offset(G*E,G*o);
var r=K.G[R+1+(M.Rr+1)%y];r.mp.offset(d*E,d*o);_.N7.M1(u,u.ko,!1);_.N7.M1(r,r.mp,!0);this.O7(K,D);this.BN(W,l.bT,K,D)}else{var v=W.Yb(),c=v[0],V=v[1],l,K,H;
if(V.length==0)return;var j=_.YA(W,B),Q=new dU(U.x-j,U.y-j,j*2,j*2);for(var T=0;T<V.length;T++){l=c[V[T]];
K=l.add.vmsk;H=g.z.L0(K.G,Q);if(H[0].length+H[1].length+H[2].length!=0)break}this.Im(W);for(var N=0;
N<3;N++){for(var e=0;e<H[N].length;e++){var z=H[N][e],J=K.G[z];J=N==0?J.WL:N==1?J.mp:J.ko;W.W.Yz.push(J.x,J.y);
W.R2=!0}}}};_.N7.prototype.Im=function(W){if(W&&W.W.Yz.length!=0){W.W.Yz=[];W.R2=!0}};_.N7.prototype.iY=function(W,q,X,k,B){var U=W.f.uy(B.x,B.y),l=this.G2,K=l?l.add.vmsk:null,D=l?l.add.vogk:null;
if(this.fA!=-1||this.aW){if(Date.now()-this.qY<300){var m=K.G[this.fA],Y=this.C3,a=null;if(Y==0){var p=m.mp.AB(m.WL),M=m.ko.AB(m.WL);
if(!p&&!M){a="Anchor Type";if(m.I==1||m.I==4)m.I++;else{m.I--;m.ko=m.WL.add(m.WL.SR(m.mp))}}else{a="Add Handles";
if(p&&M){m.mp.x-=30;m.ko.x+=30}else if(p)m.mp=m.WL.add(m.WL.SR(m.ko));else if(M)m.ko=m.WL.add(m.WL.SR(m.mp))}}else{a="Remove Handle";
if(Y==1)m.mp.ny(m.WL);else m.ko.ny(m.WL)}this.O7(K,D);this.BN(W,l.bT,K,D);this.Qk(W,a,l.bT,this.fl,K,null,this.gy,JSON.stringify(D))}else if(this.aW||!this.np.AB(U)){this.Qk(W,"Drag Anchors",l.bT,this.fl,K,null,this.gy,JSON.stringify(D))}this.aW=null;
this.qY=Date.now()}else if(this.Yu!=null){var x=this.Yu,R=new dU(x.x,x.y,U.x-x.x,U.y-x.y);if(R.r<0)R.x+=R.r;
if(R.$<0)R.y+=R.$;R.r=Math.abs(R.r);R.$=Math.abs(R.$);var y=g.z.L0(K.G,R);K.rP=y[0].concat(k.D(bu.m4)?K.rP:[]);
W.W.Qc=null}this.zE();W.R2=!0};_.N7.prototype.zE=function(){this.G2=null;this.fl=null;this.Yu=null;this.fA=this.C3=-1;
this.OZ=null};_.N7.prototype.O7=function(W,q){for(var N=0;N<W.rP.length;N++){var X=g.z.WR(W.G,W.rP[N]);
g.BI.HS(q,X)}};_.N7.prototype.jm=function(W,q,X,k){if(W==null)return;var B=W.Yb(),U=B[0],l=B[1];if(l.length==0)return;
var K=U[l[0]],D=K.add.vmsk;if(D==null||D.rP.length==0)return;var m=K.add.vogk,Y=JSON.stringify(m),a=k.wp(W?W.f.Zi:0);
if(a.x!=0||a.y!=0){var p=D.P(),M=D.P(),x=new ka(1,0,0,1,a.x,a.y);g.z.Y9(M.G,x,null,M.rP);this.O7(M,m);
this.BN(W,K.bT,M,m);this.Qk(W,"Move Anchors",W.Y[0],p,M.P(),!0,Y,JSON.stringify(m))}if(k.D(bu.GD)||k.D(bu.gB))this.s4({R:"remove",Yk:!0,amd:!0},q,W,k,X)};
_.N7.prototype.Qk=function(W,q,X,k,B,U,l,K){var D=W.d2();if(U&&D!=null&&D.J==this&&D.data.ati&&D.data.q5==X&&JSON.stringify(D.data.S5.rP)==JSON.stringify(k.rP)){D.data.J6=B;
D.data.wr=K}else{var D=new j3(q,this);D.data={q5:X,S5:k,J6:B,ati:U,apc:l,wr:K};W.O_(D)}};_.N7.M1=function(W,q,X){var k=W.mp,B=W.ko;
if(!X){k=W.ko;B=W.mp}k.cQ(q.x,q.y);if(W.I==1||W.I==4){var U=hw.tj(k,W.WL),l=hw.tj(B,W.WL);if(l!=0){B.x=W.WL.x-(k.x-W.WL.x)*(l/U);
B.y=W.WL.y-(k.y-W.WL.y)*(l/U)}}};_.Rect=function(){_.Wp.call(this,[10,32],_.FE,"tools/rect",!0)};_.Rect.prototype=new _.Wp;
_.Rect.prototype.AM=function(W,q,X){var k=this.Xm.crad,B=q.x-W.x,U=q.y-W.y;return[g.z.oz.Rect(W.x,W.y,B,U,k),g.BI.hH("Rctn",[W.x,W.y,q.x,q.y],[k,k,k,k])]};
_.am=function(){_.Wp.call(this,[10,33],_.h0,"tools/ellipse",!0)};_.am.prototype=new _.Wp;_.am.prototype.AM=function(W,q,X){var k=q.x-W.x,B=q.y-W.y;
return[g.z.oz.am(W.x,W.y,k,B),g.BI.hH("Elps",[W.x,W.y,q.x,q.y])]};_.F$=function(){_.Wp.call(this,[10,34],_.lb,"tools/pshape",!1);
this.Xm.aopts=[!1,!0,50,100,0]};_.F$.prototype=new _.Wp;_.F$.prototype.AM=function(W,q,X){var k=this.Xm.pshape,B=this.Xm.crad,U=this.Xm.irad/100,l=this.Xm.sides,K=this.Xm.width,D=this.Xm.aopts,m=this.Xm.length,Y=this.Xm.rows,a=this.Xm.cols,p=this.Xm.brdr,E;
q=q.P();var M=W.x,x=W.y,R=q.x,y=q.y,s=Math.sqrt((R-M)*(R-M)+(y-x)*(y-x)),F=Math.atan2(-y+x,R-M);if(X)F=Math.round(F*180/Math.PI/15)*15*Math.PI/180;
if(k==0)E=g.z.oz.VB(M,x,s,F,l,B);if(k==1)E=g.z.oz.a5Q(M,x,s,F,l,B,U);if(k==2)E=g.z.oz.CE(W.x,W.y,q.x,q.y,K,D);
if(k==3){if(M>R){var o=M;M=R;R=o}if(x>y){var o=x;x=y;y=o}if(X){if(a>Y)y=x+(R-M-p)*Y/a+p;else R=M+(y-x-p)*a/Y+p}E=g.z.oz.apO(M,x,R,y,Y,a,p)}if(k==4)E=g.z.oz.afU(M,x,s,F,m);
return[E,g.BI.hH("customShape",[W.x,W.y,q.x,q.y],null,null,null,"--")]};_.F$.prototype.jm=function(W,q,X,k){_.Wp.prototype.jm.call(this,W,q,X,k);
var B=k.wp(),U=this.Xm,l,K;if(B.y!=0){var D=-B.y,m=U.pshape;if(m<2){l="sides";K=Math.max(3,Math.min(100,U.sides+D))}else if(m==2){l="width";
K=Math.max(1,Math.min(100,U.width+D))}else if(m==3){l="length";K=Math.max(4,Math.min(40,U.length+D))}}if(B.x!=0){l="pshape";
K=Math.max(0,Math.min(3,U.pshape+B.x))}if(l){var Y=new ip(S.E.H,!0),a={};a[l]=K;U[l]=K;Y.data={R:S.m.os,J:this.id,w7:"vals",a4V:a};
q.T(Y);this.lG(W,q,X,k)}};_.yA=function(){_.Wp.call(this,[10,35],_.c0,"tools/line",!1)};_.yA.prototype=new _.Wp;
_.yA.prototype.AM=function(W,q,X){var k=this.Xm.width,B=this.Xm.aopts;q=q.P();if(X){q=_.ce.XQ(W,q)}if(cC==1)k=0;
return[g.z.oz.CE(W.x,W.y,q.x,q.y,k,B),g.BI.hH("Ln",null,null,[W.x,W.y,q.x,q.y],k,null,B)]};_.M2=function(){_.Wp.call(this,[10,31],_.Lu,"tools/cshape",!0)};
_.M2.prototype=new _.Wp;_.M2.prototype.AM=function(W,q,X){var k=this.Xm.shape,B=k.IH.r/k.IH.$,U=b.jY.zx(k.G);
q=q.P();if(X){q.y=W.y+(q.x-W.x)/B}var l=q.x-W.x,K=q.y-W.y;g.z.Y9(U,new ka(l,0,0,K,W.x,W.y));return[U,g.BI.hH("customShape",[W.x,W.y,q.x,q.y],null,null,null,k.s$)]};
_.Gz=function(W,q,X){_.CB.call(this,W,q,X);this.vJ=0;this.U=null;this.zy=null;this.e=null;this.v5=1;
this.s0=0;this.NA=!0;this.BZ=!1;this.cursor=null;this.kO=null;this.UQ=null;this.Kh=!1;this.Xd=null;this.aFx=0;
this.HU=null;this.pX=0;this.xG=null;this.h_=null;this.Pf=null;this.mR=null;this.a5e=null;this.lQ=null};
_.Gz.prototype=new _.CB;_.Gz.t8=function(W,q,X){var k={classID:"null",null:j0.O8(X?"Lyr":"Dcmn",!0)};
if(W)k.Angl={t:"UntF",v:{type:"#Ang",val:q}};else k.Axis={t:"enum",v:{Ornt:q}};return{yx:W?"rotateEventEnum":"flip",Og:k}};
_.Gz.prototype.xM=function(W,q,X,k,B){var U=new ip(S.E.H,!0);U.data={R:S.m.os,J:this.id,Dv:B,BL:W,e:X};
q.T(U);this.sk=!1};_.Gz.prototype.Ps=function(W){return this.h_&&this.h_.awV()};_.Gz.prototype.s4=function(W,q,X,k,B){this.e=B;
if(W.R=="again"&&this.HU==null)return;if(W.R=="cmode"){if(X.depth==W._)return;var U=_.Gz.J1(X),l=_.Gz.tl(X,U,!0),K=new j3("Mode: "+X.depth+"-Bit to "+W._+"-Bit",this);
K.data={I:0,U:U,zy:l,$M:!0,depth:X.depth};X.O_(K);_.Gz.aac(X,U,W._);return}if(W.R=="cprof"){var D=X.Pb(),U,l;
D=D?D[0]:null;var m=ey.i$[ey.Tu.indexOf(W._)];if(m)m=lf.Nx.get(m);if(W.agw){U=_.Gz.J1(X);l=_.Gz.tl(X,U,!0)}var K=new j3((U?"Convert To":"Assing")+" Profile: "+(m?W._:"sRGB"),this);
K.data={I:0,U:U,zy:l,$M:!0,awk:[D]};X.O_(K);if(W.agw)_.Gz.aAi(X,U,m);X.JM(m);return}if(!this.hr(X,B))return;
if(this.h_){this.ahC(W,this.h_.Kb(),q,X,k,B);this.f4(X,B,0,!0);this.hd(X);return}this.aq3(X,W.B==null,W.B);
this.a4_(X);this.ahC(W,W.aL6,q,X,k,B);this.Bl(X,q,W.xJ,!1)};_.Gz.prototype.ahC=function(W,q,X,k,B,U){var l=W.Fy!=null?W.Fy:4;
this.h_.aiA(l);if(q==null)q=this.h_.Kb();var K=this.xG,D=q.x,m=q.y;if(W.R=="rot"&&W._!=Math.PI&&(K.r+K.$&1)==1){D=Math.floor(D);
m=Math.floor(m)}var Y=new ka;Y.translate(-D,-m);if(W.R=="rot")Y.rotate(W._);if(W.R=="scl")Y.scale(W._.x,W._.y);
if(W.R=="mat")Y.concat(W._);Y.translate(D,m);if(W.R=="again")Y=this.HU;var a=g.F.af(Y);if(W.R=="dtr"){var p=g.F;
a=p.xY(W._,p.j(-D,-m));a=p.xY(p.j(D,m),a)}var M=this.h_.LP();g.F.M(a,M);if(W.R=="reset"){var x=k.U[k.Y[0]].add.SoLd,R=x.Sz.v,y=R.Wdth.v,s=R.Hght.v;
console.log(x);var a=this.h_.Kb(),F=new dU(Math.round(a.x-y/2),Math.round(a.y-s/2),y,s);M=g.b.Lw(F).n;
x.quiltWarp.v=g.NP.j(F)}this.h_.v2(M);if(l==9)this.h_.aDx(q);if(W.HO){var E=W.HO.v;this.Os({wh:"switchWarp"},X,k,B);
this.Os({wh:"wrp",HO:E},X,k,B)}};_.Gz.prototype.mf=function(){return!0};_.Gz.prototype.hr=function(W,q,X){if(W==null)return!1;
if(this.id==_.oV)return W.d!=null;var k=W.Vs(!0,null,null,!0);if(this.id==_.Fh&&W.U[k[0]].S.PM()){alert("Layer is empty.");
return!1}if(W.Lf.length!=0)return!0;for(var N=0;N<k.length;N++){var B=W.U[k[N]];if(B.kW(2)||B.kW(31)){alert(js.get([6,57,0]));
return!1}if(B.add.artb){alert("You can not transform the whole artboard");return!1}if(B.add.TySh)if(!hj.gm(B.add.TySh,q.yK))return!1;
if(B.add.SoLd){if(k.length==1&&(X&&X.Bz==-1)&&(B.Jx()&&B.Jx().$P||B.add.vmsk&&B.add.vmsk.$P)){alert("Unlink masks before transforming Smart Object");
return!1}if(!W.awe(B.add.SoLd.Idnt.v)){alert("Unsupported format of the smart object ("+W.gW(B.add.SoLd.Idnt.v).k7+")");
return!1}}}if(W.d==null)return!0;if(!W.or())return!1;return W.ao6()};_.Gz.prototype.mc=function(W,q,X,k,B){var U=this.yb(B,W),l=U[0],K=U[1],D=this.pX==0?this.h_:this.Pf;
W.f.$Z*=K;this.BZ=D.mc(W,X,k,l,null,null,B);if(!this.BZ&&cC==1){this.Bl(W,q,null,!0);return}this.hd(W,l);
W.f.$Z/=K;if(this.BZ&&D.kY(l)){if(Date.now()-this.aFx<250)this.Bl(W,q,null,!0);this.aFx=Date.now()}};
_.Gz.prototype.Sx=function(W){var q=new ip(S.E.H,!0);q.data={R:S.m.db,pq:this.cursor};W.T(q)};_.Gz.prototype.yb=function(W,q){var X=1;
W=q.f.uy(W.x,W.y);if(this.pX==1){var k=g.F.b6(this.h_.LP(),this.xG);X=g.F.bI(k).Lr();var B=g.F.i5(k);
W=g.F.ao9(B,W)}return[W,X]};_.Gz.prototype.lG=function(W,q,X,k,B){var U=this.yb(B,W),l=U[0],K=U[1],D=this.pX==0?this.h_:this.Pf;
if(!B.Vj){var m="default";if(D){var Y=D.x4(l,W.f.$Z*K,null,B);if(Y)m=Y}if(m!=this.cursor){this.cursor=m;
this.Sx(q)}if(this.Pf){this.hd(W,l)}}if(!this.BZ)return;W.f.$Z*=K;var a=this.sl=D.lG(W,X,k,l,this.NA);
W.f.$Z/=K;this.f4(W,X,0,!0);this.hd(W,l);this.Ml(q,null,W)};_.Gz.prototype.iY=function(W,q,X,k,B){var U=this.yb(B,W),l=U[0],K=U[1];
this.h_.iY(W,X,k,l);if(this.Pf){var D=this.Pf.iY(W,X,k,l);if(D){this.Ml(q,!0,W);this.hd(W)}}if(this.sl){var m=this.ps(),Y=g.b.Lw(this.xG).n;
g.F.M(m,Y);this.h_.v2(Y);this.sl=null}this.BZ=!1};_.Gz.prototype.jm=function(W,q,X,k){if(k.D(bu.$H))this.Bl(W,q,null,!0);
else if(k.D(bu.hJ))this.hk(W,q);else{var B=this.h_.jm(W,X,k);if(B){this.f4(W,X,0,!0);this.Ml(q,null,W)}}};
_.Gz.prototype.Os=function(W,q,X,k){if(W.wh=="commit")this.Bl(X,q,null,!0);else if(W.wh=="cancel")this.hk(X,q);
else if(W.wh=="switchWarp"){this.pX=1-this.pX;this.amJ();this.hd(X);this.Ml(q,null,X)}else if(W.wh=="wrp"){this.Pf.aEZ(W.HO);
this.hd(X);this.f4(X,this.e,0,!0)}else if(W.wh=="splt")this.Pf.atF(W._);else if(W.wh=="ctyp"){this.h_.aiA(W.as$);
this.hd(X);this.Ml(q,null,X)}else if(W.wh=="cen"){this.h_.aDx(W.Qv);this.hd(X);this.f4(X,this.e,0,!0);
this.Ml(q,null,X)}else if(W.wh=="trn"){var B=g.F.af(W.WO),U=this.xG,l=g.F.b6(this.h_.LP(),this.xG);B[6]=l[6],B[7]=l[7];
var K=[U.x,U.y,U.x+U.r,U.y,U.x+U.r,U.y+U.$,U.x,U.y+U.$];g.F.M(B,K);this.v5=W.v5;if(W.s0!=this.s0){this.s0=W.s0;
this.aiC(X)}this.NA=W.NA;this.h_.v2(K);this.hd(X);this.f4(X,this.e,0,!0)}};_.Gz.prototype.hd=function(W,q){if(this.pX==0)this.h_.Ib(W,this.e);
else{this.Pf.Ib(W,q);var X=this.ps();g.F.M(X,W.W.RA.n);g.F.M(X,W.W.FC);g.F.M(X,W.W.fT)}};_.Gz.prototype.Bl=function(W,q,X,k){this.f4(W,this.e,this.v5);
var B=new j3(X?X:this.name,this);if(this.vJ==0)B.data={I:this.vJ,U:this.U,zy:this.zy};else if(this.vJ==1){var U=W.U[this.U[0]],l;
if(U.dg.pw<=0){l=g.j(U.dg.jl.C(),W.depth);g.u6(U.dg.LE,l,3)}else l=W.d.c;var K={S:U.dg.jl.P(),c:l};B.data={I:this.vJ,B:this.U[0],UQ:this.UQ,o_:K,kO:this.kO,Kh:this.Kh,dg:U.dg,Xd:this.Xd,Rz:{OM:U.dg.jl,Wa:U.dg.LE}}}else if(this.vJ==2){B.data={I:this.vJ,UQ:this.UQ,o_:{S:W.d.S.P(),c:W.d.c.slice(0)}}}W.O_(B);
var D=g.F.b6(this.h_.LP(),this.xG),m=this.zy,Y=m?m[0]:null;if(m&&m.length==1&&Y[4]){var a=_.Gz.rQ(Y[4].nonAffineTransform),p=g.b.Hb(g.NP.qP(Y[4].quiltWarp.v)[3]),M=g.F.b6(a,p);
D=g.F.xY(D,g.F.i5(M))}var x=this.Pf?this.Pf.JW():null;if(x&&g.NP.GE(x))x=null;var R=this.h_.LP();g.F.M(g.F.i5(D),R);
var y=this.h_.Kb(R),s=g.F;D=s.xY(s.xY(s.j(-y.x,-y.y),D),s.j(y.x,y.y));var F=_.Gz.alS(D,this.h_.Bg,y,x);
if(this.id==_.oV)F.null.v[0]={t:"prop",v:{classID:"Chnl",keyID:"fsel"}};this.gr=q;this.track({yx:"transform",Og:F});
this.escape(W,q,k)};_.Gz.a9C={Qcsa:4,Qcs0:0,Qcs1:2,Qcs2:8,Qcs3:6,Qcs4:1,Qcs5:5,Qcs6:7,Qcs7:3};_.Gz.alS=function(W,q,X,k){var B=g.F.bI(W),U=B.Wy,l=B.rY,K=-Math.atan2(-B.X,B.iM),m="Qcsi";
B.rotate(K);function D(M,x){return{t:"UntF",v:{type:["#Pxl","#Prc","#Ang"][x],val:M}}}var Y=_.Gz.a9C;
for(var a in Y)if(Y[a]==q)m=a;var p={classID:"null",null:j0.O8("Lyr",!0),FTcs:{t:"enum",v:{QCSt:m}},Intr:{t:"enum",v:{Intp:"Bcbc"}},Ofst:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:D(U,0),Vrtc:D(l,0)}},Skew:{t:"Objc",v:{classID:"Pnt",Hrzn:D(Math.atan(B.bO/B.kv)*180/Math.PI,2),Vrtc:D(0,2)}},Usng:{t:"Objc",v:{classID:"Pnt",Hrzn:D(100*W[6],1),Vrtc:D(100*W[7],1)}},Wdth:D(B.iM*100,1),Hght:D(B.kv*100,1),Angl:D(K*180/Math.PI,2)};
if(q==9)p.Pstn={t:"Objc",v:{Hrzn:D(X.x,0),Vrtc:D(X.y,0)}};if(k)p.quiltWarp={t:"Objc",v:k};return p};
_.Gz.ai5=function(W){var q=1,X=1,k=0,B=0,U=0,l=0,K=0,p=null,M=null;if(W.Wdth)q=W.Wdth.v.val/100;if(W.Hght)X=W.Hght.v.val/100;
if(W.Skew){var D=W.Skew.v;k=D.Hrzn.v.val;B=D.Vrtc.v.val}if(W.Ofst){var m=W.Ofst.v;l=m.Hrzn.v.val;K=m.Vrtc.v.val}if(W.Angl)U=W.Angl.v.val;
var Y=new ka;Y.concat(new ka(q,q*Math.tan(B*Math.PI/180),X*Math.tan(k*Math.PI/180),X,0,0));Y.rotate(-U*Math.PI/180);
Y.translate(l,K);var a=g.F.af(Y);if(W.Usng){var m=W.Usng.v;a[6]=m.Hrzn.v.val/100;a[7]=m.Vrtc.v.val/100}var x=W.FTcs.v.QCSt;
if(x=="Qcsi"){var R=W.Pstn.v;p=new hw(R.Hrzn.v.val,R.Vrtc.v.val);M=9}else M=_.Gz.a9C[x];return{R:"dtr",Fy:M,_:a,HO:W.warp,aL6:p}};
_.Gz.prototype.hk=function(W,q){if(this.vJ==0)_.Gz.aap(W,this.U,this.zy);else if(this.vJ==1){var X=W.U[this.U[0]];
W.d=this.UQ;if(!this.Kh){X.dg.jl=this.Xd.OM;X.dg.LE=this.Xd.Wa;X.lN(W,0,0,W.d)}else{X.TT(W,this.kO)}W.I_();
W.r5=!0}else if(this.vJ==2){W.d=this.UQ;W.r5=!0}this.escape(W,q,!0)};_.Gz.prototype.escape=function(W,q,X){this.h_.clear(W);
if(this.Pf)this.Pf.clear(W);this.h_=null;this.Pf=null;this.lQ=null;this.pX=0;if(X)this.hv(q,S.E.H,{R:S.m.oF})};
_.Gz.prototype._j=function(W,q){if(W.I==0)_.Gz.XS(q,W);else{if(W.I==1){var X=q.U[W.B];if(W.Kh){X.dg=W.dg}else{X.dg.jl=W.Rz.OM;
X.dg.LE=W.Rz.Wa}X.lN(q,0,0,q.d);q.I_()}q.d={S:W.o_.S.P(),c:W.o_.c.slice(0)};q.r5=!0}};_.Gz.prototype.tG=function(W,q){if(W.I==0)_.Gz.XS(q,W);
else{if(W.I==1){var X=q.U[W.B];if(W.Kh){X.TT(q,W.kO)}else{X.dg.jl=W.Xd.OM;X.dg.LE=W.Xd.Wa;X.lN(q,0,0,q.d)}q.I_()}q.d=W.UQ;
q.r5=!0}};_.Gz.prototype.aq3=function(W,q,X){W.Yb();var k=[];if(X==null)for(var N=0;N<W.Lf.length;N++)if(W.RM[W.Lf[N]].add.vmsk.G.length>2)k.push(-1-W.Lf[N]);
var B=[],U=W.f.K7;if(U[0]+U[1]+U[2]==3)if(X!=null||k.length==0||W.sh!=null&&W.sh.length!=0){if(W.Y.length==1){var l=W.U[W.Y[0]];
if(l.S3()&&l.LJ)B=[W.Y[0]]}if(B.length==0)B=W.Vs(q,X,null,!0)}B=B.concat(k);for(var N=0;N<W.TC.length;
N++)B.push(-1e3-W.TC[N]);this.U=B};_.Gz.prototype.enable=function(W,q,X,k,B,U){if(this.cursor==null)this.cursor="default";
this.Sx(q);if(this.h_)return;this.e=X;this.aq3(W,!0);this.a4_(W,U&&U.Bz!=null&&U.Bz!=-1?U.Bz:null);this.Ml(q,null,W);
this.hd(W);if(U&&U.Bz==-1)this.Os({wh:"switchWarp"},q,W,k)};_.Gz.prototype.p5=function(){return this.NA?null:[0]};
_.Gz.prototype.Ll=function(W,q,X){if(W&&W[0]!=null)this.NA=W[0]==1};_.Gz.prototype.Ml=function(W,q,X){var k={R:S.m.os,J:this.id};
if(this.pX==0){var B=g.F.b6(this.h_.LP(),this.xG),U=g.F.bI(B);k.WO={Ez:U,as$:this.h_.a3j(),Qv:this.h_.Kb(),OM:this.xG.P(),NA:this.NA}}else{k.a06=q;
k.HO=this.Pf.JW()}if(X){k.RH=["---"];for(var N=0;N<X.RH.length;N++)k.RH.push(X.RH[N].name)}k.awW=this.Pf!=null;
k.ajD=!1;if(X)for(var N=0;N<X.Y.length;N++){var l=X.U[X.Y[N]];if(!(l.add.SoLd||l.add.TySh||l.Nj()||l.S3()))k.ajD=!0}this.hv(W,S.E.H,k)};
_.Gz.prototype.a4_=function(W,q){var X=this.id==_.oV,k=!0,B=this.U[0],U=W.U[B],K=null,D=null,m=null,p=null;
if(X){this.vJ=2;this.UQ=W.d}else if(W.d&&this.U.length==1&&B>=0&&!U.S.PM()){this.vJ=1;this.UQ=W.d;this.kO=U.dg;
this.Kh=!1;if(!U.oR(W,W.d)){this.Kh=!0;U.iZ(W,W.d,!1)}this.Xd={Wa:U.dg.LE,OM:U.dg.jl}}else{this.vJ=0;
this.zy=_.Gz.tl(W,this.U,null);for(var N=0;N<this.zy.length;N++)if(this.zy[N][3]!=null)k=!1}var l=this.vJ==1;
if(this.zy&&this.zy.length==1){var Y=this.zy[0];if(Y[2]!=null)D=Y[2].Ly;if(Y[3]==null)l=!0;if(Y[3]!=null)m=Y[3];
if(Y[4]!=null){K=W.U[this.U[0]].add.SoLd;if(Y[1]||Y[2])l=!1}}var a=X?W.d.S.P():_.Gz.wu(W,this.U);this.xG=a;
if(!X&&D&&cC==1){p=D.ga();this.mR=g.F.b6(p,this.xG)}else if(!X&&m&&cC==1){var M=W.U[this.U[0]],m=M.add.TySh;
p=g.b.Lw(M.kJ.aj).n;g.b.M(p,m.M,p);this.mR=g.F.b6(p,this.xG)}else if(!X&&K){p=_.Gz.rQ(K.nonAffineTransform);
this.xG=g.b.Hb(g.NP.qP(K.quiltWarp.v)[3]);if(l)this.Pf=new b0(K.quiltWarp.v);this.mR=g.F.b6(p,this.xG)}else{if(l||X)this.Pf=new b0(g.NP.j(this.xG));
this.mR=[1,0,0,0,1,0,0,0];if(this.id==_.Fh)q=3;p=[a.x,a.y,a.x+a.r,a.y,a.x+a.r,a.y+a.$,a.x,a.y+a.$]}this.h_=new k1(p,!0,!0,k,!1,!1,q);
this.a5e=[1,0,0,0,1,0,0,0];this.aiC(W)};_.Gz.prototype.aiC=function(W){if(this.id==_.Fh){var q,X,U=null;
if(this.zy&&W.d==null){var k=this.zy[0][0],B=k.bd;q=B[0];X=B[1]}else if(this.Xd){q=this.Xd.Wa;X=this.Xd.OM}if(this.s0!=0)U=W.RH[this.s0-1].sA(X);
this.lQ=g.oC.awa(g.Cn(q,8),X.r,X.$,U)}};_.Gz.wu=function(W,q){if(q==null)q=W.Vs(!0,null,null,!0);var X=new dU,k=new dU;
if(W.d&&q.length==1&&q[0]>=0)X=W.d.S.P();else for(var N=0;N<q.length;N++){var B=q[N],U=0<=B?W.U[B]:-1e3<B?W.RM[-1-B]:W.RH[-1e3-B],l=U.add?U.add.vmsk:null,K=0<=B?U.wu(W,q.length==1,!1,!0):-1e3<B?g.z.Sa(l.G,q.length==1&&l.Y.length!=0?l.Y:null):U.S.P();
X=X.xw(K);if(B>0&&U.add.artb)k=k.xw(U.La())}if(!k.PM())return k;if(X.r==0){if(X.$==0)return X;X.x-=10;
X.r+=20}if(X.$==0){X.y-=10;X.$+=20}return X};_.Gz.prototype.hv=function(W,q,X,k){var B=new ip(q,!0);
B.data=X;if(k)B.J=k;W.T(B)};_.Gz.J1=function(W){var q=[];for(var N=0;N<W.U.length;N++)q.push(N);for(var N=0;
N<W.RM.length;N++)q.push(-1-N);for(var N=0;N<W.RH.length;N++)q.push(-1e3-N);return q};_.Gz.tl=function(W,q,X){var k=[];
for(var N=0;N<q.length;N++){var B=q[N],U,l;if(B>=0){U=W.U[B];l=U.hb(W,X,!0)}else if(B>-1e3){U=W.RM[-1-B];
l=[2]}else{k.push([null,null,null,null,null,null,null,W.RH[-1e3-B].P()]);continue}var K=[],D=l.indexOf(0)!=-1;
if(D){var m={bd:U.add.SoLd?null:[U.buffer.slice(0),U.S.P()]};K.push(m);if(U.SF()){var Y=U.Q2(W);m.ahw=Y.buffer.slice(0);
m.aFP=Y.S.P()}}else K.push(null);if(l.indexOf(1)!=-1)K.push(U.Jx().P());else K.push(null);if(l.indexOf(2)!=-1)K.push({Ly:U.add.vmsk.P(),Cs:U.add.vstk?g.N(U.add.vstk):null,bE:U.add.vstk?kE.yB(W.U[B].add):null,Hr:U.add.vstl?JSON.stringify(U.add.vstl):null,BI:U.add.vogk?g.N(U.add.vogk):null});
else K.push(null);if(U.add.TySh&&D){gZ.MZ(U.add.TySh);K.push(U.add.TySh.M.P())}else K.push(null);if(U.add.SoLd&&D)K.push(g.N(U.add.SoLd));
else K.push(null);if(l.indexOf(3)!=-1)K.push(U.Q2(W).BD.P());else K.push(null);if(U.add.lmfx)K.push(JSON.stringify(U.add.lmfx));
else K.push(null);k.push(K)}return k};_.Gz.aap=function(W,q,X){for(var N=0;N<q.length;N++){var k=q[N],B=0<=k?W.U[k]:-1e3<k?W.RM[-1-k]:W.RH[-1e3-k],U=X[N];
if(U[0]){if(U[0].bd){B.S=U[0].bd[1].P();B.buffer=U[0].bd[0].slice(0)}if(B.SF()){var l=B.Q2(W);l.buffer=U[0].ahw.slice(0);
l.S=U[0].aFP.P()}}if(U[1]){B.Jx().c=U[1].c.slice(0);B.Jx().S=U[1].S.P();B.Jx().Uf=!0}if(U[2]){B.add.vmsk=U[2].Ly.P();
if(U[2].bE)kE.gD(B.add,U[2].bE);if(U[2].Cs)B.add.vstk=g.N(U[2].Cs);if(U[2].BI)B.add.vogk=g.N(U[2].BI);
if(U[2].Hr)B.add.vstl=JSON.parse(U[2].Hr)}if(U[3]){B.add.TySh.M=U[3].P();gZ.v7(B.add.TySh)}if(U[4]){B.add.SoLd=g.N(U[4])}if(U[5]){var K=B.Q2(W).BD;
K.c=U[5].c.slice(0);K.S=U[5].S.P()}if(U[6]){B.add.lmfx=JSON.parse(U[6])}if(U[7]){B.c=U[7].c.slice(0);
B.S=U[7].S.P();B.Uf=!0}if(0<=k){B.Ae(W);B.I_();if(U[4])B.uz(W,!1)}}W.I_()};_.Gz.aac=function(W,q,X){W.depth=X;
W.buffer=g.j(W.r*W.$*4,X);for(var N=0;N<q.length;N++){var k=q[N];if(0<=k){var B=W.U[k],U=B.Jx();if(U){U.c=g.Cn(U.c,X);
U.Uf=!0}if(B.add.vmsk)B.add.vmsk.Uf=!0;if(B.Nj())B.Ae(W);else if(B.add.SoLd){if(B.SF()){var l=B.Q2(W),U=l.BD;
if(U){U.c=g.Cn(U.c,X);U.Uf=!0}}B.uz(W)}else B.buffer=g.Cn(B.buffer,X);B.I_()}else if(-1e3<k){}else{var U=W.RH[-1e3-k];
U.c=g.Cn(U.c,X)}}W.I_()};_.Gz.aAi=function(W,q,X){var k,B,U=17,l=W.Pb();if(l){U=l[2];k=l[3].slice(0)}if(X){var K=ICC.R(X.buffer);
B=ICC.U.sampleLUT(K,U,!0)}for(var N=0;N<q.length;N++){var D=q[N];if(0<=D){var m=W.U[D];if(m.Nj())m.Ae(W);
else if(m.add.SoLd){}else{if(k)ICC.U.applyLUT(k,U,m.buffer,m.buffer);if(B)ICC.U.applyLUT(B,U,m.buffer,m.buffer)}m.I_()}}W.I_()};
_.Gz.XS=function(W,q){if(q.awk){var X=W.Pb();W.JM(q.awk[0]);q.awk=[X?X[0]:null]}if(q.U==null)return;
var k=_.Gz.tl(W,q.U,q.$M);if(q.depth!=null){var B=q.depth;q.depth=W.depth;W.depth=B;W.buffer=g.j(W.r*W.$*4,W.depth);
W.I_()}_.Gz.aap(W,q.U,q.zy);q.zy=k};_.Gz.yW=function(W,q,X,k,B,U,l,K,D,m){if(typeof U[0]=="number"){var Y=[];
for(var N=0;N<X.length;N++)Y[N]=U;U=Y}for(var N=0;N<X.length;N++){var a=U[N],p=g.F.bI(a),M=p.Lr(),x=X[N],R=0<=x?W.U[x]:-1e3<x?W.RM[-1-x]:W.RH[-1e3-x],y=k[N];
if(R.add&&R.add.lmfx&&K)dx.Bs(R.add.lmfx,M);if(y[0]&&!y[3]&&!y[4]&&!y[5]){var s=y[0].bd;if(D){var F=D.x$(s[1]),E=g.j(F.C()*4);
g.YE(s[0],s[1],E,F);s=[E,F]}var o=_.Gz.JJ(s,B,a,l,B==0?R.buffer.buffer:null,null,m);if(o){R.S=o.S;R.buffer=o.buffer}}if(y[1]){var G=R.Jx();
_.Gz.Wn(W,y[1],G,B,a,l,G.$P&&l&&!g.NP.GE(l)&&y[0]?y[0].bd[1]:null);if(D){var F=G.S.x$(D),d=g.j(F.C());
g.Z_(G.c,G.S,d,F);G.c=d;G.S=F}}if(y[2]){var u=l&&!g.NP.GE(l),r=y[2].Ly.P(),v=X.length==1&&r.Y.length!=0,c=X.length==1&&r.rP.length>1;
if(c)v=!1;var V=v?r.Y:null,j=c?r.rP:null;if(u){var Q=g.NP.qP(l);g.F.M(a,Q[3]);g.z.al4(r.G,Q,V,j)}else g.z.aal(r.G,a,V,j);
if(R.add.vstk&&K){R.add.vstk.strokeStyleLineWidth.v.val=y[2].Cs.strokeStyleLineWidth.v.val*M;var H=y[2].bE;
if(H&&H.O5==3){H=g.N(H);var T=H.bE.phase.v;H.bE.Scl.v.val=Math.round(H.bE.Scl.v.val*M);T.Hrzn.v=Math.round(T.Hrzn.v*M);
T.Vrtc.v=Math.round(T.Vrtc.v*M);kE.gD(R.add,H)}}if(R.add.vogk){R.add.vogk=g.N(y[2].BI);if(u||c)g.BI.a6r(R.add.vogk);
else g.BI.M(R.add.vogk,a,X.length>1?[]:r.Y,K)}if(R.add.vstl){var e=R.add.vstl=JSON.parse(y[2].Hr);for(var z=0;
z<2;z++){var J=z==0?e.jg:e.rD;if(J==null||J[3]==null)continue;var P=J[3],L=new ka(P[0],P[1],P[2],P[3],P[4],P[5]);
L.concat(p);J[3]=[L.iM,L.X,L.bO,L.kv,L.Wy,L.rY]}}r.iE*=M;var A=new ka;A.rotate(r.DC);A.concat(p);r.DC=Math.atan2(-A.X,A.iM);
R.add.vmsk=r;if(R.add.vogk)g.BI.pp(R.add.vogk,R.add.vmsk)}if(y[3]){var L=y[3].P();L.concat(p);R.add.TySh.M=L;
gZ.v7(R.add.TySh);hj.SA(R,q.yK)}if(y[4]){var h=R.add.SoLd,C=_.Gz.rQ(y[4].nonAffineTransform);g.F.M(a,C);
var w=g.b.DS(C);if(k1.hI(C)){if(l){var f=g.b.Hb(g.NP.qP(y[4].quiltWarp.v)[3]),d=g.F.b6(C,f),O=g.b.Hb(g.NP.qP(l)[3]);
C=[O.x,O.y,O.x+O.r,O.y,O.x+O.r,O.y+O.$,O.x,O.y+O.$];g.F.M(d,C);h.quiltWarp.v=l}var n=g.F.b6(C),$=C;if(!g.F.iU(n)){n[6]=n[7]=0;
$=[0,0,1,0,1,1,0,1];g.F.M(n,$)}h.Trnf=_.Gz.If($);h.nonAffineTransform=_.Gz.If(C);if(h.filterFX)h.filterFX=g.N(y[4].filterFX);
_.Gz.a2$(h,p);R.uz(W,B==0,q.yK)}}if(y[5])_.Gz.Wn(W,y[5],R.Q2(W).BD,B,a,l);if(y[7])_.Gz.Wn(W,y[7],R,B,a,l);
if(0<=x){if(!m)R.xX();R.Ae(W);R.I_();if(R.kJ)R.kJ.OG=!0}}W.I_()};_.Gz.yt=function(W,q){var X=q.Lr(),k=0;
g.HJ(W);var B=g.a1t(W,q,.3,4);k=B[0];q=B[1];var U=W[k],l=W[k+1],K=g.Oj(U),D=l.r,m=l.$,Y=g.b.Lw(l).n;
g.b.M(Y,q,Y);var a=g.b.DS(Y),p=g.j(a.C(),K),M=a.x,x=a.y,R=a.r,y=a.$,s=q.P();s.i5();var F=s.Bb(new hw(0,0)),E=s.Bb(new hw(1,0)),o=E.x-F.x,G=E.y-F.y;
for(var d=0;d<y;d++){var u=s.iM*(M+.5)+s.bO*(d+x+.5)+s.Wy,r=s.X*(M+.5)+s.kv*(d+x+.5)+s.rY;if(K==8)for(var v=0;
v<R;v++){if(.5<u&&u<D-.5&&.5<r&&r<m-.5)p[d*R+v]=Math.floor(.5+g.F.aHY(u,r,U,D,m));u+=o;r+=G}else if(K==16)for(var v=0;
v<R;v++){if(.5<u&&u<D-.5&&.5<r&&r<m-.5)p[d*R+v]=Math.floor(.5+g.F.a50(u,r,U,D,m));u+=o;r+=G}else if(K==32)for(var v=0;
v<R;v++){if(.5<u&&u<D-.5&&.5<r&&r<m-.5)p[d*R+v]=g.F.a50(u,r,U,D,m);u+=o;r+=G}}return{S:a,c:p}};_.Gz.k6=function(W,q,X,k,B){if(X==null)X=!1;
return _.Gz.JJ(W,X?0:1,g.F.af(q),null,k,B,X)};_.Gz.JJ=function(W,q,X,k,B,U,l){if(l==null)l=!1;if(l&&U)throw"e";
var K=g.Oj(W[0]),D={},Y=0;if(k&&!g.NP.GE(k)){var m=g.NP.qP(k);g.F.M(X,m[3]);D.S=g.b.DS(m[3]);D.buffer=g.j(D.S.C()*4,K);
g.my.drawImage(m,W[0],W[1].P(),g.NP.wu(k),D.buffer,D.S,q==0);return D}if(g.F.iU(X)){g.z0(W);var a=.3,Y=0,p=g.F.bI(X),M=W[1],x=M.C()*p.Lr();
if(l&&x>4e6)a=x>8e6?2.2:1.2;var R=g.a1t(W,p,a,16);Y=R[0];X=g.F.af(R[1])}var y=W[Y],M=W[Y+1],s=g.F.xY(X,g.F.af(new ka(M.r,0,0,M.$,M.x,M.y))),F=[0,0,1,0,1,1,0,1];
for(var E=.1;E<.99;E+=.1)F.push(0,E,E,0,1,E,E,1);g.F.M(s,F);D.S=g.b.DS(F);if(U)D.S=D.S.x$(U);if(l){while((D.S.r&3)!=0)D.S.r++;
while((D.S.$&3)!=0)D.S.$++}if(D.S.r>1e5||D.S.$>1e5||D.S.C()>3e4*3e4)return null;var o=D.S.C()*4;if(K==8&&B&&B.byteLength>=o&&o>=B.byteLength>>2){D.buffer=new Uint8Array(B)}else{D.buffer=g.j(o,K)}g.F.drawImage(s,y,M.r,M.$,D.buffer,D.S,q==0,l);
if(q==2&&D.buffer){var G=D.S.r,d=D.S.$,u;u=[0,-1,0,-1,16,-1,0,-1,0];u=g.PG.XH(u);var r=D.buffer.slice(0);
g.PG.LH(r,D.buffer,G,d,u,!0,!1)}if(D.buffer)return D};_.Gz.Wn=function(W,q,X,k,B,U,l){var K=q.S,D=q.c;
if(l){K=l;D=q.sA(K)}if(q.color==255)g.i5(D);var m=g.j(K.C()*4,W.depth);g.fP(D,m,3);var Y=_.Gz.JJ([m,K],k,B,U);
if(Y){X.S=Y.S;X.c=g.j(Y.S.C(),W.depth);g.u6(Y.buffer,X.c,3);X.Uf=!0}if(q.color==255){g.i5(D);if(Y)g.i5(X.c)}};
_.Gz.a2$=function(W,q){var X=W.filterFX;if(X)X=X.v.filterFXList;if(X)X=X.v;if(X)for(var k=0;k<X.length;
k++){var B=X[k].v.Fltr;if(B==null)continue;var U=B.v.classID;B=B.v;if(U!="rigidTransform"&&U!="blurbTransform"&&U!="perspectiveWarpTransform")continue;
var l=[];for(var K=0;K<4;K++)l.push(B["PuX"+K].v,B["PuY"+K].v);var D=l.slice(0);g.b.M(l,q,l);for(var K=0;
K<4;K++){B["PuX"+K].v=l[K*2];B["PuY"+K].v=l[K*2+1]}if(U=="rigidTransform"){var m=["PinP","posFinalPins"],Y=["originalVertexArray","deformedVertexArray"],a=B.puppetShapeList.v;
for(var p=0;p<a.length;p++){var M=a[p].v;for(var x=0;x<m.length;x++){var R=_.Gz.rQ(M[m[x]]);g.b.M(R,q,R);
M[m[x]]=_.Gz.If(R);var y=new Uint8Array(M[Y[x]].v),D=new Float32Array(y.buffer);g.b.M(D,q,D);var s=[];
for(var F=0;F<y.length;F++)s[F]=y[F];M[Y[x]].v=s}}}if(U=="blurbTransform"){var E=g.UW.Ju(B);g.UW.M(E,q);
g.UW.Cp(E[0],B)}if(U=="perspectiveWarpTransform"){var o=g.LD.Jj(B);g.b.M(o.pW,q,o.pW);g.b.M(o.Tc,q,o.Tc);
g.LD.X0(o,B)}}};_.Gz.rQ=function(W){var q=[],X=W.v.length;for(var N=0;N<X;N++)q.push(W.v[N].v);return q};
_.Gz.If=function(W){var q={t:"VlLs",v:[]},X=W.length;for(var N=0;N<X;N++)q.v.push({t:"doub",v:W[N]});
return q};_.Gz.prototype.amJ=function(){var W=g.b.Hb(g.NP.qP(this.Pf.JW())[3]),q=g.F.b6(this.h_.LP(),this.xG),X=[W.x,W.y,W.x+W.r,W.y,W.x+W.r,W.y+W.$,W.x,W.y+W.$];
g.F.M(q,X);this.h_.v2(X);this.xG=W};_.Gz.prototype.ps=function(){var W=g.F.b6(this.h_.LP(),this.xG);
if(this.sl)W=g.F.xY(W,g.F.af(this.sl));return W};_.Gz.prototype.f4=function(W,q,X,k){var B=this.ps();
B=g.F.xY(B,g.F.i5(this.mR));var U=this.Pf?this.Pf.JW():null;if(this.vJ==0){var l=this.HU=g.F.bI(B);if(this.id==_.Fh){var K=this.zy[0][0],D=K.bd,m=D[1],Y=~~(m.r*Math.max(0,l.iM)),a=~~(m.$*Math.max(0,l.kv)),p=new dU(Math.round(l.iM*m.x+l.Wy),Math.round(l.kv*m.y+l.rY),Y,a),M=g.oC.M(this.lQ,p),x=W.U[this.U[0]];
x.buffer=g.Cn(M,W.depth);x.S=p;x.I_();W.I_()}else _.Gz.yW(W,q,this.U,this.zy,X,B,U,null,null,k)}else if(this.vJ==1){var R=W.U[this.U[0]],m=this.Xd.OM;
if(R.pw<=0){var y=this.Xd.Wa,s=this.UQ,F=null;if(U&&!g.NP.GE(U)&&!s.S.AB(m)){var M=g.j(s.S.C()*4);g.YE(y,m,M,s.S);
y=M;m=s.S}if(this.id==_.Fh){var l=this.HU=g.F.bI(B),Y=~~(m.r*Math.max(0,l.iM)),a=~~(m.$*Math.max(0,l.kv)),p=new dU(Math.round(l.iM*m.x+l.Wy),Math.round(l.kv*m.y+l.rY),Y,a),M=g.oC.M(this.lQ,p);
F={buffer:g.Cn(M,W.depth),S:p}}else F=_.Gz.JJ([y,m],X,B,U);if(F){R.dg.LE=F.buffer;R.dg.jl=F.S;var E=g.j(F.S.C(),W.depth);
g.u6(R.dg.LE,E,3);W.d={c:E,S:R.dg.jl.P()}}}else{var o=g.j(m.C()*4);g.fP(this.Xd.Wa,o,3);var F=_.Gz.JJ([o,m],X,B,U);
if(F){R.dg.LE=g.j(F.S.C());g.u6(F.buffer,R.dg.LE,3);R.dg.jl=F.S}this.as3(W,X,B,U)}R.lN(W,0,0,W.d);if(X!=0){R.xX();
g.xX(W.d)}W.r5=!0;W.I_()}else if(this.vJ==2)this.as3(W,X,B,U)};_.Gz.prototype.as3=function(W,q,X,k){var B=this.UQ.S,U=g.j(B.C()*4);
g.fP(this.UQ.c,U,3);var l=_.Gz.JJ([U,B],q,X,k),K=g.j(l.S.C());g.u6(l.buffer,K,3);W.d={c:K,S:l.S};W.r5=!0};
_.Gz.prototype.disable=function(W,q,X,k){if(this.h_)this.Bl(W,q,null,!0)};_.ano=function(){_.Gz.call(this,[10,16],_.Xx,"tools/transform")};
_.ano.prototype=new _.Gz;_.aKU=function(){_.Gz.call(this,[7,10],_.oV,"tools/transform")};_.aKU.prototype=new _.Gz;
_.aoI=function(){_.Gz.call(this,[10,48],_.Fh,"tools/transform")};_.aoI.prototype=new _.Gz;_.r1=function(W,q,X){_.CB.call(this,W?W:[10,40],q?q:_.eP,X?X:"tools/slice");
this.Zl=null;this.gr=null;this.e3={t:0,x:0,y:0};this.xD=null;this.akb=null;this.Ip=null;this.ZS=null};
_.r1.prototype=new _.CB;_.r1.Sj=function(W,q){var X=-1;for(var N=0;N<W.length;N++){var k=_.r1.XE(W,N);
if(k[0]<=q.x&&q.x<=k[2]&&k[1]<=q.y&&q.y<=k[3]){X=N;break}}return X};_.r1.prototype.s4=function(W,q,X,k,B){if(X==null)return;
this.nh(X);if(W.R=="fromAction"){var U=W.lz,l=U.yx,K=U.Og,D=X.sO(),m=X.l4(),Y=m==-1?new dU(0,0,X.r,X.$):X.U[m].La();
if(l=="divide"){if(X.Di.length!=0){var a=X.Di[0],p=_.r1.XE(X.Ev,a);Y=new dU(p[0],p[1],p[2]-p[0],p[3]-p[1]);
X.Ev.splice(a,1);X.Di=[]}D=[[],[]];for(var M=0;M<2;M++){var x=["Across","Down"][M],R=K["pixels"+x]?0:1,y=K[["pixels","slices"][R]+x];
if(y==null)continue;y=y.v;var s=M==0?Y.x:Y.y,F=M==0?Y.r:Y.$;if(R==0)for(var N=1;N*y<F;N++){D[0].push([M,s+N*y]);
D[1].push(m)}else{var E=Math.floor(F/y);for(var N=1;N<y;N++){D[0].push([M,s+N*E]);D[1].push(m)}}}}var o=[Y.x,Y.x+Y.r],G=[Y.y,Y.y+Y.$];
for(var N=0;N<D[0].length;N++){var d=D[0][N],u=Math.round(d[1]),r=D[1][N];if(r!=-1&&r!=m)continue;if(d[0]==0&&o.indexOf(u)==-1)o.push(u);
if(d[0]==1&&G.indexOf(u)==-1)G.push(u)}o.sort(function(J,P){return J-P});G.sort(function(J,P){return J-P});
for(var v=1;v<G.length;v++)for(var c=1;c<o.length;c++){X.Ev.push(_.r1.ye());_.r1.Gn(X.Ev,X.Ev.length-1,[o[c-1],G[v-1],o[c],G[v]]);
X.R2=!0}}else if(W.R=="reorder"){if(X.Di.length==0)return;var V=X.Ev,j=X.Di;j.sort(function(J,P){return J-P});
console.log(j);var Q=V.slice(0),H=[],T=[];for(var N=0;N<j.length;N++){var a=j[N],e=V[a];T.push(e);Q.splice(Q.indexOf(e),1)}var z=Math.max(0,Math.min(Q.length,j[0]-W.dir));
for(var N=0;N<T.length;N++){Q.splice(z+N,0,T[N]);H.push(z+N)}X.Ev=Q;X.Di=H}else if(W.R=="delete"){var V=X.Ev.slice(0);
for(var N=0;N<X.Di.length;N++)X.Ev.splice(X.Ev.indexOf(V[X.Di[N]]),1);X.Di=[]}else if(W.R=="deleteAll"){X.Ev=[];
X.Di=[]}else{X.Ev[X.Di[0]].v=W;X.R2=!0}this.Ri(X)};_.r1.prototype.enable=function(W,q,X,k,B,U){_.CB.prototype.enable.call(this,W,q,X,k,B,U);
if(!X.bm.Ev){var l=new ip(S.E.H,!0);l.data={R:S.m.Dt,rl:aI.QE};q.T(l)}};_.r1.prototype.disable=function(){this.Zl=null;
this.gr=null};_.r1.prototype.xM=function(W,q,X,k,B){var U=W.f.uy(B.x,B.y),l=_.r1.Sj(W.Ev,U);if(l==-1)return;
this.Zl=W;this.gr=q;W.Di=[l];W.R2=!0;if(this.ZS==null){this.ZS=new j_([{name:[5,4]},{name:[8,11,1],r8:!0}]);
this.ZS.Q("select",this.vK,this)}var K=this.ZS;K.parent=q;K.l();K.update(W,X);var D=new ip(S.E.H,!0);
D.data={R:S.m.k8,ii:K,x:B.Ty+2,y:B.Be+1};q.T(D)};_.r1.prototype.vK=function(W){var q=this.ZS.kN()[0],X=this.Zl;
if(q==0){this.nh(X);X.Ev.splice(X.Di[0],1);X.Di=[];X.R2=!0;this.Ri(X)}if(q==1){var k=new ip(S.E.H,!0);
k.data={R:S.m.K_,ud:"soptions",_:X.Ev[X.Di[0]].v};this.gr.T(k)}};_.r1.prototype.mc=function(W,q,X,k,B){if(W==null)return;
this.nh(W);var U=W.f.uy(B.x,B.y);U=_.U6.W1(W,U,X,[!0,null,!1]);U.x=Math.round(U.x);U.y=Math.round(U.y);
this.Ip=U;W.Ev.unshift(_.r1.ye());W.Di=[0];_.r1.Gn(W.Ev,0,[U.x,U.y,U.x+20,U.y+20]);W.R2=!0};_.r1.prototype.lG=function(W,q,X,k,B){if(this.xD==null)return;
var U=W.f.uy(B.x,B.y),l=this.Ip;U=_.U6.W1(W,U,X,[!0,null,!1]);var K=_.Wp.Lp(l,U,k,!0,this.e3);l=K[0];
U=K[1];var D=[l.x,l.y,U.x,U.y];_.r1.ao0(D);_.r1.Gn(W.Ev,0,D);W.R2=!0};_.r1.prototype.iY=function(W,q,X,k,B){this.Ri(W);
this.Ip=null};_.r1.prototype.nh=function(W){this.xD=JSON.stringify(W.Ev);this.akb=JSON.stringify(W.Di)};
_.r1.prototype.Ri=function(W){var q=JSON.stringify(W.Ev);if(q!=this.xD){var X=new j3(this.name,this);
X.data={Xd:this.xD,Rz:q,aIy:this.akb,a8Z:JSON.stringify(W.Di)};W.O_(X)}this.xD=null};_.r1.prototype.tG=function(W,q){q.Ev=JSON.parse(W.Xd);
q.Di=JSON.parse(W.aIy);q.R2=!0};_.r1.prototype._j=function(W,q){q.Ev=JSON.parse(W.Rz);q.Di=JSON.parse(W.a8Z);
q.R2=!0};_.r1.prototype.hK=function(W,q){return q!=null&&q.Di.length!=0&&(W==bu.GD||W==bu.gB)};_.r1.prototype.jm=function(W,q,X,k){if(W==null)return;
if(k.D(bu.GD)||k.D(bu.gB))this.s4({R:"delete"},q,W,k,X);var B=k.wp();if(B.x!=0||B.y!=0){this.nh(W);_.r1.uq(W,B);
this.Ri(W)}};_.r1.prototype.Os=function(W,q,X,k,B){this.e3=W.T$};_.r1.akm=function(W,q,X,k){var B=new hw(-q.x,-q.y),U=q.r/X.r,l=q.$/X.$,K=[0,0,q.r,q.$];
for(var N=0;N<W.length;N++){var D=_.r1.XE(W,N);if(k){D[0]=Math.round(D[0]*U);D[1]=Math.round(D[1]*l);
D[2]=Math.round(D[2]*U);D[3]=Math.round(D[3]*l)}else{_.r1.vn(D,B);_.r1.at5(D,K)}if(D[0]>=D[2]||D[1]>=D[3]){W.splice(N,1);
N--;continue}_.r1.Gn(W,N,D)}};_.r1.uq=function(W,q){var X=W.Ev;for(var N=0;N<W.Di.length;N++){var k=_.r1.XE(X,W.Di[N]);
_.r1.vn(k,q);_.r1.Gn(X,W.Di[N],k)}};_.r1.at5=function(W,q){if(W[0]<q[0])W[0]=q[0];if(W[1]<q[1])W[1]=q[1];
if(q[2]<W[2])W[2]=q[2];if(q[3]<W[3])W[3]=q[3]};_.r1.vn=function(W,q){W[0]=Math.round(W[0]+q.x);W[2]=Math.round(W[2]+q.x);
W[1]=Math.round(W[1]+q.y);W[3]=Math.round(W[3]+q.y)};_.r1.Gn=function(W,N,q){var X=W[N].v.bounds.v;X.Left.v=q[0];
X.Top.v=q[1];X.Rght.v=q[2];X.Btom.v=q[3]};_.r1.XE=function(W,N){var q=W[N].v.bounds.v;return[q.Left.v,q.Top.v,q.Rght.v,q.Btom.v,N]};
_.r1.ao0=function(W){if(W[2]<W[0]){var q=W[0];W[0]=W[2];W[2]=q}if(W[2]==W[0])W[2]++;if(W[3]<W[1]){var q=W[1];
W[1]=W[3];W[3]=q}if(W[3]==W[1])W[3]++};_.r1.Hb=function(W,q){var X=1e9,k=-1e9,B=1e9,U=-1e9;for(var N=0;
N<q.length;N++){var l=_.r1.XE(W,q[N]);X=Math.min(X,l[0]);B=Math.min(B,l[1]);k=Math.max(k,l[2]);U=Math.max(U,l[3])}return[X,B,k,U]};
_.r1.ye=function(){return{t:"Objc",v:{classID:"slice",sliceID:{t:"long",v:0},groupID:{t:"long",v:0},origin:{t:"enum",v:{ESliceOrigin:"userGenerated"}},Type:{t:"enum",v:{ESliceType:"Img"}},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},url:{t:"TEXT",v:""},null:{t:"TEXT",v:""},Msge:{t:"TEXT",v:""},altTag:{t:"TEXT",v:""},cellTextIsHTML:{t:"bool",v:!0},cellText:{t:"TEXT",v:""},horzAlign:{t:"enum",v:{ESliceHorzAlign:"default"}},vertAlign:{t:"enum",v:{ESliceVertAlign:"default"}},bgColorType:{t:"enum",v:{ESliceBGColorType:"None"}},topOutset:{t:"long",v:0},leftOutset:{t:"long",v:0},bottomOutset:{t:"long",v:0},rightOutset:{t:"long",v:0}}}};
_.Nc=function(){_.r1.call(this,[10,41],_.pz,"tools/sselect");this.Ip=null;this.lt=null;this.gs=null;
this.tY=null;this.aBo=!1};_.Nc.prototype=new _.r1;_.Nc.prototype.mc=function(W,q,X,k,B){if(W==null)return;
var U=W.f.uy(B.x,B.y),l=_.Nc.a9X(U,4/W.f.$Z,W.Ev,W.Di);l.pop();if(l.length!=0){this.Ip=U;this.gs=l;this.nh(W);
return}var K=W.Ev,D=_.r1.Sj(K,U);if(D==-1)W.Di=[];else{var m=W.Di.indexOf(D);if(k.D(bu.m4)){if(m==-1)W.Di.push(D);
else W.Di.splice(m,1)}else{W.Di.sort(function(R,y){return R-y});if(m==-1)W.Di=[D];this.Ip=U;this.nh(W);
this.lt=_.r1.Hb(K,W.Di);this.tY=[];for(var N=0;N<W.Di.length;N++)this.tY.push(_.r1.XE(K,W.Di[N]));if(k.D(bu.Wr)){var Y=K.slice(0),a=W.Di,p=[];
for(var N=0;N<a.length;N++){var D=a[N],M=Y[D],x=K.indexOf(M);p.push(x);K.splice(x,0,g.N(M))}W.Di=p}}}W.R2=!0};
_.Nc.prototype.lG=function(W,q,X,k,B){var U=W.f.uy(B.x,B.y);if(this.Ip==null){var l=_.Nc.a9X(U,4/W.f.$Z,W.Ev,W.Di),K=l.pop(),D=l.length==0?"default":["ew","nwse","ns","nesw"][K]+"-resize",m=new ip(S.E.H,!0);
m.data={R:S.m.db,pq:D};q.T(m);return}if(!this.aBo&&U.AB(this.Ip))return;this.aBo=!0;var Y=W.Ev,l=this.gs;
if(l){U=_.U6.W1(W,U,X,[!0,null,!1]);var a=Math.round(U.x),p=Math.round(U.y);for(var N=0;N<l.length;N+=2){var M=_.r1.XE(Y,l[N]),x=l[N+1];
M[x]=(x&1)==0?a:p;_.r1.ao0(M);_.r1.Gn(Y,l[N],M)}}else{var R=U.SR(this.Ip),y=this.lt.slice(0);_.r1.vn(y,R);
var s=new dU(y[0],y[1],y[2]-y[0],y[3]-y[1]),F=_.U6.T2(W,s,X,[!0,null,!1],!0);_.U6.FJ(W,s,F);R.x+=F[0];
R.y+=F[1];for(var N=0;N<W.Di.length;N++)_.r1.Gn(Y,W.Di[N],this.tY[N]);_.r1.uq(W,R)}W.R2=!0};_.Nc.prototype.iY=function(W,q,X,k,B){if(this.Ip==null)return;
this.Ri(W);W.W.Bk=null;W.R2=!0;this.Ip=null;this.gs=null;this.tY=null;this.aBo=!1};_.Nc.a9X=function(W,q,X,k){var B=W.x,U=W.y,l=[],K=-1,D=[];
for(var N=0;N<k.length;N++){var m=k[N],Y=_.r1.XE(X,m),a=Y[0],p=Y[1],M=Y[2],x=Y[3];if(B<a-q||M+q<B||U<p-q||x+q<U)continue;
var R=[B<a+q,U<p+q,M-q<B,x-q<U],y=-1;for(var s=0;s<4;s++){if(R[s]&&R[s+1&3])y=1+2*(s&1);if(R[s])l.push(m,s)}if(y==-1){if(R[0]||R[2])y=0;
if(R[1]||R[3])y=2}if(y!=-1){K=y;D.push(m)}}var F=l.length;for(var N=0;N<F;N+=2){var m=l[N],E=l[N+1],o=_.r1.XE(X,m)[E];
for(var s=0;s<k.length;s++){var G=k[s];if(D.indexOf(G)!=-1)continue;var Y=_.r1.XE(X,G);if(Y[E&1]==o)l.push(G,E&1);
if(Y[2+(E&1)]==o)l.push(G,2+(E&1))}}l.push(K);return l};_.yI=function(W,q,X){_.CB.call(this,W,q,X);this.Sw=null;
this.atl=null;this.hs=null;this.aHr=null;this.W5=null;this.Ji=null;this.EM=null;this.KC=[]};_.yI.prototype=new _.CB;
_.yI.prototype.mf=function(){return!0};_.yI.sv=function(W){if(W==null)return!1;if(W.Y.length!=1)return!1;
var q=W.U[W.Y[0]];return q.add.SoLd||W.or(!1)};_.yI.prototype.hr=function(W,q){return _.yI.sv(W)};_.yI.prototype.hK=function(W,q){return W==bu.GD||W==bu.gB};
_.yI.prototype.enable=function(W,q,X,k,B,U,l){this.atl=U.iF;var K=U.iF,D,x=null;if(K){var m=W.U[K.B];
if(m.add.SoLd.filterFX!=null){var Y=m.add.SoLd.filterFX.v.filterFXList.v;if(Y[K.index])D=g.N(Y[K.index].v.Fltr.v)}}var m=W.U[W.Y[0]],a=m.buffer,p=m.S,M=m.add.SoLd;
if(M){var R=M.nonAffineTransform.v;x=[];for(var N=0;N<4;N++)x.push(R[N*2].v,R[N*2+1].v);if(D==null)this.Tn("edit",q);
var y=m.Q2(W);a=y.buffer;p=y.S}this.aHr={buffer:a.slice(0),S:p.P(),asi:x};this.pS(D,W,q,U.asG);this.Wl(q);
var s=new ip(S.E.H,!0);s.data={R:S.m.db,pq:"default"};q.T(s)};_.yI.prototype.Wl=function(W){var q=new ip(S.E.H,!0);
q.data={R:S.m.os,J:this.id,rl:this.W5};W.T(q)};_.yI.prototype.disable=function(W,q,X,k){if(this.Ji)this.Bl(W,q,!0)};
_.yI.prototype.Tn=function(W,q){var X=new ip(S.E.O,!0);X.J=_.zF;X.data={R:W,iF:this.atl,Sw:this.Sw,he:this.hs};
q.T(X)};_.yI.prototype.Bl=function(W,q,X){this.Tn("confirm",q);this.escape(W,q,X)};_.yI.prototype.hk=function(W,q,X){this.Tn("cancel",q);
this.escape(W,q,X)};_.i0=function(W,q,X){_.yI.call(this,[10,46],_.Zw,"tools/transform");this.Sw="rigidTransform";
this.W5=[1,1,2,!0]};_.i0.prototype=new _.yI;_.i0.prototype.pS=function(W,q,X){this.hs=W?W:_.i0.Pm(this.aHr,this.W5);
this.Ji=_.i0.Gj(this.hs,this.W5);this.z_();this.QV(q);if(W==null)this.L8(X)};_.i0.prototype.z_=function(W){var q=this.Ji;
this.KC=[];for(var N=0;N<q.length;N++){var X=q[N];for(var k=0;k<X.Y.length;k++)this.KC.push([N,X.Y[N]]);
X.Ko=g.f9.a5$(X);if(W)g.f9.a4B(X)}};_.i0.prototype.Os=function(W,q,X,k){if(W.wh=="commit")this.Bl(X,q,!0);
else if(W.wh=="cancel")this.hk(X,q,!0);else if(W.wh=="prm"){var B=!1;for(var N=0;N<3;N++)if(this.W5[N]!=W.rl[N])B=!0;
this.W5=W.rl;if(B){this.hs=_.i0.Pm(this.aHr,this.W5,this.hs);this.Ji=_.i0.Gj(this.hs,this.W5);this.z_(!0);
this.L8(q)}this.QV(X)}else if(W.wh=="moveDepth"){var U=this.Ji;for(var l=0;l<U.length;l++){var K=U[l];
for(var N=0;N<K.Y.length;N++){var D=K.Y[N];K._B[D]+=W.awE?1:-1}}this.L8(q)}};_.i0.prototype.jm=function(W,q,X,k){var B=k.wp();
if(k.D(bu.$H))this.Bl(W,q,!0);else if(k.D(bu.hJ))this.hk(W,q,!0);else if(k.D(bu.GD)||k.D(bu.gB)){var U=this.Ji;
for(var l=0;l<U.length;l++){var K=U[l];K.Y.sort(function(Y,a){return a-Y});for(var N=0;N<K.Y.length;
N++){var D=K.Y[N],m=D*2;K._B.splice(D,1);K.B6.splice(D,1);K.Mk.splice(D,1);K.ws.splice(D,1);K.VI.splice(m,2);
K.Tc.splice(m,2)}K.Y=[];if(K.ws.length==0){K.TQ=K.vx.slice(0);K.xb=K.vx.slice(0)}}this.z_(!0);this.L8(q);
this.QV(W)}else if(B.x!=0||B.y!=0){this.anf(W,B.x,B.y,q);this.ib=null}};_.i0.prototype.escape=function(W,q,X){W.W.Qc=null;
W.W.Yz=[];W.W.yJ=[];W.R2=!0;this.Ji=null;var k=new ip(S.E.H,!0);k.data={R:S.m.oF};if(X)q.T(k)};_.i0.prototype.mc=function(W,q,X,k,B){var U=W.f.uy(B.x,B.y),l=U.x,K=U.y,D=this.Ji,m=null,Y=[0,2,4,1.2,1.2,1.2],a=-1,p=_.YA(W,B);
for(var N=0;N<D.length;N++){var M=D[N],x=g.b.vc(M.Tc,l,K,p);if(x!=-1)m=[N,x];if(a==-1&&g.f9.awS.aDq(M.xb,M.On,l,K))a=N}if(m==null&&a!=-1){var M=D[a];
_.i0.a9I(M,l,K,l,K,0);m=[a,M.ws.length-1];M.Ko=g.f9.a5$(M)}this.EM=U;if(m){var R=D[m[0]].Y.indexOf(m[1])!=-1;
if(k.D(bu.m4)&&!R){D[m[0]].Y.push(m[1]);this.KC.push(m)}else if(!R){D[m[0]].Y=[m[1]];this.KC=[m]}}this.QV(W)};
_.i0.a9I=function(W,q,X,k,B,U){var l=g.b.vc(W.xb,q,X);W.ws.push(l);W.Tc.push(k,B);W.VI.push(W.xb[l*2]-q,W.xb[l*2+1]-X);
W.Mk.push(0);W.B6.push(!1);W._B.push(U)};_.i0.prototype.lG=function(W,q,X,k,B){var U=W.f.uy(B.x,B.y),l=this.EM;
if(l)this.anf(W,U.x-l.x,U.y-l.y,q)};_.i0.prototype.anf=function(W,q,X,k){var B={},U=this.KC,l=this.Ji;
if(this.ib==null){this.ib=[];for(var N=0;N<l.length;N++)this.ib.push(l[N].Tc.slice(0))}for(var N=0;N<U.length;
N++){var K=this.KC[N],D=K[0],m=l[K[0]],Y=K[1]*2;m.Tc[Y+0]=this.ib[D][Y+0]+q;m.Tc[Y+1]=this.ib[D][Y+1]+X;
B[D]=D}for(var D in B)g.f9.a4B(this.Ji[B[D]]);this.QV(W);this.L8(k)};_.i0.prototype.iY=function(W,q,X,k,B){this.EM=null;
this.ib=null};_.i0.prototype.L8=function(W){_.i0.aA6(this.Ji,this.W5,this.hs);this.Tn("edit",W)};_.i0.prototype.QV=function(W){var q=this.Ji,X=this.hs;
W.W.Qc={n:[],zb:[]};W.W.Yz=[];W.W.yJ=[];for(var N=0;N<q.length;N++){var k=q[N];for(var B=0;B<k.Tc.length;
B+=2){var U=W.W.yJ;if(k.Y.indexOf(B>>>1)!=-1)U=W.W.Yz;U.push(k.Tc[B],k.Tc[B+1])}if(this.W5[3])g.b.concat(W.W.Qc,g.b.abf(k.xb,k.On))}W.R2=!0};
_.i0.Pm=function(W,q,X){var k=W.buffer,B=W.S,U=W.asi,l=dY.wy("rigidTransform");if(U)for(var N=0;N<4;
N++){l["PuX"+N].v=U[N*2];l["PuY"+N].v=U[N*2+1]}var K=l.puppetShapeList.v,D=g.f9.aCa(k,B.r,B.$,q[1],q[2]),m=[];
for(var Y=0;Y<D.length;Y++){var a={classID:"puppetShape",rigidType:{t:"bool",v:!0},VrsM:{t:"long",v:1},VrsN:{t:"long",v:0},originalVertexArray:{t:"tdta",v:[]},deformedVertexArray:{t:"tdta",v:[]},indexArray:{t:"tdta",v:[]},pinOffsets:{t:"VlLs",v:[]},posFinalPins:{t:"VlLs",v:[]},pinVertexIndices:{t:"VlLs",v:[]},PinP:{t:"VlLs",v:[]},PnRt:{t:"VlLs",v:[]},PnOv:{t:"VlLs",v:[]},PnDp:{t:"VlLs",v:[]},meshQuality:{t:"long",v:2},meshExpansion:{t:"long",v:2},meshRigidity:{t:"long",v:2},imageResolution:{t:"doub",v:72},selectedPin:{t:"VlLs",v:[]}};
a.meshBoundaryPath={t:"Objc",v:{classID:"pathClass",pathComponents:{t:"VlLs",v:[{t:"Objc",v:{classID:"PaCm",shapeOperation:{t:"enum",v:{shapeOperation:"xor"}},SbpL:{t:"VlLs",v:[{t:"Objc",v:{classID:"Sbpl",Clsp:{t:"bool",v:!0},Pts:{t:"VlLs",v:[]}}}]}}}]}}};
var p=D[Y];K.push({t:"Objc",v:a});var M=p.vx.slice(0);g.b.M(M,new ka(1,0,0,1,B.x,B.y),M);var x=p.On;
for(var N=0;N<x.length;N+=3){var R=x[N+1];x[N+1]=x[N+2];x[N+2]=R}m.push({On:x,vx:M,TQ:M,xb:M,ws:[],VI:[],Tc:[],Ko:null,Y:[],Mk:[],B6:[],_B:[]})}if(X){var y=_.i0.Gj(X,[]),s=m[0];
for(var N=0;N<y.length;N++){var F=y[N];for(var E=0;E<F.Y.length;E++)s.Y.push((s.Tc.length>>>1)+F.Y[E]);
for(var E=0;E<F.ws.length;E++){var o=F.ws[E]*2,G=F.vx[o]-F.VI[E*2],d=F.vx[o+1]-F.VI[E*2+1];_.i0.a9I(s,G,d,F.Tc[E*2],F.Tc[E*2+1],F._B[E])}}}_.i0.aA6(m,q,l);
return l};_.i0.Gj=function(W,q){var X=_.Gz.rQ,k=W.puppetShapeList.v,B=[];for(var U=0;U<k.length;U++){var l=k[U].v;
q[0]=l.meshRigidity.v-1;q[1]=l.meshQuality.v-1;q[2]=l.meshExpansion.v;var K=l.pinVertexIndices.v.length,D=l.meshBoundaryPath.v.pathComponents.v;
if(D.length!=0){var m=D[0].v.SbpL.v[0].v.Pts;m.v=[]}var Y=new Uint32Array(new Uint8Array(l.indexArray.v).buffer),a=new Float32Array(new Uint8Array(l.originalVertexArray.v).buffer),p=new Float32Array(new Uint8Array(l.deformedVertexArray.v).buffer),M=[],x=[],R=[];
for(var N=0;N<Y.length;N++)M.push(Y[N]);for(var N=0;N<a.length;N++){x.push(a[N]);R.push(p[N])}var y=X(l.pinVertexIndices),s=X(l.pinOffsets),F=X(l.posFinalPins),E=X(l.PnRt),o=X(l.PnOv),G=X(l.PnDp),d=X(l.selectedPin);
B.push({On:M,vx:x,TQ:R.slice(0),xb:R,ws:y,VI:s,Tc:F,Ko:null,Mk:E,B6:o,_B:G,Y:d})}return B};_.i0.aA6=function(W,q,X){function k(p,M){var x=[];
for(var N=0;N<p.length;N++)x.push({t:M,v:p[N]});return x}function B(p,M,x){var R=new(x?Uint32Array:Float32Array)(p),y=new Uint8Array(R.buffer);
for(var N=0;N<y.length;N++)M[N]=y[N]}var U=X.puppetShapeList.v;for(var l=0;l<U.length;l++){var K=W[l],D=U[l].v;
D.meshRigidity.v=q[0]+1;D.meshQuality.v=q[1]+1;D.meshExpansion.v=q[2];B(K.On,D.indexArray.v,!0);B(K.vx,D.originalVertexArray.v);
B(K.xb,D.deformedVertexArray.v);var m=[];for(var N=0;N<K.ws.length;N++){var Y=K.ws[N]*2,a=N*2;m[a]=K.vx[Y]-K.VI[a];
m[a+1]=K.vx[Y+1]-K.VI[a+1]}D.PinP.v=k(m,"doub");D.pinVertexIndices.v=k(K.ws,"long");D.pinOffsets.v=k(K.VI,"doub");
D.posFinalPins.v=k(K.Tc,"doub");D.PnRt.v=k(K.Mk,"long");D.PnOv.v=k(K.B6,"bool");D.PnDp.v=k(K._B,"doub");
D.selectedPin.v=k(K.Y,"long")}};_.ff=function(W,q,X){_.yI.call(this,"Perspective Warp",_.BG,"tools/transform");
this.Sw="perspectiveWarpTransform";this.Ya=-1;this.xr=-1;this.Wi=!1;this.azp=!1};_.ff.prototype=new _.yI;
_.ff.prototype.pS=function(W,q,X){this.hs=W?W:dY.wy(this.Sw);this.Ji=g.LD.Jj(this.hs);this.W5=this.Ji.Bz;
this.Wl(X);this.QV(q)};_.ff.prototype.mc=function(W,q,X,k,B){var U=W.f.uy(B.x,B.y),l=this.Ji,K=l.Bz,D=K==0?l.pW:l.Tc;
this.Wi=!0;if(K==0&&this.Ya==-1){var m=D.length>>>1,Y=-(W.r+W.$>>>4);l.SE.push(m,m+1,m+2,m+3);D.push(U.x,U.y,U.x+Y,U.y,U.x+Y,U.y+Y,U.x,U.y+Y);
l.Tc=D.slice(0);this.azp=!0;this.Ya=m;g.LD.X0(l,this.hs);this.QV(W)}if(this.Ya!=-1)this.xr=this.Ya};
_.ff.prototype.lG=function(W,q,X,k,B){var U=W.f.uy(B.x,B.y),l=this.Ji,K=l.Bz,D=K==0?l.pW:l.Tc,m=l.SE;
if(this.Wi){var Y=this.Ya,a=D.slice(0);a[Y*2]=U.x;a[Y*2+1]=U.y;for(var N=0;N<m.length;N+=4){var p=[];
for(var M=0;M<4;M++)p.push(a[2*m[N+M]],a[2*m[N+M]+1]);if(!k1.hI(p))return}if(K==0){l.pW=a;if(this.azp)l.Tc=a.slice(0)}else{l.Tc=a;
this.azp=!1}g.LD.X0(l,this.hs);if(K==1)this.Tn("edit",q)}else{var x=_.YA(W,B);this.Ya=g.b.vc(D,U.x,U.y,x)}this.QV(W)};
_.ff.prototype.iY=function(W,q,X,k,B){var U=W.f.uy(B.x,B.y),l=this.Ji,K=l.Bz,D=K==0?l.pW:l.Tc,m=l.SE,Y=this.Ya;
this.Wi=!1;if(K==0&&Y!=-1){var a=_.YA(W,B),p=g.b.vc(D,U.x,U.y,a,Y);if(p!=-1){if(p<Y){var M=Y;Y=p;p=M}var x=m.slice(0),R=D.slice(0);
R.splice(p*2,2);for(var N=0;N<x.length;N++){if(x[N]==p)x[N]=Y;else if(x[N]>p)x[N]--}for(var N=0;N<x.length;
N+=4){for(var y=0;y<4;y++)for(var s=y+1;s<4;s++)if(x[N+y]==x[N+s])return}l.SE=x;if(K==0)l.pW=R;else l.Tc=R;
g.LD.X0(l,this.hs);this.QV(W)}}};_.ff.prototype.jm=function(W,q,X,k){var B=k.wp(),U=this.xr,l=this.Ji,K=l.Bz;
if(k.D(bu.$H))this.Bl(W,q,!0);else if(k.D(bu.hJ))this.hk(W,q,!0);else if(k.D(bu.GD)||k.D(bu.gB))if(K==0&&U!=-1){var D=l.SE;
for(var N=0;N<D.length;N+=4){if(D[N]==U||D[N+1]==U||D[N+2]==U||D[N+3]==U){D.splice(N,4);N-=4}}var m=[];
for(var N=0;N<l.pW.length;N++)m.push(N);for(var N=(l.pW.length>>>1)-1;N>=0;N--){if(D.indexOf(N)==-1){m.splice(N,1);
l.pW.splice(N*2,2);l.Tc.splice(N*2,2)}}for(var N=0;N<D.length;N++)D[N]=m.indexOf(D[N]);g.LD.X0(l,this.hs);
this.xr=-1;this.QV(W)}};_.ff.prototype.Os=function(W,q,X,k){if(W.wh=="commit")this.Bl(X,q,!0);else if(W.wh=="cancel")this.hk(X,q,!0);
else{this.Ji.Bz=W.rl;g.LD.X0(this.Ji,this.hs);this.QV(X);this.Tn("edit",q)}};_.ff.prototype.escape=function(W,q,X){W.W.ZK=null;
W.W.Yz=[];W.W.yJ=[];W.R2=!0;this.Ji=null;var k=new ip(S.E.H,!0);k.data={R:S.m.oF};if(X)q.T(k)};_.ff.prototype.QV=function(W){var q=this.Ji,X=this.Ya,k=this.xr,B=q.Bz==0?q.pW:q.Tc,U=q.SE;
W.W.yJ=B.slice(0);W.W.Yz=[];if(k>X){var l=X;X=k;k=l}if(X!=-1){W.W.Yz.push(B[X*2],B[X*2+1]);W.W.yJ.splice(X*2,2)}if(k!=-1&&k!=X){W.W.Yz.push(B[k*2],B[k*2+1]);
W.W.yJ.splice(k*2,2)}W.W.ZK={n:[],zb:[]};for(var N=0;N<U.length;N+=4){W.W.ZK.zb.push("M","L","L","L","Z");
for(var K=0;K<4;K++)W.W.ZK.n.push(B[2*U[N+K]],B[2*U[N+K]+1])}W.R2=!0};_.t0=function(){_.yI.call(this,"Blur Gallery",_.py,"tools/ruler");
this.Sw="blurbTransform";this.W5=[0,[],null];this.Ya=-1};_.t0.prototype=new _.yI;_.t0.prototype.pS=function(W,q,X,k){this.Ji={};
var B=W==null;if(W==null){W=dY.wy(this.Sw);g.UW.a54(W,k,q.r/2,q.$/2);var U=[!1,!1,!1,!1,!1,!1];U[k]=!0;
g.UW.aiX(W,U)}this.hs=W;this.W5[0]=g.UW.auy(W);this.W5[1]=g.UW.asV(W);this.QV(q);if(B)this.Tn("edit",X)};
_.t0.prototype.jm=function(W,q,X,k){if(k.D(bu.$H))this.Bl(W,q,!0);else if(k.D(bu.hJ))this.hk(W,q,!0);
else if(k.D(bu.GD)||k.D(bu.gB)){var B=this.Ya;if(B==-1)return;var U=this.W5[0],l=g.UW.Ju(this.hs)[0],K=l[U];
if(U==0)K.splice(B,1);if(U==1||U==5)K.splice(Math.floor(B/6),1);if(U==3)K.splice(Math.floor(B/5),1);
if(U==4)K.splice(Math.floor(B/4),1);g.UW.Cp(l,this.hs);g.UW.Kr(this.hs,U);this.Ya=-1;this.QV(W);this.Tn("edit",q)}};
_.t0.prototype.Os=function(W,q,X,k){if(W.wh=="commit")this.Bl(X,q,!0);else if(W.wh=="cancel")this.hk(X,q,!0);
else{this.W5=W.rl;var B=this.W5[0],U=this.Ya;g.UW.aiX(this.hs,this.W5[1]);if(this.W5[2]){var l=g.UW.Ju(this.hs)[0],K=l[B];
if(B==0)K[U][2]=this.W5[2][0];if(B==1||B==5)K[Math.floor(U/6)][14]=this.W5[2][0];if(B==3)K[Math.floor(U/5)][10]=this.W5[2][0];
if(B==4){K[0][4]=this.W5[2][0]/100;var D=(U&3)<2?0:5,m=K[Math.floor(U/4)],Y=m[D],a=m[D+1],p=m[D+2]-Y,M=m[D+3]-a,x=Math.sqrt(p*p+M*M),R=this.W5[2][1];
if(x==0){m[D+2]=Y+R;m[D+3]=a}else{m[D+2]=Y+R*p/x;m[D+3]=a+R*M/x}}g.UW.Cp(l,this.hs)}g.UW.Kr(this.hs,B);
this.QV(X);this.Tn("edit",q)}};_.t0.prototype.escape=function(W,q,X){W.W.RA=null;W.W.ZK=null;W.W.nM=null;
W.W.Yz=[];W.W.yJ=[];W.R2=!0;this.Ji=null;var k=new ip(S.E.H,!0);k.data={R:S.m.oF};if(X)q.T(k)};_.t0.prototype.QV=function(W){var q=g.UW.Ju(this.hs)[0];
W.W.Yz=[];W.W.yJ=[];var X=W.W.RA={n:[],zb:[]},k=W.W.ZK={n:[],zb:[]},B=W.W.nM={n:[],zb:[]};this.KC=[];
this.a3c=[];var U=this.W5[0],l=this.Ya,K=q[U];for(var N=0;N<K.length;N++){var D=K[N];if(U==0){if(N==l){W.W.Yz.push(D[0],D[1]);
this.W5[2]=[D[2]]}else W.W.yJ.push(D[0],D[1]);this.a3c.push([]);this.KC.push(D[0],D[1])}else if(U==1||U==5){var m=g.UW.a5W(D);
m.i5();var Y=[0,-1,1,0,0,1,-1,0,0,0,1-D[10],0];g.b.M(Y,m,Y);for(var a=0;a<Y.length;a+=2){if(l==N*6+(a>>>1)){W.W.Yz.push(Y[a],Y[a+1]);
this.W5[2]=[D[14]]}else W.W.yJ.push(Y[a],Y[a+1]);this.KC.push(Y[a],Y[a+1])}var p=g.b.sz(g.z.oz.am(-1,-1,2,2));
g.b.concat(X,p,m)}else if(U==3){var M=D[0],x=D[1],R=D[2]-D[0],y=D[3]-D[1],s=Math.sqrt(R*R+y*y),F=y*1e4/s,E=-R*1e4/s;
for(var a=0;a<10;a+=2){if(l==N*5+(a>>>1)){W.W.Yz.push(D[a],D[a+1]);this.W5[2]=[D[10]]}else W.W.yJ.push(D[a],D[a+1]);
this.KC.push(D[a],D[a+1]);if(a==0)continue;if(Math.floor(l/5)!=N)continue;X.n.push(D[a]-F,D[a+1]-E,D[a]+F,D[a+1]+E);
X.zb.push("M","L")}}else if(U==4){B.n.push(D[0],D[1],D[5],D[6]);B.zb.push("M","L");for(var a=0;a<2;a++){var o=a*5,M=D[o],x=D[o+1],G=D[o+2],d=D[o+3],R=G-M,y=d-x,u=Math.sqrt(R*R+y*y),r=25;
if(u!=0){R/=u;y/=u}if((l&14)==N*4+a*2){W.W.Yz.push(M,x,G,d);this.W5[2]=[D[4]*100,u]}else W.W.yJ.push(M,x,G,d);
k.n.push(M,x,G,d);k.zb.push("M","L");this.KC.push(M,x,G,d);if(u==0)continue;var v=-R*r*2,c=-y*r*2;k.n.push(G,d,G+(-y*r+v),d+(R*r+c));
k.n.push(G,d,G+(y*r+v),d+(-R*r+c));k.zb.push("M","L","M","L","M","L")}}}W.R2=!0};_.t0.prototype.lG=function(W,q,X,k,B){function U(f,N,O){var d=f[N]-f[O],u=f[N+1]-f[O+1];
return Math.sqrt(d*d+u*u)}var l=W.f.uy(B.x,B.y),K=g.b.vc(this.KC,l.x,l.y,6/W.f.$Z);if(this.EM){var D=this.Ya,m=this.W5,Y=m[0],a=g.UW.Ju(this.hs)[0],p=a[Y];
if(Y==0){p[D][0]=l.x;p[D][1]=l.y}if(Y==1||Y==5){var M=Math.floor(D/6),x=D-M*6,R=p[M],y=U(R,0,2)/2,s=U(R,2,4)/2,F=R[8],E=R[9],o=Math.atan2(-R[3]+R[1],R[2]-R[0]),G=R[10],d=l.x-F,u=l.y-E,r=Math.sqrt(d*d+u*u);
if(x<4){o=Math.atan2(-u,d)+(-1+x)*Math.PI/2;if(x==0||x==2)s=r;else y=r}if(x==4){F=l.x;E=l.y}if(x==5)G=Math.max(0,Math.min(1,1-r/y));
var v=new ka;v.scale(y,s);v.rotate(o);v.translate(F,E);var c=p[M]=[-1,-1,1,-1,1,1,-1,1,0,0];g.b.M(c,v,c);
c.push(G,G,G,G,R[14])}if(Y==3){var M=Math.floor(D/5),x=D-M*5,R=p[M],V=R[0],Q=R[1],H=U(R,0,2),T=U(R,0,4),e=U(R,0,6),z=U(R,0,8),o=Math.atan2(-R[3]+R[1],R[2]-R[0]),d=l.x-V,u=l.y-Q,r=Math.sqrt(d*d+u*u);
if(x==0){V=l.x;Q=l.y}if(x==1)H=Math.max(e*1.1,r);if(x==2)T=Math.max(z*1.1,r);if(x==3)e=Math.min(H,r);
if(x==4)z=Math.min(T,r);if(x==1)o=Math.atan2(-u,d);if(x==2)o=Math.atan2(u,-d);var c=p[M]=[0,0,-H,0,T,0,-e,0,z,0],v=new ka;
v.rotate(o+Math.PI);v.translate(V,Q);g.b.M(c,v,c);c.push(R[10])}if(Y==4){var M=Math.floor(D/4),x=D-M*4,R=p[M],J=x<2?0:5;
if((x&1)==0){var P=[R[2]-R[0],R[3]-R[1],R[7]-R[5],R[8]-R[6]],L=Math.atan2(-(R[6]-R[1]),R[5]-R[0]);R[J]=l.x;
R[J+1]=l.y;var A=Math.atan2(-(R[6]-R[1]),R[5]-R[0]),v=new ka;v.rotate(A-L);for(var N=0;N<2;N++){var h=new hw(P[N*2],P[N*2+1]);
h=v.Bb(h);R[N*5+2]=R[N*5]+h.x;R[N*5+3]=R[N*5+1]+h.y}}else{R[J+2]=l.x;R[J+3]=l.y}}g.UW.Cp(a,this.hs);
g.UW.Kr(this.hs,Y);this.QV(W)}else{var C="default";if(K!=-1)C="pointer";var w=new ip(S.E.H,!0);w.data={R:S.m.db,pq:C};
q.T(w)}};_.t0.prototype.mc=function(W,q,X,k,B){var U=this.W5[0],l=W.f.uy(B.x,B.y),K=l.x,D=l.y,m=g.b.vc(this.KC,K,D,10/W.f.$Z);
if(m==-1){m=g.UW.a54(this.hs,U,K,D)}this.EM=l;this.Ya=m;this.QV(W)};_.t0.prototype.iY=function(W,q,X,k,B){if(this.EM){this.Tn("edit",q);
this.Wl(q)}this.EM=null};_.t_=function(){_.lR.call(this,[10,44],_.a0q,"tools/oselect");this.k0="crosshair";
this.azQ=0};_.t_.prototype=new _.lR;_.t_.prototype.S4=function(W,q,X,k){if(Math.random()<1/(1+this.azQ)){alert("The cross should be fully inside the object.",3500);
this.azQ++}};_.t_.prototype.HL=function(W,q,X,k){_.a8.Yj(W,_.lR.go,this.gr);if(!k.Vj||!this.vr)return;
var B=this.wu(W,X,!1),U=B.r,l=B.$,K=B.x,D=B.y,m=B.x+U,Y=B.y+l,a=K+U/2,p=D+l/2,M=_.t_.abN;W.W.Qc={n:[K,D,m,D,m,Y,K,Y,a-U*M,p,a+U*M,p,a,p-l*M,a,p+l*M],zb:"M L L L Z M L M L".split(" ")};
W.R2=!0};_.t_.abN=.12;_.t_.prototype.qO=function(W,q,X,k){W.W.Qc=null;W.R2=!0;this.finish(W,q,X,k)};
_.t_.prototype.getSelection=function(W,q,X,k){if(this.mv.AB(this.UN)||!this.vr)return null;var B=this.wu(W,X,!1),U=W.U[W.Y[0]];
if(B.PM()||!B.ty(U.S))return null;return _.lR.sT("ObSl",B)};_.a8=function(){_.Vz.call(this,[10,37],_.lv,"tools/qselect");
this.Wf="qselect"};_.a8.prototype=new _.Vz;_.a8.prototype.mc=function(W,q,X,k,B){if(W.Y.length==0){alert("Select a layer first.");
return}_.a8.Yj(W,_.lR.go,q,!0);this.co(W,X,k,B,1);if(this.Ay==null)return;this.nR(W)};_.a8.prototype.lG=function(W,q,X,k,B){this._N(W,q,X);
_.a8.Yj(W,_.lR.go,q);if(this.bv)this.c1(W,X,B);if(this.Ay==null)return;if(!B.Vj)return;var U=this.QX(W,X,k,B);
if(U!=1)this.nR(W)};_.a8.Yj=function(W,q,X,k){if(W.Y.length==0)return;if(W&&q.key!=_.a8.q6(W)){q.key=_.a8.q6(W);
var B=W.U[W.Y[0]].S.C(),l="Image Analysis ...";if(B==0)return;var U=B>1e6&&k!=!0,K=new ip(S.E.H,!0);
K.data={R:S.m.dW,RU:l};if(U)X.T(K);var D=function(){var m=_.a8.ahg(W);for(var Y in m)q[Y]=m[Y];var K=new ip(S.E.H,!0);
K.data={R:S.m.xA,RU:l};if(U)X.T(K)};if(k)D();else setTimeout(D,30)}};_.a8.q6=function(W){var q=W.Y[0],X=W.U[q],k=X.S,B=k.r,U=k.$,l=B*U,K=X.buffer;
return[q,k.x,k.y,B,U,K[0],K[1],K[2],K[3]].join(",")};_.a8.ahg=function(W){var q=W.Y[0],X=W.U[q],k=X.S,B=k.r,U=k.$,l=B*U,K=g.Cn(X.buffer,8),D=Date.now(),m=g.j(l);
m.fill(128);var Y=g._9.u0(K,B,U);console.log(Date.now()-D);var a={key:_.a8.q6(W),r9:K,S:k.P(),Ah:B,QB:U,su:12,Vn:m,re:Y,d:g.j(l),hf:null,sC:null,an:null};
_.a8.kC(a,null,W);return a};_.a8.kC=function(W,q,X){var k=W.Ah,B=W.QB,U=0,l=0,K=Date.now(),D=W.hf!=null&&g._9.Am(W.hf.On,W.hf.RI,W.Vn)==-1;
U=Date.now()-K;K=Date.now();if(!D){var m=g._9.Am(W.re.On,W.re.RI,W.Vn),Y=0;while(m!=-1){var a=[],p=[],M=W.re.On;
for(var x=0;x<B;x++)for(var R=0;R<k;R++){var N=x*k+R;if(M[N]==m){var y=W.Vn[N];if(y==0)a.push(R,x);if(y==255)p.push(R,x)}}var s=X.U[X.Y[0]],F=s.buffer;
g._9.u0.d5(F,k,B,W.re,a,p);m=g._9.Am(W.re.On,W.re.RI,W.Vn);Y++;if(Y>=10){console.log("too many subdivisions");
break}}W.hf=g._9.Nh(W.re,k,B,W.Vn,W.su);W.sC=g._9.aKk(W.r9,k,B,W.hf.On,W.hf.RI);W.an=[W.sC[0].slice(0),[]];
l=Date.now()-K;K=Date.now()}var K=Date.now();if(q){W.an[0].set(W.sC[0]);var E=W.sC[1],o=W.an[1];for(var G=0;
G<E.length;G++)o[G]=E[G].slice(0);g._9.azo(W.hf.On,k,B,W.hf.RI,W.Vn,W.d,W.an)}};_.QO=function(){_.CB.call(this,[10,50],_.tk,"tools/artb");
this.rZ=null;this.a4Y=!1;this.h_=null;this.$L=!1;this.alj=null;this.Dk=100;this.Ht=null;this.qY=0};_.QO.prototype=new _.CB;
_.QO.prototype.s4=function(W,q,X,k,B){this.v4(X,W.ab6,q,W.Bz)};_.QO.a0Q=function(W,q){var X=W[0],k=0,B=0;
if(X==0)B=-1;else if(X==1)k=1;else if(X==2)B=1;else k=-1;return[20/q.WE,W[1]+k*60/q.WE,W[2]+B*60/q.WE]};
_.QO.prototype.Os=function(W,q,X,k,B){this.rZ=W.rl;this.qY=Date.now()};_.QO.prototype.yi=function(W,q,X,k){if(X.bt!=this.id)return;
if(W==null||W.Y.length!=1){this.zE(W);return}var B=W.Y[0],U=W.U[B],l=U.add.artb;if(l==null){this.zE(W);
return}if(this.$L)return;if(Date.now()-this.qY>50){this.rZ={};var K=["artboardBackgroundType","Clr"];
for(var N=0;N<K.length;N++)if(l[K[N]])this.rZ[K[N]]=g.N(l[K[N]]);var D=new ip(S.E.H,!0);D.data={R:S.m.os,J:this.id,g2:this.rZ};
q.T(D)}var m=U.La(),Y=g.b.Lw(m).n,a=this.h_=new k1(Y,!0,!1,!1,!0,!1,3,!1);a.Ib(W,X,!1);var p={n:[1,0],zb:["M"]};
for(var N=1;N<30;N++){var M=Math.PI*2*N/30;p.n.push(Math.cos(M),Math.sin(M));p.zb.push("L")}p.zb.push("Z","M","L","M","L");
p.n.push(-.5,0,.5,0,0,-.5,0,.5);var x=m.x+m.r/2,R=m.y+m.$/2,y=this.Dk*1.1,s=this.alj=[x,m.y,m.x+m.r,R,x,m.y+m.$,m.x,R],F=[0,-y,y,0,0,y,-y,0],E=W.root.children;
W.W.ah=[];for(var N=0;N<4;N++){var o=new hw(s[N*2]+F[N*2],s[N*2+1]+F[N*2+1]),G=!1;for(var d=0;d<E.length;
d++){var U=E[d].B;if(U.add.artb==null)continue;var m=U.La();if(m.BS(o))G=!0}if(G){s[N*2]=1e9;continue}W.W.ah.push([N,s[N*2],s[N*2+1]])}};
_.QO.prototype.disable=function(W,q,X,k,B){this.zE(W)};_.QO.prototype.zE=function(W){if(this.h_){this.h_.clear(W);
this.h_=null;W.W.ah=null}};_.QO.prototype.mc=function(W,q,X,k,B){this.qY=Date.now();var U=W.f.uy(B.x,B.y),l=this.h_;
if(l){var K=new ip(S.E.O),D=l.bu(null,U,W,B);if(D<9){this.$L=l.mc(W,X,k,U,null,!0,B);return}else if(l.kY(U)){K.J=_.zl;
K.data={R:"disabAuto"};q.T(K);var m=new ip(S.E.H);m.data={R:S.m.oE,J:_.zl,afR:!0};q.T(m);return}else{var Y=-1,a=W.W.ah;
for(var N=0;N<a.length;N++){var p=_.QO.a0Q(a[N],W.f);if(hw.tj(U,new hw(p[1],p[2]))<p[0])Y=a[N][0]}if(Y!=-1){var M=W.U[W.Y[0]].La(),x=M.P(),R=(Y==0||Y==2?M.$:M.r)+this.Dk;
if(Y==0||Y==3)R=-R;if(Y==0||Y==2)M.y+=R;else M.x+=R;if(k.D(bu.Wr)){var y=new dU(0,0,W.r,W.$);K.J=_.b9;
K.data={R:b.b8};q.T(K);_.U6.c8(W,W.Vs(null,W.Y[0],null,!0),null,M.x-x.x,M.y-x.y);W.Y=W.Y.slice(W.Y.length-1);
var s=_.wW.G7(W);if(s){var F=W.d2();F.data.xG=y;F.data.OV=s;F.data.$b=W.Y}}else this.v4(W,M,q);return}}}this.Ht=_.U6.W1(W,U,X)};
_.QO.prototype.v4=function(W,q,X,k){if(k==null)k=0;var B=W.U.slice(0),U=[W.U.length+1],l=W.Sh();l.YY(js.get([1,16,0])+" "+(W.add.artd==null?1:W.root.children.length+1));
l.add.lsct=e5.B2;l.VA(q);if(this.rZ){var K=l.add.artb,D=this.rZ;for(var m in D)K[m]=D[m]}l.JY="pass";
l.Z9=24;if(k==0){if(W.add.artd||q.x$(new dU(0,0,W.r,W.$)).PM())B.push(W.rS());else B.unshift(W.rS())}else{var Y=W.Vs();
Y.sort(function(R,y){return R-y});var a=_.zB.lZ(W,Y,B.length-1,!1,null,!1),p=a.pop(),M=a.pop();B=a.pop();
B.splice(W.U.length-Y.length,0,W.rS())}B.push(l);var x=new ip(S.E.O);x.J=_.b9;x.data={R:b.Mu,pG:B,o_:U,xJ:[1,16,2]};
X.T(x)};_.QO.prototype.lG=function(W,q,X,k,B){var U=W.f.uy(B.x,B.y),l=this.h_,K=this.Ht;if(l){if(this.$L){l.lG(W,X,k,U)}else{var D=l.x4(U,W.f.$Z,null,B);
if(D==null)D="default";var m=new ip(S.E.H,!0);m.data={R:S.m.db,pq:D};q.T(m)}}if(K){var Y=this.XE(W,U,k,X);
W.W.Qc=g.b.Lw(Y);W.R2=!0;_.CB.tJ(B,Y,W,X)}};_.QO.prototype.iY=function(W,q,X,k,B){var U=W.f.uy(B.x,B.y),l=this.Ht;
if(this.$L){this.h_.iY(W,X,k,U);this.$L=!1;var K=g.b.DS(this.h_.LP()),D=b.wR(K),m=W.U[W.Y[0]],Y=g.N(m.add.artb);
Y.artboardRect.v=D;var a=new ip(S.E.O,!0);a.J=_.b9;a.data={R:b.sU,xK:Y};q.T(a)}if(l){var p=this.XE(W,U,k,X);
if(p.C()>20)this.v4(W,p,q);W.W.Qc=null;W.R2=!0;this.Ht=null;W.W.L1=[]}};_.QO.prototype.XE=function(W,q,X,k){var B=this.Ht,U=_.U6.W1(W,q,k),l=_.Wp.Lp(B,U,X,!0);
B=l[0];U=l[1];return g.b.DS([B.x,B.y,U.x,U.y])};_.fK=function(){_.CB.call(this,[10,50],_.eh,"tools/artb");
this.h_=null;this.FQ=!1;this.e=null;this.ass=null;this.He=null;this.aq9=null;this.aIs=null;this.KO=null;
this.uT=null};_.fK.prototype=new _.CB;_.fK.prototype.hK=function(W,q){return W==bu.GD||W==bu.gB};_.fK.prototype.jm=function(W,q,X,k){if(k.D(bu.GD)||k.D(bu.gB))this.s4({R:"del"},q,W,k,X)};
_.fK.prototype.s4=function(W,q,X,k,B){var U=X.add.arts;this.ass=JSON.stringify(U);if(W.R=="del"){for(var N=0;
N<U.length;N++)if(U[N].Y){U.splice(N,1);N--}}if(W.R=="new"){for(var N=0;N<U.length;N++)U[N].Y=!1;var l=X.pI(),K=l.x+l.r+20;
U.push({em:"Artboard "+(U.length+1),IH:[K,l.y,K+100,l.y+100],Y:!0})}if(W.R=="rpl"){var D=0;for(var N=0;
N<U.length;N++)if(U[N].Y)D=N;U[D]=W._}if(W.R=="adapt"){var m=[];for(var N=0;N<X.U.length;N++)m.push(N);
var Y=_.Gz.wu(X,m),a=U[U.length-1];a.IH=[Y.x,Y.y,Y.x+Y.r,Y.y+Y.$]}this.aeC(X);this.QN(X)};_.fK.prototype.disable=function(W,q,X,k,B){this.FQ=!1};
_.fK.prototype.enable=function(W,q,X,k,B){this.FQ=!0;this.e=X;this.QN(W)};_.fK.prototype.zE=function(W){};
_.fK.prototype.mc=function(W,q,X,k,B){var U=this.uT=W.f.uy(B.x,B.y),l=W.add.arts;this.ass=JSON.stringify(l);
var K=this.h_,D=K?K.x4(U,W.f.$Z,null,B):null,m=k.D(bu.p7)||k.D(bu.m4);if(K&&!m&&(g.b.Hb(K.LP()).BS(U)||D)){}else{var Y=-1;
for(var N=0;N<l.length;N++)if(g.b.Hb(l[N].IH).BS(U))Y=N;if(Y==-1)this.cs(W,-1);else if(m)l[Y].Y=!l[Y].Y;
else this.cs(W,Y);this.QN(W)}if(this.h_){this.h_.mc(W,X,k,U,null,!0,B)}W.R2=!0};_.fK.prototype.lG=function(W,q,X,k,B){var U=W.f.uy(B.x,B.y),l=W.add.arts,K=JSON.parse(this.He);
if(this.h_){this.h_.lG(W,X,k,U);if(B.Vj){var D=g.b.Hb(this.h_.LP()),m=this.aIs,Y=new ka;Y.translate(-m.x,-m.y);
Y.scale(D.r/m.r,D.$/m.$);Y.translate(D.x,D.y);var a=this.h_.bu(k,U,W,B);for(var N=0;N<l.length;N++){var p=l[N];
if(!p.Y)continue;if(g.b.Hb(K[N].IH).PM())p.IH=[D.x,D.y,D.x+D.r,D.y+D.$];else{p.IH=K[N].IH.slice(0);g.b.M(p.IH,Y,p.IH)}}if(a==10){_.U6.c8(W,this.aq9,null,D.x-this.KO.x,D.y-this.KO.y);
this.KO=D}W.I_()}var M="default",x=this.h_.x4(U,W.f.$Z,null,B);if(x)M=x;var R=new ip(S.E.H,!0);R.data={R:S.m.db,pq:M};
q.T(R)}else if(B.Vj&&hw.tj(U,this.uT)>=6/W.f.$Z){l.push({em:"Artboard "+(l.length+1),IH:[0,0,0,0],Y:!0});
this.QN(W);this.h_.mc(W,X,k,this.uT,null,!0,B)}};_.fK.prototype.iY=function(W,q,X,k,B){var U=W.f.uy(B.x,B.y),l=W.add.arts,K=JSON.parse(this.He),D=k.D(bu.p7)||k.D(bu.m4);
if(!D&&hw.tj(this.uT,U)<6/W.f.$Z){var m=-1;for(var N=0;N<l.length;N++)if(g.b.Hb(l[N].IH).BS(U))m=N;if(m!=-1){this.cs(W,m);
this.QN(W)}if(g.b.Hb(K[K.length-1].IH).PM()){this.h_.clear(W);l.pop()}}if(this.h_){var Y=this.h_.bu(k,U,W,B);
this.h_.iY(W,X,k,U);if(!U.AB(this.uT))this.aeC(W,Y==10?U.SR(this.uT):null)}};_.fK.prototype.aeC=function(W,q){var X=new j3([10,50],this);
X.data={bG:this.ass,O4:JSON.stringify(W.add.arts)};if(q){X.data.Y=this.aq9;X.data.N5=q}W.O_(X)};_.fK.prototype.QN=function(W){var q=W.add.arts,X=new dU,k=0,B=[];
for(var N=0;N<q.length;N++)if(q[N].Y){var U=g.b.Hb(q[N].IH);X=X.xw(U);W.root.q9(U,B);k++}if(k==0){if(this.h_)this.h_.clear(W);
W.R2=!0;this.h_=null;return}this.He=JSON.stringify(q);this.aq9=B;this.aIs=this.KO=X;var l=g.b.Lw(X).n;
this.h_=new k1(X.PM()?null:l,!0,!1,!1,!1,!1,3);if(!X.PM())this.h_.Ib(W,this.e)};_.fK.prototype.cs=function(W,q){var X=W.add.arts;
for(var N=0;N<X.length;N++)X[N].Y=q==N};_.fK.prototype._j=function(W,q){q.add.arts=JSON.parse(W.O4);
if(W.Y)_.U6.c8(q,W.Y,null,W.N5.x,W.N5.y);if(this.FQ)this.QN(q);q.R2};_.fK.prototype.tG=function(W,q){q.add.arts=JSON.parse(W.bG);
if(W.Y)_.U6.c8(q,W.Y,null,-W.N5.x,-W.N5.y);if(this.FQ)this.QN(q);q.R2};function k1(W,q,X,k,B,U,l,K){this.Un=null;
this.qH=W?W.slice(0):null;this.qf=1;this.Bg=4;this.UN=null;this.aqE=null;this.D6=null;this.Ya=-1;this.EM=null;
this.a4i=!1;this.aCU=[];for(var N=0;N<8;N++)this.aCU.push(lf.aaH(0,PIMG.rotate,-.5,-.5,-45-N*45));this.api=q;
this.ags=X;this.afG=k;this.aoQ=B;this.aaQ=U;this.Bz=l;this.a6U=K==null?1:K}k1.prototype.awV=function(){return this.Ya!=-1};
k1.prototype.LP=function(){return this.qH.slice(0)};k1.prototype.v2=function(W){this.qH=W};k1.prototype.a8f=function(){return this.nL(this.qH)};
k1.prototype.a3j=function(){return this.Bg};k1.prototype.aiA=function(W){this.Bg=W};k1.prototype.Kb=function(W){if(W==null)W=this.qH;
if(this.Bg==9)return this.UN;else return this.nL(W)[this.Bg]};k1.prototype.aDx=function(W){if(this.Bg==9)this.UN=W.P();
else{var q=this.Kb(),X=new ka(1,0,0,1,W.x-q.x,W.y-q.y);g.b.M(this.qH,X,this.qH)}};k1.prototype.Ih=function(W){this.qf=W};
k1.prototype.x4=function(W,q,X,k,B){var U=this.sK(null,W,q,k),l;if(U==9)return"default";if(U==10){if(X)return null;
return!this.api?"move":null}if(U==-1||U==4)return null;if(U==11){var K=this.Kb().SR(W);if(B==null)B=Math.atan2(K.y,K.x);
l=90-B*180/Math.PI;var D=Math.round(8*(l/360));D=(D+8)%8;return this.aCU[D]}else{var m=this.S$(W,this.qH);
l=[135,90,45,180,0,0,225,270,315][U]*Math.PI/180;var Y=g.F.b6(this.qH);return k1.aK3(Y[0],Y[3],l)}};
k1.aK3=function(W,q,X){var k=Math.atan2(-q,W);if(X)k+=X;var B="ew nesw ns nwse ew nesw ns nwse".split(" "),U=Math.round(8*(k/(2*Math.PI)));
U=(U+8)%8;return B[U]+"-resize"};k1.prototype.S$=function(W,q){var X=g.F.i5(g.F.b6(q)),k=new Float64Array(2);
g.F.bs(W.x,W.y,X,k);return new hw(k[0],k[1])};k1.prototype.kY=function(W){var q=this.S$(W,this.qH);return 0<=q.x&&q.x<=1&&0<=q.y&&q.y<=1};
k1.prototype.mc=function(W,q,X,k,B,U,l,K){this.a4i=U;this.EM=k;var D=W.f.$Z,m;if(this.qH==null)k=_.U6.W1(W,k,q);
this.D6=k.P();if(this.qH==null){if(K==null)K=0;var Y=new ka;Y.rotate(K);var a=Y.Bb(new hw(1,1));this.D6.offset(a.x,a.y);
var p=B==null?1:1/B,M=this.qH=[0,0,1,0,1,p,0,p];Y.translate(k.x,k.y);g.b.M(this.qH,Y,this.qH);m=8}else{m=this.sK(X,k,D,l);
if(0<=m&&m<=8)this.D6=this.nL(this.qH)[m];if(m==9){this.Bg=9;this.UN=k.P()}}this.Un=this.qH.slice(0);
this.Ya=m;this.Ib(W,q);this.aqE=this.Kb();return m!=-1};k1.prototype.bu=function(W,q,X,k){return this.sK(W,q,X.f.$Z,k)};
k1.prototype.sK=function(W,q,X,k){var B=-1,U=this.nL(),l=[0,2,6,8,1,3,5,7],K=k?_.YA({f:{$Z:X}},k):8*_.W$()/X,D=hw.tj(U[0],U[2]),m=hw.tj(U[0],U[6]),Y=this.S$(q,this.qH);
Y.x*=D;Y.y*=m;var a=new dU(0,0,D,m);a.Pt(K,K);if(B==-1)if(hw.tj(this.Kb(),q)<K)B=9;if(B==-1)for(var N=0;
N<l.length;N++)if(hw.tj(U[l[N]],q)<K)B=l[N];if(B==-1&&a.BS(Y)){if(Math.abs(Y.y-0)<K)B=1;if(Math.abs(Y.x-0)<K)B=3;
if(Math.abs(Y.y-m)<K)B=7;if(Math.abs(Y.x-D)<K)B=5}if(B==-1&&W&&W.D(bu.Wr))B=9;if(B==-1||this.Bz==4){if(this.kY(q)){if(this.api)B=10}else{var p=[3,.85][cC];
a.Pt(p*K,p*K);B=a.BS(Y)&&this.Bz!=3?11:10;if(B==10&&cC==1)B=-1}}return B};k1.prototype.lG=function(W,q,X,k,B){if(this.Ya==-1)return;
this.EM=k;var U=X&&X.D(bu.m4),l=X&&X.D(bu.Wr),K=X&&X.D(bu.p7),D=W.f.$Z,m=this.D6,Y=this.Ya,a=this.nL(),p=_.U6.W1(W,m,q),M=_.U6.W1(W,k,q),x,R;
if(Y==9){var a=this.nL(),y=-1;for(var N=0;N<a.length;N++)if(hw.tj(a[N],M)*D<10)y=N;this.Bg=y==-1?9:y;
this.UN=U?_.ce.XQ(p,M):M.P()}else if(Y==10){R=g.b.Hb(this.Un);var s=R.x,F=R.y;R.offset(k.x-m.x,k.y-m.y);
if(this.a1f()){R.x=Math.round(R.x);R.y=Math.round(R.y)}x=_.U6.T2(W,R,q);var E=new ka(1,0,0,1,R.x-s+x[0],R.y-F+x[1]);
g.b.M(this.Un,E,this.qH)}else if(Y==11){var o=this.Kb(this.Un),G=o.SR(k),d=o.SR(m),u=Math.atan2(G.y,G.x),r=Math.atan2(d.y,d.x),E=new ka(1,0,0,1,-o.x,-o.y),v=Math.PI/12;
if(U)E.rotate(Math.round((r-u)/v)*v);else E.rotate(r-u);E.translate(o.x,o.y);g.b.M(this.Un,E,this.qH)}else{var c=U,V;
if(B&&!K)c=!c;if(this.aaQ)c=!0;var j=this.Un,Q=Y==0||Y==2||Y==6||Y==8;if(this.Bz==1){if(Q)U=l=K=!0}else if(this.Bz==2&&Q&&this.a4i!=!0)K=!0;
if(this.Bz==3)K=!1;else if(this.Bz==5){U=K=!0}if(this.afG&&Q&&K){var N=[0,0,2,0,0,0,6,0,4,0][Y],H=-1,T=M.x,e=M.y;
if(U){var z=N+6&7,J=N+10&7,P=k1.aBX(j[N],j[N+1],j[z],j[z+1],M.x,M.y),L=k1.aBX(j[N],j[N+1],j[J],j[J+1],M.x,M.y),A=P[2]<L[2]?P:L;
T=A[0];e=A[1];if(l)H=P[2]<L[2]?z:J}else if(l)H=N+4&7;V=j.slice(0);if(H!=-1){var h=j[H],C=j[H+1],w=(j[N]+h)/2,f=(j[N+1]+C)/2;
V[H]=w-(T-w);V[H+1]=f-(e-f)}V[N]=T;V[N+1]=e}else if(Q&&l){var o=this.aqE,O=o.x,n=o.y,$=p.x-O,d9=p.y-n,i=1,dF=1;
if(Math.abs($)>=1)i=(M.x-O)/$;if(Math.abs(d9)>=1)dF=(M.y-n)/d9;if(c)i=dF=(i+dF)/2;var E=new ka;E.translate(-O,-n);
E.scale(i,dF);E.translate(O,n);V=j.slice(0);g.b.M(V,E,V)}else{if(this.a1f()){M.x=Math.round(M.x);M.y=Math.round(M.y)}var t=[0,1,2,5,8,7,6,3],im=t[(t.indexOf(Y)+4)%8],bc=[];
for(var N=0;N<3;N++)for(var H=0;H<3;H++)bc.push(new hw(H/2,N/2));var o=this.aqE,at=l&&(this.Bg==4||this.Bg==9)?this.S$(o,j):bc[im],l9=l&&(this.Bg==4||this.Bg==9)?o:a[im];
if(Q&&c){function fF(eV,gU,i8){var bv=gU[0]-eV[0],fE=gU[1]-eV[1],d5=g.b.qx(i8[0],i8[1],-fE,bv,eV[0],eV[1],bv,fE);
return[i8[0]-fE*d5,i8[1]+bv*d5]}while(!0){var g$=fF([l9.x,l9.y],[m.x,m.y],[M.x,M.y]);g$=new hw(g$[0],g$[1]);
g$=_.U6.W1(W,g$,q);if(hw.tj(g$,M)<1e-6)break;M=g$}}var fR=this.S$(M,j),cr=this.S$(m,j),eE=new ka,bQ=new ka,i=(fR.x-at.x)/(cr.x-at.x);
if(i==0)i=1e-4;var dF=(fR.y-at.y)/(cr.y-at.y);if(dF==0)dF=1e-4;if(this.aoQ){i=Math.max(i,0);dF=Math.max(dF,0)}if(Q){if(c)eE.scale(i,i);
else eE.scale(i,dF)}else if(Y!=4){var hT=c,df=K&&U;if(df)hT=!1;if(Y==1||Y==7)eE.scale(hT?dF:1,df?1:dF);
else eE.scale(df?1:i,hT?i:1);if(this.ags&&K){if(Y==1||Y==7)bQ.bO=(fR.x-at.x)/(fR.y-at.y);else bQ.X=(fR.y-at.y)/(fR.x-at.x)}}var E=new ka;
E.translate(-at.x,-at.y);E.concat(eE);E.concat(bQ);E.translate(at.x,at.y);V=[0,0,1,0,1,1,0,1];g.b.M(V,E,V);
var A=g.F.b6(j);g.F.M(A,V)}if(k1.hI(V))this.qH=V}this.Ib(W,q);if(x)_.U6.FJ(W,R,x)};k1.aBX=function(W,q,X,k,B,U){var l=X-W,K=k-q,D=B-W,m=U-q,Y=l*l+K*K,a=D*l+m*K,p=a/Y,M=W+p*l,x=q+p*K,R=B-M,y=U-x;
return[M,x,Math.sqrt(R*R+y*y)]};k1.prototype.a1f=function(){var W=this.qH;return Math.abs(W[1]-W[3])<1e-6&&Math.abs(W[2]-W[4])<1e-6||Math.abs(W[0]-W[2])<1e-6&&Math.abs(W[3]-W[5])<1e-6};
k1.hI=function(W){return g.b.a2e(W)||g.b.a2e([W[6],W[7],W[4],W[5],W[2],W[3],W[0],W[1]])};k1.prototype.iY=function(W,q,X,k){this.Ya=-1;
this.EM=null;W.W.Bk=null;W.W.L1=[];W.R2=!0};k1.prototype.jm=function(W,q,X){var k=X.wp(W?W.f.Zi:0);if(k.x||k.y){var B=new ka(1,0,0,1,k.x,k.y);
g.b.M(this.qH,B,this.qH);this.Ib(W,q);return!0}return!1};k1.prototype.nL=function(W){if(W==null)W=this.qH;
var q=W[6]-W[0],X=W[7]-W[1],k=W[4]-W[2],B=W[5]-W[3],U=[W[0],W[1],W[2],W[3],W[0]+q/2,W[1]+X/2,W[2]+k/2,W[3]+B/2,W[6],W[7],W[4],W[5]],l=[];
for(var N=0;N<3;N++){var K=N*4,D=U[K+0],m=U[K+1],Y=U[K+2],a=U[K+3];l.push(new hw(D,m));l.push(new hw(D+(Y-D)/2,m+(a-m)/2));
l.push(new hw(Y,a))}return l};k1.prototype.Ib=function(W,q,X){if(W.W==null)return;if(X==null)X=!1;var k=this.qf,B=this.nL(),U=B[0],l=B[2],K=B[6],D=B[8],m={zb:[],n:[]};
if(k==0)W.W.Qc=m;else W.W.RA=m;var Y=g.F.b6([U.x,U.y,l.x,l.y,D.x,D.y,K.x,K.y]);m.zb.push("M","L","L","L","Z");
m.n.push(0,0,1,0,1,1,0,1);var a=this.a6U;if(a>1){W.W.Qq=g.N(m);g.F.M(Y,W.W.Qq.n);for(var N=1;N<a;N++){var p=N/a;
m.zb.push("M","L","M","L");m.n.push(0,p,1,p,p,0,p,1)}}g.F.M(Y,m.n);W.f.q3=new dU(0,0,hw.tj(B[0],B[2]),hw.tj(B[0],B[6]));
if(this.Ya!=-1&&this.Ya<9&&this.EM){var M=W.f.az(this.EM.x,this.EM.y);_.CB.tJ(M,W.f.q3,W,q)}if(!X){var x=[];
if(k==0)W.W.x7=x;else W.W.FC=x;for(var N=0;N<B.length;N++)if(N!=4)x.push(B[N].x,B[N].y);var R=this.Kb();
x.push(R.x,R.y)}W.R2=!0};k1.prototype.clear=function(W){W.f.q3=null;W.W.Bk=null;W.W.Qc=null;W.W.RA=null;
W.W.Qq=null;W.W.x7=[];W.W.FC=[];W.R2=!0};function b0(W){this.NP=null;this.Ya=-1;this.aCh=null;this.ag6=null;
this.g7=null;this.iL=-1;this.akc=null;this.aEZ(W)}b0.prototype.JW=function(){return g.N(this.NP)};b0.prototype.aEZ=function(W){this.NP=g.N(W)};
b0.prototype.atF=function(W){this.iL=W};b0.prototype.kY=function(W){return!0};b0.prototype.x4=function(W,q,X,k){var B=this.sK(W,q,k);
if(B==-1)return"default";return"pointer"};b0.prototype.mc=function(W,q,X,k,B,U,l){if(this.iL!=-1)return!0;
this.Ya=this.sK(k,W.f.$Z,l);var K=g.NP.qP(this.NP),D=g.my.xL(K,k),m=0<D[0]&&D[0]<1&&0<D[1]&&D[1]<1;this.aCh=m?D:null;
this.ag6=JSON.stringify(K);this.akc=JSON.stringify(this.NP);this.g7=k;return this.Ya!=-1||m};b0.prototype.sK=function(W,q,X){var k=X?_.YA({f:{$Z:q}},X)*2:20*_.W$()/q,B=this.NP,U=b0.aAT(B),l=-1;
if(U){l=g.b.vc(U,W.x,W.y,k);if(l!=-1)l+=1e6}else{var K=g.NP.qP(B);l=g.b.vc(K[3],W.x,W.y,k);if(l!=-1&&this.lU(K,l)==null)l=-1}return l};
b0.prototype.lG=function(W,q,X,k){if(this.iL!=-1)return;var B=this.NP,U=this.Ya,l=this.aCh,K=JSON.parse(this.ag6),D=K[0],m=K[1],Y=K[3];
if(U>=1e6){var a=B.warpStyle.v.warpStyle,p=g.NP.wu(B);if(a=="warpCylinder"){this.NP=B=JSON.parse(this.akc);
var M=_.Gz.rQ(B.warpValues),x=(M[2]-M[0])/(M[1]-M[3]),R=M[4]*x*p.$,y=M[5]*x*p.$,s=k.x-this.g7.x,F=k.y-this.g7.y;
M[0]=p.x;M[1]=p.y+p.$;M[2]=p.x+p.r;M[3]=p.y;U-=1e6;if(U==0){M[0]+=s;M[1]+=F}if(U==1){M[2]+=s;M[3]+=F}if(U==2){R+=2*F;
y+=2*F}if(U==3){y+=2*F}if(U==4){M[6]=Math.max(0,Math.min(1,M[6]-2*s/p.r))}var E=g.b.Hb(M.slice(0,4)),o=E.r/p.r,G=E.$/p.$;
M[4]=R/E.r;M[5]=y/E.r;B.warpValues=_.Gz.If(M);var d=new ka;d.translate(-p.x,-p.y);d.scale(o,G);d.translate(E.x,E.y);
if(U<4)return d}else{var u=B.warpRotate.v.Ornt,r=u=="Vrtc",v=g.NP.aab[a],c=r?-k.x/p.r:-k.y/p.$;c+=v[1];
if(v[1]>.5)c=-c;c/=v[2];var o=p.r/p.$;if(r)o=1/o;if(v[3])c/=o;B.warpValue.v=100*Math.max(-1,Math.min(1,c))}}else if(U!=-1){var V=[U],s=k.x-Y[U*2],F=k.y-Y[U*2+1];
if(D*m>16){var j=this.lU(K,U);if(j[0]==0){var Q=Math.floor(U/D),H=U-Q*D;if(H>0)V.push(U-1);if(H<D-1)V.push(U+1);
if(Q>0)V.push(U-D);if(Q<m-1)V.push(U+D)}}for(var N=0;N<V.length;N++){Y[V[N]*2]+=s;Y[V[N]*2+1]+=F}g.NP.C1(B,K)}else if(l){g.my.abj(K,l[0],l[1],k.x-this.g7.x,k.y-this.g7.y);
g.NP.C1(B,K)}};b0.prototype.iY=function(W,q,X,k){var B=this.iL;this.aCh=null;this.iL=-1;if(B!=-1){var U=g.NP.qP(this.NP),l=g.my.xL(U,k);
if(B==0||B==1)g.my.split(U,0,l[0]);if(B==0||B==2)g.my.split(U,1,l[1]);g.NP.C1(this.NP,U)}W.R2=!0;return B!=-1};
b0.prototype.jm=function(W,q,X){var k=X.wp();if(k.x||k.y){var B=new ka(1,0,0,1,k.x,k.y);g.b.M(this.qH,B,this.qH);
this.Ib(W)}};b0.prototype.lU=function(W,N){var q=W[0],X=W[1],k=this.Ya,B=Math.floor(k/q),U=k-B*q,l=k%3,K=k%3,D=l==0&&K==0,B=Math.floor(N/q),U=N-B*q,l=U%3,K=B%3;
if(l!=0&&K!=0)return null;if(l==0&&K==0)return[0];else{var m=0;if(K==0)m=l==1?N-1:N+1;if(l==0)m=K==1?N-q:N+q;
if(q*X>16){var Y=k==N||k==N+1||k==N-1||k==N+q||k==N-q;if(D&&(Y||k==N+2||k==N-2||k==N+2*q||k==N-2*q)){}else if(!D&&Y){}else return null}return[1,m]}};
b0.aAT=function(W,q){var q=W.warpStyle.v.warpStyle,k;if(q=="warpCustom"||q=="warpNone")return null;var X=g.NP.qP(W);
if(q=="warpCylinder"){var B=W.warpValues.v;k=[0,1,1,0,.5,0,.5,1,.75-.25*B[6].v,.5]}else{var U=W.warpRotate.v.Ornt,l=g.NP.aab[q];
k=U=="Hrzn"?[l[0],l[1]]:[l[1],l[0]]}g.my.M(X,k,new dU(0,0,1,1));return k};b0.prototype.Ib=function(W,q){var X=this.NP,k=X.warpStyle.v.warpStyle,B=g.NP.qP(X),U=B[0],l=B[1],K=B[3],D=W.W.RA={zb:[],n:[]},m=W.W.FC=[],Y=W.W.fT=[],a=this.Ya;
if(k=="warpCustom"||k=="warpNone")for(var p=0;p<l;p++)for(var M=0;M<U;M++){var N=p*U+M,x=this.lU(B,N);
if(x==null)continue;var R=K[2*N],y=K[2*N+1],s=Y;if(x[0]==0)s=N==a&&U*l>16?Y:m;else{var F=x[1];D.zb.push("M","L");
D.n.push(R,y,K[2*F],K[2*F+1])}s.push(R,y)}else{var E=b0.aAT(X);if(E)for(var N=0;N<E.length;N++)m.push(E[N])}for(var p=0;
p+1<l;p+=3)for(var M=0;M+1<U;M+=3){D.zb.push("M","C","C","C","C");var N=p*U+M,o=N+U+U,G=[N,N+1,N+2,N+3,N+U+3,o+3,o+U+3,o+U+2,o+U+1,o+U,o,N+U,N];
for(var N=0;N<G.length;N++){var R=K[G[N]*2],y=K[G[N]*2+1];D.n.push(R,y)}}var d=[],u=[];function r(v,M,j){for(var G=0;
G<=j;G++){u.push(G==0?"M":"L");if(v==0)d.push(M,G/j);else d.push(G/j,M)}}if(q)q=g.my.xL(B,q);for(var v=0;
v<2;v++){var c=B[2][v],V=v==0?U:l,j=V*5;for(var Q=1;Q<V;Q++){var H=Math.floor((Q-1)/3),T=Q-(1+H*3);if(T==0)continue;
var M=c[H]+T/3*(c[H+1]-c[H]);r(v,M,j)}var e=this.iL;if(q&&e!=-1&&(e==0||e-1==v))r(v,q[v],j)}g.my.M(B,d,new dU(0,0,1,1));
g.b.concat(D,{n:d,zb:u});W.R2=!0};b0.prototype.clear=function(W){W.W.RA=null;W.W.FC=[];W.W.fT=[];W.R2=!0};
function gM(){this.Wi=!1;this.J4=!1;this.a8I=!1;this.aL5=!1;this.ajn=!1;this.wd=!1;this.nT=0;this.oY=0}gM.prototype.mc=function(W){this.Wi=!0;
this.J4=!1;this.ajn=W.D(bu.m4);this.wd=W.D(bu.Wr);this.nT=this.ajn?0:1;this.oY=this.wd?0:1};gM.prototype.jm=function(W){var q=this.aL5=W.D(bu.m4),X=this.a8I=W.D(bu.Wr);
if(this.J4){if(this.nT==0&&!q)this.nT++;if(this.nT==1&&q)this.nT++;if(this.oY==0&&!X)this.oY++;if(this.oY==1&&X)this.oY++}};
gM.prototype.lG=function(){this.J4=!0};gM.prototype.iY=function(){this.Wi=!1};gM.prototype.uS=function(N){if(N==0)return this.Wi?this.wd:this.a8I;
if(N==1)return this.J4?this.oY==2:!1};gM.prototype.Rk=function(N){if(N==0)return this.Wi?this.ajn:this.aL5;
if(N==1)return this.J4?this.nT==2:!1};_.History=function(){_.CB.call(this,"History",_.Yo);this.a3k=!0;
this.aJn=0};_.History.prototype=new _.CB;_.History.prototype.s4=function(W,q,X,k){X.gd=!0;if(W.R=="h_itemchange"){if(W.index<X.Wb)for(var N=X.Wb;
N>W.index;N--)this.CN(X);if(W.index>X.Wb)for(var N=X.Wb;N<W.index;N++)this.TY(X)}if(W.R=="h_stepfwd")this.TY(X);
if(W.R=="h_stepbck")this.CN(X);if(W.R=="h_undoredo"){var B=this.a3k||this.aJn!=X.Wb;if(B){this.CN(X);
B=!1}else{this.TY(X);B=!0}this.a3k=B;this.aJn=X.Wb}if(W.R=="h_clear"){if(W.force==null)if(!window.confirm("Do you really want to clear all states in History? You won't be able to undo it."))return;
X.history=[new j3([1,0],null)];X.Wb=0}else this.a3k=!0};_.History.prototype.CN=function(W){if(W.Wb==0)return;
var q=W.history[W.Wb];q.J.tG(q.data,W);W.Wb--};_.History.prototype.TY=function(W){if(W.Wb==W.history.length-1)return;
var q=W.history[W.Wb+1];q.J._j(q.data,W);W.Wb++};_.zB=function(){_.CB.call(this,"Layers",_.b9);this.gr=null};
_.zB.prototype=new _.CB;_.zB.prototype.s4=function(W,q,X,k,B){this.gr=q;var U=W.R,l=W.B!=null?W.B:X.Y.length!=0?X.Y[0]:X.U.length-1,K=X.U[l];
X.qg=!0;var D=k.D(bu.Wr),m=k.D(bu.m4),Y=k.D(bu.p7);if(U==b.PK&&X.d==null&&(X.Y.length>1||!X.or(!1)||X.U[X.Y[0]].S3()))U=b.b8;
if(U==b.vb){var a=new j3([6,33],this),p=K.S3()?["pass"].concat(jm.eB):jm.eB,M=p[W.O4],x=W.B!=null?[W.B]:X.Y,R=JSON.stringify(x),y=[];
for(var N=0;N<x.length;N++)y.push(X.U[x[N]].JY);a.data={R:U,Jp:R,$c:y,O4:M};X.O_(a);this._j(a.data,X);
this.track(j0.dD("Md",{t:"enum",v:{BlnM:jm.yq(M)}}))}if(U==b.s_){var a,s=X.d2(),x=W.B!=null?[W.B]:X.Y,R=JSON.stringify(x);
if(s&&s.data&&s.data.R==U&&s.data.Jp==R)a=s;else{var F=j0.dD("Opct",{t:"UntF",v:{type:"#Prc",val:0}});
this.track(F);var y=[];for(var N=0;N<x.length;N++)y.push(X.U[x[N]].zO);a=new j3([6,32],this);a.data={R:U,Jp:R,$c:y,O4:W.O4,ape:F.Og};
X.O_(a)}a.data.O4=W.O4;a.data.ape.T.v.Opct.v.val=Math.round(W.O4*100/255);this._j(a.data,X)}if(U==b.RL){if(K.add.iOpa==null)K.add.iOpa=255;
var a,s=X.d2();if(s&&s.data&&s.data.R==U&&s.data.B==l)a=s;else{a=new j3("Fill Opacity Change",this);
a.data={R:U,B:l,$c:K.add.iOpa,O4:W.O4};X.O_(a)}a.data.O4=W.O4;this._j(a.data,X)}if(U==b.pc){var E=W.O4,o=W.B!=null?[W.B]:X.Y.slice(0),G=[],d=[],a;
for(var u=0;u<o.length;u++){var r=X.U[o[u]];if(r.add.lspf==null)r.add.lspf=0;var y=r.add.lspf,M=y;for(var N=0;
N<E[0].length;N++){var v=E[1][N],c=1<<v;if((M&c)==0&&E[0][N])M^=c;else if((M&c)!=0&&!E[0][N])M^=c}G.push(y);
d.push(M)}var s=X.d2(),x=JSON.stringify(o);if(s&&s.data&&s.data.R==U&&JSON.stringify(s.data.Jp)==x){a=s;
a.data.O4=d}else{var a=new j3([6,57,1],this);a.data={R:U,Jp:x,$c:G,O4:d};X.O_(a)}this._j(a.data,X)}if(U==b.E4){var V="----",j=W.vZ,M=null;
for(var N=0;N<bT.PL.nB.length;N++)if(K.add[bT.PL.nB[N]])V=bT.PL.nB[N];var Q=K.add[V];if(j=="TySh")M=gZ.nG(50,50,B.Xz);
var a=new j3("Layer Type",this);a.data={R:U,B:l,aqX:[V,Q],vZ:[j,M]};X.O_(a);this._j(a.data,X)}if(U==b.GW){var o=[];
if(D){var H=X.d2(),T=H?H.data:null;if(H!=null&&H.J==this&&T.R==b.GW&&T.Jp.length!=1){var e=new ip(S.E.O);
e.J=_.Yo;e.data={R:"h_stepbck"};q.T(e);if(T.B==l)return}var z=X.root.Vf(l),J=z,P=[W.B];while(J.parent!=X.root){P.push(J.parent.index);
J=J.parent}for(var N=0;N<X.U.length;N++){var L=X.U[N],J=X.root.Vf(N),A=P.indexOf(N)!=-1?!0:L.P$()&&z.depth<J.depth;
if(A!=L.P$())o.push(N)}}else if(W.Jp)o=W.Jp;else{o.push(l);var h=X.U[l].P$(),F={yx:h?"hide":"show",Og:{classID:h?"Hd":"Shw",null:{t:"VlLs",v:[j0.O8("Lyr",!0)]}}};
this.track(F)}var a=new j3("Layer visibility",this,!0);a.data={R:U,Jp:o,B:l};X.O_(a);this._j(a.data,X)}if(U==b.nf){if(B.bt==_.tk){var C=new ip(S.E.H);
C.data={R:S.m.oE,J:_.zl};q.T(C)}var w=W.aBL,f=W.W3,$,escape=!1,d9=!1;if(W.aKu){if(Y&&(f==0||f==1||f==2)){var O=0;
if(m)O++;if(D)O+=2;var n=new ip(S.E.O,!0);n.J=_.iK;n.data={R:"fromlayer",jX:[W.B,f,O]};q.T(n);return}}var F={yx:"select",Og:{classID:"null",MkVs:{t:"bool",v:!1}}};
X.aGU();if(k.D(bu.p7)||W.a1p==0){var i=X.Y.indexOf(l);if(i==-1)X.Y.push(l);else if(X.Y.length>1){if(W.a1p!=0)X.Y.splice(i,1)}X.Y.sort(function(a,hs){return a-hs});
F.Og.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelection"}};$=l}else if(m&&!D&&f>0){U=f==1?b.Bo:f==2?b.lO:b.pR;
escape=!0}else if((m||W.a1p==1)&&X.Y.length>0){var dF=Math.min(l,X.Y[0]),t=Math.max(l,X.Y[X.Y.length-1]);
X.Y=[];for(var N=dF;N<=t;N++)if(X.U[N].add.lsct!=e5.dx)X.Y.push(N);F.Og.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelectionContinuous"}};
$=l}else{$=l;if(l>=X.U.length)return;var L=X.U[l];if(L&&L.S3()&&W.amL)L.add.lsct=e5.B2;else if(X.Y.length==1&&X.Y[0]==l&&Math.max(0,f)==L.pw){d9=!0;
X.qg=!1}if(!d9){X.Y=[l];X.OD()}}if(!d9){if($!=null&&$<X.U.length){F.Og.null={t:"obj ",v:[{t:"name",v:{classID:"Lyr",val:X.U[$].getName()}}]},this.track(F)}if(!escape){console.log("no escape");
if(X.Y.length==1){var im=X.Y[0];for(var N=0;N<X.U.length;N++){if(N==im)continue;var r=X.U[N];r.pw=0;
r.LJ=!1}var K=X.U[im];if(f==2){K.LJ=!K.LJ;X.Lf=[]}else if(K){K.pw=f<=0?0:f}}else for(var N=0;N<X.U.length;
N++){var r=X.U[N];r.pw=0;r.LJ=!1}X.sh=null;X.gd=!0}}if(W.aKu&&D){if((f==1||f==3)&&w!=null){var n=new ip(S.E.O,!0);
n.J=_.hm;n.data={R:"mskView",_:w!=0?0:m?1:2};q.T(n)}else{this.s4({R:b.W7,B:W.B},q,X,k,B)}}}if(U==b.Bo||U==b.pR){var bc=U==b.Bo,at=bc?K.Jx():K.Q2(X).BD;
if(at==null)return;var a=new j3(at.isEnabled?bc?[6,15]:[6,42]:bc?[6,14]:[6,41],this);a.data={R:U,B:l};
X.O_(a);this._j(a.data,X)}if(U==b.lO){var at=K.add.vmsk;if(at==null)return;var a=new j3(at.isEnabled?[6,17]:[6,16],this);
a.data={R:U,B:l};X.O_(a);this._j(a.data,X)}if(U==b.aA7){var l9=K.add.lsct==e5.B2?e5.Fn:e5.B2,J=X.root.Vf(X.U.indexOf(K)),fR=!1;
if(k.D(bu.p7)){var fF=J.parent;for(var N=0;N<fF.children.length;N++){var g$=fF.children[N].B;if(g$.S3())g$.add.lsct=l9}}else K.add.lsct=l9;
for(var N=0;N<X.Y.length;N++){var cr=X.Y[N];if(J.n0<cr&&cr<J.index)fR=!0}if(fR)X.Y=[J.index];X.gd=!0}if(U==b.W7){if(!X.Fl(l))return;
var a=new j3(K.Oa?[6,19]:[6,18],this);a.data={R:U,B:l};X.O_(a);if(W.O4==null||W.O4!=K.Oa)this._j(a.data,X)}if(U==b.aeF){if(K.f6())K.Z9-=32;
else K.Z9+=32;X.gd=!0}if(U==b.hD||U==b.Co){var a;if(U==b.hD)a=new j3(K.add.lmfx.masterFXSwitch.v?[6,30,0]:[6,29],this);
if(U==b.Co)a=new j3(K.add.SoLd.filterFX.v.enab.v?[6,44]:[6,43],this);a.data={R:U,B:l};X.O_(a);this._j(a.data,X)}if(U==b.tm||U==b.pD){var im=W.index,a;
if(U==b.tm)a=new j3(K.add.lmfx[kE.m1[im[0]]].v[im[1]].v.enab.v?[6,30,0]:[6,29],this);if(U==b.pD)a=new j3(K.add.SoLd.filterFX.v.filterFXList.v[im].v.enab.v?[6,44]:[6,43],this);
a.data={R:U,B:l,index:W.index};X.O_(a);this._j(a.data,X)}if(U==b.le){if(W.src==W.Vi)return;var eE=X.U[W.src],bQ=X.U[W.Vi],hT=eE.add.lmfx?JSON.stringify(eE.add.lmfx):"",df=bQ.add.lmfx?JSON.stringify(bQ.add.lmfx):"";
if(bQ.add.lmfx==null){bQ.add.lmfx=JSON.parse(kE.default);for(var N=0;N<kE.order.length;N++)bQ.add.lmfx[kE.m1[N]]={t:"VlLs",v:[]}}if(W.HW==null){bQ.add.lmfx=JSON.parse(hT);
if(!D)delete eE.add.lmfx}else{var eV=W.HW[0],gU=kE.m1[eV];if(kE.aya.indexOf(kE.order[eV])==-1)bQ.add.lmfx[gU].v=[];
bQ.add.lmfx[gU].v.push(eE.add.lmfx[gU].v[W.HW[1]]);if(!D)eE.add.lmfx[gU].v.splice(W.HW[1],1)}var i8=eE.add.lmfx?JSON.stringify(eE.add.lmfx):"",bv=bQ.add.lmfx?JSON.stringify(bQ.add.lmfx):"";
if(!bQ.f6())bQ.Z9+=32;var a=new j3("Move Layer Styles",this);a.data={R:U,vW:W.src,wU:W.Vi,aL7:hT,aDy:df,a7v:i8,aCQ:bv};
X.O_(a);this._j(a.data,X)}if(U==b.v1){if(W.src!=null)l=W.src;var r=X.U[l],fE=JSON.stringify(r.add.SoLd),d5=JSON.parse(fE),aR=d5.filterFX.v.filterFXList.v;
aR.splice(W.HW,1);var a=new j3([6,53],this);a.data={R:b.kM,d6:[{q5:l,mg:[fE,JSON.stringify(d5)]}]};X.O_(a);
this._j(a.data,X)}if(U==b.aci){var l8=D,eE=X.U[W.src],bQ=X.U[W.Vi],au=[];if(eE!=bQ&&bQ.add.SoLd==null){alert("Target layer is not a smart object!");
return}if(eE==bQ&&!l8&&W.HW==W.qr)return;if(eE==bQ&&W.HW==-1)return;var hx=eE.Q2(X),fE=JSON.stringify(eE.add.SoLd),d5=JSON.parse(fE),aR=d5.filterFX.v.filterFXList.v;
if(eE==bQ){aR.splice(W.qr,0,aR[W.HW]);if(!l8)aR.splice(W.HW+(W.HW<W.qr?0:1),1);au.push({q5:W.src,mg:[fE,JSON.stringify(d5)]})}else if(W.HW==-1){var fw=d5.filterFX;
if(!l8){delete d5.filterFX;au.push({q5:W.src,mg:[fE,JSON.stringify(d5)],kj:[hx,null]})}var cx=bQ.SF()?bQ.Q2(X):null,fg=ey.ayx(hx),iI=JSON.stringify(bQ.add.SoLd),eq=JSON.parse(iI);
eq.placed.v=fg.id;eq.filterFX=fw;au.push({q5:W.Vi,mg:[iI,JSON.stringify(eq)],kj:[cx,fg]})}else{var fS=aR[W.HW];
if(!l8){aR.splice(W.HW,1);au.push({q5:W.src,mg:[fE,JSON.stringify(d5)]})}var iI=JSON.stringify(bQ.add.SoLd),eq=JSON.parse(iI);
if(eq.filterFX==null)eq.filterFX=dY.EC();var f1=eq.filterFX.v.filterFXList.v;f1.splice(W.qr,0,fS);var c4={q5:W.Vi,mg:[iI,JSON.stringify(eq)]};
if(!bQ.SF()){var fg=ey.auk(bQ.add.SoLd.placed.v);c4.kj=[null,fg]}au.push(c4)}var a=new j3([6,52],this);
a.data={R:b.kM,d6:au};X.O_(a);this._j(a.data,X)}if(U==b.Wj){var at=K.Jx(),a=new j3(at.$P?[6,26]:[6,25],this);
a.data={R:U,B:l};X.O_(a);this._j(a.data,X);this.track({yx:"set",Og:{classID:"setd",null:{t:"obj ",v:[j0.O8("Lyr",!0)]},T:{t:"Objc",v:{classID:"Lyr",Usrs:{t:"bool",v:at.$P}}}}})}if(U==b.ve){var at=K.add.vmsk,a=new j3(at.$P?[6,28]:[6,27],this);
a.data={R:U,B:l};X.O_(a);this._j(a.data,X)}if(U==b._f){var a=new j3("Variables / Datasets",this),ea=JSON.stringify([X.$y,X.dp]);
if(ea==W._)return;a.data={R:U,acL:ea,awB:W._};X.O_(a);this._j(a.data,X)}if(U==b._U){var ie=[],a;for(var N=0;
N<X.Y.length;N++){var u=X.Y[N],L=X.U[u];if(L.add.vogk)ie.push(u,JSON.stringify(L.add.vogk))}for(var N=0;
N<X.Lf.length;N++){var u=X.Lf[N],L=X.RM[u];if(L.add.vogk)ie.push(-1-u,JSON.stringify(L.add.vogk))}g.BI.a6S(X,W._,W.app);
var i$=[];for(var N=0;N<X.Y.length;N++){var u=X.Y[N],L=X.U[u];if(L.add.vogk)i$.push(u,JSON.stringify(L.add.vogk))}for(var N=0;
N<X.Lf.length;N++){var u=X.Lf[N],L=X.RM[u];if(L.add.vogk)i$.push(-1-u,JSON.stringify(L.add.vogk))}var s=X.d2();
if(s&&s.data&&s.data.R==U){var cI=!0;for(var N=0;N<ie.length;N+=2)if(ie[N]!=s.data.M7[N])cI=!1;if(cI){a=s;
a.data.Iq=i$}}if(a==null){var a=new j3([12,91,1],this);a.data={R:U,M7:ie,Iq:i$};X.O_(a)}this._j(a.data,X)}if(U==b.sU){var cD=JSON.stringify(K.add.artb),fG=JSON.stringify(W.xK),a;
X.U[l].add.artb=JSON.parse(fG);var cH=new dU(0,0,X.r,X.$),hL=_.wW.GY(X),s=X.d2();if(s&&s.data&&s.data.R==U&&s.data.B==l){a=s;
a.data.xK=fG}if(a==null){var a=new j3("Editing Artboard",this);a.data={R:U,B:l,agi:cD,xK:fG,xG:cH};X.O_(a)}a.data.OV=hL;
this._j(a.data,X)}if(U==b.zW){var i$=X.RH.slice(0),ee=X.TC.slice(0),aj=X.d,iA=X.d,A=X.f.K7.slice(0);
if(W.w7=="seltochannel"){var eL=W.jX[0],hZ=i$[eL]=i$[eL].P(),J=g.Gg.kX(X.d,hZ,W.jX[1]);hZ.c=J.c;hZ.S=J.S}if(W.w7=="fromAction"){var bZ=W._.yx,k_=W._.Og;
if(bZ=="make"||bZ=="duplicate"){var kW=i$.length,kO=!1,hq=!1;if(X.hh())kW--;var iU=new b.pj(X.depth);
iU.name="Alpha "+(kW+1);if(bZ=="make"){var e8=k_.Nw.v;iU.color=0;ee=[kW];iU.kA=!0;iU.Z8=e8.Opct.v;if(e8.Nm)iU.name=e8.Nm.v;
if(e8.classID=="SCch"){kO=!0;iA=null;iU.R7=1}for(var N=0;N<X.RH.length;N++)X.RH[N].kA=!1;A=[0,0,0]}else{var L=X.U[X.Y[0]],gi=L.pw==1?L.Jx():L.pw==3?L.Q2(X).BD:null,jZ=k_.null.v[0].v;
if(k_.Nm)iU.name=k_.Nm.v;if(jZ.keyID=="fsel")kO=!0;else if(gi){iU.c=gi.c.slice(0);iU.S=gi.S.P();iU.color=gi.color}else{var cg=_.lR.aDU(X);
iA=_.lR.a9R(X,cg);iU.color=0;iU.S=iA.S;iU.c=iA.c}}if(kO){iU.color=0;if(X.d){iU.S=X.d.S.P();iU.c=X.d.c.slice(0)}if(hq){iU.color=255-iU.color;
g.i5(iU.c)}}i$.splice(kW,0,iU)}else if(bZ=="delete"){if(K&&K.Jx()&&K.pw==1){this.s4({R:b.nu},q,X,k,B);
return}var hn=X.TC;hn.sort(function(a,hs){return hs-a});if(hn.length==0)return;for(var N=0;N<hn.length;
N++)i$.splice(hn[N],1);ee=[];A=[1,1,1]}else if(bZ=="show"||bZ=="hide"){var bF=k_.null.v,gf=null,eH=!1;
for(var N=0;N<bF.length;N++){var h5=bF[N].v[0].v,gS=h5.enum;if(gS=="Trgt"){if(i$[ee[0]]==null)continue;
i$[ee[0]]=i$[ee[0]].P();i$[ee[0]].kA=bZ=="show";eH=!0}else{var eL=["Rd","Grn","Bl"].indexOf(gS);if(gf==null)gf=X.f.K7.slice(0);
gf[eL]=bZ=="show"?1:0}}if(gf){var e=new ip(S.E.O,!0);e.J=_.gT;e.data={R:"setcls",K7:gf};q.T(e);if(!eH)return}}}if(W.w7=="rnm"){i$[W.bT]=i$[W.bT].P();
i$[W.bT].name=W.name}var a=new j3("Channel Edit",this);a.data={R:U,M7:X.RH.slice(0),yQ:X.TC.slice(0),Iq:i$,RR:ee,UQ:aj,o_:iA,aoj:X.f.K7.slice(0),aD$:A};
this._j(a.data,X);X.O_(a)}if(U==b.Mu){var hP=new dU(0,0,X.r,X.$),a=new j3(W.xJ,this);a.data={R:b.Mu,Xn:X.U.slice(0),pG:W.pG,fE:X.Y.slice(0),$b:W.o_};
X.O_(a);this._j(a.data,X);var iy=_.wW.G7(X);if(iy){a.data.xG=hP;a.data.OV=iy}}if(U==b.L5){var cs=X.Vs(null,W.B),fM=1e10;
if(cs.length==0)return;if(X.U.length==cs.length){alert("Project must have at least 1 layer");return}var fH=[];
for(var N=0;N<X.U.length;N++)if(cs.indexOf(N)==-1)fH.push(X.U[N]);for(var N=0;N<cs.length;N++)fM=Math.min(fM,cs[N]);
while(fM>fH.length-1)fM--;fM=Math.max(fM,0);while(fH[fM].name=="</Layer group>")fM++;this.track({yx:"delete",Og:{classID:"Dlt",null:j0.O8("Lyr",!0)}});
var cH=new dU(0,0,X.r,X.$),a=new j3([6,31],this);a.data={R:b.Mu,Xn:X.U.slice(0),pG:fH,fE:X.Y.slice(0),$b:[fM]};
X.O_(a);this._j(a.data,X);var hL=_.wW.GY(X);if(hL){a.data.OV=hL;a.data.xG=cH;_.wW.G7(X)}}if(U==b.OI){if(!k.D(bu.m4))return;
var a=new j3("Switch Layer Link",this);a.data={R:U,B:W.B};X.O_(a);this._j(a.data,X)}if(U==b.t9){var hn=W.a4S?W.a4S:X.Y,az=0,kS=!1;
if(hn.length==0)return;if(hn.length==1&&X.U[hn[0]].iN==0){alert(js.get([15,7,5]));return}var er=[];for(var N=0;
N<X.U.length;N++){var aJ=X.U[N].iN;er.push(aJ);az=Math.max(az,aJ)}var ge=-1,aT=-1;for(var N=0;N<hn.length;
N++){var aJ=X.U[hn[N]].iN;if(aJ==0)kS=!0;else if(ge==-1||ge==aJ)ge=aJ;else aT=aJ}if(!kS)for(var N=0;
N<hn.length;N++)X.U[hn[N]].iN=0;else if(ge!=-1&&aT==-1)for(var N=0;N<hn.length;N++)X.U[hn[N]].iN=ge;
else for(var N=0;N<hn.length;N++)X.U[hn[N]].iN=az+1;var fQ=[];for(var N=0;N<X.U.length;N++){var aJ=X.U[N].iN;
if(fQ[aJ]==null)fQ[aJ]=0;fQ[aJ]++}for(var N=0;N<X.U.length;N++){var aJ=X.U[N].iN;if(fQ[aJ]==1)X.U[N].iN=0}var j6=er;
er=[];for(var N=0;N<X.U.length;N++){var aJ=X.U[N].iN;er.push(aJ);az=Math.max(az,aJ)}var a=new j3(kS?[6,54,0]:[6,54,1],this);
a.data={R:b.t9,aiN:j6,at9:er};X.O_(a);this._j(a.data,X)}if(U==b.b8&&(W.B!=null||X.Y.length!=0)||U==b.Zy){var et=X.Ls(U==b.b8?W.B:l,null,W.a2b),d2;
if(U==b.Zy){var r=et[0],bZ=r.add.SoLd.Idnt.v,kx=X.gW(bZ).P();r.add.SoLd.Idnt.v=kx.I8=ey.Gk()+bZ.slice(8);
X.add.lnk2.push(kx)}if(U==b.b8){var c2={yx:"duplicate",Og:{classID:"null",null:j0.O8("Lyr",!0)}};if(W.vP){et[et.length-1].YY(W.vP);
c2.Nm={t:"TEXT",v:W.vP}}this.track(c2);W.ak2=W.B}U=b.ex;W.U=et;W.QZ=X;W.vq=X}if(U==b.ex){var ke,dv,fN=W.QZ,b_=W.vq,hJ=0,dP=0,cf=fN.l4(),hy=!1,iV,ij=0,d$=0;
if(fN!=b_){console.log("ADDLAYERS different projs");var ke=new dU(0,0,fN.r,fN.$),dv=new dU(0,0,b_.r,b_.$),ig=[],b8=[],hE=new dU;
for(var N=0;N<W.U.length;N++){var r=W.U[N];hE=hE.xw(r.S);if(r.add.SoLd==null)continue;var bZ=r.add.SoLd.Idnt.v;
if(ig.indexOf(bZ)==-1){ig.push(bZ);b8.push(ey.Gk()+bZ.slice(8))}r.add.SoLd.Idnt.v=b8[ig.indexOf(bZ)];
var hx=r.Q2(fN);if(hx){fN.ez(hx);b_.ik(hx)}}if(cf==-1&&!W.dB&&W.ajX&&!dv.ty(hE)){hJ=-hE.x;dP=-hE.y}if(ig.length>0){if(b_.add.lnk2==null)b_.add.lnk2=[];
for(var N=0;N<ig.length;N++){var is=fN.gW(ig[N]),kx=is.P();kx.I8=b8[N];b_.add.lnk2.push(kx)}}}var aj=b_.Y.slice(0);
aj.sort(function(a,hs){return a-hs});var fH=b_.U.slice(0),iA=[],e2=-1;for(var N=0;N<aj.length;N++)e2=Math.max(e2,aj[N]);
if(W.ak2!=null)e2=W.ak2;if(W.dB){e2=W.dB-1;var hh=b_.U[W.dB].La();hJ+=hh.x;dP+=hh.y}if(cf!=-1&&(fN!=b_||W.dB)){var e3=fN.U[cf].La();
hJ-=e3.x;dP-=e3.y}var gy=b_.sO();for(var N=0;N<gy[0].length;N++){var fL=gy[1][N];if(fL!=-1)gy[1][N]=fH[fL]}e2++;
for(var N=0;N<W.U.length;N++){var L=W.U[N],ct=L.add.artb;fH.splice(e2,0,L);iA.push(e2);e2++;if(ct){iV=!0;
var gE=ct.guideIndeces;if(gE){gE=gE.v;for(var gz=0;gz<gE.length;gz++){gy[0].push(fN.UZ[gE[gz].v].slice(0));
gy[1].push(L);hy=!0}}}}for(var N=0;N<gy[0].length;N++){var fL=gy[1][N];if(fL!=-1)gy[1][N]=fH.indexOf(fL)}for(var N=0;
N<W.U.length;N++){var L=W.U[N];if(L.add.lsct==e5.dx){if(ij==0)d$++;ij++}else if(L.S3())ij--}if(d$==1)iA=[e2-1];
var jr=W.aCy;if(jr){var x=[];for(var N=0;N<iA.length;N++)x.push(fH[iA[N]]);for(var N=0;N<jr.length;N++)fH.splice(fH.indexOf(jr[N]),1);
iA=[];for(var N=0;N<x.length;N++)iA.push(fH.indexOf(x[N]))}var a=new j3([6,0],this);a.data={R:b.Mu,Xn:b_.U.slice(0),pG:fH,fE:aj,$b:iA};
if(hy){a.data.ls=[b_.sO(),gy]}b_.O_(a);this._j(a.data,b_);if(hJ!=0||dP!=0)_.U6.c8(b_,b_.Vs(),null,hJ,dP);
if(iV){a.data.xG=new dU(0,0,b_.r,b_.$);a.data.OV=_.wW.GY(b_);_.wW.G7(b_)}if(fN.depth!=b_.depth){alert("Converting from "+fN.depth+"-bit mode to "+b_.depth+"-bit mode.");
_.Gz.aac(b_,b_.Y,b_.depth)}}if(U==b.wP){var f9=W.B!=null?[W.B]:X.Vs(),fH=X.U.slice(0);for(var N=0;N<f9.length;
N++){var L=X.U[f9[N]].P();L.B$(X);fH.splice(f9[N],1,L)}var a=new j3([6,8],this);a.data={R:b.Mu,Xn:X.U.slice(0),pG:fH,fE:X.Y.slice(0),$b:X.Y.slice(0)};
X.O_(a);this._j(a.data,X)}if(U==b.aHm){var fH=X.U.slice(0),L=fH[X.Y[0]]=fH[X.Y[0]].P(),gl=L.add.lmfx,i7,hh;
delete L.add.lmfx;var gq=X.Y[0],hV=gq+1;if(L.S3()){var f_=X.U[X.Y[0]].kJ;hh=f_.aKB;i7=f_.J5;var J=X.root.Vf(gq);
gq=J.n0}else{hh=L.S;i7=g.j(hh.C());g.u6(g.Cn(L.buffer,8),i7,3)}var du=dx.rX(gl,L.add.fxrp,i7,hh,X,hh),f7=du.I;
dx.aKy(du);for(var N=0;N<kE.order.length;N++){var gF=kE.order[N],gY=f7[gF];gY.reverse();for(var gz=0;
gz<gY.length;gz++){var eD=gY[gz],x=X.Sh(),gR=N>7;if(gF=="ebbl"){if(eD.ir||eD.tv){var cv=eD.ir?eD.ir:eD.tv;
if(eD.ir)delete eD.ir;else delete eD.tv;if(eD.tv||eD.Yg)gz--}else if(eD.Yg||eD.g4){var cv=eD.g4?eD.g4:eD.Yg;
if(eD.g4){delete eD.g4;if(eD.Yg)gz--}gR=!0}eD=cv}x.JY=eD.Dz;x.zO=Math.round(255*eD.zi);x.buffer=g.Cn(eD.kl,X.depth);
x.S=eD.Ft.P();x.S.offset(hh.x,hh.y);if(gF=="FrFX"){x.buffer=x.buffer.slice(0);g.fP(eD.lW?eD.lW:eD.PC,x.buffer,3);
if(eD.lW){gR=!0;delete eD.lW;if(eD.PC)gz--}}x.Oa=!gR;x.YY(L.getName()+"'s "+js.get(kE.names[N]));fH.splice(gR?gq:hV,0,x);
if(gR)hV++}}var a=new j3("Styles to Layers",this);a.data={R:b.Mu,Xn:X.U.slice(0),pG:fH,fE:X.Y.slice(0),$b:[hV-1]};
X.O_(a);this._j(a.data,X)}if(U==b.azU){var f9=X.Vs(),fH=X.U.slice(0),aH=new dU(0,0,X.r,X.$);for(var N=0;
N<f9.length;N++){var dk=X.U[f9[N]],lj=dk.P$();dk.ZR(!0);var jq=X.root.Vf(f9[N]);if(dk.S3())continue;
if(jq==null)continue;var L=dk.P();L.B$(X);var j7=jq.wu(X,!0),es=X.U;X.UR([dk]);X.I_();X.HQ();L.buffer=g.j(j7.C()*4);
g.YE(X.OL(),aH,L.buffer,j7);L.S=j7;L.zO=255;L.add.iOpa=255;L.JY="norm";L.I_();L.kJ.OG=!0;X.UR(es);if(L.add.lmfx)delete L.add.lmfx;
L.BD=L.$a=null;fH.splice(f9[N],1,L);L.ZR(lj);dk.ZR(lj)}var a=new j3([6,34],this);a.data={R:b.Mu,Xn:X.U.slice(0),pG:fH,fE:X.Y.slice(0),$b:X.Y.slice(0)};
X.O_(a);this._j(a.data,X)}if(U==b.n9){var f9=X.Vs(),fH=X.U.slice(0);for(var N=0;N<f9.length;N++){var L=X.U[f9[N]],k3=L.add.TySh;
if(k3==null)continue;var r=new cm(k3.FZ,B.yK,k3.ZN),d6=g.b.N9(hj.Gi(r,k3,!0));for(var bR in d6){var d3=d6[bR],g$=L.P();
delete g$.add.TySh;g$.Z9=g$.Z9|1<<4;g$.add.SoCo=g.N(kE.EY[0]);var ax=g$.add.SoCo.Clr.v;ax.Rd.v=parseInt(bR.slice(1,3),16);
ax.Grn.v=parseInt(bR.slice(3,5),16);ax.Bl.v=parseInt(bR.slice(5,7),16);var gA=new b.jY;gA.G=g.b.gH(d3,!1);
if(g$.add.vmsk!=null){g$.add.vmsk.a5J();gA.concat(g$.add.vmsk)}g$.add.vmsk=gA;g$.add.vstk=kE.Cs.wy(!0);
g$.tw();g$.Ae(X);fH.splice(fH.indexOf(L),0,g$)}fH.splice(fH.indexOf(L),1)}var iA=X.Y.slice(0);for(var N=iA.length-1;
N>=0;N--)if(iA[N]>=fH.length)iA.splice(N,1);var a=new j3([6,40],this);a.data={R:b.Mu,Xn:X.U.slice(0),pG:fH,fE:X.Y.slice(0),$b:iA};
X.O_(a);this._j(a.data,X)}if(U==b.a8U){var d0=X.Y.length,aN,ho;if(d0<2){alert("Select two or more layers.");
return}for(var N=0;N<d0;N++){var e3=X.U[X.Y[N]].S;aN=N==0?e3:aN.x$(e3);ho=N==0?e3:ho.xw(e3)}if(aN.C()*1.2>ho.C()){alert("stacking images");
var g2=[],cy=[];for(var N=0;N<d0;N++){var L=X.U[X.Y[N]];g2.push(L.buffer);cy.push(L.S)}var dq=g.aEN.bQ(g2,cy),gj=dq[0],dm=dq[1],jn=[];
for(var N=0;N<d0;N++){var at=new b.pj(X.depth);at.color=255;at.S=dm;at.c=gj[N];jn.push(X.Y[N],null,at)}var a=new j3("Focus-Stack",this);
a.data={R:b.UM,VG:jn};X.O_(a);this._j(a.data,X);return}if(!X.IS())return;var g$=X.U[X.Y[0]].P(),fH=[];
for(var N=0;N<X.U.length;N++)if(X.Y.indexOf(N)==-1)fH.push(X.U[N]);fH.splice(X.Y[0],0,g$);for(var N=1;
N<d0;N++)if(X.U[X.Y[N]].S.C()>2e6){alert("Blended areas are too large.");return}for(var N=1;N<d0;N++){var L=X.U[X.Y[N]],dm=L.S.P();
dm.Pt(1,1);var hs=g.j(dm.C()*4);g.YE(L.buffer,L.S,hs,dm);g$.extend(dm);var aa=g.j(dm.C()*4);g.YE(g$.buffer,g$.S,aa,dm);
var a=g.j(dm.C());g.u6(hs,a,3);g.round(a,200);g.fP(a,hs,3);g.v.HX("norm",hs,dm,aa,dm,dm,1);g.n4.fb(aa,a,dm);
g.YE(aa,dm,g$.buffer,g$.S)}var a=new j3([2,10,0],this);a.data={R:b.Mu,Xn:X.U.slice(0),pG:fH,fE:X.Y.slice(0),$b:[X.Y[0]]};
X.O_(a);this._j(a.data,X)}if(U==b.MF){var fH=X.U.slice(0),ee=X.Y.slice(0);for(var N=0;N<fH.length;N++){var L=fH[N],cA=L.add.vmsk;
if(L.Nj()&&cA&&L.add.vstk.strokeEnabled.v&&!L.add.vstk.fillEnabled.v){var i_=cA.G,ev=0,h0=-1;for(var gz=0;
gz<i_.length;gz++){if((i_[gz].I==0||i_[gz].I==3)&&i_[gz].R3!=-1){ev++;if(i_[gz].I==3&&h0==-1){i_[gz].HG=i_[gz].R3=1;
h0=gz}}}if(ev>1&&h0!=-1&&ev<10){console.log("separating an open path into a new layer");L=L.P();cA=L.add.vmsk;
i_=cA.G;var x=i_[h0].length,jr=L.P();jr.add.lyid=X.l1();cA.G=i_.slice(0,2).concat(i_.slice(h0,h0+x+1));
cA.Y=[];L.Ae(X);L.I_();var f5=jr.add.vmsk.G;jr.add.vmsk.G=f5.slice(0,h0).concat(f5.slice(h0+x+1,f5.length));
jr.add.vmsk.Y=[];jr.Ae(X);fH[N]=L;fH.splice(N+1,0,jr);for(var gz=0;gz<ee.length;gz++)if(ee[gz]>N)ee[gz]++;
var as=ee.indexOf(N);if(as!=-1){ee.splice(as+1,0,N+1)}}}}if(fH.length!=X.U.length){var a=new j3("Splitting open paths",this);
a.data={R:b.Mu,Xn:X.U.slice(0),pG:fH,fE:X.Y.slice(0),$b:ee};X.O_(a);this._j(a.data,X)}}if(U==b.JG){this.s4({R:b.MF},q,X,k,B);
var aj=X.Y.slice(0),es=X.U.slice(0),f9=X.Vs();if(f9.length==0)return;X.aiO(f9,!1,W.me);var a=new j3([6,36,0],this);
a.data={R:b.Mu,Xn:es,pG:X.U.slice(),fE:aj,$b:X.Y.slice(0)};X.O_(a);this._j(a.data,X)}if(U==b.aus){var fE=K.add.SoLd;
if(fE==null)return;var bZ=fE.Idnt.v,i6=X.gW(bZ);i6.OL(!1);var k2=g.Cn(i6.jx[0],8),dm=i6.jx[1];if(g.VR(k2)){alert("The smart object contains transparency.");
return}var hA=lf.c_("jpg")._M([[k2.buffer]],dm.r,dm.$,[90]);this.s4({R:b.dy,data:new Uint8Array(hA),k7:"image.jpg"},q,X,k,B);
console.log(X.add);return}if(U==b.vj){var fE=K.add.SoLd,le=!1;if(fE==null)return;var bZ=fE.Idnt.v,gw=new ey;
dS.WZ(X.a3(bZ).raw.buffer,gw);if(W.w7!="del")for(var N=1;N<gw.U.length-1;N++)gw.U[N].ZR(!1);if(W.w7=="switch"){gw.U[W._].ZR(!0);
le=!0}else if(W.w7=="del"){gw.U.splice(W._,1);gw.Y=[gw.U.length-1]}else{var L=gw.Sh();L.S=K.S.P();L.YY(W.ajz);
var fu=L.buffer=g.j(L.S.C()*4);g.YE(W._[0],W._[1],fu,L.S);L.S.x=L.S.y=0;gw.U.splice(gw.U.length-1,0,L)}var kY=lf.mH._M(gw);
this.s4({R:b.dy,data:new Uint8Array(kY),k7:"image.psd",id:bZ,a7o:le},q,X,k,B);return}if(U==b.dy){var aH=W.LV,bZ=W.id;
if(aH==null)aH=X;if(bZ==null)bZ=K.add.SoLd.Idnt.v;var is=aH.gW(bZ),kx=is.P();kx.raw=W.data;kx.k7=W.k7;
var ll=lf.pP(W.data.buffer);if(ll=="psd"){kx.iX="8BIM";kx.O5="8BPB"}else{kx.iX="    ";kx.O5="    "}kx.OL(!1);
is.OL(!1);var H=X.d2();if(W.a7o&&H&&H.J==this&&H.data.R==U&&H.data.id==bZ){a=H;a.data.KM=kx}else{var a=new j3(W.a7o?"Select Variation":[6,36,1],this);
a.data={R:b.dy,id:bZ,asg:is,KM:kx};aH.O_(a)}this._j(a.data,aH)}if(U==b.oy){var a=new j3([6,36,4],this);
a.data={R:U,B:l,bG:K.add.SoLd.Impr.v.classID,O4:W.O4};X.O_(a);this._j(a.data,X)}if(U==b.cG){var e1,c5;
if(W.as){e1=W.LV;c5=W.as}else{W.LV.Hm();W.LV.Ek();W.LV.I_();W.LV.HQ();W.LV.OL();e1=lf.c_("PSD")._M(W.LV,0,0,[!0,!0]);
c5=W.LV.name}if(!(e1 instanceof ArrayBuffer))throw"e";e1=new Uint8Array(e1);var i=W.XK;if(i==null){if(X.Y.length==0)i=X.Y.length;
else{var cr=X.Y[X.Y.length-1],x=X.U[cr];i=x.S3()?cr:cr+1}}var d1=new dU(0,0,X.r,X.$),kl=X.l4();if(kl!=-1)d1=X.U[kl].La();
var hW=X.ow(e1,c5,null,null,d1,B.yK,q),fH=X.U.slice(0);fH.splice(i,0,hW);var a=new j3([6,36,2],this);
a.data={R:b.Mu,Xn:X.U.slice(),pG:fH,fE:X.Y.slice(0),$b:[fH.indexOf(hW)]};X.O_(a);this._j(a.data,X)}if(U==b.QC&&W.w7=="merge"){var bI=[],kt=X.root.children,gu=0;
for(var N=0;N<kt.length;N++){var J=kt[N],L=J.B,jl=J.children,de=!0;if(!L.S3()||jl.length==0)continue;
for(var gz=0;gz<jl.length;gz++)if(!jl[gz].B.getName().startsWith("_a_")){de=!1;break}if(de)bI.push(X.U.indexOf(L))}var iS=[];
for(var N=0;N<bI.length;N++)if(X.Y.indexOf(bI[N])!=-1)iS.push(bI[N]);if(iS.length>=2)bI=iS;if(bI.length<2){alert("At least two animation folders needed (whose layers start with \"_a_\").",3500);
return}var hI=[];for(var N=0;N<bI.length;N++)hI.push(X.U[bI[N]].getName());var gY=[];for(var bY=0;bY<bI.length;
bY++){var J=X.root.Vf(bI[bY]),c4=[[],[],0,bY];gY.push(c4);for(var N=0;N<J.children.length;N++){var u=J.children[N].index,L=J.children[N].B,iU=L.getName(),gp=20,jo=iU.split(",");
if(jo.length>1){var h9=parseInt(jo.pop());if(!isNaN(h9)&&h9!=0)gp=h9}if(gp<17)gp=17;c4[0].push(L);c4[1].push(gp);
c4[2]+=gp}}gY.sort(function(a,hs){return hs[2]-a[2]});if(gY[0][2]>2e3){var gI=0,g8=0;for(var N=0;N<gY.length;
N++){var kh=gY[N][1].length/gY[N][2];if(kh>g8){g8=kh;gI=N}}var jX=(gY[0][2]/1e3).toFixed(1),bk=window.confirm("- \""+hI[gY[0][3]]+"\" is "+jX+" seconds long\n"+"- \""+hI[gY[gI][3]]+"\" is playing at "+Math.round(g8*1e3)+" frames per second\n"+"A merged animation must be "+jX+" sec, up to "+Math.round(gY[0][2]*g8)+" frames. Proceed?");
if(!bk)return}var ji=gY[0],cj=ji[2];for(var fL=1;fL<gY.length;fL++){var c4=gY[fL],fq=1,e4=c4[1].slice(0),jT=0;
while((fq+1)*c4[2]<=ji[2]){fq++;e4=e4.concat(c4[1])}c4[1]=e4;c4[2]*=fq;var dz=ji[2]/c4[2];for(var N=0;
N<c4[1].length;N++){var i9=Math.floor(c4[1][N]*dz);c4[1][N]=i9;jT+=i9}while(jT<cj){jT++;c4[1][c4[1].length-1]++}c4[2]=jT}var bo=[],hQ=[],i9=[];
for(var N=0;N<gY.length;N++){bo.push(0);hQ.push(0)}while(gu<cj){var k0=1e9,kW=-1;for(var N=0;N<gY.length;
N++){var jP=gY[N][1],gq=bo[N];if(gq!=jP.length&&hQ[N]+jP[gq]<gu+k0){kW=N;k0=hQ[N]+jP[gq]-gu}}hQ[kW]+=gY[kW][1][bo[kW]];
bo[kW]++;if(k0!=0){i9.push(k0);gu+=k0}}for(var N=1;N<i9.length;N++){var a3=i9[N];if(a3<16&&(i9[N-1]<16||N<i9.length-1&&16<=i9[N+1])){i9[N-1]+=a3;
i9.splice(N,1);N--}}var lj=[],aH=new dU(0,0,X.r,X.$);for(var N=0;N<X.U.length;N++){lj[N]=X.U[N].P$();
X.U[N].ZR(!1)}var ft=X.Y.slice(0);X.Y=bI;var cs=X.Vs();cs.sort(function(a,hs){return a-hs});var fH=[];
for(var N=0;N<X.U.length;N++){if(cs.indexOf(N)==-1)fH.push(X.U[N])}gY.sort(function(a,hs){return a[3]-hs[3]});
function jG(jP,c7){var N=0,ir=0;while(ir+jP[N]<=c7){ir+=jP[N];N++}return N}gu=0;fH.splice(cs[0],0,X.rS());
for(var kP=0;kP<i9.length;kP++){var o=[];for(var N=0;N<gY.length;N++){var gq=jG(gY[N][1],gu)%gY[N][0].length,L=gY[N][0][gq];
o.push(L)}var L=X.Sh();for(var N=0;N<gY.length;N++){var kR=o[N],fF=X.U[bI[N]];kR.ZR(!0);fF.ZR(!0)}X.I_();
X.HQ();var k2=X.OL();L.S=g.BF(k2,aH,2);L.buffer=g.j(L.S.C()*4);g.YE(k2,aH,L.buffer,L.S);for(var N=0;
N<gY.length;N++){var kR=o[N],fF=X.U[bI[N]];kR.ZR(!1);fF.ZR(!1)}L.ZR(kP==0);L.YY("_a_frm"+kP+","+i9[kP]);
fH.splice(cs[0]+1+kP,0,L);gu+=i9[kP]}var L=X.Sh();L.YY(hI.join(" + "));L.JY="pass";L.add.lsct=e5.Fn;
L.Z9=24;fH.splice(cs[0]+1+i9.length,0,L);for(var N=0;N<X.U.length;N++)X.U[N].ZR(lj[N]);var a=new j3([6,12,0],this);
a.data={R:b.Mu,Xn:X.U,pG:fH,fE:ft,$b:[cs[0]+1+i9.length]};X.O_(a);this._j(a.data,X)}if(U==b.IL){var he=W.Gg,d4=X.Y.slice(0);
d4.sort(function(a,hs){return a-hs});if(d4.length<2){alert("Select at least two layers.");return}for(var N=0;
N<d4.length;N++)if(!X.U[d4[N]].Nj()){alert("Select only vector shapes.");return}var eY=[["AuB"],["AsB"],["AiB"],["AsB","BsA"],["AsB","BsA","AiB"],["AsB","B"],["AuB"],["BsAs","AiB"],["BsAs","AiBs","AsBs"],["BsA"]],et=[],fr=eY[he],dn=b.jY.zx,gt=dn(X.U[d4[0]].add.vmsk.G),jb=dn(X.U[d4[1]].add.vmsk.G);
for(var N=2;N<d4.length;N++)jb=jb.concat(X.U[d4[N]].add.vmsk.G.slice(2));if(fr.length>1)et.push(X.rS());
for(var N=0;N<fr.length;N++){var fy=fr[N],L=X.U[d4[he==1?0:d4.length-1]].P(),cA=L.add.vmsk;et.push(L);
if(fy.length==1)cA.G=dn(fy=="A"?gt:jb);else{var a=gt,hs=jb;if(fy[0]=="B"){a=jb;hs=gt}a=dn(a);hs=dn(hs);
for(var gz=0;gz<hs.length;gz++)if(hs[gz].R3!=null&&hs[gz].R3!=-1)hs[gz].R3={u:1,s:2,i:3}[fy[1]];cA.G=g.z.xm(a.concat(hs.slice(2)));
if(fy[3]=="s")L.add.vstl.jg=[]}}if(fr.length>1){var L=X.Sh();L.YY("<Group>");et.push(L);L.add.lsct=e5.Fn;
L.JY="pass";L.Z9=24}var fH=[],iA=[];for(var N=0;N<X.U.length;N++)if(d4.indexOf(N)==-1)fH.push(X.U[N]);
for(var N=0;N<et.length;N++){fH.splice(d4[0]+N,0,et[N]);iA.push(d4[0]+N)}var a=new j3("Pathfinder",this);
a.data={R:b.Mu,Xn:X.U.slice(0),pG:fH,fE:X.Y,$b:iA};X.O_(a);this._j(a.data,X)}if(U==b.Qf||U==b.Pi){var em=X.Y.length==1&&!X.U[X.Y[0]].S3(),fb=!0,hW=null,iA;
if(em&&X.Y[0]==0)return;var h_=U==b.Qf&&W.B!=null&&X.Y.indexOf(W.B)==-1,es=X.U.slice(0),aj=X.Y.slice(0);
if(em||h_)X.Y=[l,l-1];if(U==b.Pi){X.Y=[];for(var N=0;N<X.U.length;N++)if(X.U[N].P$())X.Y.push(N)}var f9=X.Vs();
f9.sort(function(a,hs){return a-hs});var lc=new dU,aH=new dU(0,0,X.r,X.$);for(var N=0;N<f9.length;N++){var u=f9[N],L=X.U[u];
if(L.S3()||L.getName()=="</Layer group>")continue;fb=fb&&L.Nj()&&L.add.vmsk!=null;lc=lc.xw(X.root.Vf(u).wu(X,!0))}if(W.Gg!=null&&!fb){alert("Select shape layers only.");
return}if(fb){var cA=null,he=W.Gg;for(var N=0;N<f9.length;N++){var x=X.U[f9[N]];if(cC==0&&x.S.C()==0)continue;
if(hW==null){hW=x.P();cA=hW.add.vmsk}else{var x=X.U[f9[N]],f5=b.jY.zx(x.add.vmsk.G);if(he!=null)for(var gz=0;
gz<f5.length;gz++)if(f5[gz].R3!=null&&f5[gz].R3!=-1)f5[gz].R3=[1,2,3,0][he];cA.G=cA.G.concat(f5.slice(2));
hW.add.vogk=hW.add.vogk.concat(g.N(x.add.vogk))}}hW.add.vmsk.Uf=!0;hW.Ae(X)}else if(aH.Ox(lc)){hW=X.Sh();
hW.YY(X.U[f9[f9.length-1]].getName());hW.S=lc;hW.buffer=g.j(lc.C()*4,X.depth);var cE=X.add.artd;delete X.add.artd;
var kJ=X.OL(f9);if(cE)X.add.artd=cE;g.YE(kJ,aH,hW.buffer,lc);hW.xX();hW.I_()}else{X.aiO(f9,!0);hW=X.U[X.Y[0]];
X.U.splice(X.Y[0],1);var h3=X.gW(hW.add.SoLd.Idnt.v);X.add.lnk2.splice(X.add.lnk2.indexOf(h3),1);delete hW.add.SoLd}var aL=D,fW=-1;
if(W.Og&&W.Og.Dplc&&W.Og.Dplc.v)aL=!0;if(aL&&U==b.Pi&&aj.length!=0&&X.U[aj[0]].xn()&&X.U[aj[0]].S.PM()){fW=aj[0]}if(fW!=-1||em){var ec=X.U[fW!=-1?fW:l-1];
hW.YY(ec.getName());hW.add.lclr=ec.add.lclr}var fH=[];for(var N=0;N<X.U.length;N++)if(aL||f9.indexOf(N)==-1)if(N!=fW)fH.push(X.U[N]);
var g4=f9[f9.length-1],fX=g4==X.U.length-1?null:X.U[g4+1],cQ=fX?fH.indexOf(fX):fH.length;fH.splice(cQ,0,hW);
iA=[cQ];if(h_)iA=aj.slice(0);var a=new j3([6,12,0],this);a.data={R:b.Mu,Xn:es,pG:fH,fE:aj,$b:iA};X.O_(a);
this._j(a.data,X)}if(U==b.aBm){var g$=X.Sh();g$.S=new dU(0,0,X.r,X.$);g$.buffer=g.j(g$.S.C()*4);g$.buffer.fill(255);
g.v.HX("norm",X.OL(),g$.S,g$.buffer,g$.S,g$.S,1);g$.YY("Background");g$.add.lspf=1<<2;var a=new j3([6,12,1],this);
a.data={R:b.Mu,Xn:X.U.slice(),pG:[g$],fE:X.Y.slice(0),$b:[0]};X.O_(a);this._j(a.data,X)}var iL=U==b.PK||U==b.er;
if(U==b.ZC||U==b.Li||U==b.o2||U==b.xi||iL){var L=iL?X.Ls()[0]:X.Sh(),ap=js.get([0,3]),k7=W.vP,jC=!1,kB,co;
if(U==b.o2)ap=js.get([12,76,1]);if(iL){if(X.d){var dk=X.U[X.Y[0]],h8=dk.KZ(X,X.d);if(h8==null){alert("Copied area is empty");
return}L.S=h8.S;L.buffer=h8.Wa;L.B$(X);L.ZR(!0)}else k7=L.getName();L.add.lspf=0;L.Oa=!1;if((L.Z9&1)!=0)L.Z9--}if(U==b.xi){L.S=_.zB.acJ(W.PW,X);
L.buffer=g.Cn(W.PW.buffer.slice(0),g.Oj(L.buffer));if(W.aCn&&X.d){L.BD=new b.pj(X.depth);L.BD.S=X.d.S;
L.BD.color=0;L.BD.c=X.d.c.slice(0)}}if(U==b.ZC){this.track({yx:"make",Og:{classID:"Mk",null:j0.O8("Lyr")}})}if(U==b.Li){L.Z9|=16;
var aO=W.Og.Usng.v,bx=aO.Type.v,aM=dZ.Hd[bx.classID];ap=js.get(dZ.names[aM]);if(aO.Nm)k7=aO.Nm.v;L.add[aM]=dY.wy(aM);
if(L.add[aM]==null)L.add[aM]={};for(var ao in bx)L.add[aM][ao]=g.N(bx[ao]);L.BD=_.zB.aHp(X);L.pw=1}if(U==b.o2){L.Z9|=16;
var k_=W.Og,aO=k_.Usng.v,j$=aO.Type.v,iJ=aO.Shp;if(aO.Nm)k7=aO.Nm.v;if(iJ==null){var je=X.Yb(),d6=je[0],hm=je[1];
if(hm.length!=0&&d6[hm[0]].bT<0){var ak=d6[hm[0]].add;L.add.vmsk=ak.vmsk.P();L.add.vstk=kE.Cs.wy(!0);
L.add.vogk=g.N(ak.vogk);X.Lf=[]}else L.BD=_.zB.aHp(X)}else{L.add.vmsk=new b.jY;L.add.vstk=g.N(aO.strokeStyle?aO.strokeStyle.v:kE.Cs.wy(!0));
L.add.vogk=[];if(iJ){var fV=g.BI.SV(iJ,X.r,X.$);if(fV){L.add.vogk=[fV];L.add.vmsk.G.push({I:0,R3:1,length:0});
g.BI.pp(L.add.vogk,L.add.vmsk)}else{iJ=iJ.v;var eW=iJ.classID;if(eW=="Plgn"){var h5=iJ.Cntr.v,e3=iJ.corner.v;
h5=new hw(h5.Hrzn.v.val,h5.Vrtc.v.val);e3=new hw(e3.Hrzn.v.val,e3.Vrtc.v.val);L.add.vmsk.G=g.z.oz.VB(h5.x,h5.y,Math.sqrt(e3.x*e3.x+e3.y*e3.y),Math.atan2(e3.y,e3.x),iJ.sides.v,0)}else if(eW=="customShape"){var e0=g.BI.u4(iJ),g5=e0[2]-e0[0],gb=e0[3]-e0[1],h7=B.mh,kH,iN;
for(var N=0;N<h7.length;N++)if(h7[N].s$==iJ.Nm.v)kH=h7[N];if(kH){iN=b.jY.zx(kH.G);g.z.Y9(iN,new ka(g5,0,0,gb,e0[0],e0[1]))}else iN=g.z.oz.Rect(e0[0],e0[1],g5,gb,0);
L.add.vmsk.G=iN}L.tw()}}}if(cC==0){var cn={solidColorLayer:0,gradientLayer:1,patternLayer:2}[j$.classID],cw=["SoCo","GdFl","PtFl"][cn];
L.add[cw]=g.N(kE.EY[cn]);if(cn==0)L.add[cw].Clr.v=g.ov.E2(g.gC(B.w5));_.zB.y7(j$,L.add[cw],cn);if(iJ==null)ap=js.get([6,48,0,cn]);
if(cw=="PtFl"){var aA=L.add[cw].Ptrn.v,jo=dx.yN(aA,B.Ix);if(jo==null)jo=dx.yN(aA,X.add.Patt);if(jo==null)jo=B.Ix[0];
aA.Idnt.v=jo.id;X.cB(jo)}L.Ae(X)}else{L.add.vstl=g.N(B.art)}}var d0=_.zB.BA(X,ap+" ");L.YY(ap+" "+(d0+1));
if(k7)L.YY(k7);var fx=X.Y.length==0?X.U.length-1:X.Y[X.Y.length-1],b5=X.U[fx];if(cC==0&&U==b.o2&&b5.xn()&&b5.S.PM()){jC=!0;
L.YY(b5.getName());kB=fx}else{kB=fx+(U==b.ZC&&Y&&!m?0:1);if(b5&&b5.add.lsct==e5.B2)kB--}if(W.ap4)kB=Math.max(0,kB-1);
var fH=X.U.slice(0);if(U==b.er){var lk=fH[X.Y[0]]=fH[X.Y[0]].P(),jW=X.d.c.slice(0);g.i5(jW);g.Jd(jW,X.d.S,lk.buffer,lk.S)}fH.splice(kB,jC?1:0,L);
var jE=[5,2];if(U==b.ZC)jE=[6,13];if(U==b.Li)jE=[6,1];if(U==b.o2){jE=[6,48,1];var iJ=W.Og.Usng.v.Shp;
if(iJ){var dr={Rctn:[10,32],Ln:[10,35],Elps:[10,33],Plgn:[12,93,0],customShape:[10,31]}[iJ.v.classID];
if(dr)jE=dr}}if(iL){jE=[6,49,U==b.PK?0:1]}if(iL||U==b.o2||U==b.xi||U==b.Li)if(X.d)co=[X.d,null];var a=new j3(jE,this);
a.data={R:b.Mu,Xn:X.U.slice(0),pG:fH,fE:X.Y.slice(0),$b:[kB],tD:co};X.O_(a);this._j(a.data,X);if(U==b.o2&&iJ==null&&cn!=0||U==b.Li){var C=new ip(S.E.H);
C.data={R:S.m.oU,ud:dE.FV.iD};q.T(C)}}if(U==b.aG0){var fH=X.U.slice(0),L=X.U[X.Y[0]],cp=L.S.C(),fl=cp*4,im=fH.indexOf(L),ec=X.Sh();
ec.YY("Decomposition");ec.add.lsct=e5.B2;ec.JY="pass";ec.Z9=24;fH.splice(im+1,0,ec);fH.splice(im+1,0,X.rS());
var ed=L.P();ed.YY("Residual");fH.splice(im+2,0,ed);function k0(a,hs,N){hs[N]+=128-a[N];hs[N+1]+=128-a[N+1];
hs[N+2]+=128-a[N+2];hs[N+4]+=128-a[N+4];hs[N+5]+=128-a[N+5];hs[N+6]+=128-a[N+6]}fH.splice(im,0);var cl=Date.now();
for(var kp=0;kp<5;kp++){var jr=ed.P();fH.splice(im+3,0,jr);jr.zO=128;jr.JY="lLit";jr.YY("Scale "+(kp+1));
dY.lp(1<<kp,1,ed.buffer,L.S);var e0=ed.buffer,eK=new Uint8ClampedArray(jr.buffer.buffer);for(var N=0;
N<fl;N+=8)k0(e0,eK,N)}var a=new j3("Wavelet Decompose",this);a.data={R:b.Mu,Xn:X.U.slice(0),pG:fH,fE:X.Y.slice(0),$b:[im+2]};
X.O_(a);this._j(a.data,X)}if(U==b.DL){var L=X.Sh(),ap=js.get([0,4]),d0=_.zB.BA(X,ap+" ");L.YY(ap+" "+(d0+1));
L.JY="pass";L.add.lsct=e5.B2;L.Z9=24;if(W.vP)L.YY(W.vP);if(W.As!=null)L.add.lclr=W.As;var jD=X.rS(),fx=l,kB=fx+(Y?0:1),fH=X.U.slice(0);
fH.splice(kB,0,jD,L);var a=new j3([6,20],this);a.data={R:b.Mu,Xn:X.U.slice(0),pG:fH,fE:X.Y.slice(0),$b:[kB+1]};
X.O_(a);this._j(a.data,X)}if(U==b.P8||U==b.vz){var fJ=U==b.P8?W.source:X.Y[0],jI,ef,hX=X.Y.indexOf(fJ)!=-1,cK=D|W.a4W,kX,k0=null;
if(hX)kX=X.Vs();else kX=X.wj(fJ);kX.sort(function(a,hs){return a-hs});if(U==b.P8){jI=W.target;ef=W.xp>.5}else if(W.target!=null){jI=Math.min(W.target,X.U.length-1);
ef=W.target<X.U.length;X.zf=!0}else{var cb=W.w7;ef=cb>1;if(cb==0){jI=X.U.length-1}if(cb==1){jI=kX[kX.length-1]+1;
var x=X.wj(jI);if(x.indexOf(fJ)==-1)jI+=x.length-1}if(cb==2){jI=kX[0]-1;var x=X.wj(jI);if(x.indexOf(fJ)==-1)jI-=x.length-1}if(cb==3){jI=0;
if(X.U[0].add.lnsr=="bgnd")jI++}if(jI<0||jI>X.U.length-1)return;X.zf=!0}if(kX.indexOf(jI)!=-1&&!cK)return;
var eo=_.zB.lZ(X,kX,jI,ef,cK?X.Ls(hX?null:fJ):null,U==b.P8&&W.xp>.8),kj=eo.pop(),ee=eo.pop(),fH=eo.pop(),hg=X.Y;
X.Y=[fJ];var cf=X.l4();X.Y=[jI];var hD=X.l4();if(hD==jI&&!ef)hD=-1;X.Y=hg;if(fJ==cf){}else if(cf!=hD){var k0=new hw(0,0);
if(cf!=-1){var dm=X.U[cf].La();k0.x-=dm.x;k0.y-=dm.y}if(hD!=-1){var dm=X.U[hD].La();k0.x+=dm.x;k0.y+=dm.y}}var a=new j3(cK?[6,0]:[6,35],this);
a.data={R:b.Mu,Xn:X.U.slice(0),pG:fH,fE:X.Y.slice(0),$b:ee,WB:k0};X.O_(a);this._j(a.data,X);var k_={classID:"move",null:j0.O8("Lyr",!0),T:{t:"obj ",v:[{t:"indx",v:{classID:"Lyr",val:kj+(ef?0:1)}}]},Adjs:{t:"bool",v:!1},Vrsn:{t:"long",v:5},Dplc:{t:"long",v:cK}};
this.track({yx:"move",Og:k_})}if(U==b.Pw){var b5=W.D7;if(W._G){if(K==null||!K.S3())return;var J=X.root.Vf(l),kC=X.U.indexOf(J.auf),fH=X.U.slice(0);
fH.splice(l,1);fH.splice(kC,1);var ee=[];for(var N=kC;N<l-1;N++)ee.push(N);if(b5){var dF=l-2;fH[dF]=fH[dF].P();
fH[dF].D7=!1}var a=new j3(b5?[6,6,0]:"Ungroup Layers",this);a.data={R:b.Mu,Xn:X.U.slice(0),pG:fH,fE:X.Y.slice(0),$b:ee};
X.O_(a);this._j(a.data,X)}else{var L=X.Sh(),e_=js.get([0,4])+" ";L.YY(e_+(_.zB.BA(X,e_)+1));L.JY="pass";
if(b5){if(X.Y.length==1){alert("Select more than one layer for a clipping group.");return}L.YY("<Clip Group>")}if(W.vP)L.YY(W.vP);
if(W.As!=null)L.add.lclr=W.As;L.add.lsct=X.Y.length==1?e5.B2:e5.Fn;L.Z9=24;var jD=X.rS(),kX=X.Vs();if(kX.length==0)return;
kX.sort(function(a,hs){return a-hs});var fH=[];for(var N=0;N<X.U.length;N++)if(kX.indexOf(N)==-1)fH.push(X.U[N]);
var fx=X.Y[X.Y.length-1]-kX.length;fH.splice(fx+1,0,jD);for(var N=0;N<kX.length;N++)fH.splice(fx+2+N,0,X.U[kX[N]]);
fH.splice(fx+2+kX.length,0,L);if(b5){var dF=fx+kX.length+1;fH[dF]=fH[dF].P();fH[dF].D7=!0}var a=new j3(b5?[6,6,0]:[6,9],this);
a.data={R:b.Mu,Xn:X.U.slice(0),pG:fH,fE:X.Y.slice(0),$b:[fH.indexOf(L)]};X.O_(a);this._j(a.data,X);var F={yx:"make",sy:!0};
F.Og={classID:"Mk",null:j0.O8("layerSection"),From:j0.O8("Lyr",!0),Usng:{t:"Objc",v:{classID:"layerSection",Nm:{t:"TEXT",v:L.getName()}}}};
this.track(F)}}if(U==b.atY){if(X.Y.length!=1)return;var i=X.Y[0],iD=D;if(X.U[i].Jx()==null&&!k.D(bu.p7)){U=b.PU;
W.Bz=X.d?!iD?"RvlS":"HdSl":!iD?"RvlA":"HdAl"}else{U=b.Dw;W.a8y=!0}}if(U==b.PU){if(X.Y.length!=1)return;
var i=X.Y[0],L=X.U[i];if(L.add.vmsk&&L.BD==null)L.Ae(X);var k4=L.Jx();if(k4==null||W.ao_){var a=new j3(W.vP?W.vP:[6,21],this),aD=new b.pj(X.depth),iq=W.Bz,ab=iq=="RvlS"||iq=="HdSl";
if(iq=="RvlS"||iq=="HdAl"||iq=="Trns")aD.color=0;if(ab){aD.c=X.d.c.slice(0);aD.S=X.d.S.P();if(iq=="HdSl")g.i5(aD.c)}if(iq=="Trns"){aD.S=L.S.P();
aD.c=g.j(L.S.C());g.u6(L.buffer,aD.c,3)}a.data={R:b.UM,VG:[i,k4,aD],tD:ab?[X.d,null]:null,af6:iq=="Trns"};
X.O_(a);this._j(a.data,X);X.U[i].pw=1;this.track({yx:"make",Og:{__name:"Make",classID:"Mk",Nw:{t:"type",v:{classID:"Chnl"}},At:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Msk"}}]},Usng:{t:"enum",v:{UsrM:iq}}}})}}else if(U==b.awF){var eE=X.U[W.src],bQ=X.U[W.Vi],a=new j3([6,21],this),k5=eE.Jx(),a5=bQ.Jx(),at=[W.src,k5,null,W.Vi,a5,k5];
if(D||m){var iU=k5.P();if(D)at=[W.Vi,a5,iU];else at[5]=iU;if(m){g.i5(iU.c);iU.color=255-iU.color}}a.data={R:b.UM,VG:at};
X.O_(a);this._j(a.data,X)}if(U==b.nu){if(X.Y.length!=1)return;var i=l,dy=X.U[i].Jx();if(dy!=null){var a=new j3([6,22],this);
a.data={R:b.UM,VG:[l,dy,null]};X.O_(a);this._j(a.data,X)}}if(U==b.OA){var es=X.U.slice(0),g$=K.P(),gi=g$.Jx();
g.Jd(gi.sA(g$.S),g$.S,g$.buffer,g$.S);_.zB.nb(X,g$);g$.xX();X.U[X.Y[0]]=g$;var a=new j3([5,8],this);
a.data={R:b.Mu,Xn:es,pG:X.U.slice(),fE:X.Y.slice(0),$b:X.Y.slice(0)};X.O_(a);this._j(a.data,X)}if(U==b.Q1){if(X.Y.length!=1)return;
var i=X.Y[0];if(X.U[i].Q2(X).BD==null){var a=new j3([6,45],this);a.data={R:U,B:i,BD:new b.pj(X.depth)};
X.O_(a);this._j(a.data,X)}}if(U==b.EW){if(X.Y.length!=1)return;var i=X.Y[0];if(X.U[i].Q2(X).BD!=null){var a=new j3([6,46],this);
a.data={R:U,B:i,BD:X.U[i].Q2(X).BD};X.O_(a);this._j(a.data,X)}}if(U==b.tf){if(W.src==null&&X.Y.length!=1)return;
if(W.src!=null)l=W.src;if(X.U[l].SF()){var a=new j3([6,47],this),fE=JSON.stringify(X.U[l].add.SoLd),d5=JSON.parse(fE);
delete d5.filterFX;a.data={R:b.kM,d6:[{q5:l,mg:[fE,JSON.stringify(d5)],kj:[X.U[l].Q2(X),null]}]};X.O_(a);
this._j(a.data,X)}}if(U==b.Dw){if(X.Y.length!=1)return;if(K.add.vmsk==null){var a=new j3([6,23],this),i_=X.Yb(),hn=i_[1],i_=i_[0],aD,fV;
if(W.a8y&&hn.length!=0){var ak=i_[hn[0]].add;aD=ak.vmsk.P();fV=ak.vogk}else{aD=new b.jY;fV=[];aD.G[1].all=W.aIZ?0:1}a.data={R:U,B:l,aEb:!0,BD:aD,BI:JSON.stringify(fV),Cs:null};
if(K.Nj()){a.data.Cs=Stroke.Cs.wy(!0)}X.O_(a);this._j(a.data,X)}}if(U==b.EB){var eE=X.U[W.src],bQ=X.U[W.Vi];
if(bQ.add.vmsk)return;var a=new j3([6,23],this),cA=eE.add.vmsk;a.data={B:W.Vi,aEb:eE.LJ,BD:cA.P(),BI:JSON.stringify(eE.add.vogk),Cs:eE.add.vstk?JSON.stringify(eE.add.vstk):null};
if(D){a.data.R=b.Dw}else{a.data.R=U;a.data.src=W.src;a.data.Vi=W.Vi}X.O_(a);this._j(a.data,X)}if(U==b.ic||U==b.xU){if(X.Y.length!=1)return;
var L=X.U[l],cA=L.add.vmsk;if(cA!=null){var ds=U==b.xU,a=new j3(ds?[6,8]:[6,24],this);a.data={R:b.ic,B:l,aEb:L.LJ,BD:cA,BI:JSON.stringify(L.add.vogk),Cs:L.add.vstk?JSON.stringify(L.add.vstk):null};
if(ds){a.data.$a=cA.Jx(L.add.vstk);a.data.$a.Qw=!1}X.O_(a);this._j(a.data,X)}}if(U==b.uI){var a=new j3("Metadata",this);
a.data={R:U,Xd:JSON.stringify(X.qq),Rz:JSON.stringify(W.Rz)};X.O_(a);this._j(a.data,X)}if(U==b.ri){var jM=W.Vi?W.Vi:X,ju=jM.name,k7=W._+"."+ju.split(".").pop();
if(ju==k7)return;var a=new j3([6,37],this);a.data={R:U,ayF:ju,vP:k7};if(W.a0p!=!0)jM.O_(a);this._j(a.data,jM)}if(U==b.QC&&W.w7.endsWith("makeframes")){var bl=[],fs=W.w7.startsWith("make");
for(var N=0;N<X.Y.length;N++){var u=X.Y[N],L=X.U[u],cX=L.getName(),fj=cX.startsWith("_a_");if(fs==fj||L.add.lsct==e5.dx)continue;
var hK=fs?"_a_"+cX:cX.slice(3);bl.push([u,cX,hK,L.add.lnsr,null])}var a=new j3([6,37],this);a.data={R:b.nk,rl:bl};
X.O_(a);this._j(a.data,X)}if(U==b.nk){var ju=K.getName(),k7=W.name.substring(0,255);if(ju==k7)return;
var a=new j3([6,37],this);a.data={R:U,rl:[[l,ju,k7,K.add.lnsr,null]]};X.O_(a);this._j(a.data,X);this.track(j0.dD("Nm",{t:"TEXT",v:k7}))}if(U==b.ZU){var iQ=X.Vs(),dJ=[],a4=[];
for(var N=0;N<iQ.length;N++){dJ.push(X.U[iQ[N]].add.lclr);a4.push(W.a6g)}var a=new j3([6,38],this);a.data={R:U,U:iQ,aF3:dJ,As:a4};
X.O_(a);this._j(a.data,X)}if(U==b.vv){var a=X.history[X.Wb];if(a!=null&&a.J==this&&a.data.R==U&&a.data.B==W.y5&&a.data.O4.CY==W.NV.CY)a.data.O4=W.NV;
else{a=new j3("Mask Density / Feather",this);a.data={R:U,B:W.y5,bG:X.U[W.y5].o$(W.NV.CY),O4:W.NV};X.O_(a)}this._j(a.data,X)}if(U==b.X5){var i5=JSON.stringify(W._),eZ=JSON.parse(i5),a=X.history[X.Wb];
if(a!=null&&a.J==this&&a.data.R==U&&a.data.kn==W.kn&&a.data.Jp.join(",")==W.Jp.join(",")){for(var N=0;
N<W.Jp.length;N++)a.data.aCw[N]=eZ;if(a.data.Og&&eZ.O5!=0)_.zB.y7(eZ.bE,a.data.Og.T.v,eZ.O5-1)}else{a=new j3([11,6],this);
a.data={R:U,Jp:W.Jp,kn:W.kn,ain:[],aCw:[]};var d7=!1;for(var N=0;N<W.Jp.length;N++){var u=W.Jp[N],L=X.U[u],dD=W.kn?kE.yB(L.add):g.N(L.add.vstk);
a.data.ain.push(dD);a.data.aCw.push(eZ);if(JSON.stringify(dD)!=i5)d7=!0}if(!d7)return;X.O_(a);if(W.kn&&eZ.O5>0){var k_=a.data.Og={classID:"setd",null:j0.O8("contentLayer",!0),T:{t:"Objc",v:{}}};
_.zB.y7(eZ.bE,k_.T.v,eZ.O5-1);this.track({yx:"set",Og:k_})}}if(W.kn&&eZ.O5==3)X.cB(dx.yN(eZ.bE.Ptrn.v,B.Ix));
if(!W.kn){var aC=eZ.strokeStyleContent.v;if(aC.classID==kE.Cs.Y_[2])X.cB(dx.yN(aC.Ptrn.v,B.Ix))}this._j(a.data,X)}if(U==b.I5){var dN=B.Hr,bj=[];
for(var N=0;N<X.Y.length;N++){var u=X.Y[N],L=X.U[u],kZ=L.add.vstl;if(kZ==null)continue;var dD=JSON.stringify(kZ);
for(var aH in dN)kZ[aH]=dN[aH];var eZ=JSON.stringify(kZ);if(dD==eZ)continue;bj.push([u,dD,eZ])}if(bj.length!=0){var H=X.d2();
if(H&&H.J==this&&H.data.R==U&&H.data.x_.length==bj.length){var cI=!0;for(var N=0;N<bj.length;N++)if(bj[N][0]!=H.data.x_[N][0])cI=!1;
if(cI){for(var N=0;N<bj.length;N++)H.data.x_[N][2]=bj[N][2];X.I_();return}}var a=new j3("Style Change",this);
a.data={R:U,x_:bj};X.O_(a);X.I_()}}};_.zB.lZ=function(W,q,X,k,B,U){var l=W.U[X],K=[];if(B)K=W.U.slice(0);
else for(var N=0;N<W.U.length;N++)if(q.indexOf(N)==-1)K.push(W.U[N]);var D=K.indexOf(l);if(U&&l.S3()&&l.add.lsct==e5.Fn)D-=W.wj(X).length-1;
var m=[];for(var N=0;N<q.length;N++){var Y=D+(k?0:1)+N,a=B?B[N]:W.U[q[N]];K.splice(Y,0,a);m.push(Y)}return[K,m,D]};
_.zB.y7=function(W,q,X){var k=[kE.nV,kE.N2,kE.W0][X];if(q.classID==null)q.classID=["solidColorLayer","gradientLayer","patternLayer"][X];
for(var N=0;N<k.length;N++)if(W[k[N]])q[k[N]]=g.N(W[k[N]])};_.zB.aHp=function(W){var q=new b.pj(W.depth);
if(W.d!=null){q.color=0;q.c=W.d.c.slice(0);q.S=W.d.S.P()}return q};_.zB.$A=function(W,q,X,k,B){var U=k._Y,l=X._Y,K=k.mC/X.mC,D=U.r/l.r,m=U.$/l.$,Y=U.r/2,a=U.$/2;
D/=K;m/=K;var p=g.b.Lw(U).n;for(var N=0;N<W.U.length;N++){var M=W.U[N],x=M.add.SoLd;if(x==null||x.Idnt.v!=q)continue;
var R=D!=1||m!=1;if(R){var y=_.Gz.rQ(x.nonAffineTransform),s=g.F.b6(y,U),F=new ka;F.translate(-Y,-a);
F.scale(D,m);F.translate(Y,a);var E=g.F.xY(s,g.F.af(F)),o=p.slice(0);g.F.M(E,o);x.Trnf=_.Gz.If(o);x.nonAffineTransform=_.Gz.If(o);
if(g.NP.GE(x.quiltWarp.v)){var G=x.quiltWarp.v.bounds.v;G.Rght.v.val=U.r;G.Btom.v.val=U.$}}M.uz(W,null,B,!R)}W.I_()};
_.zB.a9H=function(W,q,X){q.color=255-q.color;g.i5(q.c);q.Uf=!0;W.Ae(X);X.I_()};_.zB.prototype.tG=function(W,q){var X=W.R,k=q.U[W.B];
q.qg=!0;if(X==b.dy){var N=q.add.lnk2.indexOf(q.gW(W.id));if(N==-1)throw"e";q.add.lnk2[N]=W.asg;_.zB.$A(q,W.id,W.KM,W.asg)}if(X==b.oy){k.add.SoLd.Impr.v.classID=W.bG;
k.uz(q)}if(X==b.vb){var B=JSON.parse(W.Jp);for(var N=0;N<B.length;N++)q.U[B[N]].JY=W.$c[N];q.I_()}if(X==b.s_){var B=JSON.parse(W.Jp);
for(var N=0;N<B.length;N++)q.U[B[N]].zO=W.$c[N];q.I_()}if(X==b.pc){var B=JSON.parse(W.Jp);for(var N=0;
N<B.length;N++)if(q.U[B[N]].add.lsct!=e5.dx)q.U[B[N]].add.lspf=W.$c[N]}if(X==b.E4){var U=W.vZ,l=W.aqX;
delete k.add[U[0]];if(l[0]!="----")k.add[l[0]]=l[1]}if(X==b.RL){k.add.iOpa=W.$c;q.I_()}if(X==b.GW){for(var N=0;
N<W.Jp.length;N++){var K=q.U[W.Jp[N]];K.ZR(!K.P$())}q.I_()}if(X==b.Bo){var D=k.Jx();D.isEnabled=!D.isEnabled;
k.Ae(q);q.I_()}if(X==b.pR){var D=k.Q2(q).BD;D.isEnabled=!D.isEnabled;k.I_();q.I_()}if(X==b.lO){var D=k.add.vmsk;
D.isEnabled=!D.isEnabled;if(!D.isEnabled){if(k.$a){k.BD=k.$a;k.$a=null}else k.BD=null}else if(k.BD){k.$a=k.BD;
k.BD=null}k.Ae(q);q.I_()}if(X==b.W7){k.Oa=!k.Oa;q.I_()}if(X==b.hD){k.add.lmfx.masterFXSwitch.v=!k.add.lmfx.masterFXSwitch.v;
k.kJ.OG=!0;q.I_()}if(X==b.Co){k.add.SoLd.filterFX.v.enab.v=!k.add.SoLd.filterFX.v.enab.v;k.f0(q);q.I_()}if(X==b.tm){var m=W.index,Y=k.add.lmfx[kE.m1[m[0]]].v[m[1]].v;
Y.enab.v=!Y.enab.v;k.kJ.OG=!0;q.I_()}if(X==b.le){var a=q.U[W.vW],p=q.U[W.wU],M=W.aL7,x=W.aDy;if(M=="")delete a.add.lmfx;
else a.add.lmfx=JSON.parse(M);if(x=="")delete p.add.lmfx;else p.add.lmfx=JSON.parse(x);a.kJ.OG=!0;p.kJ.OG=!0;
q.I_()}if(X==b.pD){var R=k.add.SoLd.filterFX.v.filterFXList.v[W.index].v;R.enab.v=!R.enab.v;k.f0(q);
q.I_()}if(X==b.a7t){k.add.SoLd.filterFX.v=g.N(W.axA);k.f0(q);q.I_()}if(X==b.Wj){var D=k.Jx();D.$P=!D.$P}if(X==b.ve){var D=k.add.vmsk;
D.$P=!D.$P}if(X==b._f){var y=JSON.parse(W.acL);q.$y=y[0];q.dp=y[1]}if(X==b._U){var y=W.M7;for(var N=0;
N<y.length;N+=2){var s=y[N],K=s>=0?q.U[s]:q.RM[-1-s];K.add.vogk=JSON.parse(y[N+1]);g.BI.pp(K.add.vogk,K.add.vmsk);
if(s>=0)K.Ae(q)}q.I_()}if(X==b.sU){k.add.artb=JSON.parse(W.agi);q.I_();_.wW.sd(q,W)}if(X==b.zW){q.d=W.UQ;
if(W.aoj)q.f.K7=W.aoj.slice(0);q.RH=W.M7.slice(0);q.TC=W.yQ.slice(0);q.R2=q.gd=!0}if(X==b.OI){k.Es=!k.Es}if(X==b.t9){var F=W.aiN;
for(var N=0;N<F.length;N++)q.U[N].iN=F[N]}if(X==b.Mu){if(W.WB)_.U6.c8(q,q.Y,null,-W.WB.x,-W.WB.y);if(W.fE)q.Y=W.fE;
if(W.tD)q.d=W.tD[0];q.sh=null;q.I_();_.wW.sd(q,W);q.UR(W.Xn);if(W.ls)q.Ov(W.ls[0])}if(X==b.UM){for(var N=0;
N<W.VG.length;N+=3)_.zB.nb(q,q.U[W.VG[N]],W.VG[N+1]);if(W.tD){var E=W.tD[0];if(E==null)delete q.d;else q.d=E}if(W.af6){var K=q.U[W.VG[0]];
g.fP(W.VG[2].c,K.buffer,3)}}if(X==b.Q1){k.Q2(q).BD=null;k.I_();q.I_()}if(X==b.EW){k.Q2(q).BD=W.BD;k.I_();
q.I_()}if(X==b.kM){_.zB.avf(q,W.d6,0)}if(X==b.Dw){_.zB.Ar(q,k,!0)}if(X==b.EB){_.zB.Ar(q,q.U[W.Vi],W.BD.isEnabled);
_.zB.eq(q,q.U[W.src],W)}if(X==b.ic){if(W.$a)_.zB.nb(q,k,null);_.zB.eq(q,k,W)}if(X==b.uI){q.qq=JSON.parse(W.Xd)}if(X==b.ri){q.name=W.ayF}if(X==b.nk){for(var N=0;
N<W.rl.length;N++){var o=W.rl[N],K=q.U[o[0]];K.YY(o[1]);if(o[3])K.add.lnsr=o[3];else delete K.add.lnsr}}if(X==b.ZU){for(var N=0;
N<W.U.length;N++)q.U[W.U[N]].add.lclr=W.aF3[N]}if(X==b.X5){var G=W.ain;for(var N=0;N<W.Jp.length;N++){var K=q.U[W.Jp[N]],d=G[N];
if(!W.kn)K.add.vstk=g.N(d);else kE.gD(K.add,g.N(d));K.x9(q)}q.I_()}if(X==b.I5){for(var N=0;N<W.x_.length;
N++){var u=W.x_[N];q.U[u[0]].add.vstl=JSON.parse(u[1])}q.I_()}if(X==b.vv){k.a7M(W.bG);k.Ae(q);q.I_()}q.gd=!0};
_.zB.prototype._j=function(W,q){var X=W.R,k=q.U[W.B];q.qg=!0;if(X==b.dy){var N=q.add.lnk2.indexOf(q.gW(W.id));
if(N==-1)throw"e";q.add.lnk2[N]=W.KM;_.zB.$A(q,W.id,W.asg,W.KM)}if(X==b.oy){k.add.SoLd.Impr.v.classID=W.O4;
k.uz(q)}if(X==b.vb){var B=JSON.parse(W.Jp);for(var N=0;N<B.length;N++)q.U[B[N]].JY=W.O4;q.I_()}if(X==b.s_){var B=JSON.parse(W.Jp);
for(var N=0;N<B.length;N++)q.U[B[N]].zO=W.O4;q.I_()}if(X==b.pc){var B=JSON.parse(W.Jp);for(var N=0;N<B.length;
N++)if(q.U[B[N]].add.lsct!=e5.dx)q.U[B[N]].add.lspf=W.O4[N]}if(X==b.E4){var U=W.aqX,l=W.vZ;delete k.add[U[0]];
if(l[0]!="----")k.add[l[0]]=l[1]}if(X==b.RL){k.add.iOpa=W.O4;q.I_()}if(X==b.GW){for(var N=0;N<W.Jp.length;
N++){var K=q.U[W.Jp[N]];K.ZR(!K.P$())}q.I_()}if(X==b.Bo){var D=k.Jx();D.isEnabled=!D.isEnabled;k.Ae(q);
q.I_()}if(X==b.pR){var D=k.Q2(q).BD;D.isEnabled=!D.isEnabled;k.I_();q.I_()}if(X==b.lO){var D=k.add.vmsk;
D.isEnabled=!D.isEnabled;if(!D.isEnabled){if(k.$a){k.BD=k.$a;k.$a=null}else k.BD=null}else if(k.BD){k.$a=k.BD;
k.BD=null}k.Ae(q);q.I_()}if(X==b.W7){k.Oa=!k.Oa;q.I_()}if(X==b.hD){k.add.lmfx.masterFXSwitch.v=!k.add.lmfx.masterFXSwitch.v;
k.kJ.OG=!0;q.I_()}if(X==b.Co){k.add.SoLd.filterFX.v.enab.v=!k.add.SoLd.filterFX.v.enab.v;k.f0(q);q.I_()}if(X==b.tm){var m=W.index,Y=k.add.lmfx[kE.m1[m[0]]].v[m[1]].v;
Y.enab.v=!Y.enab.v;k.kJ.OG=!0;q.I_()}if(X==b.le){var a=q.U[W.vW],p=q.U[W.wU],M=W.a7v,x=W.aCQ;if(M=="")delete a.add.lmfx;
else a.add.lmfx=JSON.parse(M);if(x=="")delete p.add.lmfx;else p.add.lmfx=JSON.parse(x);a.kJ.OG=!0;p.kJ.OG=!0;
q.I_()}if(X==b.pD){var R=k.add.SoLd.filterFX.v.filterFXList.v[W.index].v;R.enab.v=!R.enab.v;k.f0(q);
q.I_()}if(X==b.a7t){k.add.SoLd.filterFX.v=g.N(W.amc);k.f0(q);q.I_()}if(X==b.Wj){var D=k.Jx();D.$P=!D.$P}if(X==b.ve){var D=k.add.vmsk;
D.$P=!D.$P}if(X==b._f){var y=JSON.parse(W.awB);q.$y=y[0];q.dp=y[1]}if(X==b._U){var y=W.Iq;for(var N=0;
N<y.length;N+=2){var s=y[N],K=s>=0?q.U[s]:q.RM[-1-s];K.add.vogk=JSON.parse(y[N+1]);g.BI.pp(K.add.vogk,K.add.vmsk);
if(s>=0)K.Ae(q)}q.I_()}if(X==b.sU){k.add.artb=JSON.parse(W.xK);q.I_();_.wW.uF(q,W)}if(X==b.zW){q.d=W.o_;
if(W.aD$)q.f.K7=W.aD$.slice(0);q.RH=W.Iq.slice(0);q.TC=W.RR.slice(0);q.R2=q.gd=!0}if(X==b.OI){k.Es=!k.Es}if(X==b.t9){var F=W.at9;
for(var N=0;N<F.length;N++)q.U[N].iN=F[N]}if(X==b.Mu){q.aGU();var E=W.pG,o=0,G;for(var N=0;N<E.length;
N++){var K=E[N],d=K.add.lsct;if(d==e5.dx)o++;else if(d==e5.B2||d==e5.Fn)o--;if(K.add.artb&&o!=0)G="Artboards can not be inside folders."}if(G){q.history.pop();
q.Wb--;alert(G);return}if(W.$b)q.Y=W.$b;if(W.tD)q.d=W.tD[1];q.sh=null;q.I_();q.UR(W.pG);_.wW.uF(q,W);
if(W.WB)_.U6.c8(q,q.Y,null,W.WB.x,W.WB.y);if(W.ls)q.Ov(W.ls[1])}if(X==b.UM){for(var N=0;N<W.VG.length;
N+=3)_.zB.nb(q,q.U[W.VG[N]],W.VG[N+2]);if(W.tD){var u=W.tD[1];if(u==null)delete q.d;else q.d=u}if(W.af6){var K=q.U[W.VG[0]],r=K.buffer;
for(var N=0;N<r.length;N+=4)r[N+3]=255}}if(X==b.Q1){k.Q2(q).BD=W.BD;k.pw=0;k.I_();q.I_()}if(X==b.EW){k.Q2(q).BD=null;
k.pw=0;k.I_();q.I_()}if(X==b.kM){_.zB.avf(q,W.d6,1)}if(X==b.Dw){_.zB.eq(q,k,W)}if(X==b.EB){_.zB.Ar(q,q.U[W.src],W.BD.isEnabled);
_.zB.eq(q,q.U[W.Vi],W)}if(X==b.ic){_.zB.Ar(q,k,W.BD.isEnabled);if(W.$a)_.zB.nb(q,k,W.$a)}if(X==b.uI){q.qq=JSON.parse(W.Rz)}if(X==b.ri){q.name=W.vP}if(X==b.nk){for(var N=0;
N<W.rl.length;N++){var v=W.rl[N],K=q.U[v[0]];K.YY(v[2]);if(v[4])K.add.lnsr=v[4];else delete K.add.lnsr}}if(X==b.ZU){for(var N=0;
N<W.U.length;N++)q.U[W.U[N]].add.lclr=W.As[N]}if(X==b.X5){var c=W.aCw;for(var N=0;N<W.Jp.length;N++){var K=q.U[W.Jp[N]],V=c[N];
if(!W.kn)K.add.vstk=g.N(V);else kE.gD(K.add,g.N(V));K.x9(q)}q.I_()}if(X==b.I5){for(var N=0;N<W.x_.length;
N++){var j=W.x_[N];q.U[j[0]].add.vstl=JSON.parse(j[2])}q.I_()}if(X==b.vv){k.a7M(W.O4);k.Ae(q);q.I_()}q.gd=!0};
_.zB.BA=function(W,q){var X=0;for(var N=0;N<W.U.length;N++){var k=W.U[N].getName();if(k.startsWith(q)){var B=k.slice(q.length).trim(),U=parseInt(B);
if(!isNaN(U)&&U+""==B&&U>X)X=U}}return X};_.zB.avf=function(W,q,X){for(var N=0;N<q.length;N++){var k=q[N],B=W.U[k.q5];
if(k.mg){B.add.SoLd=JSON.parse(k.mg[X])}if(k.kj){if(k.kj[1-X]!=null)W.ez(k.kj[1-X]);if(k.kj[X]!=null)W.ik(k.kj[X]);
else B.pw=0}B.uz(W)}};_.zB.acJ=function(W,q){var X=W.HZ,k=W.S.P();if(X!=null&&(X.x!=q.r||X.y!=q.$)){k.x=Math.floor((q.r-k.r)/2);
k.y=Math.floor((q.$-k.$)/2)}else if(X==null){var B=new dU(0,0,q.r,q.$),U=q.l4();if(U!=-1)B=q.U[U].La();
k.x+=B.x;k.y+=B.y}return k};_.zB.a7d=function(W,q){if(q.$a)q.$a=null;else q.BD=null;q.Ae(W);W.I_();q.pw=0};
_.zB.nb=function(W,q,X){var k=q.Jx();if(k==null&&X==null)return;if(k)_.zB.a7d(W,q);if(X==null)return;
if(q.BD)q.$a=X;else q.BD=X;q.Ae(W);W.I_()};_.zB.Ar=function(W,q,X){if(q.$a&&X){q.BD=q.$a;q.$a=null}else if(q.BD&&X){q.BD=null}delete q.add.vogk;
delete q.add.vstk;delete q.add.vmsk;q.Ae(W);q.LJ=!1;W.sh=[];W.I_()};_.zB.eq=function(W,q,X){q.add.vogk=JSON.parse(X.BI);
if(X.Cs)q.add.vstk=JSON.parse(X.Cs);else delete q.add.vstk;q.add.vmsk=X.BD.P();if(q.BD&&q.add.vmsk.isEnabled)q.$a=q.BD;
q.Ae(W);q.LJ=X.aEb;W.sh=[W.U.indexOf(q)];W.Lf=[];W.I_()};_.Fx=function(){_.CB.call(this,"Layer Styles",_.Rd);
this.A1=null;this.Br=null;this.Ac=null;this.iv=[];this.ln=null};_.Fx.prototype=new _.CB;_.Fx.prototype.s4=function(W,q,X,k,B){var U=W.B;
if(U==null)U=X.Y[0];var l=X.U[U],K=W.bT;if(this.A1==null){this.Ac=_.Fx.K5(X,l);this.A1=JSON.stringify(this.Ac);
if(l.add.lmfx)this.Br=JSON.stringify(l.add.lmfx)}if(l.add.lmfx==null){l.add.lmfx=JSON.parse(kE.default);
for(var N=0;N<kE.order.length;N++)l.add.lmfx[kE.m1[N]]={t:"VlLs",v:[]}}if(W.R=="scaleeffects"){if(W._=="confirm"||W._=="cancel"){this.s4({R:W._},q,X,k,B);
return}l.add.lmfx=JSON.parse(this.Br);dx.Bs(l.add.lmfx,W._/100)}else if(W.R=="changeprop"){var D=null;
if(K!=0){var m=this.iv[K[0]];if(m==null)m=kE.iv[K[0]];m=JSON.parse(m);var Y=l.add.lmfx[kE.m1[K[0]]].v;
if(Y[K[1]]==null)Y[K[1]]={t:"Objc",v:m};D=Y[K[1]].v;for(var a in m)if(D[a]==null)D[a]=m[a]}if(W.R=="changeprop"){if(K==0){this.Ac[W.kG].v=W._;
_.Fx.Lz(X,l,this.Ac)}else if(W.kG=="lagl"){if(D.uglg&&D.uglg.v){X.vQ(W._.val);this.Ac.gagl.v.val=X.Fi()}else D[W.kG].v=W._}else if(W.kG=="Lald"){if(D.uglg.v){X.nr(W._.val);
this.Ac.globalAlt=X.lK()}else D[W.kG].v=W._}else if((K[0]==3||K[0]==8)&&(W.kG=="Clr"||W.kG=="Grad")){if(W.kG=="Clr"){D.Clr={t:"Objc",v:W._};
delete D.Grad}if(W.kG=="Grad"){D.Grad={t:"Objc",v:W._};delete D.Clr}}else{D[W.kG].v=W._}if(K!=0)this.iv[K[0]]=JSON.stringify(D)}if(K!=0)if(D.Ptrn)X.cB(dx.yN(D.Ptrn.v,B.Ix))}else if(W.R=="setstl"){var p=W._.Lefx;
if(p)dx.a1k(p,X,B.Ix);dx.acc(W._,l,null,X);this.Ac=_.Fx.K5(X,l)}else if(W.R=="st_dupsingle"){var M=l.add.lmfx[kE.m1[W.SE[0]]].v;
if(M[W.SE[1]]==null)return;var x=g.N(M[W.SE[1]]);M.splice(W.SE[1],0,x)}else if(W.R=="st_movsingle"){var R=W.SE[1],M=l.add.lmfx[kE.m1[W.SE[0]]].v;
if(M[W.SE[1]]==null)return;var y=Math.max(0,Math.min(M.length-1,R+W.aDt)),s=M[y];M[y]=M[R];M[R]=s}else if(W.R=="cancel"){if(this.Br==null)delete l.add.lmfx;
else l.add.lmfx=JSON.parse(this.Br);_.Fx.Lz(X,l,JSON.parse(this.A1));this.A1=null;this.Br=null}else if(W.R=="confirm"){var F=JSON.stringify(l.add.lmfx),E=new j3([11,6],this);
E.data={U:[U],a9r:[this.Br],axB:[F],aK4:[this.A1],amk:[JSON.stringify(this.Ac)]};X.O_(E);this.A1=null;
this.Br=null;if(F!=null){var o=JSON.parse(F);aK.ST(o);o.classID="Lefx";delete o.masterFXSwitch;var G=new ip(S.E.dq);
G.wV=!0;G.data={yx:"set",sy:!0};var d=j0.O8("Lyr",!0);d.v.splice(0,0,{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}});
G.data.Og={__name:"Set",classID:"setd",null:d,T:{t:"Objc",v:o}};q.T(G)}}else if(W.R=="st_copy"){this.ln=[this.A1,this.Br];
this.A1=null;this.Br=null}else if(W.R=="st_paste"||W.R=="st_clear"){if(W.R=="st_paste"&&this.ln==null)return;
var u=W.B!=null?[W.B]:X.Y.slice(0),r=[],v=[],c=[],V=[];for(var N=0;N<u.length;N++){var l=X.U[u[N]],j=_.Fx.K5(X,l);
r.push(l.add.lmfx?JSON.stringify(l.add.lmfx):null);c.push(JSON.stringify(j));if(W.R=="st_paste"){v.push(this.ln[1]);
V.push(this.ln[0])}else{v.push(null);j.lrMd.v=0;j.Opct.v.val=100;j.iOpa.v.val=100;j.blIf={v:[]};for(var Q=0;
Q<10;Q++)j.blIf.v.push(0,0,255,255);V.push(JSON.stringify(j))}}var E=new j3([11,6],this);E.data={U:u,a9r:r,axB:v,aK4:c,amk:V};
this._j(E.data,X);X.O_(E);this.A1=null;this.Br=null}else{var H=this.Ac,o=null;if(W.R=="st_delsingle"){o=JSON.parse(this.Br);
o[kE.m1[W.SE[0]]].v.splice(W.SE[1],1);o=JSON.stringify(o)}if(o==null)delete l.add.lmfx;else l.add.lmfx=JSON.parse(o);
if(H!=null)_.Fx.Lz(X,l,H);var E=new j3([11,6],this);E.data={U:[W.B],a9r:[this.Br],axB:[o],aK4:[this.A1],amk:[JSON.stringify(H)]};
X.O_(E);this.A1=null;this.Br=null}l.kJ.OG=!0;X.qg=!0;X.I_()};_.Fx.K5=function(W,q){if(q.add.iOpa==null)q.add.iOpa=255;
if(q.add.brst==null)q.add.brst=[1,1,1];var X=q.S3()?["pass"].concat(jm.eB):jm.eB;return{lrMd:{v:X.indexOf(q.JY)},Opct:{v:{type:"#Prc",val:Math.round(q.zO*100/255)},t:"UntF"},iOpa:{v:{type:"#Prc",val:Math.round(q.add.iOpa*100/255)},t:"UntF"},blIf:{v:q.EU.slice(0)},brst:{v:q.add.brst},gagl:{t:"UntF",v:{type:"#Ang",val:W.Fi()}},globalAlt:W.lK(),isFolder:q.S3()}};
_.Fx.Lz=function(W,q,X){var k=q.S3()?["pass"].concat(jm.eB):jm.eB;q.JY=k[X.lrMd.v];q.zO=Math.round(X.Opct.v.val*255/100);
q.add.iOpa=Math.round(X.iOpa.v.val*255/100);q.EU=X.blIf.v.slice(0);q.add.brst=X.brst.v.slice(0);W.vQ(X.gagl.v.val);
W.nr(X.globalAlt)};_.Fx.prototype.tG=function(W,q){for(var N=0;N<W.U.length;N++){var X=q.U[W.U[N]],k=W.a9r[N];
if(k==null)delete X.add.lmfx;else X.add.lmfx=JSON.parse(k);_.Fx.Lz(q,X,JSON.parse(W.aK4[N]));X.kJ.OG=!0}q.qg=!0;
q.I_()};_.Fx.prototype._j=function(W,q){for(var N=0;N<W.U.length;N++){var X=q.U[W.U[N]],k=W.axB[N];if(k==null)delete X.add.lmfx;
else X.add.lmfx=JSON.parse(k);_.Fx.Lz(q,X,JSON.parse(W.amk[N]));X.kJ.OG=!0}q.qg=!0;q.I_()};_.ds=function(){_.CB.call(this,"Layer Comps",_.Ki)};
_.ds.prototype=new _.CB;_.ds.prototype.s4=function(W,q,X,k){var B=g.N(X.iV),U=g.N(X.iV),l=null,K=null,D=null,m=-1,Y=!1;
if(W.R=="delLC"){var a=_.ds.gg(X.iV,W.bT),p=X.iV.lastAppliedComp?X.iV.lastAppliedComp.v:0;U.list.v.splice(a,1);
if(p==W.bT)delete U.lastAppliedComp;l="Delete Layer Comp"}if(W.R=="editLC"){var a=_.ds.gg(X.iV,W.bT),M=U.list.v[a].v;
if(W.vP!=null)M.Nm.v=W.vP;if(W.ann!=null){var x=W.ann,R=M.capturedInfo.v,y=R&(1<<x)-1;R=R>>x;if((R&1)==1)R--;
else R++;M.capturedInfo.v=(R<<x)+y}l="Layer Comp properties"}if(W.R=="setLC"){_.ds.$i(X);if(W.bT==0)delete U.lastAppliedComp;
else U.lastAppliedComp={t:"long",v:W.bT};l="Switch Layer Comp";Y=!0}if(W.R=="updLC"){_.ds.$i(X);K=_.ds.ahx(X,W.bT);
D=_.ds.rM(X,W.bT);U.lastAppliedComp={t:"long",v:W.bT};l="Update Layer Comp";m=W.bT;Y=!0}if(W.R=="addLC"){_.ds.$i(X);
var s=1;for(var N=0;N<U.list.v.length;N++)s=Math.max(s,U.list.v[N].v.compID.v)+1;s+=Math.floor(Math.random()*1e4);
var F={t:"Objc",v:{classID:"Comp",Nm:{t:"TEXT",v:"New Comp "+(U.list.v.length+1)},compID:{t:"long",v:s},capturedInfo:{t:"long",v:7}}};
U.list.v.push(F);U.lastAppliedComp={t:"long",v:s};l="New Layer Comp";var E=_.ds.rM(X,s);_.ds.$s(X,E,s)}var o=new j3(l,this);
o.data={avJ:B,aF1:U,aBr:K,aw5:D,bT:m,oH:Y};this._j(o.data,X);X.O_(o)};_.ds.prototype._j=function(W,q){q.iV=W.aF1;
q.qg=!0;if(W.aw5)_.ds.$s(q,W.aw5,W.bT);if(W.oH){var X=q.iV.lastAppliedComp?q.iV.lastAppliedComp.v:0,k=_.ds.gg(q.iV,X),B=k==-1?null:q.iV.list.v[k].v,U=B?B.capturedInfo.v:7;
_.ds.DM(q,X,U);q.I_()}};_.ds.prototype.tG=function(W,q){q.iV=W.avJ;q.qg=!0;if(W.aBr)_.ds.$s(q,W.aBr,W.bT);
if(W.oH){var X=q.iV.lastAppliedComp?q.iV.lastAppliedComp.v:0,k=_.ds.gg(q.iV,X),B=k==-1?null:q.iV.list.v[k].v,U=B?B.capturedInfo.v:7;
_.ds.DM(q,X,U);q.I_()}};_.ds.$i=function(W){if(W.iV.lastAppliedComp!=null||!W.a3v)return;var q=_.ds.rM(W,0);
_.ds.$s(W,q,0);W.a3v=!1};_.ds.GV=function(W,q,X){W.v.Hrzn.v+=q;W.v.Vrtc.v+=X};_.ds.gg=function(W,q){var X=W.list.v;
for(var N=0;N<X.length;N++)if(X[N].v.compID.v==q)return N;return-1};_.ds.apN=function(W){var q=W.layerSettings.v,B=null;
if(q.length==0)return;var X="compList enab Ofst blendOptions Lefx FXRefPoint imageMask vectorMask layerSpecific".split(" "),k=q[0].v;
if(k.enab==null)k.enab={t:"bool",v:!0};if(k.Ofst==null)k.Ofst={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:0},Vrtc:{t:"long",v:0}}};
for(var N=0;N<q.length;N++){var U=q[N].v;if(B==null)B=g.N(U);else for(var l=0;l<X.length;l++){var K=X[l];
if(U[K])B[K]=g.N(U[K])}q[N].v=g.N(B)}};_.ds.aaV=function(W,q){var X=W.add.shmd.cmls,k=X.layerSettings.v;
for(var B=0;B<k.length;B++){var U=k[B].v,l=U.compList.v[0].v;if(l==q)return B}return-1};_.ds.aFj=function(W,q){var X=_.ds.aaV(W,q);
return X==-1?null:W.add.shmd.cmls.layerSettings.v[X].v};_.ds.DM=function(W,q,X){for(var N=0;N<W.U.length;
N++){var k=W.U[N],B=k.add.shmd.cmls;if(B==null)continue;var U=B.layerSettings.v,l=_.ds.aFj(k,q);if(l==null){k.ZR(!1);
continue}if((X&1)!=0){if(l.enab)k.ZR(l.enab.v);else k.ZR(!0)}if((X&2)!=0){if(l.Ofst){var K=l.Ofst.v,D=k.wu(W),m=Math.round(K.Hrzn.v-D.x),Y=Math.round(K.Vrtc.v-D.y);
if(m!=0||Y!=0)_.U6.c8(W,[N],null,m,Y)}}if((X&4)!=0){if(l.Lefx){var a=g.N(l.Lefx.v);aK.ae(a);if(JSON.stringify(a)!=JSON.stringify(k.add.lmfx)){k.add.lmfx=a;
k.kJ.OG=!0}}else delete k.add.lmfx;if(l.blendOptions){var p=l.blendOptions.v;if(p.Opct)k.zO=Math.round(255*p.Opct.v.val/100);
if(p.fillOpacity)k.add.iOpa=Math.round(255*p.fillOpacity.v.val/100);if(p.Md)k.JY=k.add.lsct==e5.dx?"norm":jm.U3(p.Md.v.BlnM)}else{k.zO=255;
k.JY=k.S3()?"pass":"norm";k.add.iOpa=255}}}};_.ds.ahx=function(W,q){var X={};for(var N=0;N<W.U.length;
N++){var k=W.U[N];if(k.add.shmd==null||k.add.shmd.cmls==null)continue;X["l"+k.add.lyid]=g.N(_.ds.aFj(k,q))}return X};
_.ds.rM=function(W,q){var X={};for(var N=0;N<W.U.length;N++){var k=W.U[N],B=k.add.lyid;X["l"+B]=_.ds.a2v(W,k,q)}return X};
_.ds.a2v=function(W,q,X){var k=q.add.shmd?q.add.shmd.cmls:null,B={classID:"null"},U=q.wu(W),l={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:U.x},Vrtc:{t:"long",v:U.y}}};
B.compList={t:"VlLs",v:[{t:"long",v:X}]};B.enab={t:"bool",v:q.P$()};B.Ofst=g.N(l);B.FXRefPoint=g.N(k&&k.origFXRefPoint?k.origFXRefPoint:l);
B.blendOptions={t:"Objc",v:{classID:"null",Md:{t:"enum",v:{BlnM:jm.yq(q.JY)}},Opct:{t:"UntF",v:{type:"#Prc",val:100*q.zO/255}},fillOpacity:{t:"UntF",v:{type:"#Prc",val:q.add.iOpa!=null?100*q.add.iOpa/255:100}}}};
if(q.add.vmsk){B.vectorMask={t:"Objc",v:{classID:"null"}};B.vectorMask.v.Ofst=g.N(l)}if(q.add.lmfx){B.Lefx={t:"Objc",v:g.N(q.add.lmfx)};
aK.ST(B.Lefx.v)}return B};_.ds.aEg=function(W,q){var X=q.add.lyid;if(q.add.shmd==null)q.add.shmd={};
if(q.add.shmd.cmls==null){q.add.shmd.cmls={classID:"null",LyrI:{t:"long",v:X},layerSettings:{t:"VlLs",v:[{t:"Objc",v:_.ds.a2v(W,q,0)}]}}}};
_.ds.$s=function(W,q,X){for(var N=0;N<W.U.length;N++){var k=W.U[N],B=k.add.lyid;_.ds.aEg(W,k);var U=k.add.shmd.cmls,l=U.layerSettings.v,K=q["l"+B];
if(K!=null)K={t:"Objc",v:g.N(K)};var D=_.ds.aaV(k,X);if(D==-1){if(K==null)continue;else l.push(K)}else{if(K==null)l.splice(D,1);
else l[D]=K}}};_.ds.WS=function(W,q){for(var N=0;N<W.U.length;N++){var X=W.U[N],k=X.add.lyid;if(X.add.shmd==null||X.add.shmd.cmls==null)continue;
var B=X.wu(W),U=Math.round(B.x),l=Math.round(B.y);if(!q){U=-U;l=-l}var K=X.add.shmd.cmls,D=K.layerSettings.v;
if(K.origFXRefPoint)_.ds.GV(K.origFXRefPoint,-U,-l);for(var m=0;m<D.length;m++){var Y=D[m].v;_.ds.GV(Y.Ofst,U,l);
var a=Y.imageMask,p=Y.vectorMask;if(a&&a.v.Ofst)_.ds.GV(a.v.Ofst,U,l);if(p&&p.v.Ofst)_.ds.GV(p.v.Ofst,U,l)}}};
_.oc=function(){_.CB.call(this,"Adjust Edit",_.wm);this.Rz=null;this.tW=null};_.oc.prototype=new _.CB;
_.oc.QA=function(W,q,X,k){if(k)q/=4;var B=0,U=0,l=255,K=0,D=0,m=255;while(U+W[B]<q){U+=W[B];B++}while(K+W[l]<q){K+=W[l];
l--}if(k){B-=Math.round(W[B]/(X/32));l+=Math.round(W[l]/(X/32));if(B<0)D=Math.round(-B*255/(l-B));if(l>255)m=255-Math.round((l-255)*255/(l-B))}return[Math.max(B,0),Math.min(l,255),D,m,100]};
_.oc.prototype.s4=function(W,q,X,k,B){var U=W.R;if(U=="auto"){var l=W.aBY,K=_.oc.getData(X);for(var N=0;
N<K.length;N++){var D=K[N],m;if(l<3){}else{var Y=dY.wy("hue2");cW.jr(Y,0,[0,-100,0]);m=dZ.z2("hue2",Y)}dZ.GT(m,D.Wa,D.f5,D.OM)}_.oc.h1(X,K);
_.oc.bz(X,K,l<3?[4,16,l]:[19,7,0],this);X.I_()}if(U=="edit_layer")this.ana(W,q,X,k);if(U=="edit"||U=="confirm"||U=="cancel")this.Oz(W,q,X,B,!0);
if(U=="start"){if(X.Y.length==0)return;var a=X.U[X.Y[0]];if(a.add.SoLd&&a.pw<=0&&X.TC.length==0){var p=new ip(S.E.O,!0);
p.J=_.zF;p.data={R:"start",Sw:W._h,he:W.he};q.T(p);return}if(!X.IS(q,null,!0))return;if(kf[W._h]&&W.he==null){if(X.Y.length!=1)alert("Will be applied to "+X.Y.length+" layers.");
var p=new ip(S.E.H,!0);p.data={R:S.m.K_,ud:"afw_"+W._h};q.T(p)}else{this.Oz({R:"edit",he:W.he,Sw:W._h},q,X,B);
this.Oz({R:"confirm",Sw:W._h},q,X,B)}}};_.oc.prototype.ana=function(W,q,X,k){var B=W.R,U=X.Y[0],l=X.U[U],K=dZ.get(l.add),p;
if(l.add[K]==null)return;var D=g.N(l.add[K]);for(var m in W._)D[m]=W._[m];var Y=g.N(D);for(var m in dZ.Hd)if(dZ.Hd[m]==K)Y.classID=m;
var a=X.history[X.Wb];if(a&&a.J==this&&a.data.bG!=null&&a.data.B==U)p=a;else{var M=new ip(S.E.dq,!0),x={classID:"setd",null:j0.O8("AdjL",!0),T:{t:"Objc",v:Y}};
M.data={sy:!0,yx:"set",Og:x};q.T(M);var p=new j3([6,39],this);p.data={B:U,bG:l.add[K],O4:D,ape:x};X.O_(p)}p.data.O4=D;
p.data.ape.T.v=Y;this._j(p.data,X)};_.oc.getData=function(W,q,X){var k=[],B=new dU(0,0,W.r,W.$),U=W.TC.length!=0?[-1-W.TC[0]]:W.Y;
for(var N=0;N<U.length;N++){var l=U[N],K=l<0?null:W.U[l],D={B:l,gj:l<0?1:K.pw};k.push(D);var m=W.RH[-1-l];
if(0<=l)m=K.pw<=0?null:K.pw==1?K.Jx():K.Q2(W).BD;var Y=m?m.S:K.S;if(W.d){D.OM=W.d.S.x$(q||m!=null?B:Y)}else D.OM=q||m!=null?Y.xw(B):Y.P();
if(X)D.OM=X[N].OM.P();var a=D.OM.C();D.Wa=g.j(a*4,W.depth);if(m)_.Vz.vY(m.c,m.S,m.color,D.Wa,D.OM);else g.YE(K.buffer,Y,D.Wa,D.OM);
D.f5=D.Wa.slice(0);if(W.d){D.VG=g.j(a,W.depth);g.Z_(W.d.c,W.d.S,D.VG,D.OM)}}return k};_.oc.aGO=function(W,q,X){if(q==null)return q;
var k=dZ.YW(W,q),U;if(k==-1)return q;var B=X.length>>>2,l=g.n7(X),K=.001*B;if(k==0||k==2)U=[[0,255,0,255,100],_.oc.QA(l[1],K,B,k==2),_.oc.QA(l[2],K,B,k==2),_.oc.QA(l[3],K,B,k==2)];
if(k==1)U=[_.oc.QA(l[0],K*.33,B,!1),[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100]];var D=dY.wy("levl");
for(var N=0;N<4;N++)i0.jr(D,N,U[N]);return D};_.oc.aDe=function(W,q,X,k){var B,U;if(X.t=="name"){var l=0;
for(var K=0;K<W.U.length;K++)if(W.U[K].getName()==X.v.val)l=K;if(W==q&&l==k.B){B=k.Wa;U=k.OM}else{var D=W.U[l];
B=D.buffer;U=D.S}}else{U=new dU(0,0,W.r,W.$);B=W==q?k.S0:W.OL()}return[B,U]};_.oc.prototype.Oz=function(W,q,X,k){if(this.Rz==null){if(W.Sw=="aply")X.U[X.Y[0]].extend(new dU(0,0,X.r,X.$));
this.Rz=_.oc.getData(X,null,W.Sw=="fade"?X.d2().data:null);if(W.Sw=="aply"||W.Sw=="matc")this.Rz[0].S0=X.OL()}if(W.R=="edit"){this.tW=[W.Sw,W.he];
var B=this.Rz[0],U=_.oc.aGO(W.Sw,W.he,B.Wa),l=dZ.z2(W.Sw,U);if(W.Sw=="fade"||W.Sw=="matc"||W.Sw=="aply")l=W.he;
if(l!=null){for(var K=0;K<this.Rz.length;K++){var D=this.Rz[K];if(W.D1)g.cX(D.Wa,D.f5);else if(W.Sw=="fade"){var m=jm.U3(W.he.Md.v.BlnM),Y=W.he.Opct.v.val/100,a=X.d2().data[K];
g.cX(a.Wa,D.f5);if(m=="norm")g.v.lE(D.Wa,D.OM,D.f5,D.OM,null,null,null,D.OM,Y);else{var p=dx.$V();p.TP=!0;
for(var N=0;N<a.Wa.length;N+=4)if(a.Wa[N+3]!=D.Wa[N+3]){p=null;break}g.v.HX(m,D.Wa,D.OM,D.f5,D.OM,D.OM,Y,p)}}else if(W.Sw=="matc"){var M;
if(l.noReference&&l.noReference.v)M=D.Wa;else{var x=l.Srce.v,R=x[1].v.val,y=q.Bx,s=X;for(var N=0;N<y.length;
N++)if(y[N].name==R)s=y[N];var F=_.oc.aDe(s,X,x[0],D);M=F[0]}ew(D.Wa,D.OM.r,D.OM.$,M,D.f5,[l.Lght.v,l.ClrR.v,l.Fade.v,l.neutralizeColor?l.neutralizeColor.v:!1])}else if(W.Sw=="aply"){l=l.With.v;
var E=l.T.v,F=_.oc.aDe(X,X,E[1],D),M=F[0],o=F[1],G=l.Clcl?l.Clcl.v.Clcn:null,m=G?jm.U3(G):"norm",Y=l.Opct?l.Opct.v.val/100:1,d=["RGB","Rd","Grn","Bl","Trsp"].indexOf(E[0].v.enum),U=l.Invr&&l.Invr.v;
if(U||d!=0){M=M.slice(0);if(U)g.amH(M);if(d!=0){var u=g.j(o.C());g.u6(M,u,d-1);if(d==4)g.i5(u);for(var r=0;
r<3;r++)g.fP(u,M,r)}}if(G=="Add"||G=="Sbtr"){var v=1/l.Scl.v,c=l.Ofst.v,V=G=="Add"?1:-1,j=new Uint8ClampedArray(D.f5.buffer);
for(var N=0;N<M.length;N+=4){j[N]=(D.Wa[N]+V*M[N])*v+c;j[N+1]=(D.Wa[N+1]+V*M[N+1])*v+c;j[N+2]=(D.Wa[N+2]+V*M[N+2])*v+c}}else{var p=dx.$V();
p.TP=l.PrsT&&l.PrsT.v;D.f5.fill(0);D.f5.set(D.Wa);g.v.HX(m,M,o,D.f5,D.OM,D.OM,Y,p)}}else dZ.GT(l,D.Wa,D.f5,D.OM)}_.oc.h1(X,this.Rz)}}if(W.R=="cancel"){_.oc.afn(X,this.Rz);
this.Rz=null}if(W.R=="confirm"){var Q={fade:[2,11],aply:[2,12],matc:[4,18]},H=Q[W.Sw];if(H==null)H=dZ.names[W.Sw];
var T=dZ.YW(W.Sw,this.tW[1]);if(T!=-1)H=[4,16,T];_.oc.bz(X,this.Rz,H,this);this.Rz=null;if(T==-1)_.oc.H3(q,this.tW)}X.I_()};
_.oc.H3=function(W,q){var X=q[0],k=q[1],B,U;if(dZ.X4[X]){B=dZ.X4[X];if(kf[X])U=k}if(dY.X4[X]){B=dY.X4[X];
if(kf[X])U=k}if(X=="fade"){B="fade";U=k}if(X=="matc"){B="matchColor";U=k}if(X=="aply"){B="applyImageEvent";
U=k}if(X=="GEfc"){if(U.GEfs)U=U.GEfs.v[0].v}if(B==null)return;var l=new ip(S.E.dq,!0);l.data={sy:!0,yx:B};
if(U){U=g.N(U);l.data.Og=U}W.T(l)};_.oc.afn=function(W,q){_.oc.C2(W,q)};_.oc.bz=function(W,q,X,k){for(var N=0;
N<q.length;N++){var B=q[N],U=W.U[B.B],l=B.B<0?W.RH[-1-B.B]:B.gj<=0?null:B.gj==1?U.Jx():U.Q2(W).BD;if(l){l.xX();
l.Uf=!0;if(U)U.Ae(W)}else{U.xX();U.I_()}delete B.f5;delete B.VG}var K=new j3(X,k);K.data=q;W.O_(K);W.qg=!0};
_.oc.h1=function(W,q,X){for(var N=0;N<q.length;N++){var k=q[N],B=W.U[k.B],U=X?k.Wa:k.f5,l=k.OM;if(k.gj==0){B.extend(l);
if(k.VG){g.YE(k.Wa,l,B.buffer,B.S);g.v.lE(U,l,B.buffer,B.S,k.VG,l,0,l,1)}else g.YE(U,l,B.buffer,B.S)}else{var K=k.B<0?W.RH[-1-k.B]:k.gj==1?B.Jx():B.Q2(W).BD;
K.extend(l);if(k.VG){var D=g.j(l.C()*4);g.cX(k.Wa,D);g.v.lE(U,l,D,l,k.VG,l,0,l,1);_.Vz.OH(D,l,K)}else _.Vz.OH(U,l,K);
K.Uf=!0;if(B)B.Ae(W)}if(B)B.I_()}if(!X)_.oc.aFY(W,q)};_.oc.C2=function(W,q){for(var N=0;N<q.length;N++){var X=q[N],k=W.U[X.B],B=X.OM,U=g.j(B.C()*4,W.depth);
if(X.gj==0){g.YE(k.buffer,k.S,U,B);k.extend(B);g.YE(X.Wa,B,k.buffer,k.S);k.xX()}else{var l=X.B<0?W.RH[-1-X.B]:X.gj==1?k.Jx():k.Q2(W).BD;
_.Vz.vY(l.c,l.S,l.color,U,B);l.extend(B);_.Vz.OH(X.Wa,B,l);l.xX();l.Uf=!0;if(k)k.Ae(W)}X.Wa=U;if(k)k.I_()}W.qg=!0};
_.oc.Gr=function(W){var q=0;for(var N=0;N<W.length;N++)q+=W[N].Wa.length;return q};_.oc.aFY=function(W,q){var X=_.oc.aEO(W),k=~X;
if(X==16777215)return;for(var N=0;N<q.length;N++){var B=q[N],U=W.U[B.B],l=B.OM;if(B.gj!=0)continue;U.extend(l);
var K=l.x-U.S.x,D=l.y-U.S.y,m=U.S.r,Y=new Uint32Array(B.Wa.buffer),a=new Uint32Array(U.buffer.buffer);
for(var p=0;p<l.$;p++)for(var M=0;M<l.r;M++){var x=p*l.r+M,R=(p+D)*m+(M+K);a[R]=a[R]&X|Y[x]&k}U.xX();
U.I_()}W.I_()};_.oc.aEO=function(W){var q=W.f.K7;return q[2]*16711680|q[1]*65280|q[0]*255};_.oc.prototype.tG=function(W,q){var X=q.U[W.B];
if(W.bG!=null)X.add[dZ.get(X.add)]=W.bG;else _.oc.C2(q,W);q.I_()};_.oc.prototype._j=function(W,q){var X=q.U[W.B];
if(W.bG!=null)X.add[dZ.get(X.add)]=W.O4;else _.oc.C2(q,W);q.I_()};_.oc.prototype.Gr=function(W){return W.bG==null?_.oc.Gr(W):0};
_.y6=function(){_.CB.call(this,"Filter Edit",_.zF);this.Rz=null;this.G1=null;this.R=null;this.tW=null};
_.y6.prototype=new _.CB;_.y6.prototype.s4=function(W,q,X,k,B){if(W.R=="start"){if(X.Y.length==0)return;
var U=X.U[X.Y[0]];if(U.add.SoLd&&U.pw<=0&&X.TC.length==0){}else if(!X.IS(q,null,!0))return;var l=W.Sw;
if((kf[l]||dY.Z[l])&&W.he==null){if(X.Y.length!=1)alert("Will be applied to "+X.Y.length+" layers.");
var K=new ip(S.E.H,!0);K.data=_.y6.ww(l,this.W4(X,l),W.asG);q.T(K)}else{var D={R:"edit",Sw:l,he:W.he,iF:this.W4(X)};
this.s4(D,q,X,k,B);D.R="confirm";delete D.he;this.s4(D,q,X,k,B)}}if(W.R=="edit"||W.R=="cancel"||W.R=="confirm"){if(W.R=="edit")this.tW=[W.Sw,W.he];
if(W.iF)this.axH(W,q,X,B);else this.auz(W,q,X,B)}if(W.R=="applylast"&&this.tW!=null){var l=this.tW[0],m=this.tW[1];
if(k.D(bu.Wr)&&(kf[l]||dY.Z[l])){var K=new ip(S.E.H,!0);K.data=_.y6.ww(l,this.W4(X,l),null,m);q.T(K)}else{var D={R:"edit",Sw:l,he:m,iF:this.W4(X)};
this.s4(D,q,X,k,B);D.R="confirm";delete D.he;this.s4(D,q,X,k,B)}}};_.y6.ww=function(W,q,X,k){var B=dY.Z[W];
if(B)return{R:S.m.oE,J:B,g2:{iF:q,asG:X}};else return{R:S.m.K_,ud:"afw_"+W,iF:q,ye:k}};_.y6.prototype.W4=function(W,q){var X=W.U[W.Y[0]],k;
if(X.add.SoLd&&X.pw<=0&&W.TC.length==0){k={B:W.Y[0],index:0};if(X.add.SoLd.filterFX!=null){var B=X.add.SoLd.filterFX.v.filterFXList.v;
k.index=B.length;for(var N=0;N<B.length;N++)if(dY.oX(B[N].v)=="rigidTransform")k.index=N}}return k};
_.y6.prototype.axH=function(W,q,X,k){var B=X.U[W.iF.B],U=W.Sw;if(W.R=="edit"){if(this.R==null){var l=dY.names[U];
if(l==null)l=dZ.names[U];if(U=="blendOptions")l=[14,10];this.R=new j3(l,this);this.R.data={iF:W.iF,aE9:g.N(B.add.SoLd)}}if(!B.SF()){B.add.SoLd.filterFX=dY.EC();
var K=this.R.data.kj=ey.auk(B.add.SoLd.placed.v);X.ik(K);if(X.d){K.BD.c=X.d.c.slice(0);K.BD.S=X.d.S.P();
K.BD.color=0;this.R.data.UQ=X.d;X.d=null}B.uz(X)}var D=B.add.SoLd.filterFX.v.filterFXList.v;if(D[W.iF.index]==null){D.push(dY.NK(U,k))}if(W.he){D[W.iF.index].v.enab.v=W.D1!=!0;
if(U=="blendOptions")D[W.iF.index].v.blendOptions.v=W.he;else D[W.iF.index].v.Fltr.v=W.he}this.R.data.ahD=g.N(B.add.SoLd);
this._j(this.R.data,X)}if(W.R=="cancel"){if(this.R)this.tG(this.R.data,X);this.R=null}if(W.R=="confirm"){if(this.R)X.O_(this.R);
_.oc.H3(q,this.tW);this.R=null}};_.y6.prototype.auz=function(W,q,X,k){if(this.Rz==null){var B=dY.yS(W.Sw,W.he);
this.Rz=_.oc.getData(X,B.x!=0||B.y!=0,W.Sw=="VaPo"?[{OM:W.S0[1]}]:null)}if(W.R=="edit"){var U=JSON.stringify(W.he);
if((W.he==null||U!=this.G1)&&W.D1!=!0)for(var N=0;N<this.Rz.length;N++){var l=this.Rz[N],K={S:l.OM,buffer:l.Wa},D={S:l.OM,buffer:l.f5};
if(W.Sw=="Avrg"&&l.VG){K.buffer=l.Wa.slice(0);g.Qj(l.VG,K.buffer)}dY.GT(W.Sw,K,W.he,g.gC(k.w5),g.gC(k.yY),D,[X.add.lnk2?X.add.lnk2:[],X.U[X.Y[0]].Jx(),X.RH,X.Yb()]);
if(W.Sw=="VaPo"){g.YE(W.S0[0],W.S0[1],D.buffer,D.S)}if(W.Sw=="Avrg"&&l.VG){var m=l.Wa.length;for(var N=0;
N<m;N+=4)l.f5[N+3]=l.Wa[N+3]}this.G1=U}_.oc.h1(X,this.Rz,W.D1)}if(W.R=="cancel"){_.oc.afn(X,this.Rz);
this.Rz=null;this.G1=null}if(W.R=="confirm"){if(W.Sw=="VaPo"){this.Rz.a6I=JSON.stringify(X.Q3);this.Rz.a85=JSON.stringify(W._);
X.Q3=W._}_.oc.bz(X,this.Rz,dY.names[W.Sw],this);this.Rz=null;this.G1=null;_.oc.H3(q,this.tW)}X.I_();
X.qg=!0};_.y6.prototype.tG=function(W,q){if(W.a85)q.Q3=JSON.parse(W.a6I);if(W.iF){var X=q.U[W.iF.B];
if(W.kj)q.ez(W.kj);if(W.UQ)q.d=W.UQ;X.add.SoLd=g.N(W.aE9);if(X.SF())X.f0(q);else{X.uz(q);X.pw=0}}else _.oc.C2(q,W);
q.I_();q.qg=!0};_.y6.prototype._j=function(W,q){if(W.a85)q.Q3=JSON.parse(W.a85);if(W.iF){var X=q.U[W.iF.B];
if(W.kj)q.ik(W.kj);if(W.UQ)q.d=null;X.add.SoLd=g.N(W.ahD);if(X.SF())X.f0(q);else X.uz(q);if(!X.f6())X.Z9+=32}else _.oc.C2(q,W);
q.I_();q.qg=!0};_.y6.prototype.Gr=function(W){return W.iF==null?_.oc.Gr(W):0};var aI={NC:"0",AC:"1",Zp:"2",Le:"3",kg:"3.5",d9:"4",dE:"5",EV:"6",P1:"7",O:"8",ai:"8.5",pN:"8.8",k$:"9",Il:"10",jG:"11",td:"12",fQ:"13",O2:"14",PP:"15",aO:"16",lH:"17",Jr:"18",z7:"19",Z$:"21",Oq:"22",U$:"23",VH:"23.0",QP:"23.1",Pd:"23.2",zg:"23.3",Ff:"23.4",QE:"23.5",AK:"23.6",amx:"30",FI:"31",lf:"40",_e:"41",Mw:"42"};
aI.OO={};aI.OO[aI.AC]=["abr","brushes",bH,[9,3],3];aI.OO[aI.Zp]=["grd","gradients",jY,[12,37],4,36,36];
aI.OO[aI.Le]=["shc","contours",gx,[12,21],0];aI.OO[aI.kg]=["acv","curves",eR,[4,2],0];aI.OO[aI.d9]=["asl","styles",ae,[12,22],5];
aI.OO[aI.dE]=["pat","patterns",fK,[12,62],6];aI.OO[aI.EV]=["csh","shapes",jz,[12,77],7];aI.OO[aI.P1]=["aco","swatches",dc,[9,8],0,22,22];
aI.OO[aI.O]=["atn","actions",jc,[9,9],2];aI.OO[aI.ai]=["tpl","tpresets",jK,[9,12],0];aI.OO[aI.pN]=["icc","profiles",hc,"LUTs",8];
aI.bc={};aI.bc[aI.P1]=!0;function j3(W,q,X){if(X==null)X=!1;this.name=W;this.J=q;this.aj_=X;this.data=null;
this.aD5=Date.now()}j3.prototype.Gr=function(){return this.J?this.J.Gr(this.data):0};var j0={};j0.O8=function(W,q){var X={t:"Clss",v:{classID:W}};
if(q)X={t:"Enmr",v:{classID:W,typeID:"Ordn",enum:"Trgt"}};return{t:"obj ",v:[X]}};j0.dD=function(W,q){var X={classID:"Lyr"};
X[W]=q;return{yx:"set",Og:{classID:"null",null:j0.O8("Lyr",!0),T:{t:"Objc",v:X}}}};j0.anl=function(W,q,X,k,B){var U=new ip(S.E.dq,!0),l=[],N=0,K=j0.n_(q,X,k,l);
while(l.length!=0){var D=l.pop();N++;if(!D.i)continue;console.log(N-1);if(D.yx=="conditional"){var m=W.U[W.Y[0]],Y=D.Og.null.v.Cndt,a=!1;
if(Y=="Bckg")a=!1;else if(Y=="Pxel"&&W.or(!1))a=!0;else if(Y=="Adjs"&&dZ.get(m.add))a=!0;else if(Y=="Shp"&&m.add.vogk)a=!0;
else if(Y=="Grup"&&m.S3())a=!0;else if(Y=="Opn"&&W!=null)a=!0;else if(Y=="32Bt")a=!1;else if(Y=="RGB")a=!0;
var p=D.Og.then,M=D.Og.else;if(a&&p)j0.n_(q,p.v[0].v.val,p.v[1].v.val,l);if(!a&&M)j0.n_(q,M.v[0].v.val,M.v[1].v.val,l)}else if(D.yx=="stop"){if(D.Og.Cntn&&D.Og.Cntn.v==!0)window.confirm(D.Og.Msge.v);
else{alert(D.Og.Msge.v);break}}else if(D.yx=="play"){var x=D.Og.null.v,R=new ip(S.E.H,!0);R.data={R:S.m.LT,jX:[x[0].v.val,x[1].v.val]};
B.T(R)}else{U.data={yx:D.yx,Og:D.Og};B.T(U)}}};j0.Xg=function(W,q,X){var k;for(var N=0;N<W.length;N++){if(W[N].xJ!=X)continue;
var B=W[N].eO;for(var U=0;U<B.length;U++){if(B[U].xJ!=q)continue;k=B[U]}}return k};j0.n_=function(W,q,X,k){var B=j0.Xg(W,q,X).eO,U=B.length;
for(var N=0;N<U;N++)k.push(B[U-1-N])};j0.a5H=function(W){var q=W.yx,X=W.Og,k,l,K,D,m;if(X&&X.null)k=X.null.v[0];
if(X&&k==null&&X.At)k=X.At.v[0];if(k&&k.t=="obj ")k=k.v[0];var B=k&&k.v?k.v.classID:null,U=["purge"];
if(U.indexOf(q)!=-1)return q[0].toUpperCase()+q.slice(1);if(q=="GEfc"||q=="paintDaubs")return jJ.names[X.GEfk.v.GEft][1];
m=dZ.X4;for(l in m)if(m[l]==q)K=l;m=dY.X4;for(l in m)if(m[l]==q)D=l;m=dY.X4;for(l in m)if(l==q)D=l;if(K){var Y=dZ.YW(K,X);
if(Y!=-1)return[4,16,Y];return dZ.names[K]}if(D)return dY.names[D];var a=j0.a5X;if(q=="make"){if(k){if(B=="AdjL")return[6,1];
else if(B=="layerSection")return X.From?[6,9]:[6,20];else if(B=="Lyr")return[6,13];else if(B=="Chnl"&&k.v.enum=="Msk")return[6,2];
else if(B=="contentLayer")return[6,48,1];else if(B=="BckL")return"Make Background Layer";else if(B=="Path")return"Make Path";
else if(B=="TxLr")return"Make Text Layer";else if(B=="slice")return"Make Slices";else if(B=="Dcmn")return[11,7];
else if(B=="Gd")return[23,4];else if(B=="Brsh")return["VAR0: VAR1",[12,87],[9,3]]}if(X.Nw){B=X.Nw.v.classID;
if(B=="Dcmn")return[11,7];else if(B=="Chnl"||B=="SCch")return"New Channel"}}else if(q=="deselect"){if(B=="Path")return"Deselect current path";
else throw B}else if(q=="draw"){return"Draw"}else if(q=="select"){if(B=="Chnl"){var p={Msk:"Mask",Grn:"Green",Rd:"Red",Bl:"Blue",RGB:"RGB"}[k.v.enum];
if(p==null)p="";return"Select "+p+" Channel"}else if(B=="Mn")return"Select Panel \""+k.v.enum+"\"";else if(B=="Lyr"){if(k.t=="Enmr")return"Select "+{Bckw:"Backward",Frwr:"Forward",Back:"Back",Frnt:"Front"}[k.v.enum]+" Layer";
return"Select Layer \""+k.v.val+"\""}else if(B=="Path")return"Select Path";else if(B=="Brsh")return"Select Brush";
else if(B=="Dcmn")return"Select Document"}else if(a[q]&&B=="Chnl"){var M=k.v.keyID=="fsel";return a[q]+" "+(M?"Selection":"Channel")}else if(q=="set"){if(B=="Lyr")return"Set Current Layer";
else if(B=="AdjL")return[6,39];else if(B=="contentLayer")return[6,48,2];else if(B=="Prpr"){var x=k.v.keyID;
if(x=="TxtS")return"Set Text Style";else if(x=="paragraphStyle")return"Set Paragraph Style";else if(x=="Lefx")return[11,6];
else if(x=="FlIn")return"Set "+js.get([1,14]);else if(x=="GnrP")return"Set General Preferences";else console.log(x)}else if(B=="Clr")return"Set "+(k.v.keyID=="FrgC"?"Foreground":"Background")+" color";
else if(B=="Brsh")return"Set Brush";else if(B=="Path")return"Set Work Path";else console.log(B)}else if(q=="move"){if(B=="Lyr")return"Move Layer";
else if(B=="Chnl"&&k.v.keyID=="fsel")return[7,7];else console.log(B)}else if(q=="show"||q=="hide"){var R="";
if(B=="Lyr")R="Layer";if(B=="Chnl")R="Channel";if(B=="filterFX")R="Filter Effect";return(q=="show"?"Show":"Hide")+" "+R}else if(q=="reset"){if(B=="Clr")return"Reset Colors"}else if(q=="exchange"){if(B=="Clr")return[22,7,0]}else if(q=="rotateEventEnum")return[2,5];
else if(q=="flip"){var y=X.Axis.v.Ornt=="Hrzn";return[[2,6],[22,4,y?2:3]]}if(q=="duplicate"&&B=="Dcmn")return"Duplicate first document";
if(B=="Chnl"){if(q=="duplicate"){if(k.v.keyID=="fsel")return"Selection to Channel";else return"Duplicate Channel"}if(q=="delete")return"Delete Channel"}if(q=="transform")return k&&k.v.keyID=="fsel"?[7,10]:[10,16];
if(q=="convertMode"){var s="Convert Mode",F=X.Dpth;if(F)s+=" To "+F.v+"-Bit";return s}var E={cut:[5,0],copyEvent:[5,1],copyToLayer:[6,49,0],cutToLayer:[6,49,1],copyMerged:[5,7],paste:[5,2],close:[1,12,0],save:[1,2],groupEvent:[6,18],ungroup:[6,19],duplicate:[6,0],mergeLayersNew:[6,12,0],mergeVisible:"Merge Visible",flattenImage:[6,12,1],updatePlacedLayer:[6,36,1],fade:[2,11],applyImageEvent:[2,12],matchColor:[4,18],fill:[2,3],stroke:[14,9],colorRange:[7,8],desaturate:[19,7,0],Dstt:[19,7,0],delete:X?B=="Lyr"?[6,31]:B=="ASet"?"Delete Action Set":"Delete Path":[2,2],align:[20,4,0],applyLocking:[6,57,1],crop:[11,12,1],placedLayerMakeCopy:"New Smart Obj. via Copy",placedLayerEditContents:"Edit Contents",placedLayerResetTransforms:"Reset Transform",placedLayerExportContents:"Export Contents",placedLayerReplaceContents:"Replace Contents",placedLayerConvertToLayers:"Convert To Layers",grow:"Grow Selection",similar:"Similar Selection",newPlacedLayer:[6,7,0],selectNoLayers:"Deselect Layers",selectAllLayers:"Select All Layers",canvasSize:[11,3],imageSize:[11,10],rasterizeLayer:[6,8],revealAll:[11,12,2],divide:"Divide Current Slice",collapseAllGroupsEvent:"Collapse All Groups",assignProfile:"Assign Profile",convertToProfile:"Convert To Profile",conditional:"If"},o=E[q];
if(o==null)o=j0.afA[q];if(o)return o;return q};j0.afA={border:[7,9],smoothness:[19,3,0],expand:[7,4],contract:[7,5],feather:[7,6],inverse:[7,2]};
j0.a5X={set:"Set",add:"Add Transparency",addTo:"Add To",subtract:"Subtract Transparency",subtractFrom:"Subtract From",interfaceIconFrameDimmed:"Intersect Transparency",interfaceWhite:"Intersect With"};
j0.a01=function(W,q,X,k){var B=W.yx,U=W.Og,l=!1,K=new ip(S.E.O,!0),a,p,M,x;K.J=_.b9;var D=new ip(S.E.H,!0),m=["purge","updatePlacedLayer"];
if(m.indexOf(B)!=-1)return;var Y=B;while(Y.length<4)Y+=" ";x=dZ.X4;for(a in x)if(x[a]==Y)p=a;x=dY.X4;
for(a in x)if(x[a]==Y)M=a;x=dY.X4;for(a in x)if(a==Y)M=a;if(B=="fade")p=B;if(B=="matchColor")p="matc";
if(B=="applyImageEvent")p="aply";if(p){K.J=_.wm;K.data={R:"start",_h:p,he:U}}else if(M){K.J=_.zF;K.data={R:"start",Sw:M,he:U}}else if(B=="GEfc"||B=="paintDaubs"){K.J=_.zF;
K.data={R:"start",Sw:"GEfc",he:U}}else if(B=="convertMode"){var R=U.Dpth;if(R==null)return;K.J=_.Xx;
K.data={R:"cmode",_:R.v}}else if(B=="assignProfile"||B=="convertToProfile"){var y=U.profile;if(y==null)y=U.T;
K.J=_.Xx;K.data={R:"cprof",_:y?y.v:null,agw:B[0]=="c"}}else if(B=="imageSize"||B=="canvasSize"||B=="revealAll"||B=="trim"||B=="crop"){K.J=_.mq;
K.data={R:"fromAction",lz:W}}else if(B=="fill"||B=="stroke"||B=="delete"&&U==null){var s=null;if(k.Y.length!=0)s=k.U[k.Y[0]];
if(U&&JSON.stringify(U).indexOf("aiHeal")!=-1)s=null;var F=g.gC(X.w5);if(s!=null&&B=="fill"&&s.add.TySh){var E="var c = new SolidColor();  c.rgb.red="+F.o+";  c.rgb.green="+F.L+";  c.rgb.blue="+F.X+";  app.activeDocument.activeLayer.textItem.color = c;";
D.data={R:S.m.qS,eg:E}}else if(s!=null&&B=="delete"&&s.add.TySh){K.J=_.W6;K.data={R:"insertText",_:""}}else if(s!=null&&B=="fill"&&s.Nj()){var K=new ip(S.E.dq,!0),U={classID:"setd",null:j0.O8("contentLayer",!0),T:{t:"Objc",v:{}}};
_.zB.y7({Clr:{t:"Objc",v:g.ov.E2(g.gC(X.w5))}},U.T.v,0);K.data={yx:"set",Og:U};q.T(K);return}else if(B=="stroke"&&U&&U.null==null){K.J=_.pM;
K.data={R:"stroke",ahA:U}}else{if(B=="stroke"&&U&&U.Usng)K.J=_.X4[U.Usng.v.classID];else K.J=X.bt==_.te?_.te:_.AC;
K.data={R:"fromAction",lz:W}}}else if(B=="colorRange"||B=="grow"||B=="similar"){K.J=_._I;K.data={R:"fromAction",lz:W}}else if(B=="set"&&U&&U.T&&U.T.v.Ordn=="Al"&&X.bt==_.W6&&q.li().mf()){K.J=_.W6;
K.data={R:"selectAll"}}else if(j0.afA[B]||j0.a5X[B]&&(!1||U.With&&U.With.v[0].v.keyID=="fsel"||U.From&&U.From.v[0].v.keyID=="fsel"||U.null&&U.null.v[0].v.keyID=="fsel"||U.T.v[0]&&U.T.v[0].v.keyID=="fsel")){K.J=_.iK;
K.data={R:"fromAction",lz:W}}else if(B=="rasterizeLayer"){K.data={R:U.What?U.What.v.rasterizeItem=="vectorMask"?b.xU:b.azU:b.wP}}var o={copyToLayer:b.PK,cutToLayer:b.er,mergeLayersNew:b.Qf,mergeVisible:b.Pi,flattenImage:b.aBm,newPlacedLayer:b.JG,placedLayerMakeCopy:b.Zy};
if(o[B])K.data={R:o[B],Og:U};if(K.data){q.T(K);return}if(B=="collapseAllGroupsEvent"){for(var N=0;N<k.U.length;
N++){var s=k.U[N];if(s.S3())s.add.lsct=e5.Fn}k.gd=!0;return}if(B=="desaturate"||B=="Dstt"){K.J=_.wm;
K.data={R:"auto",aBY:3};if(k&&k.U[k.Y[0]].add.SoLd==null)q.T(K);return}if(B=="close"){if(U&&U.Svng.v.YsN=="Ys"){D.data={R:S.m.lS};
q.T(D)}D.data={R:S.m.vF,xy:k};q.T(D);return}if(B=="save"){D.data={R:S.m.lS};q.T(D);return}if(B=="copyMerged"){D.data={R:S.m.G$,sn:!0,cc:!0};
q.T(D);return}if(B=="placedLayerReplaceContents")D.data={R:S.m.hM,m3:!0};if(B=="placedLayerConvertToLayers"){D.data={R:S.m.oQ};
q.T(D);var G=q.Bx[q.Bx.length-1];G.Y=[];for(var N=0;N<G.U.length;N++)G.Y.push(N);K.J=_.b9;K.data={R:b.Pw};
q.T(K);var d=k.U[k.Y[0]];K.J=_.b9;K.data={R:b.ex,U:G.Ls(),QZ:G,vq:k,aCy:[d]};q.T(K);D.data={R:S.m.vF};
q.T(D);var u=k.history[k.history.length-1];u.name="Convert to Layers";var r=k.U[k.Y[0]];r.YY(d.getName());
_.U6.c8(k,k.Vs(),null,d.S.x,d.S.y);return}if(B=="placedLayerResetTransforms"){K.J=_.Xx;K.data={R:"reset",xJ:"Reset Transform"};
q.T(K);return}var o={placedLayerEditContents:S.m.oQ,placedLayerExportContents:S.m.ayI,copyEvent:S.m.G$,paste:S.m.M5};
if(o[B])D.data={R:o[B],cc:!0};if(D.data){q.T(D);return}var v=U.null?U.null.v:null,c=v?v[0].v.classID:"";
if(B=="make"){if(U.null==null&&U.Nw)c=U.Nw.v.classID;if(c=="AdjL"){K.data={R:b.Li,Og:U}}else if(c=="layerSection"){K.data=U.From?{R:b.Pw}:{R:b.DL};
if(U.Usng){var V=U.Usng.v;if(V.Nm)K.data.vP=V.Nm.v;if(V.Clr)K.data.As=j0.PN(V)}}else if(c=="Lyr"){if(U.Usng&&U.Usng.v.length==2)K.data={R:b.aHm};
else{K.data={R:b.ZC};if(U.Usng)K.data.vP=U.Usng.v.Nm.v;if(U.below&&U.below.v)K.data.ap4=!0}}else if(c=="Chnl"&&U.At&&U.At.v[0].v.enum=="Msk"){K.data={R:b.PU,Bz:U.Usng.v.UsrM}}else if(c=="Chnl"||c=="SCch"){K.data={R:b.zW,w7:"fromAction",_:W}}else if(c=="contentLayer"){K.data={R:b.o2,Og:U}}else if(c=="BckL"){k.U[k.Y[0]].ar1();
return}else if(c=="Dcmn"){if(U.Nw==null)return;var j=U.Nw.v;D.data={R:S.m.Zk,LV:ey.aea(j,X)}}else if(c=="Ptrn")D.data={R:S.m.Ai,rl:0};
else if(c=="Brsh")D.data={R:S.m.Ai,rl:1};else if(c=="Path"){var Q=U.At;if(Q&&Q.v&&Q.v[0]&&Q.v[0].v&&Q.v[0].v.enum=="vectorMask"){K.J=_.b9;
var H=!1,T=!1;if(U&&U.Usng){var V=U.Usng.v;H=V.vectorMaskEnabled=="RvlA";T=V[0]&&V[0].v.classID=="Path"}K.data={R:b.Dw,aIZ:!H,a8y:T}}else{K.J=_.ZA;
K.data={R:"pathedit",w7:"fromsel"}}}else if(c=="TxLr"){K.J=_.W6;K.data={R:"fromAction",lz:W}}else if(c=="slice"){K.J=_.eP;
K.data={R:"fromAction",lz:W}}else if(c=="Gd"){var e=[[],[]],j=U.Nw.v;e[j.Ornt.v.Ornt=="Vrtc"?0:1].push(j.Pstn.v.val);
var z=ga.vG(e);_.U6._D(z,k.sO());K.J=_.zl;K.data={R:"gids",$w:z}}else{console.log(B,c,U);throw"e"}}else if(B=="divide"){K.J=_.eP;
K.data={R:"fromAction",lz:W}}else if(B=="deselect"){if(c=="Path"){k.Lf=[];k.sh=[];k.gd=k.R2=!0;return}else throw c}else if(B=="selectNoLayers"){k.Y=[];
k.qg=!0}else if(B=="selectAllLayers"){k.Y=[];for(var N=0;N<k.U.length;N++)k.Y.push(N);k.qg=!0;return}else if(B=="select"){var J=_.X4;
if(c=="Lyr"){var L=U.selectionModifier,A=L?L.v.selectionModifierType:null,h=j0.EZ(k,v[0]),w=0;if(h==-1){alert("Layer "+v[0].v.val+" does not exist.");
return}var s=k.U[h];if(s.S3()&&s.Jx()&&L==null)w=1;K.data={R:b.nf,B:h,a1p:A?["addToSelection","addToSelectionContinuous"].indexOf(A):null,W3:w}}else if(c=="Path"){if(v[0].v.keyID=="WrPt"){k.Lf=[0];
k.gd=k.R2=!0;return}else if(v[0].t=="name"){for(var N=0;N<k.RM.length;N++)if(k.RM[N].name==v[0].v.val){k.Lf=[N];
k.gd=k.R2=!0;return}}else throw v[0]}else if(c=="Chnl"){var f=v?v[0].v.enum:"",O=["Rd","Grn","Bl"].indexOf(f);
if(O!=-1){var n=U.Extd&&U.Extd.v?k.f.K7.slice(0):[0,0,0];n[O]=1;K.J=_.gT;K.data={R:"setcls",K7:n}}else K.data={R:b.nf,B:h,W3:f=="RGB"?0:1}}else if(c=="Dcmn"){if(q.Bx.length<2)return;
D.data={R:S.m.a0z,dir:U.null.v[0].v.val}}else if(c=="Brsh"){var $=X.cY.list,d9;for(var N=0;N<$.length;
N++){if($[N].v.Nm.v.split("/").pop()==v[0].v.val)d9=$[N].v}if(X.bt==_.zl){D.data={R:S.m.oE,J:_.AC};q.T(D)}D.data={R:S.m.Dt,rl:aI.O2,Fj:d9}}else if(c=="Mn"){if(v[0].v.enum=="FrTr")D.data={R:S.m.oE,J:_.Xx};
if(v[0].v.enum=="Scl")D.data={R:S.m.oE,J:_.Xx,g2:{Bz:3}};if(v[0].v.enum=="Plce")D.data={R:S.m.hM,adm:!0};
if(v[0].v.enum=="ZmIn"){K.J=_.hm;K.data={R:"zoom",IK:!0}}if(v[0].v.enum=="ZmOt"){K.J=_.hm;K.data={R:"zoom",IK:!1}}if(v[0].v.enum=="FtOn"){K.J=_.hm;
K.data={R:"adapt",_:"fitscr"}}}else if(J[c]){D.data={R:S.m.oE,J:J[c]}}else throw c}else if(B=="draw"){K.J=_.ZA;
K.data={R:"fromAction",lz:W}}else if(B=="gradientClassEvent"){K.J=_.jJ;K.data={R:"fromAction",lz:W}}else if((B=="set"||B=="reset"||B=="exchange")&&c=="Clr"){D.data={R:S.m.Dt,rl:aI.Z$,w7:B=="reset"?3:2};
if(B=="set"){D.data.w7=v[0].v.keyID=="FrgC"?0:1;var i=g.ov.yM(U.T.v);D.data._=i.o<<16|i.L<<8|i.X}}else if(B=="set"){if(c=="AdjL"){var dF=U.T.v.classID;
dF=dZ.Hd[dF];K.J=_.wm;if(dF)K.data={R:"edit_layer",_:U.T.v}}else if(c=="Lyr"){var t=U.T.v,h=j0.EZ(k,v[0]);
for(var im in t){if(im=="classID")continue;K.J=_.b9;if(im=="Nm")K.data={R:b.nk,name:t.Nm.v};else if(im=="Opct")K.data={R:b.s_,O4:Math.round(t.Opct.v.val*255/100)};
else if(im=="fillOpacity")K.data={R:b.RL,O4:Math.round(t.fillOpacity.v.val*255/100)};else if(im=="Md")K.data={R:b.vb,O4:jm.FW.indexOf(t.Md.v.BlnM)+(k.U[h].S3()?1:0)};
else if(im=="Usrs")K.data={R:b.Wj,B:h};else if(im=="Blnd"){K.J=_.Rd;K.data={R:"setstl",B:h,_:{blendOptions:{t:"objc",v:t}}};
q.T(K);K.data={R:"confirm",B:h}}else if(im=="userMaskFeather"||im=="userMaskDensity"){var bc=t.userMaskFeather,R=t.userMaskDensity,h=k.Y[0],at=k.U[h].o$(0);
if(bc)at.px=bc.v.val;if(R)at.ap=R.v.val;K.data={R:b.vv,y5:h,NV:at}}else if(im=="Clr"){var F=j0.PN(t);
K.data={R:b.ZU,a6g:F}}else if(im=="Lefx")j0.atW(q,h,t.Lefx.v,X);else if(im=="UsrM"){if(t[im].v==k.U[h].Jx().isEnabled)return;
K.data={R:b.Bo,B:h}}else{console.log(U);throw im}if(K.data){q.T(K);delete K.data}}K.data={};var s=k.U[h];
s.amw()}else if(c=="Prpr"){var t=g.N(U.T.v),h=j0.EZ(k,U.null.v[1]),s=k.U[h],l9=v[0].v.keyID;if(l9=="TxtS"||l9=="paragraphStyle"){var fF=s.add.TySh,g$=g.N(fF.FZ),fR=gZ.mw(g$),cr=gZ.J0(g$,0,fR.length-2);
if(l9=="TxtS")gZ.sN(t,cr.n6);else gZ.sN(t,cr.D8);gZ.oM(g$,0,fR.length-1,cr);K.J=_.W6;K.data={R:"newED",MP:h,jn:g$}}else if(l9=="Lefx"){for(var eE in t)if(t[eE].v){if(eE=="Scl")t[eE].v.val=100}j0.atW(q,h,t,X);
K.data={}}else if(l9=="FlIn"||l9=="GnrP")return;else throw l9}else if(c=="contentLayer"){var h=j0.EZ(k,v[0]),t=U.T.v,bQ=!0;
if(t.classID=="shapeStyle"){if(t.strokeStyle){t=t.strokeStyle.v;bQ=!1}else t=t.FlCn.v}if(bQ){var hT={solidColorLayer:0,gradientLayer:1,patternLayer:2}[t.classID],df=kE.yB(k.U[h].add),M=df.O5==hT+1?df.bE:kE.EY[hT];
M=g.N(M);_.zB.y7(t,M,hT);K.data={R:b.X5,Jp:[h],kn:!0,_:{O5:hT+1,bE:M}}}else{var eV=g.N(k.U[h].add.vstk);
for(var eE in t)eV[eE]=t[eE];K.data={R:b.X5,Jp:[h],kn:!1,_:eV}}}else if(c=="Brsh"){var d9=g.N(X.cY.wC),gU=U.T.v;
if(gU.masterDiameter)d9.Brsh.v.Dmtr.v.val=gU.masterDiameter.v.val;else console.log("unknown brush parameters");
D.data={R:S.m.Dt,rl:aI.O2,Fj:d9}}else if(c=="Path"){K.J=_.ZA;K.data={R:"fromAction",lz:W}}else if(c=="TxLr"){K.J=_.W6;
K.data={R:"fromAction",lz:W}}else{console.log(v[0],U);throw c}}else if(B=="move"){if(c=="Lyr"){var t=U.T.v;
if(t.classID=="Ofst"){K.data={R:"trsl",Ma:t.Hrzn.v.val,gM:t.Vrtc.v.val};K.J=_.zl}else{var i8,bv;if(t[0].t=="Enmr"){if(t[0].v.enum=="Frnt")bv=0;
else if(t[0].v.enum=="Nxt")bv=1;else if(t[0].v.enum=="Prvs")bv=2;else if(t[0].v.enum=="Back")bv=3;else throw"e"}else i8=t[0].v.val;
K.data={R:b.vz,target:i8,w7:bv,a4W:U.Dplc?U.Dplc.v:!1}}}else if(c=="Chnl"&&v[0].v.keyID=="fsel"){K.J=_.iK;
K.data={R:"fromAction",lz:W}}}else if(B=="cut"){var t=U.T.v,fE=t.Hrzn.v.val,d5=t.Vrtc.v.val;K.data={R:"trsl",Ma:fE,gM:d5};
K.J=_.zl}else if(B=="groupEvent"||B=="ungroup")K.data={R:b.W7};else if(B=="show"||B=="hide"){var aR=U.null.t;
if(aR=="obj "){if(v[0].v.val!=null)K.data={R:b.pD,index:v[0].v.val-1};else K.data={R:b.Co}}else if(aR=="VlLs"){var c=v[0].v[0].v.classID;
if(c=="Chnl")K.data={R:b.zW,w7:"fromAction",_:W};else{var l8=c=="filterFX"?v:v[0].v;for(var N=0;N<l8.length;
N++){if(c=="filterFX")K.data={R:b.pD,index:l8[N].v[0].v.val-1};else if(l8[N].v.enum=="Trgt"){var au=[];
for(var hx=0;hx<k.Y.length;hx++){var h=k.Y[hx],fw=k.U[h].P$();if(B=="show"&&fw||B=="hide"&&!fw)continue;
au.push(h)}K.data={R:b.GW,Jp:au}}else{var h=j0.EZ(k,l8[N]),fw=k.U[h].P$();if(B=="show"&&fw||B=="hide"&&!fw)continue;
K.data={R:b.GW,Jp:[h]}}q.T(K)}return}}else throw aR}else if(B=="rotateEventEnum"){K.J=c=="Lyr"?_.Xx:_.mq;
var cx=U.Angl.v.val;K.data={R:"rot",xJ:[2,5],_:-cx*Math.PI/180}}else if(B=="flip"){K.J=c=="Lyr"?_.Xx:_.mq;
var fg=U.Axis.v.Ornt=="Hrzn",iI=fg?new hw(-1,1):new hw(1,-1);K.data={R:"scl",xJ:[[2,6],[22,4,fg?2:3]],_:iI}}else if(B=="transform"){var v=U.null;
if(v&&v.v instanceof Array)v=v.v[0];K.J=v&&v.v.keyID=="fsel"?_.oV:_.Xx;K.data=_.Gz.ai5(U)}else if(B=="duplicate"){if(c=="Chnl")K.data={R:b.zW,w7:"fromAction",_:W};
else if(c=="Dcmn"){var eq=lf.c_("PSD")._M(k);ch.kT({url:k.name},eq,q);return}else if(c=="Actn"){var fS=X.uX,f1=v[1].v.val,c4=null;
for(var N=0;N<fS.length;N++)if(fS[N].xJ==f1)c4=fS[N];var ea=j0.Xg(fS,v[0].v.val,f1);ea=g.N(ea);ea.xJ+=" copy";
c4.eO.push(ea);return}else K.data={R:b.b8,vP:U.Nm?U.Nm.v:null}}else if(B=="delete"){if(c=="filterFX"){if(v[0].v.val!=null)K.data={R:b.v1,HW:v[0].v.val-1};
else K.data={R:b.tf}}else if(c=="Path"){if(v&&v.length==2&&v[0].v.enum=="vectorMask"&&v[1].v.classID=="Lyr"){K.J=_.b9;
K.data={R:b.ic}}else{K.J=_.ZA;K.data={R:"pathedit",w7:"del"}}}else if(c=="Lyr")K.data={R:b.L5};else if(c=="Chnl"&&v[0].v.enum=="Msk")K.data={R:b.nu};
else if(c=="Chnl")K.data={R:b.zW,w7:"fromAction",_:W};else if(c=="Cmnd"){var fS=X.uX,f1=v[2].v.val,ea=j0.Xg(fS,v[1].v.val,f1);
ea.eO.splice(v[0].v.val-1,1);return}else if(c=="Actn"){var fS=X.uX,f1=v[1].v.val,c4=null;for(var N=0;
N<fS.length;N++)if(fS[N].xJ==f1)c4=fS[N];var ea=j0.Xg(fS,v[0].v.val,f1);c4.eO.splice(c4.eO.indexOf(ea),1);
return}else if(c=="ASet"){var fS=X.uX,f1=v[0].v.val,c4=null;for(var N=0;N<fS.length;N++)if(fS[N].xJ==f1)c4=fS[N];
if(c4==null)return;fS.splice(fS.indexOf(c4),1);k.qg=!0;return}else throw c}else if(B=="align"){if(U.Aply&&U.Aply.v.projection=="Auto"){K.J=_.mq;
K.data={R:"auto-align"}}else{K.J=_.zl;var ie=U.Usng.v.ADSt,p={AdLf:0,AdCH:1,AdRg:2,AdTp:4,AdCV:5,AdBt:6}[ie];
if(p==null)throw ie;K.data={R:"algn",_:p}}}else if(B=="applyLocking"){var i$=U.layerLocking.v,cI;if(i$.protectTransparency)cI=[[i$.protectTransparency.v],[0]];
else if(i$.protectNone)cI=[[!1,!1,!1,!1],[0,1,2,31]];else{console.log(i$);throw"e"}K.data={R:b.pc,O4:cI}}else if(B=="play"){var v=U.target.v;
D.data={R:S.m.LT,jX:[v[0].v.val,v[1].v.val]}}if(K.data)q.T(K);else if(D.data)q.T(D);else{console.log(W);
alert("Unknown action \""+B+"\"");throw"e"}};j0.atW=function(W,q,X,k){X=g.N(X);aK.ae(X);if(X.masterFXSwitch==null)X.masterFXSwitch={t:"bool",v:!0};
console.log(X);var B=kE.m1;for(var U=0;U<B.length;U++)if(X[B[U]]){for(var N=0;N<X[B[U]].v.length;N++){var l=X[B[U]].v[N].v;
for(var K=0;K<2;K++){var D=l[K==0?"TrnS":"MpgS"];if(D&&D.v.Crv==null){var m=D.v,Y=m.Nm.v.split("=").pop(),a=k.bS,p=0;
for(var M=0;M<a.length;M++){var x=a[M].Nm.v.split("=").pop();if(x==Y)p=M}m.Crv=g.N(a[p].Crv)}}}}var R=new ip(S.E.O,!0);
R.J=_.Rd;R.data={R:"setstl",B:q,_:{Lefx:{t:"objc",v:X}}};W.T(R);R.data={R:"confirm",B:q};W.T(R)};j0.PN=function(W){var q={None:0,Rd:1,Orng:2,Ylw:3,Grn:4,Bl:5,Vlt:6,Gry:7}[W.Clr.v.Clr];
if(q==null)throw W.Clr.v.Clr;return q};j0.EZ=function(W,q){var X=1e6,k=0,B=W.U.length;for(var N=0;N<W.Y.length;
N++){X=Math.min(X,W.Y[N]);k=Math.max(k,W.Y[N])}var U=q.t,l=-1;if(U=="name"){var K=q.v.val,l=-1;for(var N=0;
N<B;N++)if(W.U[N].getName()==K){l=N;break}}else if(U=="Enmr"){if(W.Y.length!=0)l=W.Y[0];if(q.v.enum=="Frwr")l=k+1;
if(q.v.enum=="Bckw")l=X-1;if(q.v.enum=="Back")l=0;if(q.v.enum=="Frnt")l=B-1;l=(l+B)%B}else if(U=="prop"){if(q.v.keyID=="Bckg")l=0}else if(U=="indx")l=q.v.val-1;
return l};var dZ={};dZ.names={brit:[4,0],levl:[4,1],curv:[4,2],expA:[4,3],vibA:[4,4],hue2:[4,5],blnc:[4,6],blwh:[4,7],phfl:[4,8],mixr:[4,9],clrL:[4,10],nvrt:[4,11],post:[4,12],thrs:[4,13],grdm:[4,14],selc:[4,15],rplc:[4,17]};
dZ.ad8=["expA","clrL","selc"];dZ.un=[[13,1,1],[13,1,3],[13,1,4],[13,1,11],[13,1,5],[13,1,12]];dZ.aDc=[[13,1,11],[13,1,12],[13,1,3],[13,1,10]];
dZ.fx=[[13,1,1],[13,1,4],[13,1,5]];dZ.Zo={BrgC:"brit",Lvls:"levl",Crvs:"curv",Exps:"expA",vibrance:"vibA",HStr:"hue2",ClrB:"blnc",BanW:"blwh",photoFilter:"phfl",Invr:"nvrt",Pstr:"post",Thrs:"thrs",GrMp:"grdm",SlcC:"selc",ChnM:"mixr",colorLookup:"clrL",rplc:"rplc"};
dZ.Hd=function(){var W=g.N(dZ.Zo);delete W.GrMp;W.GdMp="grdm";return W}();dZ.X4={brit:"brightnessEvent",levl:"levels",curv:"curves",expA:"exposure",vibA:"vibrance",hue2:"hueSaturation",blnc:"colorBalance",blwh:"blackAndWhite",phfl:"photoFilter",mixr:"channelMixer",clrL:"colorLookup",nvrt:"invert",post:"posterization",thrs:"thresholdClassEvent",grdm:"gradientMapEvent",selc:"selectiveColor",rplc:"replaceColor"};
dZ.keys={levl:[bu.p7,bu.xd],curv:[bu.p7,bu.i8],hue2:[bu.p7,bu.QI],nvrt:[bu.p7,bu.sf],blnc:[bu.p7,bu.Jc]};
dZ.s1=function(W){var q=dY.wy("mixr");q.Mnch={t:"bool",v:W.Hi};function X(k,N){var B={classID:"ChMx"},U={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var l in U)B[l]={t:"UntF",v:{type:"#Prc",val:k[N+U[l]]}};return{t:"Objc",v:B}}if(W.Hi)q.Gry=X(W._,0);
else{q.Rd=X(W._,0);q.Grn=X(W._,5);q.Bl=X(W._,10)}return q};dZ.Fg=function(W){function q(k,B,N){var U={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var l in U)if(k[l])B[N+U[l]]=k[l].v.val}var X={Hi:!1,_:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};
if(W.Mnch&&W.Mnch.v)X.Hi=!0;if(X.Hi)q(W.Gry.v,X._,0);else{q(W.Rd.v,X._,0);q(W.Grn.v,X._,5);q(W.Bl.v,X._,10)}return X};
dZ.get=function(W){for(var q in dZ.names)if(W[q]!=null)return q;return null};dZ.z2=function(W,q){var X=dZ.Ap,k;
if(W=="brit"){var B=q.Brgh?q.Brgh.v:0,U=q.Cntr?q.Cntr.v:0,l=q.useLegacy?q.useLegacy.v:!1;if(l){var K=B/255,D=1+U/100;
if(D>1)D=1+Math.tan(Math.PI/2*U/101);var m=(1-D)/2,Y=g.Id.wN(K,K,K),a=[D,0,0,m,0,D,0,m,0,0,D,m,0,0,0,1],p=g.Id.multiply(a,Y),M={o:new Float32Array(256),L:new Float32Array(256),X:new Float32Array(256)};
for(var N=0;N<256;N++)M.o[N]=N/255;g.Id.DQ(M,M,p);k={I:X.lr,Cx:M.o,TN:M.o,Dz:M.o,CV:!1,rI:!1}}else{var x=1024,R=-30+60*(U+100)/200,y=[];
for(var N=0;N<4;N++)y.push(g.yz.B9(N/3*255,N/3*255,!0));y[1].v.Hrzn.v=64;y[1].v.Vrtc.v=64-R;y[2].v.Hrzn.v=128+64;
y[2].v.Vrtc.v=128+64+R;y.sort(function(b_,hJ){return b_.v.Hrzn.v-hJ.v.Hrzn.v});var s=g.yz.wx(y,x);function F(b_,x){var y=[],a1=3;
for(var N=0;N<a1+1;N++)y.push(g.yz.B9(N/a1*255,N/a1*255,!0));y[1].v.Hrzn.v=130-b_*26;y[1].v.Vrtc.v=130+b_*51;
y[2].v.Hrzn.v=233-b_*48;y[2].v.Vrtc.v=233+b_*10;return g.yz.wx(y,x)}var E=F(Math.abs(B)/100,x);if(B<0){var o=[],G=1/x;
for(var N=0;N<x;N++){var d=N*G,u=N;while(E[u]>d&&u>1)u--;o[N]=u*G}E=o}var r=new Float32Array(x);for(var N=0;
N<x;N++){var v=Math.round((x-1)*E[N]);r[N]=s[v]}k={I:X.lr,Cx:r,TN:r,Dz:r,CV:!1,rI:!1}}}if(W=="levl"){var c=[],V,j,Y,Q,H,T,e=256;
for(var N=0;N<4;N++)c.push(i0.XN(q,N));var z=e-1;V=-c[0][0]/255;j=1/(c[0][1]/255-c[0][0]/255);Y=g.Id.multiply(g.Id.pE(j,j,j),g.Id.wN(V,V,V));
Q=g.Id.pE(1/(c[1][1]/255-c[1][0]/255),1/(c[2][1]/255-c[2][0]/255),1/(c[3][1]/255-c[3][0]/255));H=g.Id.wN(-c[1][0]/255,-c[2][0]/255,-c[3][0]/255);
T=g.Id.multiply(Q,H);var r={o:new Float32Array(e),L:new Float32Array(e),X:new Float32Array(e)};for(var N=0;
N<e;N++)r.o[N]=r.L[N]=r.X[N]=N/z;var J=1/(c[0][4]/100),P=1/(c[1][4]/100),L=1/(c[2][4]/100),A=1/(c[3][4]/100);
g.Id.DQ(r,r,T);for(var N=0;N<e;N++){r.o[N]=Math.max(0,Math.min(1,Math.pow(r.o[N],P)));r.L[N]=Math.max(0,Math.min(1,Math.pow(r.L[N],L)));
r.X[N]=Math.max(0,Math.min(1,Math.pow(r.X[N],A)))}g.Id.DQ(r,r,Y);for(var N=0;N<e;N++){r.o[N]=Math.max(0,Math.min(1,Math.pow(r.o[N],J)));
r.L[N]=Math.max(0,Math.min(1,Math.pow(r.L[N],J)));r.X[N]=Math.max(0,Math.min(1,Math.pow(r.X[N],J)))}V=c[0][2]/255;
j=c[0][3]/255-c[0][2]/255;Y=g.Id.multiply(g.Id.wN(V,V,V),g.Id.pE(j,j,j));Q=g.Id.pE(c[1][3]/255-c[1][2]/255,c[2][3]/255-c[2][2]/255,c[3][3]/255-c[3][2]/255);
H=g.Id.wN(c[1][2]/255,c[2][2]/255,c[3][2]/255);T=g.Id.multiply(H,Q);g.Id.DQ(r,r,g.Id.multiply(Y,T));
k={I:X.lr,Cx:r.o,TN:r.L,Dz:r.X,CV:!1,rI:!1}}if(W=="curv"){var h=eR.XN(q,0).length==256?1:0,C=[];if(h==0){var w=g.yz.wx(eR.XN(q,0),256);
for(var N=1;N<4;N++){var f=g.yz.wx(eR.XN(q,N),256);C.push(g.yz.a7a(f,w))}}else{var O=[];for(var N=0;
N<4;N++){var n=new Float32Array(256);O.push(n);var $=eR.XN(q,N);for(var u=0;u<256;u++)n[u]=$[u]/255}for(var N=1;
N<4;N++)C.push(g.yz.a7a(O[N],O[0]))}k={I:X.lr,Cx:C[0],TN:C[1],Dz:C[2],CV:!1,rI:!1}}if(W=="expA"){var d9=q.Exps,i=q.Ofst,dF=q.gammaCorrection,t=d9?d9.v:0,im=i?i.v:0,bc=dF?dF.v:1,r=new Float32Array(256);
for(var N=0;N<256;N++){var q=N/255,at=Math.pow(Math.abs(im),1/(Math.PI/2));if(im>0){q=Math.max(im/Math.E,q);
q=q*Math.exp(im/1.75+t/Math.PI);q=(1-at)*q+at*1}else{q=q*Math.exp(-im*1.75+t/Math.PI);q=q+-at*1.14}q=Math.pow(q,1/bc);
r[N]=Math.max(0,Math.min(1,q))}k={I:X.lr,Cx:r,TN:r,Dz:r,CV:!1,rI:!1}}if(W=="vibA"){var l9=(q.vibrance?q.vibrance.v:0)/100,fF=(q.Strt?q.Strt.v:0)/100,at=1+l9*(l9>0?.25:.5),g$=.8+.2/at;
k={I:X.ev,rl:[l9,fF,g$,at]}}if(W=="hue2"){var fR=[],cr=[],eE=[],bQ=q.Clrz?q.Clrz.v:!1,e=256,z=e-1;for(var N=0;
N<e;N++){fR[N]=N/z;cr[N]=0;eE[N]=0}var hT=cW.XN(q,0),df=dZ.EK(hT[1]/100);if(bQ){var eV=hT[0]/360;for(var N=0;
N<e;N++){fR[N]=eV;cr[N]=df}}else{for(var N=0;N<e;N++){var gU=fR[N],i8=cr[N];fR[N]+=hT[0]/360;for(var u=0;
u<6;u++){var bv=cW.XN(q,u+1),fE=bv.al,d5=bv.DU,at=0;for(var aR=1;aR<4;aR++)if(d5[aR]<d5[0])d5[aR]+=360;
var l8=d5[0],au=d5[1],hx=d5[2],fw=d5[3],cx=gU*360;if(cx<d5[0])cx+=360;var fg=(cx-l8)/(au-l8),iI=(cx-hx)/(fw-hx);
if(fg<0)at=0;else if(fg<1)at=fg;else if(iI<0)at=1;else if(iI<1)at=1-iI;else at=0;var D=dZ.EK(fE[1]/100);
fR[N]+=at*fE[0]/360;cr[N]+=at*D;eE[N]+=at*fE[2]/100}}for(var N=0;N<e;N++){cr[N]=(1+cr[N])*(1+df)-1;eE[N]=Math.max(-1,Math.min(1,eE[N]))}}var r=g.j(e*4*1,32);
for(var N=0;N<e;N++){r[4*N]=fR[N];r[4*N+1]=dZ.agf(cr[N]);r[4*N+2]=eE[N]}var eq=hT[2]/100,fS=eq<0?-eq:eq,f1=eq<0?0:1;
k={I:X.Cy,map:r,ahc:fS*f1,$X:1-fS,af$:hT[2]/100,a8h:bQ?1:0}}if(W=="nvrt"){var r=new Float32Array(256);
for(var N=0;N<256;N++)r[N]=1-N/255;k={I:X.lr,Cx:r,TN:r,Dz:r,CV:!1,rI:!1}}if(W=="post"){var c4=q.Lvls.v,r=new Float32Array(256),at=c4/255.001,ea=1/(c4-1);
for(var N=0;N<256;N++)r[N]=Math.floor(N*at)*ea;k={I:X.lr,Cx:r,TN:r,Dz:r,CV:!1,rI:!1}}if(W=="grdm"){var ie=q.Grad.v,i$=q.Rvrs,x=1024,cI;
if(ie.Clrs){var cD=g.ov.vB(ie,0,0);cI=g.ov.aKE(ie,cD,x,i$?i$.v:!1)}else{cI=g.ov.ao$(ie,x,i$?i$.v:!1)}var fG=new Float32Array(x),cH=new Float32Array(x),hL=new Float32Array(x);
g.u6(cI,fG,0);g.u6(cI,cH,1);g.u6(cI,hL,2);k={I:X.lr,Cx:fG,TN:cH,Dz:hL,CV:!0,rI:!1}}if(W=="selc"){var ee=new Float32Array(9*3*2),aj=q.$Y,iA=q.Mthd?q.Mthd.v.CrcM=="Absl":!1;
for(var u=0;u<9;u++){var hZ=u*6,bZ=hM.XN(q,u),k_=bZ[0]/100,kW=bZ[1]/100,iU=bZ[2]/100,kO=bZ[3]/100;if(iA){ee[hZ]=ee[hZ+1]=ee[hZ+2]=1;
ee[hZ+3]=k_*(1+kO)+kO;ee[hZ+4]=kW*(1+kO)+kO;ee[hZ+5]=iU*(1+kO)+kO}else{ee[hZ+0]=(1+k_)*(1+kO);ee[hZ+1]=(1+kW)*(1+kO);
ee[hZ+2]=(1+iU)*(1+kO)}}k={I:X.X7,aoT:ee}}if(W=="blwh"){var hq="Rd Yllw Grn Cyn Bl Mgnt".split(" "),k=[],gf=0,h5=0;
for(var N=0;N<6;N++)k.push(q[hq[N]].v);k.push(q.useTint.v,q.tintColor.v);var e8=[];for(var N=0;N<6;N++)e8.push((k[N]-50)/50);
var gi=g.ov.yM(k[7]);gi.o/=255;gi.L/=255;gi.X/=255;var cg=g.v9(gi.o,gi.L,gi.X),hn=g.L2(g.Vy(cg.QB,1,.5)),bF=cg.Sp*cg.he;
if(hn==.5)gf=h5=.5;else{gf=bF*(.5-hn)/(.5/hn-1);h5=1-bF*(.5-hn)-1/(2*(1-hn));h5/=1-1/(2*(1-hn))}k={I:X.OE,aG3:e8,Ej:k[6]?1:0,aeb:cg.QB,L2:hn,ax8:bF,BV:gf,aiS:h5}}if(W=="blnc"){var c=[],gS=["ShdL","MdtL","HghL"];
for(var N=0;N<3;N++){if(q[gS[N]]==null){c[N]=[0,0,0];continue}var c4=q[gS[N]].v,hP=c4[0].v/100,iy=c4[1].v/100,cs=c4[2].v/100,fH=q.PrsL==null||q.PrsL.v?(Math.min(hP,iy,cs)+Math.max(hP,iy,cs))/2:0;
c[N]=[hP-fH,iy-fH,cs-fH]}var C=[new Float32Array(256),new Float32Array(256),new Float32Array(256)];for(var u=0;
u<3;u++)for(var N=0;N<256;N++){var d=N*(1/255),fM=0,R=0,az=0;R=c[2][u];az=Math.abs(R);if(R<0)fM=Math.pow(d,Math.SQRT2);
else fM=1.63*(Math.pow(d+.04,.5)-.2);d=az*fM+(1-az)*d;R=c[1][u];az=Math.abs(R);if(R<0)fM=Math.pow(d,2);
else fM=Math.min(2.35*(Math.pow(d+.09,.5)-.3),Math.pow(d,1/2));d=az*fM+(1-az)*d;R=c[0][u];az=Math.abs(R);
if(R<0)fM=d<.4?0:Math.pow((d-.4)/.6,Math.SQRT2);else fM=Math.pow(d,Math.SQRT2/2);d=az*fM+(1-az)*d;d=Math.max(0,Math.min(1,d));
C[u][N]=d}k={I:X.lr,Cx:C[0],TN:C[1],Dz:C[2],CV:!1,rI:!1}}if(W=="phfl"){var er=g.ov.yM(q.Clr.v),aJ=[er.o/255,er.L/255,er.X/255],kS=q.Dnst.v/100,C=[new Float32Array(256),new Float32Array(256),new Float32Array(256)];
for(var u=0;u<3;u++)for(var N=0;N<256;N++){var d=N*(1/255),ge=d*aJ[u];ge=Math.max(0,Math.min(1,ge));
d=kS*ge+(1-kS)*d;C[u][N]=d}k={I:X.lr,Cx:C[0],TN:C[1],Dz:C[2],CV:!1,rI:q.PrsL.v}}if(W=="thrs"){var r=new Float32Array(256);
for(var N=q.Lvl.v;N<256;N++)r[N]=1;k={I:X.lr,Cx:r,TN:r,Dz:r,CV:!0,rI:!1}}if(W=="mixr"){var aT=dZ.Fg(q),p=[];
for(var N=0;N<aT._.length;N++)if(N%5!=3)p.push(aT._[N]/100);if(aT.Hi){for(var fQ=1;fQ<3;fQ++)for(var d=0;
d<4;d++)p[fQ*4+d]=p[d]}k={I:X.R_,Ez:p}}if(W=="rplc"){var j6=q.Mnm.v,et=q.Mxm.v;k={I:X.Or,fF:[j6.Lmnc.v,j6.A.v,j6.B.v],qK:[et.Lmnc.v,et.A.v,et.B.v],shift:[q.H.v/360,q.Strt.v/100,q.Lght.v/100],su:q.Fzns.v/150}}if(W=="clrL"&&q.profile){var d2=new Uint8Array(q.profile.v),kx=ICC.R(d2.buffer),c2=[],ke=17,c2=ICC.U.sampleLUT(kx,ke);
k={I:X.bX,Wa:ICC.U.lutToRGBA32(c2,ke),aGc:c2,Xb:ke}}var D=q?q.showClipping:null;if(D){var dv=[k.Cx,k.TN,k.Dz],fN=D.v==1?1/255:253/255;
for(var n=0;n<3;n++)for(var N=0;N<dv[n].length;N++)dv[n][N]=dv[n][N]<fN?0:1}return k};dZ.YW=function(W,q){var X=-1;
if(W!="levl"||q==null)X=-1;else if(q.Auto)X=0;else if(q.AuCo)X=1;else if(q.autoBlackWhite)X=2;return X};
dZ.Ap={lr:0,Cy:1,ev:2,X7:3,OE:4,R_:5,Or:6,bX:7};dZ.EK=function(W){if(W<0)return W;return Math.pow(Math.tan(Math.PI/2*W),1.3)};
dZ.agf=function(W){if(W<0)return W;W=Math.pow(W,1/1.3);return Math.atan2(W,1)/(Math.PI/2)};dZ.GT=function(W,q,X,k){var B=dZ.Ap,U=Date.now();
if(dd.gP&&k.C()>300*300&&W.I!=B.lr&&W.I!=B.bX){k=k.P();k.x=k.y=0;var l=dd.I9(0,k.r,k.$,g.Oj(q));l.set(q);
dd.vo(l,k);l.Dx(k);dZ.Mn(W,l.SD,k);l.get(X);return}var K=q.length,D=g.Oj(q),m=D==8?255:D==16?65535:1,Y=1/m;
for(var N=0;N<K;N+=4)X[N+3]=q[N+3];if(W.I==B.bX){var a=W.aGc,p=W.Xb;ICC.U.applyLUT(a,p,q,X);var K=q.length}if(W.I==B.R_)g.Id.ay2(q,X,W.Ez);
if(W.I==B.OE){var M=W.ax8,x=W.L2,R=W.BV,y=W.aiS,K=q.length;for(var N=0;N<K;N+=4){var k=q[N]*Y,s=q[N+1]*Y,F=q[N+2]*Y,E=g.Kp(k,s,F),o=0;
for(var G=0;G<6;G++)o+=Math.min(1,1.7*(1-E.RG))*E.Sp*W.aG3[G]*dZ.adb(E.QB,G*(1/6));var d=Math.max(0,Math.min(1,E.RG*(1+o)));
if(W.Ej==1){var u=0;if(d<R)u=d*(.5/x);else if(d<y)u=d+M*(.5-x);else u=1-(1-d)*.5/(1-x);E.QB=W.aeb;E.Sp=Math.min(1,M+3*M*Math.abs(d-.5*(R+y)));
E.RG=u}else{E.QB=0;E.Sp=0;E.RG=d}var r=g.Vy(E.QB,E.Sp,E.RG);X[N]=r.o*m;X[N+1]=r.L*m;X[N+2]=r.X*m}}if(W.I==B.X7){var v=W.aoT,K=q.length,c=1/255;
for(var N=0;N<K;N+=4){var k=q[N]*c,s=q[N+1]*c,F=q[N+2]*c,E=g.Kp(k,s,F),V=Math.max(k,Math.max(s,F)),j=Math.min(k,Math.min(s,F)),Q=1-k,H=1-s,T=1-F,e=0,z=0,J=0;
for(var G=0;G<9;G++){var P=G*6,C=0;if(v[P]==1&&v[P+1]==1&&v[P+2]==1&&v[P+3]==0&&v[P+4]==0&&v[P+5]==0)continue;
var L=Q*v[P]+v[P+3],A=H*v[P+1]+v[P+4],h=T*v[P+2]+v[P+5];if(G<6)C=dZ.adb(E.QB,G*(1/6))*E.Sp*2*Math.min(E.RG,1-E.RG);
else if(G==6)C=Math.max(0,j-.5)*2;else if(G==7)C=1-(Math.abs(V-.5)+Math.abs(j-.5));else C=Math.max(0,.5-V)*2;
e+=(Math.max(0,Math.min(1,L))-Q)*C;z+=(Math.max(0,Math.min(1,A))-H)*C;J+=(Math.max(0,Math.min(1,h))-T)*C}Q=Math.max(0,Math.min(1,Q+e));
H=Math.max(0,Math.min(1,H+z));T=Math.max(0,Math.min(1,T+J));k=1-Q;s=1-H;F=1-T;X[N]=Math.round(k*255);
X[N+1]=Math.round(s*255);X[N+2]=Math.round(F*255)}}if(W.I==B.lr){g.ao2(q,X,W.Cx,W.TN,W.Dz,W.CV,W.rI)}if(W.I==B.Cy){if(dZ.ahe==null){dZ.ahe=new Float64Array(1024);
for(var N=0;N<1024;N++)dZ.ahe[N]=dZ.EK(-1+2*N/1023)}var w=dZ.ahe,f=(W.map.length>>>2)-1,O=W.map;for(var N=0;
N<K;N+=4){var k=q[N]*Y,s=q[N+1]*Y,F=q[N+2]*Y,n=Math.min(k,s,F),$=Math.max(k,s,F),d9=(g.Kp(k,s,F).QB+5e-4)*f,i=0,dF=0,t=d9-Math.floor(d9),im=Math.floor(d9)*4,bc=Math.min(f*4,im+4),at=(1-t)*O[im]+t*O[bc+0],l9=(1-t)*O[im+1]+t*O[bc+1],fF=(1-t)*O[im+2]+t*O[bc+2],o=-fF,g$=n;
if(0<fF){o=fF;g$=$}var fR=W.ahc+W.$X*o*g$,cr=W.$X*(1-o);k=fR+cr*k;s=fR+cr*s;F=fR+cr*F;$=Math.max(k,s,F);
n=Math.min(k,s,F);dF=($+n)*.5;if($!=n){var eE=$-n;i=dF>.5?eE/(2-($+n)):eE/($+n)}var bQ=l9;if(W.a8h==0){l9=w[Math.floor((1+l9)*511.5)];
bQ=Math.min(i*(1+l9),1)}var r=g.Vy(at,bQ,dF);k=r.o;s=r.L;F=r.X;X[N]=k*m;X[N+1]=s*m;X[N+2]=F*m}}if(W.I==B.Or){g.cX(q,X);
var hT=new Uint32Array(q.buffer),df=new Uint32Array(X.buffer),K=hT.length,eV=W.su,gU=1/eV,i8={xd:W.fF[0],iM:W.fF[1],X:W.fF[2]},bv={xd:W.qK[0],iM:W.qK[1],X:W.qK[2]};
for(var N=0;N<K;N++){var fE=hT[N],d5=fE&255,aR=fE>>>8&255,l8=fE>>>16&255,k=d5*(1/255),s=aR*(1/255),F=l8*(1/255),au=fE>>>24,hx=g.j7(d5,aR,l8),fw=g.ae0(hx,i8,bv,eV,gU);
if(fw==0)continue;var E=g.Kp(k,s,F),at=2+E.QB+W.shift[0];E.QB=at-~~at;E.Sp=Math.max(0,Math.min(1,E.Sp+W.shift[1]));
E.RG=Math.max(0,Math.min(1,E.RG+W.shift[2]));var r=g.Vy(E.QB,E.Sp,E.RG);k=(1-fw)*k+fw*r.o;s=(1-fw)*s+fw*r.L;
F=(1-fw)*F+fw*r.X;df[N]=au<<24|F*255<<16|s*255<<8|k*255}}if(W.I==B.ev){var cx=W.rl[0],fg=W.rl[1],iI=W.rl[2],o=W.rl[3],eq=g.Id.V4([.299,.587,.114,-.147,-.289,.436,.615,-.515,-.1]),fS=g.Id.i5(eq),f1=2.4;
function p(cI){return Math.max(0,Math.min(1,cI))}function c4(cI){return Math.pow(cI,f1)}function ea(cI){return Math.pow(cI,1/f1)}function ie(k,s,F,cI){k=c4(k);
s=c4(s);F=c4(F);var cD=g.Id.Z2(eq,[k,s,F,1]);cD[0]*=iI;cD[1]*=o;cD[2]*=o;var r=g.Id.Z2(fS,cD);r[0]=ea(p(r[0]));
r[1]=ea(p(r[1]));r[2]=ea(p(r[2]));return r}for(var N=0;N<K;N+=4){var k=q[N]*Y,s=q[N+1]*Y,F=q[N+2]*Y,r=ie(k,s,F,cx);
k=r[0];s=r[1];F=r[2];var i$=g.Kp(k,s,F);i$.Sp=Math.max(0,Math.min(1,i$.Sp*(1+fg)));r=g.Vy(i$.QB,i$.Sp,i$.RG);
k=r.o;s=r.L;F=r.X;X[N]=k*m;X[N+1]=s*m;X[N+2]=F*m}}};dZ.Mn=function(W,q,X){dd._h.Mn(W,q)};dZ.adb=function(W,q){var X=g.Lg(q,W)*6;
return Math.max(0,Math.min(1,X<0?1+X:1-X))};var dY={};dY.oX=function(W){var q=W.filterID.v;return q>16777215?Z.aFX(q):W.Fltr.v.classID};
dY.dK=[{bE:"GEfc"},{bE:"LnCr"},{bE:"Adobe Camera Raw Filter"},{bE:"LqFy"},{bE:"VaPo",nC:!0},{kf:"3D",s3:["lightFilterGradient","Dila"]},{kf:[24,2],s3:"Avrg,Blr ,BlrM,boxblur,GsnB,Bokh,MtnB,RdlB,surfaceBlur".split(",")},{kf:[24,3,11],s3:["blurbTransform","blurbTransform","blurbTransform","blurbTransform","blurbTransform"]},{kf:[24,4],s3:"Dspl,Kale,Pnch,Plr ,Rple,Shr ,Sphr,Twrl,Wave,ZgZg".split(",")},{kf:[24,6],s3:["AdNs","Dspc","DstS","Mdn ","denoise"]},{kf:[24,8],s3:"ClrH,Crst,Frgm,Mztn,Msc ,Pntl".split(",")},{kf:[24,10],s3:["Flam","Clds","DfrC","Fbrs","LnsF"]},{kf:[24,12],s3:["Shrp","ShrE","ShrM","smartSharpen","UnsM"]},{kf:[24,14],s3:"Dfs ,Embs,FndE,oilPaint,Slrz,TrcC,Wnd ".split(",")},{kf:[24,16],s3:"HghP,HsbP,Mxm ,Mnm ,Ofst,Rept,Ctoa,Dthr,Part".split(",")},{kf:"Fourier",s3:["dDFT","iDFT"]}];
dY.X4={LqFy:"LqFy",LnCr:"LnCr",GEfc:"GEfc","Adobe Camera Raw Filter":"Adobe Camera Raw Filter",Avrg:"Avrg","Blr ":"blurEvent",BlrM:"blurMethod",boxblur:"boxblur",GsnB:"gaussianBlur",Bokh:"Bokh",MtnB:"motionBlur",RdlB:"radialBlur",surfaceBlur:"surfaceBlur",lightFilterGradient:"lightFilterGradient",adaptCorrect:"adaptCorrect",Dspl:"displace",Kale:"Kale",Pnch:"pinch","Plr ":"polar",Rple:"ripple","Shr ":"shear",Sphr:"spherize",Twrl:"twirl",Wave:"wave",ZgZg:"zigZag",AdNs:"addNoise",Dspc:"despeckle",DstS:"dustAndScratches","Mdn ":"median",denoise:"denoise",ClrH:"colorHalftone",Crst:"crystallize",Frgm:"fragment",Mztn:"mezzotint","Msc ":"mosaic",Pntl:"pointillize",Flam:"",Clds:"clouds",DfrC:"differenceClouds",Fbrs:"Fbrs",LnsF:"LnsF",Shrp:"sharpen",ShrE:"sharpenEdges",ShrM:"sharpenMore",smartSharpen:"smartSharpen",UnsM:"unsharpMask","Dfs ":"diffuse",Embs:"emboss",FndE:"findEdges",oilPaint:"oilPaint",Slrz:"solarize",TrcC:"traceContour","Wnd ":"wind",HghP:"highPass",HsbP:"HsbP","Mxm ":"maximum","Mnm ":"minimum",Ofst:"offset",Rept:"Rept",Ctoa:"Ctoa",Dthr:"Dthr",Part:"Part",dDFT:"dDFT",iDFT:"iDFT"};
dY.ZO={AddNoise:"AdNs",Average:"Avrg",Blur:"Blr ",BlurMore:"BlrM",Clouds:"Clds",DifferenceClouds:"DfrC",DustAndScratches:"DstS",GaussianBlur:"GsnB",HighPass:"HghP",Maximum:"Mxm ",Minimum:"Mnm ",MotionBlur:"MtnB",Offset:"Ofst",Pinch:"Pnch",PolarCoordinates:"Plr ",Ripple:"Rple",Sharpen:"Shrp",SharpenMore:"ShrM",Twirl:"Twrl",UnsharpMask:"UnsM",Wave:"Wave",Displace:"Dspl",BrightnessContrast:"brit"};
dY.Z={rigidTransform:_.Zw,perspectiveWarpTransform:_.BG,blurbTransform:_.py};dY.names={lightFilterGradient:[24,17,8],rigidTransform:[10,46],perspectiveWarpTransform:"Perspective Warp",blurbTransform:[24,3,11],LnCr:[24,1,1,0],LqFy:[24,1,0,0],GEfc:[24,0],Avrg:[24,3,0],"Blr ":[24,3,1],BlrM:[24,3,2],boxblur:[24,3,3],GsnB:[24,3,4],Bokh:[24,3,5],MtnB:[24,3,6],RdlB:[24,3,7],surfaceBlur:[24,3,10],Dspl:[24,5,0],Pnch:[24,5,1],"Plr ":[24,5,2],Rple:[24,5,3],"Shr ":[24,5,4],Sphr:[24,5,5],Twrl:[24,1,0,1,3],Wave:[24,5,6],ZgZg:[24,5,7],Kale:[24,5,8],AdNs:[24,7,0],Dspc:[24,7,1],DstS:[24,7,2],"Mdn ":[24,7,3],denoise:[24,7,4],ClrH:[24,9,0],Crst:[24,9,1],Frgm:[24,9,3],Mztn:[24,9,4],"Msc ":[24,9,5],Pntl:[24,9,6],Clds:[24,11,0],DfrC:[24,11,1],LnsF:[24,11,2],Flam:[24,11,3],Fbrs:[24,11,4],Shrp:[24,13,0],ShrE:[24,13,1],ShrM:[24,13,2],smartSharpen:[24,13,3],UnsM:[24,13,4],"Dfs ":[24,15,0],Embs:[24,15,1],FndE:[24,15,3],oilPaint:[24,15,4],Slrz:[24,15,5],TrcC:[24,15,6],"Wnd ":[24,15,7],HghP:[24,17,1],HsbP:"HSB/HSL","Mxm ":[24,17,2],"Mnm ":[24,17,3],Ofst:[24,17,4],Rept:[24,17,5],Ctoa:[24,17,6],Dthr:[12,23,3],Part:[24,17,7],dDFT:"Fourier Transform",iDFT:"Inverse Fourier Transform",defr:[2,13],Dila:"Texture Dilation",VaPo:"Vanishing Point",adaptCorrect:["VAR0/VAR1",[19,6,0],[19,6,2]],"Adobe Camera Raw Filter":"Camera Raw"};
dY.wy=function(W){var q=null;if(W=="GEfc")q={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:jJ.wy("GlwE")}]}};
if(W=="LqFy"){var X={Ah:5,QB:5,map:new Float32Array(5*5*2)},k=new Uint8Array(cc.FN(X)),B=[];for(var N=0;
N<k.length;N++)B.push(k[N]);q={__name:"Liquify",classID:"LqFy",LqMe:{t:"tdta",v:B}}}if(W=="rigidTransform"){q={__name:"Puppet Warp",classID:"rigidTransform",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},rigidType:{t:"bool",v:!0},puppetShapeList:{t:"VlLs",v:[]},PuX0:{t:"doub",v:0},PuX1:{t:"doub",v:1e3},PuX2:{t:"doub",v:1e3},PuX3:{t:"doub",v:0},PuY0:{t:"doub",v:0},PuY1:{t:"doub",v:0},PuY2:{t:"doub",v:1e3},PuY3:{t:"doub",v:1e3}}}if(W=="perspectiveWarpTransform"){q={__name:"Perspective Warp",classID:"perspectiveWarpTransform",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},Md:{t:"enum",v:{perspectiveWarpMode:"layout"}},referenceRect:{t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:-1014}},Left:{t:"UntF",v:{type:"#Pxl",val:0}},Btom:{t:"UntF",v:{type:"#Pxl",val:3098}},Rght:{t:"UntF",v:{type:"#Pxl",val:3320}}}},vertices:{t:"VlLs",v:[]},warpedVertices:{t:"VlLs",v:[]},quads:{t:"VlLs",v:[]},PuX0:{t:"doub",v:0},PuX1:{t:"doub",v:1e3},PuX2:{t:"doub",v:1e3},PuX3:{t:"doub",v:0},PuY0:{t:"doub",v:0},PuY1:{t:"doub",v:0},PuY2:{t:"doub",v:1e3},PuY3:{t:"doub",v:1e3}}}if(W=="blurbTransform"){q={__name:"Blur Gallery",classID:"blurbTransform",blurbType:{t:"bool",v:!0},VrsM:{t:"long",v:1},VrsN:{t:"long",v:0},referenceRect:{t:"Objc",v:{classID:"Rctn",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:1e3},Rght:{t:"long",v:1e3}}},blurbOpenPanel:{t:"long",v:3},blurbSaveMaskChannel:{t:"bool",v:!1},blurbHighQuality:{t:"bool",v:!1},blurbPathBlurSpeed:{t:"UntF",v:{type:"#Prc",val:50}},blurbPathBlurTaper:{t:"UntF",v:{type:"#Prc",val:0}},blurbCenteredPathBlur:{t:"bool",v:!0},blurbWidgetList2:{t:"VlLs",v:[]},PuX0:{t:"doub",v:0},PuX1:{t:"doub",v:1e3},PuX2:{t:"doub",v:1e3},PuX3:{t:"doub",v:0},PuY0:{t:"doub",v:0},PuY1:{t:"doub",v:0},PuY2:{t:"doub",v:1e3},PuY3:{t:"doub",v:1e3}}}if(W=="LnCr")q={__name:"Lens Correction",classID:"LnCr",LnAg:{t:"bool",v:!0},LnAc:{t:"bool",v:!1},LnAv:{t:"bool",v:!1},LnAs:{t:"bool",v:!1},LnIp:{t:"bool",v:!1},LnFo:{t:"doub",v:0},LnPr:{t:"TEXT",v:""},LnIa:{t:"doub",v:0},LnI0:{t:"doub",v:0},LnI1:{t:"doub",v:0},LnI2:{t:"doub",v:0},LnI3:{t:"doub",v:1},LnRa:{t:"doub",v:0},LnVp:{t:"doub",v:0},LnHp:{t:"doub",v:0},LnSi:{t:"doub",v:100},LnFt:{t:"long",v:2},LnSb:{t:"doub",v:0},LnSt:{t:"long",v:50},LnRc:{t:"doub",v:0},LnGm:{t:"doub",v:0},LnBy:{t:"doub",v:0},LnNa:{t:"long",v:64},LnIh:{t:"long",v:0},LnIv:{t:"long",v:0},LnIs:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:127},Grn:{t:"doub",v:127},Bl:{t:"doub",v:127}}},LnNm:{t:"bool",v:!1}};
if(W=="adaptCorrect")q={__name:"Shadow/Highlight",classID:"adaptCorrect",sdwM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:50}},Wdth:{t:"UntF",v:{type:"#Prc",val:25}},Rds:{t:"long",v:12}}},hglM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:0}},Wdth:{t:"UntF",v:{type:"#Prc",val:0}},Rds:{t:"long",v:0}}},BlcC:{t:"doub",v:0},WhtC:{t:"doub",v:0},Cntr:{t:"long",v:0},ClrC:{t:"long",v:0}};
if(W=="Dfs ")q={__name:"Diffuse",classID:"Dfs",Md:{t:"enum",v:{DfsM:"Nrml"}},FlRs:{t:"long",v:14061024}};
if(W=="Fbrs")q={__name:"Fibers",classID:"Fbrs",Vrnc:{t:"long",v:10},Strg:{t:"long",v:1},RndS:{t:"long",v:8438429}};
if(W=="Embs")q={__name:"Emboss",classID:"Embs",Angl:{t:"long",v:45},Hght:{t:"long",v:5},Amnt:{t:"long",v:100}};
if(W=="oilPaint")q={__name:"Oil Paint",classID:"oilPaint",lightingOn:{t:"bool",v:!0},stylization:{t:"doub",v:3},brushScale:{t:"doub",v:1},microBrush:{t:"doub",v:0},LghD:{t:"long",v:45},specularity:{t:"doub",v:1},cleanliness:{t:"doub",v:2}};
if(W=="TrcC")q={__name:"Trace Contour",classID:"TrcC",Lvl:{t:"long",v:128},Edg:{t:"enum",v:{CntE:"Lwr"}}};
if(W=="Wnd ")q={__name:"Wind",classID:"Wnd",WndM:{t:"enum",v:{WndM:"Wnd"}},Drct:{t:"enum",v:{Drct:"Rght"}}};
if(W=="lightFilterGradient")q={__name:"Generate Normals",classID:"lightFilterGradient",blur:{t:"doub",v:0},textureScale:{t:"doub",v:1},Scl:{t:"doub",v:1},Dtl:{t:"VlLs",v:[{t:"doub",v:1},{t:"doub",v:1},{t:"doub",v:1}]}};
if(W=="boxblur")q={__name:"Box Blur",classID:"boxblur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}}};if(W=="GsnB")q={__name:"Gaussian Blur",classID:"GsnB",Rds:{t:"UntF",v:{type:"#Pxl",val:7.2}}};
if(W=="Bokh")q={__name:"Lens Blur",classID:"Bokh",BkDi:{t:"enum",v:{BtDi:"BeIn"}},BkDp:{t:"long",v:0},BkDs:{t:"bool",v:!1},BkIs:{t:"enum",v:{BtIs:"BeS6"}},BkIb:{t:"doub",v:30},BkIc:{t:"long",v:0},BkIr:{t:"long",v:0},BkSb:{t:"doub",v:0},BkSt:{t:"long",v:255},BkNa:{t:"long",v:0},BkNt:{t:"enum",v:{BtNt:"BeNu"}},BkNm:{t:"bool",v:!1}};
if(W=="MtnB")q={__name:"Motion Blur",classID:"MtnB",Angl:{t:"long",v:0},Dstn:{t:"UntF",v:{type:"#Pxl",val:4}}};
if(W=="RdlB")q={__name:"Radial Blur",classID:"RdlB",Amnt:{t:"long",v:10},BlrM:{t:"enum",v:{BlrM:"Spn"}},BlrQ:{t:"enum",v:{BlrQ:"Gd"}},Cntr:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.5},Vrtc:{t:"doub",v:.5}}}};
if(W=="surfaceBlur")q={__name:"Surface Blur",classID:"surfaceBlur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}},Thsh:{t:"long",v:15}};
if(W=="denoise")q={__name:"Reduce Noise",classID:"denoise",ClNs:{t:"UntF",v:{type:"#Prc",val:29}},Shrp:{t:"UntF",v:{type:"#Prc",val:0}},removeJPEGArtifact:{t:"bool",v:!1},channelDenoise:{t:"VlLs",v:[{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Cmps"}}]},Amnt:{t:"long",v:5},EdgF:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Rd"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Grn"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Bl"}}]},Amnt:{t:"long",v:0}}}]},preset:{t:"TEXT",v:"Default"}};
if(W=="Dspl")q={__name:"Displace",classID:"Dspl",HrzS:{t:"long",v:10},VrtS:{t:"long",v:10},DspM:{t:"enum",v:{DspM:"StrF"}},UndA:{t:"enum",v:{UndA:"RptE"}},DspF:{t:"Pth ",v:{sig:"txtu",pth:"file.psd\0"}}};
if(W=="Pnch")q={__name:"Pinch",classID:"Pnch",Amnt:{t:"long",v:-100}};if(W=="Plr ")q={__name:"Polar Coordinates",classID:"Plr",Cnvr:{t:"enum",v:{Cnvr:"RctP"}}};
if(W=="Rple")q={__name:"Ripple",classID:"Rple",Amnt:{t:"long",v:999},RplS:{t:"enum",v:{RplS:"Mdm"}}};
if(W=="Shr ")q={__name:"Shear",classID:"Shr",ShrP:{t:"VlLs",v:[{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:1}}},{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:128}}}]},UndA:{t:"enum",v:{UndA:"WrpA"}},ShrS:{t:"long",v:0},ShrE:{t:"long",v:1}};
if(W=="Sphr")q={__name:"Spherize",classID:"Sphr",Amnt:{t:"long",v:100},SphM:{t:"enum",v:{SphM:"Nrml"}}};
if(W=="Twrl")q={__name:"Twirl",classID:"Twrl",Angl:{t:"long",v:90}};if(W=="Wave")q={__name:"Wave",classID:"Wave",Wvtp:{t:"enum",v:{Wvtp:"WvSn"}},NmbG:{t:"long",v:1},WLMn:{t:"long",v:101},WLMx:{t:"long",v:102},AmMn:{t:"long",v:36},AmMx:{t:"long",v:37},SclH:{t:"long",v:100},SclV:{t:"long",v:100},UndA:{t:"enum",v:{UndA:"WrpA"}},RndS:{t:"long",v:743887}};
if(W=="ZgZg")q={__name:"ZigZag",classID:"ZgZg",Amnt:{t:"long",v:50},NmbR:{t:"long",v:10},ZZTy:{t:"enum",v:{ZZTy:"ArnC"}}};
if(W=="AdNs")q={__name:"Add Noise",classID:"AdNs",Dstr:{t:"enum",v:{Dstr:"Unfr"}},Nose:{t:"UntF",v:{type:"#Prc",val:20}},Mnch:{t:"bool",v:!1},FlRs:{t:"long",v:100691320}};
if(W=="DstS")q={__name:"Dust & Scratches",classID:"DstS",Rds:{t:"long",v:2},Thsh:{t:"long",v:26}};if(W=="Mdn ")q={__name:"Median",classID:"Mdn",Rds:{t:"UntF",v:{type:"#Pxl",val:7}}};
if(W=="ClrH")q={__name:"Color Halftone",classID:"ClrH",Rds:{t:"long",v:8},Ang1:{t:"long",v:10},Ang2:{t:"long",v:40},Ang3:{t:"long",v:70},Ang4:{t:"long",v:80}};
if(W=="Crst")q={__name:"Crystallize",classID:"Crst",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929224}};
if(W=="Mztn")q={__name:"Mezzotint",classID:"Mztn",MztT:{t:"enum",v:{MztT:"FnDt"}},FlRs:{t:"long",v:204994187}};
if(W=="Msc ")q={__name:"Mosaic",classID:"Msc",ClSz:{t:"UntF",v:{type:"#Pxl",val:12}}};if(W=="Pntl")q={__name:"Pointillize",classID:"Pntl",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929236}};
if(W=="LnsF")q={__name:"Lens Flare",classID:"LnsF",Brgh:{t:"long",v:100},FlrC:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.19140625},Vrtc:{t:"doub",v:.185628741979599}}},Lns:{t:"enum",v:{Lns:"Zm"}}};
if(W=="Dthr")q={__name:"Dither",classID:"Dthr",Plte:{t:"long",v:0},Mthd:{t:"long",v:1}};if(W=="Part")q={__name:"Dither",classID:"Part",Cont:{t:"long",v:10},Size:{t:"long",v:8},Dpth:{t:"long",v:100},Brgh:{t:"long",v:800},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:255,t:"doub"},Bl:{v:255,t:"doub"}}},Time:{t:"doub",v:0},Turb:{t:"long",v:0},Blnk:{t:"bool",v:!0},Fall:{t:"bool",v:!1},RndS:{t:"long",v:8438429}};
if(W=="Adobe Camera Raw Filter")q={__name:"Camera Raw Filter",classID:"Adobe Camera Raw Filter",CMod:{t:"TEXT",v:"Filter"},Sett:{t:"enum",v:{Sett:"Cst"}},WBal:{t:"enum",v:{WBal:"AsSh"}},Temp:{t:"long",v:0},Tint:{t:"long",v:0},CtoG:{t:"bool",v:!1},Strt:{t:"long",v:0},Shrp:{t:"long",v:0},LNR:{t:"long",v:0},CNR:{t:"long",v:0},VigA:{t:"long",v:0},BlkB:{t:"long",v:0},RHue:{t:"long",v:0},RSat:{t:"long",v:0},GHue:{t:"long",v:0},GSat:{t:"long",v:0},BHue:{t:"long",v:0},BSat:{t:"long",v:0},Vibr:{t:"long",v:0},HA_R:{t:"long",v:0},HA_O:{t:"long",v:0},HA_Y:{t:"long",v:0},HA_G:{t:"long",v:0},HA_A:{t:"long",v:0},HA_B:{t:"long",v:0},HA_P:{t:"long",v:0},HA_M:{t:"long",v:0},SA_R:{t:"long",v:0},SA_O:{t:"long",v:0},SA_Y:{t:"long",v:0},SA_G:{t:"long",v:0},SA_A:{t:"long",v:0},SA_B:{t:"long",v:0},SA_P:{t:"long",v:0},SA_M:{t:"long",v:0},LA_R:{t:"long",v:0},LA_O:{t:"long",v:0},LA_Y:{t:"long",v:0},LA_G:{t:"long",v:0},LA_A:{t:"long",v:0},LA_B:{t:"long",v:0},LA_P:{t:"long",v:0},LA_M:{t:"long",v:0},STSH:{t:"long",v:0},STSS:{t:"long",v:0},STHH:{t:"long",v:0},STHS:{t:"long",v:0},STB:{t:"long",v:0},PC_S:{t:"long",v:0},PC_D:{t:"long",v:0},PC_L:{t:"long",v:0},PC_H:{t:"long",v:0},PC_1:{t:"long",v:25},PC_2:{t:"long",v:50},PC_3:{t:"long",v:75},ShpR:{t:"doub",v:1},ShpD:{t:"long",v:25},ShpM:{t:"long",v:0},PCVA:{t:"long",v:0},GRNA:{t:"long",v:0},LPEn:{t:"long",v:0},MDis:{t:"long",v:0},PerV:{t:"long",v:0},PerH:{t:"long",v:0},PerR:{t:"doub",v:0},PerS:{t:"long",v:100},PerA:{t:"long",v:0},PerU:{t:"long",v:0},PerX:{t:"doub",v:0},PerY:{t:"doub",v:0},AuCA:{t:"long",v:0},Ex12:{t:"doub",v:0},Cr12:{t:"long",v:0},Hi12:{t:"long",v:0},Sh12:{t:"long",v:0},Wh12:{t:"long",v:0},Bk12:{t:"long",v:0},Cl12:{t:"long",v:0},DfPA:{t:"long",v:0},DPHL:{t:"long",v:30},DPHH:{t:"long",v:70},DfGA:{t:"long",v:0},DPGL:{t:"long",v:40},DPGH:{t:"long",v:60},Dhze:{t:"long",v:0},TMMs:{t:"long",v:0},Crv:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvR:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvG:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvB:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CamP:{t:"TEXT",v:"Embedded"},CP_D:{t:"TEXT",v:"54650A341B5B5CCAE8442D0B43A92BCE"},PrVe:{t:"long",v:184549376},Rtch:{t:"TEXT",v:""},REye:{t:"TEXT",v:""},LCs:{t:"TEXT",v:""},Look:{t:"TEXT",v:""},Pset:{t:"TEXT",v:""}};
if(W=="smartSharpen")q={__name:"Smart Sharpen",classID:"smartSharpen",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},useLegacy:{t:"bool",v:!1},Amnt:{t:"UntF",v:{type:"#Prc",val:150}},Rds:{t:"UntF",v:{type:"#Pxl",val:1}},noiseReduction:{t:"UntF",v:{type:"#Prc",val:0}},blur:{t:"enum",v:{blurType:"GsnB"}}};
if(W=="UnsM")q={__name:"Unsharp Mask",classID:"UnsM",Amnt:{t:"UntF",v:{type:"#Prc",val:142}},Rds:{t:"UntF",v:{type:"#Pxl",val:4.5}},Thsh:{t:"long",v:0}};
if(W=="HghP")q={__name:"High Pass",classID:"HghP",Rds:{t:"UntF",v:{type:"#Pxl",val:3}}};if(W=="HsbP")q={__name:"HSB/HSL",classID:"HsbP",Inpt:{t:"enum",v:{ClrS:"RGBC"}},Otpt:{t:"enum",v:{ClrS:"HSBl"}}};
if(W=="Mxm ")q={__name:"Maximum",classID:"Mxm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(W=="Mnm ")q={__name:"Minimum",classID:"Mnm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(W=="Ofst")q={__name:"Offset",classID:"Ofst",Hrzn:{t:"long",v:144},Vrtc:{t:"long",v:278},Fl:{t:"enum",v:{FlMd:"Wrp"}}};
if(W=="Kale")q={__name:"Kaleidoscope",classID:"Kale",Mirr:{t:"long",v:6},MRot:{t:"long",v:0}};if(W=="Rept")q={__name:"Repeat",classID:"Rept",Scl:{v:{type:"#Prc",val:100},t:"UntF"},Rsft:{v:{type:"#Prc",val:0},t:"UntF"},SpcX:{v:{type:"#Prc",val:0},t:"UntF"},SpcY:{v:{type:"#Prc",val:0},t:"UntF"},SpcC:{t:"bool",v:!1},Angl:{t:"long",v:0}};
if(W=="Flam")q={__name:"Repeat",classID:"Flam",Type:{t:"long",v:0},Leng:{t:"long",v:140},RndL:{t:"bool",v:!1},Widt:{t:"long",v:100},Angl:{t:"long",v:0},Intr:{t:"long",v:100},Adpt:{t:"bool",v:!1},Qual:{t:"long",v:1},Clr:{v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:110,t:"doub"},Bl:{v:28,t:"doub"}},t:"Objc"},Turb:{t:"long",v:50},Jag:{t:"long",v:0},Opct:{v:{type:"#Prc",val:25},t:"UntF"},Lins:{t:"long",v:10},Botm:{t:"long",v:30},Styl:{t:"long",v:0},Shap:{t:"long",v:0},RnSh:{t:"bool",v:!1},Arng:{t:"long",v:18}};
if(W=="Ctoa")q={__name:"Color to Alpha",classID:"Ctoa",Trsp:{v:{type:"#Prc",val:0},t:"UntF"},Opct:{v:{type:"#Prc",val:100},t:"UntF"},Clr:{v:{classID:"RGBC",Rd:{v:0,t:"doub"},Grn:{v:0,t:"doub"},Bl:{v:0,t:"doub"}},t:"Objc"}};
if(W=="brit")q={__name:"Brightness/Contrast",classID:"BrgC",Brgh:{t:"long",v:0},Cntr:{t:"long",v:0},useLegacy:{t:"bool",v:!1}};
if(W=="levl")q={__name:"Levels",classID:"Lvls",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(W=="curv")q={__name:"Curves",classID:"Crvs",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(W=="expA")q={__name:"Exposure",classID:"Exps",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Exps:{t:"doub",v:0},Ofst:{t:"doub",v:0},gammaCorrection:{t:"doub",v:1}};
if(W=="vibA")q={__name:"Vibrance",classID:"vibrance",vibrance:{t:"long",v:0},Strt:{t:"long",v:0}};if(W=="hue2")q={__name:"Hue/Saturation",classID:"HStr",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Clrz:{t:"bool",v:!1},Adjs:{t:"VlLs",v:[]}};
if(W=="blnc")q={__name:"Color Balance",classID:"ClrB",ShdL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},MdtL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},HghL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},PrsL:{t:"bool",v:!0}};
if(W=="blwh")q={__name:"Black & White",classID:"BanW",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Rd:{t:"long",v:40},Yllw:{t:"long",v:85},Grn:{t:"long",v:204},Cyn:{t:"long",v:60},Bl:{t:"long",v:20},Mgnt:{t:"long",v:80},useTint:{t:"bool",v:!0},tintColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:0}}}};
if(W=="phfl")q={__name:"Photo Filter",classID:"photoFilter",Clr:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:67.06},A:{t:"doub",v:32},B:{t:"doub",v:120}}},Dnst:{t:"long",v:80},PrsL:{t:"bool",v:!0}};
if(W=="grdm")q={__name:"Gradient Map",classID:"GrMp",Rvrs:{t:"bool",v:!1},Grad:JSON.parse(kE.iv[6]).Grad};
if(W=="selc")q={__name:"Selective Color",classID:"SlcC",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Mthd:{t:"enum",v:{CrcM:"Rltv"}},ClrC:{t:"VlLs",v:[]}};
if(W=="thrs")q={__name:"Threshold",classID:"Thrs",Lvl:{t:"long",v:128}};if(W=="mixr")q={__name:"Channel Mixer",classID:"ChnM",presetKind:{t:"enum",v:{presetKindType:"presetKindDefault"}},Mnch:{t:"bool",v:!1},Rd:{t:"Objc",v:{classID:"ChMx",Rd:{t:"UntF",v:{type:"#Prc",val:100}}}},Grn:{t:"Objc",v:{classID:"ChMx",Grn:{t:"UntF",v:{type:"#Prc",val:100}}}},Bl:{t:"Objc",v:{classID:"ChMx",Bl:{t:"UntF",v:{type:"#Prc",val:100}}}}};
if(W=="clrL")q={__name:"Color Lookup",classID:"colorLookup"};if(W=="post")q={__name:"Posterize",classID:"Pstr",Lvls:{t:"long",v:3}};
if(W=="rplc")q={__name:"Replace Color",classID:"RplC",Fzns:{t:"long",v:55},Mnm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73.1},A:{t:"doub",v:23.95},B:{t:"doub",v:8.03}}},Mxm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73},A:{t:"doub",v:23},B:{t:"doub",v:8}}},H:{t:"long",v:-22},Strt:{t:"long",v:0},Lght:{t:"long",v:0}};
if(W=="fade")q={__name:"Fade",classID:"fade",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
if(W=="aply")q={classID:"null",With:{t:"Objc",v:{classID:"Clcl",T:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"RGB"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}}]},Invr:{t:"bool",v:!1},Clcl:{t:"enum",v:{Clcn:"Nrml"}},Opct:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"long",v:128},Scl:{t:"doub",v:1},PrsT:{t:"bool",v:!1}}}};
if(W=="matc"){q={__name:"Match Color",classID:"matchColor",Lght:{t:"long",v:100},ClrR:{t:"long",v:100},Fade:{t:"long",v:0},fsel:{t:"bool",v:!0},neutralizeColor:{t:"bool",v:!1},noReference:{t:"bool",v:!0}}}if(W=="Dila")q={__name:"Texture Dilation",classID:"Dila",Crop:{t:"UntF",v:{type:"#Pxl",val:0}},Rds:{t:"UntF",v:{type:"#Pxl",val:10}}};
if(W=="blendOptions")q={classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
return q};dY.U9={sFlam:function(W,q){q[0]=W.Type.v;q[1]=W.Leng.v;q[2]=W.RndL.v;q[3]=W.Widt.v;q[4]=W.Angl.v;
q[5]=W.Intr.v;q[6]=W.Adpt.v;q[7]=W.Clr.v;q[8]=W.Qual.v;q[9]=W.Turb.v;q[10]=W.Jag.v;q[11]=W.Opct.v.val;
q[12]=W.Lins.v;q[13]=W.Botm.v;q[14]=W.Styl.v;q[15]=W.Shap.v;q[16]=W.RnSh.v;q[17]=W.Arng.v},gFlam:function(W,q){W.Type.v=q[0];
W.Leng.v=q[1];W.RndL.v=q[2];W.Widt.v=q[3];W.Angl.v=q[4];W.Intr.v=q[5];W.Adpt.v=q[6];W.Clr.v=q[7];W.Qual.v=q[8];
W.Turb.v=q[9];W.Jag.v=q[10];W.Opct.v.val=q[11];W.Lins.v=q[12];W.Botm.v=q[13];W.Styl.v=q[14];W.Shap.v=q[15];
W.RnSh.v=q[16];W.Arng.v=q[17]},sAdNs:function(W,q){q[0]=W.Nose.v.val;q[1]=["Gsn","Unfr"].indexOf(W.Dstr.v.Dstr);
q[2]=W.Mnch.v},gAdNs:function(W,q){W.Nose.v.val=q[0];W.Dstr.v.Dstr=["Gsn","Unfr"][q[1]];W.Mnch.v=q[2]},sDstS:function(W,q){q[0]=W.Rds.v;
q[1]=W.Thsh.v},gDstS:function(W,q){W.Rds.v=q[0];W.Thsh.v=q[1]},sGsnB:function(W,q){q[0]=W.Rds.v.val},gGsnB:function(W,q){W.Rds.v.val=q[0]},sDila:function(W,q){q[0]=W.Crop.v.val;
q[1]=W.Rds.v.val},gDila:function(W,q){W.Crop.v.val=q[0];W.Rds.v.val=q[1]},sHghP:function(W,q){q[0]=W.Rds.v.val},gHghP:function(W,q){W.Rds.v.val=q[0]},sHsbP:function(W,q){var X=["RGBC","HSBl","HSLC"];
q[0]=X.indexOf(W.Inpt.v.ClrS);q[1]=X.indexOf(W.Otpt.v.ClrS)},gHsbP:function(W,q){var X=["RGBC","HSBl","HSLC"];
W.Inpt.v.ClrS=X[q[0]];W.Otpt.v.ClrS=X[q[1]]},"sMxm ":function(W,q){var X="preserveShape";q[0]=W.Rds.v.val;
q[1]=W[X]?["squareness","Rndn"].indexOf(W[X].v[X]):0},"gMxm ":function(W,q){var X="preserveShape";W.Rds.v.val=q[0];
W[X]={t:"enum",v:{preserveShape:["squareness","Rndn"][q[1]]}}},"sMnm ":function(W,q){var X="preserveShape";
q[0]=W.Rds.v.val;q[1]=W[X]?["squareness","Rndn"].indexOf(W[X].v[X]):0},"gMnm ":function(W,q){var X="preserveShape";
W.Rds.v.val=q[0];W[X]={t:"enum",v:{preserveShape:["squareness","Rndn"][q[1]]}}},sMtnB:function(W,q){q[0]=[W.Angl.v];
q[1]=W.Dstn.v.val;console.log(q)},gMtnB:function(W,q){W.Angl.v=typeof q[0]=="number"?q[0]:q[0][0];W.Dstn.v.val=q[1]},sOfst:function(W,q){q[0]=W.Hrzn.v;
q[1]=W.Vrtc.v;q[2]=["Rpt","Bckg","Wrp"].indexOf(W.Fl.v.FlMd)},gOfst:function(W,q){W.Hrzn.v=q[0];W.Vrtc.v=q[1];
W.Fl.v.FlMd=["Rpt","Bckg","Wrp"][q[2]]},sPnch:function(W,q){q[0]=W.Amnt.v},gPnch:function(W,q){W.Amnt.v=q[0]},"sPlr ":function(W,q){q[0]=["RctP","PlrR"].indexOf(W.Cnvr.v.Cnvr)},"gPlr ":function(W,q){W.Cnvr.v.Cnvr=["RctP","PlrR"][q[0]]},sRple:function(W,q){q[0]=W.Amnt.v;
q[1]=["Sml","Mdm","Lrg"].indexOf(W.RplS.v.RplS)},gRple:function(W,q){W.Amnt.v=q[0];W.RplS.v.RplS=["Sml","Mdm","Lrg"][q[1]]},sTwrl:function(W,q){q[0]=W.Angl.v},gTwrl:function(W,q){W.Angl.v=q[0]},sZgZg:function(W,q){q[0]=W.Amnt.v;
q[1]=W.NmbR.v;q[2]=["ArnC","OtFr","PndR"].indexOf(W.ZZTy.v.ZZTy)},gZgZg:function(W,q){W.Amnt.v=q[0];
W.NmbR.v=q[1];W.ZZTy.v.ZZTy=["ArnC","OtFr","PndR"][q[2]]},sUnsM:function(W,q){q[0]=W.Amnt.v.val;q[1]=W.Rds.v.val;
q[2]=W.Thsh.v},gUnsM:function(W,q){W.Amnt.v.val=q[0];W.Rds.v.val=q[1];W.Thsh.v=q[2]},sWave:function(W,q){q[0]=W.NmbG.v;
q[1]=W.WLMn.v;q[2]=W.WLMx.v;q[3]=W.AmMn.v;q[4]=W.AmMx.v;q[5]=W.SclH.v;q[6]=W.SclV.v;q[7]=["WvSn","WvTr","WvSq"].indexOf(W.Wvtp.v.Wvtp);
q[8]=["WrpA","RptE"].indexOf(W.UndA.v.UndA);q[9]=W.RndS.v},gWave:function(W,q){W.NmbG.v=q[0];W.WLMn.v=q[1];
W.WLMx.v=q[2];W.AmMn.v=q[3];W.AmMx.v=q[4];W.SclH.v=q[5];W.SclV.v=q[6];W.Wvtp.v.Wvtp=["WvSn","WvTr","WvSq"][q[7]];
W.UndA.v.UndA=["WrpA","RptE"][q[8]];if(q[9]!=null){var X=parseInt(q[9]);if(isNaN(X))X=248325464;X=Math.max(0,Math.min(268435455,X));
W.RndS.v=X}},sDspl:function(W,q){q[0]=W.HrzS.v;q[1]=W.VrtS.v;q[2]=0;q[3]=["WrpA","RptE"].indexOf(W.UndA.v.UndA)},gDspl:function(W,q){W.HrzS.v=q[0];
W.VrtS.v=q[1];W.UndA.v.UndA=["WrpA","RptE"][q[3]];W.DspF.v.pth=q[4]},sbrit:function(W,q){q[0]=W.Brgh?W.Brgh.v:0;
q[1]=W.Cntr?W.Cntr.v:0;q[2]=W.useLegacy?W.useLegacy.v:!1},gbrit:function(W,q){W.Brgh.v=q[0];W.Cntr.v=q[1];
if(q[2]!=null)W.useLegacy.v=q[2]}};dY.ayp=function(W){var q=new hw(0,0);if(W.enab.v==!1)return q;var X=W.filterFXList.v;
for(var N=0;N<X.length;N++){var k=X[N].v;if(k.enab.v==!1)continue;var B=dY.oX(k),U=dY.yS(B,k.Fltr?k.Fltr.v:null);
if(U.x>q.x)q.x=U.x;if(U.y>q.y)q.y=U.y}return q};dY.yS=function(W,q){var X=0,k=0;if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(W)!=-1){var B=q.Rds?q.Rds.v.val:1;
X=k=B*2.57}if(W=="MtnB")X=k=q.Dstn.v.val;if("Dila,Ofst,Rept,LqFy,Dspl,Pnch,Rple,Shr ,Sphr,Twrl,ZgZg,Wave,RdlB,Clds,DfrC,Plr ,LnCr,Wnd ,lightFilterGradient,rigidTransform,blurbTransform,perspectiveWarpTransform,Frgm,Flam".split(",").indexOf(W)!=-1){X=k=1e4}if(W=="GEfc")return jJ.yS(q);
return new hw(Math.ceil(X),Math.ceil(k))};dY.EC=function(){return{t:"Objc",v:{classID:"filterFXStyle",enab:{t:"bool",v:!0},validAtPosition:{t:"bool",v:!0},filterMaskEnable:{t:"bool",v:!0},filterMaskLinked:{t:"bool",v:!0},filterMaskExtendWithWhite:{t:"bool",v:!0},filterFXList:{t:"VlLs",v:[]}}}};
dY.NK=function(W,q){var X={o:q.w5>>16,L:q.w5>>8&255,X:q.w5&255},k={o:q.yY>>16,L:q.yY>>8&255,X:q.yY&255},B=dY.names[W];
if(B==null)B=dZ.names[W];var U=W;for(var l in dZ.Zo)if(dZ.Zo[l]==W)U=l;var K={t:"Objc",v:{classID:"filterFX",Nm:{t:"TEXT",v:js.get(B)},blendOptions:{t:"Objc",v:{classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}}},enab:{t:"bool",v:!0},hasoptions:{t:"bool",v:!0},FrgC:{t:"Objc",v:g.ov.E2(X)},BckC:{t:"Objc",v:g.ov.E2(k)},filterID:{t:"long",v:U.length==4?Z.apK(U):777}}},D=dY.wy(W);
if(D)K.v.Fltr={t:"Objc",v:D};return K};dY.lp=function(W,q,X,k){var B=Date.now(),U=dd.gP&&Math.max(k.r,k.$)<=dd.Ca.getParameter(dd.Ca.MAX_TEXTURE_SIZE),l=g.Oj(X);
if(W<1){var K=Math.round(W*5),D=[1,2,1,2,[40,26,13,6,4,2][K],2,1,2,1];D=g.PG.XH(D);if(!U){g.ui(X);var m=X.slice(0);
g.PG.LH(m,X,k.r,k.$,D,!0);g.dU(X)}else{var Y=k.r,a=k.$,p=dd.I9(0,Y,a,l);p.set(X);var M=dd.I9(1,Y,a,l),x=new Float32Array([1/Y,1/a]);
dd.vo(M);dd.filter.Mn({I:dd.filter.al1,Bt:x,au2:new Float32Array(D)},p.hc);M.get(X)}}else{var R=[];while(q!=2&&W*[1,2.4][q]>20&&R.length<4){var y=g.ly(X,k);
R.push(X,k);X=y.kl;k=y.S;W/=2}var Y=k.r,a=k.$;if(!U||q==2&&W>15){g.ui(X);if(q==0)g.Zt.aGN(X,k,W);if(q==1)g.Zt.au1(X,k,W);
if(q==2)g.Zt.aB5(X,k,W);g.dU(X)}else{var p=dd.I9(0,Y,a,l);p.set(X);var M=dd.I9(1,Y,a,l),x=new Float32Array([1/Y,1/a]);
if(q==0){var s=1;while(s<W)s<<=1;dd.vo(M);dd.filter.Mn({I:dd.filter.rb,Bt:x,aH:W,g2:[0,0,s]},p.hc);dd.vo(p);
dd.filter.Mn({I:dd.filter.rb,Bt:x,aH:W,g2:[0,1,s]},M.hc);p.get(X)}else if(q==1){var F=3,E=g.Zt.a4I(W,F);
for(var N=0;N<F;N++){var o=E[N]>>>1,G=1;while(G<o)G<<=1;if(o==0)continue;dd.vo(M);dd.filter.Mn({I:dd.filter.rb,Bt:x,aH:o,g2:[0,0,G]},p.hc);
dd.vo(p);dd.filter.Mn({I:dd.filter.rb,Bt:x,aH:o,g2:[0,1,G]},M.hc)}p.get(X)}else{var s=1;while(s<W)s<<=1;
dd.vo(M);dd.filter.Mn({I:dd.filter.rb,Bt:x,aH:W,g2:[0,0,s]},p.hc);M.get(X)}}var d=Date.now();while(R.length!=0){var u=R.pop(),r=R.pop();
g.scale.aax(X,k.r,k.$,r,u.r,u.$);X=r;k=u}}};dY.a7T=function(W,q,X,k){for(var N=0;N<W.length;N++){X[N]=W[N]*(1/255);
k[N]=0}FFT.fft2d(X,k);var B=q>>>1,U=16384,l=128,D=100;while(l<q){l<<=1;U<<=2}var K=255/Math.log(U),m=-100;
for(var Y=0;Y<q;Y++)for(var a=0;a<B;a++){var p=q+B+Y&q-1,M=X[p*q+a],x=k[p*q+a],R=Math.sqrt(M*M+x*x),y=Math.atan2(x,M);
W[Y*q+a]=Math.round(K*Math.log(R+1));W[Y*q+B+a]=Math.round((Math.PI+y)*(255*.5/Math.PI))}};dY.aAv=function(W,q,X,k){X.fill(0);
k.fill(0);var B=q>>>1,U=16384,l=128;while(l<q){l<<=1;U<<=2}var K=255/Math.log(U),D=[],m=[],Y=[];for(var N=0;
N<256;N++){D[N]=Math.exp(N/K)-1;var a=N*(2*Math.PI/255)-Math.PI;m[N]=Math.sin(a);Y[N]=Math.cos(a)}for(var p=0;
p<q;p++)for(var M=0;M<B;M++){var x=q+B+p&q-1,R=D[W[p*q+M]],a=W[p*q+B+M],y=R*Y[a],s=R*m[a];X[x*q+M]=y;
k[x*q+M]=s;if(M!=0){var F=x==0?x*q+q-M:(q-x)*q+(q-M);X[F]=y;k[F]=-s}}FFT.ifft2d(X,k);for(var N=0;N<W.length;
N++){W[N]=Math.max(0,Math.min(255,~~(.5+255*X[N])))}};dY.a21=new ArrayBuffer(512);dY.ajl=function(W){var q=dY.a21,X=W.length;
if(q.byteLength<X)dY.a21=q=new ArrayBuffer(X);var k=new Uint8Array(q);for(var N=0;N<X;N+=4){k[N]=W[N];
k[N+1]=W[N+1];k[N+2]=W[N+2];k[N+3]=W[N+3]}return q};dY.GT=function(W,q,X,k,B,U,l){var K,D,m=g.Oj(q.buffer);
if(U==null)U={buffer:g.j(q.buffer.length,m),S:q.S.P()};U.buffer.set(q.buffer);var Y="Blr ,BlrM,Shrp,ShrM,GsnB,boxblur,smartSharpen,UnsM,HghP".split(","),a=m!=8&&Y.indexOf(W)==-1;
if(a){K=q.buffer;D=U.buffer;q.buffer=g.Cn(K,8);U.buffer=g.Cn(D,8)}U=dY.a8G(W,q,X,k,B,U,l);if(a){q.buffer=K;
g.Cn(U.buffer,m,D);U.buffer=D}return U};dY.a8G=function(W,q,X,k,B,U,l){var K=X&&X.RndS?X.RndS.v>>>1:0,D=g.Oj(q.buffer),m=g.bH(D);
if(W=="GEfc"){var Y=[];if(X.GEfs){var a=X.GEfs.v;for(var N=0;N<a.length;N++){var p=a[N].v;if(p.GELv&&p.GELv.v==!1)continue;
Y.push(p)}}else Y=[X];for(var N=0;N<Y.length;N++){var M;if(N==0)jJ.GT(W,q,Y[N],k,B,U,l);else{if(M==null)M={buffer:g.j(q.buffer.length),S:q.S.P()};
g.cX(U.buffer,M.buffer);jJ.GT(W,M,Y[N],k,B,U,l)}}}if(W=="Dila"){var x=X.Crop.v.val,R=X.Rds.v.val+x;R=R*R;
if(R==0)return;var y=q.S,s=y.r,F=y.$,E=s*F,o=q.buffer,M=U.buffer,G=g.j(E);g.u6(o,G,3);if(x!=0){var d=y.P();
d.Pt(1,1);var u=g.j(d.C());g.Z_(G,y,u,d);g.i5(u);g.style.stroke(u,u,d,x);g.i5(u);g.Z_(u,d,G,y)}var r=g.style.p6(G,s,F);
M.fill(0);for(var v=0;v<F;v++)for(var V=0;V<s;V++){var N=v*s+V,j=N<<1,Q=N<<2,H=r[j],T=r[j+1];if(H*H+T*T<R){var e=(v+T)*s+(V+H)<<2;
M[Q]=o[e];M[Q+1]=o[e+1];M[Q+2]=o[e+2];M[Q+3]=255}}}if(W=="Adobe Camera Raw Filter"){var y=q.S,s=y.r,F=y.$,z=g.Cn(q.buffer,32),J=g.N(X);
delete J.Upri;delete J.GuUr;fm(z,s,F,z,J);g.Cn(z,8,U.buffer)}if(W=="Fct "){var y=q.S,s=y.r,F=y.$,E=s*F,P=E*4;
function L(cn){var l8=cn.slice(0);for(var v=0;v<3;v++)for(var V=0;V<3;V++)l8[v*3+V]=cn[(2-V)*3+v];return l8}function A(ho,b7,cl,kp){var fu=0;
for(var v=0;v<3;v++)for(var V=0;V<3;V++)fu+=b7[v*3+V]*ho[(kp-1+v)*s+cl-1+V];return fu}var h=[8,5,2,5,2,-1,2,-1,-4],C=[5,5,5,2,2,2,-1,-1,-1],w=[2,2,2,2,2,2,2,2,2],f=[];
f.push(h);for(var N=0;N<3;N++)f.push(L(f[f.length-1]));f.push(C);for(var N=0;N<3;N++)f.push(L(f[f.length-1]));
f.push(w);for(var N=0;N<9;N++)f[N]=g.PG.XH(f[N]);var O=[-s-1,-s,-s+1,-1,0,1,s-1,s,s+1],n=[-1,-1,0,-1,1,-1,-1,0,0,0,1,0,-1,1,0,1,1,1],$=g.j(E),d9=new Float32Array(E),i=g.j(E);
for(var dF=0;dF<3;dF++){g.u6(q.buffer,$,dF);for(var t=0;t<1;t++){for(var v=1;v<F-1;v++)for(var V=1;V<s-1;
V++){var im=v*s+V,bc=$[im];d9[im]=1e9;for(var N=0;N<9;N++){var at=A($,f[N],V,v),l9=(at-bc)*(at-bc);if(l9<d9[im])d9[im]=l9}}for(var v=1;
v<F-1;v++)for(var V=1;V<s-1;V++){var fF=0,g$=1e9;for(var N=0;N<9;N++){var fR=v*s+V+O[N],l9=d9[fR];if(l9<g$){g$=l9;
fF=$[fR]}}i[v*s+V]=fF}$.set(i)}g.fP(i,U.buffer,dF)}}if(W=="adaptCorrect"){var y=q.S,s=y.r,F=y.$,E=s*F,P=E*4,cr=X.sdwM.v,eE=cr.Amnt.v.val/100,bQ=cr.Wdth.v.val/100,hT=cr.Rds.v,df=X.hglM.v,eV=df.Amnt.v.val/100,gU=df.Wdth.v.val/100,i8=df.Rds.v;
g.apI.bQ(q.buffer,U.buffer,s,F,eE,bQ,hT,eV,gU,i8,X.ClrC.v/100,X.Cntr.v/100)}if(W=="denoise"){var y=q.S,s=y.r,F=y.$,bv=X.channelDenoise.v[0].v;
g.a6Y.a6Q(q.buffer,s,F,U.buffer,bv.Amnt.v/10,bv.EdgF.v/100)}if(W=="HsbP"){var fE=X.Inpt.v.ClrS,d5=X.Otpt.v.ClrS,y=q.S,s=y.r,F=y.$,E=s*F;
for(var N=0;N<E;N++){var Q=N*4,t=q.buffer[Q]*(1/255),aR=q.buffer[Q+1]*(1/255),l8=q.buffer[Q+2]*(1/255);
if(fE=="RGBC"){}else if(fE=="HSLC"){var i=g.Vy(t,aR,l8);t=i.o;aR=i.L;l8=i.X}else if(fE=="HSBl"){var i=g.abE(t,aR,l8);
t=i.o;aR=i.L;l8=i.X}var au=t,hx=aR,fw=l8;if(d5=="RGBC"){}else if(d5=="HSLC"){var i=g.Kp(t,aR,l8);au=i.QB;
hx=i.Sp;fw=i.RG}else if(d5=="HSBl"){var i=g.avP(t,aR,l8);au=i.QB;hx=i.Sp;fw=i.X}U.buffer[Q]=~~(255*au);
U.buffer[Q+1]=~~(255*hx);U.buffer[Q+2]=~~(255*fw)}}if(W=="Fbrs"){var y=q.S,s=y.r,F=y.$;g.u.a9E(q.buffer,s,F,U.buffer,[X.Vrnc.v,X.Strg.v,K]);
var cx=g.j(s*F);g.u6(U.buffer,cx,0);g.i5(cx);jJ.xq(cx,U.buffer,k,B)}if(W=="Frgm"){var y=q.S,s=y.r,F=y.$,fg=q.buffer.slice(0);
g.ui(fg);g.u.alW(fg,s,F,U.buffer);g.dU(U.buffer)}if(W=="Flam"){var y=q.S,s=y.r,F=y.$,iI=X.Clr.v,eq={I:X.Type.v+1,length:X.Leng.v,aqG:X.RndL.v,B0:X.Widt.v,azv:X.Angl.v,amB:X.Intr.v,au7:X.Adpt.v,color:{o:iI.Rd.v,L:iI.Grn.v,X:iI.Bl.v},R6:X.Qual.v+1,hu:X.Turb.v,MA:X.Jag.v,zO:X.Opct.v.val,ND:X.Lins.v,acD:X.Botm.v,style:X.Styl.v+1,shape:X.Shap.v+1,at3:X.RnSh.v,aBO:X.Arng.v,ajg:!1};
if(l[3]==null)return;var fS=l[3],f1=fS[0],c4=fS[1],ea=f1[c4.length!=0?c4[0]:0];if(ea==null){alert("Make a path first");
return}var ie=ea.add.vmsk.G,i$=g.z._H(ie),cI=[];for(var e=0;e<i$;e++){var cD=g.z.wS(ie,e),fG=ie[cD];
if(fG.length<2)continue;var cH=[];cI.push(cH);var hL=fG.length-(fG.I==3?1:0);for(var im=0;im<hL;im++){var ee=ie[cD+1+im],aj=im==fG.length-1?ie[cD+1]:ie[cD+1+im+1],iA=ee.WL,eL=ee.ko,h=aj.mp,hZ=aj.WL,bZ=Math.round(hw.tj(iA,hZ)/5);
for(var k_=0;k_<bZ;k_++){var kW=k_/bZ,iU=1-kW,V=iU*iU*iU*iA.x+3*iU*iU*kW*eL.x+3*iU*kW*kW*h.x+kW*kW*kW*hZ.x,v=iU*iU*iU*iA.y+3*iU*iU*kW*eL.y+3*iU*kW*kW*h.y+kW*kW*kW*hZ.y;
cH.push(V,v)}}}var kO=[cI,eq],hq=Date.now(),e8=kw(kO);aB(q.buffer,s,F,U.buffer,e8,kO)}if(W=="Dfs "){var y=q.S,s=y.r,F=y.$,gi=["Nrml","DrkO","LghO","anisotropic"].indexOf(X.Md.v.DfsM);
if(gi<3)g.u.anM(q.buffer,s,F,U.buffer,[gi]);else{var kO=[1.4,1.6,1,4,!1,2,[0,0,.001]],y=q.S.P();y.x=y.y=0;
g.w3.filter(q.buffer,y,U.buffer,kO)}}if(W=="TrcC"){var y=q.S,s=y.r,jZ=s<<2,F=y.$,cg=X.Lvl.v,hn=X.Edg.v.CntE=="Lwr",bF=q.buffer,gf=U.buffer;
g.t3(gf,1,1,1);function eH(iJ,je){gS(iJ,je);gS(iJ+1,je+1);gS(iJ+2,je+2)}function h5(iJ,je){hP(iJ,je);
hP(iJ+1,je+1);hP(iJ+2,je+2)}function gS(iJ,je){var au=bF[iJ],hx=bF[je];if(au>=cg&&hx<cg)gf[iJ]=0;if(au<cg&&hx>=cg)gf[je]=0}function hP(iJ,je){var au=bF[iJ],hx=bF[je];
if(au>cg&&hx<=cg)gf[je]=0;if(au<=cg&&hx>cg)gf[iJ]=0}if(hn)for(var v=1;v<F;v++)for(var V=1;V<s;V++){var Q=v*s+V<<2;
eH(Q,Q-4);eH(Q,Q-jZ)}else for(var v=1;v<F;v++)for(var V=1;V<s;V++){var Q=v*s+V<<2;h5(Q,Q-4);h5(Q,Q-jZ)}}if(W=="Embs"){var y=q.S,s=y.r,F=y.$,iy=-X.Angl.v*Math.PI/180,cs=X.Hght.v,fH=X.Amnt.v/100;
cs/=2;var H=Math.cos(iy)*cs,T=Math.sin(iy)*cs,bF=q.buffer,gf=U.buffer;gf.fill(0);var fM=new Uint32Array(bF.buffer),i=new Uint8Array(4),az=new Uint32Array(i.buffer);
for(var v=0;v<F;v++)for(var V=0;V<s;V++){var er=0,aJ=0,kS=0;if(0<=V+H&&V+H<s&&0<=v+T&&v+T<F){g.F.ur(V+H+.5,v+T+.5,fM,s,F,az,0,0);
er+=i[0]-128;aJ+=i[1]-128;kS+=i[2]-128}if(0<=V-H&&V-H<s&&0<=v-T&&v-T<F){g.F.ur(V-H+.5,v-T+.5,fM,s,F,az,0,0);
er-=i[0]-128;aJ-=i[1]-128;kS-=i[2]-128}var Q=v*s+V<<2;gf[Q]=Math.max(0,Math.min(255,er*fH+128));gf[Q+1]=Math.max(0,Math.min(255,aJ*fH+128));
gf[Q+2]=Math.max(0,Math.min(255,kS*fH+128));gf[Q+3]=bF[Q+3]}}if(W=="ShrE"){var y=q.S,s=y.r,F=y.$;g.u.aKS(q.buffer,s,F,U.buffer)}if(W=="Dspc"){var y=q.S,s=y.r,F=y.$;
g.u.aGC(q.buffer,s,F,U.buffer)}if(W=="Slrz"){var ge=U.buffer,aT=128;for(var N=0;N<ge.length;N+=4){if(ge[N]>aT)ge[N]=255-ge[N];
if(ge[N+1]>aT)ge[N+1]=255-ge[N+1];if(ge[N+2]>aT)ge[N+2]=255-ge[N+2]}}if(W=="Wnd "){var y=q.S,s=y.r,F=y.$,fQ=["Wnd","Blst","Stgr"],j6=X.WndM.v.WndM;
g.u.ud(q.buffer,s,F,U.buffer,[fQ.indexOf(j6),X.Drct.v.Drct!="Left"])}if(W=="Bokh"){var y=q.S,s=y.r,F=y.$,E=s*F,P=E*4,et=q.buffer.slice(0),d2=X.BkDi.v.BtDi,kx=X.BkDc,c2=X.BkDs.v,ke=X.BkDp.v/255;
if(d2=="BeIn")ke=0;var dv=57*(.3+.7*((s+F)/2)/1750)*(X.BkIb.v/100)*(1+.2*Math.pow(ke,.1)),a1=parseInt(X.BkIs.v.BtIs.slice(3)),fN=-X.BkIr.v*Math.PI/180,b_=[];
for(var N=0;N<8;N++){var hJ=fN+N*(Math.PI*2/a1),dP=fN+(N+1)*(Math.PI*2/a1),cf=Math.cos(hJ),ig=Math.sin(hJ),b8=Math.cos(dP),hE=Math.sin(dP),is=[0,0,0];
g.Ez.Xq([[cf,ig,1,0],[b8,hE,1,0],[1,1,1,1]],is);if(is[2]>0){is[0]*=-1;is[1]*=-1;is[2]*=-1}b_.push(is[0],is[1],is[2],0)}if(d2=="BeIn"){g._5(et,0);
ke=1}else if(d2=="BeIt"&&kx.v.BtDc=="BeCt"){}else{var e2;if(d2=="BeIt"&&kx.v.BtDc=="BeCm")e2=l[1];else if(d2=="BeIa")e2=l[2][kx.v];
if(e2==null){g._5(et,0)}else{var $;if(e2.S.AB(y))$=e2.c;else $=e2.sA(y);g.fP($,et,3)}}if(c2)for(var N=0;
N<P;N+=4)et[N+3]=255-et[N+3];if(dd.gP){var hh=et,e3=s,gy=F,hy=1,iV=(X.BkSb.v==0||X.BkSt.v==255)&&d2=="BeIn";
if(!iV){var fL=0;for(var N=0;N<P;N+=4)fL+=Math.abs(ke-et[N+3]*(1/255));fL=fL/E*dv;var ct=3.14*fL*fL*s*F/3e6;
if(ct>2e3){alert("too large radius");return}}while(iV&&3*(dv/hy)*(dv/hy)*s*F>500*2e3*2e3){var gE=g.a8X(et,new dU(0,0,e3,gy));
et=gE.kl;e3=gE.S.r;gy=gE.S.$;hy*=2}var hq=Date.now(),o=dd.I9(0,e3,gy);o.set(et);var gz=dd.I9(1,s,F);
dd.vo(gz);dd.filter.Mn({I:dd.filter.a2A,Bt:new Float32Array([1/e3,1/gy]),aI_:ke,l6:dv/hy,abU:new Float32Array([X.BkSb.v/100,X.BkSt.v/255]),aBh:new Float32Array([X.BkNa.v/100,X.BkNt.v.BtNt=="BeNu"?0:1,X.BkNm.v?1:0]),av_:new Float32Array(b_.slice(0,16)),agj:new Float32Array(b_.slice(16))},o.hc);
gz.get(U.buffer);var ij=U.buffer;for(var N=0;N<P;N+=4)ij[N+3]=q.buffer[N+3]}}if(W=="blurbTransform"){g.UW.apply(X,q,U)}if(W=="rigidTransform"){var hq=Date.now(),d$=dY.ajl,o=q.buffer.slice(0),hV=0,f_=0;
g.ui(o);var s=q.S.r,F=q.S.$,jr=X.puppetShapeList.v,f9=[],gl=[],i7=[],gq=[];for(var im=0;im<jr.length;
im++){var du=jr[im].v,j=hV*2,f7=f_*3,gF=du.originalVertexArray.v.length>>>2,gY=du.indexArray.v.length>>>2,eD=new Float32Array(d$(du.originalVertexArray.v));
for(var N=0;N<gF;N++)f9[j+N]=eD[N];var gR=new Float32Array(d$(du.deformedVertexArray.v));for(var N=0;
N<gF;N++)gl[j+N]=gR[N];var cv=new Uint32Array(d$(du.indexArray.v));for(var N=0;N<gY;N++)i7[f7+N]=hV+cv[N];
var aH=[],dk=[],lj=du.PnDp.v;for(var N=0;N<lj.length;N++){aH.push(du.pinVertexIndices.v[N].v);dk.push(lj[N].v)}var jq=g.f9.adE(eD,cv,aH,dk);
for(var N=0;N<jq.length;N++)gq[hV+N]=jq[N];hV+=gF>>>1;f_+=~~(gY/3)}var j7=new ka(1,0,0,1,-q.S.x,-q.S.y);
g.b.M(f9,j7,f9);g.b.M(gl,j7,gl);U.buffer.fill(0);g.f9.wM(o,s,F,U.buffer,s,F,f9,gl,gq,i7);g.dU(U.buffer)}if(W=="perspectiveWarpTransform"){var es=g.LD.Jj(X);
if(es.Bz==0){U.buffer.set(q.buffer);return}var k3=es.SE,d6=es.pW,bR=es.Tc,er=q.S,d3=U.S;U.buffer.fill(0);
var ax=new ka;ax.translate(-d3.x,-d3.y);function gA(b7,hB,N,t){var iJ=hB[N]*2,je=hB[N+1]*2,aS=hB[N+2]*2,jv=hB[N+3]*2;
return g.F.b6([b7[iJ],b7[iJ+1],b7[je],b7[je+1],b7[aS],b7[aS+1],b7[jv],b7[jv+1]],t)}if(k3.length==4){var d0=gA(d6,k3,0),aN=gA(bR,k3,0),ho=g.F.xY(aN,g.F.i5(d0)),g2=_.Gz.JJ([q.buffer,er],1,ho,null,null,U.S,!1);
if(g2)g.YE(g2.buffer,g2.S,U.buffer,U.S)}else{var cy=[],dq=[],gj=[];for(var N=0;N<k3.length;N+=4){var d0=gA(d6,k3,N),aN=gA(bR,k3,N),dm=[],jn=24,hs=1/(jn-1),aa=dq.length>>>1;
for(var v=0;v<jn;v++)for(var V=0;V<jn;V++){dm.push(V*hs,v*hs);if(V<jn-1&&v<jn-1)cy.push(aa+v*jn+V,aa+v*jn+V+1,aa+(v+1)*jn+V+1,aa+v*jn+V,aa+(v+1)*jn+V+1,aa+(v+1)*jn+V)}var iA=dm.slice(0);
g.F.M(d0,iA);dq=dq.concat(iA);var eL=dm.slice(0);g.F.M(aN,eL);gj=gj.concat(eL)}g.b.M(dq,ax,dq);g.b.M(gj,ax,gj);
var hq=Date.now();g.f9.wM(q.buffer,er.r,er.$,U.buffer,d3.r,d3.$,dq,gj,null,cy)}}if(W=="lightFilterGradient"){function cA(iA){var aa=1/Math.sqrt(iA[0]*iA[0]+iA[1]*iA[1]+iA[2]*iA[2]);
iA[0]*=aa;iA[1]*=aa;iA[2]*=aa}var s=q.S.r,F=q.S.$,E=s*F,hq=Date.now(),i_=g.j(E),hx=.3,fw=.7;g.Iv(U.buffer,i_);
var ev=i_.slice(0);g.Zt.Yd(ev,U.S,16);var h0=i_.slice(0);g.Zt.Yd(h0,U.S,8);var f5=i_,as=new Float32Array(E),i6=X.Dtl.v,k2=i6[2].v,hA=i6[1].v,gw=i6[0].v,fu=X.Scl.v*40*X.textureScale.v/(k2+hA+gw);
k2*=fu;hA*=fu;gw*=fu;for(var N=0;N<E;N++){var ll=ev[N]*(1/255),e1=h0[N]*(1/255),c5=f5[N]*(1/255);c5=c5*c5;
as[N]=k2*ll+hA*e1+gw*c5}var d1=X.blur.v;if(d1!=0){g.Zt.Yd(as,U.S,d1)}var kl=s-1,hW=F-1;for(var v=0;v<F;
v++)for(var V=0;V<s;V++){var N=v*s+V,Q=N*4,bI=as[N],H=hx*(as[N+(V==kl?0:1)]-bI)+fw*(bI-as[N-(V==0?0:1)]),T=hx*(as[N+(v==hW?0:s)]-bI)+fw*(bI-as[N-(v==0?0:s)]),iA=[1,0,H],eL=[0,1,T];
cA(iA);cA(eL);var dP=iA[0],kt=iA[2],bX=eL[1],bb=eL[2],jl=-kt*bX,de=-dP*bb,iS=dP*bX;U.buffer[Q]=~~(127.5+jl*127.5);
U.buffer[Q+1]=~~(127.5+de*127.5);U.buffer[Q+2]=~~(127.5+iS*127.5)}}if(W=="defr"){var s=q.S.r,F=q.S.$;
fU(q.buffer,s,F,U.buffer)}if(W=="dDFT"||W=="iDFT"){function hI(a1){if(a1==0)return 1;a1--;a1|=a1>>1;
a1|=a1>>2;a1|=a1>>4;a1|=a1>>8;a1|=a1>>16;return a1+1}var s=q.S.r,F=q.S.$,bY=hI(Math.max(s,F)),gp=bY>>>1,jo=new dU(0,0,bY,bY),h9=new dU(0,0,s,F);
h9.y=bY-F>>>1;var kh=s>>>1,g1=new dU(0,h9.y,kh,F),jX=new g.rV(s*F);g.EX(q.buffer,jX);var bk=new Float64Array(bY*bY),ji=new Float64Array(bY*bY),$=g.j(bY*bY);
FFT.init(bY);var cj=[jX.o,jX.L,jX.X];for(var N=0;N<3;N++){var fq=cj[N];$.fill(0);if(W=="dDFT"){g.Z_(fq,h9,$,jo);
dY.a7T($,bY,bk,ji);g.Z_($,jo,fq,h9,g1);g1.x+=kh;jo.x-=gp-kh;g.Z_($,jo,fq,h9,g1);g1.x-=kh;jo.x+=gp-kh}else{g.Z_(fq,h9,$,jo,g1);
g1.x+=gp;h9.x+=gp-kh;g.Z_(fq,h9,$,jo,g1);g1.x-=gp;h9.x-=gp-kh;dY.aAv($,bY,bk,ji);g.Z_($,jo,fq,h9)}}g.Aw(jX,U.buffer)}if(W=="Avrg"){var e4=0,i9=0,gu=0,bo=0,iX=1;
for(var N=0;N<q.buffer.length;N+=4){var G=q.buffer[N+3];e4+=q.buffer[N]*G;i9+=q.buffer[N+1]*G;gu+=q.buffer[N+2]*G;
bo+=G}var hQ=1/bo;e4=Math.round(iX*(e4*hQ)+(1-iX)*255);i9=Math.round(iX*(i9*hQ)+(1-iX)*255);gu=Math.round(iX*(gu*hQ)+(1-iX)*255);
g.t3(U.buffer,e4/255,i9/255,gu/255)}if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(W)!=-1){var jP=X.Rds?X.Rds.v.val:1;
dY.lp(jP,W=="boxblur"?0:1,U.buffer,U.S);if(W=="UnsM"||W=="smartSharpen"){var fH=(X.Amnt?X.Amnt.v.val:200)/100,a3=0;
if(W=="UnsM")a3=X.Thsh.v*m/255;else fH*=.75;for(var N=0;N<q.buffer.length;N++){if((N&3)==3){U.buffer[N]=q.buffer[N];
continue}var bc=q.buffer[N],at=U.buffer[N],ft=fH*(bc-at);if(ft>0)ft=Math.max(0,ft-a3);else ft=Math.min(0,ft+a3);
U.buffer[N]=Math.max(0,Math.min(m,bc+ft))}}if(W=="HghP")for(var N=0;N<q.buffer.length;N++){if((N&3)==3){U.buffer[N]=q.buffer[N];
continue}var bc=q.buffer[N],at=U.buffer[N];U.buffer[N]=Math.max(0,Math.min(m,.5*m+bc-at))}}if(W=="AdNs"){var jG=new Uint8ClampedArray(U.buffer.buffer),kP=255*X.Nose.v.val/100,kR;
if(X.Dstr.v.Dstr=="Gsn")kR=function(){return(Math.random()+Math.random()+Math.random()+Math.random()-2)*2};
else kR=function(){return Math.random()*2-1};for(var N=0;N<jG.length;N+=4){var t=jG[N],aR=jG[N+1],l8=jG[N+2],he,d4,eY;
if(X.Mnch.v){he=d4=eY=kR()}else{he=kR();d4=kR();eY=kR()}t+=kP*he;aR+=kP*d4;l8+=kP*eY;jG[N]=t;jG[N+1]=aR;
jG[N+2]=l8}}var hq=Date.now();if(W=="Mdn "||W=="DstS"||W=="Mxm "||W=="Mnm "||W=="surfaceBlur"){var t=0,d3=X.Thsh,du=0;
if(d3)d3=d3.v;else d3=0;if(W=="Mdn "||W=="Mxm "||W=="Mnm "||W=="surfaceBlur")t=X.Rds.v.val;else t=X.Rds.v;
var fr=10*Math.ceil(t/10),s=q.S.r,F=q.S.$,dn=["Mnm ","Mxm ","surfaceBlur"].indexOf(W),gt=X.preserveShape;
if(gt&&gt.v.preserveShape=="Rndn")du=1;var jb=(du==0?1:.75)*[.73,.73,1.2][dn]*(s*F*Math.pow(fr*fr,1.05))/6022387,fy=.6*(s*F*Math.pow(t,1/2.6))/6500;
if(W=="Mxm "||W=="Mnm ")fy=s*F/13e3;if(dd.gP&&dn!=-1&&(jb<fy||du==1)&&jb<1e3){var o=dd.I9(0,s,F);o.set(q.buffer);
var M=dd.I9(1,s,F);dd.vo(M);dd.filter.Mn({I:dd.filter.afa,Bt:new Float32Array([1/s,1/F]),l6:t,a5n:d3/255,g2:[du,dn,fr]},o.hc);
M.get(U.buffer)}else if(W=="Mxm "||W=="Mnm "){var s=q.S.r,F=q.S.$;g._R.alc(q.buffer,U.buffer,s,F,1+Math.floor(X.Rds.v.val)*2,W=="Mxm ")}else{t=Math.round(t);
g.r6.H$=.5;g.r6.I2=d3;var em=W=="surfaceBlur"?1:0;g.r6.kQ(q.buffer,U.buffer,s,F,t,em);if(W=="DstS")for(var N=0;
N<s*F*4;N++){var h_=Math.abs(q.buffer[N]-U.buffer[N]);if(h_<=d3)U.buffer[N]=q.buffer[N]}}}if(W=="ClrH"){var g1=q.S.P(),ec=0;
g1.x=g1.y=0;var t=X.Rds.v;t=t*Math.sqrt(2);var s=g1.r,F=g1.$,fb=g.Nm(s,F),lc=new Float32Array(256);for(var N=0;
N<256;N++){var iI=N/255,jP=Math.sqrt(iI*(1/Math.PI));if(jP>.5)jP=.5+Math.pow((jP-.5)/(.564-.5),1.35)*.2;
lc[N]=t*jP}var cE=Math.floor(2*s/t),h3=Math.floor(2*F/t),aL=10-(t-54*Math.sqrt(2))*1.5,fW=[q.buffer,g1];
g.z0(fW);while(fW[ec*2+1].r>1.5*s/t)ec++;var er=fW[ec*2+1],kS=fW[ec*2],g4=g.j(er.C()),hy=1/(1<<ec),e3=er.r,gy=er.$,$=g.j(s*F);
for(var ho=0;ho<3;ho++){g.u6(kS,g4,ho);g.i5(g4);var iy=Math.PI*X["Ang"+(ho+1)].v/180,ax=new ka;ax.translate(-s/2,-F/2);
ax.rotate(-iy);ax.translate(s/2,F/2);fb.clearRect(0,0,s,F);for(var v=-(h3>>>2);v<h3;v++)for(var V=-(cE>>>2);
V<cE;V++){var fX=ax.Bb(new hw((V+.5)*t-aL,(v+.5)*t-aL)),cQ=Math.max(0,Math.min(fX.x*hy,e3-.51)),iL=Math.max(0,Math.min(fX.y*hy,gy-.51)),E=~~g.F.nW(cQ,iL,g4,e3,gy);
fb.beginPath();fb.arc(fX.x,fX.y,lc[E],0,2*Math.PI);fb.fill()}var ap=fb.getImageData(0,0,s,F);g.u6(ap.data,$,3);
g.i5($);g.fP($,U.buffer,ho)}}if(W=="Crst"||W=="Pntl"){var s=q.S.r,F=q.S.$,em=W=="Crst"?g.CK.aao:g.CK.aB7;
em(q.buffer,s,F,U.buffer,X.ClSz.v,[Math.round(B.o),Math.round(B.L),Math.round(B.X)])}if(W=="Mztn"){var s=q.S.r,F=q.S.$,E=s*F,jX=new g.rV(E),k7=[jX.o,jX.L,jX.X];
g.EX(q.buffer,jX);var j6=X.MztT.v.MztT,h8={FnDt:[.1,0,.3,1.4],MdmD:[.9,0,.1,1.4],GrnD:[3,0,.2,1.4],CrsD:[7,0,.1,1.4],ShrL:[0,10,.16,3],MdmL:[0,22,.06,3],LngL:[0,25,.01,4.5],ShSt:[3,10,.05,4.4],MdmS:[4,25,.15,4],LngS:[4,30,.05,4]}[j6],hq=Date.now(),aO=[];
for(var N=0;N<E;N++){aO[N]=Math.random()}var E=s*F,bx=Math.round(E*h8[0]),aM=E-s-1;for(var N=0;N<bx;
N++){var ao=Math.random(),j$=1;if(ao<.5){j$=s;ao*=2}else ao=2*(ao-.5);var iJ=Math.floor(ao*aM),je=iJ+j$;
aO[iJ]=aO[je]}var hm=Math.round(s*h8[1]);for(var v=0;v<F;v++)for(var N=0;N<hm;N++){var ao=g.v.An(v*E+N),iJ=v*s+Math.floor(ao*(s-1));
aO[iJ]=aO[iJ+1]}var ak=new Float64Array(256);for(var N=0;N<256;N++){var fV=N/255,eW=2*(fV<.5?fV:1-fV);
eW=h8[2]+Math.pow(eW,h8[3])*(1-h8[2]);fV=fV<.5?eW*.5:1-eW*.5;ak[N]=fV}for(var dF=0;dF<3;dF++){var $=k7[dF];
for(var v=0;v<F;v++){for(var V=0;V<s;V++){var N=v*s+V,e0=$[N],fV=ak[e0],ao=aO[N];$[N]=ao>fV?0:255}}}g.Aw(jX,U.buffer)}if(W=="Msc "){var i$=X.ClSz.v.val,s=q.S.r,F=q.S.$,g5=Math.ceil(s/i$),gb=Math.ceil(F/i$),h7=g.j(g5*gb*4);
g.scale.YS(q.buffer,s,F,h7,g5,gb,1/i$);g.scale.YS(h7,g5,gb,U.buffer,s,F,i$)}if(W=="Clds"||W=="DfrC"){var s=U.S.r,F=U.S.$,E=s*F,kH=g.j(E);
if(W=="Clds")g.WD(U.buffer,4278190080);var iN=g.j(256*4);for(var N=0;N<256;N++){var Q=N<<2,cn=N/255,cv=1-cn;
iN[Q]=Math.round(cn*k.o+cv*B.o);iN[Q+1]=Math.round(cn*k.L+cv*B.L);iN[Q+2]=Math.round(cn*k.X+cv*B.X)}g.u.aEW(q.buffer,s,F,kH);
var cw=U.buffer;for(var N=0;N<E;N++){var Q=N<<2,dF=kH[N]<<2,t=iN[dF],aR=iN[dF+1],l8=iN[dF+2];if(W=="Clds"){cw[Q]=t;
cw[Q+1]=aR;cw[Q+2]=l8}else{cw[Q]=Math.abs(cw[4*N]-t);cw[Q+1]=Math.abs(cw[4*N+1]-aR);cw[Q+2]=Math.abs(cw[4*N+2]-l8)}}}if(W=="LnsF"){var s=q.S.r,F=q.S.$,j6=["Zm","Nkn","Nkn1","PnVs"].indexOf(X.Lns.v.Lns),aA=X.FlrC.v,fx=[Math.min(j6,2),X.Brgh.v/100,aA.Hrzn.v,aA.Vrtc.v],hq=Date.now();
g.aGY(q.buffer,s,F,U.buffer,fx)}var b5=["Blr ","BlrM","Shrp","ShrM"].indexOf(W);if(b5!=-1){var jC=b5>1,s=q.S.r,F=q.S.$,kB=g.PG.h3[b5],lk=q.buffer.slice(0);
if(!jC)g.ui(lk);g.PG.LH(lk,U.buffer,s,F,kB,!0,!1);if(!jC)g.dU(U.buffer)}if(W=="MtnB"){var jW=-X.Angl.v*Math.PI/180,jE=X.Dstn.v.val/2,hq=Date.now(),s=q.S.r,F=q.S.$,y=q.S.P();
y.x=y.y=0;if(dd.gP){var hq=Date.now(),co=U.buffer;co.set(q.buffer);g.ui(co);var dr=dd.I9(0,s,F);dr.set(co);
var bF=g.j(4);bF[0]=Math.round(128+127*Math.cos(jW));bF[1]=Math.round(128+127*Math.sin(jW));g.WD(co,new Uint32Array(bF.buffer)[0]);
var cp=dd.I9(1,s,F);cp.set(co);dd.vo(dr,y);dr.Dx(y);dd.filter.Mn({I:dd.filter.Ua,z$:cp.hc,Bt:new Float32Array([1/s,1/F]),Ul:jE/2,sp:1},dr.SD);
dr.get(co);g.dU(co)}else{var fl=U.buffer,j7=new ka;j7.rotate(jW);var i=_.Gz.k6([q.buffer,q.S],j7);dY.lp(jE,2,i.buffer,i.S);
j7.i5();i=_.Gz.k6([i.buffer,i.S],j7,!1,fl.buffer,U.S);if(!g.VR(q.buffer))for(var N=0;N<fl.length;N+=4)fl[N+3]=255}console.log(Date.now()-hq)}if(W=="RdlB"){var s=q.S.r,F=q.S.$,fH=X.Amnt.v,ed=X.BlrM.v.BlrM=="Zm",ho=X.Cntr.v,cl=ho.Hrzn.v,kp=ho.Vrtc.v,H=Math.max(cl,1-cl)*s,T=Math.max(kp,1-kp)*F,jP=Math.sqrt(H*H+T*T),eK=2*Math.PI*jP*1.5,jD=Math.round(eK),fJ=Math.round(jP),g1=new dU(0,0,jD,fJ),jI=g.j(jD*fJ*4),ef=ed?4:1,hX=ed?.6:8*((s+F)/2)/1400,cK=.1,hy=1,cE=1;
g.F.aFn(q.buffer,s,F,jI,jD,fJ,cl,kp,ef,cK,hy,cE);var kX=ed?g.j(jD*fJ*4):null;if(ed){g.F.Pj(jI,kX,jD,fJ);
var kW=kX;kX=jI;jI=kW;g1.r=fJ;g1.$=jD}dY.lp(hX*fH,2,jI,g1);if(ed){g.F.Pj(jI,kX,fJ,jD);var kW=kX;kX=jI;
jI=kW;g1.r=jD;g1.$=fJ}g.F.atw(jI,jD,fJ,U.buffer,s,F,cl,kp,ef,cK,hy,cE)}if(W=="Plr "){var s=q.S.r,F=q.S.$;
if(X.Cnvr.v.Cnvr=="RctP")g.F.atw(q.buffer,s,F,U.buffer,s,F,.5,.5,1,0,2,s/F);else g.F.aFn(q.buffer,s,F,U.buffer,s,F,.5,.5,1,0,2,s/F)}if(W=="FndE"){var s=q.S.r,F=q.S.$;
g.PG.aj5(q.buffer,U.buffer,s,F)}if(W=="oilPaint"){var iy=X.LghD.v*Math.PI/180,cb=[Math.cos(iy),Math.sin(iy),.001],kO=[X.stylization.v,X.cleanliness.v,X.brushScale.v,X.microBrush.v,X.lightingOn.v,X.specularity.v,cb],y=q.S.P();
y.x=y.y=0;g.w3.filter(q.buffer,y,U.buffer,kO)}if(W=="Ofst"){var s=q.S.r,F=q.S.$,eo=new Uint32Array(q.buffer.buffer),kj=new Uint32Array(U.buffer.buffer);
kj.fill(0);var hg=X.Hrzn.v,hD=X.Vrtc.v,kC=X.Fl.v.FlMd;if(kC=="Bckg"||kC=="Rpt"){var g1=q.S.P();g1.offset(hg,hD);
g.YE(eo,g1,kj,U.S)}if(kC=="Rpt"){var cf,ig,b8,hE,e_;hg=Math.max(-s,Math.min(s,hg));hD=Math.max(-F,Math.min(F,hD));
cf=hg>0?hg:0;b8=hg>0?s:s+hg;ig=hD>0?0:hD+F;hE=hD>0?hD:F;e_=hD>0?0:s*(F-1);for(var v=ig;v<hE;v++)for(var V=cf;
V<b8;V++)kj[v*s+V]=eo[e_+V-hg];cf=hg>0?0:s+hg;b8=hg>0?hg:s;ig=hD>0?hD:0;hE=hD>0?F:F+hD;e_=hg>0?0:s-1;
for(var v=ig;v<hE;v++)for(var V=cf;V<b8;V++)kj[v*s+V]=eo[e_+s*(v-hD)];if(hg>=0&&hD>=0){cf=0;b8=hg;ig=0;
hE=hD;e_=0}if(hg>=0&&hD<0){cf=0;b8=hg;ig=F+hD;hE=F;e_=s*(F-1)}if(hg<0&&hD>=0){cf=s+hg;b8=s;ig=0;hE=hD;
e_=s-1}if(hg<0&&hD<0){cf=s+hg;b8=s;ig=F+hD;hE=F;e_=s*F-1}for(var v=ig;v<hE;v++)for(var V=cf;V<b8;V++)kj[v*s+V]=eo[e_]}if(kC=="Wrp"){hg=(hg+100*s)%s;
hD=(hD+100*F)%F;var g1=new dU(hg-s,hD-F,s,F);g.YE(eo,g1,kj,U.S);g1.offset(s,0);g.YE(eo,g1,kj,U.S);g1.offset(0,F);
g.YE(eo,g1,kj,U.S);g1.offset(-s,0);g.YE(eo,g1,kj,U.S)}}if(W=="Rept"){var iD=X.Rsft.v.val/100,k4=X.SpcX.v.val/100;
k4=Math.max(k4,-.99);var aD=X.SpcY.v.val/100;aD=Math.max(aD,-.99);var hy=X.Scl.v.val/100,j7=new ka;j7.rotate(X.Angl.v*Math.PI/180);
j7.scale(hy,hy);var iq={buffer:q.buffer,S:q.S};g.gu(iq);if(iq.S.PM()){iq.buffer=q.buffer;iq.S=q.S}var cw=iq.buffer,g1=iq.S,ab=g.BF(cw,g1,0),k5=new Uint32Array(cw.buffer)[0];
if(!ab.PM()&&!ab.AB(g1)){var a5=g.j(ab.C()*4);g.YE(cw,g1,a5,ab);cw=a5;g1=ab}g1.x=g1.y=0;k5=k4==0&&aD==0&&!g.VR(q.buffer)||X.SpcC.v?k5:0;
function dy(V){return V<0?Math.ceil(V):Math.floor(V)}var ds=j7.Bb(new hw(g1.r,0));ds.x=dy(ds.x);ds.y=dy(ds.y);
var jM=j7.Bb(new hw(0,g1.$));jM.x=dy(jM.x);jM.y=dy(jM.y);var i=_.Gz.k6([cw,g1],j7,!1),h9=i.S,gf=i.buffer,ju=Math.round(h9.x),bl=Math.round(h9.y),fs=Math.max(U.S.r,U.S.$)/Math.min(g1.r*hy*(1+k4),g1.$*hy*(1+aD));
fs=Math.ceil(fs*1.7);g.WD(U.buffer,k5);for(var v=-fs;v<fs;v++){for(var V=-fs;V<fs;V++){var cX=(V+v*iD)*(1+k4),fj=v*(1+aD);
h9.x=ju+Math.round(cX*ds.x+fj*jM.x);h9.y=bl+Math.round(cX*ds.y+fj*jM.y);if(h9.ty(U.S))g.v.HX("norm",gf,h9,U.buffer,U.S,h9,1)}}}if(W=="Ctoa"){var B=g.ov.yM(X.Clr.v),d3=X.Trsp.v.val/100,hK=X.Opct.v.val/100;
d3=hK==0?0:d3/hK;var s=q.S.r,F=q.S.$,iQ=~~B.o,dJ=~~B.L,a4=~~B.X,e_=q.buffer,fR=U.buffer;for(var v=0;
v<F;v++)for(var V=0;V<s;V++){var N=v*s+V,Q=N<<2,g1=e_[Q],i5=e_[Q+1],cw=e_[Q+2],eZ=Math.abs(iQ-g1),d7=Math.abs(dJ-i5),dD=Math.abs(a4-cw),aC=Math.max(eZ,d7,dD)*(1/255);
aC=Math.max(0,Math.min(1,aC/hK));var dN=aC==0?0:1/aC,bj=d3==1?1:Math.max(0,Math.min(1,(aC-d3)/(1-d3)));
fR[Q]=Math.max(0,Math.min(255,(g1-iQ*(1-aC))*dN));fR[Q+1]=Math.max(0,Math.min(255,(i5-dJ*(1-aC))*dN));
fR[Q+2]=Math.max(0,Math.min(255,(cw-a4*(1-aC))*dN));fR[Q+3]=Math.min(fR[Q+3],~~(.5+bj*255))}}if(W=="Dthr"){function jn(V){return~~(.5+255*g.Ni(V/255))}var im=X.Plte.v,kZ;
if(im==0)kZ=[4278190080,4294967295];else{var c7=[[1,1,1],[2,2,2],[3,3,2]][im-1],ir=[1<<c7[0],1<<c7[1],1<<c7[2]],hF=[~~(255/(ir[0]-1)),~~(255/(ir[1]-1)),~~(255/(ir[2]-1))];
kZ=[];for(var t=0;t<ir[0];t++)for(var aR=0;aR<ir[1];aR++)for(var l8=0;l8<ir[2];l8++)kZ.push(255<<24|jn(l8*hF[2])<<16|jn(aR*hF[1])<<8|jn(t*hF[0]))}var s=q.S.r,F=q.S.$,E=s*F,gD=E*4,kS=q.buffer.slice(0),jA=U.buffer;
for(var N=0;N<gD;N++)kS[N]=~~(.5+255*g.Ni(kS[N]/255));var cy=g.j(s*F);UPNG.encode.dither(kS,s,F,kZ,jA,cy,X.Mthd?X.Mthd.v:1);
for(var N=0;N<gD;N++)jA[N]=~~(.5+255*g.Kz(jA[N]/255))}if(W=="Part"){var hH=[X.RndS.v,X.Cont.v/100,X.Size.v,X.Dpth.v/100,X.Brgh.v/100,g.ov.yM(X.Clr.v),X.Time.v,X.Blnk.v,X.Fall.v,X.Turb.v/100];
g.E3.in(U.buffer,q.S.r,q.S.$,hH)}if("LqFy,Dspl,Pnch,Sphr,Twrl,Rple,Shr ,Wave,LnCr,ZgZg,Kale".split(",").indexOf(W)!=-1){var fo=l[0],s=q.S.r,F=q.S.$,ak,gc=0;
if(W=="LqFy")ak=cc.WZ(new Uint8Array(X.LqMe.v).buffer);else{var f6=3;if(W=="Wave")f6=Math.min(3,X.WLMn.v);
ak={Ah:Math.floor(s/f6),QB:Math.floor(F/f6)};ak.map=new Float32Array(ak.Ah*ak.QB*2);if(W=="LnCr"){var cl=.5*(ak.Ah-1),kp=.5*(ak.QB-1),hO=Math.max(Math.abs(0-cl),Math.abs(1-cl)),bW=Math.max(Math.abs(0-kp),Math.abs(1-kp)),ax=Math.sqrt(hO*hO+bW*bW),e9=0,af=0,gO=-1,eO=2,hy=X.LnSi.v/100,ed=1/hy,e6=X.LnIa.v/100,iF=e6==0?1e-6:e6*4.6,ay=ed/ax;
for(var v=0;v<ak.QB;v++){for(var V=0;V<ak.Ah;V++){var H=(V-cl)*ay,T=(v-kp)*ay,t=Math.sqrt(H*H+T*T)*iF,hN=Math.atan(t),bL=e6>0?hN/t:t/hN,cE=cl+ax*bL*H,h3=kp+ax*bL*T,N=v*ak.Ah+V<<1;
ak.map[N]=cE-V;ak.map[N+1]=h3-v}}}else if(W=="Kale"){var g5=ak.Ah,gb=ak.QB,fP=(g5-1)*.5,hW=(gb-1)*.5,eu=X.MRot.v*Math.PI/180+Math.PI/2+4*Math.PI,gk=X.Mirr.v,ih=Math.PI*2/gk,f2=.5*ih;
for(var v=0;v<gb;v++)for(var V=0;V<g5;V++){var H=V-fP,T=v-hW,h1=Math.sqrt(H*H+T*T),iy=Math.atan2(T,H)+eu;
iy=iy%ih;if(iy>f2)iy=ih-iy;var cE=fP+Math.cos(iy-eu)*h1,h3=hW+Math.sin(iy-eu)*h1,N=(v*g5+V)*2;ak.map[N]=cE-V;
ak.map[N+1]=h3-v}}else if(W=="Dspl"&&fo.length!=0){gc=X.UndA.v.UndA=="WrpA"?2:1;var lg=X.DspF.v.pth,ag,ez=X.DspD,kn,ha,dO;
if(ez){var e4=ez.v;ha=e4[1]*256+e4[0];kn=e4[5]*256+e4[4];dO=new Uint8Array(e4.slice(10,10+kn*ha))}else{for(var N=0;
N<fo.length;N++)if(fo[N].I8==lg)ag=fo[N];if(ag==null)ag=fo[0];ag.OL();var eZ=ag.jx[1],dO=g.j(eZ.C());
g.Iv(ag.jx[0],dO);kn=eZ.r;ha=eZ.$}ak={Ah:kn,QB:ha};ak.map=new Float32Array(ak.Ah*ak.QB*2);var gP=2.54*X.HrzS.v*kn/s,jj=2.54*X.VrtS.v*ha/F;
for(var v=0;v<ak.QB;v++){for(var V=0;V<ak.Ah;V++){var h_=-.5+dO[v*kn+V]*(1/255),N=v*ak.Ah+V<<1;ak.map[N]=h_*gP;
ak.map[N+1]=h_*jj}}}else if(W=="Pnch"||W=="Twrl"||W=="Sphr"||W=="ZgZg"){var fH=1,jW=Math.PI,bz=0,jR=1,iO=0,ho=3,i$=1.53,bL=1;
if(W=="Pnch"||W=="Sphr"||W=="ZgZg")fH=X.Amnt.v/100;if(W=="ZgZg"){jR=X.NmbR.v;iO=["ArnC","OtFr","PndR"].indexOf(X.ZZTy.v.ZZTy)}if(W=="Twrl")jW=X.Angl.v*Math.PI/180;
if(W=="Sphr")bz=["Nrml","HrzO","VrtO"].indexOf(X.SphM.v.SphM);function em(V){V=Math.pow(V,1-V*.3-V*V*(V*V)*.5);
return-.225*Math.sin(V*Math.PI)}function dL(F,b7,t,cf,ig,b8,hE,bL){var H=b8-cf,T=hE-ig,c9=cf-F,hB=ig-b7,cn=H*H+T*T,l8=2*(H*c9+T*hB),ho=c9*c9+hB*hB-t*t,aS=Math.sqrt(l8*l8-4*cn*ho),jv=bL/(2*cn),c1=(-l8+aS)*jv,fk=(-l8-aS)*jv;
return bL*Math.min(c1,fk)}var g5=ak.Ah,gb=ak.QB,fP=ak.Ah/2,hW=ak.QB/2,gN=1/fP,t=Math.sqrt(ho*ho+1)/ho,fq=ho+Math.sqrt(1/(ho*ho));
if(fH<0){ho=1.72;t=1;fq=ho;i$=-1;bL=-1}for(var v=0;v<gb;v++){var T=(v-hW)/hW;for(var V=0;V<g5;V++){var H=(V-fP)*gN;
if(bz==1)T=0;else if(bz==2)H=0;var g0=Math.sqrt(H*H+T*T);if(g0<1&&g0!=0){var N=v*ak.Ah+V<<1;if(W=="Pnch"){var eC=-fH*em(g0)/g0;
ak.map[N]=H*eC*fP;ak.map[N+1]=T*eC*hW}else if(W=="Sphr"){var kW=dL(0,fq,t,0,0,g0,ho,bL),aL=i$*fH*(kW-1);
ak.map[N]=H*aL*fP;ak.map[N+1]=T*aL*hW}else if(W=="Twrl"){var iy=Math.atan2(T,H)-jW*(1-g0)*(1-g0),gG=Math.cos(iy),ci=Math.sin(iy);
ak.map[N]=(g0*gG-H)*fP;ak.map[N+1]=(g0*ci-T)*hW}else if(W=="ZgZg"){var gG=0,ci=0,iZ=fH*(.5-.5*Math.cos(g0*jR*2*Math.PI))*(1-g0);
if(iO==0){var iy=Math.atan2(T,H)-3.5*iZ;gG=g0*Math.cos(iy);ci=g0*Math.sin(iy)}if(iO==1){iZ=100/s*iZ/g0;
gG=(1-iZ)*H;ci=(1-iZ)*T}if(iO==2){var w=512/s*iZ*Math.PI/4;gG=w+H;ci=w+T}ak.map[N]=(gG-H)*fP;ak.map[N+1]=(ci-T)*hW}}}}}else if(W=="Shr "){var ie=g.N(X.ShrP.v);
g.yz.M(ie,new ka(0,255/127,255/127,0,-2,0));var id=g.yz.wx(ie,ak.QB,!0);gc=X.UndA.v.UndA=="WrpA"?2:1;
for(var v=0;v<ak.QB;v++){var H=-id[v]*ak.Ah;for(var V=0;V<ak.Ah;V++){var N=v*ak.Ah+V<<1;ak.map[N]=H}}}else if(W=="Wave"){var hU=X.NmbG.v,hu=X.WLMn.v,l4=X.WLMx.v,fe=X.AmMn.v*(Math.PI/4),a7=X.AmMx.v*(Math.PI/4),dj=X.SclH.v/100,kN=X.SclV.v/100,j6=X.Wvtp.v.Wvtp,iZ=Math.sin;
if(j6=="WvTr")iZ=function(V){V*=2/Math.PI;return-.5+Math.abs(V%2-1)};if(j6=="WvSq")iZ=function(V){V*=2/Math.PI;
return 1+2*Math.floor(V%2-1)};var dV=[],aZ=new g.v.rO(X.RndS.v);for(var N=0;N<hU;N++){dV.push(aZ.get()*10);
dV.push(Math.PI*f6/(hu+aZ.get()*(l4-hu)));dV.push(dj*(fe+aZ.get()*(a7-fe))/f6);dV.push(aZ.get()*10);
dV.push(Math.PI*f6/(hu+aZ.get()*(l4-hu)));dV.push(kN*(fe+aZ.get()*(a7-fe))/f6)}var bK=[],fY=[],ep=Math.max(ak.Ah,ak.QB);
for(var N=0;N<ep;N++){var H=0,T=0;for(var k_=0;k_<hU;k_++){var ff=k_*6;H+=dV[ff+2]*iZ(dV[ff]+N*dV[ff+1]);
T+=dV[ff+5]*iZ(dV[ff+3]+N*dV[ff+4])}bK[N]=T;fY[N]=H}for(var v=0;v<ak.QB;v++){for(var V=0;V<ak.Ah;V++){var N=v*ak.Ah+V<<1;
ak.map[N]=fY[v];ak.map[N+1]=bK[V]}}gc=X.UndA.v.UndA=="WrpA"?2:1}else if(W=="Rple"){gc=1;var fH=X.Amnt.v/100,a9=4,fp=[0,-.19,-.29,-.32,.92,.37,.93,.54,-.54,.42,-.29,-.58,-.67,.85,0,.64],kd=1,c_=1,c9=0,g7=["Sml","Mdm","Lrg"].indexOf(X.RplS.v.RplS);
if(g7==0){kd=1;c_=.2;c9=3}if(g7==2){kd=1;c_=2;c9=-1;fp=fp.reverse()}var gV=function(V,v){var ho=Math.cos,fu=0;
for(var N=0;N<a9;N++)for(var k_=0;k_<a9;k_++)fu+=fp[N*a9+k_]*ho(V*(N+c9)-v*(k_+c9));return fu},hS=Math.floor(50/f6),k8=new Float32Array(hS*hS*2),l7=c_*fH*.5/f6;
for(var v=0;v<hS;v++)for(var V=0;V<hS;V++){var cl=kd*V*2*Math.PI/hS,kp=kd*v*2*Math.PI/hS,dA=gV(cl,kp),H=(gV(cl+.01,kp)-dA)*100,T=(gV(cl,kp+.01)-dA)*100,N=(v*hS+V)*2;
k8[N]=H*l7;k8[N+1]=T*l7}for(var v=0;v<ak.QB;v++)for(var V=0;V<ak.Ah;V++){var ci=v%hS,gG=V%hS,N=v*ak.Ah+V<<1,ca=ci*hS+gG<<1;
ak.map[N]=k8[ca];ak.map[N+1]=k8[ca+1]}}}g.r$.Qi(q.buffer,U.buffer,s,F,null,ak.map,ak.Ah,ak.QB,gc)}return U};
var jJ={};jJ.ad9="BrSm BrsL BrDR BrsW BrbW BrSp".split(" ");jJ.Dm="LDBt LDBL LDLf LDTL LDTp LDTR LDRg LDBR".split(" ");
jJ.$t=["ScrC","ScrD","ScrL"];jJ.$W=["SDRD","SDHz","SDLD","SDVt"];jJ.kK="TxBl TxCa TxFr TxTL TxBr TxBu TxSt".split(" ");
jJ.sI="LPBt LPBL LPLf LPTL LPTp LPTR LPRg LPBR".split(" ");jJ.S2="GrnR GrSf GrSr GrnC GrCn GrnE GrSt GrnH GrnV GrSp".split(" ");
jJ.dK=[[24,19,0],[24,19,1],[24,4],[24,19,2],[24,14],[12,67]];jJ.names={ClrP:[0,[24,20,0]],Ct:[0,[24,20,1]],DryB:[0,[24,20,2]],FlmG:[0,[24,20,3]],Frsc:[0,[24,20,4]],NGlw:[0,[24,20,5]],PntD:[0,[24,20,6]],PltK:[0,[24,20,7]],PlsW:[0,[24,20,8]],PstE:[0,[24,20,9]],RghP:[0,[24,20,10]],SmdS:[0,[24,20,11]],Spng:[0,[24,20,12]],Undr:[0,[24,20,13]],Wtrc:[0,[24,20,14]],AccE:[1,[24,20,15]],AngS:[1,[24,20,16]],Crsh:[1,[24,20,17]],DrkS:[1,[24,20,18]],InkO:[1,[24,20,19]],Spt:[1,[24,20,20]],SprS:[1,[24,20,21]],Smie:[1,[24,20,22]],DfsG:[2,[24,20,23]],Gls:[2,[24,20,24]],OcnR:[2,[24,20,25]],BsRl:[3,[24,20,26]],ChlC:[3,[24,20,27]],Chrc:[3,[24,20,28]],Chrm:[3,[24,20,29]],CntC:[3,[24,20,30]],GraP:[3,[24,20,31]],HlfS:[3,[24,20,32]],NtPr:[3,[24,20,33]],Phtc:[3,[24,20,34]],Plst:[3,[24,20,35]],Rtcl:[3,[24,20,36]],Stmp:[3,[24,20,37]],TrnE:[3,[24,20,38]],WtrP:[3,[24,20,39]],GlwE:[4,[24,20,40]],Crql:[5,[24,20,41]],Grn:[5,[24,20,42]],MscT:[5,[24,20,43]],Ptch:[5,[24,20,44]],StnG:[5,[24,20,45]],Txtz:[5,[24,20,46]]};
jJ.wy=function(W){var q;if(W=="ClrP")q={Pncl:{t:"long",v:4},StrP:{t:"long",v:8},PprB:{t:"long",v:25}};
if(W=="Ct")q={NmbL:{t:"long",v:4},EdgS:{t:"long",v:3},EdgF:{t:"long",v:1}};if(W=="DryB")q={BrsS:{t:"long",v:4},BrsD:{t:"long",v:4},Txtr:{t:"long",v:2}};
if(W=="FlmG")q={Grn:{t:"long",v:4},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:23068185}};
if(W=="Frsc")q={BrsS:{t:"long",v:2},BrsD:{t:"long",v:8},Txtr:{t:"long",v:1}};if(W=="NGlw")q={Sz:{t:"long",v:5},Brgh:{t:"long",v:15},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:255}}}};
if(W=="PntD")q={Sz:{t:"long",v:10},Shrp:{t:"long",v:10},BrsT:{t:"enum",v:{BrsT:"BrSm"}}};if(W=="PltK")q={StrS:{t:"long",v:25},StDt:{t:"long",v:3},Sftn:{t:"long",v:2}};
if(W=="PlsW")q={HghS:{t:"long",v:20},Dtl:{t:"long",v:4},Smth:{t:"long",v:5}};if(W=="PstE")q={EdgT:{t:"long",v:2},EdgI:{t:"long",v:1},Pstr:{t:"long",v:2}};
if(W=="RghP")q={StrL:{t:"long",v:6},StDt:{t:"long",v:4},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:20},LghD:{t:"enum",v:{LghD:"LDBt"}},InvT:{t:"bool",v:!1}};
if(W=="SmdS")q={StrL:{t:"long",v:2},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:6399750}};
if(W=="Spng")q={BrsS:{t:"long",v:2},Dfnt:{t:"long",v:12},Smth:{t:"long",v:5},FlRs:{t:"long",v:218877241}};
if(W=="Undr")q={BrsS:{t:"long",v:6},TxtC:{t:"long",v:16},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(W=="Wtrc")q={BrsD:{t:"long",v:9},ShdI:{t:"long",v:1},Txtr:{t:"long",v:3}};if(W=="AccE")q={EdgW:{t:"long",v:2},EdgB:{t:"long",v:38},Smth:{t:"long",v:5}};
if(W=="AngS")q={DrcB:{t:"long",v:50},StrL:{t:"long",v:15},Shrp:{t:"long",v:3}};if(W=="Crsh")q={StrL:{t:"long",v:9},Shrp:{t:"long",v:6},Strg:{t:"long",v:1}};
if(W=="DrkS")q={Blnc:{t:"long",v:5},BlcI:{t:"long",v:6},WhtI:{t:"long",v:2}};if(W=="InkO")q={StrL:{t:"long",v:4},DrkI:{t:"long",v:20},LghI:{t:"long",v:10}};
if(W=="Smie")q={StrW:{t:"long",v:10},StrP:{t:"long",v:5},Cntr:{t:"long",v:16}};if(W=="Spt")q={SprR:{t:"long",v:10},Smth:{t:"long",v:5},FlRs:{t:"long",v:10738420}};
if(W=="SprS")q={StrL:{t:"long",v:12},SprR:{t:"long",v:7},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:893120664}};
if(W=="DfsG")q={Grns:{t:"long",v:6},GlwA:{t:"long",v:10},ClrA:{t:"long",v:15},FlRs:{t:"long",v:325892160}};
if(W=="Gls")q={Dstr:{t:"long",v:3},Smth:{t:"long",v:1},TxtT:{t:"enum",v:{TxtT:"TxTL"}},Scln:{t:"long",v:100},InvT:{t:"bool",v:!1}};
if(W=="OcnR")q={RplS:{t:"long",v:5},RplM:{t:"long",v:15},FlRs:{t:"long",v:64008840}};if(W=="BsRl")q={Dtl:{t:"long",v:11},Smth:{t:"long",v:7},LghD:{t:"enum",v:{LghD:"LDBt"}}};
if(W=="ChlC")q={ChrA:{t:"long",v:6},ChlA:{t:"long",v:6},StrP:{t:"long",v:1},FlRs:{t:"long",v:314004633}};
if(W=="Chrc")q={ChAm:{t:"long",v:1},Dtl:{t:"long",v:5},LgDr:{t:"long",v:50},GELv:{t:"bool",v:!0}};if(W=="Chrm")q={Dtl:{t:"long",v:4},Smth:{t:"long",v:4}};
if(W=="CntC")q={FrgL:{t:"long",v:11},BckL:{t:"long",v:7},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(W=="GraP")q={StrL:{t:"long",v:7},LgDr:{t:"long",v:50},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:55993248}};
if(W=="HlfS")q={HlSz:{t:"long",v:1},Cntr:{t:"long",v:5},ScrT:{t:"enum",v:{ScrT:"ScrD"}}};if(W=="NtPr")q={ImgB:{t:"long",v:25},Grns:{t:"long",v:10},Rlf:{t:"long",v:11},FlRs:{t:"long",v:52642770}};
if(W=="Phtc")q={Dtl:{t:"long",v:10},Drkn:{t:"long",v:4}};if(W=="Plst")q={ImgB:{t:"long",v:20},Smth:{t:"long",v:2},LghP:{t:"enum",v:{LghP:"LPTp"}}};
if(W=="Rtcl")q={Dnst:{t:"long",v:12},BlcL:{t:"long",v:40},WhtL:{t:"long",v:5},FlRs:{t:"long",v:301835400}};
if(W=="Stmp")q={LgDr:{t:"long",v:25},Smth:{t:"long",v:4}};if(W=="TrnE")q={ImgB:{t:"long",v:25},Smth:{t:"long",v:11},Cntr:{t:"long",v:17},FlRs:{t:"long",v:461109340}};
if(W=="WtrP")q={FbrL:{t:"long",v:15},Brgh:{t:"long",v:60},Cntr:{t:"long",v:80},FlRs:{t:"long",v:83852682}};
if(W=="GlwE")q={EdgW:{t:"long",v:1},EdgB:{t:"long",v:10},Smth:{t:"long",v:1}};if(W=="Crql")q={CrcS:{t:"long",v:15},CrcD:{t:"long",v:6},CrcB:{t:"long",v:9},FlRs:{t:"long",v:495615720}};
if(W=="Grn")q={Intn:{t:"long",v:40},Cntr:{t:"long",v:50},Grnt:{t:"enum",v:{Grnt:"GrnR"}},FlRs:{t:"long",v:217582197}};
if(W=="MscT")q={TlSz:{t:"long",v:12},GrtW:{t:"long",v:3},LghG:{t:"long",v:9},FlRs:{t:"long",v:25445584}};
if(W=="Ptch")q={SqrS:{t:"long",v:4},Rlf:{t:"long",v:8},FlRs:{t:"long",v:383529723}};if(W=="StnG")q={ClSz:{t:"long",v:10},BrdT:{t:"long",v:4},LghI:{t:"long",v:0},FlRs:{t:"long",v:319935998}};
if(W=="Txtz")q={TxtT:{t:"enum",v:{TxtT:"TxBr"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:10},LghD:{t:"enum",v:{LghD:"LDBL"}},InvT:{t:"bool",v:!1}};
q.__name="Filter Gallery";q.classID="GEfc";q.GEfk={t:"enum",v:{GEft:W}};q.GELv={t:"bool",v:!0};return q};
jJ.CV=function(W,q){for(var N=0;N<q.length;N++)~~(q[N]=(W[4*N]+W[4*N+1]+W[4*N+2])*(1/3))};jJ.aBa=function(W,q,X,k,B,U){var l=UPNG.quantize(W,q);
l={On:l.inds,hf:l.plte};if(U){var K=new Uint32Array(l.hf.length);for(var N=0;N<K.length;N++)K[N]=l.hf[N].est.rgba;
l.On=g.a7A(new Uint8Array(W),X,k,new Uint8Array(K.buffer))}var D=Math.floor((X+k)*.015);if(D!=0&&B)g._9.amW(l.On,X,k,D);
return l};jJ.GT=function(W,q,X,k,B,U,l){W=X.GEfk.v.GEft;var K=q.S,D=K.r,m=K.$,Y=D*m,a=X.FlRs?X.FlRs.v>>>1:0;
function p(G){return G.o<<24|G.L<<16|G.X<<8|255}if(W=="ClrP")g.u.auO(q.buffer,D,m,U.buffer,[X.Pncl.v,X.StrP.v,X.PprB.v]);
if(W=="Ct"){var M=X.NmbL.v,x=X.EdgS.v,R=jJ.aBa(q.buffer.buffer,M*2,D,m,!0);for(var N=0;N<R.On.length;
N++)R.On[N]++;var y=new Uint8Array((D+2)*(m+2));g.Z_(R.On,new dU(1,1,D,m),y,new dU(0,0,D+2,m+2));var s=g.b.Kk(y,D+2,m+2,x,!1),F=new ka(1,0,0,1,-1,-1);
for(var N=0;N<s.length;N++)g.b.M(s[N].path.n,F,s[N].path.n);var E=[],o=R.hf;for(var N=0;N<o.length;N++){var G=o[N].est.q;
E.push({o:Math.round(255*G[0]),L:Math.round(255*G[1]),X:Math.round(255*G[2]),iM:Math.round(255*G[3])})}var d=g.Nm(D,m);
for(var N=0;N<s.length;N++){var u=s[N],G=E[u.color-1];if(G.iM==0)continue;d.fillStyle="rgba("+G.o+","+G.L+","+G.X+","+G.iM/255+")";
d.beginPath();Typr.U.pathToContext({crds:u.path.n,cmds:u.path.zb},d);d.fill()}if(!K.PM()){var r=d.getImageData(0,0,D,m);
g.cX(r.data,U.buffer)}}if(W=="DryB")g.u.adX(q.buffer,D,m,U.buffer,[X.BrsS.v,X.BrsD.v,X.Txtr.v]);if(W=="FlmG")g.u.a9Y(q.buffer,D,m,U.buffer,[X.Grn.v,X.HghA.v,X.Intn.v,a]);
if(W=="Frsc")g.u.apV(q.buffer,D,m,U.buffer,[X.BrsS.v,X.BrsD.v,X.Txtr.v]);if(W=="NGlw")g.u.aBy(q.buffer,D,m,U.buffer,[X.Sz.v,X.Brgh.v,p(g.ov.yM(X.Clr.v)),p(k),p(B)]);
if(W=="PltK")g.u.aob(q.buffer,D,m,U.buffer,[X.StrS.v,X.StDt.v,X.Sftn.v]);if(W=="PstE")g.u.agZ(q.buffer,D,m,U.buffer,[X.EdgT.v,X.EdgI.v,X.Pstr.v]);
if(W=="RghP")g.u.amn(q.buffer,D,m,U.buffer,[X.StrL.v,X.StDt.v,jJ.kK.indexOf(X.TxtT.v.TxtT),X.Scln.v,X.Rlf.v,jJ.Dm.indexOf(X.LghD.v.LghD),X.InvT.v]);
if(W=="SmdS")g.u.ahq(q.buffer,D,m,U.buffer,[X.StrL.v,X.HghA.v,X.Intn.v,X.FlRs?X.FlRs.v:0,a]);if(W=="Spng")g.u.aj2(q.buffer,D,m,U.buffer,[X.BrsS.v,X.Dfnt.v,X.Smth.v,X.FlRs?X.FlRs.v:0,a]);
if(W=="Undr")g.u.aeY(q.buffer,D,m,U.buffer,[X.BrsS.v,X.TxtC.v,jJ.kK.indexOf(X.TxtT.v.TxtT),X.Scln.v,X.Rlf.v,jJ.Dm.indexOf(X.LghD.v.LghD),X.InvT.v]);
if(W=="Wtrc")g.u.auD(q.buffer,D,m,U.buffer,[X.BrsD.v,X.ShdI.v,X.Txtr.v]);if(W=="AccE")g.u.aEP(q.buffer,D,m,U.buffer,[X.EdgW.v,X.EdgB.v,X.Smth.v]);
if(W=="AngS")g.u.axG(q.buffer,D,m,U.buffer,[X.DrcB.v,X.StrL.v,X.Shrp.v]);if(W=="Crsh")g.u.aBb(q.buffer,D,m,U.buffer,[X.StrL.v,X.Shrp.v,X.Strg.v]);
if(W=="DrkS")g.u.apU(q.buffer,D,m,U.buffer,[X.Blnc.v,X.BlcI.v,X.WhtI.v]);if(W=="InkO")g.u.adf(q.buffer,D,m,U.buffer,[X.StrL.v,X.DrkI.v,X.LghI.v]);
if(W=="Smie")g.u.a7U(q.buffer,D,m,U.buffer,[X.StrW.v,X.StrP.v,X.Cntr.v]);if(W=="DfsG")g.u.aKJ(q.buffer,D,m,U.buffer,[X.Grns.v,X.GlwA.v,X.ClrA.v,p(B),a]);
if(W=="CntC")g.u.aJC(q.buffer,D,m,U.buffer,[X.FrgL.v,X.BckL.v,jJ.kK.indexOf(X.TxtT.v.TxtT),X.Scln.v,X.Rlf.v,jJ.Dm.indexOf(X.LghD.v.LghD),X.InvT.v,p(B),p(k)]);
if(W=="ChlC")g.u.a8D(q.buffer,D,m,U.buffer,[X.ChrA.v,X.ChlA.v,X.StrP.v,a,p(B),p(k)]);var v=W=="GraP"||W=="Chrc"||W=="Plst"||W=="Rtcl"||W=="Stmp"||W=="TrnE";
if(v){var V=g.j(D*m);if(W=="GraP")g.u.abv(q.buffer,D,m,U.buffer,[X.StrL.v,X.LgDr.v,jJ.$W.indexOf(X.SDir.v.StrD),a]);
if(W=="Chrc")g.u.a8S(q.buffer,D,m,U.buffer,[X.ChAm.v,X.Dtl.v,X.LgDr.v]);if(W=="Plst")g.u.af3(q.buffer,D,m,U.buffer,[X.ImgB.v,jJ.sI.indexOf(X.LghP.v.LghP),X.Smth.v]);
if(W=="Rtcl")g.u.auq(q.buffer,D,m,U.buffer,[X.Dnst.v,X.BlcL.v,X.WhtL.v,a]);if(W=="Stmp")g.u.afN(q.buffer,D,m,U.buffer,[X.LgDr.v,X.Smth.v]);
if(W=="TrnE")g.u.awm(q.buffer,D,m,U.buffer,[X.ImgB.v,X.Smth.v,X.Cntr.v,a]);g.u6(U.buffer,V,0);jJ.xq(V,U.buffer,k,B)}if(W=="NtPr")g.u.aCT(q.buffer,D,m,U.buffer,[X.ImgB.v,X.Grns.v,X.Rlf.v,p(k),p(B),a]);
if(W=="WtrP")g.u.a3Q(q.buffer,D,m,U.buffer,[X.FbrL.v,X.Brgh.v,X.Cntr.v,a>>>1]);if(W=="Crql")g.u.ae8(q.buffer,D,m,U.buffer,[X.CrcS.v,X.CrcD.v,X.CrcB.v,a]);
if(W=="Grn")g.u.auY(q.buffer,D,m,U.buffer,[X.Intn.v,jJ.S2.indexOf(X.Grnt.v.Grnt),X.Cntr.v,p(k),p(B),a]);
if(W=="MscT")g.u.ahv(q.buffer,D,m,U.buffer,[X.TlSz.v,X.GrtW.v,X.LghG.v,a]);if(W=="Ptch")g.u.aJJ(q.buffer,D,m,U.buffer,[X.SqrS.v,X.Rlf.v,a]);
if(W=="Phtc"){function j(i$,cI,K,cs){g.Zt.Yd(cI,K,cs,2);for(var N=0;N<Y;N++)cI[N]=Math.max(0,Math.min(255,128+i$[N]-cI[N]))}var Q=X.Dtl.v,H=X.Drkn.v,T=g.j(Y);
g.Iv(q.buffer,T);var e=T.slice(0);j(T,e,K,1);if(Q==1){Q=2;H=Math.round(H/4)}var z=T.slice(0);j(T,z,K,Q);
for(var N=0;N<Y;N++)T[N]=Math.max(0,Math.min(255,255-(e[N]-z[N])*H));jJ.xq(T,U.buffer,k,B)}if(W=="Spt"||W=="SprS"){var J,P=1,L=1;
J={Ah:Math.floor(D/L),QB:Math.floor(m/L)};J.map=new Float32Array(J.Ah*J.QB*2);var A=new g.v.rO(a),h=new Float32Array(8192),C=X.SprR.v,w=C<20?.018*C:.36+(C-20)*.128;
if(W=="SprS"){w=.07+[0,.02,.04,.06,.08,.1,.12,.14,.16,.18,.2,.22,.24,.26,.28,.3,.34,.38,.5,.65,.75,.85,1,1.5,2.2,3][C]}for(var N=0;
N<8192;N++)h[N]=(-1+2*A.get())*w*70;for(var f=0;f<m;f++)for(var O=0;O<D;O++){var n=f*D+O<<1;J.map[n]=h[n%7919];
J.map[n+1]=h[(n+1)%7919]}var $=J.map.slice(0),d9=W=="Spt"?X.Smth.v-1:1;if(W=="Spt"&&d9!=0){jJ.aAS(J.map,$,D,m,d9);
jJ.aC8($,J.map,D,m,d9)}if(W=="SprS"){var i=X.StrL.v>>>1,dF=i==0?2:1;jJ.aAS(J.map,$,D,m,dF);jJ.aC8($,J.map,D,m,dF);
if(i!=0){var t=jJ.$W.indexOf(X.SDir.v.StrD),im=[1,1,1,0][t],bc=[-1,0,1,1][t],at=2*i+1,l9=1/at;for(var f=0;
f<m;f++)for(var O=0;O<D;O++){var n=f*D+O<<1,fF=0,g$=0;for(var N=0;N<at;N++){var fR=Math.max(0,Math.min(D-1,O-(i+N)*im)),cr=Math.max(0,Math.min(m-1,f-(i+N)*bc)),eE=cr*D+fR<<1;
fF+=J.map[eE];g$+=J.map[eE+1]}$[n]=fF*l9;$[n+1]=g$*l9}J.map=$}}g.r$.Qi(q.buffer,U.buffer,D,m,null,J.map,J.Ah,J.QB,P)}if(W=="BsRl"||W=="PlsW"||W=="Chrm"){var bQ=Date.now(),hT=g.j(Y);
g.Iv(q.buffer,hT);var Q=X.Dtl.v,df=X.Smth.v;if(Q!=15){g.Zt.Yd(hT,K,Math.round((15-Q)*.5))}var eV=1.4/D,gU=1.4/m,i8=new Float32Array(Y),bv=new Float32Array(Y),fE=new Float32Array(U.buffer.buffer);
for(var f=0;f<m;f++)for(var O=0;O<D;O++){var N=f*D+O,im=O==D-1?hT[N]-hT[N-1]:hT[N+1]-hT[N],bc=f==m-1?hT[N]-hT[N-D]:hT[N+D]-hT[N],d5=O*eV-.7,aR=f*gU-.7;
i8[N]=im==0?d5:im*.4;bv[N]=bc==0?aR:bc*.4}if(W=="BsRl"){var l8=(2+jJ.Dm.indexOf(X.LghD.v.LghD))*Math.PI*.25,fF=Math.cos(l8);
if(Math.abs(fF)<.1)fF=0;fF=Math.sign(fF);var g$=Math.sin(l8);if(Math.abs(g$)<.1)g$=0;g$=Math.sign(g$);
var au=1/(fF*fF+g$*g$),hx=hT.slice(0);for(var f=0;f<m;f++)for(var O=0;O<D;O++){var N=f*D+O,fw=Math.max(-1,Math.min(1,fF*i8[N])),cx=Math.max(-1,Math.min(1,g$*bv[N]));
hx[N]=128+127*(fw+cx)*au}if(df!=1){g.Zt.Yd(hx,K,Math.round((df-1)*.5))}jJ.xq(hx,U.buffer,k,B)}else{if(W=="Chrm")df=5+df;
if(df>1)jJ.lp(i8,bv,fE,K,df-1);if(W=="PlsW"){var fg=new Uint8Array(i8.buffer);for(var N=0;N<Y;N++){var iI=N<<2,im=i8[N],bc=bv[N],eq=1/(Math.sqrt(1+im*im)*Math.sqrt(1+bc*bc)),fS=eq*eq,f1=fS*fS,G=~~(255*(f1*f1*fS));
fg[iI+0]=G;fg[iI+1]=G;fg[iI+2]=G;fg[iI+3]=G}U.buffer.set(q.buffer);g.v.HX("norm",fg,K,U.buffer,K,K,X.HghS.v/20)}else if(W=="Chrm"){var c4=U.buffer,ea=D>>>1,ie=m>>>1;
for(var N=0;N<Y;N++){var iI=N<<2,im=i8[N],bc=bv[N],i$={x:1,y:0,Qr:im};dx.t$(i$);var cI={x:0,y:1,Qr:bc};
dx.t$(cI);var cD=dx.aqL(i$,cI),fG=1/cD.Qr,cH=~~Math.max(0,Math.min(D-1,ea-cD.x*fG*ea)),hL=~~Math.max(0,Math.min(m-1,ie-cD.y*fG*ie)),G=hT[hL*D+cH];
c4[iI+0]=G;c4[iI+1]=G;c4[iI+2]=G}}}}if(W=="Gls"||W=="OcnR"||W=="Txtz"){var ee=W=="OcnR"?2:jJ.kK.indexOf(X.TxtT.v.TxtT),aj=jJ.Ik(ee),iA=aj[0],hT=aj[1],eL=iA.r,hZ=iA.$,at=24,jZ=0,cg,hn;
function bZ(is,e2,hh){return~~(k_*(is+e2)+8192)&127}var i8=new Float32Array(Y),bv=new Float32Array(Y),fE=new Float32Array(U.buffer.buffer),k_=W=="OcnR"?1/(1+(X.RplS.v-1)*.1):100/X.Scln.v;
if(ee==3)k_*=32/22.2;var bQ=Date.now(),kW=k_,eV=1.4/D,gU=1.4/m;if(W=="Txtz"){kW*=1/255;at=256}for(var f=0;
f<m;f++){var iU=bZ(f,K.y,hZ),cr=iU+1&127;for(var O=0;O<D;O++){var N=f*D+O,kO=bZ(O,K.x,eL),fR=kO+1&127,hq=0,e8=0,gi=0;
if(W=="Txtz"){hq=g.F.nW(k_*O,k_*f,hT,128,128);e8=g.F.nW(k_*O,k_*f+1,hT,128,128);gi=g.F.nW(k_*O+1,k_*f,hT,128,128)}else{hq=hT[iU*eL+kO];
e8=hT[cr*eL+kO];gi=hT[iU*eL+fR]}i8[N]=Math.max(-at,Math.min((gi-hq)*kW,at));bv[N]=Math.max(-at,Math.min((e8-hq)*kW,at))}}if(W=="Txtz")jJ.akQ(i8,bv,fE,K,6);
else jJ.lp(i8,bv,fE,K,W=="Txtz"?1:W=="OcnR"?3.5/k_:X.Smth.v);if(W=="Txtz")jZ=X.InvT.v?-1:1;else if(W=="Gls"){jZ=[1,.4,.5,.5,.5,.5,.5][ee]*(Math.exp(X.Dstr.v*.155)-1);
if(X.InvT.v)jZ=-jZ}else{jZ=.5*(Math.exp(X.RplM.v*.155)-1)}var c4=U.buffer;if(W=="Txtz"){var l8=(2+jJ.Dm.indexOf(X.LghD.v.LghD))*Math.PI*.25,fF=Math.cos(l8),g$=Math.sin(l8);
cg={x:fF,y:g$,Qr:0};dx.t$(cg);hn=X.Rlf.v;hn=hn/4+Math.max(0,(hn-35)*2)}function bF(i$,cI,eH){var kS=g.v.overF(cI,i$,1),is=(1-eH)*i$+eH*(eH*cI+(1-eH)*kS);
return is*255}for(var f=0;f<m;f++)for(var O=0;O<D;O++){var N=f*D+O,iI=N<<2,im=i8[N],bc=bv[N],i$={x:1,y:0,Qr:im};
dx.t$(i$);var cI={x:0,y:1,Qr:bc};dx.t$(cI);var cD=dx.aqL(i$,cI);if(W=="Txtz"){var gf=dx.a75(cD,cg)*jZ,eH=1,G=1;
if(gf<0){G=0;gf=-gf}eH=Math.min(1,gf*hn);c4[iI+0]=~~bF(q.buffer[iI]*(1/255),G,eH);c4[iI+1]=~~bF(q.buffer[iI+1]*(1/255),G,eH);
c4[iI+2]=~~bF(q.buffer[iI+2]*(1/255),G,eH)}else{var fG=jZ/cD.Qr,cH=~~Math.max(0,Math.min(D-1,O-cD.x*fG)),hL=~~Math.max(0,Math.min(m-1,f-cD.y*fG)),h5=hL*D+cH<<2;
c4[iI+0]=q.buffer[h5];c4[iI+1]=q.buffer[h5+1];c4[iI+2]=q.buffer[h5+2]}}}if(W=="PntD"){var gS=X.Shrp.v*.4,hP=X.BrsT.v.BrsT,iy={BrSm:[.75],BrsL:[.85],BrDR:[.68],BrsW:[.75],BrbW:[.78],BrSp:[.62]}[hP],cs=Math.round(X.Sz.v*.5);
g.r6.H$=iy[0];g.r6.kQ(q.buffer,U.buffer,D,m,cs,0,[]);var fH=[-.7,-1,-.7,-1,10,-1,-.7,-1,-.7];fH=g.PG.XH(fH);
var fM=U.buffer.slice(0);g.PG.LH(fM,U.buffer,D,m,fH);for(var N=0;N<q.buffer.length;N++){var az=U.buffer[N]-fM[N];
U.buffer[N]=Math.max(0,Math.min(255,fM[N]+gS*az))}}if(W=="GlwE"){var er=U.buffer.slice(0);g.r6.H$=.5;
g.r6.kQ(q.buffer,er,D,m,X.Smth.v>>>1,0,[]);g.PG.aj5(er,U.buffer,D,m);g.cX(U.buffer,er);g.i5(er);g._5(er,1);
g._R.alc(er,U.buffer,D,m,(X.EdgW.v>>>1)*2+1,!0);var aJ=X.EdgB.v/10;for(var N=0;N<er.length;N++){if((N&3)==3)continue;
var kS=U.buffer[N];U.buffer[N]=Math.max(0,Math.min(255,kS*aJ))}}if(W=="StnG"){g.CK.axK(q.buffer,D,m,U.buffer,X.ClSz.v,[Math.round(k.o),Math.round(k.L),Math.round(k.X)],X.BrdT.v,a)}if(W=="HlfS"){var ge=X.HlSz.v,aT=ge*2+1,fQ=X.Cntr.v,j6=jJ.$t.indexOf(X.ScrT.v.ScrT),Y=D*m,et=Y*4,d2=g.j(Y),kx=q.buffer,fN=0,b_=0;
jJ.CV(kx,d2);g.Zt.Aq(d2,K,ge);var c2=Math.PI/aT,ke=new Float64Array(D),fF=new Float64Array(D),dv=new Float64Array(2*D);
for(var O=0;O<D;O++){var kO=(O-(D>>>1))*c2;ke[O]=kO*kO;fF[O]=Math.cos(kO);var im=O<<1;dv[im]=Math.sin(im*(1/4.5));
dv[im+1]=Math.sin((im+1)*(1/4.5))}for(var f=0;f<m;f++){var iU=(f-(m>>>1))*c2,g$=Math.cos(iU),hJ=iU*iU;
for(var O=0;O<D;O++){var G=g$;if(j6==0){var dP=.5+Math.sqrt(ke[O]+hJ)*4.5;G=dv[~~dP]}else if(j6==1){G=fF[O]*g$}var N=f*D+O,cf=d2[N]*(.75+.25*G),eH=kx[(N<<2)+3]*(1/255),ig=Math.max(0,Math.min(255,~~cf));
fN+=ig*eH,b_+=eH;d2[N]=ig}}fN/=b_;var b8=128+1.26*(fN-128),aJ=.08+.25*Math.abs((128-fN)/128),hE=1+aJ*fQ;
for(var N=0;N<Y;N++){var cf=b8+(d2[N]-b8)*hE;d2[N]=Math.max(0,Math.min(255,~~cf))}if(fQ>46)g.round(d2);
jJ.xq(d2,U.buffer,k,B)}for(var N=0;N<q.buffer.length;N+=4)U.buffer[N+3]=q.buffer[N+3]};jJ.xq=function(W,q,X,k){var B=W.length,U=X.o,l=X.L,K=X.X,D=k.o,m=k.L,Y=k.X;
for(var N=0;N<B;N++){var a=W[N]*(1/255),p=1-a,M=N<<2;q[M]=~~(U*p+D*a);q[M+1]=~~(l*p+m*a);q[M+2]=~~(K*p+Y*a)}};
jJ.Ik=function(W){if(W==6)W=2;var q="blocks canvas frosted tinylens brick burlap".split(" ")[W];if(jJ.UF==null)jJ.UF=[];
if(jJ.UF[W]==null){var X,k;if(W==2){k=new dU(0,0,128,128);var B=dY.wy("AdNs");B.Mnch.v=!0;B.Dstr.v.Dstr="Gsn";
B.Nose.v.val=50;var X=g.j(k.C()*4),U=X.slice(0);g.WD(U.buffer,4286611584);dY.GT("AdNs",{buffer:U,S:k},B,0,0,{buffer:X,S:k})}else{var l=lf.Nx.get("tex/"+q,!0)[0];
k=l.oq;X=new Uint8Array(l.data)}var K=g.j(k.C());g.u6(X,K,0);jJ.UF[W]=[k,K]}return jJ.UF[W]};jJ.lp=function(W,q,X,k,B){if(B<=1){B=Math.round(B);
jJ.akQ(W,q,X,k,[1,16,4][B]);return}var U=B*.42;if(W){g.Zt.Yd(W,k,U,3)}if(q){g.Zt.Yd(q,k,U,3)}};jJ.akQ=function(W,q,X,k,B){var U=g.PG.XH([1,2,1,2,B,2,1,2,1]);
if(W){X.set(W);g.PG.a6G(W,X,k.r,k.$,U);W.set(X)}if(q){X.set(q);g.PG.a6G(q,X,k.r,k.$,U);q.set(X)}};jJ.yS=function(W){if(W==null)return new hw(0,0);
var q=0,X=W.GEfs?W.GEfs.v:[{v:W}];for(var N=0;N<X.length;N++){var k=X[N].v,U=1e4;if(k.GELv&&!k.GELv.v)continue;
var B=k.GEfk.v.GEft;if(B=="GlwE"||B=="Phtc"||B=="BsRl"||B=="PlsW"||B=="Chrm"||B=="Gls"||B=="OcnR"||B=="InkO")U=0;
q=Math.max(q,U)}return new hw(q,q)};jJ.a5h=function(W){var q=[0,0,0,0,0,0,0,0,0,0,0,0,0],X=[0,.6,.7,.8,1,1.2,1.4,1.6,1.8,2,2.2,2.6,3,4,5][W];
for(var N=0;N<13;N++){var k=N-6;q[N]=1/(X*Math.sqrt(2*Math.PI))*Math.exp(-.5*(k/X)*(k/X))}return q};
jJ.aAS=function(W,q,X,k,B){var U=jJ.a5h(B),l=6,K=13;for(var D=0;D<k;D++)for(var m=0;m<X;m++){var Y=D*X+m<<1,a=0,p=0;
for(var N=0;N<K;N++){var M=m+N-l,x=M<0?0:M>=X?X-1:M,R=(D*X+x)*2,y=U[N];a+=y*W[R];p+=y*W[R+1]}q[Y]=a;
q[Y+1]=p}};jJ.aC8=function(W,q,X,k,B){var U=jJ.a5h(B),l=6,K=13;for(var D=0;D<k;D++)for(var m=0;m<X;m++){var Y=D*X+m<<1,a=0,p=0;
for(var N=0;N<K;N++){var M=D+N-l,x=M<0?0:M>=k?k-1:M,R=(x*X+m)*2,y=U[N];a+=y*W[R];p+=y*W[R+1]}q[Y]=a;
q[Y+1]=p}};function jm(){}jm._i=[2,5,5,7,4,4];jm.eB="norm,diss,dark,mul ,idiv,lbrn,dkCl,lite,scrn,div ,lddg,lgCl,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv,hue ,sat ,colr,lum ".split(",");
jm.FW="Nrml Dslv Drkn Mltp CBrn linearBurn darkerColor Lghn Scrn CDdg linearDodge lighterColor Ovrl SftL HrdL vividLight linearLight pinLight hardMix Dfrn Xclu blendSubtraction blendDivide H Strt Clr Lmns".split(" ");
jm.Y7=[[15,10,0],[15,10,1],[15,10,2],[15,10,3],[15,10,4],[15,10,5],[15,10,6],[15,10,7],[15,10,8],[15,10,9],[15,10,10],[15,10,11],[15,10,12],[15,10,13],[15,10,14],[15,10,15],[15,10,16],[15,10,17],[15,10,18],[15,10,19],[15,10,20],[15,10,21],[15,10,22],[15,10,23],[15,10,24],[15,10,25],[15,10,26]];
jm.at=["normal",null,"darken","multiply","color-burn",null,null,"lighten","screen","color-dodge",null,null,"overlay","soft-light","hard-light",null,null,null,null,"difference","exclusion",null,null,"hue","saturation","color","luminosity"];
jm.U3=function(W){if(W=="passThrough")return"pass";return jm.eB[jm.FW.indexOf(W)]};jm.yq=function(W){if(W=="pass")return"passThrough";
return jm.FW[jm.eB.indexOf(W)]};jm.getName=function(W){return jm.Y7[jm.eB.indexOf(W)]};function b(){this.S=null;
this.buffer=null;this.JY="norm";this.zO=255;this.Oa=!1;this.D7=!1;this.Z9=0;this.iN=0;this.Es=!0;this.EU=[];
for(var N=0;N<10;N++)this.EU.push(0,0,255,255);this.name=null;this.add={};this.ZD=null;this.ku=null;
this.BD=null;this.$a=null;this.a1h=30;this.qE=null;this.a0u=null;this.ajp=null;this.aDi=null;this.pw=0;
this.LJ=!1;this.dg=null;this.kJ=new b.$h}b.$h=function(){this.aX=!0;this.OG=!0;this.J5=g.j(0);this.a5U=g.j(0);
this.X9=null;this.sg={};this.aJL=null;this.aI5=null;this.md=null;this.XR=null;this.oL=null;this.ma=!1};
b.$h.prototype.a2P=function(){this.aX=null;this.OG=!1;this.X9=null;this.ma=dd.gP};b.$h.prototype.aCL=function(){dx.a5C(this.sg);
this.J5=g.j(0);this.a5U=g.j(0);if(this.XR)this.XR.delete();if(this.oL)this.oL.delete();this.XR=null;
this.oL=null};b.prototype.I_=function(W){if(W==null)W=this.S.P();if(this.kJ.X9==null)this.kJ.X9=W;else this.kJ.X9=this.kJ.X9.xw(W)};
b.prototype.S3=function(){return this.add.lsct==e5.B2||this.add.lsct==e5.Fn};b.prototype.Nj=function(){var W=this.add;
return W.SoCo!=null||W.GdFl!=null||W.PtFl!=null||W.vstl!=null};b.prototype.awD=function(){var W=this.add.lmfx;
if(W==null)return;var q=["GrFl","patternFill"];for(var N=0;N<q.length;N++){var X=kE.m1[kE.order.indexOf(q[N])],k=W[X].v;
if(k.length==0)continue;for(var B=0;B<k.length;B++){var U=k[B].v;if(U.enab.v&&(U.Algn==null||!U.Algn.v))this.kJ.OG=!0}}};
b.prototype.aDY=function(){var W=this.BD,q=this.kJ.aX;if(this.Nj())W=this.Jx();if(!dd.gP)return W.mj();
if(this.kJ.oL==null||q||dd.gP!=this.kJ.ma){var X=W.wu(),k=W.mj(),B=this.kJ.oL,U=g.Oj(k),l=null;if(q!=!0&&q!=null){l=q.P();
l.offset(-X.x,-X.y)}if(B==null||B.r!=X.r||B.$!=X.$||B.depth!=U){B=this.kJ.oL=new dd.i2(X.r,X.$,U);l=null}B.set(k,l)}return this.kJ.oL};
b.prototype.a13=function(W){var q=this.S,X=this.buffer;if(!dd.gP){var k=this.Z4(W,X,q);if(k){X=k.kl;
q=k.S}return X}if(this.kJ.X9!=null||dd.gP!=this.kJ.ma){var k=this.Z4(W,X,q);if(k){X=k.kl;q=k.S}var B=q;
if(dd.gP!=this.kJ.ma||this.kJ.XR==null||this.kJ.XR.r!=B.r||this.kJ.XR.$!=B.$||this.kJ.XR.depth!=W.depth){if(this.kJ.XR)this.kJ.XR.delete();
this.kJ.XR=new dd.rV(B.r,B.$,W.depth);this.kJ.XR.set(X)}else{var U=this.kJ.X9.P();U.offset(-q.x,-q.y);
this.kJ.XR.set(X,U)}}return this.kJ.XR};b.prototype.bk=function(){var W=this.BD;if(this.Nj())W=this.Jx();
return W!=null&&W.isEnabled&&(!W.S.PM()||W.yM()!=255)};b.prototype.Z4=function(W,q,X){if(this.SF()){var k=this.Q2(W);
if(k.BD&&k.BD.isEnabled&&(!k.BD.S.PM()||k.BD.color==0)){var B=this.add.SoLd.filterFX.v;k.BD.IC=B.filterMaskDensity?B.filterMaskDensity.v:255;
k.BD.iE=B.filterMaskFeather?B.filterMaskFeather.v:0;var U=k.buffer,l=k.S;if(l.C()<X.C()){l=X;U=g.j(l.C()*4,W.depth);
g.YE(k.buffer,k.S,U,l)}var K=k.BD.sA(X);g.i5(K);q=q.slice(0);g.v.lE(U,l,q,X,K,X,0,X,1);return{kl:q,S:X}}}};
b.prototype.amz=function(){var W={H0:!1,ct:!1,tN:0,a4s:0};if(this.add.vmsk&&this.add.vmsk.isEnabled)W.ct=!0;
if(this.Jx()&&this.Jx().isEnabled)W.H0=!0;if(W.H0&&W.ct){W.tN=this.Jx().S.x-this.add.vmsk.Jx().S.x;W.a4s=this.Jx().S.y-this.add.vmsk.Jx().S.y}return W};
b.prototype.Ae=function(W,q){if(cC!=0)return;if(q&&this.Jx().iE!=0){q=q.P();var X=Math.round(this.Jx().iE*2.4);
q.Pt(X,X)}var k=!1;if(this.add.lsct==e5.dx)return;var B=this,U=this.Jx()!=null&&this.Jx().Uf,l=this.add.vmsk!=null&&this.add.vmsk.Uf,K=this.amz(),D=JSON.stringify(K)!=this.kJ.aJL||K.H0&&U||K.ct&&l;
if(D){if(K.ct){var m=this.add.vmsk.Jx(null,W.depth);if(K.H0){this.BD=this.Jx().xY(m);this.kJ.aI5=new hw(this.BD.S.x-this.Jx().S.x,this.BD.S.y-this.Jx().S.y)}else this.BD=m}if(this.BD)k=!0;
if(this.BD)this.kJ.md=new hw(this.S.x-this.BD.S.x,this.S.y-this.BD.S.y);if(K.H0)this.Jx().Uf=!1;if(K.ct)this.add.vmsk.Uf=!1;
this.I_(q)}else{if(K.H0&&K.ct){this.BD.S.x=this.Jx().S.x+this.kJ.aI5.x;this.BD.S.y=this.Jx().S.y+this.kJ.aI5.y}}if(B.Nj()){this.x9(W)}if(B.xn()){var Y;
if(this.BD)Y=new hw(this.S.x-this.BD.S.x,this.S.y-this.BD.S.y);if(this.BD&&this.BD.isEnabled&&(this.kJ.md==null||!Y.AB(this.kJ.md))){this.kJ.md=Y;
this.I_(q);k=!0}}if(dZ.get(B.add)!=null)k=!0;if(k){var a=this.kJ.aX;if(q&&a&&a!=!0)a=a.xw(q);else a=q?q:!0;
this.kJ.aX=a}this.kJ.aJL=JSON.stringify(K)};b.prototype.x9=function(W){if(cC!=0)return;var q=this,X=q.add.vstk,k=new dU(0,0,W.r,W.$),B,U=q.add.vmsk?this.add.vmsk.Jx(null,W.depth):null,D=!0,a;
if(U&&U.isEnabled&&U.yM()==0)B=U.wu().P();else B=k;var l=q.Jx();if(l&&l.isEnabled&&l.yM()==0)B=B.x$(q.BD.wu());
var K=U&&X;if(X&&(!X.strokeEnabled.v||X.strokeStyleLineWidth.v.val==0))K=!1;if(X&&!X.fillEnabled.v&&K)D=!1;
var m=g.j(B.C()*4,W.depth);if(D){if(q.add.SoCo)dx.Yp(m,q.add.SoCo.Clr.v);if(q.add.GdFl){var Y=U&&U.color==0?g.z.Sa(q.add.vmsk.G,null,!0):null;
dx.Qb(q.add.GdFl,m,B,W,null,Y)}if(q.add.PtFl)dx.qh(q.add.PtFl,m,B,W.add.Patt,q.add.fxrp)}if(K)a=kE.Cs.vi.indexOf(X.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(U){var p=U.IC;if(K)U.IC=255;var M=g.j(B.C(),W.depth);if(U.yM()!=0)M.fill(g.bH(W.depth)*U.yM()/255);
if(U&&U.isEnabled){var x=U.wu(),R=U.mj();if(x.AB(B))g.cX(R,M);else g.Z_(R,x,M,B)}if(K&&a==2){}else{if(q.add.SoCo&&D){g.fP(M,m,3)}else g.Jd(M,B,m,B)}if(K)U.IC=p}q.buffer=m;
q.S=B;if(K){var y=X.strokeStyleContent.v,s=kE.Cs.Y_.indexOf(y.classID),F=this.add.vmsk.Jx(X,W.depth);
if(a!=0&&!q.S.AB(k))q.extend(q.S.xw(F.wu()));var p=F.IC;F.IC=255;var E=F.sA(q.S);F.IC=p;if(F.color==255)g.i5(E);
var o=g.j(q.S.C()*4,W.depth);if(s==0)dx.Yp(o,y.Clr.v);if(s==1)dx.Qb(y,o,q.S,W,null,U.color==0?U.S:null);
if(s==2)dx.qh(y,o,q.S,W.add.Patt,q.add.fxrp);var G=X.strokeStyleOpacity.v.val/100;if(G!=1)g.Ky(E,G);
if(F.color==255)a=2-a;if(a<2){g.v.lE(o,q.S,q.buffer,q.S,E,q.S,255,q.S,1,!1);if(a==0)g.Qj(M,q.buffer)}if(a==2){g.Qj(E,o);
g.i5(M);g.v.lE(o,q.S,q.buffer,q.S,M,B,255,q.S,1,!1);g.i5(M)}if(F.IC!=255){var d=o.slice(0);g._5(d,1);
g.v.HX("norm",d,q.S,q.buffer,q.S,q.S,1-F.IC/255)}p=U.IC;U.IC=255;this.a5U=U.sA(q.S);U.IC=p}this.I_()};
b.prototype.uz=function(W,q,X,k,B){var U=this,l=U.add.SoLd.Idnt.v,K=U.add.SoLd,D=_.Gz.rQ(K.nonAffineTransform),m=g.b.Hb(D),Y=W.a3(l,K.Crop?K.Crop.v:null,[m.r,m.$],K.Impr.v.classID,X),E=null;
if(Y==null)return;var a=Y.jx;g.a7S(a,W.depth);if(B&&g.Xe(a[0],0))return;if(K.Sz){K.Sz.v.Wdth.v=Y._Y.r;
K.Sz.v.Hght.v=Y._Y.$}if(cC!=0)return;var p=Y.mC==null?K.Rslt.v.val:Y.mC,M=K.quiltWarp.v;if(g.NP.GE(M))M=null;
var x=g.F.b6(D,Y._Y);if(M){var m=g.b.Hb(g.NP.qP(M)[3]),R=m.x,y=m.y,s=1/m.r,F=1/m.$;x=g.F.b6(D);x=g.F.xY(x,[s,0,-R*s,0,F,-y*F,0,0])}if(!q&&!U.SF()&&M==null){var o=W.U.indexOf(U),G=b.Us(U);
for(var N=0;N<o;N++){var d=W.U[N];if(d.add.SoLd&&!d.SF()&&b.Us(d)[0]==G[0]){var u=b.Us(d);E={buffer:d.buffer.slice(0),S:d.S.P()};
E.S.offset(Math.round(G[1]-u[1]),Math.round(G[2]-u[2]));break}}}if(E==null)E=_.Gz.JJ(a,q?0:1,x,M,null,null,q);
if(E==null){U.buffer=g.j(0,W.depth);U.S=new dU}else if(U.SF()){var r=U.Q2(W);if(k){r.buffer=g.Cn(r.buffer,W.depth);
r.buffer.fill(0);g.YE(E.buffer,E.S,r.buffer,r.S)}else{r.buffer=E.buffer;r.S=E.S.P()}this.f0(W,q)}else{U.buffer=E.buffer;
U.S=E.S}U.Ae(W);U.I_();W.I_()};b.Us=function(W){var q=W.add.SoLd,X=q.Idnt.v,k=_.Gz.rQ(q.nonAffineTransform),B=g.F.b6(k,new dU(0,0,1e3,1e3)),U=q.quiltWarp.v;
if(g.NP.GE(U))U=null;return[[X,B[0],B[1],B[3],B[4],B[6],B[7],U==null].join(":"),B[2],B[5]]};b.prototype.f0=function(W,q){if(q==null)q=!1;
var X=this.Q2(W),k=this.add.SoLd.filterFX.v,B=dY.ayp(k),U=new dU(0,0,W.r,W.$),l=X.S.xw(U),K=X.S.P();
K.Pt(B.x,B.y);var D={buffer:null,S:l.x$(K)};D.buffer=g.j(D.S.C()*4,W.depth);g.YE(X.buffer,X.S,D.buffer,D.S);
if(k.enab.v&&q==!1){var m=k.filterFXList.v;for(var N=0;N<m.length;N++){var Y=m[N].v;if(Y.enab.v==!1)continue;
var a=Y.blendOptions.v,p=jm.U3(a.Md.v.BlnM),M=a.Opct.v.val/100,x=g.ov.yM(Y.FrgC.v),R=g.ov.yM(Y.BckC.v),y=dY.oX(Y),s={buffer:g.j(D.buffer.length,W.depth),S:D.S.P()},F=Y.Fltr?Y.Fltr.v:null;
if(dZ.Zo[y]!=null){var E=dZ.Zo[y],o=dZ.z2(E,F);if(o)dZ.GT(o,D.buffer,s.buffer,D.S)}else dY.GT(y,D,F,x,R,s,[W.add.lnk2?W.add.lnk2:[],this.Jx(),W.RH]);
if(p=="norm"&&M==1)D=s;else if(p=="norm"){g.v.lE(s.buffer,s.S,D.buffer,D.S,null,null,null,D.S,M)}else{g.v.HX(p,s.buffer,s.S,D.buffer,D.S,D.S,M)}}}this.S=D.S;
this.buffer=D.buffer;this.xX();this.I_();W.I_()};b.prototype.iZ=function(W,q,X){this.dg=this.aAj(W,q,X)};
b.prototype.KZ=function(W,q){var X=this.aAj(W,q,!0);if(X==null)return null;var k={W3:X.pw,Wa:X.LE,S:X.jl};
if(k.W3==1||k.W3==3){var B=k.S,U=g.j(B.r*B.$*4,g.Oj(W.d.c));g.fP(k.Wa,U,0);g.fP(k.Wa,U,1);g.fP(k.Wa,U,2);
g.aiL(W.d.c,W.d.S,U,B);k.Wa=U}return k};b.prototype.aAj=function(W,q,X){var k,B,U,l,K,D,m;if(this.pw<=0){var Y=g.j(this.S.C(),W.depth);
g.u6(this.buffer,Y,3);k=g.Gg.kX(q,{c:Y,S:this.S},3);if(k==null)return null;var a=g.Iu(k.c,k.S);l=k.S.P();
K=this.S.P();B=g.j(l.C()*4,W.depth);g.YE(this.buffer,K,B,l);g.fP(k.c,B,3);U=this.buffer.slice(0);if(!X){var p=q.c.slice(0);
g.i5(p);g.Jd(p,q.S,U,K)}D=this.buffer.slice(0);m=this.S.P()}if(this.pw==1||this.pw==3){var M=this.pw==1?this.Jx():this.Q2(W).BD;
l=q.S.P();K=M.S.P();B=M.OQ(l);var U=M.c.slice(0);if(!X){var x=g.j(l.C(),W.depth);if(M.color==255)x.fill(g.bH(W.depth));
g.v.Ot(x,l,U,K,q.c,l,1)}D=M.c.slice(0);m=M.S.P()}return{pw:this.pw,LE:B,jl:l,IH:U,WM:K,nl:D,avH:m}};
b.prototype.TT=function(W,q){var X=this.dg;if(X.pw==0){this.S=X.avH;this.buffer=X.nl;this.I_()}if(X.pw==1||X.pw==3){var k=X.pw==1?this.Jx():this.Q2(W).BD;
k.c=X.nl;k.S=X.avH;if(this.pw==1){k.Uf=!0;this.Ae(W)}if(this.pw==3)this.I_()}this.dg=q};b.prototype.oR=function(W,q){var X=W.depth;
if(this.pw<=0&&q.S.AB(this.S)){var k=g.j(this.S.C(),X);g.u6(this.buffer,k,3);if(g.AB(W.d.c,k)){var B=this.S,U=this.buffer;
this.dg={pw:this.pw,LE:U.slice(0),jl:B.P(),IH:g.j(0),WM:new dU,nl:g.j(0),avH:new dU};return!0}}var l=this.dg;
if(l==null)return!1;if(l.pw!=this.pw)return!1;if(!q.S.AB(l.jl))return!1;var K=l.WM.xw(l.jl);if(l.pw<=0){if(!K.AB(this.S))return!1;
var D=g.j(l.LE.length>>2,X);g.u6(l.LE,D,3);if(!g.AB(q.c,D))return!1;var m=g.j(K.C()*4,X);g.YE(l.IH,l.WM,m,K);
g.v.HX("norm",l.LE,l.jl,m,K,K,1);return g.AB(m,this.buffer)}if(l.pw==1||l.pw==3){var Y=l.pw==1?this.Jx():this.Q2(W).BD;
if(!K.AB(Y.S))return!1;var a=g.j(K.C(),X);a.fill(Y.color*g.bH(X)/255);g.Z_(l.IH,l.WM,a,K);g.v.Ot(l.LE,l.jl,a,K,q.c,K,1);
return g.AB(a,Y.c)}};b.prototype.lN=function(W,q,X,k){var B=this.dg;B.jl.offset(q,X);var U=B.WM.xw(B.jl);
if(B.pw<=0){var l=g.j(U.C()*4,W.depth);g.YE(B.IH,B.WM,l,U);g.v.HX("norm",B.LE,B.jl,l,U,U,1);this.buffer=l;
this.S=U;this.I_()}else{var K=this.pw==1?this.Jx():this.Q2(W).BD,D=g.j(U.C());D.fill(K.color);g.Z_(B.IH,B.WM,D,U);
g.v.Ot(B.LE,B.jl,D,U,k.c,U,1);K.c=D;K.S=U.P();if(this.pw==1){K.Uf=!0;this.Ae(W)}if(this.pw==3)this.I_()}};
b.prototype.aqi=function(W){var q=[-1,0,1,2];if(W)q.push(3);if(this.BD)q.push(-2);if(this.$a)q.push(-3);
return q};b.prototype.getName=function(){return this.add.luni?this.add.luni:this.name};b.prototype.YY=function(a1){this.add.luni=this.name=a1};
b.prototype.Kj=function(W){var q=this.add.lnsr,X=this.add.TySh;if(q=="rend"&&X){var k=gZ.mw(X.FZ);this.YY(k.slice(0,k.length-1).replace(/(?:\r\n|\r|\n)/g," ").slice(0,32))}};
b.prototype.P$=function(){return(this.Z9&1<<1)==0};b.prototype.xn=function(){return(this.Z9&1<<4)==0};
b.prototype.f6=function(){return(this.Z9&1<<5)!=0};b.prototype.ar1=function(){var W=this;if(W.add.lnsr!="bgnd"){W.add.lnsr="bgnd";
W.YY("Background");W.add.lspf=1<<2}};b.prototype.amw=function(){var W=this;if(W.add.lnsr=="bgnd"){delete W.add.lnsr;
W.YY("Layer 0");W.add.lspf=0}};b.prototype.kW=function(W){var q=this.add.lspf;return q==null?!1:(q>>W&1)!=0};
b.prototype.ZR=function(W){if(W&&!this.P$())this.Z9-=2;if(!W&&this.P$())this.Z9+=2};b.prototype.aK=function(){var W=this.add.lmfx;
if(W==null)return!1;for(var q in W){if(q=="masterFXSwitch")continue;if(q=="Scl")continue;if(q=="classID")continue;
if(W[q].v.length>0)return!0}return!1};b.prototype.SF=function(){return this.add.SoLd!=null&&this.add.SoLd.filterFX!=null};
b.prototype.ID=function(){var W=this.add.lmfx;if(W==null)return!1;if(!W.masterFXSwitch.v)return!1;for(var q in W){if(q=="masterFXSwitch")continue;
if(q=="Scl")continue;if(q=="classID")continue;var X=W[q].v;for(var N=0;N<X.length;N++)if(X[N].v.enab.v)return!0}return!1};
b.prototype.sF=function(){var W=this,q=W.add.SoLd,X=W.add.TySh,k=W.add.vmsk,B=[];if(q)B=_.Gz.rQ(q.nonAffineTransform);
if(X&&this.kJ.aj){B=g.b.Lw(W.kJ.aj).n;g.b.M(B,X.M,B)}if(k)B=g.b.Lw(k.aqZ()).n;return B};b.prototype.wu=function(W,q,X,k){if(cC==1)return g.b.Hb(this.sF());
var B=new dU,U=this.hb(W,X,k);if(U.indexOf(0)!=-1)B=B.xw(this.S);if(U.indexOf(1)!=-1){var l=this.Jx(),K=l.wu();
B=X&&l.yM()==0?B.PM()?K:B.x$(K):B.xw(K)}if(U.indexOf(2)!=-1){var D=this.add.vmsk,m=this.add.vstk,Y;if(q){if(D.rP.length>1){var a=g.z.Y$(D.G,null,D.rP);
Y=g.b.Hb(a);if(Y.PM())Y=null}if(Y==null)Y=g.z.Sa(D.G,D.Y.length!=0?D.Y:null)}else Y=g.z.Sa(D.G);if(!k&&m&&m.strokeEnabled.v){var p=m.strokeStyleLineAlignment.v.strokeStyleLineAlignment,M=m.strokeStyleLineJoinType.v.strokeStyleLineJoinType;
if(p!="strokeStyleAlignInside"){var x=m.strokeStyleLineWidth.v.val;if(M=="strokeStyleMiterJoin")Y=new dU(0,0,W.r,W.$);
else Y.Pt(x,x)}}if(!k&&D.iE!=0)Y.Pt(D.iE*2.2,D.iE*2.2);B=B.xw(Y)}if(U.indexOf(3)!=-1)B=B.xw(this.Q2(W).BD.wu());
if(U.length==0&&this.Nj())B=k?new dU(0,0,0,0):new dU(0,0,W.r,W.$);return B};b.prototype.Yr=function(){var W=this.add.artb,q=W.artboardBackgroundType.v,X=0;
if(q==1)X=4294967295;else if(q==2)X=4278190080;else if(q==3)X=0;else if(q==4){X=W.Clr.v;X=255<<24|X.Bl.v<<16|X.Grn.v<<8|X.Rd.v}else throw q;
return X};b.prototype.La=function(){var W=this.add.artb.artboardRect.v,q=W.Btom.v,X=W.Left.v,k=W.Rght.v,top=W.Top.v;
return new dU(X,top,k-X,q-top)};b.prototype.VA=function(W){var q=b.wR(W);if(this.add.artb==null)this.add.artb={classID:"artboard",artboardRect:{t:"Objc",v:null},artboardBackgroundType:{t:"long",v:1}};
this.add.artb.artboardRect.v=q};b.wR=function(W){var q={classID:"classFloatRect",Top:{t:"doub",v:0},Left:{t:"doub",v:0},Btom:{t:"doub",v:0},Rght:{t:"doub",v:0}};
q.Btom.v=W.y+W.$;q.Left.v=W.x;q.Rght.v=W.x+W.r;q.Top.v=W.y;return q};b.prototype.hb=function(W,q,X){var k=[],B=this;
if(!q&&B.LJ&&X){k.push(2)}else if(B.pw<=0||q){if(B.xn()){if(cC==1&&B.add.TySh)k.push(0);else if(cC==1&&B.add.SoLd)k.push(0);
else if(!this.S.PM()||B.add.SoLd||B.add.TySh)k.push(0)}if(B.Jx()&&!B.Jx().S.PM())if(B.Jx().$P||q)k.push(1);
if(B.add.vmsk)if(B.add.vmsk.$P||q)k.push(2);if(B.SF()&&B.Q2(W).BD&&!B.Q2(W).BD.S.PM())k.push(3)}else if(B.pw==1){k.push(1);
if(B.Jx().$P&&!B.Jx().S.PM()){if(B.xn())if(!this.S.PM())k.push(0);if(B.add.vmsk)if(B.add.vmsk.$P)k.push(2)}}else if(B.pw==3&&!B.Q2(W).BD.S.PM())k.push(3);
if(B.add.artb&&k.indexOf(0)==-1)k.push(0);k.sort();return k};b.prototype.Jx=function(){var W=this;return W.$a?W.$a:W.add.vmsk&&W.add.vmsk.isEnabled?null:W.BD};
b.prototype.Q2=function(W){if(this.add.SoLd==null)return null;var q=this.add.SoLd.placed.v,X=W.add.FEid;
if(X==null)return null;for(var N=0;N<X.length;N++)if(X[N].id==q)return X[N];return null};b.prototype.extend=function(W){g.ajq(this,W)};
b.prototype.aIX=function(W,q,X){var k=W.P();if(this.ID()){var B=this.add.lmfx,U=q.root.Vf(q.U.indexOf(this)),l=B.gradientFillMulti.v,K=!1;
for(var N=0;N<l.length;N++)if(l[N].v.enab.v&&l[N].v.Algn.v)K=!0;if(K)k=k.xw(U.wu(q,!1));var D=dx.agQ(this.add.lmfx,q,X);
k.offset(D.x,D.y);k.r+=D.r;k.$+=D.$}return k};b.prototype.xX=function(){if(this.xn())g.gu(this);var W=this.Jx();
if(W)W.xX()};b.prototype.P=function(){var W=new b;W.S=this.S.P();W.buffer=this.buffer.slice(0);W.JY=this.JY;
W.zO=this.zO;W.Oa=this.Oa;W.Z9=this.Z9;W.name=this.name;W.EU=this.EU.slice(0);if(this.BD)W.BD=this.BD.P();
if(this.$a)W.$a=this.$a.P();for(var q in this.add)W.add[q]=aK.P(q,this.add[q]);return W};b.prototype.B$=function(W){var q=this;
if(q.add.TySh)delete q.add.TySh;if(q.add.SoLd){var X=this.Z4(W,this.buffer,this.S);if(X){this.buffer=X.kl;
this.S=X.S;this.I_()}delete q.add.SoLd}if(q.add.SoCo||q.add.GdFl||q.add.PtFl){if(q.add.vogk)delete q.add.vogk;
if(q.add.SoCo)delete q.add.SoCo;if(q.add.GdFl)delete q.add.GdFl;if(q.add.PtFl)delete q.add.PtFl;if(q.add.vmsk){console.log(q.$a,q.BD);
delete q.add.vmsk;if(q.$a==null&&q.BD)delete q.BD;else if(q.$a!=null&&q.BD!=null){q.BD=q.$a;delete q.$a}}}if(!q.S3()&&dZ.get(q.add)==null&&!this.xn())this.Z9-=16};
b.prototype.o$=function(W){var q=255,X=0;if(W==2){var k=this.add.SoLd.filterFX.v;if(k.filterMaskDensity)q=k.filterMaskDensity.v;
if(k.filterMaskFeather)X=k.filterMaskFeather.v}else{var B=W==0?this.Jx():this.add.vmsk;q=B.IC;X=B.iE}return{CY:W,ap:q,px:X}};
b.prototype.a7M=function(W){if(W.CY==2){var q=this.add.SoLd.filterFX.v;if(W.ap==255)delete q.filterMaskDensity;
else q.filterMaskDensity={t:"long",v:W.ap};if(W.px==0)delete q.filterMaskFeather;else q.filterMaskFeather={t:"doub",v:W.px};
this.I_()}else{var X=W.CY==0?this.Jx():this.add.vmsk;X.IC=W.ap;X.iE=W.px;X.Uf=!0}};b.prototype.tw=function(){var W=this,q=W.add.vmsk;
if(q==null)return;W.add.vogk=g.BI.ai4(q.G)};b.tw=function(W){var q=[],X=g.z._H(W);for(var k=0;k<X;k++)q.push(g.BI.if());
return q};var e5={nQ:0,B2:1,Fn:2,dx:3};b.pj=function(W){this.name="Mask";this.kA=!1;this.ke={o:255,L:0,X:0};
this.Z8=50;this.R7=0;this.color=255;this.$P=!0;this.isEnabled=!0;this.Qw=!1;this.IC=255;this.iE=0;this.S=new dU;
this.c=g.j(0,W);this.JR=null;this.ayD=null;this.Uf=!0};b.pj.prototype.xY=function(W){if(!this.isEnabled)return W;
var q=new b.pj;q.color=Math.round(this.yM()*W.yM()/255);if(this.yM()==0&&W.yM()==0)q.S=this.wu().x$(W.wu());
else if(W.yM()==0)q.S=W.wu().P();else if(this.yM()==0)q.S=this.wu().P();else q.S=this.wu().xw(W.wu());
q.c=this.sA(q.S);q.IC=255;q.iE=0;var X=W.sA(q.S);g.a14(X,q.S,q.c,q.S);return q};b.pj.prototype.wu=function(){if(this.iE==0)return this.S;
var W=Math.ceil(this.iE*2.2),q=this.S.P();if(q.y==0){if(q.x==0)q.r+=W;else q.Pt(W,0);q.$+=W}else q.Pt(W,W);
return q};b.pj.prototype.mj=function(){if(this.iE==0&&this.IC==255)return this.c;if(this.iE==0){var W=this.c.slice(0);
g.i5(W);g.Ky(W,this.IC/255);g.i5(W);return W}var q=this.wu(),W=this.OQ(q);g.Zt.Yd(W,q,this.iE);if(this.IC!=255){g.i5(W);
g.Ky(W,this.IC/255);g.i5(W)}return W};b.pj.prototype.yM=function(){return Math.round(255-(255-this.color)*(this.IC/255))};
b.pj.prototype.extend=function(W){g.extend(this,W,this.color/255)};b.pj.prototype.xX=function(){if(this.color==255)g.i5(this.c);
g.xX(this);if(this.color==255)g.i5(this.c)};b.pj.prototype.P=function(){var W=new b.pj;W.name=this.name;
W.kA=this.kA;W.ke=this.ke;W.Z8=this.Z8;W.R7=this.R7;W.color=this.color;W.$P=this.$P;W.isEnabled=this.isEnabled;
W.Qw=this.Qw;W.IC=this.IC;W.iE=this.iE;W.S=this.S.P();W.c=this.c.slice(0);return W};b.pj.prototype.OQ=function(W,q){var X=g.Oj(this.c);
if(q==null)q=g.j(W.C(),X);q.fill(this.color*g.bH(X)/255);g.Z_(this.c,this.S,q,W);return q};b.pj.prototype.sA=function(W,q){var X=this.wu(),k=this.mj(),B=g.Oj(k);
if(q==null)q=g.j(W.C(),B);q.fill(this.yM()*g.bH(B)/255);g.Z_(k,X,q,W);return q};b.jY=function(){this.$P=!0;
this.isEnabled=!0;this.IC=255;this.iE=0;this.DC=0;this.HG=1;this.G=[{I:6},{I:8,all:0}];this.qH=[-3,-3];
this.av=!1;this.$a=null;this.Uf=!0;this.Y=[];this.rP=[]};b.jY.prototype.aqZ=function(W){var q=b.jY.zx(this.G),X=new ka;
if(W)X.rotate(-this.DC);g.z.Y9(q,X);return g.z.Sa(q)};b.jY.prototype.ga=function(){var W=this.aqZ(!0),q=g.b.Lw(W).n,X=new ka;
X.rotate(this.DC);g.b.M(q,X,q);return q};b.jY.prototype.offset=function(W,q){this.$a=this.Jx();g.z.Y9(this.G,new ka(1,0,0,1,W,q));
this.$a.S.offset(W,q)};b.jY.prototype.Jx=function(W,q){if(!this.Uf&&this.$a&&W==null){this.$a.isEnabled=this.isEnabled;
return this.$a}var X=this.G,k=g.z.Sa(X),B="strokeStyleLineAlignment",U="strokeStyleLineJoinType";if(k.C()>2e4*2e4)k=new dU(0,0,100,100);
if(W&&W[B].v[B]!="strokeStyleAlignInside"){var l=1;if(W[U].v[U]=="strokeStyleMiterJoin"){var K=g.z.aeW(X),D=K/2,m=Math.sin(D),Y=Math.cos(D);
Y/=m;m=1;var l=Math.sqrt(Y*Y+m*m);if(isNaN(l)||l<1)l=1}l*=W[B].v[B]=="strokeStyleAlignOutside"?1:.5;
var a=Math.ceil(W.strokeStyleLineWidth.v.val*l);a=Math.min(a,600);k.Pt(a,a)}k=g.b.V5(k);var p=new b.pj;
p.color=g.z.bB(X)?0:255;p.$P=this.$P;p.isEnabled=this.isEnabled;p.Qw=!0;p.S=k;p.IC=this.IC;p.iE=this.iE;
p.c=g.j(p.S.C());if(!k.PM())g.z.afk(X,p.c,p.S,W);if(q!=null&&q!=8)p.c=g.Cn(p.c,q);if(W==null){this.$a=p;
this.Uf=!1}return p};b.jY.prototype.P=function(){var W=new b.jY;W.$P=this.$P;W.isEnabled=this.isEnabled;
W.IC=this.IC;W.iE=this.iE;W.DC=this.DC;W.HG=this.HG;W.G=b.jY.zx(this.G);W.qH=this.qH.slice(0);W.av=this.av;
W.Y=this.Y.slice(0);W.rP=this.rP.slice(0);return W};b.jY.prototype.concat=function(W){var q=W.G.slice(2);
if(q.length==0)return;q[0].R3=3;this.G=this.G.concat(q)};b.jY.zx=function(W){var q=[];for(var N=0;N<W.length;
N++){var X=W[N];if(X.I>5||X.I==0||X.I==3)q.push(g.N(X));else q.push({I:X.I,mp:X.mp.P(),WL:X.WL.P(),ko:X.ko.P()})}return q};
b.jY.a7p=function(W,q,X){if(W.length!=q.length)return!1;for(var N=2;N<W.length;N++){var k=W[N],B=q[N];
if(k.I!=B.I)return!1;if(k.I==0||k.I==3){if(k.length!=B.length||!X&&k.R3!=B.R3)return!1}else if(!k.mp.AB(B.mp)||!k.WL.AB(B.WL)||!k.ko.AB(B.ko))return!1}return!0};
b.jY.prototype.a5J=function(){var W=this.G;for(var N=3;N<W.length;N++)if(W[N].I==0||W[N].I==3)W[N].R3=-1};
b._X=function(){this.I=null;this.Rh=2;this.I8=null;this.k7="";this.O5="";this.iX="";this.open=0;this.raw=null;
this.jx=null;this.ar6="none";this.Tr=!1;this.mC=null;this._Y=null};b._X.prototype.P=function(){var W=new b._X;
W.I=this.I;W.Rh=this.Rh;W.I8=this.I8;W.k7=this.k7;W.O5=this.O5;W.iX=this.iX;W.open=this.open;W.raw=new Uint8Array(this.raw.buffer.slice(0));
return W};b._X.prototype.OL=function(W,q,X,k,B){if(X==null)X="none";var U=this,l=lf.pP(U.raw.buffer),K=l=="svg"||l=="pdf"||l=="ai";
if(U.jx){var D=q&&K&&Math.max(U.jx[1].r,U.jx[1].$)<Math.max(q[0],q[1]);if(!D&&X==this.ar6&&!U.Tr)return}this.ar6=X;
if(!K)W=0;if(l==null){alert("Unsupported format: "+Z.zD(U.raw,0,4));return null}var m=lf.c_(l);if(l=="psd"&&cC==1){var Y=dS.aqu(U.raw)[0],a=new Uint8Array(Y.data);
U.jx=[a,Y.oq]}else if(m.MM){var p=new ey(name+(l=="psd"?"":"-"+l)+".psd"),a;m.Vp(U.raw.buffer,p,q);var M=new dU(0,0,p.r,p.$);
if("avrg maxx medn minn rang stdv summ vari".split(" ").indexOf(X)!=-1){var x=[];for(var N=0;N<p.U.length;
N++){var R=p.U[N],y=R.buffer;if(!R.S.AB(M)){y=g.j(M.C()*4);g.YE(R.buffer,R.S,y,M);console.log("resizing")}x.push(y)}a=g.j(M.C()*4);
g.stack.stack(x,a,X)}else{for(var N=0;N<p.U.length;N++)if(p.U[N].Nj())p.U[N].Ae(p);if(k&&p.Tr){var s=hj.yw(p,k,B);
U.Tr=!s;if(s)hj.pt(p,k,B)}p.Hm();p.I_();p.HQ();a=p.OL()}U.jx=[a,M];U.mC=p.mC!=null&&p.mC!=0?p.mC:72}else if(m){var F=m.Vp(U.raw.buffer)[0],E=F.depth;
U.jx=[E==16?new Uint16Array(F.data):new Uint8Array(F.data),F.oq];U.mC=F.mC!=null&&F.mC!=0?F.mC:72}if(U.jx){U._Y=U.jx[1].P();
if(W==1){var y=U.jx[0],o=U.jx[1],G=g.j(o.C());g.u6(y,G,3);var d=g.Iu(G,o),u=g.j(d.C()*4);g.YE(y,o,u,d);
d.x=d.y=0;U.jx=[u,d]}else{var y=U.jx[0],o=U.jx[1],d=g.BF(y,o,2,null,4278190080);if(d.PM())d=new dU(0,0,1,1);
while((d.x&15)!=0){d.x--;d.r++}while((d.y&15)!=0){d.y--;d.$++}if(!d.AB(o)&&d.C()/o.C()<.7){var u=g.j(d.C()*4,g.Oj(y));
g.YE(y,o,u,d);U.jx=[u,d]}}g.z0(U.jx)}};b.b8="0";b.L5="2";b.t9="2.5";b.OI="2.6";b.JG="3";b.dy="4";b.vj="4.4";
b.oy="4.5";b.aus="4.6";b.cG="5";b.Zy="5.5";b.wP="6";b.azU="7";b.aHm="8";b.Qf="9";b.Pi="9.3";b.IL="9.4";
b.aBm="9.5";b.QC="9.6";b.Bo="10";b.lO="11";b.pR="12";b.PU="13";b.nu="13.1";b.awF="13.2";b.OA="13.3";
b.UM="13.4";b.Dw="14";b.ic="14.1";b.EB="14.2";b.xU="14.3";b.Wj="17";b.ve="18";b.atY="19";b._U="19.5";
b.zW="19.6";b.sU="19.7";b._f="19.8";b.vb="20";b.s_="21";b.pc="21.5";b.RL="22";b.E4="22.5";b.GW="23";
b.akM="24";b.nf="25";b.aA7="26";b.aeF="27";b.hD="28";b.tm="29";b.ex="30";b.W7="31";b.ZC="32";b.aG0="32.5";
b.DL="33";b.Li="34";b.xi="35";b.P8="36";b.le="36.5";b.Pw="37";b.vz="37.5";b.a1P="37.6";b.nk="38";b.ri="38.5";
b.uI="38.6";b.Mu="39";b.ZU="40";b.n9="41";b.a8U="42";b.Co="50";b.pD="51";b.Q1="52";b.EW="53";b.tf="54";
b.aci="54.5";b.v1="54.6";b.a7t="54.7";b.kM="54.8";b.X5="55";b.I5="55.5";b.o2="56";b.PK="57";b.er="58";
b.vv="59";b.MF="60";function kF(){this.depth=0;this.index=-1;this.B=null;this.auf=null;this.n0=-1;this.children=null;
this.parent=null;this.nq=null}kF.prototype.a7W=function(W,q){if(this.depth!=0)W.push(this.B.getName());
if(this.children)for(var N=0;N<this.children.length;N++)this.children[N].a7W(W,q);if(W.length>q.he.length)q.he=W.slice(0);
if(this.depth!=0)W.pop()};kF.prototype.av9=function(){var W=0;if(this.B.S3()){for(var N=0;N<this.children.length;
N++)W+=this.children[N].av9()}else if(this.B.buffer)W+=this.B.buffer.length;return W};kF.prototype.Vf=function(W){var q=this.nq[W];
return this.nq[W]};kF.prototype.q9=function(W,q){var X=this.B;if(!X.P$()||X.kW(2)||X.kW(31))return null;
if(X.bk()){var k=X.BD.S.ty(W);if(!k&&X.BD.color==0)return}if(X.S3()){for(var N=0;N<this.children.length;
N++){var a1=this.children[N];a1.q9(W,q)}}else if(cC==1){var B=X.sF();if(W.ty(g.b.Hb(B))&&q.indexOf(this.index)==-1)q.push(this.index)}else if(X.S.ty(W))q.push(this.index)};
kF.prototype.Sj=function(W,q){var X=this.B;if(!X.P$()||X.kW(2)||X.kW(31))return null;if(X.bk()){if(X.BD.S.BS(W)){if(!g.Sj(W,X.BD.c,X.BD.S))return null}else if(X.BD.color==0)return null}if(X.S3()){if(X.add.artb&&!X.La().BS(W))return null;
for(var N=this.children.length-1;N>=0;N--){var a1=this.children[N],k=a1.Sj(W,q);if(k&&q==null)return k}return null}else if(cC==1){if(X.add.vmsk){var B=X.add.vstk,U=!B.fillEnabled.v&&!X.D7,l=B.strokeStyleLineWidth.v.val*.5,K=g.z.Sj(X.add.vmsk.G,W,U,l);
return K.bT==-1?null:this}var D=X.sF();if(f3.We(D,W.x,W.y))return this}else if(X.add.TySh&&X.S.BS(W)||g.abm(W,X.buffer,X.S)){if(q==null)return this;
else q.push(this.index)}return null};kF.prototype.aI8=function(W){var q=this.B;if(!q.P$()||q.kW(2)||q.kW(31))return null;
var X=q.add.vmsk;if(X&&X.isEnabled){var k=g.z.Sj(X.G,W).bT;if(k!=-1)return{asb:this,aFo:k}}if(q.S3()){if(q.add.artb&&!q.La().BS(W))return null;
for(var N=this.children.length-1;N>=0;N--){var a1=this.children[N],B=a1.aI8(W);if(B)return B}return null}return null};
kF.prototype.M4=function(W,q){W.push(this.index);if(this.B.S3()){W.push(this.n0);if(q)if(this.B.pw==1&&this.B.Jx().$P==!1)return;
for(var N=0;N<this.children.length;N++)this.children[N].M4(W)}};kF.y8=function(){var W=document.createElement("canvas");
return W.getContext("2d")};kF.alp=function(W,q){var X,k;if(W.r>W.$){X=Math.floor(q);k=Math.floor(q*(W.$/W.r))}else{X=Math.floor(q*(W.r/W.$));
k=Math.floor(q)}return new hw(X,k)};kF.Sb=32;kF.Xu=1;kF.prototype.K$=function(W,q,X){var k=kF.Xu,B=this.B;
if(B.S3()&&B.add.artb!=null)q=B.La();var U=k==0?B.S:q;if(U.PM()||B.add.TySh)U=q;var l=kF.Sb*_.W$(),K=kF.alp(U,l),D=K.x,m=K.y,Y=kF.alp(q,l),a=dZ.get(B.add)!=null;
if(B.Nj()&&B.add.vmsk==null||B.add.TySh||a)D=m=Math.max(m,16);else if(B.S3()){D=m=Math.round(18*_.W$())}else{D=Math.max(D,6);
m=Math.max(m,6)}if(X&&B.qE==null){B.qE=kF.y8();if(cC==0){B.a0u=kF.y8();B.ajp=kF.y8();B.aDi=kF.y8()}}var p=B.Nj()&&B.add.vmsk;
if(cC==1&&!B.S3()){if(X)g.S7.an2(B.qE,D,m,W,this)}else if(p){if(X&&B.add.vstk)g.S7.Pe(B.qE,D,m,U,B.buffer,B.S,!1,null,!B.add.vstk.fillEnabled.v&&!B.add.vstk.strokeEnabled.v);
if(X)g.S7.ah1(B.qE,D,m)}else if(B.add.TySh){if(X)g.S7.a1v(B.qE,m,m,B.add.TySh)}else if(B.add.SoCo){if(X)g.S7.ajm(B.qE,m,m,B.add.SoCo)}else if(B.add.GdFl){if(X)g.S7.a0D(B.qE,m,m,B.add.GdFl)}else if(B.add.PtFl){if(X)g.S7.aqm(B.qE,m,m,B.add.PtFl,W)}else if(a){if(X)g.S7.anK(B.qE,m,m,B.add)}else if(B.add.SoLd){if(X)g.S7.Pe(B.qE,D,m,U,B.buffer,B.S,!1);
if(X)g.S7.a89(B.qE,D,m,B.add.SoLd)}else if(B.S3()){}else{if(X){if(B.xn())g.S7.Pe(B.qE,D,m,U,B.buffer,B.S,!1);
else{g.S7.a2a(B.qE,m,m)}}}var M=B.Jx();if(X){if(M)g.S7.vO(B.a0u,Y.x,Y.y,q,M);if(B.SF()&&B.Q2(W)&&B.Q2(W).BD){var x=B.Q2(W).BD;
g.S7.vO(B.aDi,Y.x,Y.y,q,x)}if(!p&&B.add.vmsk){g.S7.vO(B.ajp,Y.x,Y.y,q,B.add.vmsk.Jx(),!0)}}if(M||B.add.vmsk)m=Math.max(m,Y.y);
B.a1h=Math.max(m,16);if(X!=!0&&B.S3()&&(B.add.lsct==e5.B2||W.U.length<4e3))for(var N=0;N<this.children.length;
N++)this.children[N].K$(W,q)};kF.prototype.a0X=function(W,q,X,k){this.depth=X;var B=W[q];if(k==null)k=[];
this.nq=k;if(B.add.lsct==e5.dx){this.auf=B;this.n0=q-1;this.children=[];var N=q+1;while(!0){var U=W[N];
if(U==null)console.log(N,W.length);if(U.add.lsct==e5.B2||U.add.lsct==e5.Fn){if(B.add.lyid==U.add.lyid)B.add.lyid+=16777215;
this.B=U;this.index=N-1;k[this.index]=this;k[q-1]=this;break}var l=new kF;l.parent=this;N=l.a0X(W,N,X+1,k);
this.children.push(l)}return N+1}else{this.B=B;this.index=q-1;k[this.index]=this;return q+1}};kF.prototype.Ph=function(W,q,X,k){var B=this.Vf(X),U=W;
while(B.parent!=null){U=B.B.aIX(U,q,k);B=B.parent}return U};kF.prototype.wu=function(W,q){var X=this.B,k=new dU;
if(!X.P$())return k;var B=X.Jx();if(X.S3())for(var N=0;N<this.children.length;N++){var U=this.children[N].wu(W,!0);
k=k.xw(U)}else if(dZ.get(X.add)!=null)k=X.bk()&&X.BD.color==0?X.BD.wu().P():new dU(0,0,W.r,W.$);else if(X.Nj()&&X.add.vmsk&&X.add.vmsk.isEnabled&&X.add.vstk){k=X.S.P()}else if(X.Nj()&&B&&B.isEnabled&&B.yM()!=0)k=new dU(0,0,W.r,W.$);
else{k=X.wu(W,!1,!0);if(X.add.vmsk)k=g.b.V5(k)}return q?X.aIX(k,W):k};kF.QI={delete:function(W){if(W&&W.r)W.delete()},j:function(W,q){return dd.gP?new dd.rV(W,q):g.j(W*q*4)},aAF:function(W,q,X){var k=q.r,B=q.$;
if(W==null||dd.gP&&(W.r!=k||W.$!=B||W.depth!=X)||!dd.gP&&(W.length!=k*B*4||g.Oj(W)!=X)){kF.QI.delete(W);
return dd.gP?new dd.rV(k,B,X):g.j(k*B*4,X)}else return W},Z_:function(W,q,X,k,B){(dd.gP?dd.PF:g.YE)(W,q,X,k,B)},lE:function(W,q,X,k,B,U,l,K,N,D,m){(dd.gP?dd.v.G3:g.v.lE)(W,q,X,k,B,U,l,K,N,D,m)},asu:function(W,q,X,k,B,U,l,K){var D=X.P(),m=B.r,Y=B.$,a=D.x,p=D.y,M=D.x+D.r>m?-1:0,x=D.x<0?2:1,R=D.y+D.$>Y?-1:0,y=D.y<0?2:1;
for(var s=R;s<y;s++)for(var F=M;F<x;F++){D.x=a+F*m;D.y=p+s*Y;kF.QI.HX(W,q,D,k,B,U,l,K)}},HX:function(W,q,X,k,B,U,l,K){if(dd.gP)dd.v.a3l(W,q,X,k,B,U,l,K);
else g.v.HX(W,q,X,k,B,U,l,K)},AG:function(W,q){if(dd.gP){dd.vo(W);dd.Ds(q)}else g.WD(W,q)},JT:function(W){if(dd.gP){dd.vo(W);
dd.JT()}else{var q=g.Oj(W),X=q==8?255:q==16?65535:1;if(q==8)g._5(W,1);else for(var N=0;N<W.length;N+=4)W[N+3]=X}},ame:function(W,q,X,k,B){if(dd.gP){dd.v.G3(null,null,k,B,W,q,X,B,1,!1)}else{if(X==255)g.Jd(W,q,k,B);
else{var U=g.j(q.C(),g.Oj(W));g.Fr(k,B,U,q);g.Fz(W,U);g._5(k,0);g.aiL(U,q,k,B)}}},b_:function(W,q,X,k){if(dd.gP)dd.v.G3(null,null,X,k,W,q,0,k,1,!1);
else g.b_(W,q,X,k)}};kF.prototype.K2=function(W,q,X,k,B,U,l){var K=typeof U=="number";if(!this.B.S3()&&(K&&this.index>U||!K&&U.indexOf(this.index)==-1)){return}var D=this.B,m=dx.K5(D),Y=kF.QI,a=W.depth;
if(a==null)a=g.Oj(W);var p=D.Nj()?D.Jx():D.BD;if(!D.P$())return;if(D.bk()&&p.S.PM()&&p.yM()==0){return}if(D.add.vstk==null&&this.wu(k,!1).PM()){return}if(D.Nj()&&D.S.PM())return;
var M=this.wu(k,!0).x$(X);if(!q.AB(X)&&!X.ty(M))return;if(D.S3()&&D.add.artb){var x=D.La();X=X.x$(x)}var R=kF.acr(D,B,m);
if(!R){this.ayH(W,q,X,k,B,U,l);return}var y=l.Mq(M,a),s=y[0],F=y[1];Y.Z_(W,q,s,F,X);this.ayH(s,F,X,k,B,U,l);
Y.lE(s,F,W,q,null,null,0,X,D.zO/255,D.JY=="diss",m.VN);l.aF(s)};kF.acr=function(W,q,X){if(X.VN[0]*X.VN[1]*X.VN[2]==0)return!0;
return W.zO!=255&&(q.length!=0||W.S3()||W.ID())};kF.prototype.ayH=function(W,q,X,k,B,U,l){var K=this.B,D=dx.K5(K),m=dZ.get(K.add)!=null,Y=kF.QI,a=W.depth,v=null,c=null;
if(a==null)a=g.Oj(W);var p=kF.acr(K,B,D),M=p?1:K.zO/255,x=K.Nj()?K.Jx():K.BD,R=K.S3()&&D.cu==null&&(K.JY=="pass"||K.add.artb!=null)&&!(B.length>0||D.fill!=1||K.ID()),y=!K.S3()&&!m&&!K.ID()&&B.length==0,s=m&&!K.ID()&&B.length==0;
if(R||y||s){var F=W,E=q;if(K.bk()){var o=l.Mq(this.wu(k,!1),a);F=o[0];E=o[1];Y.Z_(W,q,F,E)}if(R)this.Bd(F,E,X,k,U,l);
if(y)Y.HX(K.JY,K.a13(k),K.S,F,E,X,M,D);if(s){var G=K.bk()&&x.yM()==0?x.wu().P():E.P(),o=l.Mq(G,a),d=o[0],u=o[1];
this.abW(F,E,d,u,K.add);D.TP=!0;Y.HX(K.JY,d,u,F,E,X,M,D);l.aF(d)}if(K.bk()){Y.lE(F,E,W,q,K.aDY(),x.wu(),x.yM(),X,1,K.JY=="diss");
l.aF(F)}K.kJ.a2P();return}var r=K.S3()&&K.JY=="pass"&&(B.length>0||D.fill!=1||K.ID()),G=K.S;if(K.S3()){G=this.wu(k,!1);
if(G.C()>X.C())G=G.x$(new dU(0,0,k.r,k.$));c=l.Gf(G,a);Y.AG(c,0);this.Bd(c,G,G,k,U,l)}else if(m){G=K.bk()&&x.yM()==0?x.wu().P():q.P()}else{G=K.S;
v=K.a13(k)}var V=l.Gf(G,a);if(K.S3()){Y.Z_(c,G,V,G);if(!r)l.aF(c)}else if(m){Y.AG(V,4294967295)}else{Y.Z_(v,G,V,G)}if(K.bk())Y.ame(K.aDY(),x.wu(),x.yM(),V,G);
if(K.ID())if(K.kJ.X9||K.kJ.OG||K.kJ.ma!=dd.gP||K.kJ.aX||K.S3()){var j=K.add.vmsk,Q=g.j(G.C(),a);if(dx.ahl(K.add.lmfx)){if(dd.gP){if(!K.S3()&&K.Jx()==null&&K.S.AB(G)&&j==null)g.u6(K.buffer,Q,3);
else{var H=g.j(G.C()*4,a);V.get(H);g.u6(H,Q,3)}}else g.u6(V,Q,3)}if(K.kJ.OG||K.kJ.ma!=dd.gP||!g.AB(Q,K.kJ.J5)){var T=null;
if(K.Nj()&&j&&j.isEnabled&&j.Jx().color==0)T=j.Jx().S;dx.a5C(K.kJ.sg);K.kJ.sg=dx.ar3(Q,G,K.add.lmfx,K.add.fxrp,k,T);
K.kJ.J5=Q;K.kJ.aKB=G}}if(K.ID())dx.aep(K.add.lmfx,K.kJ.sg,G,W,q,X);var o=l.Mq(G,a),e=o[0],z=o[1];if(K.S3()){Y.AG(e,0);
if(K.JY=="pass")Y.Z_(W,q,e,z);if(r){Y.b_(c,G,e,z);l.aF(c)}this.Bd(e,z,X,k,U,l)}else if(m){this.abW(W,q,e,z,K.add)}else{Y.Z_(v,G,e,z,X)}Y.JT(e);
for(var N=0;N<B.length;N++)B[N].K2(e,z,X,k,[],U,l);var o=l.Mq(G,a),J=o[0],P=o[1];Y.Z_(W,q,J,P,X);if(m)D.TP=!0;
Y.HX(K.JY=="pass"?"norm":K.JY,e,z,J,P,X,1,D);l.aF(e);if(K.ID()){var L=K.kJ.sg.I.FrFX,A=null,h=null,C=null,w=null,O=null;
if(L.length!=0){A=L[0];for(var N=0;N<L.length;N++)if(L[N].Xl.r>A.Xl.r)A=L[N];var o=l.Mq(A.Xl,a);h=o[0];
C=o[1];var o=l.Mq(A.Xl,a);w=o[0];O=o[1];Y.Z_(W,q,h,C,X)}dx.atk(K.add.lmfx,K.kJ.sg,G,W,q,X,J,P,h,C,w,O);
l.aF(h);l.aF(w)}Y.lE(J,P,W,q,V,G,0,X,1,K.JY=="diss");K.kJ.a2P();l.aF(V);l.aF(J)};kF.prototype.abW=function(W,q,X,k,B){var U=dZ.get(B),l;
if(U)l=dZ.z2(U,B[U]);var K=g.Oj(W),D=kF.QI;if(!(dd.gP&&q.AB(k)))D.Z_(W,q,X,k);if(l){if(dd.gP){var m=k.P();
m.x=m.y=0;if(q.AB(k)){dd.vo(X,m);dZ.Mn(l,W.hc,m)}else{dd.vo(X,m);X.Dx(m);dZ.Mn(l,X.SD,m)}}else dZ.GT(l,X,X,k)}return X};
kF.prototype.Bd=function(W,q,X,k,B,U){var l=q.r,K=q.$,D=q.x,m=q.y,a1=X,Y=a1.x,a=a1.y,p=-1,M=-1,x=2,R=2,s=!1;
if(!k.Cg){p=M=0;x=R=1}var y=this.children;for(var N=0;N<y.length;N++){if(!y[N].B.Oa)s=!0;if(!s)continue;
var F=dZ.get(y[N].B.add)!=null,E=[];for(var o=N+1;o<y.length;o++)if(y[o].B.Oa)E.push(y[o]);else break;
for(var G=M;G<R;G++)for(var d=p;d<x;d++){q.x=D+d*l;q.y=m+G*K;a1.x=Y+d*l;a1.y=a+G*K;if((d!=0||G!=0)&&F)continue;
y[N].K2(W,q,a1,k,E,B,U)}N+=E.length}q.x=D;q.y=m;a1.x=Y;a1.y=a};(function(){kF.prototype.No=function(B,U,l,K){var D=this.B,m=D.add.lmfx,Y=D.add.TySh,a=D.add.SoLd,M=null;
if(!D.P$())return;U.save();var p=D.zO/255*(D.add.iOpa?D.add.iOpa/255:1);U.globalAlpha*=p;U.globalCompositeOperation=jm.at[jm.eB.indexOf(D.JY)];
var x=B.add.prvw==0;if(x){U.lineWidth=1/B.f.$Z;U.fillStyle="black"}var R=dx.anQ(D,!1);if(R){M=U;var y=document.createElement("canvas");
y.width=U.canvas.width;y.height=U.canvas.height;var s=U.getTransform();U=y.getContext("2d");U.setTransform(s.a,s.b,s.c,s.d,s.e,s.f)}if(D.S3()){var F=this.children,E=null;
for(var N=0;N<F.length;N++)if(F[N].B.D7&&F[N].B.P$())E=F[N].B;if(E&&!x){U.beginPath();q(E,U);U.clip()}for(var N=0;
N<F.length;N++)F[N].No(B,U,l,K)}else if(Y){var o=!0;if(D.kJ.path==null){o=hj.gm(Y,l.yK);if(o)hj.SA(D,l.yK,!1)}if(o){{var G=Y.M;
U.save();W(U,G);var d=D.kJ.path;if(x){var u=d.zb.slice(0);for(var N=0;N<u.length;N++)if(u[N][0]=="#")u[N]="#000000";
d={zb:u,n:d.n}}hj.abn(d,U);U.restore()}}}else if(D.Nj()&&D.add.vmsk&&(!D.D7||x)){var r=D.add.vmsk;U.beginPath();
q(D,U);if(x){U.stroke()}else{var v=D.add.vstl;if(v.jg.length!=0){var c=X(v.jg,r.G,B,U);if(c[1]){U.save();
W(U,c[1])}U.fillStyle=c[0];U.fill(["nonzero","evenodd"][r.HG]);if(c[1]){U.restore()}}if(v.rD.length!=0){g.z.pi(v,U);
U.strokeStyle=X(v.rD,r.G,B,U,!0)[0];U.stroke()}}}else if(a){var V=a.filterFX;if(V){var c=V.v.filterFXList.v;
for(var N=0;N<c.length;N++){var j=c[N].v;if(!j.enab.v)continue;var Q=dY.oX(j);if(Q=="GsnB"){U.filter="blur("+j.Fltr.v.Rds.v.val*B.f.$Z+"px)"}}}var H=a.Idnt.v,T=B.a3(H,a.Crop?a.Crop.v:null),G=g.F.cH(a),z=T.jx;
if(x){var J=_.Gz.rQ(a.Trnf);U.moveTo(J[0],J[1]);for(var N=2;N<8;N+=2)U.lineTo(J[N],J[N+1]);U.closePath();
U.stroke()}else k(B,D,U,G,z)}if(R){M.save();M.setTransform(1,0,0,1,0,0);M.drawImage(U.canvas,0,0);M.restore();
U=M}U.globalAlpha/=p;U.globalCompositeOperation="source-over";U.restore()};function W(B,U){B.transform(U.iM,U.X,U.bO,U.kv,U.Wy,U.rY)}function q(B,U){var l=B.add.vmsk.G;
for(var N=0;N<l.length;N++){if(l[N].I>5)continue;var K=l[N].length;if(K==0)continue;var D=l[N].I==3;
g.z.as7(U,l,N+1,K,0,0,D);if(!D)U.closePath();N+=K}}function X(B,U,l,K,D){if(B.length==3)return[CSS.aye(B),null];
else if(B.length==2){var m=l.Ed[B[0]],Y=1,a=m.av$;if(a==null){var p=document.createElement("canvas"),M=p.getContext("2d");
p.width=Math.round(m.r*Y);p.height=Math.round(m.$*Y);M.scale(Y,Y);m.root.No(m,M,{},null);a=m.av$=K.createPattern(p,"repeat")}var x=new ka(1/Y,0,0,1/Y,0,0),R=l.mC/72,y=new ka;
y.concat(x);var s=B[1][1];y.concat(new ka(s[0],s[1],s[2],s[3],R*s[4],R*s[5]));y.scale(1,-1);return[a,y]}else{var F=B[0],E=B[1],o=B[2],G=-o[5]*Math.PI/180,d=jt.qR(B,U),u,x;
if(F==0){var r=[0,0,1,0];g.b.M(r,d,r);u=K.createLinearGradient(r[0],r[1],r[2],r[3])}else{var r=[Math.cos(G)*o[6],Math.sin(G)*o[6],0,0,1,0],v=Math.abs(d.iM*d.X+d.bO*d.kv)<1e-9,c=Math.abs(d.iM*d.iM+d.X*d.X-d.bO*d.bO-d.kv*d.kv)<1e-9,V=v&&c;
if(V||D){g.b.M(r,d,r);var j=r[4]-r[2],Q=r[5]-r[3];u=K.createRadialGradient(r[0],r[1],0,r[2],r[3],Math.sqrt(j*j+Q*Q))}else{u=K.createRadialGradient(r[0],r[1],0,0,0,1);
x=d}}g.ov.D0(u,E);return[u,x]}}function k(B,U,l,K,D){if(K==null)K=new ka;var m=U.buffer,Y=U.S;if(D){var a=K.Lr()*B.f.$Z,p=0;
while(1<<p/2<.5/a&&p+2<D.length)p+=2;m=D[p];Y=D[p+1];Y=Y.P();Y.x=Y.y=0;var a=1<<p/2,M=new ka;M.scale(a,a);
M.concat(K);K=M}if(Y.PM())return;var x=document.createElement("canvas");x.width=Y.r;x.height=Y.$;var R=x.getContext("2d");
R.putImageData(new ImageData(new Uint8ClampedArray(m.buffer),Y.r,Y.$),0,0);l.transform(K.iM,K.X,K.bO,K.kv,K.Wy,K.rY);
l.drawImage(x,Y.x,Y.y);K.i5();l.transform(K.iM,K.X,K.bO,K.kv,K.Wy,K.rY)}}());function ey(W){this.I7="psd";
this.Kn=!1;this.name=W;this.JI=8;this.depth=8;this.yn=-1;this.Cg=!1;this.m8=null;this.G5=null;this.g0=null;
this.Oi=null;this.r=0;this.$=0;this.buffer=null;this.U=[];this.Mc={};this.add={};this.Eo=[];this.Ed={};
this.hf=[];this.av$=null;this.tT=4;this.gc=null;this.mC=72;this.qq={};this.Y=[];this.UZ=[];this.y2=!1;
this.Ev=[];this.Di=[];this.RM=[ey.hQ("Work Path")];this.sY=-1;this.Lf=[];this.sh=null;this.iV={classID:"CompList",list:{t:"VlLs",v:[]}};
this.mP=null;this.Q3=[];this.$y=[];this.dp=[];this.root=null;this.iu=null;this.Tr=!1;this.alZ=!1;this.ai_=!1;
this.a3v=!1;this.r5=!1;this.R2=!1;this.gd=!1;this.qg=!1;this.NJ=!1;this.zf=!1;this.X9=null;this.aKt=null;
this.d=null;this.RH=[];this.TC=[];this.W={Zs:{},x7:[],FC:[],fT:[],Yz:[],yJ:[],Qc:null,RA:null,ZK:null,nM:null,Y0:null,Bk:null,Qq:null,Pg:null,yR:[],L1:[],ah:null};
this.history=[new j3([1,0],null)];this.Wb=0;this.o5=0;this.a2N=0;this.a3X=0;this.oI=null;this.q0=!1;
this.f=new il(this);this.a6=null;this.a0k=null}ey.prototype.lF=function(){var W=this;W.o5=W.Wb;W.a2N=Date.now();
W.R2=!0};ey.prototype.ay7=function(){var W=this,q=W.add.artd;return q!=null&&q.Cnt.v>1||W.add.arts&&W.add.arts.length>1};
ey.prototype.JM=function(W){if(W){if(W.length==30240){this.JM(null);return}this.Mc.r1039=W;var q=ICC.R(W.buffer),B=null,U=17,a,p;
if(q==null){this.JM(null);return}var X=q.header.spaceIn.toLowerCase(),k=JSON.stringify(q.tags.desc).toLowerCase();
try{B=ICC.U.profileName(q)}catch(bu){}if(X!="rgb "||B==null||k.indexOf("srgb")!=-1&&this.depth!=32||k.indexOf("apple wide color sharing profile")!=-1||X=="rgb "&&this.add.fcmy==1){this.JM(null);
return}console.log("We got an ICC profile!",q,B);try{var l=ICC.U.sampleLUT(q,U)}catch(bu){this.JM(null);
return}var K=g.El("rgbToRgbC"),D=K[2],m=K[3],Y=ey.aJu(l,m,D);if(dd.gP){a=new dd.rV(U,U*U,dd.XI());a.set(ICC.U.lutToRGBA32(l,U));
p=new dd.rV(U,U*U,dd.XI());p.set(ICC.U.lutToRGBA32(Y,U))}this.a6=[W,q,U,l,a,Y,p]}else{delete this.Mc.r1039;
this.a6=null}};ey.aJu=function(W,q,X){var k=W.slice(0),B=g.j(4,32);for(var N=0;N<W.length;N+=3){B[0]=W[N];
B[1]=W[N+1];B[2]=W[N+2];ICC.U.applyLUT(q,X,B,B);k[N]=B[0];k[N+1]=B[1];k[N+2]=B[2]}return k};ey.prototype.Pb=function(){return this.a6};
ey.prototype.XZ=function(){if(this.a6)return this.a6;if(this.add.fcmy==1){if(this.a0k==null){var W=g.El("rgbToRgbC"),q=W[2],X=W[3],k;
if(dd.gP){k=new dd.rV(q,q*q,dd.XI());k.set(ICC.U.lutToRGBA32(X,q))}this.a0k=[null,null,q,null,null,X,k]}return this.a0k}};
ey.prototype.a82=function(){var W=this.Pb();if(W==null)return 0;var q=ICC.U.profileName(W[1]);if(q=="Adobe RGB (1998)")return 1;
if(q=="ProPhoto RGB")return 2;if(q=="Display P3")return 3;return-1};ey.prototype.aGU=function(){var W=this;
if(W.f.K7.join("")!="111"){W.f.K7=[1,1,1];W.R2=!0}for(var N=0;N<W.U.length;N++){var q=W.U[N],X=q.add.vmsk;
if(q.SF()){var k=q.Q2(W);if(k&&k.BD&&k.BD.kA){k.BD.kA=!1;W.R2=!0}}var B=q.Jx();if(B&&B.kA){B.kA=!1;W.R2=!0}if(X){if(X.Y.length!=0)X.Y=[];
if(X.rP.length!=0)X.rP=[]}}};ey.prototype.axO=function(){var W=this;return W.d!=null||W.Yb()[1].length!=0||W.Y.length>1};
ey.prototype.sO=function(){var W=this.UZ,q=[];for(var N=0;N<W.length;N++)q[N]=-1;var X=this.root.children;
for(var N=0;N<X.length;N++){var k=X[N],B=k.B.add.artb;if(B==null)continue;var U=B.guideIndeces;U=U?U.v:[];
for(var l=0;l<U.length;l++)q[U[l].v]=k.index}return[g.N(W),q]};ey.prototype.Ov=function(W){this.UZ=g.N(W[0]);
var q=W[1],X=this.root.children;for(var N=0;N<X.length;N++){var k=X[N],B=k.B.add.artb;if(B==null)continue;
B.guideIndeces={t:"VlLs",v:[]}}for(var N=0;N<q.length;N++)if(q[N]!=-1)this.U[q[N]].add.artb.guideIndeces.v.push({t:"long",v:N})};
ey.prototype.a5L=function(W){var q=this;if(W[0])q.add.lnk2=W[0];else delete q.add.lnk2;if(W[1])q.add.FEid=W[1];
else delete q.add.FEid;if(W[2])q.add.Patt=W[2];else delete q.add.Patt};ey.prototype.aAC=function(W){var q=this,X=[],k=[],B=[],x=null,R=null,y=null;
for(var N=0;N<W.length;N++){var U=W[N];if(U.add.SoLd){X.push(U.add.SoLd.Idnt.v);k.push(U.add.SoLd.placed.v)}if(U.add.PtFl)B.push(U.add.PtFl.Ptrn.v.Idnt.v);
if(U.add.lmfx){for(var l=0;l<kE.m1.length;l++){var K=U.add.lmfx[kE.m1[l]].v;for(var D=0;D<K.length;D++)if(K[D].v.Ptrn){var m=K[D].v;
if(m.classID=="FrFX"&&m.PntT.v.FrFl!="Ptrn")continue;B.push(m.Ptrn.v.Idnt.v)}}}var Y=U.add.vstk;if(Y&&Y.strokeStyleContent.v.classID=="patternLayer"){B.push(Y.strokeStyleContent.v.Ptrn.v.Idnt.v)}}var a=q.add.lnk2,p=q.add.FEid,M=q.add.Patt;
if(a){x=[];for(var N=0;N<a.length;N++)if(X.indexOf(a[N].I8)!=-1)x.push(a[N]);if(x.length==0)x=null}if(p){R=[];
for(var N=0;N<p.length;N++)if(k.indexOf(p[N].id)!=-1)R.push(p[N]);if(R.length==0)R=null}if(M){y=[];for(var N=0;
N<M.length;N++)if(B.indexOf(M[N].id)!=-1)y.push(M[N]);if(y.length==0)y=null}return[x,R,y]};ey.prototype.bb=function(W){var q=this,X=q.root.Vf(W==null?q.Y[0]:W),k=!1;
while(X.parent!=null){k=k||X.B.kW(31);X=X.parent}return k};ey.prototype.hh=function(){var W=this.RH,q=this.RH.length;
if(q!=0&&W[q-1].name=="Quick Mask")return W[q-1]};ey.prototype.R9=function(){return this.I7==ia.jC("% |/!)")||this.I7==ia.wl("gP")};
ey.prototype.GX=function(W){var q=this.add.artd;if(W!=0)this.add.artd={classID:"null",Cnt:{t:"long",v:W},autoExpandOffset:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},origin:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},autoExpandEnabled:{t:"bool",v:!0},autoNestEnabled:{t:"bool",v:!0},autoPositionEnabled:{t:"bool",v:!0}};
else delete this.add.artd};ey.prototype.ik=function(W){if(this.add.FEid==null)this.add.FEid=[];if(this.add.FEid.indexOf(W)==-1)this.add.FEid.push(W)};
ey.prototype.ez=function(W){var q=this.add.FEid.indexOf(W);this.add.FEid.splice(q,1);if(this.add.FEid.length==0)delete this.add.FEid};
ey.prototype.I_=function(W){if(W==null)W=new dU(0,0,this.r,this.$);if(this.X9==null)this.X9=W;else this.X9=this.X9.xw(W)};
ey.prototype.a3T=function(W){return this.X9!=null};ey.prototype.Fl=function(W){var q=this.U[W],X=this.root.Vf(W);
if(X==null)return!1;if(q.S3()||X.parent.children.indexOf(X)==0)return!1;return!0};ey.a6W=function(W){if(W.add.lnk2)for(var N=0;
N<W.add.lnk2.length;N++){var q=W.add.lnk2[N].I8;W.add.lnk2[N].I8=ey.Gk()+q.slice(8);for(var X=0;X<W.U.length;
X++){var k=W.U[X].add.SoLd;if(k&&k.Idnt.v==q)k.Idnt.v=W.add.lnk2[N].I8}}};ey.prototype.yG=function(W,q,X){W.sort(function(a,p){return a-p});
var top=W[W.length-1],k=this.U.slice(0),B=this.Y.slice(0),U=[],l=[];for(var N=0;N<this.U.length;N++){if(W.indexOf(N)!=-1)l.push(this.U[N]);
else U.push(this.U[N])}this.UR(l);this.Y=[];var K=this.root.wu(this,!0);if(q)K=K.x$(q);if(X)K=K.xw(X);
if(K.PM())K=new dU(0,0,100,100);var D=new dU(-K.x,-K.y,this.r,this.$),m=new Uint8Array(lf.c_("PSD")._M(this,0,0,[!0,!1]));
this.UR(k);this.Y=B;var Y=new ey(this.U[top].getName());lf.c_("PSD").Vp(m.buffer,Y);delete Y.add.artd;
Y.Ev=[];Y.UR(Y.U);Y.Ov([[],[]]);ey.a6W(Y);_.wW.ip(Y,K);Y.I_();Y.HQ();Y.OL();return[Y,K,U,top]};ey.prototype.aiO=function(W,q,X){var k=this.yG(W),B=k[0],U=k[1],l=k[2],top=k[3],K;
if(X=="jpg")K=new Uint8Array(lf.c_("JPG")._M([[B.OL().buffer]],B.r,B.$,[80]));else K=new Uint8Array(lf.c_("PSD")._M(B,null,null,[!0,!1]));
if(q)l=this.U.slice(0);var D=this.ow(K,B.name,U.x,U.y);if(top==this.U.length-1)l.push(D);else l.splice(q?top+1:top-W.length+1,0,D);
this.UR(l);this.Y=[l.indexOf(D)]};ey.Gk=function(W){if(W==null)W="";var q="";while(q==""||q==W){q="";
for(var N=0;N<8;N++)q+=Math.floor(Math.random()*16).toString(16)}return q};ey.prototype.cB=function(W){if(W==null)return;
if(this.add.Patt==null)this.add.Patt=[];var q=this.add.Patt;for(var N=0;N<q.length;N++)if(q[N].id==W.id)return;
q.push(W)};ey.prototype.az6=function(W){for(var N=0;N<this.U.length;N++){var q=this.U[N],X=q.add.SoLd;
if(X&&X.Idnt.v==W)q.uz(this)}};ey.prototype.ow=function(W,q,X,k,B,U,l){if(this.add.lnk2==null)this.add.lnk2=[];
var K=null;for(var N=0;N<this.add.lnk2.length;N++)if(g.AB(W,this.add.lnk2[N].raw)){K=this.add.lnk2[N].I8;
break}if(K==null){var D=lf.pP(W.buffer);K=ey.Gk()+"-d71c-11e5-b1ae-a548a96e5f9f";var m=new b._X;m.I8=K;
m.iX=D=="psd"?"8BIM":"    ";m.k7=q+"."+D;m.O5=D=="psd"?"8BPB":"    ";m.open=0;m.raw=W;m.I="liFD";m.Rh=2;
this.add.lnk2.push(m)}var Y=this.a3(K,null,null,null,U,l),a=ey.Gk()+"-d71c-11e5-b1ae-a548a96e5f9f",p=this.Sh(),M=Y?Y._Y:new dU;
p.YY(q);p.add.SoLd={classID:"null",Idnt:{t:"TEXT",v:K},Impr:{t:"Objc",v:{__name:"None",classID:"none"}},placed:{t:"TEXT",v:a},PgNm:{t:"long",v:1},totalPages:{t:"long",v:1},frameStep:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},duration:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},frameCount:{t:"long",v:1},Annt:{t:"long",v:16},Type:{t:"long",v:2},Trnf:null,nonAffineTransform:null,quiltWarp:{t:"Objc",v:g.NP.j(M)},Sz:{t:"Objc",v:{classID:"Pnt",Wdth:{t:"doub",v:M.r},Hght:{t:"doub",v:M.$}}},Rslt:{t:"UntF",v:{type:"#Rsl",val:Y?Y.mC:72}}};
var x=M.P();if(X!=null)x.offset(X,k);if(Y!=null&&B){var D=lf.pP(W.buffer),R=B.x,y=B.y,s=B.r,F=B.$;x=Y._Y.P();
x.offset(R+X,y+k);var E=E=this.mC/(Y.mC?Y.mC:D=="pdf"?144:this.mC);x.r=x.r*E;x.$=x.$*E;var o=Math.max(x.r/s,x.$/F);
if(o>1.0001){x.r=x.r/o;x.$=x.$/o}x.x=Math.round(R+(s-x.r)/2);x.y=Math.round(y+(F-x.$)/2)}var G=g.b.Lw(x).n;
p.add.SoLd.Trnf=_.Gz.If(G);p.add.SoLd.nonAffineTransform=_.Gz.If(G);if(Y){if(B)p.uz(this,!1);else if(cC==0){p.S=Y.jx[1].P();
p.S.offset(x.x,x.y);p.buffer=Y.jx[0].slice(0)}}return p};ey.prototype.pI=function(){var W=this.add.arts,q=new dU;
for(var N=0;N<W.length;N++)q=q.xw(g.b.DS(W[N].IH));return q};ey.prototype.CZ=function(W,q,X){var k=this.pI();
if(q==null){q=k.r;X=k.$}var B=g.Nm(q,X);B.save();B.translate(-k.x,-k.y);B.scale(q/k.r,X/k.$);this.root.No(this,B,W,new dU(0,0,q,X));
B.restore();return B.getImageData(0,0,q,X).data.buffer};ey.prototype.OL=function(W){if(W!=null){this.I_();
this.HQ(W);var q=this.buffer;if(dd.gP)this.iu.get(q);else q=q.slice(0);this.I_();this.HQ();return q}if(this.X9){this.HQ();
this.X9=null}if(dd.gP&&this.aKt){this.iu.get(this.buffer);this.aKt=null;this.gd=!0}return this.buffer};
ey.prototype.alJ=function(){for(var N=0;N<this.U.length;N++)this.U[N].awD();this.I_()};ey.prototype.aFQ=function(){for(var N=0;
N<this.U.length;N++)if(this.U[N].add.lmfx)this.U[N].kJ.OG=!0};ey.prototype.l1=function(){var W=this.Mc.r1044;
if(W==null){W=this.Mc.r1044=new Uint8Array(4);var q=0;for(var N=0;N<this.U.length;N++)q=Math.max(q,this.U[N].add.lyid);
Z.Tj(W,0,q)}var X=Z.WP(W,0);Z.Tj(W,0,X+1);return X+1};ey.prototype.or=function(W,q,X){if(W==null)W=!0;
var k=this;if(k.TC.length!=0)return!0;if(k.Y.length!=1){if(W)alert(k.Y.length==0?"Select a layer first.":"More than one layer selected.");
return!1}return this.IS(W,q,X)};ey.prototype.IS=function(W,q,X){if(W==null)W=!0;if(q==null)q=!1;var k=this;
if(k.TC.length!=0)return!0;for(var N=0;N<k.Y.length;N++){var B=k.U[k.Y[N]],U=q||B.pw<=0;if(B.add.lsct!=null&&B.add.lsct!=e5.nQ&&B.pw!=1){if(W)alert(js.get([15,7,2]));
return!1}if(U&&!B.xn()){if(W)alert(js.get([15,7,2]));return!1}if(U&&B.add.TySh){return this.ab2(W,[15,7,3],X)}if(U&&B.add.SoLd){return this.ab2(W,[15,7,4],X)}if(B.kW(1)||k.bb(k.Y[N])){if(W)alert(js.get([6,57,0]));
return!1}}return!0};ey.prototype.ab2=function(W,q,X){if(W&&typeof W=="object"){var k=new ip(S.E.H);k.data={R:S.m.K_,ud:"confirm"};
k.data._=js.get(q)+". "+js.get([6,8])+"?";var B=W;k.data.tO=function(){var U=new ip(S.E.dq,!0);U.data={yx:"rasterizeLayer",Og:{classID:"rasterizeLayer",null:j0.O8("Lyr",!0)}};
B.T(U)};W.T(k);return!1}if(W)alert(js.get(q));return!1};ey.prototype.aaW=function(W){var q=this.root.Vf(W);
if(q.parent)return q.B.P$()&&this.aaW(q.parent.index);else return q.B.P$()};ey.prototype.l4=function(W){var q=this;
if(W){var X=0;for(var N=0;N<q.Y.length;N++)if(q.U[q.Y[N]].add.artb)X++;if(X>1)return-1}if(q.add.artd&&q.Y.length!=0){var k=q.root.Vf(q.Y[0]);
while(k.parent.parent)k=k.parent;if(k.B.add.artb)return k.index}return-1};ey.prototype.FM=function(){var W=this.l4();
if(W!=-1){var q=this.U[W].La();return new hw(q.x,q.y)}return new hw(0,0)};ey.prototype.ao6=function(){var W=this.U[this.Y[0]];
if(W.pw<=0&&!W.S.ty(this.d.S)){alert("Selected area is empty.");return!1}if(this.Y.length==1&&this.d){var q=g.j(this.d.c.length);
g.Fr(W.buffer,W.S,q,this.d.S);g.Fz(this.d.c,q);if(g.Xe(q,0)){alert("Selected area is empty.");return!1}}return!0};
ey.prototype.Fi=function(){if(this.Mc["r"+1037]==null)this.vQ(30);return Z.WU(this.Mc["r"+1037],0)};
ey.prototype.vQ=function(W){if(this.Mc["r"+1037]==null)this.Mc["r"+1037]=new Uint8Array(4);if(Z.WU(this.Mc["r"+1037],0)==W)return;
Z.P_(this.Mc["r"+1037],0,W);this.aFQ()};ey.prototype.lK=function(){if(this.Mc["r"+1049]==null)this.nr(30);
return Z.WU(this.Mc["r"+1049],0)};ey.prototype.nr=function(W){if(this.Mc["r"+1049]==null)this.Mc["r"+1049]=new Uint8Array(4);
if(Z.WU(this.Mc["r"+1049],0)==W)return;Z.P_(this.Mc["r"+1049],0,W);this.aFQ()};ey.prototype.gW=function(W){if(this.add.lnk2==null)return null;
for(var N=0;N<this.add.lnk2.length;N++)if(this.add.lnk2[N].I8==W)return this.add.lnk2[N];return null};
ey.prototype.awe=function(W){var q=this.gW(W);if(q==null)return!1;var X=lf.pP(q.raw.buffer);if(X==null)return!1;
if(lf.c_(X)!=null||X=="psd")return!0;return!1};ey.prototype.a3=function(W,q,X,k,B,U){var l=this.gW(W);
if(l==null)return null;l.OL(q,X,k,B,U);if(l.jx)return l};ey.prototype.avA=function(){var W=this.r,q=this.$,X=this.iu,k=this.depth;
if(dd.gP&&X==null)X=this.iu=new dd.rV(W,q,k,!0);if(this.buffer==null||this.buffer.length!=W*q*4||dd.gP&&(X.r!=W||X.$!=q||X.depth!=k)){this.buffer=g.j(W*q*4,k);
if(X)X.delete();if(dd.gP)X=this.iu=new dd.rV(W,q,k,!0)}};ey.prototype.aI0=function(){this.avA();if(dd.gP){this.iu.set(this.buffer)}};
ey.prototype.HQ=function(W){if(cC!=0)throw"redrawing in vector mode";var q=this.r,X=this.$,k=new dU(0,0,q,X),B=this.Cg?k:k.x$(this.X9);
this.avA();if(B.PM())return;if(!B.AB(k)){if(!dd.gP){var U=g.j(B.C()*4,this.depth);g.YE(U,B,this.buffer,k)}if(dd.gP){dd.vo(this.iu,B);
dd.Ds(0)}}else{if(dd.gP){this.iu.set(null)}else{this.buffer.fill(0)}}var l=Date.now(),K=dd.gP?this.iu:this.buffer;
if(W==null)W=1e9;var D=this.root.children;for(var N=0;N<D.length;N++){var m=D[N].B;if(m.P$()&&m.add.artb&&this.add.artd){var Y=m.La(),a=B.x$(Y),p=m.Yr();
if(p!=0){if(dd.gP){dd.vo(K,a);dd.Ds(p);dd.Ds(p)}else g.ake(K,k,a,p)}}}this.root.K2(K,k,B,this,[],W,bE);
bE.aaD();this.aKt=this.X9.P()};ey.prototype.Sh=function(W){var q=new b;q.S=new dU(0,0,0,0);q.buffer=g.j(0,this.depth);
q.YY("Layer");if(W!=!0)q.add.lyid=this.l1();q.add.lsct=e5.nQ;q.add.lclr=0;q.add.fxrp=new hw(0,0);return q};
ey.prototype.rS=function(W){var q=this.Sh(W);q.YY("</Layer group>");q.add.lsct=e5.dx;q.Z9=24;return q};
ey.prototype.uV=function(){return this.Wb!=this.o5};ey.prototype.O_=function(W){while(this.history.length>this.Wb+1)this.history.pop();
if(this.o5>this.Wb)this.o5=-1;if(W.J.id!=_.Ki){this.a3v=!0;if(this.iV.lastAppliedComp){delete this.iV.lastAppliedComp;
this.gd=!0}}this.history.push(W);this.Wb++;this.gd=!0;var q=gv.jj()?60:30,X=0;for(var N=this.history.length-1;
N>=0;N--){var k=this.history[N];if(k.aj_)continue;X++;if(X==q){this.Wb-=N;this.history=this.history.slice(N);
break}}};ey.prototype.d2=function(){if(this.Wb!=this.history.length-1)return null;return this.history[this.history.length-1]};
ey.prototype.Vs=function(W,q,X,k){if(W==null)W=!1;var B=q!=null?[q]:this.Y.slice(0);if(k){var U=[];for(var N=0;
N<B.length;N++){var l=this.U[B[N]],K=l.iN;if(l.Es&&K!=0&&U.indexOf(K)==-1)U.push(K)}if(U.length!=0)for(var N=0;
N<this.U.length;N++){var l=this.U[N],K=l.iN;if(l.Es&&K!=0&&U.indexOf(K)!=-1&&B.indexOf(N)==-1)B.push(N)}}var D=[];
for(var N=0;N<B.length;N++){var m=this.wj(B[N],W);for(var Y=0;Y<m.length;Y++)if(D.indexOf(m[Y])==-1)D.push(m[Y]);
if(X){var a1=this.root.Vf(B[N]);while(a1.parent!=null&&a1.parent.parent!=null){a1=a1.parent;if(D.indexOf(a1.index)==-1){D.push(a1.index,a1.n0)}}}}return D};
ey.prototype.Ls=function(W,q,X){var k=this,B=k.Vs(!1,W,null,X);B.sort(function(E,o){return E-o});var U={};
for(var l=0;l<k.U.length;l++){var K=k.U[l].getName();U[K]=!0}var D=[];for(var N=0;N<B.length;N++){var m=k.U[B[N]].P(),y,s;
m.add.lyid=k.l1();m.add.lspf=0;if(m.SF()){var Y=m.Q2(k),a=ey.ayx(Y);k.ik(a);m.add.SoLd.placed.v=a.id}else if(m.add.SoLd){var p=m.add.SoLd.placed.v;
m.add.SoLd.placed.v=ey.Gk(p.slice(0,8))+p.slice(8)}m.Ae(k);var M=m.getName(),x=M.length;while(48<=M.charCodeAt(x-1)&&M.charCodeAt(x-1)<=57)x--;
var R=parseInt(M.slice(x));if(isNaN(R)){if(M.endsWith(" copy")){R=1;y=M.slice(0,M.length-5)}else{R=0;
y=M}}else if(M.slice(0,x).endsWith(" copy ")){R=R;y=M.slice(0,x-6)}else{R=0;y=M}R++;while(!0){s=y+" copy"+(R==1?"":" "+R);
if(U[s]==null)break;R++}var F=B.indexOf(this.root.Vf(B[N]).parent.index)!=-1;if(M=="Background"&&k.U.length==1)s="Layer 1";
if(q!=!0&&!F)m.YY(s);U[s]=!0;D.push(m)}return D};ey.ayx=function(W){return{id:ey.Gk(W.id.slice(0,8))+W.id.slice(8),buffer:W.buffer.slice(0),S:W.S.P(),BD:W.BD?W.BD.P():null}};
ey.auk=function(W){return{id:W,S:new dU,buffer:g.j(1),BD:new b.pj}};ey.hQ=function(W,q,X){if(X==null)X=[0,0];
if(q==null)q={vmsk:new b.jY};if(q.vogk==null){q.vogk=[];var k=g.z._H(q.vmsk.G);for(var B=0;B<k;B++)q.vogk.push(g.BI.if())}return{name:W,bT:0,gY:X,add:q}};
ey.prototype.Yb=function(W){var q=[],X=[],k=this;for(var N=1;N<k.RM.length;N++){var B=k.RM[N];B.bT=-1-N;
q.push(B);if(k.Lf.indexOf(N)!=-1)X.push(q.length-1)}if(k.RM[0].add.vmsk.G.length>2){var B=k.RM[0];B.bT=-1;
q.push(B);if(k.Lf.indexOf(0)!=-1)X.push(q.length-1)}var U=k.sh==null;if(U)k.sh=[];for(var N=k.Y.length-1;
N>=0;N--){var l=k.Y[N],K=k.U[l],D=K.add.TySh;if(K.add.vmsk!=null){var B=ey.hQ("\""+K.getName()+"\" Shape Path",K.add);
B.bT=l;q.push(B);if(U&&(K.LJ||K.Nj()))k.sh.push(l);if(k.sh.indexOf(l)!=-1)X.push(q.length-1)}if(D&&D.add&&g.NP.GE(D.DO)){var B=ey.hQ("\""+K.getName().slice(0,10)+"..\" Text Path",D.add);
B.bT=1e6+k.Y[N];q.push(B);X.push(q.length-1)}}if(X.length==0&&W){k.RM[0].bT=-1;k.Lf=[0];X.push(q.length);
q.push(k.RM[0])}return[q,X]};ey.prototype.wj=function(N,W){var q=[],a1=this.root.Vf(N);if(a1)a1.M4(q,W);
return q};ey.prototype.Ek=function(){this.root.K$(this,new dU(0,0,this.r,this.$))};ey.prototype.UR=function(W){for(var N=0;
N<this.U.length;N++){var q=this.U[N];if(W.indexOf(q)==-1){q.kJ.aCL();q.I_()}}var X=0;for(var N=0;N<W.length;
N++)if(W[N].add.artb)X++;this.GX(X);this.U=W.slice(0);this.Hm()};ey.prototype.Hm=function(){var W=this.U,q=W.length;
this.root=new kF;var X=this.Sh(!0);X.JY="pass";X.add.lsct=e5.B2;X.YY("");var k=this.rS(!0),B=[k];for(var N=0;
N<q;N++)B.push(W[N]);B.push(X);this.root.a0X(B,0,0);if(this.Y.length==0)this.Y=[q-1]};ey.prototype.OD=function(){if(this.Y.length!=1)return;
var W=this.root.Vf(this.Y[0]);while(W.parent!=null){var q=W.parent.B;q.add.lsct=e5.B2;W=W.parent}this.R2=this.ant=!0};
ey.prototype.awU=function(){this.Hm();var W=[this.root],bi=0;while(W.length!=0){var top=W.pop();bi++;
if(top.B.add.lsct==e5.B2)for(var N=0;N<top.children.length;N++)W.push(top.children[N])}if(bi>1e3){var q=this.root.children;
for(var N=0;N<q.length;N++)if(q[N].B.add.lsct==e5.B2)q[N].B.add.lsct=e5.Fn}};ey.z3=function(W,q,X,k,B,U,l,K,D){if(K==null)K="sRGB IEC61966-2.1";
if(D==null)D=8;var m={__name:"Make",classID:"Mk",Nw:{t:"Objc",v:{classID:"Dcmn",Nm:{t:"TEXT",v:k},artboard:{t:"bool",v:U},Md:{t:"type",v:{classID:"RGBM"}},Wdth:{t:"UntF",v:{type:"#Rlt",val:W*72/X}},Hght:{t:"UntF",v:{type:"#Rlt",val:q*72/X}},Rslt:{t:"UntF",v:{type:"#Rsl",val:X}},pixelScaleFactor:{t:"doub",v:1},Fl:{t:"enum",v:{Fl:B}},Dpth:{t:"long",v:D},profile:{t:"TEXT",v:K}}}};
if(B=="Clr")m.Nw.v.FlCl={t:"Objc",v:l};return{yx:"make",Og:m}};ey.ki=["sRGB","Adobe RGB","ProPhoto RGB","Display P3"];
ey.Tu=["sRGB IEC61966-2.1","Adobe RGB (1998)","ProPhoto RGB","image P3"];ey.i$=[null,"icc/adobe","icc/prophoto","icc/displayp3"];
ey.aea=function(W,q){var X=0,k=0,B=72,U=q.avj,l=W.preset&&W.preset.v=="Clipboard",K=W.Dpth?W.Dpth.v:8;
if(l){X=U.r;k=U.$}else{X=W.Wdth.v.val;k=W.Hght.v.val;B=W.Rslt.v.val;X=Math.round(X*B/72);k=Math.round(k*B/72)}var D=new ey((W.Nm?W.Nm.v:js.get([11,7]))+".psd");
D.r=X;D.$=k;D.mC=B;D.depth=K;var m=W.Fl?W.Fl.v.Fl:"Wht";if(W.artboard&&W.artboard.v){var Y=D.Sh();Y.YY(js.get([1,16,0])+" 1");
Y.add.lsct=e5.B2;Y.VA(new dU(0,0,X,k));Y.add.artb.artboardBackgroundType={t:"long",v:{Wht:1,Blck:2,Trns:3,BckC:1,Clr:4}[m]};
if(m=="Clr")Y.add.artb.Clr={t:"Objc",v:g.ov.E2(g.ov.yM(W.FlCl.v))};Y.JY="pass";Y.Z9=24;var a=D.Sh();
a.YY("Layer 1");D.UR([D.rS(),a,Y]);D.GX(1);D.Y=[1]}else if(cC==0){var p=D.Sh(),M=0;p.YY("Background");
D.UR([p]);p.add.lspf=1<<2;if(m=="Clr")M=g.ov.yM(W.FlCl.v);else if(m!="Trns"){var x=q.yY;M={Wht:{o:255,L:255,X:255},Blck:{o:0,L:0,X:0},BckC:{o:x>>>16,L:x>>>8&255,X:x&255}}[m]}if(M){p.S=new dU(0,0,X,k);
p.buffer=g.j(X*k*4,K);dx.Yp(p.buffer,g.ov.E2(M))}}if(cC==0)D.buffer=g.j(X*k*4,K);var R=W.profile;if(R){var y=ey.i$[ey.Tu.indexOf(R.v)];
if(y)D.JM(lf.Nx.get(y))}if(cC==1)D.mC=72;return D};ey.prototype.a79=function(){var W=this,q=W.add.arts=[],X=!0;
W.add.prvw=1;W.Hm();var k=W.root.children;for(var N=0;N<k.length;N++)if(!k[N].B.S3())X=!1;if(!X||W.U.length==0){W.U.unshift(W.rS());
var B=W.Sh();B.YY("Layer 1");B.add.lsct=e5.B2;B.JY="pass";B.Z9=24;W.U.push(B);for(var N=0;N<W.Y.length;
N++)W.Y[N]++;W.qg=!0}if(W.add.artd){delete W.add.artd;var U=[];for(var N=0;N<W.U.length;N++){var B=W.U[N],l=B.add.artb;
if(l==null)continue;var K=B.La();delete B.add.artb;q.push({em:B.getName(),IH:[K.x,K.y,K.x+K.r,K.y+K.$],Y:!1});
var D=l.artboardBackgroundType.v;if(D!=1&&D!=3){var m=W.root.Vf(N).auf;U.push([m,D,K,g.ov.yM(l.Clr.v)])}}for(var N=0;
N<U.length;N++){var m=U[N][0],D=U[N][1],K=U[N][2],Y=U[N][3],B=W.Sh();B.YY("Background");B.add.vmsk=new b.jY;
B.add.vmsk.G=g.z.oz.Rect(K.x,K.y,K.r,K.$);B.add.vstk=kE.Cs.wy(!0);B.add.vstl=kE.Hr.wy();B.add.vstl.jg=[null,[1,1,1],[0,0,0],[],[Y.o/255,Y.L/255,Y.X/255],[1,1,1]][D];
B.tw();W.U.splice(W.U.indexOf(m)+1,0,B);W.Hm()}console.log(U)}else q.push({em:"Artboard",IH:[0,0,W.r,W.$],Y:!1});
if(W.name.endsWith(".psd"))W.name=W.name.slice(0,-4)+".ai";if(W.buffer)W.buffer=null;for(var N=0;N<W.U.length;
N++){var B=W.U[N],K=B.S;if(B.S3()&&B.add.vmsk==null&&B.Jx()){var a=B.Jx();_.zB.nb(W,B,null);B.add.vmsk=new b.jY;
_.U0.aDs(a,B)}if(B.Jx())_.zB.nb(W,B,null);if(B.S3()&&B.add.vmsk){var p=W.Sh();W.U.splice(N,0,p);p.YY("<Clipping Path>");
p.D7=!0;p.add.vogk=B.add.vogk;delete B.add.vogk;p.add.vmsk=B.add.vmsk;delete B.add.vmsk;p.add.vstk=kE.Cs.wy();
p.add.SoCo=JSON.parse(kE.iv[kE.order.indexOf("SoFi")]);console.log("mask here!")}else if(B.add.SoLd&&B.add.vmsk){delete B.add.vmsk}else if(B.Nj()&&B.add.vstl==null){if(B.add.vmsk==null){B.add.vmsk=new b.jY;
B.add.vmsk.G=g.z.oz.Rect(0,0,W.r,W.$);B.add.vstk=kE.Cs.wy(!0);B.tw()}var M=B.add.vstl=ey.I1(B.add)}delete B.add.lmfx;
if(B.add.SoLd||B.add.TySh||B.add.vmsk||K.PM())continue;var x=K.r,R=K.$,y=g.Md(B.buffer,x,R)?"JPG":"PNG";
if(x*R<700*700)y="PNG";var s=lf.c_(y)._M([[B.buffer.buffer]],x,R),F=W.U[N]=W.ow(new Uint8Array(s),B.getName(),K.x,K.y);
F.ZR(B.P$());F.JY=B.JY;F.zO=B.zO}};ey.I1=function(W,q){var X=W.vstk,D=null,m=null;if(X==null)X=kE.Cs.wy(!0);
var k=kE.Cs.IZ(X),B=kE.yB(W),U=kE.fM(X);function l(D){var R=g.ov.yM(D.Clr.v);return[R.o/255,R.L/255,R.X/255]}var K=W.lmfx;
if(K)D=K.solidFillMulti.v[0];if(D)D=D.v;if(D&&(!D.enab.v||D.Opct.v.val<50))D=null;if(K)m=K.frameFXMulti.v[0];
if(m)m=m.v;if(m&&(!m.enab.v||m.Opct.v.val<50))m=null;var Y=W.vmsk,a=Y?Y.G:g.z.oz.Rect(0,0,q.r,q.$);for(var p=0;
p<2;p++){var M=p==0?B:U,x=[];if(M.O5==1)x=b1.hT(M.bE.Clr.v);if(M.O5==2){x=W[p==0?"_fstl":"_sstl"];if(x==null||cC==0)x=jt.fH(M.bE,a,q)}if(p==0&&D)x=l(D);
if(p==1&&m){x=l(m);k.A4=m.Sz.v.val;k.EE=kE.stroke.types.indexOf(m.Styl.v.FStl);k.WA=1}if(p==0)k.jg=x;
else k.rD=x}return k};function il(W){this.LV=W;this.$Z=0;this.WE=1;this.h=new hw(0,0);this.gA=new hw(0,0);
this.Zi=0;this.K7=[1,1,1];this.aS=0;this.eO=new dU(0,0,1,1);this.arJ=new dU(0,0,W.r,W.$);this.q3=null;
this.n1=null;this.YP=null;this.rz=null}il.LI=null;il.aJ=null;il.fY=function(W){var q=il,X=W.C();if(q.LI==null||q.LI.length!=X*4){q.aJ=g.j(X);
q.LI=g.j(X*4)}};il.prototype.bq=function(W){var q=new ka,X=this.eO,k=this.LV,B=W?this.WE:this.$Z,U=W?this.gA:this.h,l=Math.round((X.r-k.r*B)/2+U.x),K=Math.round((X.$-k.$*B)/2+U.y);
q.translate(-l,-K);q.scale(1/B,1/B);var D=k.r/2,m=k.$/2;q.translate(-D,-m);q.rotate(this.Zi);q.translate(D,m);
return q};il.prototype.aq5=function(W){var q=this.eO,X=this.LV,k=Math.atan2(-W.X,W.iM),B=X.r/2,U=X.$/2;
W.translate(-B,-U);W.rotate(-k);W.translate(B,U);var l=1/W.Lr();W.scale(l,l);var K=-W.Wy,D=-W.rY,m=Math.round(K-(q.r-X.r*l)/2),Y=Math.round(D-(q.$-X.$*l)/2);
if(Math.abs(l-Math.round(l))<1e-6)l=Math.round(l);this.Zi=k;this.$Z=l;this.h=new hw(m,Y)};il.prototype.uy=function(W,q,X){var k=this.bq(),B=k.Bb(new hw(W,q));
if(X){B.x=Math.round(B.x);B.y=Math.round(B.y)}return B};il.prototype.az=function(W,q){var X=this.bq();
X.i5();return X.Bb(new hw(W,q))};var aY=function(){function W(){this.I3=0;this.EP={}}W.prototype.Gf=function(q,X){var k=q.r+"x"+q.$,B=this.EP[k],U=0;
if(B==null)B=this.EP[k]=[];while(B[U]&&B[U][2])U++;if(B[U]==null)B[U]=[null,0,!1,0];B[U][0]=kF.QI.aAF(B[U][0],q,X);
B[U][1]=this.I3;B[U][2]=!0;B[U][3]=X;return B[U][0]};W.prototype.Mq=function(q,X){var k=[];for(var B in this.EP){var U=B.split("x"),l=parseInt(U[0]),K=parseInt(U[1]);
if(q.r>l||q.$>K||q.C()*10<l*K)continue;var D=this.EP[B];for(var N=0;N<D.length;N++)if(!D[N][2])k.push([l*K,D[N],l,K])}k.sort(function(a,p){return a[0]-p[0]});
if(k.length==0)return[this.Gf(q,X),q];var m=k[0],Y=q.P();Y.r=m[2];Y.$=m[3];m[1][1]=this.I3;m[1][2]=!0;
m[1][0]=kF.QI.aAF(m[1][0],Y,X);return[m[1][0],Y]};W.prototype.aF=function(q){for(var X in this.EP){var k=this.EP[X];
for(var N=0;N<k.length;N++)if(k[N][0]==q)k[N][2]=!1}};W.prototype.aaD=function(){for(var q in this.EP){var X=this.EP[q];
for(var N=0;N<X.length;N++)if(X[N][1]!=this.I3){kF.QI.delete(X[N][0]);X.splice(N,1);N--}if(X.length==0)delete this.EP[q]}this.I3++};
return W}(),bE=new aY;function kE(){}kE.order="ebbl FrFX IrSh IrGl ChFX SoFi GrFl patternFill OrGl DrSh St3D".split(" ");
kE.m1="ebblMulti frameFXMulti innerShadowMulti IrGlMulti ChFXMulti solidFillMulti gradientFillMulti patternFillMulti OrGlMulti dropShadowMulti St3DMulti".split(" ");
kE.names=[[14,4],[14,9],[14,1],[14,3],[14,8],[14,5],[14,6],[14,7],[14,2],[14,0],"3D"];kE.aya=["DrSh","IrSh","SoFi","GrFl","FrFX"];
kE.nV=["Clr"];kE.N2="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");kE.W0=["Ptrn","Angl","Scl","Algn","phase"];
kE.oo={JS:"{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}}}",adg:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/Two Color\"               },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"UsrS\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50},\"Clr\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}]},\"Trns\":{\"v\":[{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}}}",azr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/Foreground to Background\"},\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"FrgC\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"BckC\"}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]},\"Trns\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]}}}",a3f:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/Custom\"                  },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"ClNs\"}},\"ShTr\":{\"t\":\"bool\",\"v\":false},\"VctC\":{\"t\":\"bool\",\"v\":false},\"ClrS\":{\"t\":\"enum\",\"v\":{\"ClrS\":\"RGBC\"}},\"RndS\":{\"t\":\"long\",\"v\":1466092501},\"Smth\":{\"t\":\"long\",\"v\":2048},\"Mnm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0}]},\"Mxm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100}]}}}",yp:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"v\":\"Default/orangeslices\",\"t\":\"TEXT\"},\"Idnt\":{\"v\":\"b4d43394-d71c-11e5-b1ae-a548a96e5f9f\",\"t\":\"TEXT\"}}}"};
kE.oo.JS="\"Clr\": "+kE.oo.JS;kE.oo.ov="\"Grad\":"+kE.oo.adg+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\":90},\"t\":\"UntF\"},\"Rvrs\":{\"v\":false,\"t\":\"bool\"},\"Type\":{\"v\":{\"GrdT\":\"Lnr\"},\"t\":\"enum\"},\"Ofst\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Vrtc\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"}},\"t\":\"Objc\"},\"Dthr\":{\"v\":false,\"t\":\"bool\"}";
kE.oo.yp="\"Ptrn\":"+kE.oo.yp+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\": 0},\"t\":\"UntF\"},\"phase\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"}";
kE.default="{ \"classID\": \"null\", \"Scl\": {\"t\": \"UntF\", \"v\": { \"type\": \"#Prc\",\"val\": 100} }, \"masterFXSwitch\": {\"t\": \"bool\",\"v\": true} }";
kE.iv=["{\"classID\":\"ebbl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"hglM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Scrn\"}},\"hglC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":255},\"Grn\":{\"t\":\"doub\",\"v\":255},\"Bl\":{\"t\":\"doub\",\"v\":255}}},\"hglO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"sdwM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Mltp\"}},\"sdwC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}},\"sdwO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"bvlT\":{\"t\":\"enum\",\"v\":{\"bvlT\":\"SfBL\"}},\"bvlS\":{\"t\":\"enum\",\"v\":{\"BESl\":\"InrB\"}},\"uglg\":{\"t\":\"bool\",\"v\":true},\"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":120}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":30}},\"srgR\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"blur\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":5}},\"bvlD\":{\"t\":\"enum\",\"v\":{\"BESs\":\"In\"}},\"TrnS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"antialiasGloss\":{\"t\":\"bool\",\"v\":false},\"Sftn\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":0}},\"useShape\":{\"t\":\"bool\",\"v\":false},\"MpgS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"AntA\":{\"t\":\"bool\",\"v\":false},\"Inpr\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":28}},\"useTexture\":{\"t\":\"bool\",\"v\":false},\"InvT\":{\"t\":\"bool\",\"v\":false},\"Algn\":{\"t\":\"bool\",\"v\":true},\"Scl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"textureDepth\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Ptrn\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/orangeslices\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"b4d43394-d71c-11e5-b1ae-a548a96e5f9f\"}}},\"phase\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}}}","{\"classID\":\"FrFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"overprint\":{\"t\":\"bool\",\"v\":false},\"Styl\":{\"v\":{\"FStl\":\"OutF\"},\"t\":\"enum\"},\"PntT\":{\"v\":{\"FrFl\":\"SClr\"},\"t\":\"enum\"},\"Sz\":{\"v\":{\"type\":\"#Pxl\",\"val\":3},\"t\":\"UntF\"},"+kE.oo.JS+","+kE.oo.ov+","+kE.oo.yp+"}","{\"classID\":\"IrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":  0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"IrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"glwS\":{\"v\":{\"IGSr\":\"SrcE\"},\"t\":\"enum\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"ChFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 50},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":  0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"Invr\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":19},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":11},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":14},\"t\":\"UntF\"},\"MpgS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Gaussian\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":32,\"t\":\"doub\"},\"Vrtc\":{\"v\":7,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":64,\"t\":\"doub\"},\"Vrtc\":{\"v\":38,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":96,\"t\":\"doub\"},\"Vrtc\":{\"v\":101,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":128,\"t\":\"doub\"},\"Vrtc\":{\"v\":166,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":159,\"t\":\"doub\"},\"Vrtc\":{\"v\":209,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":191,\"t\":\"doub\"},\"Vrtc\":{\"v\":235,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":223,\"t\":\"doub\"},\"Vrtc\":{\"v\":248,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"SoFi\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+kE.oo.JS+"}","{\"classID\":\"GrFl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+kE.oo.ov+"}","{\"classID\":\"patternFill\",\"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+kE.oo.yp+"}","{\"classID\":\"OrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"DrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 57},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":  0,\"t\":\"doub\"},\"Grn\":{\"v\":  0,\"t\":\"doub\"},\"Bl\":{\"v\":  0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true ,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":13},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Lineární\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"layerConceals\":{\"v\":true,\"t\":\"bool\"},\"Cntn\":{\"v\":false,\"t\":\"bool\"}}","{\"classID\":\"St3D\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":  0,\"t\":\"doub\"},\"Bl\":{\"v\":  0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":false,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\": 90},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Srnk\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},  \"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":90}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":90}},\"Drkn\":{\"v\":{\"type\":\"#Prc\",\"val\":25},\"t\":\"UntF\"} }"];
kE.ov={types:"Lnr Rdl Angl Rflc Dmnd shapeburst".split(" "),names:[[19,0,0],[19,0,1],[19,0,2],[19,0,3],[19,0,4],[19,0,5]]};
kE.stroke={types:["InsF","CtrF","OutF"],names:[[19,5,2],[19,5,1],[19,5,0]],$F:["SClr","GrFl","Ptrn"],aLa:[[13,0],[12,37],[12,62]]};
kE.FF={types:["SfBL","PrBL"],names:[[19,1,0],[19,1,1]],aC1:["SrcC","SrcE"],auL:[[19,5,1],[12,69]]};kE.D5={types:["OtrB","InrB","Embs","PlEb","strokeEmboss"],style:[[19,2,0],[19,2,1],[19,2,2],[19,2,3],[19,2,4]],afL:["SfBL","PrBL","Slmt"],agX:[[19,3,0],[19,3,1],[19,3,2]],dir:[[19,4,0],[19,4,1]]};
kE.Cs={LR:["strokeStyleButtCap","strokeStyleRoundCap","strokeStyleSquareCap"],vi:["strokeStyleAlignInside","strokeStyleAlignCenter","strokeStyleAlignOutside"],join:["strokeStyleMiterJoin","strokeStyleRoundJoin","strokeStyleBevelJoin"],Y_:["solidColorLayer","gradientLayer","patternLayer"],default:{classID:"strokeStyle",strokeStyleVersion:{t:"long",v:2},strokeEnabled:{t:"bool",v:!1},fillEnabled:{t:"bool",v:!1},strokeStyleLineWidth:{t:"UntF",v:{type:"#Pxl",val:1}},strokeStyleLineDashOffset:{t:"UntF",v:{type:"#Pnt",val:0}},strokeStyleMiterLimit:{t:"doub",v:100},strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleButtCap"}},strokeStyleLineJoinType:{t:"enum",v:{strokeStyleLineJoinType:"strokeStyleMiterJoin"}},strokeStyleLineAlignment:{t:"enum",v:{strokeStyleLineAlignment:"strokeStyleAlignCenter"}},strokeStyleScaleLock:{t:"bool",v:!1},strokeStyleStrokeAdjust:{t:"bool",v:!1},strokeStyleLineDashSet:{t:"VlLs",v:[]},strokeStyleBlendMode:{t:"enum",v:{BlnM:"Nrml"}},strokeStyleOpacity:{t:"UntF",v:{type:"#Prc",val:100}},strokeStyleContent:{t:"Objc",v:JSON.parse("{\"classID\":\"solidColorLayer\","+kE.oo.JS+"}")},strokeStyleResolution:{t:"doub",v:72}},wy:function(W,q){var X=JSON.parse(kE.Cs.abS);
if(W)X.fillEnabled.v=!0;if(q)X.strokeEnabled.v=!0;return X},IZ:function(W,q,X){if(q==null)q={};if(X==null)X=1;
var k=W.strokeStyleLineDashSet.v,B=q.A4=W.strokeStyleLineWidth.v.val*X;q.Mj=W.strokeStyleMiterLimit.v;
q.ON=W.strokeStyleLineDashOffset.v.val;q.WA=kE.Cs.join.indexOf(W.strokeStyleLineJoinType.v.strokeStyleLineJoinType);
q.VT=kE.Cs.LR.indexOf(W.strokeStyleLineCapType.v.strokeStyleLineCapType);q.EE=kE.Cs.vi.indexOf(W.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
q.Vt=[];for(var N=0;N<k.length;N++)q.Vt.push(k[N].v.val*B);if(q.Vt.length==1&&q.Vt[0]==0)q.Vt=[];return q},write:function(W,q,X){if(X==null)X=1;
var k=q.A4,B=q.Mj,U=q.Vt,l=q.ON,K=q.WA,D=q.VT,m=q.EE;if(k!=null)k=W.strokeStyleLineWidth.v.val=Math.max(.4,k*X);
else k=W.strokeStyleLineWidth.v.val;if(m!=null)W.strokeStyleLineAlignment.v.strokeStyleLineAlignment=kE.Cs.vi[m];
if(B!=null)W.strokeStyleMiterLimit.v=B;if(U!=null)W.strokeStyleLineDashSet.v=dx.uD(U,X/k);if(l!=null)W.strokeStyleLineDashOffset.v.val=l;
if(K!=null)W.strokeStyleLineJoinType.v.strokeStyleLineJoinType=kE.Cs.join[K];if(D!=null)W.strokeStyleLineCapType.v.strokeStyleLineCapType=kE.Cs.LR[D]}};
kE.Cs.abS=JSON.stringify(kE.Cs.default);kE.Hr={wy:function(){return{jg:[1,1,1],rD:[0,0,0],A4:1,Mj:10,Vt:[],ON:0,WA:0,VT:0,EE:1}},a5D:function(W){var q=gZ.yM(W.StrokeColor),X=kE.Hr.wy();
X.EE=W.FillFirst?1:2;var k=W._LineCap,B=W._LineJoin,U=W._MiterLimit,l=W._LineDashOffset,K=W._LineDashArray,D=W.OutlineWidth;
if(k)X.VT=k;if(B)X.WA=B;if(U)X.Mj=U;if(K)X.Vt=K;if(D!=null)X.A4=D;X.rD=[q.o/255,q.L/255,q.X/255];return X},aqB:function(W,q){q.FillFirst=W.EE==1;
q._LineCap=W.VT;q._LineJoin=W.WA;q._MiterLimit=W.Mj;q._LineDashArray=W.Vt}};kE.fM=function(W){var q=W.strokeEnabled.v,X=W.strokeStyleContent.v;
return q?{O5:1+kE.Cs.Y_.indexOf(X.classID),bE:X}:{O5:0}};kE.pi=function(W,q){var X=q.O5;W.strokeEnabled.v=X!=0;
if(X!=0){W.strokeStyleContent.v=q.bE;q.bE.classID=kE.Cs.Y_[X-1]}};kE.yB=function(W){var q=W.vstk,X=null;
if(q&&!q.fillEnabled.v)X={O5:0};else if(W.SoCo)X={O5:1,bE:W.SoCo};else if(W.GdFl)X={O5:2,bE:W.GdFl};
else if(W.PtFl)X={O5:3,bE:W.PtFl};return X};kE.gD=function(W,q){var X=W.vmsk,k=W.vstk,B=q.O5;if(k)k.fillEnabled.v=B!=0;
if(B>0){var U=["SoCo","GdFl","PtFl"][B-1];for(var N=0;N<3;N++)delete W[["SoCo","GdFl","PtFl"][N]];W[U]=q.bE}};
kE.EY=[{classID:"null",Clr:JSON.parse(kE.iv[5]).Clr},{classID:"null",Grad:JSON.parse(kE.iv[6]).Grad,Dthr:{t:"bool",v:!1},Rvrs:{t:"bool",v:!1},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Type:{t:"enum",v:{GrdT:"Lnr"}},Algn:{t:"bool",v:!0},Scl:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:0}},Vrtc:{t:"UntF",v:{type:"#Prc",val:0}}}}},{classID:"null",Ptrn:JSON.parse(kE.iv[7]).Ptrn,Algn:{v:!0,t:"bool"},Scl:{v:{type:"#Prc",val:100},t:"UntF"},Angl:{v:{type:"#Ang",val:0},t:"UntF"},phase:{v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}];
var dx={};dx.aCi=function(W,q){function X(W,p){if(W==null||!W.masterFXSwitch.v)return null;var M=W[p].v,x;
if(M.length!=0){x=M[0].v;if(!x.enab.v)x=null}return x}var k=q.SoCo,B=q.GdFl,U=X(W,"solidFillMulti"),l=X(W,"gradientFillMulti");
if(U==null&&l==null)return[k,B];var K=dx.amZ;if(k&&U&&l==null){var D=g.N(k);D.Clr.v=K(U.Clr.v,k.Clr.v,U);
return[D,null]}if(B&&U&&l==null){var m=g.N(B),Y=m.Grad.v.Clrs.v;for(var N=0;N<Y.length;N++){var a=Y[N].v.Clr;
a.v=K(U.Clr.v,a.v,U)}return[null,m]}if(k&&l){var m=g.N(l),Y=m.Grad.v.Clrs.v;for(var N=0;N<Y.length;N++){var a=Y[N].v.Clr;
a.v=K(a.v,k.Clr.v,l)}return[null,m]}return[U,l]};dx.fU={Yl:g.j(4),Xa:g.j(4),o:new dU(0,0,1,1)};dx.amZ=function(W,q,X){var k=jm.U3(X.Md.v.BlnM),B=X.Opct.v.val/100,U=dx.fU;
W=g.ov.yM(W);q=g.ov.yM(q);U.Yl[0]=W.o;U.Yl[1]=W.L;U.Yl[2]=W.X;U.Yl[3]=255;U.Xa[0]=q.o;U.Xa[1]=q.L;U.Xa[2]=q.X;
U.Xa[3]=255;g.v.HX(k,U.Yl,U.o,U.Xa,U.o,U.o,B);return{classID:"RGBC",Rd:{t:"doub",v:U.Xa[0]},Grn:{t:"doub",v:U.Xa[1]},Bl:{t:"doub",v:U.Xa[2]}}};
dx.asw=function(W,q,X){var k=W;W=W.slice(0);var B=jm.eB[jm.FW.indexOf(q.Md.v.BlnM)],U=g.ov.yM(q.Clr.v),l=4278190080|Math.round(U.X)<<16|Math.round(U.L)<<8|Math.round(U.o),K=g.j(X.C()*4);
g.WD(K,l);g.v.HX(B,K,X,W,X,X,q.Opct.v.val/100);for(var N=0;N<W.length;N+=4)W[N+3]=k[N+3];return W};dx.Bs=function(W,q){var X=["Sz","blur","Sftn","Dstn"];
for(var N=0;N<kE.order.length;N++){var k=kE.order[N],B=W[kE.m1[N]].v;for(var U=0;U<B.length;U++){var l=B[U].v;
for(var K=0;K<X.length;K++){var D=l[X[K]];if(D){var m=D.v.val,Y=m;Y=Math.max(m==0?0:1,Y*q);if(k=="ChFX")Y=Math.min(Y,250);
if(k=="ebbl"){if(X[K]=="blur")Y=Math.min(Y,250);if(X[K]=="Sftn")Y=Math.min(Y,16)}D.v.val=Math.round(Y)}}if(k=="ebbl"||k=="patternFill"||k=="FrFX")if(l.Ptrn&&l.Scl)l.Scl.v.val=Math.max(1,Math.min(1e3,l.Scl.v.val*q))}}};
dx.agQ=function(W,q,X){var k=new dU(-.5,-.5,1,1);for(var N=0;N<kE.order.length;N++){var B=kE.order[N],U=W[kE.m1[N]].v;
for(var l=0;l<U.length;l++){var K=U[l].v,a;if(!K.enab.v)continue;var D=K.blur?K.blur.v.val+1:0,m=K.Ckmt?K.Ckmt.v.val/100:0,Y=Math.round(D*m);
if(B=="DrSh"||B=="IrSh"&&X){a=new dU(-.5,-.5,1,1);a.Pt(D,D);dx.bJ(a,K,q,0)}if(B=="St3D"){a=new dU(-.5,-.5,1,1);
dx.bJ(a,K,q,Math.PI,"Angl")}if(B=="OrGl"||B=="IrGl"&&X){a=new dU(-.5,-.5,1,1);a.Pt(D,D)}if(B=="FrFX"){var p=dx.Uh(K),M=p[1];
if(X)M=Math.max(p[0],M);a=new dU(-.5,-.5,1,1);a.Pt(Math.ceil(M),Math.ceil(M))}if(B=="ebbl"){var D=K.blur.v.val,x=K.bvlS.v.BESl;
if(x=="Embs"||x=="PlEb")D/=2;var R=["OtrB","InrB","Embs","PlEb","strokeEmboss"],y=["SfBL","PrBL","Slmt"],s=["In","Out"],F=K.bvlT.v.bvlT!="SfBL"?D:D*.43,E=Math.round(D);
a=new dU(-E-1,-E-1,2*E+2,2*E+2)}if(X&&B=="ChFX"){a=new dU(-.5,-.5,1,1);a.Pt(D,D);var o=a.P();dx.bJ(a,K,q,0);
dx.bJ(o,K,q,Math.PI);a=a.xw(o)}if(a)k=k.xw(a)}}if(k.x!=Math.ceil(k.x)){k.x=Math.ceil(k.x);k.r-=1}if(k.y!=Math.ceil(k.y)){k.y=Math.ceil(k.y);
k.$-=1}k.r=Math.floor(k.r);k.$=Math.floor(k.$);return k};dx.Uh=function(W){var q,X,k=0,B=0;if(W.Sz){q=W.Sz.v.val;
X=kE.stroke.types.indexOf(W.Styl.v.FStl)}else{q=W.Wdth.v;X=["Insd","Cntr","Otsd"].indexOf(W.Lctn.v.StrL)}if(X==0)k=q;
if(X==1)k=B=q/2;if(X==2)B=q;return[k,B]};dx.a3L=function(W,q){if(dd.gP&&W.c4==null){var X=W.kl,k=X instanceof Array;
if(k){W.c4=[W.kl[0],new dd.i2(W.Ft.r,W.Ft.$,q)];W.c4[1].set(W.kl[1]);delete W.kl}else{W.c4=new dd.rV(W.Ft.r,W.Ft.$,q);
W.c4.set(W.kl);delete W.kl}if(W.PC){W.Bu=new dd.i2(W.Ft.r,W.Ft.$,q);W.Bu.set(W.PC);delete W.PC}if(W.lW){W.pk=new dd.i2(W.Ft.r,W.Ft.$,q);
W.pk.set(W.lW);delete W.lW}}};dx.aG1=function(W){if(W.c4)W.c4 instanceof Array?W.c4[1].delete():W.c4.delete();
if(W.Bu)W.Bu.delete();if(W.pk)W.pk.delete()};dx.a5C=function(W){if(W.all==null)return;for(var N=0;N<W.all.length;
N++){dx.aG1(W.all[N])}};dx.aKy=function(W){var q=W.all;for(var N=0;N<q.length;N++){var X=q[N];if(X.kl instanceof Array){var k=X.kl[1],B=g.j(k.length*4,g.Oj(k));
new Uint32Array(B.buffer).fill(new Uint32Array(X.kl[0].buffer)[0]);g.fP(k,B,3);X.kl=B}}};dx.ar3=function(W,q,X,k,B,U){W=g.Cn(W,8);
var l=dx.rX(X,k,W,q,B,U),K=B.depth;for(var N=0;N<l.all.length;N++){var D=l.all[N];if(D.kl instanceof Array)D.kl=[g.Cn(D.kl[0],K),g.Cn(D.kl[1],K)];
else D.kl=g.Cn(D.kl,K);if(D.PC)D.PC=g.Cn(D.PC,K);if(D.lW)D.lW=g.Cn(D.lW,K);dx.a3L(D,K)}return l};dx.ahl=function(W){for(var N=0;
N<kE.order.length;N++){var q=kE.order[N],X=kE.m1[N],k=W[X].v;for(var B=0;B<k.length;B++){var U=k[B].v;
if(U.enab.v&&["patternFill","GrFl","SoFi"].indexOf(q)==-1)return!0}}return!1};dx.rX=function(W,q,X,k,B,U){if(U==null)U=k;
var l=0,K=0;for(var N=0;N<kE.order.length;N++){var D=kE.order[N],m=kE.m1[N],Y=W[m].v;for(var a=0;a<Y.length;
a++){var p=Y[a].v;if(D=="DrSh"&&p.enab.v&&p.Ckmt.v.val>0&&p.blur.v.val>0)l=Math.max(l,Math.ceil(p.Ckmt.v.val*p.blur.v.val/100));
if(D=="OrGl"&&p.enab.v&&p.Ckmt.v.val>0&&p.blur.v.val>0&&p.GlwT.v.BETE=="SfBL")l=Math.max(l,Math.ceil(p.Ckmt.v.val*p.blur.v.val/100));
if(D=="OrGl"&&p.enab.v&&p.blur.v.val>0&&p.GlwT.v.BETE=="PrBL")l=Math.max(l,p.blur.v.val);if(D=="FrFX"&&p.enab.v&&p.Sz.v.val>0){if(p.Styl.v.FStl=="OutF")l=Math.max(l,p.Sz.v.val);
if(p.Styl.v.FStl=="CtrF")l=Math.max(l,Math.ceil(p.Sz.v.val/2));K=Math.max(K,dx.Uh(p)[1])}}}var M=new dx.zT(X,k,l,dx.ahl(W)),x=-k.x,R=-k.y,y={I:{},all:[]};
for(var s=0;s<kE.order.length;s++){var D=kE.order[s],m=kE.m1[s];y.I[D]=[];for(var F=W[m].v.length-1;
F>=0;F--){var E=W[m].v[F].v,u;if(!E.enab.v)continue;var o=E.blur?E.blur.v.val:0,G=E.Ckmt?E.Ckmt.v.val/100:0,d=o*G;
if(D=="St3D"){var r=Math.max(1e-4,1-E.Srnk.v.val/100),H=2,fF=0;function v(c,bQ,E){var cv=E.Angl.v.val;
cv*=Math.PI/180;var h=E.Dstn.v.val,aH=Math.cos(cv)*h,dk=-Math.sin(cv)*h,lj=r+bQ*(1-r),df=new ka;df.translate(-c.r/2,-c.$/2);
df.scale(lj,lj);df.translate(c.r/2,c.$/2);df.translate((1-bQ)*aH,(1-bQ)*dk);return df}var c=k.P(),V=X;
c.x=c.y=0;var j=Date.now(),Q=c.P();Q.Pt(H,H);var T=g.j(Q.C());g.Z_(V,c,T,Q);Q.x=Q.y=0;g.Zt.Yd(T,Q,2);
var e=g.j(Q.C()*4);e.fill(255);g.LO(T,e);var z=g.j(c.C()),J=c.r,P=c.$,L=Q.r,A=dx.aBN(E,B),h=Math.cos(A[1]),C=-Math.cos(A[0])*h,w=Math.sin(A[0])*h;
if(Math.abs(C)<.001&&Math.abs(w)<.001)C=w=0;for(var f=0;f<P;f++)for(var O=0;O<J;O++){var N=(f+H)*L+O+H,n=T[N+1]-T[N-1],$=T[N+L]-T[N-L],d9=n*n+$*$;
if(d9>10){var i=1/Math.sqrt(d9);z[f*J+O]=Math.max(0,Math.min(255,128+127*(C*i*n+w*i*$)))}}var dF=[V,c],t=v(c,0,E),im=g.b.Lw(c).n,bc=im.slice(0);
g.b.M(im,t,bc);var at=c.xw(g.b.DS(bc)),l9=g.j(at.C()*4);for(var N=0;N<8;N+=2){var n=im[N]-bc[N],$=im[N+1]-bc[N+1];
fF=Math.max(fF,Math.sqrt(n*n+$*$))}var g$=Math.round(fF/2),fR=g.ov.yM(E.Clr.v);fR.o/=255;fR.L/=255;fR.X/=255;
var cr=E.Drkn.v.val/100;for(var eE=0;eE<g$;eE++){var bQ=eE/g$,hT=1-cr+bQ*cr,df=v(c,bQ,E),eV=c.P(),gU=V;
if(r!=1){var i8=_.Gz.yt(dF,df);eV=i8.S;gU=i8.c}else{var bv=df.Bb(new hw(0,0));eV.x+=Math.round(bv.x);
eV.y+=Math.round(bv.y)}var fE=g.j(eV.C()*4);if(C!=0||w!=0){var d5=eV.r,aR=eV.$,l8=fR.o,au=fR.L,hx=fR.X,fw=df.P();
fw.i5();var cx=fw.Bb(new hw(.5,.5)),fg=fw.Bb(new hw(1.5,1.5)),n=fg.x-cx.x,$=fg.y-cx.y;for(var f=0;f<aR;
f++){for(var O=0;O<d5;O++){var N=f*d5+O,iI=N*4,eq=Math.max(0,Math.min(J-1,~~(.5+n*O))),fS=Math.max(0,Math.min(P-1,~~(.5+$*f))),f1=z[fS*J+eq],c4=-1+2*f1*(1/255),ea=-c4,ie=0;
if(c4>0){ea=0;ie=c4}fE[iI]=255*(1-ea)*(ie+(1-ie)*l8)*hT;fE[iI+1]=255*(1-ea)*(ie+(1-ie)*au)*hT;fE[iI+2]=255*(1-ea)*(ie+(1-ie)*hx)*hT}}}else dx.Yp(fE,E.Clr.v,hT);
g.fP(gU,fE,3);g.v.HX("norm",fE,eV,l9,at,eV,1)}u={kl:l9,Ft:at}}else if(D=="DrSh"){var i$=M.Wo(d,o-d,!0),cI=i$.JP,cD=i$.OM.P();
dx.gO(cI,E,!1);if(E.Cntn&&E.Cntn.v){var fG=new dU;dx.bJ(fG,E,B,0);var cH=cD.P();cH.offset(-fG.x,-fG.y);
cH=cH.xw(cD);var hL=g.j(cH.C());g.Z_(cI,cD,hL,cH);var ee=Math.sqrt(fG.x*fG.x+fG.y*fG.y),aj=cI.slice(0);
for(var N=0;N<ee-1;N++){var n=Math.round(-fG.x*N/ee),$=Math.round(-fG.y*N/ee),iA=i$.OM.P();iA.offset(n,$);
g.ahr(aj,iA,hL,cH)}cI=hL;cD=cH}cD.offset(x,R);dx.bJ(cD,E,B,0);var l9=g.j(4);dx.Yp(l9,E.Clr.v);u={kl:[l9,cI],Ft:cD,aup:E.layerConceals.v}}else if(D=="IrSh"){var i$=M.Wo(d,o-d,!1);
dx.bJ(i$.OM,E,B,0);var cD=M.S().P(),cI=g.j(cD.C());cI.fill(255);g.Z_(i$.JP,i$.OM,cI,cD);dx.gO(cI,E,!0,!0);
var l9=g.j(4);dx.Yp(l9,E.Clr.v);cD.offset(x,R);u={kl:[l9,cI],Ft:cD}}else if(D=="GrFl"){var l9=g.j(M.S().C()*4);
dx.Qb(E,l9,M.S(),B,null,U);var cD=M.S().P();cD.offset(x,R);u={kl:l9,Ft:cD}}else if(D=="SoFi"){var l9=g.j(4);
dx.Yp(l9,E.Clr.v);var eL=g.j(M.JP().length);eL.fill(255);var cD=M.S().P();cD.offset(x,R);u={kl:[l9,eL],Ft:cD}}else if(D=="ebbl"){var hZ=!1;
if(hZ)console.log(E);var j=Date.now(),bZ=j,k_=E.bvlS.v.BESl,kW=E.bvlT.v.bvlT;if(k_=="strokeEmboss"){var iU=W.frameFXMulti.v;
if(iU.length==0)continue;iU=iU[0].v;if(!iU.enab.v)continue;var kO=iU.Styl.v.FStl;if(kO=="OutF")k_="OtrB";
if(kO=="CtrF")k_="Embs";if(kO=="InsF")k_="InrB"}var o=E.blur.v.val;if(o==0)o=.7;if(k_=="Embs"||k_=="PlEb")o/=2;
var hq=["OtrB","InrB","Embs","PlEb","strokeEmboss"],e8=["SfBL","PrBL","Slmt"],gi=["In","Out"],jZ=kW!="SfBL"?o:o*.45,cg=Math.round(o),hn=M.S().P(),bF=hn.P();
bF.Pt(cg,cg);var J=bF.r,P=bF.$,gf=J*P,eH=g.j(gf);g.Z_(M.JP(),hn,eH,bF);var h5=g.style.j6(eH,J,P);g.i5(eH);
var gS=g.style.j6(eH,J,P);if(hZ)console.log("distTransform computed",Date.now()-j);j=Date.now();dx.aGj(jZ,h5,gS);
if(hZ)console.log("summing + cropping",Date.now()-j);j=Date.now();if(kW=="SfBL"){var hP=Math.pow(o*.21,1.22);
if(!0)hP=Math.max(hP,2);g.Zt.Yd(gS,bF,hP,2)}if(hZ)console.log("blurring",Date.now()-j);j=Date.now();
var iy=gS,cs=h5;cs.set(iy);if(E.useShape.v){var fH=Math.min(100,E.Inpr.v.val+1)/100;if(k_!="OtrB"&&k_!="InrB")fH=1;
var fM=g.yz.wx(E.MpgS.v.Crv.v,2e3),az=Math.round(2e3/fH);fM=g.yz.aGV(fM,az,k_=="InrB");var er=.5/jZ;
for(var N=0;N<gf;N++){var aJ=iy[N],kS=.99999*(aJ+jZ)*er;iy[N]=-jZ+2*jZ*fM[~~(kS*(az-1))]}if(hZ)console.log("applying shape",Date.now()-j);
j=Date.now()}if(E.useTexture.v){var fE=g.j(J*P*4);dx.qh(E,fE,bF,B.add.Patt,q);var ge=g.j(J*P);g.Iv(fE,ge);
g.Zt.Aq(ge,bF,1);var aT=o*E.textureDepth.v.val*(1/100)*(1/255);if(E.InvT.v)aT=-aT;for(var N=0;N<gf;N++)iy[N]+=-aT*ge[N];
if(hZ)console.log("applying texture",Date.now()-j);j=Date.now()}var fQ=k_=="PlEb",j6=new Float32Array(gf),et=j6;
if(fQ){et=new Float32Array(gf)}var d2=dx.azZ(J,P,E,B,iy,j6,et,fQ);if(hZ)console.log("raycasting",Date.now()-j);
j=Date.now();if(E.Sftn.v.val!=0){g.Zt.Yd(j6,bF,E.Sftn.v.val*.43,2);if(fQ)g.Zt.Yd(et,bF,E.Sftn.v.val*.43,2)}if(hZ)console.log("softening",Date.now()-j);
j=Date.now();var kx=new Uint8Array(j6.buffer),c2=new Uint32Array(kx.buffer),ke=new Uint8Array(iy.buffer),dv=new Uint32Array(ke.buffer),fN=kx,b_=ke,hJ=c2,dP=dv;
if(fQ){fN=new Uint8Array(et.buffer);hJ=new Uint32Array(fN.buffer);b_=new Uint8Array(cs.buffer);dP=new Uint32Array(b_.buffer)}dx.auw(E,J,P,d2,jZ,fQ,cs,c2,dv,hJ,dP,j6,et);
if(hZ)console.log("baking textures",Date.now()-j);j=Date.now();bF=M.S().P();bF.Pt(cg,cg);bF.offset(x,R);
u={aFb:E.bvlS.v.BESl=="strokeEmboss"};var cf=jm.U3(E.hglM.v.BlnM),ig=E.hglO.v.val/100,b8=jm.U3(E.sdwM.v.BlnM),hE=E.sdwO.v.val/100,is=dx.ay4;
if(["InrB","Embs","PlEb"].indexOf(k_)!=-1){u.tv={kl:is(kx),Ft:bF,Dz:cf,zi:ig};u.ir={kl:is(ke),Ft:bF,Dz:b8,zi:hE}}if(["OtrB","Embs","PlEb"].indexOf(k_)!=-1){u.Yg={kl:is(fN),Ft:bF,Dz:cf,zi:ig};
u.g4={kl:is(b_),Ft:bF,Dz:b8,zi:hE}}if(hZ)console.log(Date.now()-bZ)}else if(D=="patternFill"){var e2=M.S(),l9=g.j(e2.C()*4);
dx.qh(E,l9,e2,B.add.Patt,q);var cD=e2.P();cD.offset(x,R);u={kl:l9,Ft:cD}}else if(D=="ChFX"){var j=Date.now(),hh=16,o=E.blur.v.val,e3=M.S().P();
e3.Pt(o,o);var gy=g.j(e3.C(),hh),fR=g.Cn(M.JP(),hh);g.Z_(fR,M.S(),gy,e3);g.Zt.Yd(gy,e3,o*.43);var hy=g.yz.CR(E.MpgS.v.Crv.v,1<<hh,!0,hh);
for(var N=0;N<gy.length;N++)gy[N]=hy[gy[N]];var l8=M.S(),iV=e3.P(),fL=e3.P();dx.bJ(iV,E,B,0);dx.bJ(fL,E,B,Math.PI);
fR.fill(0);g.Z_(gy,fL,fR,l8);var ct=l8.x$(iV),J=ct.r;for(var f=0;f<ct.$;f++){var cx=(f+ct.y-l8.y)*l8.r+ct.x-l8.x,fg=(f+ct.y-iV.y)*iV.r+ct.x-iV.x;
for(var O=0;O<J;O++)fR[cx+O]=Math.abs(fR[cx+O]-gy[fg+O])}if(E.Invr.v)g.i5(fR);var gE=M.JP().length*4,l9=g.j(4);
dx.Yp(l9,E.Clr.v);var cD=M.S().P();cD.offset(x,R);u={kl:[l9.slice(0,4),g.Cn(fR,8)],Ft:cD}}else if(D=="OrGl"){var i$,gz=dx.azR(E),l9=null;
if(E.GlwT.v.BETE=="SfBL"){i$=M.Wo(d,o-d,!0);dx.aeQ(i$.JP,gz)}else i$=M.akU(o,G,!0,gz);var cI=i$.JP,cD=i$.OM,ij=cI.slice(0);
if(E.Grad==null){dx.gO(cI,E,!1);var fE=g.j(4);dx.Yp(fE,E.Clr.v);l9=[fE,cI]}else{dx.Lc(cI,E);var d$={Dk:cI,PT:255,OF:0,Qg:cD};
l9=g.j(cD.C()*4);dx.Qb(E,l9,cD,B,d$);var jr=cD.r;for(var N=0;N<ij.length;N++){var f9=255,gl=ij[N];if(gl<32){var i7=(gl+ij[N-1]+ij[N+1]+ij[N-jr]+ij[N+jr])*.2-1;
f9=Math.min(255,Math.round(Math.max(0,i7)*8))}cI[N]=f9}dx.ZV(cI,E,!1);g.fP(cI,l9,3)}cD.offset(x,R);u={kl:l9,Ft:cD}}else if(D=="IrGl"){var i$,gz=dx.azR(E),l9=null;
if(E.GlwT.v.BETE=="SfBL"){i$=M.Wo(d,o-d,!1);dx.aeQ(i$.JP,gz)}else i$=M.akU(o,G,!1,gz);var cI=i$.JP,cD=i$.OM;
if(E.glwS.v.IGSr=="SrcC")g.i5(cI);if(E.Grad==null){dx.gO(cI,E,!0);var fE=g.j(4);dx.Yp(fE,E.Clr.v);l9=[fE,cI]}else{dx.Lc(cI,E);
var d$={Dk:cI,PT:255,OF:0,Qg:cD};l9=g.j(cD.C()*4);dx.Qb(E,l9,cD,B,d$);cI.fill(255);dx.ZV(cI,E,!1);g.fP(cI,l9,3)}cD.offset(x,R);
u={kl:l9,Ft:cD}}else if(D=="FrFX"){var gq=dx.Uh(E),hV=gq[0],f_=gq[1],cD=M.S().P(),du=null,f7=null,l9=null;
cD.Pt(Math.ceil(K),Math.ceil(K));if(f_>0){var i$=M.Wo(f_,0,!0);f7=i$.JP;if(f7.length<cD.C()){f7=g.j(cD.C());
g.Z_(i$.JP,i$.OM,f7,cD)}}if(hV>0){var i$=M.Wo(hV,0,!1);du=g.j(cD.C());du.fill(255);g.Z_(i$.JP,i$.OM,du,cD)}cD.offset(x,R);
var gF=E.PntT.v.FrFl;if(gF=="SClr"){var fE=g.j(4),gY=g.j(cD.C());dx.Yp(fE,E.Clr.v);gY.fill(255);l9=[fE,gY]}else{l9=g.j(cD.C()*4);
if(gF=="GrFl")dx.Qb(E,l9,cD,B,M.aHB(hV,f_));if(gF=="Ptrn")dx.qh(E,l9,cD,B.add.Patt,q)}var eD=E.overprint,gR=eD?eD.v:!1;
if(gR){var eL=du?du:f7;if(du&&f7)g.Gg.x$(du,f7,eL);if(l9 instanceof Array)l9[1].set(eL);else g.fP(eL,l9,3)}u={kl:l9,Ft:cD,lW:f7,PC:du,ajV:gR}}y.I[D].push(u);
if(D=="ebbl"){if(u.tv)y.all.push(u.tv,u.ir);if(u.Yg)y.all.push(u.Yg,u.g4)}else{u.Dz=jm.U3(E.Md.v.BlnM);
u.zi=E.Opct.v.val/100,y.all.push(u)}}}return y};dx.t$=function(W){var q=1/Math.sqrt(W.x*W.x+W.y*W.y+W.Qr*W.Qr);
W.x*=q;W.y*=q;W.Qr*=q};dx.aqL=function(W,q){return{x:W.y*q.Qr-W.Qr*q.y,y:W.Qr*q.x-W.x*q.Qr,Qr:W.x*q.y-W.y*q.x}};
dx.a75=function(W,q){return W.x*q.x+W.y*q.y+W.Qr*q.Qr};dx.aGj=function(W,q,X){var k=q.length;for(var N=0;
N<k;N++){var B=X[N]-q[N];X[N]=B}for(var N=0;N<k;N++){var B=X[N];if(B<-W)X[N]=-W;else if(B>W)X[N]=W}};
dx.ay4=function(W){var q=g.j(W.length,g.Oj(W));g.u6(W,q,3);return[W.slice(0,4),q]};dx.azZ=function(W,q,X,k,B,U,l,K){var D=dx.aBN(X,k),m=D[0],Y=D[1],a=Math.cos(m)*Math.cos(Y),p=-Math.sin(m)*Math.cos(Y),M=Math.sin(Y);
U.fill(M);if(K)l.fill(M);var x=(X.bvlT.v.bvlT=="SfBL"?1:.5)*(X.bvlD.v.BESs=="In"?1:-1)*X.srgR.v.val/100,R=-.125*x;
for(var y=0;y<q;y++){var s=y==0?0:-W,F=y==q-1?0:W,N=y*W;for(var E=0;E<W;E++,N++){var o=E==0?N:N-1,G=E==W-1?N:N+1,d=B[G]-B[o],u=B[N+F]-B[N+s];
if(d*d+u*u<.005)continue;var r=B[o+s],v=B[G+s],c=B[o+F],V=B[G+F],j=R*(v+2*d+V-r-c),Q=R*(c+2*u+V-r-v),H=1/Math.sqrt(j*j+Q*Q+1);
j*=H;Q*=H;U[N]=Math.max(0,j*a+Q*p+H*M);if(K)l[N]=Math.max(0,-j*a-Q*p+H*M)}}return M};dx.auw=function(W,q,X,k,B,U,l,K,D,m,Y,a,p){var M=1/k,x=1/(1-k),R=1/B,y=g.yz.wx(W.TrnS.v.Crv.v,1024),s=dx.ob(W.hglC.v,0),F=dx.ob(W.sdwC.v,0),E=new Float32Array(2500);
for(var N=0;N<2500;N++){var o=Math.max(0,Math.min(1,(N-500)*.001));E[N]=Math.pow(o,.2)}var G=new Float32Array(1024),d=new Float32Array(1024);
for(var N=0;N<1024;N++){var u=y[N];G[N]=255*(1-Math.min(1,u*M));d[N]=255*(1-Math.min(1,(1-u)*x))}for(var r=0;
r<X;r++)for(var o=0;o<q;o++){var N=r*q+o,v=(l[N]+B*.993)*R,c=E[~~(500+v*1e3)],V=~~(a[N]*1023),j=c*G[V],Q=c*d[V];
D[N]=~~(.5+j)<<24|F;K[N]=~~(.5+Q)<<24|s;if(U){V=~~(p[N]*1023);j=c*G[V];Q=c*d[V];Y[N]=~~(.5+j)<<24|F;
m[N]=~~(.5+Q)<<24|s}}};dx.K5=function(W){var q=dx.$V(),X=W.EU,k=!1;for(var N=0;N<32;N+=8)if(X[N]+X[N+1]+X[N+4]+X[N+5]!=0||X[N+2]+X[N+3]+X[N+6]+X[N+7]!=1020)k=!0;
if(k){X=X.slice(0);for(var N=0;N<40;N+=4){var B=X[N]/255,U=X[N+1]/255,l=X[N+2]/255,K=X[N+3]/255;X[N]=B-.001;
X[N+1]=B==U?1e6:1/(U-B);X[N+2]=l==K?-1e6:1/(l-K);X[N+3]=K+.001}}var D=W.add.iOpa!=null?W.add.iOpa/255:q.fill,m=W.add.vstk;
if(m&&!m.fillEnabled.v&&(!m.strokeEnabled.v||m.strokeStyleLineWidth.v.val==0))D=0;return{fill:D,cu:k?X:null,VN:W.add.brst!=null?W.add.brst:q.VN,a4l:W.add.knko!=null?W.add.knko:q.a4l,style:!1,TP:!1}};
dx.$V=function(){return{fill:1,cu:null,VN:[1,1,1],a4l:0,style:!1,TP:!1}};dx.a18=function(W,q,X,k,B,U,l,K){if(K==null)K=1;
if(l==null)l=new ka;var D=W.CH[1].r,m=W.CH[1].$,Y=new ka,a=B<2;if(a)Y.translate(-D/2,-m/2);if(B==0){K*=Math.max(X/D,k/m)}else if(B==1){K*=Math.min(X/D,k/m)}else if(B==2){Y.scale(1/D,1/m);
Y.concat(l);Y.scale(X,k)}else if(B==3){K=K}Y.scale(K,K);if(a)Y.translate(X/2,k/2);Y.concat(U);q.Ptrn.v.Idnt.v=W.id;
q.Scl.v.val=Math.round(100*Y.Lr());q.Angl.v.val=Math.round(180*Math.atan2(-Y.X,Y.iM)/Math.PI);q.Algn.v=!0;
var p=q.phase.v;p.Hrzn.v=Math.round(Y.Wy);p.Vrtc.v=Math.round(Y.rY)};dx.yN=function(W,q){if(q==null)return null;
var X=W.Idnt.v,k=W.Nm.v;for(var N=0;N<q.length;N++)if(q[N].id==X)return q[N];for(var N=0;N<q.length;
N++)if(q[N].name==k)return q[N];return null};dx.a1k=function(W,q,X){var k=["patternFillMulti","ebblMulti","frameFXMulti"];
for(var N=0;N<k.length;N++){var B=W.v[k[N]].v;for(var U=0;U<B.length;U++)if(B[U].v.Ptrn)q.cB(dx.yN(B[U].v.Ptrn.v,X))}};
dx.ajA=function(W,q,X){var k=["patternFillMulti","ebblMulti","frameFXMulti"];for(var N=0;N<k.length;
N++){var B=W.v[k[N]].v;for(var U=0;U<B.length;U++)if(B[U].v.Ptrn){var l=B[U].v.Ptrn.v,K=dx.yN(l,X),D=dx.yN(l,q.add.Patt);
if(K==null&&D)X.push(D)}}};dx.qh=function(W,q,X,k,B){if(W.Ptrn==null)return;var U=dx.yN(W.Ptrn.v,k);
if(U!=null&&!X.PM()){var l=U.CH,K=l[0],D=l[1],m=0;g.z0(l);var Y=(W.Scl?W.Scl.v.val:100)/100;while((Y<.3||Y==.5)&&l[m+2]){Y*=D.r/l[m+3].r;
m+=2;K=l[m];D=l[m+1]}var a=g.scale.qh(K,D.r,D.$),p=W.phase?W.phase.v:{Hrzn:{v:0},Vrtc:{v:0}},M=W.Angl?W.Angl.v.val:0,x=-X.x+p.Hrzn.v-1,R=-X.y+p.Vrtc.v-1;
if(W.Algn!=null&&!W.Algn.v){}else if(B){x+=B.x;R+=B.y}if(q)g.scale.auZ(a,q,X.r,X.$,Y,Y,x+1,R+1,M*Math.PI/180);
else return[a,Y,x+1,R+1,M*Math.PI/180]}};dx.Qb=function(W,q,X,k,B,U,l,K){if(U==null)U=X;var D=W.Type?W.Type.v.GrdT:"shapeburst",m=W.Algn&&W.Algn.v?U:new dU(0,0,k.r,k.$),Y=W.Angl?g.ov.adM(W,m):[new hw(0,0),new hw(100,0)],a=Y[0].x,p=Y[0].y,M=Y[1].x-a,x=Y[1].y-p,R=Math.sqrt(M*M+x*x);
R=1/(2*R*R);var y=[M*R,x*R,-x*R,M*R],s=W.Rvrs?W.Rvrs.v:!1,F=W.Dthr?W.Dthr.v:!1;g.ov.TI(W.Grad.v,q,X,y,a,p,s,kE.ov.types.indexOf(D),l==null?0:l,K==null?0:K,B,F)};
dx.aAm=function(W,q,X){for(var N=0;N<W.all.length;N++){var k=W.all[N];k.Xl=k.Ft.P();k.Xl.offset(q,X)}};
dx.aep=function(W,q,X,k,B,U){var l=dd.gP?dx.aaF:dx.aw7;dx.aAm(q,X.x,X.y);var K=q.I.DrSh;for(var N=0;
N<K.length;N++)if(!K[N].aup)l(K[N],k,B,U)};dx.atk=function(W,q,X,k,B,U,l,K,D,m,Y,a){var p=dd.gP?dx.aaF:dx.aw7,M=dd.gP?dd.v.G3:g.v.lE,x;
x=q.I.DrSh;for(var N=0;N<x.length;N++)if(x[N].aup)p(x[N],k,B,U);x=q.I.St3D;for(var N=0;N<x.length;N++)p(x[N],k,B,U);
x=q.I.OrGl;for(var N=0;N<x.length;N++)p(x[N],k,B,U);var R="patternFill GrFl SoFi ChFX IrGl IrSh".split(" ");
for(var y=0;y<R.length;y++){var x=q.I[R[y]];for(var N=0;N<x.length;N++)p(x[N],l,K,U)}var s=q.I.ebbl[0],F=s!=null&&s.aFb;
x=q.I.FrFX;for(var N=0;N<x.length;N++){var E=x[N];kF.QI.Z_(D,m,Y,a,U);p(E,Y,a,U);if(F&&N==x.length-1){if(s.g4)p(s.g4,Y,a,U);
if(s.Yg)p(s.Yg,Y,a,U);if(s.ir)p(s.ir,Y,a,U);if(s.tv)p(s.tv,Y,a,U)}if(E.ajV){if(E.PC||E.Bu){p(E,l,K,U)}if(E.lW||E.pk){p(E,k,B,U)}}else{if(E.PC||E.Bu)M(Y,a,l,K,dd.gP?E.Bu:E.PC,E.Xl,0,U,1);
if(E.lW||E.pk)M(Y,a,k,B,dd.gP?E.pk:E.lW,E.Xl,0,U,1)}}if(!F&&s!=null){if(s.g4)p(s.g4,k,B,U);if(s.Yg)p(s.Yg,k,B,U);
if(s.ir)p(s.ir,l,K,U);if(s.tv)p(s.tv,l,K,U)}};dx.aw7=function(W,q,X,k){var B=dx.$V();B.fill=W.zi;B.style=!0;
g.v.HX(W.Dz,W.kl,W.Xl,q,X,k,1,B)};dx.aaF=function(W,q,X,k){var B=dx.$V();B.fill=W.zi;B.style=!0;dd.v.a3l(W.Dz,W.c4,W.Xl,q,X,k,1,B)};
dx.azR=function(W){var q=1-W.Inpr.v.val/100;return 1+Math.tan(q*(Math.PI/2))};dx.aeQ=function(W,q){for(var N=0;
N<W.length;N++)W[N]=Math.min(255,Math.round(W[N]*q))};dx.Lc=function(W,q,X){var k=q.blur.v.val,B=Math.round(k*(q.Ckmt.v.val/100));
if(k>B){var U=g.yz.CR(q.TrnS.v.Crv.v,256,X!=!0);g.a6V(W,U)}};dx.ZV=function(W,q,X){var k=q.Nose.v.val;
if(k>0){var k=q.Nose.v.val/100,B=W;if(X)for(var N=0;N<B.length;N++){var U=B[N];if(U>0)B[N]=Math.max(0,Math.min(255,U+k*2*(dx.An(N)-128)))}else for(var N=0;
N<B.length;N++){var U=B[N];if(U>0)B[N]=Math.max(0,Math.min(255,U+Math.min(U*3,k*2*(dx.An(N)-128))))}}};
dx.gO=function(W,q,X,k){dx.Lc(W,q,k);dx.ZV(W,q,X)};dx.aaR=function(W,q){var X=q.ShdN.v.val/100;if(X>0)for(var N=0;
N<W.length;N++){var k=W[N];k=Math.min(510-(1+X)*dx.An(N),k);W[N]=k}};dx.An=function(W){W=W^61^W>>16;
W=W+(W<<3);W=W^W>>4;W=W*668265261;W=W^W>>15;return W&255};dx.ob=function(W,q,X){var k=g.ov.yM(W);if(X!=null){k.o=Math.round(k.o*X);
k.L=Math.round(k.L*X);k.X=Math.round(k.X*X)}return q<<24|k.X<<16|k.L<<8|k.o};dx.Yp=function(W,q,X){var k=g.Oj(W);
if(k==8)new Uint32Array(W.buffer).fill(dx.ob(q,255,X));else{var B=g.ov.yM(q),U=(X==null?1:X)/255;g.t3(W,B.o*U,B.L*U,B.X*U);
g._5(W,1)}};dx.bJ=function(W,q,X,k,B){var U=q.uglg&&q.uglg.v?X.Fi():q[B?B:"lagl"].v.val;U=U*Math.PI/180+k;
var l=Math.cos(U)*q.Dstn.v.val,K=Math.sin(U)*q.Dstn.v.val;W.x-=Math.round(l);W.y+=Math.round(K)};dx.aBN=function(W,q){var X=W.uglg&&W.uglg.v?q.Fi():W.lagl.v.val;
X=X*(Math.PI/180);var k=W.uglg&&W.uglg.v?q.lK():W.Lald.v.val;k=k*(Math.PI/180);return[X,k]};dx.as9=function(W){if(W==null||!W.masterFXSwitch.v)return null;
var q=W.frameFXMulti.v,X=null;for(var N=0;N<q.length;N++)if(q[N].v.enab.v)X=q[N].v;if(X==null)return null;
var k=kE.Cs.wy();dx.a88(X,k);return k};dx.a88=function(W,q){var X=kE.stroke.$F.indexOf(W.PntT.v.FrFl),k=[kE.nV,kE.N2,kE.W0][X],B=q.strokeStyleContent.v={classID:kE.Cs.Y_[X]};
for(var N=0;N<k.length;N++)B[k[N]]=W[k[N]];q.strokeEnabled=W.enab;q.strokeStyleLineWidth=W.Sz;q.strokeStyleLineAlignment.v.strokeStyleLineAlignment=kE.Cs.vi[kE.stroke.types.indexOf(W.Styl.v.FStl)];
q.strokeStyleOpacity=W.Opct;q.strokeStyleBlendMode=W.Md;q.strokeStyleLineJoinType.v.strokeStyleLineJoinType="strokeStyleRoundJoin"};
dx.uD=function(W,q){var X=[];for(var N=0;N<W.length;N++)X.push({t:"UntF",v:{type:"#Nne",val:W[N]*q}});
return X};dx.anQ=function(W,q){var X=W.zO/255*(W.add.iOpa?W.add.iOpa/255:1),k=W.add.TySh,B=W.S3()||W.Nj()&&W.add.vmsk&&W.add.vstk.fillEnabled.v&&W.add.vstk.strokeEnabled.v;
if(k){var U=k.FZ.EngineDict.StyleRun.RunArray,l=U[0].StyleSheet.StyleSheetData,K=0;if(l.FillFlag)K++;
if(l.StrokeFlag)K++;if(l._FillBackgroundFlag)K++;if(K>1)B=!0}return B&&(q||X!=1||W.JY!="pass"&&W.JY!="norm")};
dx.zT=function(W,q,X,k){this.y1=q.P();this.aFc=q.P();this.aFc.Pt(X,X);if(k){this.y1.Pt(1,1);this.azI=g.j(this.y1.C());
g.Z_(W,q,this.azI,this.y1)}else this.azI=W;this.Iy=null;this.eY=null;this.nU=null};dx.zT.prototype.JP=function(){return this.azI};
dx.zT.prototype.S=function(){return this.y1};dx.zT.prototype.Wh=function(){return this.aFc};dx.zT.prototype._G=function(){if(this.Iy)return this.Iy;
this.Iy=this.JP().slice(0);g.i5(this.Iy);return this.Iy};dx.zT.prototype.v$=function(){if(this.eY)return this.eY;
this.eY=g.style.j6(this._G(),this.S().r,this.S().$);return this.eY};dx.zT.prototype.fJ=function(){if(this.nU)return this.nU;
var W=this.Wh(),q=g.j(W.C());g.Z_(this.JP(),this.S(),q,W);var X=Date.now();this.nU=g.style.j6(q,W.r,W.$);
return this.nU};dx.zT.prototype.aHB=function(W,q){var X={PT:-q,OF:W,Qg:null,Dk:null};if(q==0){X.Qg=this.S();
X.Dk=this.v$();return X}var k=this.fJ().slice(0),B=this.Wh();X.Qg=B;X.Dk=k;for(var N=0;N<k.length;N++)k[N]=-k[N];
if(W==0)return X;var U=this.v$(),l=this.S();for(var K=0;K<l.$;K++)for(var D=0;D<l.r;D++){var m=K*l.r+D,Y=(K+l.y-B.y)*B.r+D+l.x-B.x;
k[Y]+=U[m]}return X};dx.zT.prototype.Wo=function(W,q,X){var k=Math.ceil(W+q),B={OM:this.S().P(),JP:null};
B.OM.Pt(k,k);B.JP=g.j(B.OM.C());if(W==0&&q==0)g.cX(X?this.JP():this._G(),B.JP);else{var U=B.JP;g.Z_(this.JP(),this.S(),U,B.OM);
if(!X)g.i5(U);if(W!=0){if(X)g.style.f2(U,B.OM,this.fJ(),this.Wh(),W);else g.style.f2(U,B.OM,this.v$(),this.S(),W)}if(q!=0)g.Zt.Yd(U,B.OM,Math.max(1,q*.43))}return B};
dx.zT.prototype.akU=function(W,q,X,k){var B=W*(q-.5),U=1/W,l={OM:this.S().P(),JP:null};if(X)l.OM.Pt(W,W);
l.JP=g.j(l.OM.C());var K=X?this.fJ():this.v$(),D=X?this.Wh():this.S(),m=l.OM,Y=m.x$(D),a=Y.r,p=Y.$,M=Y.x-m.x,x=Y.y-m.y,R=Y.x-D.x,y=Y.y-D.y,s=1-q*2;
for(var F=0;F<p;F++)for(var E=0;E<a;E++){var o=K[(F+y)*D.r+E+R],G=o*U;l.JP[(F+x)*m.r+E+M]=255*Math.max(0,Math.min(1,k*(1-(G+s)/(1+s))))}return l};
dx.acc=function(W,q,X,k){var B=W.Lefx,U=W.blendOptions;if(B){var l=q.add.lmfx;if(X==null)X=l?l.Scl.v.val:100;
q.add.lmfx=g.N(B.v);if(q.add.lmfx.Scl==null)q.add.lmfx.Scl={t:"UntF",v:{type:"#Prc",val:100}};dx.Bs(q.add.lmfx,X/q.add.lmfx.Scl.v.val);
if(l)q.add.lmfx.Scl.v.val=l.Scl.v.val;var K=B.v.gagl;if(K&&k)k.vQ(K.v.val)}else delete q.add.lmfx;if(U){U=U.v;
if(U.Md)q.JY=jm.U3(U.Md.v.BlnM);if(U.Opct)q.zO=Math.round(U.Opct.v.val*255/100);if(U.fillOpacity)q.add.iOpa=Math.round(U.fillOpacity.v.val*255/100);
if(U.Blnd){var D=[];for(var N=0;N<10;N++)D.push(0,0,255,255);var m=U.Blnd.v,Y="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" ");
for(var N=0;N<m.length;N++){var a=m[N].v,p=8*["Gry","Rd","Grn","Bl"].indexOf(a.Chnl.v[0].v.enum);for(var M=0;
M<8;M++){D[p+M]=a[Y[M]].v}}q.EU=D}}};dx.a4v=function(W){var q="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" "),X=[],k=W.EU;
for(var N=0;N<4;N++){var B=N*8;if(k[B]+k[B+1]+k[B+4]+k[B+5]==0&&k[B+2]+k[B+3]+k[B+6]+k[B+7]==4*255)continue;
var U={t:"Objc",v:{classID:"Blnd",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:["Gry","Rd","Grn","Bl"][N]}}]}}};
X.push(U);for(var l=0;l<8;l++)U.v[q[l]]={t:"long",v:k[N*8+l]}}var K={classID:"blendOptions"};if(W.JY!="norm")K.Md={t:"enum",v:{BlnM:jm.yq(W.JY)}};
if(W.zO!=255)K.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(W.zO*100/255)}};if(W.add.iOpa!=null)K.fillOpacity={t:"UntF",v:{type:"#Prc",val:Math.round(W.add.iOpa*100/255)}};
if(X.length!=0)K.Blnd={t:"VlLs",v:X};var D={M$:{classID:"null",Idnt:{t:"TEXT",v:ey.Gk()+"-bd9f-11d5-b8ba-b73f8571793d"},Nm:{t:"TEXT",v:"Default/Custom Style"}},NF:{classID:"Styl",blendOptions:{t:"Objc",v:K}}},m=W.add.lmfx;
if(m)D.NF.Lefx={t:"Objc",v:m};return D};function gs(){}gs.FL=function(W){var q=g.N(gs.a52),X=q.Brsh.v;
if(W!=null){delete X.Hrdn;X.classID="sampledBrush";X.sampledData={t:"TEXT",v:W}}return q};gs.a52={classID:"brushPreset",Nm:{t:"TEXT",v:"Default/My Custom Brush"},Brsh:{t:"Objc",v:{classID:"computedBrush",Dmtr:{t:"UntF",v:{type:"#Pxl",val:15}},Hrdn:{t:"UntF",v:{type:"#Prc",val:100}},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Rndn:{t:"UntF",v:{type:"#Prc",val:100}},Spcn:{t:"UntF",v:{type:"#Prc",val:25}},Intr:{t:"bool",v:!0},flipX:{t:"bool",v:!1},flipY:{t:"bool",v:!1}}},useTipDynamics:{t:"bool",v:!1},useScatter:{t:"bool",v:!1},dualBrush:{t:"Objc",v:{classID:"dualBrush",useDualBrush:{t:"bool",v:!1}}},brushGroup:{t:"Objc",v:{classID:"brushGroup",useBrushGroup:{t:"bool",v:!1}}},useTexture:{t:"bool",v:!1},usePaintDynamics:{t:"bool",v:!1},useColorDynamics:{t:"bool",v:!1},Wtdg:{t:"bool",v:!1},Nose:{t:"bool",v:!1},Rpt:{t:"bool",v:!1}};
gs.abw=function(W,q){var X=["opVr","szVr"],k=["usePaintDynamics","useTipDynamics"];for(var N=0;N<2;N++){var B=X[N];
if(W[B]==null)W[B]=JSON.parse(gs.t$.N6[B]);W[B].v.bVTy.v=q[N]?2:0;if(q[N])W[k[N]].v=!0}gs.t$.aD4(W)};
gs.t$={};gs.t$.check=function(W){var q=gs.t$.fp;for(var N=0;N<q.length;N++)if(W[q[N]]==null)W[q[N]]=JSON.parse(gs.t$.N6[q[N]]);
var X=[];for(var N=0;N<q.length;N++)X.push(q[N]);var k=gs.t$.aIc;for(var N=0;N<k.length;N++){var B=k[N][0],U=k[N][1],l=!0;
for(var K=0;K<B.length;K++)l=l&&W[B[K]].v==!0;if(l)for(var K=0;K<U.length;K++){if(W[U[K]]==null)console.log("Missing conditional parameter "+U[K]);
else X.push(U[K])}}for(var D in W)if(X.indexOf(D)==-1&&D!="toolOptions")console.log("Extra parameter "+D);
W=W.Brsh.v;q=gs.t$.Fj.fp;for(var N=0;N<q.length;N++)if(W[q[N]]==null)W[q[N]]=JSON.parse(gs.t$.Fj.N6[q[N]]);
X=[];for(var N=0;N<q.length;N++)if(W[q[N]])X.push(q[N]);else console.log("Missing default parameter "+q[N]);
k=gs.t$.Fj.aEH[W.classID];for(var N=0;N<k.length;N++)if(W[k[N]]==null&&k[N]!="dtipsGridSize"&&k[N]!="dtipsErodibleTipHeightMap"&&W.aj7!=1)console.log("Missing conditional parameter "+k[N]);
else X.push(k[N]);for(var D in W)if(X.indexOf(D)==-1)console.log("Extra parameter "+D)};gs.t$.aD4=function(W){var q=gs.t$.aIc;
for(var N=0;N<q.length;N++){var X=q[N][0],k=q[N][1],B=!0;for(var U=0;U<X.length;U++)B=B&&W[X[U]]&&W[X[U]].v==!0;
if(B){for(var U=0;U<k.length;U++)if(W[k[U]]==null){W[k[U]]=JSON.parse(gs.t$.N6[k[U]])}}else for(var U=0;
U<k.length;U++)if(W[k[U]]!=null){delete W[k[U]]}}};gs.t$.Fj={};gs.t$.Fj.fp="classID Dmtr Angl Spcn Intr flipX flipY".split(" ");
gs.t$.Fj.N6={flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}"};gs.t$.Fj.aEH={computedBrush:["Hrdn","Rndn"],sampledBrush:["Nm","Rndn","sampledData"],dBrush:"Shp Dnst Lngt clumping thickness stiffness physics".split(" "),dTips:"dtipsType Shp dtipsLengthRatio dtipsHardness dtipsGridSize dtipsErodibleTipHeightMap physics dtipsAirbrushCutoffAngle dtipsAirbrushGranularity dtipsAirbrushStreakiness dtipsAirbrushSplatSize dtipsAirbrushSplatCount".split(" ")};
gs.t$.aIc=[[["useTipDynamics"],"flipX flipY brushProjection minimumDiameter minimumRoundness tiltScale szVr angleDynamics roundnessDynamics".split(" ")],[["usePaintDynamics"],["prVr","opVr","wtVr","mxVr"]],[["useBrushPose"],"overridePoseAngle overridePoseTiltX overridePoseTiltY overridePosePressure brushPosePressure brushPoseTiltX brushPoseTiltY brushPoseAngle".split(" ")],[["useTexture"],"TxtC interpretation textureBlendMode textureDepth minimumDepth textureDepthDynamics Txtr textureScale InvT textureBrightness textureContrast".split(" ")],[["useColorDynamics"],"clVr H Strt Brgh purity colorDynamicsPerTip".split(" ")],[["useScatter"],["Cnt","countDynamics","bothAxes","scatterDynamics"]],[["useScatter","bothAxes"],["Spcn"]]];
gs.t$.fp="classID Nm Brsh useTipDynamics usePaintDynamics useColorDynamics useScatter useTexture useBrushSize useBrushPose Wtdg Nose Rpt dualBrush brushGroup".split(" ");
gs.t$.N6={useBrushSize:"{\"t\":\"bool\",\"v\":false}",useBrushPose:"{\"t\":\"bool\",\"v\":false}",brushGroup:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brushGroup\",\"useBrushGroup\":{\"t\":\"bool\",\"v\":false}}}",flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}",brushProjection:"{\"t\":\"bool\",\"v\":false}",minimumDiameter:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",minimumRoundness:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":25}}",tiltScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":200}}",szVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",angleDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",roundnessDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",prVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",opVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",wtVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",mxVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",overridePoseAngle:"{\"t\":\"bool\",\"v\":false}",overridePoseTiltX:"{\"t\":\"bool\",\"v\":true}",overridePoseTiltY:"{\"t\":\"bool\",\"v\":true}",overridePosePressure:"{\"t\":\"bool\",\"v\":true}",brushPosePressure:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":9}}",brushPoseTiltX:"{\"t\":\"long\",\"v\":0}",brushPoseTiltY:"{\"t\":\"long\",\"v\":0}",brushPoseAngle:"{\"t\":\"long\",\"v\":0}",TxtC:"{\"t\":\"bool\",\"v\":false}",interpretation:"{\"t\":\"bool\",\"v\":true}",textureBlendMode:"{\"t\":\"enum\",\"v\":{\"BlnM\":\"CBrn\"}}",textureDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":37}}",minimumDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":97}}",textureDepthDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",Txtr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"$$$/Presets/Patterns/Patterns_pat/Laidhorizontal=Laid-horizontal\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"52a93427-f5d6-1172-a989-8dc82a43aa51\"}}}",textureScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":99}}",InvT:"{\"t\":\"bool\",\"v\":false}",textureBrightness:"{\"t\":\"long\",\"v\":14}",textureContrast:"{\"t\":\"long\",\"v\":100}",Cnt:"{\"t\":\"doub\",\"v\":4}",countDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":98}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",bothAxes:"{\"t\":\"bool\",\"v\":false}",scatterDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":56}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",clVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",H:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Strt:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Brgh:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":36}}",purity:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",colorDynamicsPerTip:"{\"t\":\"bool\",\"v\":false}"};
function ac(W,q){this.a8o=W;this.Zi=q==null?0:q;this.dir=0}ac.prototype.uf=function(W,q){var X=this.a8o,k=new hw(W.x-X.x,W.y-X.y),B=new ka;
B.rotate(-this.Zi);k=B.Bb(k);if(this.dir==0&&!X.AB(W))this.dir=Math.abs(k.x)<Math.abs(k.y)?1:2;if(q.D(bu.m4)){if(this.dir==1)k.x=0;
if(this.dir==2)k.y=0}B.i5();k=B.Bb(k);var U=new hw(X.x+k.x,X.y+k.y);return U};ac.prototype.aGM=function(W){if(W.D(bu.m4))return this.dir;
return 0};var cz=function(){function W(){this.ai9={}}W.al6=function(q,X){var k=q.P();k.Wy-=Math.floor(k.Wy);
k.rY-=Math.floor(k.rY);var B=new hw(X,0),U=new hw(0,X),l=k.Bb(B),K=k.Bb(U),D=new hw(k.Wy,k.rY);return[l,K,D]};
W.agb=function(q,X){var k=hw.tj;return k(q[0],X[0])+k(q[1],X[1])+k(q[2],X[2]);return dsum};W.prototype.atT=function(q){var X=this.ai9,k=X[q];
if(k==null)k=X[q]={rE:[],kU:0,C:0,a7P:0,aoL:0};k.kU=Date.now();while(Object.keys(X).length>3){var B="",U=Date.now();
for(var l in X){var K=X[l].kU;if(K<U){U=K;B=l}}delete X[B]}return k};W.prototype.aa0=function(q,X){var k=q.rE,B,U=1e6;
for(var N=0;N<k.length;N++){var l=k[N],K=W.agb(l.iE,X);if(K<U){B=l;U=K}}return B};W.prototype.af7=function(q,X){var k=q.rE;
k.push(X);q.C+=X.S.C();if(k.length>1e3||q.C>100*100*1600){k.sort(function(U,l){return l.kU-U.kU});while(k.length>500||q.C>100*100*800){var B=k.pop();
q.C-=B.S.C()}}};return W}();function bf(W,q,X,k,B,U,l,K,D){this.n5=q;this.OJ=X;this.yY=U;this.jX=k;this.up=null;
this.SG=null;this.Ra=0;this.au6=0;this.aKI=0;this.rc=0;this.Ze=0;this.g_=D==null?Math.floor(Math.random()*16777215):D;
this.jo=D==null?Math.floor(Math.random()*16777215):D;this.oq=new dU;this.YO=new dU;this.OT=k.depth?k.depth:8;
if(K!=null){this.kl=K}else{var m=bf.a5w;if(m.length!=l.C()*4)m=g.j(l.C()*4,this.OT);else m.fill(0);this.kl=bf.a5w=m}this.S=l.P();
this.Pl=[];this.Ta=[];this.UN=null;this.w5=0;this.X=null;this.am2="";this.RY=null;this.anR=null;this.a6n(W,B)}bf.a5w=g.j(0);
bf.prototype.a6n=function(W,q){this.w5=q;this.X=W;this.am2=JSON.stringify(W)+JSON.stringify(this.jX.Cf);
this.RY=bf.axY(this.X,this.n5,this.OJ);this.RY.CH[0]=g.Cn(this.RY.CH[0],this.OT);this.anR=g.j(this.RY.CH[1].C()*4,this.OT);
g.fP(this.RY.CH[0],this.anR,3)};bf.prototype.moveTo=function(W,q,X){X=this.av0(X);this.Ra=X;var k=new hw(W,q),B=this.X.Brsh.v.Dmtr.v.val;
this.up=k.P();this.SG=k.P();this.UN=k.P();this.Pl=[W,q];this.Ta=[X];if(this.jX.Tt!=bf.rm){var U=this.X.angleDynamics,l=U?U.v.bVTy.v==6:!1;
this.hR(l?new dU:this.a3a(k,this.anA(X),X,new hw(0,0)))}this.rc=k.P()};bf.prototype.lineTo=function(W,q,X){X=this.av0(X);
var k=this.Pl,B=k.length,U=k[B-2],l=k[B-1];if(W==U&&q==l)return;var K=this.X.Brsh.v.Dmtr.v.val,D=Math.ceil(K)+1,m=new dU(Math.round(U),Math.round(l),0,0);
m.Pt(D,D);var Y=new dU(Math.round(W),Math.round(q),0,0);Y.Pt(D,D);this.Pl.push(W,q);this.Ta.push(X);
B+=2;if(B>=6)this.hR(this.aEz(B))};bf.prototype.av0=function(W){if(W==null)W=1;W=Math.max(.05,Math.min(5,W));
if(isNaN(W)){alert("Pressure is not a number");throw"e"}return W};bf.prototype.hR=function(W){this.oq=W;
this.YO=this.YO.xw(W)};bf.prototype.finish=function(){var W=this.Pl,q=W.length,X;if(q==4)X=this.Qp(W[q-2],W[q-1],this.Ta[(q>>1)-1],!0);
if(q>4)X=this.aEz(q+2);if(X)this.hR(X)};bf.prototype.wu=function(){return this.S.P()};bf.prototype.Nk=function(){return this.oq.x$(this.S)};
bf.prototype.NU=function(){return this.YO.x$(this.S)};bf.prototype.uY=function(){return this.kl};bf.prototype.aEz=function(W){var q=this.Pl,X=this.Ta,k=q[W-6],B=q[W-5],U=q[W-4],l=q[W-3],K=X[(W>>1)-3],D=X[(W>>1)-2],m=new hw(0,0),Y=new hw(0,0);
if(8<=W)m=bf.an0(q[W-8],q[W-7],k,B,U,l);if(W<=q.length)Y=bf.an0(q[W-2],q[W-1],U,l,k,B);var a=k+m.x,p=B+m.y,M=U+Y.x,x=l+Y.y,R=new dU,y=this.aeR()?1:10;
for(var N=0;N<y;N++){var s=(N+1)/y,F=1-s,E=F*F*F*k+3*s*F*F*a+3*s*s*F*M+s*s*s*U,o=F*F*F*B+3*s*F*F*p+3*s*s*F*x+s*s*s*l,G=this.Qp(E,o,K+s*(D-K));
R=R.xw(G)}return R};bf.an0=function(W,q,X,k,B,U){var l=W-X,K=q-k,D=B-X,m=U-k,Y=Math.sqrt(l*l+K*K),a=Math.sqrt(D*D+m*m),p=Math.acos((l*D+K*m)/(Y*a))/Math.PI,M=.35,x=.1;
p=x+p*(M-x);var R=B-W,y=U-q,s=Math.sqrt(R*R+y*y),F=p*a/s;return new hw(R*F,y*F)};bf.prototype.Qp=function(W,q,X,k){var B=new dU,U=this.jX.aF0;
if(U==null)U=0;if(U==0||k){B=this.a0F(W,q,X);return B}var l=this.UN,K=W-l.x,D=q-l.y,m=Math.sqrt(K*K+D*D);
K/=m;D/=m;if(m>U){var Y=l.x+K*(m-U),a=l.y+D*(m-U);B=this.a0F(Y,a,X);this.UN.cQ(Y,a)}return B};bf.prototype.aeR=function(){var W=this.X,q=W.Brsh.v.Dmtr.v.val;
return this.jX.Cf&&q==1};bf.prototype.a0F=function(W,q,X){var k=new dU,B=new hw(W,q),U=this.jX.Tt,l=B.SR(this.SG);
l.normalize(1);var K=hw.tj(this.SG,B),D=-this.au6,m=this.SG.P();if(this.aeR()){if(K>.99){var Y=this.SG,a=g.Rv.abB(B,this.S,this.jX.gY);
for(var N=0;N<a.length;N++){var p=a[N],M=p.Bb(Y),x=p.Bb(B);bf.aF8(M,x,this.kl,this.S,this.PN(this.X));
k=k.xw(g.b.DS([M.x,M.y,x.x,x.y]))}D=K}else B=this.SG}else while(!0){var R=this.Ra+(X-this.Ra)*(Math.max(0,D)/K),y=this.anA(R),s=this.ak1()*(y+this.aKI)/2*this.RY.anH;
if(U==bf.rm)s=1;s=Math.max(s,.5);if(D+s<K){D+=s;this.Ze+=s;var F=new hw(this.SG.x+l.x*D,this.SG.y+l.y*D),o=1;
if(U==bf.rm){var x=m.P();x.x+=l.x>0?1:-1;var E=m.P();E.y+=l.y>0?1:-1;if(hw.tj(x,F)<hw.tj(E,F))F=x;else F=E;
D=hw.tj(F,this.SG)}if(this.X.useScatter.v==!0){o=this.X.Cnt.v;var G=this.X.countDynamics.v.jitter.v.val/100,d=G*(-1+2*this.Nr());
o+=Math.round(o*d)}for(var N=0;N<o;N++){var u=this.a3a(F,y,X,l);k=k.xw(u)}m=F}else break}this.au6=K-D;
this.SG=B;this.Ra=X;return k};bf.prototype.ak1=function(){var W=this.X.Brsh.v,q=W.Spcn.v.val,X=Math.max(5,W.Rndn.v.val);
return X/100*(q/100)};bf.prototype.anA=function(W){var q=this.X,X=q.Brsh.v.Dmtr.v.val;if(q.useTipDynamics.v){var k=X*(q.minimumDiameter.v.val/100);
X=k+(X-k)*(1-this.Nr(this.jo)*(q.szVr.v.jitter.v.val/100));X*=bf.G0(q,"szVr",W,this.Ze)}return X};bf.G0=function(W,q,X,k){var B=1,U=W[q].v,l=U.bVTy.v,K=U.fStp.v;
if(l==1)B*=Math.max(0,(K-k)/K);if(l==2)B*=X;return B};bf.prototype.a3a=function(W,q,X,k){var B=this.jX.hq,R=0;
B=Math.min(1,B);var U=this.X,l=this.X.Brsh.v,K=l.Dmtr.v.val,D=this.jX,m=D.Tt,Y=D.a0m,a=this.RY.CH[1],p=new ka;
p.translate(-a.r/2,-a.$/2);p.scale(1/this.RY.aaK,1/this.RY.aaK);p.scale(q/K,q/K);p.scale(1,Math.max(5,l.Rndn.v.val)/100);
if(U.usePaintDynamics&&U.usePaintDynamics.v){var M=U.opVr.v.jitter.v.val/100,x=U.prVr.v.jitter.v.val/100;
B*=1-this.Nr()*M;B*=1-this.Nr()*x;B*=bf.G0(U,"opVr",X,this.Ze)*bf.G0(U,"prVr",X,this.Ze)}if(U.useTipDynamics.v){var y=U.angleDynamics.v,s=U.minimumRoundness.v.val/100;
p.scale(1,s+(1-s)*Math.round(100-this.Nr()*U.roundnessDynamics.v.jitter.v.val)/100);R+=(-.5+this.Nr())*4*Math.PI*(y.jitter.v.val/100);
R+=bf.G0(U,"angleDynamics",X,this.Ze)*2*Math.PI;if(y.bVTy.v==6)R+=Math.atan2(-k.y,k.x)}R+=l.Angl.v.val*(Math.PI/180);
p.rotate(R);if(U.useScatter.v){var F=(-1+2*this.Nr())*U.scatterDynamics.v.jitter.v.val/100;p.translate(-F*q*k.y,F*q*k.x)}p.translate(W.x,W.y);
var E=this.aqc(p,W,q),o=E.S.P();if(m==null){var G=this.PN(U);g.t3(E.Xk,G.o,G.L,G.X);if(this.YO.PM()&&this.S.AB(E.S)&&B==1)this.kl=E.Xk.slice(0);
else{var d=g.Rv.abB(W,this.S,D.gY);for(var N=0;N<d.length;N++){var u=d[N],r,v;if(u.iM==1&&u.X==0&&u.bO==0&u.kv==1){r=E.Xk;
v=E.S.P();v.x+=u.Wy;v.y+=u.rY}else{var c=p.P();c.concat(u);var V=this.aqc(c,u.Bb(W),q);r=V.Xk;v=V.S;
g.t3(r,G.o,G.L,G.X)}if(v.ty(this.S)){o=o.xw(v);if(this.OT==8)g.v.ak8(r,v,this.kl,this.S,v,B);else g.v.HX("norm",r,v,this.kl,this.S,v,B)}}}}if(m==bf.rm){var j=new hw(E.S.x+E.S.r/2,E.S.y+E.S.$/2),Q=Math.round(j.x-this.rc.x),H=Math.round(j.y-this.rc.y),T=E.S.P();
T.offset(-Q,-H);var e=T.x$(this.S);e.offset(Q,H);g.YE(this.kl,this.S,E.Xk,T);if(this.OT==8)g.v.abp(E.Xk,E.S,this.kl,this.S,E.Vn,E.S,B);
else g.v.lE(E.Xk,E.S,this.kl,this.S,E.Vn,E.S,0,e,B,!1)}if(m==bf.rb||m==bf.Q4||m==bf.bl){var J=E.S.x$(this.S),P;
if(J.AB(E.S))P=E.Vn;else{P=g.j(J.C(),this.OT);g.Z_(E.Vn,E.S,P,J)}var L=g.j(J.C()*4,this.OT);g.YE(this.kl,this.S,L,J);
if(m==bf.Q4){var A=L.slice(0),h=g.PG.XH([-1,-1,-1,-1,25,-1,-1,-1,-1]);g.PG.LH(L,A,J.r,J.$,h);g.cX(A,L)}else if(m==bf.bl){var C=dY.wy("UnsM");
C.Amnt.v.val=15;C.Thsh.v=0;C.Rds.v.val=5;var A=g.j(L.length,this.OT);dY.GT("UnsM",{buffer:L,S:J},C,0,0,{buffer:A,S:J});
g.cX(A,L)}else{dY.lp(1,0,L,J)}if(this.OT==8)g.v.abp(L,J,this.kl,this.S,P,J,B);else g.v.lE(L,J,this.kl,this.S,P,J,0,J,B,!1)}this.aKI=q;
this.rc=j;this.jo++;return o};bf.prototype.PN=function(W){var q=g.gC(this.w5,1),X=W.colorDynamicsPerTip,k=null;
X=X?X.v:!1;if(this.azt==null)this.azt=this.g_;if(!X){k=this.g_;this.g_=this.azt}if(W.useColorDynamics&&W.useColorDynamics.v){var B=1-this.Nr()*W.clVr.v.jitter.v.val/100,U=g.gC(this.yY,1);
q.o=B*q.o+(1-B)*U.o;q.L=B*q.L+(1-B)*U.L;q.X=B*q.X+(1-B)*U.X;var l=(-.5+this.Nr())*W.H.v.val/100,K=(-1+2*this.Nr())*W.Strt.v.val/100,D=(-1+2*this.Nr())*W.Brgh.v.val/100,m=g.v9(q.o,q.L,q.X);
m.QB=(m.QB+l+1)%1;m.Sp=m.Sp+K;if(m.Sp<0)m.Sp=-m.Sp;if(m.Sp>1)m.Sp=1-(m.Sp-1);m.he=m.he+D;if(m.he<0)m.he=-m.he;
if(m.he>1)m.he=1-(m.he-1);q=g.C7(m.QB,m.Sp,m.he)}if(!X)this.g_=k;return q};bf.prototype.t$=function(W){return Math.max(0,Math.min(1,W))};
bf.prototype.Nr=function(W){if(W==null){W=this.g_++}return bf.hash(W)};bf.hash=function(W){W=W^61^W>>16;
W=W+(W<<3);W=W^W>>4;W=W*668265261;W=W^W>>15;return(W&16777215)/16777215};bf.a3F=new cz;bf.prototype.aqc=function(W,q,X){var k=this.jX.Cf,B=Math.round(this.X.Brsh.v.Dmtr.v.val),U;
if(k&&B<=3){U={c:g.j(B*B,this.OT),S:new dU(Math.round(q.x-B/2),Math.round(q.y-B/2),B,B)};U.c.fill(255)}else if(W.iM==1&&W.X==0&&W.bO==0&&W.kv==1){U={c:this.RY.CH[0],S:this.RY.CH[1].P(),Xk:this.anR};
U.S.x=Math.round(W.Wy);U.S.y=Math.round(W.rY)}else{if(W.Lr()>1e-4)U=_.Gz.yt(this.RY.CH,W)}if(U==null)U={c:g.j(0,this.OT),S:new dU};
var l={Vn:U.c,S:U.S,Xk:U.Xk};if(l.Xk==null||k){if(k)g.round(U.c);l.Xk=g.j(U.S.C()*4,this.OT);g.fP(l.Vn,l.Xk,3)}return l};
bf.axY=function(W,q,X){var k,B,U,l=W.Brsh.v.Dmtr.v.val,K=W.Brsh.v.classID;if(K=="computedBrush"){var D=W.Brsh.v.Hrdn.v.val/100;
B=l<100?1.4:1;U=1;k=g.aBf.a1V(l,D,B)}if(K=="sampledBrush"){var m;for(var N=0;N<q.length;N++)if(q[N].id==W.Brsh.v.sampledData.v)m=q[N];
k=m.CH;var Y=k[1];B=Math.max(Y.r,Y.$)/l;U=Math.min(Y.r,Y.$)/Math.max(Y.r,Y.$)}return{aaK:B,anH:U,CH:k}};
bf.mL=null;bf.Ca=null;bf.K$=function(W,q,X,k,B,U){var l=bf.mL,K=bf.Ca;if(l==null){bf.mL=l=document.createElement("canvas");
bf.Ca=K=l.getContext("2d")}if(U==null)U=k;if(l.width!=U||l.height!=B){l.width=U;l.height=B}else K.clearRect(0,0,U,B);
K.fillStyle="#000000";K.font=Math.floor(10*_.W$())+"px sans-serif";var D=W.Brsh.v.Dmtr.v.val,m=""+D,Y=W.useBrushSize;
if(Y&&Y.v)m="---";var a=K.measureText(m);K.fillText(m,(k-a.width)/2,B-2);var p=k,M=B-10*_.W$(),x=Math.min(p,M),R=W.Brsh.v.classID;
if(R=="computedBrush"){K.translate(p/2,M/2);K.rotate(-W.Brsh.v.Angl.v.val*Math.PI/180);K.scale(1,.1+.9*W.Brsh.v.Rndn.v.val/100);
var y=Math.min(.95*x/2,D/2)+.5,s=.9*W.Brsh.v.Hrdn.v.val/100,F=K.createRadialGradient(0,0,0,0,0,y);F.addColorStop(s,"rgba(0,0,0,1)");
F.addColorStop((.5+s)/1.5,"rgba(0,0,0,.5)");F.addColorStop(1,"rgba(0,0,0,0)");K.fillStyle=F;K.fillRect(-y,-y,2*y,2*y);
K.setTransform(1,0,0,1,0,0)}else if(R=="sampledBrush"){var E,r=0;for(var N=0;N<q.length;N++)if(q[N].id==W.Brsh.v.sampledData.v)E=q[N];
var o=E.CH;g.HJ(o);var G=o[0],d=o[1].r,u=o[1].$;while((d>p||u>M)&&o[r+2]){r+=2;G=o[r];d=o[r+1].r;u=o[r+1].$}if(d*u!=0){var v=g.j(d*u*4);
g.fP(G,v,3);var c=new ImageData(new Uint8ClampedArray(v.buffer),d,u);K.putImageData(c,Math.round((p-d)/2),Math.round((M-u)/2))}}else{}return l.toDataURL()};
bf.Yw=function(W,q,X,k){if(X==0)X=1;var B=W.Brsh.v,U=B.Dmtr.v.val,l=B.Angl.v.val,K=B.Dmtr.v.val=Math.min(k!=null?Math.round(k*2.6):3e3,U*X),D=B.Hrdn?B.Hrdn.v.val/100:1,m=k!=null?k:Math.round((l==0?1:1.42)*K*(1+.55*(1-D)))+4,p;
m=Math.max(25,Math.min(m,3e3));var Y=new dU(0,0,m,m),a=new bf(W,q,null,{hq:1},16711712,0,Y);B.Dmtr.v.val=U;
a.moveTo(Y.r/2,Y.$/2);var M=g.Cn(a.uY(),8),x=a.wu();if(Y.AB(x))p=M;else{p=g.j(Y.C()*4);g.YE(M,x,p,Y)}return[p,Y,K]};
bf.CX=function(W,q,X,k){var B=q.r,U=B>>>1;for(var N=2;N<7;N++){W[B*(U-N)+U-1]=k;W[B*(U-N)+U]=X;W[B*(U-N)+U+1]=k;
W[B*(U+N)+U-1]=k;W[B*(U+N)+U]=X;W[B*(U+N)+U+1]=k;W[B*(U-1)+U-N]=k;W[B*U+U-N]=X;W[B*(U+1)+U-N]=k;W[B*(U-1)+U+N]=k;
W[B*U+U+N]=X;W[B*(U+1)+U+N]=k}k=X;if(_.W$()>=1.5)for(var N=5;N<11;N++){W[B*(U-N)+U-1]=k;W[B*(U-N)+U]=X;
W[B*(U-N)+U+1]=k;W[B*(U+N)+U-1]=k;W[B*(U+N)+U]=X;W[B*(U+N)+U+1]=k;W[B*(U-1)+U-N]=k;W[B*U+U-N]=X;W[B*(U+1)+U-N]=k;
W[B*(U-1)+U+N]=k;W[B*U+U+N]=X;W[B*(U+1)+U+N]=k}};bf.h9=function(W,q,X,k){var B=bf.Yw(W,q,X),U=B[0].slice(0),l=B[1],K=B[2],D=l.C(),m=g.j(D);
g.u6(U,m,3);var Y=g.j(D);g.d.a2t(m,Y,l,_.W$()>1.9);if(K<3||g.Xe(Y,0)||k&&K>12){bf.CX(Y,l,255,0)}var a=[3,5,3,4,8,4,3,5,3];
a=g.PG.XH(a);g.PG.HK(Y,m,l.r,l.$,a);U.fill(255);g.fP(m,U,3);for(var N=0;N<D;N++)if(Y[N]==255){U[N<<2]=U[(N<<2)+1]=U[(N<<2)+2]=0;
U[(N<<2)+3]=255}return{S0:U,OM:l,Qv:new hw(l.r/2,l.$/2)}};bf.aF8=function(W,q,X,k,B){var U=4278190080|Math.round(B.X*255)<<16|Math.round(B.L*255)<<8|Math.round(B.o*255)<<0;
X=new Uint32Array(X.buffer);var l=Math.floor(W.x),K=Math.floor(W.y),D=Math.floor(q.x),m=Math.floor(q.y),Y=Math.abs(D-l),a=Math.abs(m-K),p=l<D?1:-1,M=K<m?1:-1,x=Y-a;
while(!0){X[K*k.r+l]=U;if(l==D&&K==m)break;var R=2*x;if(R>-a){x-=a;l+=p}if(R<Y){x+=Y;K+=M}}};bf.rm="0";
bf.rb="1";bf.Q4="2";bf.bl="3";var hj={};hj.SA=function(W,q,X){if(X==null)X=!0;var k=W.add.TySh,B=k.FZ,U=new cm(B,q,k.ZN);
W.kJ.aj=U.dk();var l=W.kJ.path=hj.Gi(U,k);if(cC!=0)return[l,U,null];var K=hj.wM(l,k.M,gZ.ao(k));if(X){W.S=K.OM;
var D=g.Oj(W.buffer);W.buffer=g.Cn(K.kl,D);W.I_()}return[l,U,K]};hj.wM=function(W,q,X){W={zb:W.zb,n:W.n.slice(0)};
g.b.M(W.n,q,W.n);var k=g.b.DS(W.n),B=0;if(k.PM())return{kl:g.j(0),OM:new dU};for(var N=0;N<W.zb.length;
N++){var U=W.zb[N];if(U[0]=="O"&&U[1]=="-")B=Math.max(B,parseFloat(U.split("-")[2]))}B=Math.ceil(B*q.Lr()/2);
k.Pt(B,B);var l=g.Nm(k.r,k.$);l.translate(-k.x,-k.y);hj.abn(W,l);var K=l.getImageData(0,0,k.r,k.$),D=new Uint8Array(K.data.buffer);
if(X==0)for(var N=0;N<D.length;N+=4)D[N+3]=D[N+3]>80?255:0;if(X==3)for(var N=0;N<D.length;N+=4)D[N+3]=Math.min(255,D[N+3]*1.5);
l.resetTransform();l.beginPath();return{kl:D,OM:k}};hj.Gi=function(W,q,X){var k=q.M,B=q.FZ;hj.df=k.Lr();
var U=gZ.ao(q),l=Math.max(k.X*k.X,k.bO*k.bO)<1e-9?k:null;if(U==3||U==4)l=null;var K={zb:[],n:[]};hj.aHZ(W,K,l,!0);
hj.aHZ(W,K,l,!1);K=hj.KK(K,q,W,X);return K};hj.df=1;hj.KK=function(W,q,X,k){if(W==null)return W;if(X&&X.Cx)g.b.M(W.n,X.Cx,W.n);
if(X&&!g.NP.GE(q.DO)){var B=gZ.wu(q,X);if(!B.PM()){if(W.zb){W=g.b.E_(W);var U=Math.min(B.r,B.$)/8;if(U<1)U=1;
W=g.b.d5(W,U)}var l=g.NP.qP(q.DO,B);g.my.M(l,W.n,B)}}var K=q.M;if(k)g.b.M(W.n,K,W.n);return W};hj.abn=function(W,q){q.save();
q.miterLimit=2;Typr.U.pathToContext({crds:W.n,cmds:W.zb},q);q.restore()};hj.gm=function(W,q,X){var k=cm.aBF(X),B=W.FZ,U=B.ResourceDict.FontSet,l=B.ResourceDict.StyleSheetSet[0].StyleSheetData,K=B.EngineDict.StyleRun.RunLengthArray,D=B.EngineDict.StyleRun.RunArray,m=gZ.mw(B),Y=!0,a={},p=0;
for(var N=0;N<D.length;N++){var M=D[N].StyleSheet.StyleSheetData.Font;if(M==null)M=l.Font;for(var x=0;
x<K[N];x++){var R=m.charCodeAt(p+x),y=M+","+(R>128?R:-1),s=gZ.k7(U[M]);if(a[y]==null){a[y]=1;if(q.yy(s,R)==null)Y=!1}}p+=K[N]}return Y&&k};
hj.yw=function(W,q,X){var k=!0;for(var B=0;B<W.U.length;B++){var U=W.U[B],l=U.add.TySh;if(l!=null&&!hj.gm(l,q,X))k=!1}return k};
hj.pt=function(W,q,X){for(var k=0;k<W.U.length;k++){var B=W.U[k],U=B.add.TySh;if(U!=null&&hj.gm(U,q,X)){hj.SA(B,q);
W.I_()}}};hj.aHZ=function(W,q,X,k){var B=new ka;for(var N=0;N<W.D8.length;N++)hj.avx(W.n6,W.D8[N],q,B,X,k)};
hj.avx=function(W,q,X,k,B,U){k.translate(q.l7.x,q.l7.y);for(var N=0;N<q.tE.length;N++){var l={},K=q.tE[N],Y=0;
if(!K.xP)break;var D=k.P();D.translate(K.l7.x,K.l7.y);if(B){var m=B.rY+D.rY*B.kv;D.rY=(Math.round(m)-B.rY)/B.kv}for(var a=K.start;
a<K.end;a++)Y=Math.max(Y,q.e6[a].SY);for(var a=K.start;a<K.end;a++){hj.apY(W,q.e6[a],q,l,X,D,U,Y)}}k.translate(-q.l7.x,-q.l7.y)};
hj.apY=function(W,q,X,k,B,U,l,K){U.translate(q.l7.x,q.l7.y);for(var D=q.gG;D<=q.mA;D++){var m=X.xk[D],Y=m.OM.r,a=W[X.ayR+m.tH],p=a.YL._FillBackgroundFlag;
if(a.NI=="\n"||l&&!p)continue;var M=a.YL.FontSize/a.Tg.head.unitsPerEm,x=U.P();x.translate(m.l7.x+m.tN*M,m.l7.y-m.a4s*M);
var R=new ka;R.scale(M,-M);if(a.YL.FauxItalic)R.concat(new ka(1,0,-Math.tan(.18),1,0,0));R.translate(0,a.ak9);
R.scale(a.scale.x,a.scale.y);if(a.YL.BaselineShift!=null)R.translate(0,-a.YL.BaselineShift);if(m.Zi!=0){R.rotate(-m.Zi)}R.concat(x);
var y=(a.YL.OutlineWidth?a.YL.OutlineWidth:1)*hj.df;if(l){B.zb.push(hj.PN(a.YL._FillBackgroundColor));
var s=1.005*m.OM.$/M,F=new dU(-m.tN,-s*.27,1.03*m.OM.r/(M*a.scale.x),s);if(a.YL.StrokeFlag)F.Pt(y/M,y/M);
g.b.concat(B,g.b.Lw(F),R);B.zb.push("X");continue}if(a.YL.FillFlag)B.zb.push(hj.PN(a.YL.FillColor));
if(a.YL.StrokeFlag){var E=kE.Hr.a5D(a.YL);B.zb.push(hj.aqb(E))}if(m.path.zb.length!=0&&a.NI!="\t"){if(a.YL.FauxBold){var o=a.YL.FontSize/2048*27*a.scale.x,G=Math.cos(m.Zi)*o,d=Math.sin(m.Zi)*o;
R.Wy+=G;R.rY+=d;g.b.concat(B,m.path,R);R.Wy-=G+G;R.rY-=d+d;g.b.concat(B,m.path,R)}else g.b.concat(B,m.path,R)}if(a.NI!="\n"){var u=m.OM.r/M;
if(a.YL.Underline){if(k.agF==null)k.agF=a.Tg.post.underlineThickness/a.Tg.head.unitsPerEm;if(k.aIQ==null)k.aIQ=a.Tg.post.underlinePosition;
console.log(a.Tg.name.aBP,a.Tg.post.underlineThickness/a.Tg.head.unitsPerEm);var r=0,v=0,c=0,V=1/(M*a.scale.y),j=-K*V;
c=-j*k.agF*1.6;v=j*.3;g.b.concat(B,{zb:["M","L","L","L","Z"],n:[r,v,r+u,v,r+u,v+c,r,v+c]},R)}if(a.YL.Strikethrough){var Q=a.Tg["OS/2"].yStrikeoutSize,H=a.Tg["OS/2"].yStrikeoutPosition,r=0,v=H+Q/2,c=-Q;
g.b.concat(B,{zb:["M","L","L","L","Z"],n:[r,v,r+u,v,r+u,v+c,r,v+c]},R)}}var T=a.YL.FillFlag,z=a.YL.FillFirst;
if(z==null)z=!0;if(T&&z)B.zb.push("X");if(a.YL.StrokeFlag)B.zb.push("OX");if(T&&!z)B.zb.push("X")}U.translate(-q.l7.x,-q.l7.y)};
hj.aqb=function(W){var q=W.rD,X=["O","#"+g.Ga(g.xS({o:q[0],L:q[1],X:q[2]},1)),W.A4];X.push(W.VT,W.WA,W.Mj,W.ON,W.Vt.join(","));
return X.join("-")};hj.adp=function(W){var q=parseFloat,X=W.split("-"),k=g.gC(parseInt(X[1].slice(1),16)),B=X[8]=="1"?2:0;
return{rD:[k.o/255,k.L/255,k.X/255],A4:q(X[2]*(B==2?.5:1)),VT:q(X[3]),WA:q(X[4]),Mj:q(X[5]),ON:q(X[6]),Vt:X[7]==""?[]:X[7].split(",").map(q),EE:B}};
hj.PN=function(W){return"#"+g.Ga(g.xS(gZ.yM(W)))};function cm(W,q,X){var k=gZ.sJ(W),B,U,l=gZ.KJ(W),K=W._LineOrientation==2?new ka:null,a,M;
if(W.Curve)U=cm.U7(W.Curve);if(k!=0){B=new dU(l[0],l[1],l[2],l[3]);if(K){var D=B.r;B.r=B.$;B.$=D;K.translate(0,-l[2])}if(k==2){B.r=U[5]-U[4];
B.$=9999}}this.D8=[];this.n6=[];this.R7=k;this.Cx=K;var m=this.aH4=gZ.mw(W),Y=-1,p=-1;for(var N=0;N<m.length;
N++){var x=a,R=gZ.ahd(W,N);if(R!=Y){Y=R;x=a=gZ.apG(W,R)}var y=M,R=gZ.anP(W,N);if(R!=p){p=R;y=M=gZ.alb(W,R)}var s={NI:m.charAt(N),YL:x,Tg:null,a0C:null,aE5:!1,pr:-1,z4:gZ.a3O(W,N),ak9:0,scale:new hw(0,0),SY:0,lineHeight:0,ej:0},F=W.ResourceDict.FontSet[x.Font];
if(F.Axis){var E=s.a0C=F.Axis.slice(0);for(var o=0;o<E.length;o++)E[o]/=65536}var G=gZ.k7(F),d=s.Tg=q.yy(G,m.charCodeAt(N));
if(x.FontCaps==1)s.aE5=d&&d.GSUB&&d.GSUB.smcp?!1:!0;s.scale.x=x.HorizontalScale==null?1:x.HorizontalScale;
s.scale.y=x.VerticalScale==null?1:x.VerticalScale;var u=d["OS/2"],r=d.hhea;if(s.aE5&&s.NI!=s.NI.toUpperCase()){var v=u.sxHeight?u.sxHeight/u.sTypoAscender:.76;
s.scale.x*=v;s.scale.y*=v}var c=1/d.head.unitsPerEm*x.FontSize;if(x.FontBaseline==1){var v=W.ResourceDict.SuperscriptSize;
s.scale.x*=v;s.scale.y*=v;s.ak9-=W.ResourceDict.SuperscriptPosition*x.FontSize}if(x.FontBaseline==2){var v=W.ResourceDict.SubscriptSize;
s.scale.x*=v;s.scale.y*=v;s.ak9+=W.ResourceDict.SubscriptPosition*x.FontSize}s.SY=cm.SY(d)*x.FontSize;
var V=y.AutoLeading;s.lineHeight=x.FontSize*(V==null?1.2:V);if(x.AutoLeading==!1)s.lineHeight=x.Leading;
if(s.NI=="\n"&&m[N-1]!="\n")s.lineHeight=0;if(s.lineHeight==0)s.lineHeight=.01;this.n6.push(s)}var j=this.D8,Q=[0];
for(var N=0;N<W.EngineDict.ParagraphRun.RunLengthArray.length;N++){var H=new cm.nZ(W,q,this.n6,N,B,Q,k==1?U:null);
j.push(H)}if(K){if(k==0)K.translate(0,j[0].e6[0].SY/2);K.rotate(-Math.PI/2)}if(k==2){var T=W.Curve.Points,e=U[0],z=U[1],J=U[2],P=U[3],L=U[4],A=U[5];
for(var N=0;N<j.length;N++)for(var o=0;o<j[N].tE.length;o++)if(!(N==0&&o==0))j[N].tE[o].xP=!1;var H=j[0],h=H.tE[0];
H.l7.cQ(0,0);h.l7.cQ(0,0);for(var o=h.start;o<h.end;o++){var C=H.e6[o],w=C.l7.x;C.l7.x=0;for(var f=C.gG;
f<=C.mA;f++){var O=H.xk[f],n=O.OM.r/2;O.l7.x+=w;var $=cm.aCr(e,(L+O.l7.x+n)%P);O.l7.x=$[0]-n*$[2];O.l7.y=$[1]-n*$[3];
O.Zi=Math.atan2($[3],$[2])}}}if(X){var d9=X.VAlign.v;if(d9!=0&&gZ.sJ(W)==1){var i=gZ.KJ(W)[3],dF=this.dk().$,t=0;
if(d9==1)t=i-dF;if(d9==2)t=(i-dF)/2;for(var N=0;N<this.D8.length;N++)this.D8[N].l7.y+=t}}}cm.SY=function(W){var q=W._hhhh;
if(q==null){var X=Typr.U,k=X.codeToGlyph(W,104),B=g.b.Hb(Typr.U.glyphToPath(W,k).crds).$;q=W._hhhh=B*(1/W.head.unitsPerEm)}return q};
cm.prototype.aqt=function(){return!this.a8E(0)};cm.prototype.akJ=function(){return this.a8E(1)};cm.prototype.a8E=function(W){var q=this.D8,X=!0,k=0;
for(var N=0;N<q.length;N++){var B=q[N].tE,U=B.length;k+=U;for(var l=0;l<U;l++)X&=B[l].xP}return[X,k][W]};
cm.U7=function(W,q,X){if(q==null)q=.25;var k=W.Points,B=k.length,U=B>>>3,l=W.TextOnPathTRange,K=W.Reversed,p=0,M=0;
if(K){var D=k.slice(0);for(var N=0;N<B;N+=2){D[N]=k[B-2-N];D[N+1]=k[B-1-N]}k=D;l=[U-l[1]%U,U-l[0]%U]}var m=[],Y=[0],a=[0];
for(var N=0;N<B;N+=8){var x=k[N+6]-k[N+0],R=k[N+7]-k[N+1],y=Math.round(Math.sqrt(x*x+R*R)/q),s=X&&N==B-8?y+1:y;
for(var F=0;F<s;F++){var E=F/y,o=1-E,G=o*o*o*k[N+0]+3*o*o*E*k[N+2]+3*o*E*E*k[N+4]+E*E*E*k[N+6],d=o*o*o*k[N+1]+3*o*o*E*k[N+3]+3*o*E*E*k[N+5]+E*E*E*k[N+7];
m.push(G,d);if(N+F!=0){var x=G-p,R=d-M;a.push(a[a.length-1]+Math.sqrt(x*x+R*R));Y.push((N>>>3)+E)}p=G;
M=d}}var q=a.length,u=a[q-1],r=cm.fe(l[0]%U,Y),v=cm.fe(l[1]%U,Y),c=a[r%q],V=a[v%q];if(c>=V)V+=u;return[m,Y,a,u,c,V]};
cm.fe=function(W,q){var N=0;while(q[N]<W)N++;return N};cm.aCr=function(W,q){var X=0,N=0,k,B,U;while(X<q){k=W[N+2]-W[N];
B=W[N+3]-W[N+1];U=Math.sqrt(k*k+B*B);X+=U;N+=2}return[W[N],W[N+1],k/U,B/U]};cm.prototype.aHv=function(W){return this.n6[W]};
cm.prototype.ao5=function(W){for(var q=0;q<this.D8.length;q++){var X=this.D8[q];for(var k=0;k<X.tE.length;
k++){var B=X.tE[k],U=X.e6[B.start].start,l=X.e6[B.end-1].end;if(U<W&&W<l)return[U,l-1]}}return[0,1]};
cm.prototype.aw$=function(W,q){var X=-1,k=this.D8;if(this.R7==2){var B=1e9,U=0,l=k[0],K=l.tE[0];for(var D=K.start;
D<K.end;D++){var m=l.e6[D];for(var Y=m.gG;Y<=m.mA;Y++){var a=l.xk[Y],p=a.OM.r,M=W.x-a.l7.x,x=W.y-a.l7.y,R=M*M+x*x;
if(R<B){B=R;U=a.tH}}}if(U!=0&&this.aH4.codePointAt(U-1)>65535)U--;return U}for(var y=0;y<k.length;y++){var l=k[y];
for(var s=0;s<l.tE.length;s++){X++;var K=l.tE[s],F=l.tE[s+1];if(F==null&&y<k.length-1)F=k[y+1].tE[0];
if(q!=null){if(X!=q)continue}else{if(F!=null&&l.l7.y+K.l7.y<W.y)continue}for(var D=K.start;D<K.end;D++){var m=l.e6[D];
for(var Y=m.gG;Y<=m.mA;Y++){var a=l.xk[Y],p=a.OM.r,E=l.l7.x+K.l7.x+m.l7.x,o=E+a.l7.x,G=E+(Y<m.mA?l.xk[Y+1].l7.x:a.l7.x+p);
if(W.x<=G||D+1==K.end&&Y==m.mA){var d=l.ayR+a.tH,u=this.n6[d],r=u.ej&1;if(u.NI!="\n"&&(r==0&&W.x>o+p/2||r==1&&W.x<o+p/2))d+=this.aH4.codePointAt(d)>65535?2:1;
return d}}}}}};cm.prototype.Xt=function(W){var q={OM:new dU,l8:0},X=0;for(var k=0;k<this.D8.length;k++){var B=this.D8[k];
for(var U=0;U<B.tE.length;U++){var l=B.tE[U];q.l8=X;X++;for(var K=l.start;K<l.end;K++){var D=B.e6[K];
for(var m=D.start;m<D.end;m++){if(m==W){var Y=this.n6[m],a=Y.pr,p=B.xk[a].tH,M=1;while(B.xk[a]!=null&&B.xk[a].tH==p){var x=B.xk[a],R=B.l7.x+l.l7.x+D.l7.x+x.l7.x,y=B.l7.y+l.l7.y+D.l7.y+x.l7.y;
q.OM=q.OM.xw(new dU(R,y-Y.lineHeight,x.OM.r,Y.lineHeight));q.Zi=x.Zi;a+=M}return q}}}}}};cm.prototype.dk=function(){var W=Infinity,q=Infinity,X=-Infinity,k=-Infinity;
for(var N=0;N<this.D8.length;N++){var B=this.D8[N];for(var U=0;U<B.tE.length;U++){var l=B.tE[U];if(!l.xP)break;
for(var K=l.start;K<l.end;K++){var D=B.e6[K];for(var m=D.gG;m<=D.mA;m++){var Y=B.xk[m],a=Y.OM,p=B.l7.x+l.l7.x+D.l7.x+Y.l7.x,M=B.l7.y+l.l7.y+D.l7.y+Y.l7.y;
W=Math.min(W,p+a.x);q=Math.min(q,M+a.y);X=Math.max(X,p+a.x+a.r);k=Math.max(k,M+a.y+a.$)}}}}return new dU(W,q,X-W,k-q)};
cm.Ys=function(W){return 19968<=W&&W<=40959||12288<=W&&W<=12543};cm.iL=function(W,q,X,k,B,U,l){var K=[U],D=0;
for(var N=U;N<l;N++){if(X[N]==null)console.log(N,U,l,X);var m=X[N].NI,Y=m.charCodeAt(0);if(Y==32||Y==9){K.push(D,N,1,N+1);
D=0}else if(Y==3851){K.push(D+1,N+1);D=0}else if(cm.Ys(Y)){K.push(D,N);D=1}else if(N!=U&&X[N].ej!=X[N-1].ej){K.push(D,N);
D=1}else D++}K.push(D);var a=[];for(var N=0;N<K.length;N+=2){var p=K[N],M=K[N+1];if(M==0)continue;a.push(new cm.aad(W,q,X,k,B,p,M))}return a};
cm.a25=function(W,q,X,k,B,U,l){var K=[0,q?q.r:1e9],D=[];if(k){var m=W[U].SY,Y=B+(B==0?m:W[U].lineHeight),a=Y-m*.9,p=g.b.abc(k[0],a),M=p.length,x=g.b.abc(k[0],Y),R=x.length;
if(M!=0&&R!=0){var y=0,s=0,F=[];while(y<M&&s<R){var E=Math.max(p[y],x[s]),o=p[y+1],G=x[s+1],d=Math.min(o,G);
if(E<d)F.push(E,d);if(o<G)y+=2;else s+=2}if(F.length!=0)K=F}}for(var u=0;u<K.length;u+=2){var r=0,v=U,c=q?K[u+1]-K[u]-X.StartIndent-X.EndIndent-(U==0?X.FirstLineIndent:0):Infinity;
while(U!=W.length){var V=W[U],j=r==0||(V.uW||V.cS)||r+V.OM.r<c;if(!j)break;r+=V.OM.r;U++}D.push(U-v)}l[0]=D;
l[1]=K;l[2]=U};cm.aqp=function(W,q){var X=W.length,k=new Uint32Array(X),B=new Uint8Array(X),U=0;for(var N=0;
N<X;N++){B[N]=0;var l=W.charCodeAt(N);k[N]=l;if(l>U)U=l}if(U>1424)B=cm.aeN(k,q);return B};cm.azY=function(W){return W=="ß"?W:W.toUpperCase()};
cm.nZ=function(W,q,X,k,B,U,l){this.e6=[];this.tE=[];this.l7=new hw(0,0);this.xk=null;this.e6=null;this.YL=gZ.alb(W,k);
var K=this.YL,a=0,x="",G=0,d=1,bc=0;if(k!=0){var D=K.SpaceBefore;if(D!=null)U[0]+=D}var m=W.EngineDict.ParagraphRun.RunLengthArray,Y=m[k];
for(var N=0;N<k;N++)a+=m[N];var p=K._Direction?K._Direction:0;this.ayR=a;var M=gZ.mw(W).slice(a,a+Y);
for(var R=0;R<M.length;R++){var y=X[a+R],s=y.YL.FontCaps,F=M.charAt(R);if(s==0)x+=F;if(s==1)x+=y.aE5?cm.azY(F):F;
if(s==2)x+=cm.azY(F)}M=x;var E=cm.aqp(M,p),o=[],u=E[0]&1,r=X[a].Tg;X[a].ej=E[0];for(var N=1;N<M.length;
N++){var F=X[a+N],v=E[N];F.ej=v;if(v!=u||F.Tg!=r){o.push(G,d);G=N;d=1;u=v;r=F.Tg}else d++}o.push(G,d);
var V=this.xk=[];for(var N=0;N<o.length;N+=2){var j=o[N],Q=o[N+1],H=(X[a+j].ej&1)==0,T=M.slice(j,j+Q),e=[];
for(var R=0;R<Q;R++){var z=X[a+j+R].YL,J=[];e.push(J);for(var P=0;P<8;P++)J.push(z[gZ.B7[P]]?1:0);J.push(z.FontCaps==1?1:0);
var L=T.charCodeAt(R),A=z._DigitSet;if(A==null)A=0;if(A>1&&48<=L&&L<=57){L=L-48+1632+(A-2)*144;T=T.slice(0,R)+String.fromCharCode(L)+T.slice(R+1)}}e=cm.afj(e);
var h=Typr.U.shapeHB(X[a+j].Tg,T,{ltr:H,fts:e,axs:X[a+j].a0C}),C=[];for(var R=0;R<h.length;R++){var w=h[R];
C.push({L:w.g,tH:w.cl,Ty:w.ax,Be:w.ay,tN:w.dx,a4s:w.dy})}h=C;for(var R=0;R<Q;R++){var f=0,O=-1;for(var n=0;
n<h.length;n++){var d=h[n].tH;if(d<=R&&d>O){O=d;f=n}}X[a+j+R].pr=V.length+f}for(var R=0;R<h.length;R++){V.push(h[R]);
h[R].tH+=j;var F=X[a+h[R].tH];if(F.z4!=-1&&F.z4<F.Tg.maxp.numGlyphs){h[R].L=F.z4;var $=F.Tg.hmtx;if($){var i=Object.keys($)[0];
h[R].Ty=$[i][F.z4]}}if(F.NI=="\n")h[R].Ty=0;if(F.NI=="\t")h[R].Ty=F.Tg.head.unitsPerEm*36/F.YL.FontSize}}var dF=gZ.kZ(K),t=this.e6=cm.iL(W,q,X,a,V,a,a+Y),im=this.tE,at=-1,x=[null,null,0];
while(bc<t.length){cm.a25(t,B,K,l,U[0],bc,x);at++;var l9={start:bc,end:0,OM:new dU,l7:new hw(0,0),xP:!0},l8=0,au=0;
im.push(l9);l9.end=x[2];if(l9.start==l9.end)throw"e";var fF=l9.end==t.length;function g$(cx,j,fg){var iI=fg-j>>>1;
for(var N=0;N<iI;N++){var eq=cx[j+N];cx[j+N]=cx[fg-1-N];cx[fg-1-N]=eq}}for(var fR=1;fR<5;fR++){var cr=-1;
for(var N=l9.start;N<l9.end;N++){var v=X[t[N].start].ej;if(cr==-1&&v>=fR)cr=N;else if(cr!=-1&&v<fR){g$(t,cr,N);
cr=-1}}var eE=l9.end;if(p==0&&t[eE-1].uW)eE--;if(cr!=-1)g$(t,cr,eE)}var bQ=x[0],hT=x[1],cr=bc,df=bc;
for(var eV=0;eV<hT.length;eV+=2){var gU=B?hT[eV+1]-hT[eV]-K.StartIndent-K.EndIndent-(bc==0?K.FirstLineIndent:0):Infinity,i8=0;
cr=df;df+=bQ[eV>>>1];var bv=this.aiF(cr,df,t,p,B!=null);if(B){if(dF==1||fF&&dF==4)i8=bv[1]+(gU-bv[0]);
if(dF==2||fF&&dF==5)i8=bv[1]+(gU-bv[0])/2;if(df-cr==1&&t[cr].OM.r>gU)i8=0;if(at==0)i8+=K.FirstLineIndent;
i8+=K.StartIndent}else{if(dF==0)i8=K.StartIndent+K.FirstLineIndent;if(dF==1)i8=-bv[0]-K.EndIndent;if(dF==2)i8=-bv[0]/2}i8+=hT[eV];
if(B&&dF>2&&(dF==6||!fF))this.arI(cr,df,t,gU,p,i8);else{var fE=i8;for(var N=cr;N<df;N++){var d5=t[N],aR=d5.OM.r;
d5.l7.x=fE;if(d5.AA=="\t")aR=Math.ceil((fE+4)/36)*36-fE;fE+=aR}}}bc=l9.end;for(var N=l9.start;N<l9.end;
N++){var hx=t[N].OM.P();hx.aud(t[N].l7);l9.OM=l9.OM.xw(hx);l8=Math.max(l8,t[N].SY);au=Math.max(au,t[N].lineHeight)}l9.l7.y=at==0?0:im[at-1].l7.y+au;
if(at==0){if(k==0&&B)U[0]+=l8;if(k!=0)U[0]+=au;this.l7.y=U[0]}else U[0]+=au;if(B)l9.xP=this.l7.y+l9.l7.y<B.y+B.$||k==0&&at==0}var fw=K.SpaceAfter;
if(fw!=null)U[0]+=fw};cm.nZ.prototype.aiF=function(W,q,X,k,B){var U=0,l=0;for(var N=W;N<q;N++)U+=X[N].OM.r;
if(B){if(k==0)for(var N=q-1;N>=W;N--)if(X[N].uW||X[N].cS)U-=X[N].OM.r;else break;if(k==1)for(var N=W;
N<q;N++)if(X[N].uW||X[N].cS){var K=X[N].OM.r;U-=K;l-=K}else break}return[U,l]};cm.nZ.prototype.arI=function(W,q,X,k,B,U){var l=0,K=0,D=0,m=0;
for(var N=W;N<q;N++)if(X[N].uW)D++;else{l+=X[N].OM.r;K++}if(B==0)for(var N=q-1;N>=W;N--)if(X[N].uW||X[N].cS){if(X[N].uW){D--}}else break;
if(B==1)for(var N=W;N<q;N++)if(X[N].uW||X[N].cS){if(X[N].uW){D--;m++}}else break;if(K<=1||D==0){if(K==1)X[W].l7.x=U;
return}var Y=(k-l)/D,a=-m*Y;for(var N=W;N<q;N++){if(X[N].uW)this.xk[X[N].gG].OM.r=X[N].OM.r=Y;X[N].l7.x=U+a;
a+=X[N].OM.r}};cm.aad=function(W,q,X,k,B,U,l){this.AA="";for(var N=0;N<l;N++)this.AA+=X[U+N].NI;this.uW=l==1&&(X[U].NI==" "||X[U].NI=="\t");
this.cS=l==1&&X[U].NI=="\n";this.start=U;this.end=U+l;this.OM=new dU;this.l7=new hw(0,0);this.SY=0;this.lineHeight=0;
var K=0,D=0;if(l==0){this.lineHeight=X[U].lineHeight;this.SY=X[U].SY;this.OM=new dU(0,-X[U].lineHeight,0,X[U].lineHeight)}var m=X[U].pr,Y=X[U+l-1].pr;
if(m==-1)return;if(Y<m){var a=m;m=Y;Y=a}while(Y+1<B.length&&B[Y].tH==B[Y+1].tH){Y++}this.gG=m;this.mA=Y;
for(var p=m;p<=Y;p++){var M=B[p],x=X[k+M.tH],R=W._LineOrientation==2&&(x.YL.BaselineDirection!=2||cm.Ys(x.NI.charCodeAt(0))),y=Typr.U.glyphToPath(x.Tg,M.L,null,x.a0C),G=0;
M.path={zb:y.cmds,n:y.crds};var s=x.YL.FontSize,F=1/x.Tg.head.unitsPerEm*s;if(!x.YL.AutoKerning)K+=x.YL.Kerning*2*F*x.scale.x;
M.l7=new hw(K,0);M.Zi=0;if(R&&M.path.n.length>0){M.Zi=-Math.PI/2;M.l7.x+=s*.83;M.l7.y=-s*.3+M.Ty*F/2;
M.Ty=s/F}var E=M.Ty*F*x.scale.x;M.OM=new dU(0,-x.lineHeight,E,x.lineHeight);var o=M.OM.P();o.aud(M.l7);
if(x.YL.Tracking!=null)G=x.YL.Tracking*.001*s;if(x.YL.FauxBold==!0)G+=.027*s;K+=E+G;if(p<B.length-2)M.OM.r+=G;
if(l==1&&x.NI==" "){o.r+=2*G;M.l7.x+=G}else if(l==1&&x.NI!=null&&cm.Ys(x.NI.charCodeAt(0)))o.r+=G;this.OM=this.OM.xw(o);
this.SY=Math.max(this.SY,x.SY);this.lineHeight=Math.max(this.lineHeight,x.lineHeight)}};cm._u=0;cm.aBF=function(W){if(cm._u==2)return!0;
if(cm._u==1)return!1;cm._u=1;function q(){fetch(gv.MG("code/ext/fribidi.wasm")).then(function(X){return X.arrayBuffer()}).then(function(X){return WebAssembly.instantiate(X)}).then(function(X){var k=X.instance.exports,B=k.memory,U=16,l=256,K=1,D=U|l,m=U|l|K;
cm.aeN=function(a,p){var M=a.length,x=M*4+4+M*4+M*4+M;lf.Q0(k,x+M+1e7);var R=new Uint8Array(B.buffer),y=new Uint32Array(B.buffer),s=k.calloc(x,1),F=s+M*4,E=F+4,o=E+M*4,G=o+M*4;
y.set(a,s>>>2);y[F>>>2]=p==0?D:m;k.fribidi_get_bidi_types(s,M,E);k.fribidi_get_bracket_types(s,M,E,o);
k.fribidi_get_par_embedding_levels_ex(E,o,M,F,G);var d=R.slice(G,G+M);k.free(s);return d};cm._u=2;var Y=new ip(S.E.H,!0);
Y.data={R:S.m.Dt,m8:"add",rl:aI.Il,ij:null};if(W)W.T(Y)})}Typr.U.initHB(gv.MG("code/ext/hb.wasm"),q);
return!1};cm.afj=function(W){var q=[],X=W.length,k=gZ.ab9;for(var B=0;B<9;B++){var U=k[B],K=null;if(U==null)continue;
var l=-1;for(var N=0;N<X;N++){var D=W[N][B];if(D!=l){if(K)K[3]=N;K=[U,D,N,N+1];q.push(K);l=D}}K[3]=X}return q};
function gZ(){}gZ.fS=function(W,q){for(var X in q)W[X]=q[X]};gZ.B7="_Ligatures _ContextualLigatures _DiscretionaryLigatures _Swash _StylisticAlternates _Titling _Ordinals _Fractions".split(" ");
gZ.$f=[18,20,19,25,28,26,24,23];gZ.acF="Standard Ligatures,Contextual Ligatures,Discretionary Ligatures,Swash,Stylistic Alternates,Titling Alternates,Ordinals,Fractions".split(",");
gZ.ab9="liga calt dlig swsh salt titl ordn frac smcp".split(" ");gZ.k7=function(W){return W.Axis?W.Name.split("_")[0]:W.Name};
gZ.nG=function(W,q,X,k){var B=gZ.azT();if(X)gZ.oM(B,0,0,X);var U=new ka;if(k!=null)U.rotate(k);U.translate(Math.round(W),Math.round(q));
var l={M:U,FZ:B};l.ZN=gZ.ah6();l.DO=g.NP.j();l.oJ=new dU;return l};gZ.ajO=function(W){var q=["CharacterDirection",0];
for(var N=0;N<q.length;N+=2){if(W[q[N]]!=null&&W[q[N]]!=q[N+1]){throw"e";console.log(q[N],W[q[N]])}}if(W instanceof Array)for(var N=0;
N<W.length;N++)gZ.ajO(W[N]);else if(W instanceof Object)for(var X in W)gZ.ajO(W[X])};gZ.kZ=function(W,q){if(q==null)q=W.Justification;
var X=W._Direction?W._Direction:0;if(X==1){if(q==0||q==3)q++;else if(q==1||q==4)q--}return q};gZ.MZ=function(W){if(W.add==null)return;
var q=W.FZ,X=q.Curve,k=W.add.vmsk,B=k.G,U=g.b.sz(B,2).n,l=W.M.P();l.i5();g.b.M(U,l,U);var K=U.slice(0,8);
for(var D=8;D<U.length;D+=6)K.push(U[D-2],U[D-1],U[D],U[D+1],U[D+2],U[D+3],U[D+4],U[D+5]);X.Points=K;
X.TextOnPathTRange=k.qH.slice(0);X.Reversed=k.av;if(gZ.sJ(q)==1){var X=cm.U7(q.Curve),m=g.b.Hb(X[0]);
gZ.eR(q,[0,0,m.r,m.$].map(Math.round));for(var N=0;N<K.length;N+=2){K[N]-=m.x;K[N+1]-=m.y}var Y=new ka(1,0,0,1,m.x,m.y);
Y.concat(W.M);W.M=Y}};gZ.v7=function(W){if(W.add==null)return;var q=W.add.vmsk,X=W.FZ.Curve,k=X.Points,B={zb:["M"],n:[k[0],k[1]]};
for(var N=0;N<k.length;N+=8){B.zb.push("C");B.n.push(k[N+2],k[N+3],k[N+4],k[N+5],k[N+6],k[N+7])}g.b.M(B.n,W.M,B.n);
var U=g.b.gH(B,!0);q.G=U;q.av=X.Reversed;q.qH=X.TextOnPathTRange.slice(0);W.add.vogk=b.tw(U)};gZ.yM=function(W){var q={o:0,L:0,X:0};
if(W){var X=W.Values;if(W.Type==1)q={o:X[1]*255,L:X[2]*255,X:X[3]*255};else if(W.Type==2){var k={classID:"CMYC",Cyn:{t:"doub",v:X[1]*100},Mgnt:{t:"doub",v:X[2]*100},Ylw:{t:"doub",v:X[3]*100},Blck:{t:"doub",v:X[4]*100}};
q=g.ov.yM(k)}else console.log("Unknown color type")}return q};gZ.adh=function(W){for(var N=0;N<W.length;
N++){var q=W[N].StyleSheet.StyleSheetData,X=q.FillColor;if(X&&X.Type==2){var k=gZ.yM(X);X.Type=1;X.Values=[1,k.o/255,k.L/255,k.X/255]}}};
gZ.wu=function(W,q){var X;if(gZ.sJ(W.FZ)==1){var k=gZ.KJ(W.FZ);X=new dU(0,0,k[2]-k[0],k[3]-k[1])}else{X=q.dk();
if(q.Cx){var B=q.Cx.P(),U=g.b.Lw(X);g.b.M(U.n,B,U.n);X=g.b.Hb(U.n)}}return X};gZ.xY=function(W){var q=W[0];
for(var N=0;N<W.length;N++)q=gZ.a7R(q,W[N]);return q};gZ.a7R=function(W,q){var X={};for(var k in W)if(JSON.stringify(W[k])==JSON.stringify(q[k]))X[k]=W[k];
return X};gZ.j_=function(W,q){var X=W.MD,k=-1;for(var N=0;N<X.length;N++)if(X[N].Name==q)k=N;if(k==-1){k=X.length;
X.push({FontType:1,Name:q,Script:0,Synthetic:0})}W.n6.Font=k};gZ.mw=function(W){return W.EngineDict.Editor.Text.replace(/\r/g,"\n").replace(/\u0003/g,"\n")};
gZ.gK=function(W,q){W.EngineDict.Editor.Text=q.replace(/\n/g,"\r")};gZ.sJ=function(W){return W.Curve&&W.Curve.TextOnPathTRange[0]>=0?2:W.EngineDict.Rendered.Shapes.Children[0].ShapeType};
gZ.XM=function(W,q){var X=W.EngineDict.Rendered.Shapes.Children[0];X.ShapeType=q;var k=X.Cookie.Photoshop;
k.ShapeType=q;k.Base.ShapeType=q;if(q==0){delete k.BoxBounds;k.PointBase=[0,0]}if(q==1){delete k.PointBase;
k.BoxBounds=[0,0,1,1]}};gZ.KJ=function(W){return W.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds};
gZ.eR=function(W,q){W.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds=q};gZ.a3O=function(W,q){var X=W.EngineDict.AlternateGlyphRun;
if(X==null)return-1;var k=gZ.Wk(X.RunLengthArray,q).c7;if(X.RunArray[k]==null)return-1;var B=X.RunArray[k].Glyph;
return B==null?-1:B};gZ.a8d=function(W,q,X){var k=W.EngineDict.AlternateGlyphRun;if(k==null){k=W.EngineDict.AlternateGlyphRun=gZ.ag_();
k.RunArray.push({});k.RunLengthArray.push(gZ.mw(W).length)}var B=gZ.Wk(k.RunLengthArray,q),U=B.c7,l=q-B.LG,K=k.RunArray[U],D=JSON.stringify(K),m=k.RunLengthArray[U];
if(l!=0){k.RunArray.splice(U,0,JSON.parse(D));k.RunLengthArray.splice(U,0,l);k.RunLengthArray[U+1]-=l;
U++;m-=l;l=0}if(m!=1){k.RunArray.splice(U+1,0,JSON.parse(D));k.RunLengthArray.splice(U+1,0,m-1);k.RunLengthArray[U]=1;
m=1}K.Glyph=X};gZ.ahd=function(W,q){var X=W.EngineDict.StyleRun.RunLengthArray;return gZ.Wk(X,q).c7};
gZ.apG=function(W,q){var X=W.ResourceDict.StyleSheetSet[0].StyleSheetData,k={};for(var B in X)k[B]=X[B];
var U=W.EngineDict.StyleRun.RunArray[q].StyleSheet.StyleSheetData;gZ.fS(k,U);return k};gZ.anP=function(W,q){var X=W.EngineDict.ParagraphRun.RunLengthArray;
return gZ.Wk(X,q).c7};gZ.alb=function(W,q){var X=W.ResourceDict.ParagraphSheetSet[0].Properties,k={};
for(var B in X)k[B]=X[B];var U=W.EngineDict.ParagraphRun.RunArray[q].ParagraphSheet.Properties;gZ.fS(k,U);
var l=["StartIndent","EndIndent","FirstLineIndent"];for(var N=0;N<3;N++)if(k[l[N]]==null)k[l[N]]=0;return k};
gZ.avR=function(W,q,X){var k=gZ.mw(q);for(var B=0;B<2;B++){var U=W[B==0?"Txtt":"paragraphStyleRange"];
if(U==null)continue;U=U.v;console.log(U);for(var N=0;N<U.length;N++){var l=U[N].v,K=l.From.v,D=Math.min(l.T.v-1,k.length-1);
l=l[B==0?"TxtS":"paragraphStyle"].v;var m=gZ.J0(q,K,D);gZ.sN(l,B==0?m.n6:m.D8,m,X.mC);gZ.oM(q,K,D,m)}}};
gZ.aCH=function(W,q,X){var k=gZ.mw(q).slice(0,-1);for(var B=0;B<2;B++){var U=B==0?"Txtt":"paragraphStyleRange",l=B==0?"TxtS":"paragraphStyle",K=W[U]={t:"VlLs",v:[]},Y=0;
K=K.v;var D=q.EngineDict[B==0?"StyleRun":"ParagraphRun"],m=D.RunLengthArray;for(var N=0;N<m.length;N++){var a=Y+m[N],p=gZ.J0(q,Y,a-1),M=B==0?p.n6:p.D8,x={t:"Objc",v:{classID:U,From:{t:"long",v:Y},T:{t:"long",v:a}}};
K.push(x);x.v[l]={t:"Objc",v:{classID:l}};x=x.v[l].v;gZ.km(M,x,p,X.mC);Y=a}}};gZ.sN=function(W,q,X,k){for(var B in W){var U=W[B].v;
if(B=="Sz")q.FontSize=Math.round(U.val*(U.type=="#Pnt"?k/72:1));if(B=="fontPostScriptName")gZ.j_(X,U);
if(B=="Algn")q.Justification=["Left","Rght","Cntr"].indexOf(U.Alg);if(B=="leading")q.Leading=W[B].v.val;
if(B=="baselineShift"||B=="Bsln")q.BaselineShift=W[B].v.val;if(B=="autoLeading")q.AutoLeading=W[B].v;
if(B=="syntheticBold")q.FauxBold=W[B].v;if(B=="syntheticItalic")q.FauxItalic=W[B].v;if(B=="Trck")q.Tracking=W[B].v;
if(B=="verticalScale"||B=="VrtS")q.VerticalScale=W[B].v/100;if(B=="horizontalScale"||B=="HrzS")q.HorizontalScale=W[B].v/100;
if(B=="Clr")q.FillColor={Type:1,Values:[1,U.Rd.v/255,U.Grn.v/255,U.Bl.v/255]}}};gZ.km=function(W,q,X,k){for(var B in W){var U=W[B];
if(B=="FontSize")q.Sz={t:"UntF",v:{type:"#Pnt",val:U*72/k}};if(B=="Font")q.fontPostScriptName={t:"TEXT",v:X.MD[U].Name};
if(B=="Justification")q.Algn={t:"enum",v:{Alg:["Left","Rght","Cntr"][U]}};if(B=="Leading")q.leading={t:"long",v:U};
if(B=="BaselineShift")q.Bsln={t:"UntF",v:{type:"#Pnt",val:U}};if(B=="AutoLeading")q.autoLeading={t:"bool",v:U};
if(B=="FauxBold")q.syntheticBold={t:"bool",v:U};if(B=="FauxItalic")q.syntheticItalic={t:"bool",v:U};
if(B=="Tracking")q.Trck={t:"long",v:U};if(B=="VerticalScale")q.VrtS={t:"doub",v:U*100};if(B=="HorizontalScale")q.HrzS={t:"doub",v:U*100};
if(B=="FillColor")q.Clr={t:"Objc",v:g.ov.E2({o:255*U.Values[1],L:255*U.Values[2],X:255*U.Values[3]})}}};
gZ.L3=function(W,q,X){if(X=="")return;var k=gZ.mw(W);gZ.gK(W,k.substring(0,q)+X+k.substring(q,k.length));
var B=W.EngineDict.StyleRun,U=B.RunLengthArray,l=gZ.Wk(U,q-1);U[l.c7]+=X.length;var K=W.EngineDict.AlternateGlyphRun;
if(K){var U=K.RunLengthArray,l=gZ.Wk(U,q-1);U[l.c7]+=X.length}var D=W.EngineDict.ParagraphRun,U=D.RunLengthArray,m=gZ.Wk(U,q),Y=X.split("\n");
if(Y.length==1){U[m.c7]+=X.length;return}U.splice(m.c7+1,0,U[m.c7]-(q-m.LG));D.RunArray.splice(m.c7+1,0,g.N(D.RunArray[m.c7]));
U[m.c7]-=U[m.c7+1];U[m.c7]+=Y[0].length+1;for(var N=1;N<Y.length-1;N++){D.RunArray.splice(m.c7+N,0,g.N(D.RunArray[m.c7+N-1]));
D.RunLengthArray.splice(m.c7+N,0,Y[N].length+1)}U[m.c7+Y.length-1]+=Y[Y.length-1].length};gZ.xo=function(W,q,X){var k=gZ.mw(W);
gZ.gK(W,k.substring(0,q)+k.substring(X,k.length));gZ.lw(W.EngineDict.ParagraphRun,q,X,!0);gZ.lw(W.EngineDict.StyleRun,q,X,!1);
var B=W.EngineDict.AlternateGlyphRun;if(B)gZ.lw(B,q,X,!1)};gZ.lw=function(W,q,X,k){var B=W.RunLengthArray,U=gZ.Wk(B,q),l=gZ.Wk(B,X),K=[];
for(var N=0;N<B.length;N++)for(var D=0;D<B[N];D++)K.push(N);K.splice(q,X-q);var m=[];for(var N=0;N<B.length;
N++)m.push(0);for(var N=0;N<K.length;N++)m[K[N]]++;for(var N=0;N<B.length;N++){if(m[N]==0){m.splice(N,1);
B.splice(N,1);W.RunArray.splice(N,1);N--}else if(m[N]<B[N])B[N]=m[N]}if(k&&U.c7!=l.c7&&U.LG!=q){B[U.c7]+=B[U.c7+1];
B.splice(U.c7+1,1);W.RunArray.splice(U.c7+1,1)}};gZ.oM=function(W,q,X,k){var B=k.n6.Font,U=W.ResourceDict.FontSet,l=W.EngineDict.Editor.Text.length;
if(X==l-2)X++;if(B!=null){var K=k.MD[B],D=-1;for(var N=0;N<U.length;N++)if(U[N].Name==K.Name)D=N;if(D==-1){D=U.length;
U.push(g.N(K))}k.n6.Font=D}if(q<=X)gZ.alB(W.EngineDict.StyleRun,k.n6,q,X,!0);gZ.alB(W.EngineDict.ParagraphRun,k.D8,q,X,!1);
k.n6.Font=B;if(U.length>20){var m=W.ResourceDict.FontSet=[],Y=W.EngineDict.StyleRun.RunArray,a={};for(var N=0;
N<Y.length;N++){var p=Y[N].StyleSheet.StyleSheetData,M=p.Font;if(M!=null){if(a[M]==null){a[M]=m.length;
m.push(U[M])}p.Font=a[M]}}}};gZ.J0=function(W,q,X){var k={MD:W.ResourceDict.FontSet.slice(0),n6:[],D8:[]},B=W.EngineDict.StyleRun.RunLengthArray,U=gZ.Wk(B,q).c7,l=gZ.Wk(B,X).c7;
for(var N=U;N<=l;N++){var K=g.N(W.ResourceDict.StyleSheetSet[0].StyleSheetData),D=W.EngineDict.StyleRun.RunArray;
if(D.length==0)continue;var m=D[N].StyleSheet.StyleSheetData;gZ.fS(K,m);k.n6.push(K)}var Y=W.EngineDict.ParagraphRun.RunLengthArray,a=gZ.Wk(Y,q).c7,p=gZ.Wk(Y,X).c7;
for(var N=a;N<=p;N++){var M=W.EngineDict.ParagraphRun.RunArray;if(M.length==0)continue;k.D8.push(g.N(M[N].ParagraphSheet.Properties))}k.n6=k.n6.length==0?{}:gZ.xY(k.n6);
k.D8=k.D8.length==0?{}:gZ.xY(k.D8);return k};gZ.alB=function(W,q,X,k,B){var U=W.RunLengthArray;if(B){var l=gZ.Wk(U,X);
if(l.LG!=X){var K=U[l.c7];U.splice(l.c7,0,X-l.LG);U[l.c7+1]=K-U[l.c7];W.RunArray.splice(l.c7+1,0,g.N(W.RunArray[l.c7]))}var D=gZ.Wk(U,k);
if(D.LG+U[D.c7]-1!=k){var K=U[D.c7];U.splice(D.c7,0,k-D.LG+1);U[D.c7+1]=K-U[D.c7];W.RunArray.splice(D.c7+1,0,g.N(W.RunArray[D.c7]))}}var l=gZ.Wk(U,X),D=gZ.Wk(U,k);
if(B)for(var N=l.c7;N<=D.c7;N++)gZ.fS(W.RunArray[N].StyleSheet.StyleSheetData,q);else for(var N=l.c7;
N<=D.c7;N++)gZ.fS(W.RunArray[N].ParagraphSheet.Properties,q)};gZ.ars=function(W,q,X){var k=W.EngineDict.StyleRun.RunLengthArray,B=[],U=0;
for(var N=0;N<k.length;N++){var l=k[N];for(var K=0;K<l;K++)if(q<=U+K&&U+K<X)B.push(N);U+=l}var D=B[0],m=[];
for(var N=0;N<B.length;N++){var Y=B[N]-D;if(Y==m.length)m.push(0);m[Y]++}return m};gZ.aoe=function(W){var q=W.EngineDict.StyleRun,X=q.RunArray,k=q.RunLengthArray;
for(var N=0;N<k.length-1;N++){var B=X[N].StyleSheet.StyleSheetData,U=X[N+1].StyleSheet.StyleSheetData;
if(JSON.stringify(B)==JSON.stringify(U)){X.splice(N+1,1);k[N]+=k[N+1];k.splice(N+1,1);N--}}};gZ.ao=function(W){var q=W.ZN.AntA.v.Annt;
q=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"].indexOf(q);if(q==-1)q=1;return q};gZ.ua=function(W,q){W.ZN.AntA.v.Annt=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"][q]};
gZ.Nn=function(W,q){var X,k;X=["FontSize","Leading","BaselineShift","OutlineWidth"];k=W.n6;for(var N=0;
N<X.length;N++)if(k[X[N]]!=null)k[X[N]]*=q;X=["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"];
k=W.D8;for(var N=0;N<X.length;N++)if(k[X[N]]!=null)k[X[N]]*=q};gZ.aut=function(){return gZ.J0(g.N(gZ.apn),0,0)};
gZ.ah6=function(){return{classID:"TxLr",Txt:{t:"TEXT",v:"\0"},textGridding:{t:"enum",v:{textGridding:"None"}},Ornt:{t:"enum",v:{Ornt:"Hrzn"}},AntA:{t:"enum",v:{Annt:"antiAliasSharp"}},TextIndex:{t:"long",v:0},VAlign:{t:"long",v:0}}};
gZ.Wk=function(W,q){var X=0,N=0;while(X+W[N]<=q){X+=W[N];N++}return{c7:N,LG:X}};gZ.azT=function(){var W=g.N(this.apn);
return W};gZ.aj3={Justification:0,FirstLineIndent:0,StartIndent:0,EndIndent:0,SpaceBefore:0,SpaceAfter:0,AutoHyphenate:!1,HyphenatedWordSize:6,PreHyphen:2,PostHyphen:2,ConsecutiveHyphens:8,Zone:36,WordSpacing:[.8,1,1.33],LetterSpacing:[0,0,0],GlyphSpacing:[1,1,1],AutoLeading:1.2,LeadingType:0,Hanging:!1,Burasagari:!1,KinsokuOrder:0,EveryLineComposer:!1,_Direction:0,_ComposerEngine:1};
gZ.a7N={Font:0,FontSize:12,FauxBold:!1,FauxItalic:!1,AutoLeading:!0,Leading:0,HorizontalScale:1,VerticalScale:1,Tracking:0,AutoKerning:!0,Kerning:0,BaselineShift:0,FontCaps:0,FontBaseline:0,Underline:!1,Strikethrough:!1,Ligatures:!0,DLigatures:!1,BaselineDirection:2,Tsume:0,StyleRunAlignment:2,Language:0,NoBreak:!1,FillColor:{Type:1,Values:[1,0,0,0]},StrokeColor:{Type:1,Values:[1,0,0,0]},_FillBackgroundFlag:!1,_FillBackgroundColor:{Type:1,Values:[1,0,0,0]},FillFlag:!0,StrokeFlag:!1,FillFirst:!0,YUnderline:1,OutlineWidth:1,CharacterDirection:0,HindiNumbers:!1,Kashida:1,DiacriticPos:2};
gZ.ag_=function(){return{RunArray:[],RunLengthArray:[],IsJoinable:2}};gZ.apn={EngineDict:{Editor:{Text:"\n"},ParagraphRun:{DefaultRunData:{ParagraphSheet:{DefaultStyleSheet:0,Properties:{}},Adjustments:{Axis:[1,0,1],XY:[0,0]}},RunArray:[{ParagraphSheet:{DefaultStyleSheet:0,Properties:g.N(gZ.aj3)},Adjustments:{Axis:[1,0,1],XY:[0,0]}}],RunLengthArray:[1],IsJoinable:1},StyleRun:{DefaultRunData:{StyleSheet:{StyleSheetData:{}}},RunArray:[{StyleSheet:{StyleSheetData:{Font:0,FontSize:24,AutoKerning:!0,Kerning:0}}}],RunLengthArray:[1],IsJoinable:2},GridInfo:{GridIsOn:!1,ShowGrid:!1,GridSize:18,GridLeading:22,GridColor:{Type:1,Values:[0,0,0,1]},GridLeadingFillColor:{Type:1,Values:[0,0,0,1]},AlignLineHeightToGridFlags:!1},AntiAlias:4,UseFractionalGlyphWidths:!0,Rendered:{Version:1,Shapes:{WritingDirection:0,Children:[{ShapeType:0,Procession:0,Lines:{WritingDirection:0,Children:[]},Cookie:{Photoshop:{ShapeType:0,PointBase:[0,0],Base:{ShapeType:0,TransformPoint0:[1,0],TransformPoint1:[0,1],TransformPoint2:[0,0]}}}}]}}},ResourceDict:{KinsokuSet:[{Name:"PhotoshopKinsokuHard",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01ー\u2015\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011ヽヾゝゞ々ぁぃぅぇぉっゃゅょゎァィゥェォッャュョヮヵヶ\u309B\u309C?!)]},.:;\u2103\u2109\xA2\uFF05\u2030",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010([{\uFFE5\uFF04\xA3\uFF20\xA7\u3012\uFF03",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"},{Name:"PhotoshopKinsokuSoft",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011ヽヾゝゞ々",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"}],MojiKumiSet:[{InternalName:"Photoshop6MojiKumiSet1"},{InternalName:"Photoshop6MojiKumiSet2"},{InternalName:"Photoshop6MojiKumiSet3"},{InternalName:"Photoshop6MojiKumiSet4"}],TheNormalStyleSheet:0,TheNormalParagraphSheet:0,ParagraphSheetSet:[{Name:"Normal RGB",DefaultStyleSheet:0,Properties:g.N(gZ.aj3)}],StyleSheetSet:[{Name:"Normal RGB",StyleSheetData:g.N(gZ.a7N)}],FontSet:[{Name:"DejaVuSans",Script:0,FontType:1,Synthetic:0},{Name:"AdobeInvisFont",Script:0,FontType:0,Synthetic:0},{Name:"MyriadHebrew-Regular",Script:6,FontType:0,Synthetic:0}],SuperscriptSize:.583,SuperscriptPosition:.333,SubscriptSize:.583,SubscriptPosition:.333,SmallCapSize:.7}};
var cR={};cR.a9a=function(W){var q=cR.a69(W._0,W._1);cR.aDZ(q,W._0);return q};cR.aKd=function(W,q,X){var k={};
k._98={_0:"i7"};k._0=cR.am8(W,q,X?X._0:null);k._1=cR.aoU(W,q,k._0,X?X._1:null);return k};cR.am8=function(W,q,X){var k={};
k._1=cR.aJb(W,X?X._1:null);k._2={_0:[{_0:{_0:"s"}}],_1:[{_0:"i0"}]};k._3=g.N(cR.al7);k._4=g.N(cR.a76);
k._5=cR.ahk(W,k._1._0,X?X._5:null);k._6=cR.aJd(W,X?X._6:null);k._8=cR.aw9(W,q,X?X._8:null);k._9=cR.a5f;
return k};cR.aDZ=function(W,q){cR.ayb(W,q._5,q._1._0)};cR.aJb=function(W,q){var X=[],k=[];for(var N=0;
N<W.length;N++){var B=W[N].ResourceDict.FontSet;for(var U=0;U<B.length;U++){var l=B[U];if(k.indexOf(l.Name)!=-1)continue;
X.push(l);k.push(l.Name)}}var K={_0:[]};for(var N=0;N<X.length;N++){var D=X[N],m=D.Axis,Y={_0:"s"+D.Name,_1:"i"+D.Script,_2:"i"+D.FontType};
if(m){var a=Y._4=[];for(var U=0;U<m.length;U++)a.push("i"+m[U])}if(D.Script==0)delete Y._1;K._0.push({_0:{_99:"/CoolTypeFont",_0:Y}})}return K};
cR.ahk=function(W,q,X){var k={_0:[],_1:[]},B={_0:g.N(cR.aF6)};cR.afS(B._0,W[0].ResourceDict.StyleSheetSet[0],q,W[0].ResourceDict.FontSet);
k._0.push(B);k._1.push({_0:"i0"});k._0.push({_0:{_0:"sNone",_5:"i0",_6:{}}});k._1.push({_0:"i1"});return k};
cR.ayb=function(W,q,X){var k=q._0[0];for(var N=0;N<W.length;N++)cR.afx(k._0,W[N].ResourceDict.StyleSheetSet[0],X,W[N].ResourceDict.FontSet)};
cR.aJd=function(W,q){var X={_0:[],_1:[]},k={_0:g.N(cR.AT)};cR.HA(k._0,W[0].ResourceDict.ParagraphSheetSet[0]);
X._0.push(k);X._1.push({_0:"i0"});k={_0:g.N(cR.AT)};cR.HA(k._0,W[0].ResourceDict.ParagraphSheetSet[0]);
k._0._0="sBasic Paragraph";k._0._6="i0";X._0.push(k);X._1.push({_0:"i1"});return X};cR.aw9=function(W,q,X){var k={_0:[]};
for(var N=0;N<W.length;N++){var B=W[N].Curve,U={};k._0.push({_0:U});var l=gZ.sJ(W[N]);U._1={};U._2={};
U._2._0="i"+l;if(W[N]._LineOrientation==2)U._2._1="i2";if(l==0){delete U._1;U._2._6=["f-1","f-1"];U._2._11={_4:"i-1",_7:!1}}else if(l==1&&B==null){var K=gZ.KJ(W[N]),D=K[2],m=K[3];
U._1._0=cR.HI("f",[0,0,0,0,D,0,D,0,D,0,D,0,D,m,D,m,D,m,D,m,0,m,0,m,0,m,0,m,0,0,0,0]);U._2._6=["f-2","f-2"];
U._2._11={_4:"i-2",_7:!1}}else if(l==1){var K=gZ.KJ(W[N]),D=K[2],m=K[3];U._1._0=cR.HI("f",B.Points);
U._2._6=["f-3","f-3"];U._2._11={_4:"i-3",_7:!1}}else if(l==2){U._1._0=cR.HI("f",B.Points);U._2._6=cR.HI("f",B.TextOnPathTRange);
U._2._11={_0:B.Reversed,_3:"i0",_5:"f0",_7:!1}}}return k};cR.aoU=function(W,q,X,k){var B={};B._0=g.N(cR.ahm);
B._1=cR.a2y(W,q,X,k?k._1:null);B._2=g.N(cR.aF6._6);B._3=g.N(cR.AT._5);return B};cR.a69=function(W,q){return cR.aEF(W,q._1)};
cR.a2y=function(W,q,X,k){var B=[],U=X._1._0;for(var N=0;N<W.length;N++){var l=W[N],K={_0:{}};B.push(K);
K._0._0="s"+l.EngineDict.Editor.Text;K._0._0=K._0._0;var D=K._0._5={_0:[]},m=l.EngineDict.ParagraphRun;
for(var Y=0;Y<m.RunArray.length;Y++){var a={_0:{}};D._0.push(a);a._0._0={_0:"s",_5:{},_6:"i1"};cR.HA(a._0._0,m.RunArray[Y].ParagraphSheet);
a._1="i"+m.RunLengthArray[Y]}var p=K._0._6={_0:[]};m=l.EngineDict.StyleRun;for(var Y=0;Y<m.RunArray.length;
Y++){var M={_0:{}};p._0.push(M);M._0._0={_0:"s",_5:"i1",_6:{}};cR.afS(M._0._0,m.RunArray[Y].StyleSheet,U,l.ResourceDict.FontSet);
M._1="i"+m.RunLengthArray[Y]}m=l.EngineDict.AlternateGlyphRun;if(m){var x=K._0._9={_0:[]};for(var Y=0;
Y<m.RunArray.length;Y++){var R={_0:{}};x._0.push(R);var y=m.RunArray[Y];if(y.Glyph!=null){R._0._0={_0:"i"+y.Glyph,_1:"e"}}R._1="i"+m.RunLengthArray[Y]}}K._0._10={_0:"i4",_2:!0};
K._1=cR.view.aEK(l,null,N,null)}return B};cR.aEF=function(W,q){var X=[],k=W._1._0;if(q)for(var N=0;N<q.length;
N++){var B=gZ.azT();X.push(B);var U=q[N];B.EngineDict.Editor.Text=U._0._0.slice(1);var l=B.EngineDict.ParagraphRun.RunArray[0],K=B.EngineDict.ParagraphRun,D=U._0._5;
if(D)for(var m=0;m<D._0.length;m++){var Y=D._0[m];K.RunLengthArray[m]=parseInt(Y._1.slice(1));K.RunArray[m]=g.N(l);
cR.a73(Y._0._0,K.RunArray[m].ParagraphSheet)}else{K.RunLengthArray[0]=gZ.mw(B).length}var a=U._0._6;
K=B.EngineDict.StyleRun;if(a)for(var m=0;m<a._0.length;m++){var p=a._0[m];K.RunLengthArray[m]=parseInt(p._1.slice(1));
K.RunArray[m]={StyleSheet:{StyleSheetData:{}}};cR.afx(p._0._0,K.RunArray[m].StyleSheet,k,B.ResourceDict.FontSet)}else{K.RunLengthArray[0]=gZ.mw(B).length;
K.RunArray[0]={StyleSheet:{StyleSheetData:{}}}}}return X};cR.afS=function(W,q,X,k,B){W._0="s"+(q.Name?q.Name:"");
var U=W._6,l=B?B._6:null,K=q.StyleSheetData;if(K.Font!=null){var D=k[K.Font].Name,m=-1;for(var N=0;N<X.length;
N++)if("s"+D==X[N]._0._0._0){m=N;break}U._0="i"+m}if(K.FontSize!=null)U._1="f"+K.FontSize;if(K.FauxBold!=null)U._2=K.FauxBold;
if(K.FauxItalic!=null)U._3=K.FauxItalic;if(K.AutoLeading!=null)U._4=K.AutoLeading;if(K.Leading!=null)U._5="f"+K.Leading;
if(K.HorizontalScale!=null)U._6="f"+K.HorizontalScale;if(K.VerticalScale!=null)U._7="f"+K.VerticalScale;
if(K.Tracking!=null)U._8="i"+K.Tracking;if(K.BaselineShift!=null)U._9="f"+K.BaselineShift;if(K.AutoKerning!=null)U._11="i"+(K.AutoKerning?1:0);
if(K.FontCaps!=null)U._12="i"+K.FontCaps;if(K.FontBaseline!=null)U._13="i"+K.FontBaseline;if(K.Strikethrough!=null)U._15="i"+(K.Strikethrough?1:0);
if(K.Underline!=null)U._16="i"+(K.Underline?2:0);if(K.Ligatures!=null)U._18=K.Ligatures;if(K.DLigatures!=null)U._19=K.DLigatures;
if(K.BaselineDirection!=null)U._35="i"+K.BaselineDirection;if(K.Language!=null)U._38="i"+K.Language;
if(K.FillColor!=null)U._53=cR.PN(K.FillColor);if(K.StrokeColor!=null)U._54=cR.PN(K.StrokeColor);if(K.FillFlag!=null)U._56=K.FillFlag;
if(K.StrokeFlag!=null)U._57=K.StrokeFlag;if(K.FillFirst!=null)U._58=K.FillFirst;if(K.OutlineWidth!=null)U._63="f"+K.OutlineWidth;
if(K._FillBackgroundColor!=null)U._79=cR.PN(K._FillBackgroundColor);if(K._FillBackgroundFlag!=null)U._80=K._FillBackgroundFlag;
if(K._LineCap!=null)U._61="i"+K._LineCap;if(K._LineJoin!=null)U._62="i"+K._LineJoin;if(K._MiterLimit!=null)U._64="f"+K._MiterLimit;
if(K._LineDashOffset!=null)U._65="f"+K._LineDashOffset;if(K._LineDashArray!=null)U._66=cR.HI("f",K._LineDashArray);
if(K._DigitSet!=null)U._70="i"+K._DigitSet;for(var N=0;N<8;N++)if(K[gZ.B7[N]]!=null)U["_"+gZ.$f[N]]=K[gZ.B7[N]]};
cR.PN=function(W){return{_99:"/SimplePaint",_0:{_0:"i1",_1:cR.HI("f",W.Values)}}};cR.afx=function(W,q,X,k){var B=W._6;
if(B==null)return;var U=q.StyleSheetData;if(B._0){var l=parseInt(B._0.slice(1)),K=X[l]._0._0._0.slice(1);
gZ.j_({n6:U,MD:k},K)}if(B._1!=null)U.FontSize=parseFloat(B._1.slice(1));if(B._2!=null)U.FauxBold=B._2;
if(B._3!=null)U.FauxItalic=B._3;if(B._4!=null)U.AutoLeading=B._4;if(B._5!=null)U.Leading=parseFloat(B._5.slice(1));
if(B._6!=null)U.HorizontalScale=parseFloat(B._6.slice(1));if(B._7!=null)U.VerticalScale=parseFloat(B._7.slice(1));
if(B._8!=null)U.Tracking=parseFloat(B._8.slice(1));if(B._9!=null)U.BaselineShift=parseFloat(B._9.slice(1));
if(B._11!=null)U.AutoKerning=parseFloat(B._11.slice(1))==1;if(B._12!=null)U.FontCaps=parseFloat(B._12.slice(1));
if(B._13!=null)U.FontBaseline=parseFloat(B._13.slice(1));if(B._15!=null)U.Strikethrough=parseFloat(B._15.slice(1))==1;
if(B._16!=null)U.Underline=parseFloat(B._16.slice(1))==1;if(B._18!=null)U.Ligatures=B._18;if(B._19!=null)U.DLigatures=B._19;
if(B._35!=null)U.BaselineDirection=parseFloat(B._35.slice(1));if(B._38!=null)U.Language=parseFloat(B._38.slice(1));
if(B._53!=null)U.FillColor=cR.BO(B._53);if(B._54!=null)U.StrokeColor=cR.BO(B._54);if(B._56!=null)U.FillFlag=B._56;
if(B._57!=null)U.StrokeFlag=B._57;if(B._63!=null)U.OutlineWidth=parseFloat(B._63.slice(1));if(B._79!=null)U._FillBackgroundColor=cR.BO(B._79);
if(B._80!=null)U._FillBackgroundFlag=B._80;if(B._61!=null)U._LineCap=parseFloat(B._61.slice(1));if(B._62!=null)U._LineJoin=parseFloat(B._62.slice(1));
if(B._64!=null)U._MiterLimit=parseFloat(B._64.slice(1));if(B._65!=null)U._LineDashOffset=parseFloat(B._65.slice(1));
if(B._66!=null)U._LineDashArray=cR.Ye(B._66);if(B._70!=null)U._DigitSet=parseFloat(B._70.slice(1));for(var N=0;
N<8;N++)if(B["_"+gZ.$f[N]]!=null)U[gZ.B7[N]]=B["_"+gZ.$f[N]]};cR.BO=function(W){var q=W._0._0,X=[1,0,0,0],k=cR.Ye(W._0._1);
if(q=="i0")X[1]=X[2]=X[3]=k[1];else if(q=="i1")X=k;else if(q=="i2")X=[1].concat(UDOC.C.cmykToRgb(k.slice(1)));
else console.log("unknown color type",q,k);return{Type:1,Values:X}};cR.HA=function(W,q){W._0="s"+(q.Name?q.Name:"");
var X=W._5,k=q.Properties;if(k.Justification!=null)X._0="i"+k.Justification;if(k.FirstLineIndent!=null)X._1="f"+k.FirstLineIndent;
if(k.StartIndent!=null)X._2="f"+k.StartIndent;if(k.EndIndent!=null)X._3="f"+k.EndIndent;if(k.SpaceBefore!=null)X._4="f"+k.SpaceBefore;
if(k.SpaceAfter!=null)X._5="f"+k.SpaceAfter;if(k.AutoLeading!=null)X._7="f"+k.AutoLeading;if(k.AutoHyphenate!=null)X._9=k.AutoHyphenate;
if(k._Direction!=null)X._33="i"+k._Direction;if(k._ComposerEngine!=null)X._35="i"+k._ComposerEngine};
cR.a73=function(W,q){var X=W._5;if(X==null)return;var k=q.Properties;if(X._0)k.Justification=parseInt(X._0.slice(1))};
cR.HI=function(W,q){var X=[];for(var N=0;N<q.length;N++)X.push(W+q[N]);return X};cR.Ye=function(W){var q=[];
for(var N=0;N<W.length;N++)q.push(parseFloat(W[N].slice(1)));return q};cR.al7={_0:[{_0:{_0:"sPhotoshop6MojiKumiSet4",_5:{_0:"i0",_3:"i2"}}},{_0:{_0:"sPhotoshop6MojiKumiSet3",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sPhotoshop6MojiKumiSet2",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sPhotoshop6MojiKumiSet1",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sYakumonoHankaku",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sGyomatsuYakumonoHankaku",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sGyomatsuYakumonoZenkaku",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sYakumonoZenkaku",_5:{_0:"i0",_3:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"},{_0:"i6"},{_0:"i7"}]};
cR.a76={_0:[{_0:{_0:"sNone",_5:{_0:"s",_1:"s",_2:"s",_3:"s",_4:"i0"}}},{_0:{_0:"sPhotoshopKinsokuHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ぁぃぅぇぉっゃゅょゎ\u309B\u309Cゝゞァィゥェォッャュョヮヵヶ\u30FBーヽヾ\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sPhotoshopKinsokuSoft",_5:{_0:"s\u2019\u201D\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ゝゞ\u30FBヽヾ\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}},{_0:{_0:"sHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ぁぃぅぇぉっゃゅょゎ\u309B\u309Cゝゞァィゥェォッャュョヮヵヶ\u30FBーヽヾ\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sSoft",_5:{_0:"s\u2019\u201D\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ゝゞ\u30FBヽヾ\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"}]};
cR.aF6={_0:"sNormal RGB",_6:{_0:"i0",_1:"f12",_2:!1,_3:!1,_4:!0,_5:"f0",_6:"f1",_7:"f1",_8:"i0",_9:"f0",_10:"f0",_11:"i1",_12:"i0",_13:"i0",_14:"i0",_15:"i0",_16:"i0",_17:"f0",_18:!0,_19:!1,_20:!1,_21:!1,_22:!1,_23:!1,_24:!1,_25:!1,_26:!1,_27:!1,_28:!1,_29:!1,_30:"i0",_31:!1,_32:!1,_33:!1,_34:!1,_35:"i2",_36:"f0",_37:"i2",_38:"i0",_39:"i0",_40:!1,_41:"i2",_42:"i0",_43:{_0:"f.5"},_44:"i2",_45:"i2",_46:"i7",_47:"i0",_48:"i0",_49:"f-1",_50:"f-1",_51:"i0",_52:!1,_53:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_54:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_55:{_99:"/SimpleBlender"},_56:!0,_57:!1,_58:!0,_59:!1,_60:!1,_61:"i0",_62:"i0",_63:"f1",_64:"f4",_65:"f0",_66:[],_67:[],_68:"i0",_69:"i0",_70:"i0",_71:"i4",_72:"f0",_73:"f0",_74:!1,_75:!1,_76:!1,_77:!0,_78:!0,_79:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f1","f1","f0"]}},_80:!1,_81:"i0",_82:"f3",_83:"f3",_84:!1,_85:"i0",_86:{_99:"/SimpleCustomFeature"},_87:"f100",_88:!0}};
cR.AT={_0:"sNormal RGB",_5:{_0:"i0",_1:"f0",_2:"f0",_3:"f0",_4:"f0",_5:"f0",_6:"i1",_7:"f1.2",_8:"i0",_9:!0,_10:"i6",_11:"i2",_12:"i2",_13:"i0",_14:"f36",_15:!0,_16:"f.5",_17:["f.8","f1","f1.33"],_18:["f0","f0","f0"],_19:["f1","f1","f1"],_20:"i6",_21:!1,_22:"i0",_23:!0,_24:"i0",_25:"i0",_27:"/nil",_26:!1,_28:"/nil",_29:!1,_30:{},_31:"f36",_32:{},_33:"i0",_34:"i7",_35:"i1",_36:"/nil",_37:"i0",_38:!1,_39:"i0",_40:"i2"}};
cR.a5f={_0:[{_0:{_0:"skPredefinedNumericListStyleTag",_6:"i1"}},{_0:{_0:"skPredefinedUppercaseAlphaListStyleTag",_6:"i2"}},{_0:{_0:"skPredefinedLowercaseAlphaListStyleTag",_6:"i3"}},{_0:{_0:"skPredefinedUppercaseRomanNumListStyleTag",_6:"i4"}},{_0:{_0:"skPredefinedLowercaseRomanNumListStyleTag",_6:"i5"}},{_0:{_0:"skPredefinedBulletListStyleTag",_6:"i6"}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"}]};
cR.ahm={_0:{_0:"i1",_1:[{_0:"s ",_1:"s1"},{_0:"s\r",_1:"s6"},{_0:"s\t",_1:"s0"},{_0:"s\u2029",_1:"s5"},{_0:"s\x03",_1:"s5"},{_0:"s\u3000",_1:"s1"},{_0:"s\xAD",_1:"s3"}]},_1:"i0",_2:"i0",_3:"f.583",_4:"f.333",_5:"f.583",_6:"f.333",_7:"f.7",_8:!0,_9:[{_0:"i0",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i1",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i2",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i3",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i4",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i5",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i6",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i7",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i8",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i9",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i10",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i11",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i12",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i13",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i14",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i15",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i16",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i17",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i18",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i19",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i20",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i21",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i22",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i23",_1:"s\u201E",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i24",_1:"s\u201E",_2:"s\u201D",_3:"s\u201A",_4:"s\u2019"},{_0:"i25",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i26",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i27",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i28",_1:"s\u201E",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i29",_1:"s\u301D",_2:"s\u301E"},{_0:"i30",_1:"s\u300C",_2:"s\u300D"},{_0:"i31",_1:"s\u201E",_2:"s\u201C",_3:"s\u2018",_4:"s\u2019"},{_0:"i32",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i33",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i34",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i35",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i36",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i37",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i38",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i39",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i40",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i41",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i42",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i43",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i44",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i45",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"}],_15:{_0:"sWinSoft"},_16:!1};
var li={};li.arV=function(W){return li._z(W,li.EP,0)};li.asj=function(W){return li.du(W,li.EP)};li._z=function(W,q,X){var k;
if(typeof W=="string")return W;if(W instanceof Array){k=[];for(var N=0;N<W.length;N++)k[N]=li._z(W[N],q,X+1)}else{k={};
var B={};for(var U in q){var l=q[U],K="_"+l[0];if(W[K]!=null){k[U]=l[1]?li._z(W[K],l[1],X+1):W[K];B[K]=!0}}for(var U in W){if(B[U]==null){if(U.length>3)continue;
console.log(q,B);console.log(U,W);throw"e"}}}return k};li.du=function(W,q){var X;if(typeof W=="string")return W;
else if(W instanceof Array){X=[];for(var N=0;N<W.length;N++)X[N]=li.du(W[N],q)}else{X={};var k={};for(var B in q){var U=q[B],l="_"+U[0];
if(W[B]!=null){X[l]=U[1]?li.du(W[B],U[1]):W[B];k[B]=!0}}for(var B in W){if(k[B]==null){console.log(q,k);
console.log(B,W);throw"e"}}}return X};li.qf={_Color:[0,{_Type:[0],_Values:[1]}],_CAIKnownStyleID:[5],_StreamTag:[99]};
li.FW={_Font:[0],_FontSize:[1],_FauxBold:[2],_FauxItalic:[3],_AutoLeading:[4],_Leading:[5],_HorizontalScale:[6],_VerticalScale:[7],_Tracking:[8],_BaselineShift:[9],_CharacterRotation:[10],_AutoKern:[11],_FontCaps:[12],_FontBaseline:[13],_FontOTPosition:[14],_StrikethroughPosition:[15],_UnderlinePosition:[16],_UnderlineOffset:[17],_Ligatures:[18],_DiscretionaryLigatures:[19],_ContextualLigatures:[20],_AlternateLigatures:[21],_OldStyle:[22],_Fractions:[23],_Ordinals:[24],_Swash:[25],_Titling:[26],_ConnectionForms:[27],_StylisticAlternates:[28],_Ornaments:[29],_FigureStyle:[30],_ProportionalMetrics:[31],_Kana:[32],_Italics:[33],_Ruby:[34],_BaselineDirection:[35],_Tsume:[36],_StyleRunAlignment:[37],_Language:[38],_JapaneseAlternateFeature:[39],_EnableWariChu:[40],_WariChuLineCount:[41],_WariChuLineGap:[42],_WariChuSubLineAmount:[43,{_WariChuSubLineScale:[0]}],_WariChuWidowAmount:[44],_WariChuOrphanAmount:[45],_WariChuJustification:[46],_TCYUpDownAdjustment:[47],_TCYLeftRightAdjustment:[48],_LeftAki:[49],_RightAki:[50],_JiDori:[51],_NoBreak:[52],_FillColor:[53,li.qf],_StrokeColor:[54,li.qf],_Blend:[55,{_0:[0],_1:[1],_2:[2],_3:[3],_Knockout:[4],_StreamTag:[99]}],_FillFlag:[56],_StrokeFlag:[57],_FillFirst:[58],_FillOverPrint:[59],_StrokeOverPrint:[60],_LineCap:[61],_LineJoin:[62],_LineWidth:[63],_MiterLimit:[64],_LineDashOffset:[65],_LineDashArray:[66],_Type1EncodingNames:[67],_Kashidas:[68],_DirOverride:[69],_DigitSet:[70],_DiacVPos:[71],_DiacXOffset:[72],_DiacYOffset:[73],_OverlapSwash:[74],_JustificationAlternates:[75],_StretchedAlternates:[76],_FillVisibleFlag:[77],_StrokeVisibleFlag:[78],_FillBackgroundColor:[79,li.qf],_FillBackgroundFlag:[80],_UnderlineStyle:[81],_DashedUnderlineGapLength:[82],_DashedUnderlineDashLength:[83],_SlashedZero:[84],_StylisticSets:[85],_CustomFeature:[86,{_StreamTag:[99]}],_MarkYDistFromBaseline:[87],_AutoMydfb:[88],_RefFontSize:[89],_FontSizeRefType:[90],_91:[91],_92:[92],_TrackingAdjustment:[93],_94:[94]};
li.a0e={_Justification:[0],_FirstLineIndent:[1],_StartIndent:[2],_EndIndent:[3],_SpaceBefore:[4],_SpaceAfter:[5],_DropCaps:[6],_AutoLeading:[7],_LeadingType:[8],_AutoHyphenate:[9],_HyphenatedWordSize:[10],_PreHyphen:[11],_PostHyphen:[12],_ConsecutiveHyphens:[13],_Zone:[14],_HyphenateCapitalized:[15],_HyphenationPreference:[16],_WordSpacing:[17],_LetterSpacing:[18],_GlyphSpacing:[19],_SingleWordJustification:[20],_Hanging:[21],_AutoTCY:[22],_KeepTogether:[23],_BurasagariType:[24],_KinsokuOrder:[25],_Kinsoku:[27],_KurikaeshiMojiShori:[26],_MojiKumiTable:[28],_EveryLineComposer:[29],_TabStops:[30],_DefaultTabWidth:[31],_DefaultStyle:[32,li.FW],_ParagraphDirection:[33],_JustificationMethod:[34],_ComposerEngine:[35],_ListStyle:[36],_ListTier:[37],_ListSkip:[38],_ListOffset:[39],_KashidaWidth:[40],_41:[41]};
li.ade={_Name:[0],_Features:[5,li.a0e],_Parent:[6],_UUID:[97]};li.a4K={_Name:[0],_Parent:[5],_Features:[6,li.FW],_UUID:[97]};
li.EP={_98:[98,{_0:[0]}],_DocumentResources:[0,{_0:[0],_FontSet:[1,{_Resources:[0,{_Resource:[0,{_StreamTag:[99],_Identifier:[0,{_Name:[0],_ScriptType:[1],_Type:[2],_Synthetic:[3],_MMAxis:[4],_VersionString:[5]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiCodeToClassSet:[2,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiTableSet:[3,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5,{_CodeToClass:[0],_AutoTsume:[1,{_TsumeMappings:[0,{_Before:[0],_After:[1],_Code:[2]}]}],_Table:[2,{_DataArray:[0,{_SparseArray:[0,{_Index:[0],_Elements:[1,{_P:[0],_Data:[1,{_A:[0,{_R:[0],_P:[1],_2:[2]}],_B:[1,{_R:[0],_P:[1]}]}]}]}]}]}],_PredefinedTag:[3]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_KinsokuSet:[4,{_Resources:[0,{_Resource:[0,{_Name:[0],_Data:[5,{_NoStart:[0],_NoEnd:[1],_Keep:[2],_Hanging:[3],_PredefinedTag:[4]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_StyleSheetSet:[5,{_Resources:[0,{_Resource:[0,li.a4K]}],_DisplayList:[1,{_Resource:[0]}]}],_ParagraphSheetSet:[6,{_Resources:[0,{_Resource:[0,li.ade]}],_DisplayList:[1,{_Resource:[0]}]}],_7:[7,{_Resources:[0,{_Resource:[0,{_0:[0,{_0:[0],_1:[1,{_0:[0]}]}],_1:[1],_UUID:[97]}]}]}],_TextFrameSet:[8,{_Resources:[0,{_Resource:[0,{_0:[0],_Bezier:[1,{_Points:[0]}],_Data:[2,{_Type:[0],_LineOrientation:[1],_FrameMatrix:[2],_3:[3],_4:[4],_5:[5],_TextOnPathTRange:[6],_RowGutter:[7],_ColumnGutter:[8],_9:[9],_FirstBaselineAlignment:[10,{_Flag:[0],_Min:[1]}],_PathData:[11,{_1:[1],_Reversed:[0],_2:[2],_3:[3],_Spacing:[4],_5:[5],_6:[6],_7:[7],_18:[18],_22:[22]}],_RowCount:[12],_ColumnCount:[13]}],_3:[3,{_0:[0]}],_UUID:[97]}]}]}],_ListStyleSet:[9,{_Resources:[0,{_Resource:[0,{_Name:[0],_LevelStyle:[5,{_IndentUnits:[0],_TextIndent:[1],_LabelIndent:[2],_LabelAlignment:[3],_SequenceGenerator:[5,{_Prefix:[0],_Postfix:[1],_MinDigits:[2],_CaseType:[3],_Bullet:[9],_StreamTag:[99]}],_Font:[6],_UseOriginalFont:[7]}],_PredefinedTag:[6],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}]}],_DocumentObjects:[1,{_DocumentSettings:[0,{_HiddenGlyphFont:[0,{_AlternateGlyphFont:[0],_WhitespaceCharacterMapping:[1,{_WhitespaceCharacter:[0],_AlternateCharacter:[1]}]}],_NormalStyleSheet:[1],_NormalParagraphSheet:[2],_SuperscriptSize:[3],_SuperscriptPosition:[4],_SubscriptSize:[5],_SubscriptPosition:[6],_SmallCapSize:[7],_UseSmartQuotes:[8],_SmartQuoteSets:[9,{_Language:[0],_OpenDoubleQuote:[1],_CloseDoubleQuote:[2],_OpenSingleQuote:[3],_CloseSingleQuote:[4]}],_10:[10],_11:[11],_LinguisticSettings:[15,{_PreferredProvider:[0],_LinguisticProviderInfo:[1]}],_12:[12],_13:[13],_UseSmartLists:[16],_DefaultStoryDir:[17],_18:[18],_GreekingSize:[20]}],_TextObjects:[1,{_Model:[0,{_Text:[0],_ParagraphRun:[5,{_RunArray:[0,{_RunData:[0,{_ParagraphSheet:[0,li.ade]}],_Length:[1]}]}],_StyleRun:[6,{_RunArray:[0,{_RunData:[0,{_StyleSheet:[0,li.a4K]}],_Length:[1]}]}],_FirstKern:[7],_8:[8],_AlternateGlyphRun:[9,{_RunArray:[0,{_RunData:[0,{_AlternateGlyphSheet:[0,{_Glyph:[0],_Name:[1],_2:[2]}],_AlternateGlyph:[1]}],_Length:[1]}]}],_StorySheet:[10,{_AntiAlias:[0],_1:[1],_UseFractionalGlyphWidths:[2],_3:[3],_4:[4]}],_KernRun:[15],_HyperlinkRun:[16]}],_View:[1,{_Frames:[0,{_Resource:[0]}],_RenderedData:[1,{_RunArray:[0,{_RunData:[0,{_0:[0],_LineCount:[1]}],_Length:[1]}]}],_Strikes:[2],_4:[4],_5:[5]}],_OpticalAlignment:[2]}],_OriginalNormalStyleFeatures:[2,li.FW],_OriginalNormalParagraphFeatures:[3,li.a0e],_4:[4],_5:[5]}]};
cR.view={};cR.view.aEK=function(W,q,X,k){var B={},U=gZ.sJ(W);B._0=[{_0:"i"+X}];return B};function CSS(){}CSS.agr=function(W,q){var X=W.add,k=X.vmsk,B=X.vstk,U=X.lmfx,l=X.TySh,K=[],D=CSS.yB(U,X),m=W.zO/255*(W.add.iOpa!=null?W.add.iOpa/255:1);
if(m!=1)K.push("opacity: "+m.toFixed(3));if(W.Nj()&&k){var Y=g.z.Sa(k.G);if(!Y.PM()){K.push("width: "+Math.round(Y.r)+"px");
K.push("height: "+Math.round(Y.$)+"px")}var a=g.z.aD0(k.G);if(a>0)K.push("border-radius: "+Math.round(a)+"px")}else if(l){var p=l.FZ;
if(gZ.sJ(p)==1){var Y=gZ.KJ(p);K.push("width: "+Math.round(Y[2])+"px");K.push("height: "+Math.round(Y[3])+"px")}CSS.aH2(K,gZ.J0(p,0,0),l.M,!1,!1,D[0])}CSS.a2W(q,U,K);
if(l==null)CSS.a6B(D,K);if(B==null||!B.strokeEnabled.v)B=dx.as9(U);if(B&&B.strokeEnabled.v){var M=B.strokeStyleContent.v,x=M.classID,R=B.strokeStyleOpacity.v.val/100,y=B.strokeStyleLineWidth.v.val,s="";
if(x=="solidColorLayer")s=CSS.mY(M.Clr.v,R);K.push("border: "+y+"px solid "+s)}return K};CSS.a2W=function(W,q,X){if(q==null||!q.masterFXSwitch.v)return;
var k=q.dropShadowMulti.v.concat(q.innerShadowMulti.v);for(var N=0;N<k.length;N++){var B=k[N].v;if(B.enab.v){var U=B.classID=="IrSh",l=B.Dstn.v.val,K=B.lagl.v.val*Math.PI/180;
if(B.uglg&&B.uglg.v)K=W.Fi()*Math.PI/180;var D=l*Math.cos(K),m=l*Math.sin(K),Y=(D==0?"0 ":CSS.aHU(-D)+"px ")+(m==0?"0 ":CSS.aHU(m)+"px ")+B.blur.v.val/2+"px "+CSS.mY(B.Clr.v,B.Opct.v.val/100);
if(U)X.push("box-shadow: inset "+Y);else X.push("filter: drop-shadow("+Y+")")}}};CSS.yB=function(W,q){var X=dx.aCi(W,q),k=X[0],B=X[1],U,l;
if(k){U=CSS.mY(k.Clr.v,q.iOpa!=null?q.iOpa/255:1)}else if(B){l=CSS.fH(B)}return[U,l]};CSS.a6B=function(W,q){if(W[0])q.push("background-color: "+W[0]);
if(W[1])q.push("background-image: "+W[1])};CSS.wi={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};
CSS.aHU=function(a1){return""+parseFloat(a1.toFixed(3))};CSS.Hj=function(W){if(W==null)return{o:0,L:0,X:0};
var q=W.indexOf("(");if(q!=-1){var X=W.slice(q+1,W.length-1).split(",");for(var N=0;N<X.length;N++){var k=X[N].trim();
X[N]=parseFloat(k)*(k.endsWith("%")?255/100:1)}if(W.startsWith("hsl")){var B=g.Vy(X[0]/360,X[1]/255,X[2]/255);
B.o*=255;B.L*=255;B.X*=255;return B}return{o:X[0],L:X[1],X:X[2]}}if(W.charAt(0)!="#"){var U=CSS.wi;if(U[W])W=U[W];
else console.log("unknown color "+W)}W=W.slice(1);if(W.length==4)W=W[0]+W[0]+W[1]+W[1]+W[2]+W[2]+W[3]+W[3];
if(W.length==3)W=W[0]+W[0]+W[1]+W[1]+W[2]+W[2];var l=-1;if(W.length==8){l=parseInt(W.slice(6),16);W=W.slice(0,6)}W=parseInt(W,16);
var K={o:W>>16&255,L:W>>8&255,X:W&255};if(l!=-1)K.iM=l;return K};CSS.mY=function(W,q){return CSS.ea(g.ov.yM(W),q)};
CSS.ea=function(W,q){if(q==null)q=1;var X=Math.round(W.o),k=Math.round(W.L),B=Math.round(W.X),U=X<<16|k<<8|B;
return q==1?"#"+g.Ga(U):"rgba("+X+","+k+","+B+","+q+")"};CSS.aye=function(W,q){return CSS.ea({o:W[0]*255,L:W[1]*255,X:W[2]*255},q)};
CSS.fH=function(W){var q=W.Grad.v;if(q.Clrs==null)return"";var X=q.Clrs.v.slice(0),k=q.Trns.v.slice(0),B=W.Ofst.v,U=W.Type.v.GrdT=="Rdl"?1:0,l=(U==1?"radial":"linear")+"-gradient",K=U==0?Math.round(-W.Angl.v.val+90)+"deg":"circle at center",D=W.Rvrs.v,m=g.ov.awH(q,D);
for(var N=0;N<m.length;N++){var Y=m[N],a=Y[1];K+=", "+CSS.ea({o:a[0]*255,L:a[1]*255,X:a[2]*255},Y[2])+" "+Math.round(Y[0]*100)+"%"}return l+"("+K+")"};
CSS.aH2=function(W,q,X,k,B,U){var l=q.n6,K=k?1:X.Lr(),D=Math.round(l.FontSize*K);W.push("font-size: "+D+"px");
var m=l.Tracking;if(!k&&m!=null&&m!=0)W.push("letter-spacing: "+Math.round(m*D/1e3)+"px");if(!l.AutoLeading)W.push("line-height: "+Math.round(l.Leading*K)+"px");
if(l.Strikethrough)W.push("text-decoration: line-through");if(l.Underline)W.push("text-decoration: underline");
if(l.FontCaps==2)W.push("text-transform: uppercase");var Y=gZ.yM(l.FillColor);Y=[Y.o,Y.L,Y.X].map(Math.round);
W.push((k?"fill: ":"color: ")+(U?U:"#"+g.Ga(Y[0]<<16|Y[1]<<8|Y[2])));var a=q.MD[l.Font].Name;if(a){var p=cY.Gb.yy(a),M="",x=null,R=null;
if(p!=null&&a!=cY.Ue(p))p=null;if(B&&p)M+="\""+a+"\", ";var y=a.toLowerCase();if(p){x=cY.a5d(p)[0];if(p["OS/2"])R=p["OS/2"].usWeightClass}else{x=CSS.aEy(a);
if(y.indexOf("light")!=-1)R=300;else if(y.indexOf("medium")!=-1)R=500;else if(y.indexOf("black")!=-1||y.indexOf("extrabold")!=-1)R=800;
else if(y.indexOf("bold")!=-1)R="bold"}if(x!=null)M+="\""+x+"\"";if(R!=null)W.push("font-weight: "+R);
if(y.indexOf("italic")!=-1||y.indexOf("oblique")!=-1)W.push("font-style: italic");if(M)W.push("font-family: "+M)}var s=q.D8.Justification;
if(s!=null&&s!=0)if(k){}else W.push("text-align: "+["left","right","center"][s%3])};CSS.aEy=function(W){W=W.split("-")[0];
while(W.endsWith("MT")||W.endsWith("PS"))W=W.slice(0,W.length-2);var q=!0;for(var N=0;N<W.length;N++){var X=W.charAt(N);
if(!q&&X.toLowerCase()!=X){W=W.slice(0,N)+" "+W.slice(N);N++;q=!0}else q=!1}return W};function bT(){}bT.Dy={document:!0,parent:!0,top:!0,eval:!0,postMessage:!0,UTIF:!0,PIMG:!0,LNG:!0,FNTS:!0};
bT.KR=function(W,q){var X=Date.now(),k=W.split("\n"),B;if(k.length==1)k=W.split("\r");for(var N=0;N<k.length;
N++)if(k[N].trim()[0]=="#"){k[N]=""}W=k.join("\n");try{B=acorn.parse(W)}catch(bu){console.log(bu);return}var U=g.N(bT.PL.HR);
U.__return=!1;U.__continue=!1;U.__break=!1;U.__throw=!1;U.__fs={};U.__window={};bT.eval(B,q,U);var l=U.__fs;
if(Object.keys(l).length!=0){var K=UZIP.encode(l);ch.save(K,"output.zip")}};bT.eval=function(W,q,X){var k=W.type;
if(!1){}else if(k=="Program"||k=="BlockStatement"){var B=W.body;for(var N=0;N<B.length;N++){var U=B[N].type;
if(U=="FunctionDeclaration")X[B[N].id.name]=B[N]}for(var N=0;N<B.length;N++){var U=B[N].type,l=bT.eval(B[N],q,X);
if(X.__continue&&X.__pif==null){X.__continue=!1;return l}if(X.__return||X.__break||X.__throw)return l}}else if(k=="ReturnStatement"){X.__return=!0;
return W.argument?bT.BU(W.argument,q,X):null}else if(k=="BreakStatement"){X.__break=!0}else if(k=="ContinueStatement"){X.__continue=!0}else if(k=="VariableDeclaration"){var K=W.declarations;
for(var N=0;N<K.length;N++)bT.eval(K[N],q,X)}else if(k=="VariableDeclarator"){X[W.id.name]=W.init?bT.BU(W.init,q,X):null}else if(k=="FunctionDeclaration"){X[W.id.name]=W}else if(k=="MemberExpression"){var D=bT.BU(W.object,q,X),l;
if(X.__throw)return;var m=W.computed?bT.BU(W.property,q,X):bT.eval(W.property,q,X);if(D.K7!=null)l=bT.PL.kG(D,m,q,X);
else if(D==window&&bT.Dy[m]){}else l=D[m];return l}else if(k=="ArrayExpression"){var Y=[],a=W.elements;
for(var N=0;N<a.length;N++)Y.push(bT.BU(a[N],q,X));return Y}else if(k=="ObjectExpression"){var Y={},a=W.properties;
for(var N=0;N<a.length;N++){var p=a[N],M=a[N].key.name?a[N].key.name:a[N].key.value;Y[M]=bT.BU(a[N].value,q,X)}return Y}else if(k=="ExpressionStatement"){return bT.eval(W.expression,q,X)}else if(k=="NewExpression"){var x=W.arguments,R=W.callee,y=R.type,s=R.name,F=[],Y=null;
for(var N=0;N<x.length;N++)F.push(bT.BU(x[N],q,X));if(s=="Array")Y=new window[s];else if(y=="Identifier")Y=bT.PL.a9p(s,F,q,X);
else throw"e";if(Y==null)throw"new "+s;return Y}else if(k=="CallExpression"){var x=W.arguments,R=W.callee,y=R.type,E={};
for(var o in X)E[o]=X[o];var F=[];for(var N=0;N<x.length;N++)F.push(bT.BU(x[N],q,X));if(y=="Identifier"){var G=R.name,d=X[G];
if(d&&d.K7=="AppFunc"){G=d.em;d=null}if(d){if(d.params){var u=d.params;for(var N=0;N<u.length;N++)E[u[N].name]=F[N];
return bT.eval(d.body,q,E)}else{return d.apply(null,F)}}else if(bT.PL.ama.indexOf(G)!=-1)return bT.PL.CJ({K7:"Application"},G,F,q,X);
else if(window[G]==null)console.log("Unknown function "+G);else if(bT.Dy[G])alert(G+"() not available");
else{var r=window[G].apply(window,F);return r}}else if(y=="MemberExpression"){var D=bT.BU(R.object,q,X),m=R.computed?bT.BU(R.property,q,X):bT.eval(R.property,q,X);
if(D==window&&bT.Dy[m])return;if(D.K7!=null)return bT.PL.CJ(D,m,F,q,X);else if(m=="sort"&&D[0]&&D[0].K7=="Layer"){return D.sort(function(n,$){return n._.getName()>$._.getName()?1:-1})}else if(m=="toSource")return JSON.stringify(D);
else return D[m].apply(D,F)}else if(y=="FunctionExpression"){var v=bT.eval(R.body,q,X);X.__return=!1;
return v}else console.log(W)}else if(k=="AssignmentExpression"){var c=W.operator,V=W.left,j=V.type,Q=bT.BU(V,q,X),H=bT.BU(W.right,q,X),l=null;
if(!1){}else if(c=="=")l=H;else if(c=="+=")l=Q+H;else if(c=="-=")l=Q-H;else if(c=="*=")l=Q*H;else if(c=="/=")l=Q/H;
else if(c=="%=")l=Q%H;else if(c=="&=")l=Q&H;else if(c=="|=")l=Q|H;else if(c=="&&=")l=Q&&H;else if(c=="||=")l=Q||H;
else console.log(W);if(j=="Identifier"){var T=V.name;if(X.hasOwnProperty(T))X[T]=l;else X.__window[T]=l}else if(j=="MemberExpression"){var e=bT.eval(V.property,q,X),z=bT.BU(V.object,q,X);
if(z.K7!=null)bT.PL.aJc(z,e,l,q,X);else z[e]=l}else console.log(W);return l}else if(k=="Identifier")return W.name;
else if(k=="Literal")return W.value;else if(k=="UpdateExpression"){var c=W.operator,J=W.argument.name,Y=bT.BU(W.argument,q,X),P=X;
if(P[J]==null)P=X.__window;if(!1){}else if(c=="++"){P[J]++;return W.prefix?P[J]:P[J]-1}else if(c=="--"){P[J]--;
return W.prefix?P[J]:P[J]+1}else console.log(W)}else if(k=="UnaryExpression"){var c=W.operator,L=bT.BU(W.argument,q,X);
if(L&&L.K7=="UnitValue"){if(c=="-")return-L._;else return bT.abK(L._,c)}else return bT.abK(L,c)}else if(k=="BinaryExpression"||k=="LogicalExpression"){var c=W.operator,V=bT.BU(W.left,q,X);
if(k=="LogicalExpression"&&c=="&&"&&!V)return V;var L=bT.BU(W.right,q,X);if(V==null||L==null)return bT.qu(V,L,c);
else if(V.K7=="UnitValue"&&L.K7=="UnitValue")return bT.qu(V._,L._,c);else if(V.K7=="UnitValue")return bT.qu(V._,L,c);
else if(L.K7=="UnitValue"){if(c=="-")return-(V-L._);else return bT.qu(V,L._,c)}else return bT.qu(V,L,c)}else if(k=="IfStatement"){var A=bT.BU(W.test,q,X),h=X.__pif,l=null;
X.__pif=!0;if(A)l=bT.eval(W.consequent,q,X);else if(W.alternate)l=bT.eval(W.alternate,q,X);X.__pif=h;
return l}else if(k=="ConditionalExpression"){var A=bT.BU(W.test,q,X);if(A)return bT.BU(W.consequent,q,X);
else if(W.alternate)return bT.BU(W.alternate,q,X)}else if(k=="ForInStatement"){bT.eval(W.left,q,X);var C=W.left.declarations[0].id.name,w=bT.BU(W.right,q,X);
for(var o in w){X[C]=o;var f=bT.eval(W.body,q,X);if(X.__break)break;if(X.__return)return f}X.__break=!1}else if(k=="ForStatement"){bT.eval(W.init,q,X);
while(bT.eval(W.test,q,X)){var f=bT.eval(W.body,q,X);if(X.__break)break;if(X.__return)return f;bT.eval(W.update,q,X)}X.__break=!1}else if(k=="WhileStatement"){while(bT.eval(W.test,q,X)){var f=bT.eval(W.body,q,X);
if(X.__break)break;if(X.__return)return f}X.__break=!1}else if(k=="DoWhileStatement"){do{var f=bT.eval(W.body,q,X);
if(X.__break)break;if(X.__return)return f}while(bT.eval(W.test,q,X));X.__break=!1}else if(k=="TryStatement"){bT.eval(W.block,q,X);
if(X.__throw){var O=W.handler;X[O.param.name]=X.__throw;X.__throw=!1;bT.eval(O.body,q,X);delete X[O.param.name]}}else if(k=="FunctionExpression"){return W}else if(k=="EmptyStatement"){}else console.log(W)};
bT.qu=function(W,q,X){if(X=="+")return W+q;else if(X=="-")return W-q;else if(X=="*")return W*q;else if(X=="/")return W/q;
else if(X=="%")return W%q;else if(X=="^")return W^q;else if(X=="&")return W&q;else if(X=="&&")return W&&q;
else if(X=="|")return W|q;else if(X=="||")return W||q;else if(X=="<")return W<q;else if(X==">")return W>q;
else if(X=="=="){if(W!=null&&q!=null&&W.K7&&q.K7)return W._==q._;return W==q}else if(X=="===")return W===q;
else if(X=="<=")return W<=q;else if(X==">=")return W>=q;else if(X=="!=")return W!=q;else if(X=="!==")return W!==q;
else if(X=="<<")return W<<q;else if(X==">>")return W>>q;else console.log(X)};bT.abK=function(W,q){if(q=="-")return-W;
else if(q=="!")return!W;else if(q=="~")return~W;else if(q=="+")return W;else if(q=="typeof")return typeof W;
else console.log(q,W)};bT.BU=function(W,q,X){var k=W.type;if(k=="Identifier")return bT.aI6(W.name,q,X);
else return bT.eval(W,q,X)};bT.aI6=function(W,q,X){if(W=="undefined")return undefined;else if(X.hasOwnProperty(W))return X[W];
else if(W=="app")return{K7:"Application"};else if(W=="Folder")return{K7:"Folder"};else if(W=="File")return{K7:"File"};
else if(W=="$")return{K7:"$"};else if(bT.PL.am_.indexOf(W)!=-1)return bT.PL.kG({K7:"Application"},W,q,X);
else if(bT.PL.ama.indexOf(W)!=-1)return{K7:"AppFunc",em:W};else if(X.__window.hasOwnProperty(W))return X.__window[W];
else if(window[W]&&!bT.Dy[W])return window[W];else{X[W]=null;return null}};bT.PL={};bT.PL.a9p=function(W,q,X,k){var B;
if(W=="PathPointInfo")B={K7:W,kind:0,WL:[],mp:[],ko:[]};if(W=="SubPathInfo")B={K7:W,Xp:0,v8:!1,_:[]};
if(W=="SolidColor")B={K7:W,_:[1,0,0,0]};if(W=="RGBColor")B={K7:W,_:[1,0,0,0]};if(W=="Window")B={K7:W,_:new c3(q[0],q[1],q[2])};
if(W=="ExportOptionsSaveForWeb")B={K7:W,_:{me:"png",hg:100}};if(W=="PhotoshopSaveOptions")B={K7:W,_:{me:"psd"}};
if(W=="PNGSaveOptions")B={K7:W,_:{me:"png",hg:100}};if(W=="JPEGSaveOptions")B={K7:W,_:{me:"jpg",hg:100}};
if(W=="PDFSaveOptions")B={K7:W,_:{me:"pdf",aG4:""}};if(W=="File")B={K7:W,_:q[0]};if(W=="ActionReference")B={K7:W,_:{t:"obj ",v:[]}};
if(W=="ActionDescriptor")B={K7:W,_:{t:"Objc",v:{classID:"null"}}};if(W=="ActionList")B={K7:W,_:{t:"VlLs",v:[]}};
if(W=="UnitValue"){var U=0,l="px",K=q[0],D=q[1];if(K){U=parseFloat(K);if(typeof K=="string"&&K.indexOf(" ")!=-1)l=K.split(" ").pop()}B={K7:W,_:U,adV:D?D:l}}return B};
bT.PL.am_="activeDocument documents fonts preferences displayDialogs foregroundColor backgroundColor version".split(" ");
bT.PL.ama="charIDToTypeID stringIDToTypeID typeIDToStringID executeAction executeActionGet doAction showWindow UnitValue".split(" ");
bT.PL.kG=function(W,q,X,k){var B=X.e,U=X.jz();if(!1){}else if(q=="typename"){if(W.K7=="Layer")return W._.S3()?"LayerSet":"ArtLayer";
else return W.K7}else if(["Document","Layer"].indexOf(W.K7)!=-1&&["layers","artLayers","layerSets"].indexOf(q)!=-1){var l=U;
if(W.K7=="Document")l=W._;else l=W.mQ;var K=l.root,D={K7:"Layers",axR:q,_:[],mQ:l};if(W.K7=="Layer")K=l.root.Vf(l.U.indexOf(W._));
if(K.children==null)return null;for(var N=0;N<K.children.length;N++){var m=K.children[N].B,Y=m.S3();
if(Y&&q=="artLayers"||!Y&&q=="layerSets")continue;D._.push({K7:"Layer",_:m,mQ:l})}D._.reverse();return D}else if(W.K7=="Documents"||W.K7=="Layers"||W.K7=="HistoryStates"||W.K7=="LayerComps"||W.K7=="PathItems"||W.K7=="SubPathItems"||W.K7=="PathPoints"){if(!1){}else if(q=="length")return W._.length;
else if(Number.isInteger(q))return W._[q];else console.log(W.K7+": unknown property ",q)}else if(W.K7=="Application"){if(!1){}else if(q=="activeDocument")return{K7:"Document",_:X.jz()};
else if(q=="documents"){var D={K7:"Documents",_:[]};for(var N=0;N<X.Bx.length;N++)D._.push({K7:"Document",_:X.Bx[N]});
return D}else if(q=="fonts")return{K7:"TextFonts"};else if(q=="preferences")return{K7:"Preferences"};
else if(q=="displayDialogs")return{K7:"DialogModes"};else if(q=="foregroundColor"||q=="backgroundColor"){var a=q[0]=="f"?B.w5:B.yY;
return{K7:"SolidColor",_:[1,(a>>>16&255)/255,(a>>>8&255)/255,(a>>>0&255)/255]}}else if(q=="UI")return{K7:"UI"};
else if(q=="version")return 30;else console.log(W,q)}else if(W.K7=="Document"){var U=W._;if(!1){}else if(q=="activeLayer"){var m=U.U[U.Y[0]];
return{K7:"Layer",_:m,mQ:U}}else if(q=="pixelAspectRatio")return 1;else if(q=="resolution")return U.mC;
else if(q=="width")return U.r;else if(q=="height")return U.$;else if(q=="name")return U.name;else if(q=="saved")return!U.uV();
else if(q=="selection")return{K7:"Selection"};else if(q=="activeHistoryState")return{K7:"HistoryState",bT:U.Wb};
else if(q=="source")return U.G5;else if(q=="layerComps"){var p=U.iV.list.v,M=[];for(var N=0;N<p.length;
N++)M.push({K7:"LayerComp",_:N});return{K7:"LayerComps",_:M}}else if(q=="historyStates"){var x=[];for(var N=0;
N<U.history.length;N++)x.push({K7:"HistoryState",bT:N});return{K7:"HistoryStates",_:x}}else if(q=="mode")return U.add.fcmy?1:7;
else if(q=="colorSamplers"){var D={K7:"ColorSamplers",axR:q,_:U.Eo.slice(0),mQ:U};return D}else if(q=="pathItems"){var R=[],U=W._,y=U.Yb(),s=y[0],F=y[1];
for(var N=0;N<s.length;N++)R.push({K7:"PathItem",_:s[N]});return{K7:"PathItems",_:R}}else console.log(W,q)}else if(W.K7=="PathItem"){if(q=="subPathItems"){var E=W._,o=E.add.vmsk.G,R=[];
for(var N=0;N<g.z._H(o);N++){var G=g.z.wS(o,N),d=o[G],u=o.slice(G+1,G+1+d.length);R.push({K7:"SubPathItem",Xp:d.R3,v8:d.I==0,_:b.jY.zx(u)})}return{K7:"SubPathItems",_:R}}else alert(q)}else if(W.K7=="SubPathItem"||W.K7=="SubPathInfo"){if(q=="pathPoints"||q=="entireSubPath"){var R=[];
for(var N=0;N<W._.length;N++){var r=W._[N];R.push({K7:"PathPointInfo",kind:r.I==1||r.I==4?1:0,WL:[r.WL.x,r.WL.y],mp:[r.mp.x,r.mp.y],ko:[r.ko.x,r.ko.y]})}return{K7:"PathPoints",_:R}}else if(q=="operation")return W.Xp;
else if(q=="closed")return W.v8;else throw q}else if(W.K7=="PathPointInfo"){if(q=="kind")return W.kind;
else if(q=="anchor")return W.WL;else if(q=="leftDirection")return W.mp;else if(q=="rightDirection")return W.ko;
else throw q}else if(W.K7=="LayerComp"){if(q=="name")return U.iV.list.v[W._].v.Nm.v;else throw q}else if(W.K7=="ColorSamplers"){if(Number.isInteger(q))return{K7:"ColorSampler",_:W._[q]};
else if(q=="length")return U.Eo.length}else if(W.K7=="ColorSampler"){if(q=="color"){var a=_.Mo.NR(U,U.f.az(W._.x,W._.y),1,2);
return{K7:"SolidColor",_:[1,(a>>>16&255)/255,(a>>>8&255)/255,(a>>>0&255)/255]}}else if(q=="position")return[W._.x,W._.y]}else if(W.K7=="Layer"){var v={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},m=W._;
if(!1){}else if(q=="visible")return m.P$();else if(q=="selected")return U.Y.indexOf(U.U.indexOf(m))!=-1;
else if(q=="grouped")return m.Oa;else if(v[q]!=null)return m.kW(v[q]);else if(q=="opacity")return m.zO*100/255;
else if(q=="fillOpacity")return(m.add.iOpa==null?255:m.add.iOpa)*100/255;else if(q=="blendMode")return m.JY;
else if(q=="name")return m.getName();else if(q=="id")return m.add.lyid;else if(q=="textItem")return{K7:"TextItem",_:m};
else if(q=="bounds"){var c=_.Gz.wu(U,[U.U.indexOf(m)]);return bT.PL.a1R(c,U)}else if(q=="parent"){var V=X.Bx,l;
for(var N=0;N<V.length;N++)if(V[N].U.indexOf(m)!=-1)l=V[N];var j=l.root.Vf(l.U.indexOf(m)).parent;return j.depth==0?{K7:"Document",_:l}:{K7:"Layer",_:j.B,mQ:l}}else if(q=="kind"){var Q=bT.PL.nB;
for(var N=0;N<Q.length;N++)if(m.add[Q[N]]!=null)return N;return 0}else if(q=="isBackgroundLayer")return m.add.lnsr=="bgnd";
else if(q=="itemIndex")return U.U.indexOf(m)+1;else if(q.startsWith("layerMask")||q.startsWith("filterMask")){var H=q.startsWith("layerMask")?m.Jx():m.Q2(U).BD;
return q.endsWith("Density")?H.IC*100/255:H.iE}else console.log(W,q)}else if(W.K7=="Selection"){if(!1){}else if(q=="bounds"){if(U.d==null)k.__throw={message:"no selection"};
else return bT.PL.a1R(U.d.S,U)}else console.log(W,q)}else if(W.K7=="TextItem"){var T=W._.add.TySh,e=T.FZ,z=gZ.mw(e),J=T.M.Lr(),P=gZ.J0(e,0,0);
if(q=="contents")return z.slice(0,z.length-1).replace(/\n/g,"\r");else if(q=="font")return P.n6.Font!=null?P.MD[P.n6.Font].Name:null;
else if(q=="size")return bT.PL.N_(P.n6.FontSize*J,U);else if(q=="leading")return bT.PL.N_(P.n6.Leading*J,U);
else if(q=="tracking")return bT.PL.N_(P.n6.Tracking);else if(q=="baselineShift")return bT.PL.N_(P.n6.BaselineShift);
else if(q=="kind")return 1-gZ.sJ(e);else if(bT.PL.Vu[q])return P.n6[bT.PL.Vu[q]];else if(q=="justification")return bT.PL.N_(P.D8.Justification);
else if(q=="color")return{K7:"SolidColor",_:P.n6.FillColor.Values.slice(0)};else if(q=="width"||q=="height"){var L=gZ.KJ(e),A=(L[2]-L[0])*J,h=(L[3]-L[1])*J;
return bT.PL.N_(q=="width"?A:h,U)}else if(q=="position"){var H=T.M;return bT.PL.atv([H.Wy,H.rY],U)}else if(q=="horizontalScale"||q=="verticalScale"){var C=q[0].toUpperCase()+q.slice(1);
return Math.round(P.n6[C]*100)}else if(q=="antiAliasMethod")gZ.ao(T);else if(q=="totalTextStyle"){var D={};
for(var w=0;w<2;w++){var f=["Style","Paragraph"][w],O=e.EngineDict[f+"Run"].RunLengthArray,n=[],$=0;
for(var N=0;N<O.length;N++){var d9=gZ.J0(e,$,Math.min($+O[N],z.length-2));$+=O[N];n.push(w==0?d9.n6:d9.D8);
D.fontSet=d9.MD}D[f]={runs:O,styles:n}}return JSON.stringify(D)}else if(q=="transform"){var H=T.M;return JSON.stringify([H.iM,H.X,H.bO,H.kv,H.Wy,H.rY])}else console.log(W,q)}else if(W.K7=="Preferences"){if(q=="rulerUnits")return B.bm.vA;
else console.log(W,q)}else if(W.K7=="SolidColor"){if(q=="rgb")return{K7:"RGBColor",_:W._};if(q=="cmyk")return{K7:"CMYKColor",_:g.s6(W._.slice(1))};
else console.log(W,q)}else if(W.K7=="RGBColor"){var c=Math.round(255*W._[1]),i=Math.round(255*W._[2]),dF=Math.round(255*W._[3]);
if(!1){}else if(q=="red")return c;else if(q=="green")return i;else if(q=="blue")return dF;else if(q=="hexValue")return g.Ga(c<<16|i<<8|dF).toUpperCase();
else console.log(W,q)}else if(W.K7=="CMYKColor"){var t=[];for(var N=0;N<4;N++)t.push(Math.round(W._[N]*100));
var im=["cyan","magenta","yellow","black"].indexOf(q);if(im!=-1)return t[im];else console.log(W,q)}else if(W.K7=="UnitValue"){if(q=="value")return W._;
else throw"e"}else if(W.K7=="ExportOptionsSaveForWeb"){if(q=="format")return W._.me;else if(q=="PNG8"||q=="interlaced")return!1;
else if(q=="quality")return W._.hg;else if(q=="transparency")return!0;else throw q}else if(W.K7=="PNGSaveOptions"||W.K7=="JPEGSaveOptions"||W.K7=="PDFSaveOptions"){return 0}else if(W.K7=="$"){if(q=="localize")return!1;
else if(q=="os")return"Windows";else throw q}else if(W.K7=="ActionList"){if(q=="count")return W._.v.length;
else throw q}else console.log(W,q)};bT.PL.a1R=function(W,q){return bT.PL.atv([W.x,W.y,W.x+W.r,W.y+W.$],q)};
bT.PL.atv=function(W,q){var X=[];for(var N=0;N<W.length;N++)X.push(bT.PL.N_(W[N],q));return X};bT.PL.Sf=function(W){var q=[];
for(var N=0;N<W.length;N++)q.push(W[N].K7?W[N]._:W[N]);return q};bT.PL.N_=function(W,q){return{K7:"UnitValue",_:W,adV:"px"}};
bT.PL.Mx=function(W,q){if(W.K7=="UnitValue")return g.Qs.ll(W._,q.mC,q.r,g.Qs.yk.indexOf(W.adV));return W};
bT.PL.Vu={fauxBold:"FauxBold",fauxItalic:"FauxItalic",useAutoLeading:"AutoLeading",hyphenation:"AutoHyphenate",ligatures:"_Ligatures"};
bT.PL.aJc=function(W,q,X,k,B){var U=new ip(S.E.O,!0),l=new ip(S.E.H,!0),K=k.jz(),D=k.e;if(!1){}else if(W.K7=="Application"){if(!1){}else if(q=="activeDocument"){l.data={R:S.m.Zk,LV:X._};
k.T(l)}else if(q=="displayDialogs"){}else if(q=="foregroundColor"||q=="backgroundColor"){var m=X._,Y=m[1]*255<<16|m[2]*255<<8|m[3]*255<<0;
l.data={R:S.m.Dt,rl:aI.Z$,w7:q=="foregroundColor"?0:1,_:Y};k.T(l)}else console.log(W,q,X)}else if(W.K7=="Document"){var a=W._;
if(!1){}else if(q=="name"){U.J=_.b9;U.data={R:b.ri,_:X,a0p:!0,Vi:a};K.gd=!0}else if(q=="source")a.G5=X;
else if(q=="activeLayer"){a.Y=[a.U.indexOf(X._)]}else if(q=="activeHistoryState"){U.J=_.Yo;U.data={R:"h_itemchange",index:X.bT}}else console.log(W,q)}else if(W.K7=="Layer"){U.J=_.b9;
var p={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},M=W._,x=K.U.indexOf(M);
if(!1){}else if(q=="visible"){if(M.P$()!=X)U.data={R:b.GW,B:x}}else if(q=="opacity"){U.data={R:b.s_,B:x,O4:Math.round(255*X/100)}}else if(q=="fillOpacity"){U.data={R:b.RL,B:x,O4:Math.round(255*X/100)}}else if(q=="blendMode"){U.data={R:b.vb,B:x,O4:jm.eB.indexOf(X)}}else if(q=="name"){U.data={R:b.nk,B:x,name:X}}else if(p[q]!=null){U.data={R:b.pc,B:x,O4:[[X],[p[q]]]}}else if(q=="kind"){U.data={R:b.E4,B:x,vZ:bT.PL.nB[X]}}else if(q=="grouped"){U.data={R:b.W7,B:x,O4:X}}else if(q.startsWith("layerMask")||q.startsWith("filterMask")){var R=M.o$(q.startsWith("layerMask")?0:2);
if(q.endsWith("Density"))R.ap=Math.round(X*255/100);else R.px=X;U.data={R:b.vv,y5:x,NV:R}}else console.log(W,q,X)}else if(W.K7=="TextItem"){U.J=_.W6;
var M=W._,y=M.add.TySh,s=g.N(y.FZ),F=y.M.P(),E=y.M.Lr(),o=gZ.mw(s),G=gZ.J0(s,0,o.length-2),d=!1;if(!1){}else if(q=="contents"){gZ.xo(s,0,o.length-1);
gZ.L3(s,0,(X+"").replace(/\r/g,"\n"))}else if(q=="size"){G.n6.FontSize=(X._!=null?X._:X)/E;d=!0}else if(q=="leading"){G.n6.Leading=(X._!=null?X._:X)/E;
d=!0}else if(q=="tracking"){G.n6.Tracking=X._!=null?X._:X;d=!0}else if(q=="baselineShift"){G.n6.BaselineShift=X._!=null?X._:X;
d=!0}else if(q=="kind"){var u=gZ.sJ(s);if(u==1&&X==1){var r=new cm(s,k.e.yK,y.ZN).D8[0],v=r.tE[0].end,c=r.e6[v-1].end;
gZ.xo(s,0,o.length-1);gZ.L3(s,0,o.slice(0,c-1))}if(u==X)gZ.XM(s,1-X)}else if(bT.PL.Vu[q]){G.n6[bT.PL.Vu[q]]=X;
d=!0}else if(q=="justification"){G.D8.Justification=X;d=!0}else if(q=="font"){gZ.j_(G,X);d=!0}else if(q=="color"){G.n6.FillColor.Values=X._.slice(0);
d=!0}else if(q=="width"||q=="height"){var V=gZ.KJ(s).slice(0),j=bT.PL.Mx(X,K);if(q=="width")V[2]=Math.round(V[0]+j/E);
else V[3]=Math.round(V[1]+j/E);gZ.eR(s,V)}else if(q=="position"){F.Wy=X[0];F.rY=X[1]}else if(q=="horizontalScale"||q=="verticalScale"){var Q=q[0].toUpperCase()+q.slice(1);
G.n6[Q]=X/100;d=!0}else if(q=="antiAliasMethod")gZ.ua(y,X);else console.log(W,q,X);if(d)gZ.oM(s,0,o.length-1,G);
U.data={R:"newED",MP:K.U.indexOf(M),jn:s,M:F}}else if(W.K7=="Preferences"){if(!1){}else if(q=="rulerUnits"){var H=g.N(D.bm);
H.vA=X;l.data={R:S.m.Dt,rl:aI.VH,O4:H};k.T(l)}else console.log(W,q,X)}else if(W.K7=="SolidColor"){if(q=="rgb")W._=X._;
else throw q}else if(W.K7=="RGBColor"){if(!1){}else if(q=="red")W._[1]=X/255;else if(q=="green")W._[2]=X/255;
else if(q=="blue")W._[3]=X/255;else if(q=="hexValue"){var T=g.aBq(X.slice(X.charAt(0)=="#"?1:0));W._[1]=(T>>>16&255)/255;
W._[2]=(T>>>8&255)/255;W._[3]=(T>>>0&255)/255}else console.log(W,q)}else if(W.K7=="ExportOptionsSaveForWeb"){if(q=="format")W._.me=X;
else if(q=="PNG8"||q=="transparency"||q=="interlaced"){}else if(q=="quality")W._.hg=X;else throw q}else if(W.K7=="PNGSaveOptions"||W.K7=="JPEGSaveOptions"){if(q=="quality")W._.hg=Math.round(100*X/12)}else if(W.K7=="PDFSaveOptions"){if(q=="preset")W._.aG4=X}else if(W.K7=="PathPointInfo"){if(q=="kind")W.kind=X;
else if(q=="anchor")W.WL=X;else if(q=="leftDirection")W.mp=X;else if(q=="rightDirection")W.ko=X;else throw q}else if(W.K7=="SubPathInfo"){if(q=="operation")W.Xp=X;
else if(q=="closed")W.v8=X;else if(q=="entireSubPath"){W._=[];for(var N=0;N<X.length;N++){var e=X[N];
W._.push({I:e.kind==1?1:2,mp:new hw(e.mp[0],e.mp[1]),WL:new hw(e.WL[0],e.WL[1]),ko:new hw(e.ko[0],e.ko[1])})}}else throw q}else if(W.K7=="$"){if(q=="localize"){}}else console.log(W,q,X);
if(U.data!=null)k.T(U)};bT.PL.aJG=function(W,q,X){if(q==null)return;var k=q.FZ.EngineDict.StyleRun.RunArray,B=q.FZ.ResourceDict.FontSet,U=[];
for(var N=0;N<k.length;N++){var l=k[N].StyleSheet.StyleSheetData,K=B[l.Font].Name,D=X.e.yK.yy(K);if(D&&D.name.postScriptName!=K)D=null;
U.push({t:"null",v:{TxtS:{t:"null",v:{fontAvailable:{t:"bool",v:D!=null},fontPostScriptName:{t:"TEXT",v:K}}}}})}W.textKey={t:"textKey",v:{textStyleRange:{t:"obj ",v:U},textKey:{t:"TEXT",v:gZ.mw(q.FZ)}}}};
bT.PL.CJ=function(W,q,X,k,B){var U=W.K7,l=null,K=new ip(S.E.O,!0),D=new ip(S.E.dq,!0),m=new ip(S.E.H,!0),Y=k.jz(),a=k.Bx;
if(!1){}else if(U=="Application"){if(!1){}else if(q=="charIDToTypeID"){var p=X[0].trim(),M={slct:"select",Dlt:"delete",Mk:"make",Hd:"hide",Shw:"show",Dplc:"duplicate"};
return M[p]?M[p]:p}else if(q=="stringIDToTypeID"){var x=X[0].trim(),M={red:"Rd",blue:"Bl",color:"Clr",RGBColor:"RGBC",document:"Dcmn",layer:"Lyr",actionSet:"ASet",type:"Type",using:"Usng",targetEnum:"Trgt",to:"T",ordinal:"Ordn",property:"Prpr",numberOfChildren:"NmbC",userMaskEnabled:"UsrM",textStyle:"TxtS"},R=M[x];
return R==null?x:R}else if(q=="typeIDToStringID"){return X[0].trim()}else if(q=="executeAction"){var y;
if(X[1]){y=X[1]._.v;y.classID=X[0]}var s={setd:"set"},F=s[X[0]];if(F==null)F=X[0];var E=dZ.Zo[X[0]];
if(E&&dZ.X4[E])F=dZ.X4[E];D.data={yx:F,Og:y}}else if(q=="executeActionGet"){var o=X[0]._.v,l={};if(o.length==1){var G=l.classID=o[0].v.classID;
if(G=="Lyr"){var d=j0.EZ(Y,o[0]),u=Y.U[d],r=u.add.SoLd,v=u.add.SoCo,c=u.add.TySh,V=u.Jx();if(r)l.smartObjectMore={t:"Objc",v:{transform:r.nonAffineTransform}};
if(v)l.adjustment={t:"VlLs",v:[{t:"Objc",v:g.N(v)}]};if(c)bT.PL.aJG(l,c,k);if(V)l.UsrM={t:"Objc",v:{}}}else if(G=="ASet"){var j=k.e.uX;
l.NmbC={t:"long",v:j[0].eO.length}}return{K7:"ActionDescriptor",_:{t:"null",v:l}}}if(o.length==2){var G=l.classID=o[1].v.classID,x=o[0].v.keyID;
if(G=="Dcmn"){var Q=Y;if(x=="numberOfLayers")l[x]={t:"long",v:Q.U.length};else throw x}else if(G=="Lyr"){var d=j0.EZ(Y,o[1]),u=Y.U[d],c=u.add.TySh;
if(x=="textKey")bT.PL.aJG(l,c,k);else throw x}else if(G=="ASet"){var j=k.e.uX,H=l.classID=o[0].v.classID;
if(H=="Actn"){l.NmbC={t:"long",v:j0.Xg(j,o[0].v.val,o[1].v.val).eO.length}}else throw H}else throw G;
return{K7:"ActionDescriptor",_:{t:"null",v:l}}}}else if(q=="doAction"){m.data={R:S.m.LT,jX:[X[0],X[1]]}}else if(q=="bringToFront"){}else if(q=="open"){m.data={R:S.m.i3,rl:{url:X[0]}};
if(X[2]&&a.length!=0)m.data.rl.m_=a.indexOf(Y)}else if(q=="echoToOE"){m.data={R:S.m.dG,rl:X[0]}}else if(q=="showWindow"){m.data={R:S.m.K_,ud:X[0]}}else if(q=="UnitValue"){return X[0]+" "+X[1]}else console.log(q)}else if(U=="LayerComp"){if(q=="apply"){K.J=_.Ki;
K.data={R:"setLC",bT:Y.iV.list.v[W._].v.compID.v}}else throw q}else if(U=="Document"){var Y=W._;if(!1){}else if(q=="changeMode"){K.J=_.zl;
K.data={R:"fcmy",_:X[0]==1?1:0}}else if(q=="crop"){var T=X[0];D.data=_.wW.apq([T[0],T[1],T[2]-T[0],T[3]-T[1]])}else if(q=="trim"){var e=[];
for(var N=0;N<4;N++)e.push(X[N+1]!=null?X[N+1]:!0);D.data=_.wW.Km(X[0]!=null?X[0]:0,e)}else if(q=="suspendHistory"){var z=acorn.parse(X[1]);
bT.eval(z,k,B)}else if(q=="save"){m.data={R:S.m.lS}}else if(q=="saveToOE"){m.data={R:S.m.lS,aI3:X}}else if(q=="rotateCanvas"||q=="flipCanvas"){var J=q=="rotateCanvas";
D.data=_.Gz.t8(J,J?X[0]:["Hrzn","Vrtc"][X[0]])}else if(q=="resizeImage"||q=="resizeCanvas"){var P=X[0],L=X[1];
if(P!=null){var h={r:Y.r,mC:Y.mC};if(X[2])h.mC=X[2];P=bT.PL.Mx(P,h),L=bT.PL.Mx(L,h);P=Math.round(P);
L=Math.round(L)}if(q=="resizeCanvas")D.data=_.wW.atP(P,L,X[2]);else D.data=_.wW.UL(P,L,X[2],P!=null?1:null)}else if(q=="paste"){m.data={R:S.m.M5,aFS:X.length!=0&&X[0],cc:!0};
k.T(m);m.data=null;return{K7:"Layer",_:Y.U[Y.Y[0]],mQ:Y}}else if(q=="close"){m.data={R:S.m.vF,xy:Y}}else if(q=="exportDocument"||q=="saveAs"){var C=B.__fs,w=q=="exportDocument"?X[2]._:X[1]._,f=X[0]._.replace(":","").replace("~/","");
if(!f.toLowerCase().endsWith("."+w.me))f+="."+w.me;var n=lf.Xi(Y,w.me,null,null,w.me=="pdf"?null:{qual:w.hg},k.e);
C[f]=new Uint8Array(n)}else if(q=="flatten"){D.data={yx:"flattenImage"}}else if(q=="clearHistory"){K.J=_.Yo;
K.data={R:"h_clear",force:!0}}else console.log(W,q,X)}else if(U=="Layer"){var $=W._,d=Y.U.indexOf($);
if(!1){}else if(q=="copy"){bT.PL.kd(Y,k,0);m.data={R:S.m.G$,sn:X[0],q5:d,cc:!0};k.T(m);delete m.data;
bT.PL.kd(Y,k,1)}else if(q=="clear"){bT.PL.kd(Y,k,0);D.data={yx:"delete"};k.T(D);delete D.data;bT.PL.kd(Y,k,1)}else if(q=="autoLevels"||q=="autoContrast"){if(q=="autoContrast")D.data={yx:"levels",Og:{classID:"Lvls",Auto:{t:"bool",v:!0}}};
else D.data={yx:"levels",Og:{classID:"Lvls",autoBlackWhite:{t:"bool",v:!0},autoNeutrals:{t:"bool",v:!0}}}}else if(q=="duplicate"){if(X.length==0){var d9=Y.Y.slice(0);
K.data={R:b.b8,B:d};K.J=_.b9;k.T(K);K.data=null;l={K7:"Layer",_:Y.U[Y.Y[0]],mQ:W.mQ};Y.Y=d9}else if(X[0].K7=="Document"){K.data={R:b.ex,U:Y.Ls(d),QZ:Y,vq:X[0]._};
K.J=_.b9}if(K.data){k.T(K);K.data=null;return{K7:"Layer",_:Y.U[Y.Y[0]],mQ:Y}}}else if(q=="merge"||q=="remove"){K.data={R:q=="merge"?b.Qf:b.L5,B:d};
K.J=_.b9;var i=Y.U.length-d;k.T(K);K.data=null;if(q!="remove")l={K7:"Layer",_:Y.U[Y.U.length-i],mQ:W.mQ}}else if(q=="move"){var dF=Y.U.indexOf(X[0]._);
if(dF==d+1&&X[1]==4)return;if(dF==d-1&&X[1]==3)return;K.data={R:b.P8,source:d,target:dF,xp:X[1]!=3?.6:.3};
K.J=_.b9}else if(q=="rasterize"){K.J=_.b9;K.data={R:b.wP,B:d};k.T(K);K.data=null;W._=Y.U[d]}else if(q=="rotate"){K.data={R:"rot",xJ:[2,5],_:-X[0]*Math.PI/180,Fy:X[1],B:d};
K.J=_.Xx}else if(q=="resize"){K.data={R:"scl",xJ:[2,4],_:new hw(X[0]/100,X[1]/100),Fy:X[2],B:d};K.J=_.Xx}else if(q=="translate"){var t=bT.PL.Sf(X);
K.data={R:"trsl",B:d,Ma:t[0],gM:t[1]};K.J=_.zl}else if(q=="link"){K.data={R:b.t9,a4S:[d,Y.U.indexOf(X[0]._)]};
K.J=_.b9}else if(q=="invert"){K.J=_.wm;K.data={R:"start",_h:"nvrt"}}else if(q=="desaturate"){D.data={yx:"desaturate"}}else if(q.startsWith("apply")&&dY.ZO[q.slice(5)]||q.startsWith("adjust")&&dY.ZO[q.slice(6)]||q=="mixChannels"){var im=q.startsWith("apply"),t=bT.PL.Sf(X),bc=q=="mixChannels"?"mixr":dY.ZO[q.slice(im?5:6)];
if(bc=="Dspl"){for(var N=0;N<Y.U.length;N++)if(Y.U[N].getName()==t[4]){t[4]=Y.U[N].add.SoLd.Idnt.v;break}}D.data={yx:im?dY.X4[bc]:dZ.X4[bc]};
var y=dY.wy(bc),d9=Y.Y;Y.Y=[d];if(y){if(bc=="mixr"){var at=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
for(var N=0;N<3;N++){var l9=t[0][N],fF=N*5;at[fF+0]=l9[0];at[fF+1]=l9[1];at[fF+2]=l9[2];at[fF+4]=l9[3]}y=dZ.s1({_:at,Hi:t[1]})}else dY.U9["g"+bc](y,t);
D.data.Og=y}k.T(D);D.data=null;Y.Y=d9}else if(q=="applyStyle"){var g$=k.e.sg,fR=null;for(var N=0;N<g$.length;
N++)if(g$[N].M$.Nm.v.split("/").pop()==X[0])fR=g$[N];if(fR==null){alert("Style not found!");return}K.J=_.Rd;
K.data={R:"setstl",_:fR.NF,B:d};k.T(K);K.data={R:"confirm",B:d}}else console.log(W,q,X)}else if(U=="Documents"){if(q=="getByName"){for(var N=0;
N<a.length;N++)if(a[N].name==X[0])return{K7:"Document",_:a[N]};return null}else if(q=="add"){if(X.length==0)X=[100,100,72,"New Project"];
var cr=X[5];if(cr==null)cr=1;D.data=ey.z3(X[0],X[1],X[2],X[3],["Wht","Trns","BckC"][cr],!1);k.T(D);D.data=null;
return{K7:"Document",_:k.jz()}}else throw"e"}else if(U=="Layers"){if(q=="getByName"){for(var N=0;N<W._.length;
N++)if(W._[N]._.getName()==X[0]){l=W._[N];break}if(l==null)B.__throw={message:"No layer with a name "+X[0]}}else if(q=="add"){K.data={R:W.axR=="layerSets"?b.DL:b.ZC};
K.J=_.b9;k.T(K);K.data=null;l={K7:"Layer",_:Y.U[Y.Y[0]],mQ:W.mQ}}else console.log(W,q,X)}else if(W.K7=="Selection"){if(q=="select"){var eE=X[0],bQ=[];
for(var N=0;N<eE.length;N++)bQ.push(eE[N][0],eE[N][1]);D.data=_.lR.tq(bT.PL.Sf(bQ),X[1])}else if(q=="clear"){D.data={yx:"delete"}}else if(q=="selectAll"){D.data=_.lR.XU(!0)}else if(q=="invert"){D.data={yx:"inverse"}}else if(q=="copy"){m.data={R:S.m.G$,sn:X[0],cc:!0}}else if(q=="deselect"){D.data=_.lR.XU()}else if(q=="fill"){var hT=X[0]._;
hT=g.ov.E2({o:hT[1]*255,L:hT[2]*255,X:hT[3]*255});D.data=_.Vz.u$("Clr",X[1],X[2]==null?1:X[2]/100,hT)}else if(q=="grow"||q=="similar"){var y={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}};
if(X[0]!=null)y.Tlrn={t:"long",v:X[0]};D.data={yx:q,Og:y}}else if(q=="expand"||q=="contract"||q=="feather"){D.data=_.lR.AF(q,X[0],!0)}else if(q=="translate"){var y={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},T:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Pxl",val:X[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:X[1]}}}}};
D.data={yx:"move",Og:y}}else if(q=="smooth"){D.data=_.lR.AF("smoothness",X[0],!1)}else if(q=="stroke"){var fR=JSON.parse(kE.iv[1]),df=fR.Clr.v,hT=X[0]._;
df.Rd.v=hT[1]*255;df.Grn.v=hT[2]*255;df.Bl.v=hT[3]*255;fR.Sz.v.val=X[1];fR.Styl.v.FStl=kE.stroke.types[X[2]];
console.log(fR,X);K.J=_.pM;K.data={R:"stroke",ahA:fR}}else console.log(W,q,X)}else if(W.K7=="Window"){if(q=="show"){m.data={R:S.m.K_,ud:W._}}else throw"e"}else if(W.K7=="ActionReference"){if(q=="putProperty"){W._.v.push({t:"prop",v:{classID:X[0],keyID:X[1]}})}else if(q=="putClass"){W._.v.push({t:"Clss",v:{classID:X[0]}})}else if(q=="putEnumerated"){W._.v.push({t:"Enmr",v:{classID:X[0],typeID:X[1],enum:X[2]}})}else if(q=="putName"){W._.v.push({t:"name",v:{classID:X[0],val:X[1]}})}else if(q=="putIndex"){W._.v.push({t:"indx",v:{classID:X[0],val:X[1]}})}else console.log(q,X)}else if(W.K7=="ActionDescriptor"||W.K7=="ActionList"){var eV=W.K7=="ActionList";
if(q.startsWith("put")){var gU=eV?X:X.slice(1),R=null;if(q=="putReference"){R=gU[0]._}else if(q=="putObject"){R=gU[1]._;
R.v.classID=gU[0]}else if(q=="putList"){R=gU[0]._}else if(q=="putDouble"){R={t:"doub",v:gU[0]}}else if(q=="putUnitDouble"){R={t:"UntF",v:{type:gU[0],val:gU[1]}}}else if(q=="putBoolean"){R={t:"bool",v:gU[0]}}else if(q=="putInteger"){R={t:"long",v:gU[0]}}else if(q=="putString"){R={t:"TEXT",v:gU[0]}}else if(q=="putClass"){R={t:"type",v:{classID:gU[0]}}}else if(q=="putEnumerated"){var i8=X[0].split("+");
if(i8.length==2&&X[1]==null){X[0]=i8[0];X[1]=gU[0]=i8[1]}var fF={};fF[gU[0]]=gU[1];R={t:"enum",v:fF}}else throw q;
if(eV)W._.v.push(R);else W._.v[X[0]]=R}else if(q=="hasKey"){return W._.v[X[0]]!=null}else if(q=="getEnumerationValue"){if(X[0]=="layerSection")l="layerSectionContent";
else console.log(X)}else if(q=="getBoolean"){l=W._.v[X[0]].v}else if(q=="getString"){l=W._.v[X[0]].v}else if(q=="getObjectValue"){var l=W._.v[X[0]];
return{K7:"ActionDescriptor",_:g.N(l)}}else if(q=="getList"){var l=W._.v[X[0]];return{K7:"ActionList",_:l}}else if(q=="getInteger"||q=="getDouble"){return W._.v[X[0]].v}else console.log(q,X)}else if(W.K7=="$"){if(q=="writeln"){console.log(X[0])}else throw q}else if(W.K7=="UI"){if(q=="scroll"||q=="scrollTo"){var bv=X[0],fE=X[1],d5=Y.f.$Z;
if(q=="scrollTo"){bv=(-Y.r/2+bv)*d5+Y.f.h.x;fE=(-Y.$/2+fE)*d5+Y.f.h.y}K.J=_.gT;K.data={R:"scroll",jE:new hw(Math.round(bv),Math.round(fE))}}else{var aR;
if(q=="zoomIn"||q=="zoomOut"){aR={R:"zoom",IK:q=="zoomIn"}}else if(q=="fitTheArea"){aR={R:"adapt",_:"fitscr"}}else if(q=="pixelToPixel"){aR={R:"adapt",_:"pixel"}}K.J=_.hm;
K.data=aR;if(q=="switchFullscreen"){var l8=k.e.pu,au=document.fullscreenElement!=null==(l8==2);m.data={R:S.m.O3,_:l8==0?2:0,FX:au}}}}else if(W.K7=="ColorSamplers"){if(q=="removeAll")Y.Eo=[];
else if(q=="add"){var hx={x:X[0][0],y:X[0][1]};Y.Eo.push(hx);var l={K7:"ColorSampler",_:hx}}}else if(W.K7=="ColorSampler"){if(q=="move"){var fw=Y.Eo.indexOf(W._);
hx=Y.Eo[fw];hx.x=X[0][0];hx.y=X[0][1]}else if(q=="remove"){var fw=Y.Eo.indexOf(W._);Y.Eo.splice(fw,1)}}else if(W.K7=="PathItem"){if(q=="select"){Y.Lf=[Y.RM.indexOf(W._)];
Y.gd=!0}else if(q=="remove"){K.J=_.ZA;K.data={R:"pathedit",w7:"del"}}else console.log(q)}else if(W.K7=="PathItems"){if(q=="add"){var cx=X[1],fg=ey.hQ(X[0]),T=fg.add.vmsk.G;
for(var N=0;N<cx.length;N++){var iI=cx[N],eq=iI._.length;T.push({I:iI.v8?0:3,length:eq,R3:iI.Xp});for(var fS=0;
fS<eq;fS++){if(!iI.v8)iI._[fS].I+=3;T.push(iI._[fS])}}K.J=_.ZA;K.data={R:"pathedit",w7:"new",wb:fg};
k.T(K);return{K7:"PathItem",_:fg}}else throw q}else if(W.K7=="Folder"){if(q=="selectDialog")l="img";
else throw q}else if(W.K7=="File"){if(q=="openDialog")alert("A website can not show the Open dialog from a script");
else throw q}else console.log(W,q,X);if(K.data)k.T(K);if(D.data)k.T(D);if(m.data)k.T(m);return l};bT.PL.kd=function(W,q,X){var k=new ip(S.E.O,!0);
k.J=_.iK;var B=new ip(S.E.dq,!0);if(X==0){bT.PL.ar8=W.d;B.data=_.lR.XU(!0)}else{var U=bT.PL.ar8;if(U)k.data={R:"setsel",xJ:"Restore Selection",d:{S:U.S.P(),c:U.c.slice(0)}};
else B.data=_.lR.XU()}q.T(k.data?k:B)};bT.PL.ar8=null;bT.PL.HR={AnchorPosition:{TOPLEFT:0,TOPCENTER:1,TOPRIGHT:2,MIDDLELEFT:3,MIDDLECENTER:4,MIDDLERIGHT:5,BOTTOMLEFT:6,BOTTOMCENTER:7,BOTTOMRIGHT:8},Units:{PIXELS:0,INCHES:1,CM:2,MM:3,PERCENT:4,PICAS:5,POINTS:6},ElementPlacement:{INSIDE:0,PLACEATBEGINNING:1,PLACEATEND:2,PLACEBEFORE:3,PLACEAFTER:4},LayerKind:{NORMAL:0,SMARTOBJECT:1,TEXT:2,SOLIDFILL:3,GRADIENTFILL:4,PATTERNFILL:5,BRIGHTNESSCONTRAST:6,LEVELS:7,CURVES:8,EXPOSURE:9,VIBRANCE:10,HUESATURATION:11,COLORBALANCE:12,BLACKANDWHITE:13,PHOTOFILTER:14,CHANNELMIXER:15,LAYER3D:16,INVERSION:17,POSTERIZE:18,THRESHOLD:19,GRADIENTMAP:20,SELECTIVECOLOR:21},RippleSize:{SMALL:0,MEDIUM:1,LARGE:2},PolarConversionType:{POLARTORECTANGULAR:1,RECTANGULARTOPOLAR:0},OffsetUndefinedAreas:{REPEATEDGEPIXELS:0,SETTOBACKGROUND:1,WRAPAROUND:2},NoiseDistribution:{GAUSSIAN:0,UNIFORM:1},TextType:{PARAGRAPHTEXT:0,POINTTEXT:1},DialogModes:{ALL:0,ERROR:1,NO:2},SaveOptions:{DONOTSAVECHANGES:0,PROMPTTOSAVECHANGES:1,SAVECHANGES:2},SaveDocumentType:{PNG:"png",JPEG:"jpg",COMPUSERVEGIF:"gif"},ExportType:{SAVEFORWEB:0},MatteType:{BACKGROUND:0,BLACK:1,FOREGROUND:2,NETSCAPE:3,NONE:4,SEMIGRAY:5,WHITE:6},FormatOptions:{OPTIMIZEDBASELINE:0,PROGRESSIVE:1,STANDARDBASELINE:3},DocumentMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},NewDocumentMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},ChangeMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},DocumentFill:{WHITE:0,TRANSPARENT:1,BACKGROUNDCOLOR:2},BitsPerChannelType:{ONE:0,EIGHT:1,SIXTEEN:2,THIRTYTWO:3},TrimType:{TOPLEFT:0,BOTTOMRIGHT:1,TRANSPARENT:2},WaveType:{SINE:0,TRIANGULAR:1,SQUARE:2},UndefinedAreas:{WRAPAROUND:0,REPEATEDGEPIXELS:1},BlendMode:{NORMAL:"norm",DISSOLVE:"diss",DARKEN:"dark",MULTIPLY:"mul ",COLORBURN:"idiv",LINEARBURN:"lbrn",DARKERCOLOR:"dkCl",LIGHTEN:"lite",SCREEN:"scrn",COLORDODGE:"div ",LINEARDODGE:"lddg",LIGHTERCOLOR:"lgCl",OVERLAY:"over",SOFTLIGHT:"sLit",HARDLIGHT:"hLit",VIVIDLIGHT:"vLit",LINEARLIGHT:"lLit",PINLIGHT:"pLit",HARDMIX:"hMix",DIFFERENCE:"diff",EXCLUSION:"smud",SUBTRACT:"fsub",DIVIDE:"fdiv",HUE:"hue ",SATURATION:"sat ",COLOR:"colr",LUMINOSITY:"lum "},Justification:{LEFT:0,RIGHT:1,CENTER:2,LEFTJUSTIFIED:3,RIGHTJUSTIFIED:4,CENTERJUSTIFIED:5,FULLYJUSTIFIED:6},AntiAlias:{NONE:0,SHARP:1,CRISP:2,STRONG:3,SMOOTH:4},Extension:{LOWERCASE:0,NONE:1,UPPERCASE:2},RasterizeType:{ENTIRELAYER:0,FILLCONTENT:1,LAYERCLIPPINGPATH:2,LINKEDLAYERS:3,SHAPE:4,TEXTCONTENTS:5},DisplacementMapType:{STRETCHTOFIT:0,TILE:1},StrokeLocation:{INSIDE:0,CENTER:1,OUTSIDE:2},SelectionType:{REPLACE:0,EXTEND:1,DIMINISH:2,INTERSECT:3},ResampleMethod:{AUTOMATIC:0,BICUBIC:1,BICUBICAUTOMATIC:2,BICUBICSHARPER:3,BICUBICSMOOTHER:4,BILINEAR:5,NEARESTNEIGHBOR:6,NONE:7,PRESERVEDETAILS:8},PointKind:{CORNERPOINT:0,SMOOTHPOINT:1},ShapeOperation:{SHAPEXOR:0,SHAPEADD:1,SHAPESUBTRACT:2,SHAPEINTERSECT:3},Direction:{HORIZONTAL:0,VERTICAL:1}};
bT.PL.HR.ColorBlendMode=bT.PL.HR.BlendMode;bT.PL.nB="---- SoLd TySh SoCo GdFl PtFl brit levl curv expA vibA hue2 blnc blwh phfl mixr clrL nvrt post thrs grdm selc".split(" ");
function ei(){}ei.ZG={"dc:Title":["",null,"dc:title"],"tiff:Artist":["",315,"dc:creator"],"tiff:ImageDescription":["",270,"dc:description"],"dc:Keywords":["",null,"dc:subject"],"tiff:Copyright":["",33432],"tiff:Make":["",271],"tiff:Model":["",272],"xmp:Rating":[0,null,"xmp:Rating"],"xmp:Label":["",null,"xmp:Label"],"exif:ExposureTime":[[1,200],33434],"exif:FNumber":[[16,1],33437],"exif:ExposureProgram":[1,34850],"exif:ISOSpeedRatings":[200,34855],"exif:DateTimeOriginal":["",36867],"exif:ShutterSpeedValue":[[1,1],37377],"exif:ApertureValue":[[8,1],37378],"exif:ExposureBiasValue":[[1,1],37380],"exif:MaxApertureValue":[[1,1],37381],"exif:MeteringMode":[5,37383],"exif:LightSource":[0,37384],"exif:Flash":[0,37385],"exif:FocalLength":[[60,1],37386],"exif:UserComment":["",37510],"exif:PixelXDimension":[1,40962],"exif:PixelYDimension":[1,40963],"exif:FocalPlaneXResolution":[[1,1],41486],"exif:FocalPlaneYResolution":[[1,1],41487],"exif:FocalPlaneResolutionUnit":[2,41488],"exif:DigitalZoomRatio":[[100,100],41988],"exif:FocalLengthIn35mmFilm":[1,41989],"exif:SceneCaptureType":[0,41990],"exif:LensInfo":["",42034],"exif:Lens":["",42036],"exif:LensSerialNumber":["",42037],"exif:SensitivityType":[2,34864],"exif:RecommendedExposureIndex":[100,34866],"exif:GPSVersionID":["2.3.0.0",0],"exif:GPSLatitude":["48,35,57.646N",2],"exif:GPSLongitude":["22,56,42.238E",4],"exif:GPSAltitudeRef":[0,5],"exif:GPSAltitude":[[1,1],6],"exif:GPSStatus":["A",9],"exif:GPSMapDatum":["",18],"Iptc4xmpCore:IntellectualGenre":[""],"Iptc4xmpCore:Location":[""],"Iptc4xmpCore:CountryCode":[""],"photoshop:Instructions":[""],"photoshop:AuthorsPosition":[""],"photoshop:City":[""],"photoshop:State":[""],"photoshop:Country":[""],"photoshop:TransmissionReference":[""],"photoshop:Headline":[""],"photoshop:Credit":[""],"photoshop:Source":[""],"dc:rights":[""],"photoshop:CaptionWriter":[""]};
ei.KQ={"4":"Iptc4xmpCore:IntellectualGenre","5":"dc:Title","40":"photoshop:Instructions","80":"tiff:Artist","85":"photoshop:AuthorsPosition","90":"photoshop:City","92":"Iptc4xmpCore:Location","95":"photoshop:State","100":"Iptc4xmpCore:CountryCode","101":"photoshop:Country","103":"photoshop:TransmissionReference","105":"photoshop:Headline","110":"photoshop:Credit","115":"photoshop:Source","116":"dc:rights","120":"tiff:ImageDescription","122":"photoshop:CaptionWriter"};
ei.ayg=function(W,q){if(q==null)q={};var X=ei.KQ,k=[],B=[],U="";for(var N=0;N<W.length;N++){var l=W[N],K=X[l[0]+""];
if(K&&q[K]==null)q[K]=l[1];else if(l[0]==12)B.push(l[1]);else if(l[0]==25)k.push(l[1]);else if(l[0]==55)U=l[1];
else if(l[0]==60)U+=";"+l[1]}if(U!=""&&q["exif:DateTimeOriginal"]==null)q["exif:DateTimeOriginal"]=U;
if(B.length!=0&&q["Iptc4xmpCore:SubjectCode"]==null)q["Iptc4xmpCore:SubjectCode"]=B.join(";");if(k.length!=0&&q["dc:Keywords"]==null)q["dc:Keywords"]=k.join(";");
return q};ei.at$=function(W){var q=ei.KQ,X=[];for(var k in q)if(W[q[k]])X.push([parseInt(k),W[q[k]]]);
if(W["Iptc4xmpCore:SubjectCode"]){var B=W["Iptc4xmpCore:SubjectCode"].split(";");for(var N=0;N<B.length;
N++)X.push([12,B[N].trim()])}if(W["dc:Keywords"]){var B=W["dc:Keywords"].split(";");for(var N=0;N<B.length;
N++)X.push([25,B[N].trim()])}X.sort(function(U,l){return U[0]-l[0]});return X};ei.T7=function(W,q){if(q==null)q={};
var X=new DOMParser,k=X.parseFromString(W,"image/svg+xml"),B=k.getElementsByTagName("rdf:Description")[0];
if(B==null)return q;var U=ei.ZG;for(var l in U){var K=U[l][2];if(K==null)continue;var D=[];if(K.startsWith("xmp:")){var m=B.getAttribute(K);
if(m==null)continue;D.push(m)}else{var Y=B.getElementsByTagName(K)[0];if(Y==null)continue;var a=Y.getElementsByTagName("rdf:li");
for(var N=0;N<a.length;N++)D.push(a[N].textContent)}q[l]=D.join("; ")}return q};ei.Bc=function(W){var q=["<?xpacket begin=\"\uFEFF\" id=\"W5M0MpCehiHzreSzNTczkc9d\"?>","<x:xmpmeta xmlns:x=\"adobe:ns:meta/\" x:xmptk=\"Adobe XMP Core 5.6-c145 79.163499, 2018/08/13-16:40:22\">","<rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">","<rdf:Description rdf:about=\"\" xmlns:xmp=\"http://ns.adobe.com/xap/1.0/\" xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:xmpMM=\"http://ns.adobe.com/xap/1.0/mm/\" xmlns:stEvt=\"http://ns.adobe.com/xap/1.0/sType/ResourceEvent#\" xmlns:stRef=\"http://ns.adobe.com/xap/1.0/sType/ResourceRef#\""],X=ei.ZG,k="";
for(var B in X){var U=W[B],l=X[B][2];if(U==null||l==null)continue;if(l.startsWith("xmp:")){k+=" "+l+"=\""+U+"\""}else{var K="Seq",D="";
if(l=="dc:title"||l=="dc:description"){K="Alt";D=" xml:lang=\"x-default\""}if(l=="dc:subject")K="Bag";
q.push("\t<"+l+"><rdf:"+K+">");var m=l=="dc:subject"?U.split(";").join(",").split(","):[U];for(var N=0;
N<m.length;N++)q.push("\t\t<rdf:li"+D+">"+m[N].trim()+"</rdf:li>");q.push("\t</rdf:"+K+"></"+l+">")}}q[3]+=k+">";
q.push("</rdf:Description>","</rdf:RDF>","</x:xmpmeta>","<?xpacket end=\"w\"?>");return q.join("\n")};
ei.ayr=function(W){var q=[];for(var N=0;N<W.length;N++)q[N]=W[N][1]==0?0:W[N][0]/W[N][1];return q};ei.ahi=function(W){var q=[];
for(var N=0;N<W.length;N++){var X=W[N],k=1;if(X!=Math.round(X)){k=1e3;X=Math.round(X*k)}q[N]=[X,k]}return q};
ei.xZ=function(W,q){var X=ei.ZG;if(q==null)q={};for(var k in X){var B=X[k][1],U="t"+B;if(B!=null&&W[U]!=null){var l=W[U];
if(B==0)l=l.join(".");else if(B==2||B==4){var K=W["t"+(B-1)];if(K==null)K=[B==2?"N":"E"];l=ei.ayr(l).join(",")+K[0]}else if(B==42034)l=ei.ayr(l).join(" ");
else if(B==270||B==315){if(l instanceof Uint8Array)l=Z._o(l);else{var D=l[0],m=new Uint8Array(D.length);
Z.o3(m,0,D);l=Z._o(m)}}else if(B==37510&&l instanceof Uint8Array){var D=Z._o(l);l=D.startsWith("ASCII")?D.slice(8):D}else l=l[0];
q[k]=l}}if(W.exifIFD)ei.xZ(W.exifIFD,q);if(W.gpsiIFD)ei.xZ(W.gpsiIFD,q);return q};ei.zq=function(W,q,X){var k=ei.ZG,U=0,K=0;
if(q==null)q={};var B={},l={};for(var D in k){if(W[D]==null||k[D][1]==null)continue;var m=k[D][1],Y="t"+m,a=q;
if(D.startsWith("exif:")){a=B;U++;if(D.startsWith("exif:GPS")){a=l;K++}}var p=W[D];if(m==0)p=new Uint8Array(p.split(".").map(parseFloat));
else if(m==2||m==4){var M=p.length;a["t"+(m-1)]=[p.slice(p.length-1)];p=ei.ahi(p.split(",").map(parseFloat))}else if(m==42034)p=ei.ahi(p.split(" ").map(parseFloat));
else if(m==270||m==315){var x=Z.hP(p);p=[Z.zD(x,0,x.length)]}else if(m==37510)p=Z.hP(p);else p=[p];a[Y]=p}if(U!=0){q.exifIFD=B;
q.t34665=[0]}if(K!=0){q.gpsiIFD=l;q.t34853=[0]}var R=new Date,y=[R.getFullYear(),R.getMonth()+1,R.getDate(),R.getHours(),R.getMinutes(),R.getSeconds()];
for(var N=0;N<6;N++)y[N]=(y[N]+"").padStart(2,"0");q.t305=["Photopea Editor (www.photopea.com)"];if(X!=!0)q.t306=[y[0]+":"+y[1]+":"+y[2]+" "+y[3]+":"+y[4]+":"+y[5]];
return q};function am(){}am.WZ=function(W){var q={aG8:",",KU:"\r\n",aEQ:"\""},X=[[""]],k,B,U,l,K;for(k=B=U=l=0;
U<W.length;U++){switch(K=W.charAt(U)){case q.aEQ:if(l&&W.charAt(U+1)==q.aEQ){X[k][B]+=q.aEQ;++U}else{l^=1}break;
case q.aG8:if(!l){X[k][++B]=""}else{X[k][B]+=K}break;case q.KU.charAt(0):if(!l&&(!q.KU.charAt(1)||q.KU.charAt(1)&&q.KU.charAt(1)==W.charAt(U+1))){X[++k]=[""];
X[k][B=0]="";if(q.KU.charAt(1)){++U}}else{X[k][B]+=K}break;default:X[k][B]+=K}}if(X[X.length-1].length<X[0].length)X.pop();
return X};var I={};I.a6H=0;I.oX=function(){I.a6H++;return I.a6H};I.ack="uint8";I.NH=function(W){W.K.style.transition="opacity 0.1s ease-out, transform 0.1s ease-out";
W.K.style.opacity="1";W.K.style.transform="scale(1)"};I.Gs=function(W,q){W.K.style.opacity="0";W.K.style.transform="scale(0.95)";
if(q)setTimeout(function(){q.removeChild(W.K)},100)};I.aDg=function(){var W=I.VO();if(W=="")return 0;
if(W!=I.wl("_TXZRPB;d7@;")&&W!=ia.wl("eQLZRRM?8a4=8")){var q=I.TD[ia.ge][ia.rB],X=q.indexOf(String.fromCharCode(35)),k;
if(X==-1)return 0;try{k=JSON.parse(I.TD[ia.akx](q.slice(X+1)))}catch(bu){return 0}var B=k[I.wl("bQ[ODL<E<M")];
if(B==null||B.length<<2!=64)return 0;var U=ia.kU(),l=parseInt(B.slice(3*4).split("").reverse().join(""),16)<<16;
if(l<U||B!=ia.a20(l,W))return 0;return 2}return 1};I.VO=function(){var W=I.TD[I.jC("}$z{2*35")][I.wl("W[\\ZQAJ?")],q=String.fromCharCode(46),X=W.split(q);
if(X.length<2)return"";var k=X.pop();k=X.pop()+q+k;return k};I.fO=function(W){var q=I.VO();if(gv.jj())return!0;
if((q==ia.wl("_TXZRPB;d7@;")||q==ia.wl("~yy"))&&I.TD==I.TD[ia.aIu])return!0;var X=I.TD[ia.ge][ia.rB],k=X.indexOf("#");
if(k!=-1&&k!=X.length-1&&(X[k+1]=="%"||X[k+1]=="{")){var B=X.substring(k+1,X.length);B=JSON.parse(I.TD[ia.akx](B));
var U=B[ia.wl("P\\RY")];if(U)if(W==0&&U[ia.wl("aYKM")]||W==1&&U[ia.wl("SQcMR")])return!0}return!1};I.ara=function(){if(I.TD[ia.asa][ia.a7_]){var W=new I.TD[ia.Yy];
W[ia.by](ia.a6w,I.wl("W`]VVykhNKH[;046.,}v@r{v5samc&YgSY\\rRGLw=oaR3+`%|")+I.VO());W[ia.xc]()}};I.p0=function(){if(window.top!=window.self)return!1;
var W=navigator.userAgent.toLowerCase();if(W.indexOf("firefox")!=-1)return!1;if(W.indexOf("safari")!=-1&&W.indexOf("chrome")==-1)return!1;
return window.ClipboardItem!=null&&navigator.clipboard!=null};I.rw=function(W){this.Mh=W;this.L7=I.a("img");
this.Sk=I.a("canvas");this.Re=null;this.p2="";this.ZX=null;this.c5=new hw(0,0);this.a4Y=!0;I.wO(this.Mh,this.RQ.bind(this))};
I.rw.prototype.V9=function(W,q){this.Re=W;if(q)this.p2=q;this.RQ()};I.rw.prototype.Si=function(W){this.a4Y=W;
this.RQ()};I.rw.prototype.RQ=function(W){if(W)this.c5=I.IO(W,this.Mh);var q=this.a4Y?this.Re:"auto",X=typeof q=="string";
if(!X){var k=I.W$(),B=this.c5,U=q.OM.r,l=q.OM.$,K=typeof q.S0=="string",D=K?this.L7:this.Sk;if(K)D.setAttribute("src",q.S0);
else{D.width=U;D.height=l;var m=D.getContext("2d"),Y=new ImageData(new Uint8ClampedArray(q.S0.buffer),U,l);
m.putImageData(Y,0,0)}I.w(D," position:absolute; pointer-events:none;user-select:none;"+"top:"+(B.y-q.Qv.y/k)+"px; left:"+(B.x-q.Qv.x/k)+"px; width:"+U/k+"px; height:"+l/k+"px");
var a=this.ZX;if(a==null||a!=D){if(a)this.Mh.removeChild(a);this.Mh.appendChild(D);this.ZX=D}}else if(this.ZX){this.Mh.removeChild(this.ZX);
this.ZX=null}I.w(this.Mh,"cursor:"+(X?q:"none")+"; "+this.p2)};I.mr=function(W){return W.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;")};
I.nN=function(W,q){W.tB(js.get([12,41]).charAt(0)+":");q.tB(js.get([12,42]).charAt(0)+":")};I.a=function(W,q){var X=document.createElement(W);
if(q!=null)X.className=q;return X};I.ru=function(W){while(W.firstChild)W.removeChild(W.firstChild)};
I.Wx=function(W,q){var X=W.className;X=X.split(" ");if(X.indexOf(q)==-1)X.push(q);W.className=X.join(" ")};
I.gI=function(W,q){var X=W.className;if(X=="")return;X=X.split(" ");if(X.indexOf(q)!=-1)X.splice(X.indexOf(q),1);
W.className=X.join(" ")};I.rL=function(W){while(!0){if(W==document)return!0;if(W==null)return!1;W=W.parentNode}};
I.zR=function(W){W.appendChild(I.a("br"))};I.Vc=function(W){W.appendChild(I.a("hr"))};I.w=function(a1,W){a1.setAttribute("style",W)};
I.eb=function(W,q,X){var k=new iC([1,12,1],X==null?!0:X,null,!0);if(W)k.Q("click",W.qI,W);if(q)q.appendChild(k.K);
return k};I.TD=document;I.o4=function(W){var q=0;for(var N=0;N<W;N++)q+=Math.random();return q/W<Math.PI/4};
I.wl=function(W){var q="";if(!I.o4(28))W+="-3";for(var N=0;N<W.length;N++){var X=W.charCodeAt(N);if(X<32||126<X)throw"e";
q+=String.fromCharCode(32+(X-32+17+3*N)%95)}return q};I.jC=function(W){var q="";if(!I.o4(28))W+="-1";
for(var N=0;N<W.length;N++){var X=W.charCodeAt(N);X-=32;X+=95e4;X-=17+3*N;X=X%95;q+=String.fromCharCode(32+X)}return q};
I.NN=function(W){var q=Math.random();I.ack="uint"+(3+q);return new W};(function(){var W=window.PointerEvent,q=W?"pointer":"mouse",X=q+"down",k=q+"move",B=q+"up",U=!1;
I.aA=function(l,K){l.addEventListener(X,K,U);if(!W)l.addEventListener("touchstart",K,U)};I.wO=function(l,K){l.addEventListener(k,K,U);
if(!W)l.addEventListener("touchmove",K,U)};I.DA=function(l,K){l.addEventListener(B,K,U);if(!W)l.addEventListener("touchend",K,U)};
I.aJ2=function(l,K){l.removeEventListener(X,K,U);if(!W)l.removeEventListener("touchstart",K,U)};I.yO=function(l,K){l.removeEventListener(k,K,U);
if(!W)l.removeEventListener("touchmove",K,U)};I.xB=function(l,K){l.removeEventListener(B,K,U);if(!W)l.removeEventListener("touchend",K,U)}}());
I.TK=function(W){W.addEventListener("touchstart",I.iR,!1);W.addEventListener("touchmove",I.iR,!1);W.addEventListener("touchend",I.iR,!1);
W.addEventListener("gesturestart",I.iR,!1);W.addEventListener("gesturechange",I.iR,!1);W.addEventListener("gestureend",I.iR,!1)};
I.a09=function(W){var q=W.sourceCapabilities;if(q)return q.firesTouchEvents;return!1};I.JO=function(W,q,X,k){var B=I.W$();
W.width=Math.floor(q*B);W.height=Math.floor(X*B);if(k)k.scale(B,B);I.V7(W)};I.V7=function(W){var q=I.W$();
W.style.width=W.width/q+"px";W.style.height=W.height/q+"px"};I.Xv=function(W,q,X){W.style.width=q/I.W$()+"px";
W.style.height=X/I.W$()+"px"};I.IO=function(W,q){if(q==null)q=W.currentTarget;var X=q.getBoundingClientRect();
if(W.touches)W=W.touches.item(0);return{x:W.clientX-X.left,y:W.clientY-X.top}};I.W$=function(){return window.devicePixelRatio||1};
I.Ch=function(W){W.addEventListener("keydown",I.ajv,!1)};I.ajv=function(W){if(!bu.aZ(W.code,bu.Wr))W.stopPropagation()};
I.aIk=function(W){W.stopPropagation()};I.iR=function(W){W.preventDefault()};I.hk=function(W){W.stopPropagation();
W.preventDefault()};I.KG=function(W,q,X){X=X?X:"";if(PIMG["__"+W]==null)X+=" gsicon";var k=PIMG[W]?PIMG[W]:W;
return"<img src=\""+k+"\" alt=\""+(q?q:"")+"\" class=\""+X+"\" />"};I.C8=function(W,q,X,k){var B=W.dataTransfer.getData("text/uri-list");
if(B!=null&&B.startsWith("http")){var U=new ip(S.E.H,!0);U.data={R:S.m.i3,rl:{url:B,a4Z:!0,m_:X,S8:k}};
q.T(U)}if(W.dataTransfer.files.length==0)return;if(window.showOpenFilePicker){var l=[],K=W.dataTransfer.items.length,D=W.dataTransfer.files;
for(var m of W.dataTransfer.items)m.getAsFileSystemHandle().then(function(Y){l.push(Y);if(l.length==K){var U=new ip(S.E.H,!0);
U.data={R:S.m.pB,data:D,m_:X,S8:k,atu:l};q.T(U)}})}else{var U=new ip(S.E.H,!0);U.data={R:S.m.pB,data:W.dataTransfer.files,m_:X,S8:k};
q.T(U)}};if(I.o4(27))I.TD=window;else I.TD=I.am3;I.TD._cwY=I.TD[I.jC("t$&!'31")];var it={};it.awO=function(N){var W=it.$z[N],q=document.documentElement.style,k=1;
q.setProperty("--base","#"+g.Ga(W["--base"]));q.setProperty("--bg-panel","#"+g.Ga(W["--bg-panel"]));
q.setProperty("--bg-canvas","#"+g.Ga(W["--bg-canvas"]));q.setProperty("--bg-input","#"+g.Ga(W["--bg-input"]));
q.setProperty("--bg-bbtn","#"+g.Ga(W["--bg-bbtn"]));q.setProperty("--bg-bbtnOver","#"+g.Ga(W["--bg-bbtnOver"]));
q.setProperty("--brdr","#"+g.Ga(W["--brdr"]));q.setProperty("--text-color","#"+g.Ga(W["--text-color"]));
q.setProperty("--brdrLgt","rgba(255,255,255,"+W["--brdrLgt"]+")");q.setProperty("--brdrDrk","rgba(  0,  0,  0,"+W["--brdrDrk"]+")");
q.setProperty("--alphaDark",""+W["--alphaDark"]);q.setProperty("--gs-invert",""+W["--gs-invert"]);q.setProperty("--accent","#"+g.Ga(W["--accent"]));
var X=W["--sh-clr"];q.setProperty("--sh-clr","rgba("+(X>>16)+","+(X>>8&255)+","+(X&255)+", 0.45)");q.setProperty("--absc",""+W["--absc"]);
q.setProperty("--abs255",""+W["--abs255"]);if(1<I.W$()&&I.W$()<1.5)k=1/I.W$();q.setProperty("--img20",20*k+"px");
q.setProperty("--img18",18*k+"px");q.setProperty("--img15",15*k+"px");if(PIMG!=null){var B="lrs/eye lrs/square lrs/arrow_down lrs/arrow_right lrs/chain lrs/link lrs/linkX lrs/clipping lrs/lock lrs/fx lrs/folder cross tools/cshape checkmark".split(" ");
for(var N=0;N<B.length;N++){var U=B[N],l=U.split("/").pop(),K=PIMG["__"+U]==null?W["--gs-invert"]:"0";
q.setProperty("--icon_"+l,"url("+PIMG[U]+")");q.setProperty("--icon_"+l+"_invrt",K)}}var D=document.querySelector("meta[name=theme-color]");
if(D)D.setAttribute("content","#"+g.Ga(W["--base"]))};(function(){var W=3441398,q=3441398;it.$z=[{name:"Light Grey","--base":14737632,"--bg-panel":11579568,"--bg-canvas":11579568,"--bg-input":16777215,"--bg-bbtn":15921906,"--bg-bbtnOver":16777215,"--brdrLgt":.5,"--brdrDrk":.4,"--alphaDark":.12,"--text-color":3749943,"--gs-invert":.22,"--brdr":11579568,"--sh-clr":16777215,"--absc":1,"--abs255":255,"--accent":q},{name:"Dark Grey","--base":4671303,"--bg-panel":2434341,"--bg-canvas":2434341,"--bg-input":2434341,"--bg-bbtn":6118749,"--bg-bbtnOver":6974058,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14013909,"--gs-invert":.78,"--brdr":2434341,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":W},{name:"Blue","--base":4212048,"--bg-panel":2435637,"--bg-canvas":2435637,"--bg-input":2435637,"--bg-bbtn":6316138,"--bg-bbtnOver":6974074,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2435637,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":W},{name:"Dark Blue","--base":2237745,"--bg-panel":1513761,"--bg-canvas":1513761,"--bg-input":1513761,"--bg-bbtn":3554128,"--bg-bbtnOver":3158085,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":12303291,"--gs-invert":.8,"--brdr":1513761,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":W},{name:"Purple","--base":4931153,"--bg-panel":3287605,"--bg-canvas":2434341,"--bg-input":3287605,"--bg-bbtn":6840430,"--bg-bbtnOver":7694970,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":3287605,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":W},{name:"Black","--base":3487029,"--bg-panel":1710618,"--bg-canvas":1710618,"--bg-input":1710618,"--bg-bbtn":5263440,"--bg-bbtnOver":5921370,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":13421772,"--gs-invert":.7,"--brdr":1710618,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":W},{name:"White","--base":16250871,"--bg-panel":14737632,"--bg-canvas":14737632,"--bg-input":16777215,"--bg-bbtn":14737632,"--bg-bbtnOver":14079702,"--brdrLgt":.2,"--brdrDrk":.2,"--alphaDark":.065,"--text-color":3355443,"--gs-invert":.18,"--brdr":14737632,"--sh-clr":16777215,"--absc":1,"--abs255":255,"--accent":q}]}());
function aV(){this.s5={};this.Qd={}}aV.prototype.aiu=function(W){var q=this.s5[W];if(q==null)return!1;
return q.length>0};aV.prototype.addEventListener=function(W,q){this.Q(W,q,null)};aV.prototype.Q=function(W,q,X){if(this.s5[W]==null){this.s5[W]=[];
this.Qd[W]=[]}this.s5[W].push(q);this.Qd[W].push(X)};aV.prototype.removeEventListener=function(W,q){var X=this.s5[W];
if(X==null)return;var k=X.indexOf(q);if(k<0)return;var B=this.Qd[W];X.splice(k,1);B.splice(k,1)};aV.prototype.T=function(W){W.currentTarget=this;
if(W.target==null)W.target=this;var q=this.s5[W.I];if(q==null)return;var X=this.Qd[W.I];for(var N=0;
N<q.length;N++){if(X[N]==null)q[N](W);else q[N].call(X[N],W)}};var ip=function(W,q){if(!q)q=!1;this.I=W;
this.target=null;this.currentTarget=null;this.bubbles=q;this.J=null;this.wV=!1},S={E:{O:"0",H:"1",dq:"1.5",k:"2",V_:"3",amb:"4"},m:{xT:"10",k8:"11",bD:"12",Je:"13",db:"14",ajB:"14.1",i3:"15",hM:"16",_S:"17",nj:"18",lS:"19",ajY:"19.5",oQ:"20",ayI:"20.1",a3u:"20.5",a0s:"20.6",Qa:"21",G$:"22",M5:"23",oU:"24",K_:"25",Gw:"26",Zk:"27",j1:"28",aKQ:"28.5",atG:"29",pB:"30",oE:"31",oF:"32",MJ:"33",os:"34",Dt:"35",aDN:"35.5",p4:"37",a2K:"38",dW:"39",xA:"40",qS:"41",dG:"41.5",g1:"42",Ai:"43",a0z:"43.5",vF:"44",a7x:"45",gL:"46",RO:"47",j8:"48",LT:"49",aqK:"50",O3:"51"}};
function gH(){aV.call(this);this.parent=null;this.K=null;this.Ah=0;this.QB=0;this.ayO=!1}gH.prototype=new aV;
gH.prototype.a5p=function(W){var a1=this;while(a1!=null){if(a1==W)return!0;a1=a1.parent}return!1};gH.prototype.Uz=function(){var W=this.K;
return W.offsetWidth+W.clientLeft};gH.prototype.abu=function(){var W=this.K;return W.offsetHeight+W.clientTop};
gH.prototype.update=function(W){};gH.prototype.T=function(W){aV.prototype.T.call(this,W);if(W.bubbles&&this.parent!=null)this.parent.T(W)};
gH.prototype.l=function(){};gH.prototype.qL=function(W,q){};gH.prototype.Ti=function(W){I.Wx(this.K,"disabled")};
gH.prototype.JZ=function(W){I.gI(this.K,"disabled")};gH.prototype.Si=function(W){if(W)this.JZ();else this.Ti()};
gH.prototype.Q6=function(){this.ayO=!0};gH.prototype.HV=function(){var W=this._Z,q=this.ayO,X=this.IE;
if(W){W=js.get(this._Z);if(!q)W+=":";X.textContent=W;if(q){X.style.display="block";X.style.lineHeight="1.6em";
X.style.marginLeft="3px";I.gI(X,"flabel")}}if(q){this.Xo.style.fontSize="1.15em"}};function gQ(W){gH.call(this);
this.zS=[];this.ayV=!1;this.aHe=0;this.EM={x:0,y:0,Vj:!1};this.l0=W;this.a4A=this.S4.bind(this);this.mM=this.HL.bind(this);
this.j5=this.qO.bind(this);I.aA(W,this.a4A);I.wO(W,this.mM);W.addEventListener("wheel",this.y3.bind(this),!1);
W.addEventListener("contextmenu",this.aaC.bind(this),!1);var q=this.axV.bind(this);W.addEventListener("gesturestart",q,!1);
W.addEventListener("gesturechange",q,!1);W.addEventListener("gestureend",q,!1);I.TK(W)}gQ.prototype=new gH;
gQ.prototype.axV=function(W){if(W.type=="gesturestart")this.df=W.scale;if(W.type=="gesturechange"){var q=new ip("mouse",!0);
q.action="scroll";q.v0=!0;this.Gc(W,q);var X=(this.df-W.scale)/this.df;q.jE=new hw(0,100*X);this.df=W.scale;
this.T(q)}};gQ.prototype.WI=function(W){var q=-1,X=this.zS;for(var N=0;N<X.length;N++)if(X[N].pointerId==W.pointerId)q=N;
return q};gQ.w1=function(W){var q=W.pointerType,X=window.__kb;return q=="touch"&&X.D(bu.aES)};gQ.adJ=function(W){var q=W.button!=null&&W.button!=0?W.which==2?"i":"r":"";
if(bu.kb()&&W.ctrlKey)q="r";return q};gQ.prototype.S4=function(W){if(gQ.w1(W))return;var q=this.WI(W);
if(q!=-1)this.zS[q]=W;else this.zS.push(W);if(this.zS.length==1){this.aHe=Date.now();var X=gQ.adJ(W)+"down",k=new ip("mouse",!0);
k.action=X;this.Gc(W,k);this.T(k);I.yO(this.l0,this.mM);I.wO(window,this.mM);I.DA(window,this.j5)}if(this.zS.length==2){if(Date.now()-this.aHe<100){var k=new ip("mouse",!0);
k.action="cancellast";this.Gc(W,k);this.T(k)}this.ayV=!0}if(this.zS.length==2)this.ark("multidown")};
gQ.prototype.HL=function(W){if(gQ.w1(W))return;var q=this.WI(W);if(q!=-1)this.zS[q]=W;if(this.zS.length>1){this.ark("multimove")}if(this.ayV)return;
if(this.zS.length==1&&q==-1)return;var X=new ip("mouse",!0);X.action="move";this.Gc(W,X);this.T(X)};
gQ.prototype.qO=function(W){if(gQ.w1(W))return;var q=this.zS;q=this.zS=[];if(q.length==0){var X=gQ.adJ(W)+"up",k=new ip("mouse",!0);
k.action=X;this.Gc(W,k);this.T(k);I.yO(window,this.mM);I.xB(window,this.j5);I.wO(this.l0,this.mM);this.ayV=!1}};
gQ.prototype.y3=function(W){W.preventDefault();if(W.deltaX==0&&W.deltaY==0)return;var q=new ip("mouse",!0);
q.action="scroll";q.v0=W.ctrlKey;this.Gc(W,q);this.T(q)};gQ.prototype.aaC=function(W){I.hk(W);if(I.a09(W)){var q=new ip("mouse",!0);
this.Gc(W,q);q.action="rdown";this.T(q);q.action="rup";this.T(q)}};gQ.prototype.ark=function(W){var q=this.zS,X=I.W$(),k=[];
for(var N=0;N<q.length;N++){var B=k[N]=I.IO(q[N],this.l0);B.x*=X;B.y*=X}var U=new ip("mouse",!0);U.action=W;
U.m7=k;if(q.length==2)this.T(U)};gQ.prototype.Gc=function(W,q,X){var k=this.zS.length!=0;if(q.action!="up"){var B=I.W$();
if(X==null)X=I.IO(W,this.l0);this.EM=q.yP={x:B*X.x,y:B*X.y,Vj:k};var U=I.IO(W,document.body);q.yP.Ty=U.x;
q.yP.Be=U.y}else this.EM=q.yP={x:this.EM.x,y:this.EM.y,Vj:k};q.yP.Kx=.5;if(W.pressure!=null)q.yP.Kx=W.pressure;
if(W.pointerType=="mouse")q.yP.Kx*=2;q.yP.aL8=W.pointerType;if(W.deltaX!=null){var l=W.deltaX;if(W.deltaMode==0&&Math.abs(l%100)<1e-9)l/=100;
var K=W.deltaMode==0?1:40;q.jE=new hw(l*K,W.deltaY*K)}};function j_(W,q,X){gH.call(this);this.GR=null;
this.az_=this.qO.bind(this);this.aoo=this.YM.bind(this);this.aeZ=this.aaL.bind(this);this.aAN=this.aDG.bind(this);
this.Qq=[];this.dt=[];this.J$=[];this.aC_=[];this.aJQ=X;this.K=I.a("div","contextpanel "+(X?"cp_dark":"cp_light"));
this.K.addEventListener("contextmenu",I.iR,!1);this.xe=null;this.aoc=0;this.Er=W;this.aa_=q;this.ZF=[];
for(var N=0;N<W.length;N++){var k=I.a("div","enab");this.dt.push(k);this.K.appendChild(k);var B=W[N].S7;
if(B){if(B.startsWith("#")){var U=I.a("span");I.w(U,"display:inline-block; width:16px; height:16px; vertical-align:middle; margin:0 5px 0 -3px; border-radius:4px; background-color:"+B);
k.appendChild(U)}else k.innerHTML=I.KG(W[N].S7,null,"thumb")}else{var l=I.a("span","check");this.aC_.push(l);
k.appendChild(l)}var K=I.a("span","label");K.textContent=js.get(W[N].name);k.appendChild(K);this.J$.push(K);
if(W[N].nC)this.K.appendChild(I.a("hr"));if(W[N].Rl||W[N].sub){var D=k.dP=I.a("span","right");k.appendChild(D);
if(W[N].Rl)D.textContent=bu.dM(W[N].Rl);else if(W[N].sub)D.innerHTML="<svg height='10px' width='6px'  fill='none' stroke-width='1.35' stroke='currentColor'><path d='M 1 1 L 5 5 L 1 9'/></svg>"}k.addEventListener(X?"mouseup":"click",this.az_,!1);
k.addEventListener("mouseover",this.aoo,!0);k.addEventListener("mouseout",this.aeZ,!0);if(W[N].sub){var m=new j_(W[N].sub,q?q[N].sub:null);
m.parent=this;this.ZF.push(m);m.Q("select",this.aHl,this)}else this.ZF.push(null)}}j_.prototype=new gH;
j_.prototype.a1J=function(W){I.ru(this.K);for(var N=0;N<W.length;N++)if(W[N]!=0&&W[N]!=null){this.K.appendChild(this.dt[N]);
if(W[N]!=1&&this.ZF[N])this.ZF[N].a1J(W[N])}};j_.prototype.l=function(){var W=this.Er;for(var N=0;N<W.length;
N++){if(W[N].title)this.dt[N].title=js.get(W[N].title);this.J$[N].textContent=js.get(W[N].name)+(W[N].r8?"...":"")}for(var N=0;
N<this.ZF.length;N++)if(this.ZF[N])this.ZF[N].l()};j_.prototype.update=function(W,q){if(!this.aJQ){this.K.setAttribute("class","contextpanel cp_"+(window.locStor.getItem("__glm")=="1"?"trsp":"light"))}var X=this.Er,k=window.innerWidth<450?"none":"inline";
for(var N=0;N<X.length;N++){var B=this.dt[N];if(B.dP&&!this.ZF[N])B.dP.style.display=k;if(X[N].i){var U=X[N].i(W,q,N);
if(U.i!=null)this.dt[N].className=U.i?"enab":"disab";if(U.cT!=null)this.J$[N].textContent=U.cT;if(U.jc!=null)this.aC_[N].innerHTML=U.jc?"<svg height='10px' width='10px'  fill='none' stroke-width='1.35' stroke='currentColor'><path d='M 1 5 L 4 8 L 9 2'/></svg>":"";
if(U.p!=null)this.aa_[N]=U.p}}for(var N=0;N<this.ZF.length;N++)if(this.ZF[N])this.ZF[N].update(W,q)};
j_.prototype.kN=function(){return this.Qq};j_.prototype.qO=function(W){if(W.button!=0)return;var N=this.dt.indexOf(W.currentTarget);
if(this.ZF[N]){this.aoc=N;this.aDG()}else{if(this.aa_){var q=this.aa_[N],X=new ip(q.s,!0);X.J=q.J;X.data=q.p;
this.T(X)}this.GR=null;this.Qq=[N];this.T(new ip("select",!1));var X=new ip(S.E.H,!0);X.data={R:S.m.Je};
this.T(X)}};j_.prototype.YM=function(W){var N=this.dt.indexOf(W.currentTarget);this.UO();this.aoc=N;
this.xe=setTimeout(this.aAN,300)};j_.prototype.aaL=function(W){this.UO()};j_.prototype.UO=function(){if(this.xe){clearTimeout(this.xe);
this.xe=null}};j_.prototype.aDG=function(){this.UO();var N=this.aoc;if(this.GR)this.GR.aAK();if(this.ZF[N]==null)return;
this.GR=this.ZF[N];var W=this.dt[N].getBoundingClientRect(),q=new ip(S.E.H,!0);q.data={R:S.m.k8,ii:this.ZF[N],x:W.left+W.width+2,y:W.top};
this.T(q)};j_.prototype.aAK=function(){for(var N=0;N<this.ZF.length;N++)if(this.ZF[N])this.ZF[N].aAK();
var W=new ip(S.E.H,!0);W.data={R:S.m.bD,ii:this};this.T(W)};j_.prototype.aHl=function(W){var N=this.ZF.indexOf(W.target);
this.Qq=[N].concat(W.target.kN());this.T(new ip("select",!1))};function h$(W,q,X){gH.call(this);this.K=I.a("span","fitem cbox");
if(q==null)q=!0;if(X==null)X="flabel";var k="cb"+I.oX();this.Xo=I.a("input","");this.Xo.setAttribute("type","checkbox");
this.Xo.setAttribute("id",k);this.K.appendChild(this.Xo);this._Z=W;this.hF=I.a("label",X);if(q)this.hF.setAttribute("for",k);
this.K.appendChild(this.hF);this.l();this.Xo.addEventListener("change",this.P7.bind(this),!1)}h$.prototype=new gH;
h$.prototype.ac9=function(){return this._Z};h$.prototype.tB=function(W){this.hF.textContent=W};h$.prototype.l=function(){var W=this._Z;
if(typeof W=="string"&&W.startsWith("<"))this.hF.innerHTML=W;else this.hF.textContent=js.get(W)};h$.prototype.ju=function(){this.Xo.checked=!0};
h$.prototype.Uq=function(){this.Xo.checked=!1};h$.prototype.Vg=function(){return this.Xo.checked};h$.prototype.q=function(W){this.Xo.checked=W};
h$.prototype.V=h$.prototype.Vg;h$.prototype.P7=function(W){this.T(new ip(S.E.k,!1))};function j1(W,q){gH.call(this);
this._Z=W;this.K=I.a("span","labelitem fitem"+(q?" spread":""));this.l()}j1.prototype=new gH;j1.prototype.q=function(W){this.K.textContent=W};
j1.prototype.V=function(){return this.K.textContent};j1.prototype.JZ=function(){this.K.removeAttribute("disabled")};
j1.prototype.Ti=function(){this.K.setAttribute("disabled","")};j1.prototype.tB=function(W){this.K.textContent=W};
j1.prototype.l=function(){this.K.textContent=js.get(this._Z)};j1.prototype.ac9=function(){return this._Z};
function iC(W,q,X,k,B){gH.call(this);this.Y3=!1;this.K=I.a("button","fitem"+(q?" spread":"")+(k?" bbtn":""));
this._Z=W;this.hB=X;this.l();var U=B&&window.PointerEvent?"pointerup":"click";this.K.addEventListener(U,this.no.bind(this),!1)}iC.prototype=new gH;
iC.prototype.l=function(){var W=this.K,q=this._Z,X=this.hB;if(typeof q=="string"&&(q.startsWith("<img")||q.startsWith("<svg")||q.startsWith("<span"))){if(!this.Y3){W.innerHTML=q;
I.w(W,"padding:2px");this.Y3=!0}}else W.textContent=js.get(q);if(X){W.setAttribute("title",js.get(X))}};
iC.prototype.a8H=function(W){this.K.setAttribute("title",W)};iC.prototype.no=function(W){this.T(new ip("click",!1))};
iC.prototype.ju=function(){I.Wx(this.K,"bactive")};iC.prototype.Uq=function(){I.gI(this.K,"bactive")};
iC.prototype.tB=function(W,q){if(W&&W!=this._Z){this._Z=W;this.Y3=!1}if(q)this.hB=q;this.l()};iC.prototype.q=function(W){if(W)this.ju();
else this.Uq()};iC.prototype.Vg=function(){return this.K.getAttribute("class").indexOf("bactive")!=-1};
iC.prototype.V=function(){return this.Vg()};function kD(W,q,X,k,B){gH.call(this);var U=I.oX();this.K=I.a("span","fitem tinput");
if(X==-1)this.K.style.width="100%";if(W){this._Z=W;this.IE=I.a("label","flabel");this.K.appendChild(this.IE);
this.IE.setAttribute("for",U);this.l()}if(B){this.Xo=I.a("span")}else if(k==null){this.Xo=I.a("input");
this.Xo.setAttribute("type","text")}else this.Xo=I.a("textarea","scrollable");this.Xo.setAttribute("id",U);
if(X)I.w(this.Xo,"width:"+(X==-1?"100%;":X+"em;")+(B?" display:inline-block; margin-left:6px;":""));
if(k)this.Xo.setAttribute("rows",k);this.K.appendChild(this.Xo);if(q){this.WG=I.a("span");this.WG.textContent=q;
this.WG.style.marginLeft="2px";this.K.appendChild(this.WG)}I.Ch(this.Xo);bu.J2(this.Xo);this.Xo.addEventListener("change",this.P7.bind(this),!1);
this.Xo.addEventListener("input",this.azJ.bind(this),!1);if(k==null)this.Xo.addEventListener("keyup",this.It.bind(this),!1)}kD.prototype=new gH;
kD.prototype.l=function(){this.HV()};kD.prototype.It=function(W){var q=bu.aZ(W.code,bu.hJ),X=bu.aZ(W.code,bu.$H);
if(X||q)this.Xo.blur()};kD.prototype.tB=function(W){this.IE.textContent=W};kD.prototype.q=function(W){var q=this.Xo,X=W==null?"":W,k=q.tagName=="SPAN";
if(k){q.textContent=" "+X;if(this.WG)q.appendChild(this.WG)}else q.value=X};kD.prototype.aKC=function(W){this.WG.textContent=W};
kD.prototype.V=function(){return this.Xo.value};kD.prototype.DZ=function(){this.Xo.select();this.Xo.focus()};
kD.prototype.P7=function(W){this.T(new ip(S.E.k,!1))};kD.prototype.azJ=function(W){this.T(new ip("input",!1))};
function l1(W,q,X,k,B,U,l,K,D){gH.call(this);if(B==null)B=0;this.K=I.a("span","fitem");var m=I.oX();
this._Z=W;this.hB=K;this.Re=0;this.aFs=D;this.PT=q;this.OF=X;this.a3G=null;if(k instanceof Array){this.a3G=k;
k=k[0]}this.Kf=k;this.iB=B;this.aqh=U;this.dL=l;this.ab=0;this.IE=I.a("label","flabel");this.IE.setAttribute("for",m);
I.w(this.IE,"cursor:col-resize;");this.ky=I.a("input","slider");this.ky.setAttribute("type","range");
if(l){this.ky.min=0;this.ky.max=400}else{this.ky.min=q;this.ky.max=X;if(B!=0)this.ky.step=(X-q)/200}this.Xo=I.a("input");
this.Xo.setAttribute("type","text");this.Xo.setAttribute("id",m);this.Xo.setAttribute("inputmode","numeric");
this.WG=I.a("span");this.WG.textContent=k;I.Ch(this.Xo);bu.J2(this.Xo);this.alN=!1;this.Xo.addEventListener("mousedown",function(Y){var N=Y.target;
this.alN=N.selectionStart!=N.selectionEnd}.bind(this),!1);this.Xo.addEventListener("mouseup",function(Y){var N=Y.target;
if(!this.alN)N.select()}.bind(this),!1);this.Xo.addEventListener("change",this.P7.bind(this),!1);this.Xo.addEventListener("keydown",this.oW.bind(this),!1);
this.Xo.addEventListener("keyup",this.It.bind(this),!1);this.Xo.addEventListener("wheel",this.y3.bind(this),!1);
this.ky.addEventListener("input",this.P7.bind(this),!1);if(D)this.ky.addEventListener("change",this.P7.bind(this),!1);
this.ky.addEventListener("click",this.a6h.bind(this),!1);this.axS=this.ahs.bind(this);this.a19=this.auP.bind(this);
this.az7=this.al_.bind(this);this.dc=0;this._T=0;this.aCI=!1;I.aA(this.IE,this.axS);I.TK(this.IE)}l1.prototype=new gH;
l1.prototype.WN=function(W){this.iB=W};l1.prototype.tB=function(W){this.IE.style.display=W?"inherit":"none";
if(W)this.IE.textContent=js.get(W)};l1.prototype.l=function(){var a1=this._Z,W=this.hB;if(a1){if(typeof a1=="string"&&a1.startsWith("<"))this.IE.innerHTML=a1;
else this.HV()}if(W){W=js.get(W);if(a1)this.IE.setAttribute("title",W);this.Xo.setAttribute("title",W)}};
l1.prototype.q=function(W,q){var X=this.PT==this.OF,B;if(!X&&this.PT>=0)W=Math.max(this.PT,W);if(this.iB==0)W=Math.round(W);
var k=this.Kf;this.Re=W;this.Xo.value=parseFloat(this.iB!=0?W.toFixed(this.iB):W)+(this.aqh&&k?(k.toLowerCase()==k.toUpperCase()?"":" ")+k:"");
if(-this.PT==this.OF)B=200+Math.sign(W)*200*Math.pow(Math.abs(W)/this.OF,1/2.7);else B=400*Math.pow((W-this.PT)/(this.OF-this.PT),1/2.7);
this.ky.value=this.dL?B:W;if(q)this._t()};l1.prototype.V=function(){var W=this.Re;if(isNaN(W))W=0;return W};
l1.prototype.Pu=function(){return this.Kf};l1.prototype.P7=function(W){var q=0;if(W.currentTarget==this.Xo){var X=W.target.value,k=0;
if(X=="")q=0;else if(this.Kf){q=parseFloat(X)}else{try{q=eval(X)}catch(W){q=1}}if(isNaN(q))q=0;while(k<X.length&&(X.charAt(k)=="."||48<=X.charCodeAt(k)&&X.charCodeAt(k)<=57))k++;
var B=X.slice(k).trim();if(this.a3G&&this.a3G.indexOf(B)!=-1)this.Kf=B}else{if(Date.now()-this.ab<10)return;
q=parseFloat(W.target.value);if(this.dL){if(-this.PT==this.OF)q=Math.sign(q-200)*Math.pow(Math.abs(q-200)/200,2.7)*this.OF;
else q=this.PT+Math.pow(q/400,2.7)*(this.OF-this.PT);q=this.ahf(q)}}this.q(q);if(W.type=="input"&&this.aFs)return;
this._t()};l1.prototype._t=function(){this.T(new ip(S.E.k))};l1.prototype.ahf=function(W){if(this.OF-this.PT>50&&W>10)W=Math.round(W);
return W};l1.prototype.oW=function(W){var q=0;if(bu.aZ(W.code,bu.uP))q=1;if(bu.aZ(W.code,bu.Mm))q=-1;
if(q!=0)this.abo(q,W.shiftKey)};l1.prototype.It=function(W){var q=bu.aZ(W.code,bu.hJ),X=bu.aZ(W.code,bu.$H);
if(q)this.q(this.V());if(X||q)this.Xo.blur()};l1.prototype.y3=function(W){this.abo(W.deltaY>0?-1:1,W.shiftKey)};
l1.prototype.abo=function(W,q){var X=this.V(),k=this.iB,B=W*(k==null||k==0||X>5?1:.1);if(q)B*=10;var U=X+B;
if(!this.dL&&this.OF!=this.PT)U=Math.min(this.OF,U);this.q(U);this._t()};l1.prototype.a6h=function(W){var q=Date.now()-this.ab;
this.ab=Date.now();if(q>200)return;var X=this.PT,k=this.OF,B=(X+k)/2;if(X<1&&k>1&&k<10)B=1;else if(X<90&&k>110)B=100;
else if(X<0&&k>0)B=0;this.q(B);this._t()};l1.prototype.ahs=function(W){I.wO(document,this.a19);I.DA(document,this.az7);
this.dc=I.IO(W,document.body).x;this._T=this.V()};l1.prototype.auP=function(W){I.hk(W);var q=this.PT==this.OF,X=I.IO(W,document.body).x,k=(X-this.dc)*(q?1:1/120*(this.OF-this.PT)),B=this._T+k;
if(q)B=Math.round(B);if(!q){if(!0){B=Math.max(this.PT,B);if(B==this.PT){this.dc=X;this._T=this.PT}}if(!this.dL){B=Math.min(this.OF,B);
if(B==this.OF){this.dc=X;this._T=this.OF}}B=this.ahf(B)}this.aCI=!0;this.q(B);if(!this.aFs)this._t()};
l1.prototype.al_=function(W){if(!this.aCI)this.Xo.focus();this.aCI=!1;if(this.aFs)this._t();I.yO(document,this.a19);
I.xB(document,this.az7)};l1.prototype.DZ=function(){this.Xo.select();this.Xo.focus()};function al(W,q,X,k,B,U,l,K,D,m){l1.call(this,W,q,X,k,B,!0,U,D,m);
I.Wx(this.K,"rangedropinput");this.K.appendChild(this.IE);I.w(this.Xo,"width:"+(K?K:3.3)+"em");this.K.appendChild(this.Xo);
this.a4e=I.a("span","rangecontFloat");this.a4e.appendChild(this.ky);this.aFg=I.a("button");this.aFg.textContent="\u25BC";
I.aA(this.aFg,this.aAw.bind(this));if(l!=!0)this.K.appendChild(this.aFg);this.Kc=new gH;this.Kc.K=this.a4e}al.prototype=new l1;
al.prototype.aAw=function(W){if(I.rL(this.Kc.K))return;W.stopPropagation();var q=this.K.getBoundingClientRect();
I.w(this.ky,"width:"+q.width+"px;");var X=new ip(S.E.H,!0);X.data={R:S.m.k8,ii:this.Kc,x:q.left-10,y:q.top+q.height};
this.T(X)};function dM(W,q,X,k,B,U){l1.call(this,W,q,X,k,B,!1,U);this.K.appendChild(this.IE);var l=I.a("span");
this.K.appendChild(l);l.appendChild(this.ky);this.K.appendChild(this.Xo);I.w(this.Xo,"width:3.3em");
if(this.Kf)this.K.appendChild(this.WG)}dM.prototype=new l1;function iT(W,q,X,k,B,U,l,K){l1.call(this,W,q,X,k,B,!0,U,null,l);
I.Wx(this.K,"trangeinput");this.K.appendChild(this.IE);this.K.appendChild(this.Xo);var D=I.a("span");
if(K!=!0)this.K.appendChild(D);D.appendChild(this.ky)}iT.prototype=new l1;function cL(W,q,X,k){gH.call(this);
if(!q)return;this.xr=0;this._Z=W;this.agI=k;this.KQ=null;this.nY=X;this.a7X=[];var B="dd"+I.oX();this.K=I.a("span","fitem ddmenu");
if(W){this.IE=I.a("label","flabel");this.K.appendChild(this.IE);this.IE.setAttribute("for",B)}this.Xo=I.a("select");
bu.J2(this.Xo);this.Xo.setAttribute("id",B);this.K.appendChild(this.Xo);this.Xo.addEventListener("change",this.P7.bind(this),!1);
function U(l){var K=0;if(bu.aZ(l.code,bu.uP))K=1;if(bu.aZ(l.code,bu.Mm))K=-1;if(K!=0)l.stopPropagation()}this.Xo.addEventListener("keydown",U,!1);
this.Xo.addEventListener("keyup",U,!1);this.Un=[];this.n$=null;this.oj(q,X);this.l()}cL.prototype=new gH;
cL.prototype.tB=function(W){this._Z=W;this.l()};cL.prototype.l=function(){this.HV();if(this.n$)this.oj(this.n$,this.nY);
if(this.agI)this.Xo.setAttribute("title",js.get(this.agI));this.q(this.xr)};cL.prototype.V=function(){return this.xr};
cL.prototype.oj=function(W,q){I.ru(this.Xo);var X=[],k=0;if(q){X.push(q[0]);for(var N=1;N<q.length;N++)X.push(X[N-1]+q[N])}this.n$=W;
this.KQ=[];this.nY=q;for(var N=0;N<W.length;N++){var B=I.a("option");if(this.a7X.indexOf(N)!=-1)B.setAttribute("disabled","");
B.textContent=js.get(W[N]);B.setAttribute("value",N);this.Xo.appendChild(B);this.Un.push(B);this.KQ.push(N+k);
if(X.indexOf(N+1)!=-1&&N!=W.length-1){var U=I.a("option");U.setAttribute("disabled","");U.textContent="";
this.Xo.appendChild(U);k++}}};cL.prototype.ayA=function(N){var W=this.a7X,q=W.indexOf(N);if(q==-1)W.push(N);
this.l()};cL.prototype.a8p=function(N){var W=this.a7X,q=W.indexOf(N);if(q!=-1)W.splice(q,1);this.l()};
cL.prototype.q=function(W){this.xr=W;this.Xo.selectedIndex=this.KQ[W]};cL.prototype.P7=function(W){this.xr=this.KQ.indexOf(this.Xo.selectedIndex);
this.T(new ip(S.E.k,!1))};cL.prototype.DZ=function(){this.Xo.focus()};function i3(W,q,X,k,B){gH.call(this);
if(!q)return;this.xr=0;this.al$=k;this.ahX=B;this.K=I.a("span","fitem bbmenu");this.hF=I.a("label","flabel");
if(W){this._Z=W;this.hF.textContent=W+":";this.K.appendChild(this.hF)}this.Un=[];this.M8=I.a("span");
this.K.appendChild(this.M8);this.n$=null;this.oj(q,X);this.q(0)}i3.prototype=new gH;i3.prototype.tB=function(W){this._Z=W;
this.l()};i3.prototype.l=function(){var W=this.hF.parentNode!=null,q=this.K;if(this._Z!=null){if(!W){q.appendChild(this.hF);
q.appendChild(this.M8)}this.hF.textContent=js.get(this._Z)+": "}else if(W)q.removeChild(this.hF);for(var N=0;
N<this.Un.length;N++)this.Un[N].l()};i3.prototype.V=function(){return this.xr};i3.prototype.oj=function(W,q){I.ru(this.M8);
this.Un=[];var X=this.V();this.n$=W;for(var N=0;N<W.length;N++){var k=new iC(W[N],!1,q?q[N]:null,this.al$);
k.Q("click",this.P7,this);this.M8.appendChild(k.K);this.Un.push(k)}this.l();this.q(X)};i3.prototype.q=function(W){this.xr=W;
for(var N=0;N<this.Un.length;N++)this.Un[N].Uq();if(W!=-1)this.Un[W].ju()};i3.prototype.P7=function(W){var N=this.Un.indexOf(W.target);
this.q(this.ahX&&N==this.xr?-1:N);this.T(new ip(S.E.k,!1))};i3.NQ=function(W,q,X){if(q==null)q=16;var k=i3.Sk,B=k.getContext("2d"),U=q>>>1;
k.width=k.height=q;var l=[];for(var N=0;N<W.length;N++){if(W[N][0]=="-")l.push(W[N].slice(1));else if(W[N]=="checker"||W[N].startsWith("#")){if(W[N]=="checker"){B.fillStyle="white";
B.fillRect(0,0,q,q);B.fillStyle="#bbbbbb";B.fillRect(U,0,U,U);B.fillRect(0,U,U,U)}else if(W[N].startsWith("#")){B.fillStyle=W[N];
B.fillRect(0,0,q,q)}l.push("<img src=\""+k.toDataURL()+"\" />")}else l.push(I.KG(W[N],null,X?X:"autoscale"))}return l};
i3.Sk=I.a("canvas");function fa(W,q,X,k,B,U){gH.call(this);this.K=I.a("span","fitem mbox");this.a55=X;
this.aAn=B;var l=I.oX();if(W){this._Z=W;this.IE=I.a("label","flabel");this.IE.setAttribute("for",l);
this.K.appendChild(this.IE)}this.pg=q;this.Vo=[];for(var N=0;N<q.length;N++){var K=X?new iC(q[N],!1,k?k[N]:null,!1,U):new h$(q[N],!0,"");
if(N==0)K.K.setAttribute("id",l);K.Q(X?"click":S.E.k,this.P7,this);this.Vo.push(K);this.K.appendChild(K.K)}this.l()}fa.prototype=new gH;
fa.prototype.q=function(W){for(var q=0;q<this.pg.length;q++)this.Vo[q].q(W[q])};fa.prototype.V=function(){var W=[];
for(var q=0;q<this.pg.length;q++)W[q]=this.Vo[q].V();return W};fa.prototype.l=function(){if(this._Z)this.IE.innerHTML=js.get(this._Z)+": ";
var W=this.Vo;for(var q=0;q<W.length;q++){W[q].l();if(q==W.length-1)W[q].K.style.marginRight="0px"}};
fa.prototype.P7=function(W){var N=this.Vo.indexOf(W.currentTarget),q=this.Vo[N];if(this.a55)q.q(!q.V());
if(this.aAn){var X=q.V();for(var N=0;N<this.Vo.length;N++)this.Vo[N].q(!1);q.q(X)}this.T(new ip(S.E.k,!1))};
fa.prototype.oj=function(W){for(var N=0;N<W.length;N++)this.Vo[N].tB(W[N])};function eX(W,q){gH.call(this);
this.Bv=[];this.Y=[];this.ayw=W;this.Ub=q;this.xC=0;this.Ji=null;this.c5=new hw(0,0);if(q!=null){this.n2=new j_([{name:[6,37]},{name:[5,4]}]);
this.n2.parent=this;this.n2.Q("select",this.ih,this)}this.K=I.a("div","imageset scrollable");this.K.addEventListener("contextmenu",I.iR,!1)}eX.prototype=new gH;
eX.prototype.l=function(){if(this.n2)this.n2.l()};eX.prototype.ih=function(W){var N=this.n2.kN()[0],q=new ip(S.E.H,!0),X={R:S.m.Dt,rl:this.Ub,On:this.Y.slice(0)};
if(N==0){var k=this.Ji[1][this.Y[0]],B=k.split("/");if(B.length==2){X.alo=B[0]+"/";k=B[1]}X.m8="rnm";
q.data={R:S.m.K_,ud:"namewindow",bG:k,Ii:{s:S.E.H,p:X}}}else{q.data=X;X.m8="del"}this.T(q)};eX.prototype.ad$=function(){return this.xC};
eX.prototype.Lb=function(W){this.xC=W;if(this.Ji)this.L8()};eX.prototype.Zx=function(W,q,X,k){this.Ji=[W,q,X,k];
this.L8()};eX.prototype.L8=function(){var W=this.Ji,q=this.K,X=W[0],k=W[1],B=W[2],U=W[3];this.Bv=[];
I.ru(q);var l=this.no.bind(this),K=this.xC;if(K==0)I.Wx(q,"imageset");else I.gI(q,"imageset");var D={};
for(var N=0;N<X.length;N++){var m=X[N],Y=null,a=null;if(m==null){this.Bv.push(null);continue}if(typeof m=="string"){Y=I.a("img","image");
Y.setAttribute("src",m)}else Y=m;if(B)I.Xv(Y,B,U);if(this.ayw)I.Wx(Y,"gsicon");if(k){var a=k[N],p=a.split("/");
if(p.length==2){var M=D[p[0]];a=p[1];if(M==null)M=D[p[0]]=[];M.push(N)}}if(K==0){}else{var x=I.a("div","listitem");
x.appendChild(Y);var R=I.a("span");R.textContent=a?a:"Item "+(N+1);I.w(R,"margin-left:4px;");x.appendChild(R);
Y=x}if(a)Y.setAttribute("title",a);Y.addEventListener("mousedown",l,!1);this.Bv.push(Y);q.appendChild(Y)}if(Object.keys(D).length!=0){I.ru(q);
for(var y in D){var M=D[y],s=I.a("div","listitem head");I.w(s,"clear:both; padding:4px 4px; height:16px; background-color:rgba(0,0,0,0.1);");
var F=I.a("div","headL");s.appendChild(F);F.appendChild(I.a("div","folder"));var R=I.a("span");R.textContent=y;
F.appendChild(R);q.appendChild(s);for(var N=0;N<M.length;N++)q.appendChild(this.Bv[M[N]])}}};eX.prototype.no=function(W){if(this.Ub==null)W.preventDefault();
var q=this.Bv.indexOf(W.currentTarget),X=window.__kb,k=this.Y,B=k.length;if(X.D(bu.m4)){var U=Math.min(k[0],k[k.length-1],q),l=Math.max(k[0],k[k.length-1],q);
k=[];for(var N=U;N<=l;N++)k.push(N)}else if(X.D(bu.p7)){var K=k.indexOf(q);if(K==-1)k.push(q);else k.splice(K,1)}else k=[q];
k.sort(function(a,p){return a-p});if(W.button==0||B==1)this.q(k);this.c5=I.IO(W,W.currentTarget);if(W.button==0)this.T(new ip(S.E.k));
if(W.button==2&&this.n2){var D=this.n2;D.update(null);var m=I.IO(W,document.body),Y=new ip(S.E.H,!0);
Y.data={R:S.m.k8,ii:D,x:m.x,y:m.y+2};this.T(Y)}};eX.prototype.V=function(){return this.Y.slice(0)};eX.prototype.acP=function(){var W=this.c5;
return new hw(W.x,W.y)};eX.prototype.q=function(W){this.Y=W.slice(0);for(var N=0;N<this.Bv.length;N++){var q=this.Bv[N];
if(q==null)continue;if(W.indexOf(N)!=-1)I.Wx(q,"selected");else I.gI(q,"selected")}};function gg(W,q){gH.call(this);
this.ayw=W;this.Ub=q;this.xC=0;this.yr=null;this.MS=[];this.rf=[];this.Y=[];var X=aI.OO[q],k=X[0].toUpperCase();
this.n2=new j_([{name:["VAR0 ."+k,[1,0]]},{name:["VAR0 ."+k,[1,8]]},{name:[6,37]},{name:[5,4],nC:!0},{name:"Tiles/List"},{name:[12,87]},{name:[6,20]}]);
this.n2.parent=this;this.n2.Q("select",this.ih,this);this.K=I.a("div","imageset scrollable");this.K.addEventListener("contextmenu",I.iR,!1);
this.acj=this.no.bind(this);this.aHE=function(B){B.dataTransfer.setData("text",this.MS.indexOf(B.currentTarget))}.bind(this);
this.a4N=this.aEo.bind(this)}gg.prototype=new gH;gg.prototype.apx=function(){return this.n2};gg.prototype.l=function(){this.n2.l()};
gg.prototype.aEo=function(W){var q=parseInt(W.dataTransfer.getData("text")),X=this.MS.indexOf(W.currentTarget),k=this.Y,m=!1;
if(k.indexOf(q)==-1)k=[q];var B=this.rf[X],U=B.join(",")+",",l=gg.X_(k,this.rf),K=l[1];for(var D in K)if(U.startsWith(D))return;
var Y=gg.kD(this.yr,B)[2],a=gg.getItem(this.yr,B);if(a[1]==null){Y=a[2];a=Y[0];m=!0}var p=gg.Ew(this.yr,l[0]),M=Y.indexOf(a);
for(var N=0;N<p.length;N++)Y.splice(M+(m?0:1)+N,0,p[N]);this.Y=[];var x=gg.agh(this.yr);for(var N=0;
N<p.length;N++)this.Y.push(x.indexOf(p[N]));this.L8();this._t()};gg.prototype.ih=function(W,q){if(q==null)q=this.n2.kN()[0];
var X=this.Y,k=new ip(S.E.H,!0);if(q==0){k.data={R:S.m.hM};this.T(k)}if(q==1){var B=gg.X_(X,this.rf)[0],U=gg.Ew(this.yr,B,!0),l=aI.OO[this.Ub],K=dc._C(U,l[2]);
ch.save(K,l[1]+"."+l[0])}if(q==2){k.data={R:S.m.K_,ud:"namewindow",bG:gg.getItem(this.yr,this.rf[X[0]])[0],tO:this.a7O.bind(this)};
this.T(k)}if(q==3){var B=gg.X_(X,this.rf)[0],U=gg.Ew(this.yr,B);this.Y=[];this.L8();this._t()}if(q==4){this.xC=1-this.xC;
this.L8()}if(q==5){this.T(new ip("define_new"))}if(q==6){this.aDI(["New folder",null,[],!0])}};gg.prototype.aDI=function(W){var q=this.yr,X=this.Y,k=q.length-1;
if(X.length!=0){var B=X[0],U=this.rf[B],q=gg.kD(this.yr,U)[2],l=gg.getItem(this.yr,U);k=q.indexOf(l);
if(l[1]==null){q=l[2];k=q.length-1}}q.splice(k+1,0,W);this.Y=[gg.agh(this.yr).indexOf(W)];this.L8();
this.ih(null,2);this._t()};gg.prototype.a7O=function(W){var q=gg.getItem(this.yr,this.rf[this.Y[0]]);
q[0]=W;this.L8();this._t()};gg.prototype.oj=function(W){this.yr=W;this.L8()};gg.prototype._t=function(W){var q=new ip(S.E.H,!0);
q.data={R:S.m.Dt,rl:this.Ub,m8:"mdf"};this.T(q)};gg.prototype.aF$=function(W,q,X){for(var N=0;N<W.length;
N++){var k=W[N],B=k[0],U,l=k[1]==null;X.push(N);if(l){U=I.a("div","listitem head");I.w(U,"clear:both; padding:4px 4px; height:16px; background-color:rgba(0,0,0,0.1);  margin:1.5px;");
var K=I.a("div","headL");U.appendChild(K);K.appendChild(I.a("div",k[3]?"open":"closed"));K.appendChild(I.a("div","folder"));
var D=I.a("span");D.textContent=B;K.appendChild(D)}else{var m=k[2],Y=aI.OO[this.Ub],a=Math.floor(Y[5]*I.W$()),p=Math.floor(I.W$()*Y[6]);
if(m==null)m=k[2]=Y[2].K$(k,a,p);U=I.a("img","image");U.setAttribute("src",m);I.Xv(U,a,p);if(this.xC==1){var M=I.a("div","listitem");
M.appendChild(U);M.style.height=Y[6]+"px";var D=I.a("span");D.textContent=B;I.w(D,"margin-left:4px;");
M.appendChild(D);U=M}U.setAttribute("title",B)}q.appendChild(U);if(this.Y.indexOf(this.MS.length)!=-1)I.Wx(U,"selected");
this.MS.push(U);this.rf.push(X.slice(0));U.addEventListener("mouseup",this.acj,!1);U.setAttribute("draggable","true");
U.addEventListener("dragover",I.hk,!1);U.addEventListener("dragstart",this.aHE,!1);U.addEventListener("drop",this.a4N,!1);
if(l){var x=I.a("div");x.style.marginLeft="14px";if(k[3])q.appendChild(x);this.aF$(k[2],x,X)}X.pop()}};
gg.prototype.L8=function(){var W=this.yr,q=this.K;I.ru(q);this.MS=[];this.rf=[];this.aF$(W,q,[])};gg.prototype.no=function(W){var q=this.MS.indexOf(W.currentTarget),X=gg.getItem(this.yr,this.rf[q]),k=X[1]==null,B=W.target.getAttribute("class"),U=this.Y,l=U.length,K=U.indexOf(q);
if(B=="open"||B=="closed")X[3]=!X[3];else if(W.button==0||K==-1){var D=window.__kb;if(D.D(bu.m4)){var m=Math.min(U[0],U[U.length-1],q),Y=Math.max(U[0],U[U.length-1],q);
U=[];for(var N=m;N<=Y;N++)U.push(N)}else if(D.D(bu.p7)){if(K==-1)U.push(q);else U.splice(K,1)}else U=[q];
U.sort(function(x,R){return x-R});this.Y=U}this.L8();if(W.button==0&&!k&&U.length==1)this.T(new ip(S.E.k));
if(W.button==2){var a=this.n2;a.update(null);var p=I.IO(W,document.body),M=new ip(S.E.H,!0);M.data={R:S.m.k8,ii:a,x:p.x,y:p.y+2};
this.T(M)}};gg.prototype.V=function(){return gg.getItem(this.yr,this.rf[this.Y[0]])[1]};gg.prototype.q=function(W){this.aDI(["New item",W])};
gg.getItem=function(W,q){var X=["",null,W];for(var N=0;N<q.length;N++)X=X[2][q[N]];return X};gg.kD=function(W,q){var X=["",null,W];
for(var N=0;N<q.length-1;N++)X=X[2][q[N]];return X};gg.agh=function(W){function q(k,B){for(var N=0;N<k.length;
N++){var U=k[N];B.push(U);if(U[1]==null)q(U[2],B)}}var X=[];q(W,X);return X};gg.Ew=function(W,q,X){var k=[];
for(var B=q.length-1;B>=0;B--){var U=q[B],l=U[U.length-1],K=gg.kD(W,U);k.unshift(K[2][l]);if(!X)K[2].splice(l,1)}return k};
gg.X_=function(W,q){var X=[],k={};for(var N=0;N<W.length;N++){var B=q[W[N]],U=B.join(",")+",",l=!1;for(var K in k)if(U.startsWith(K))l=!0;
if(!l){k[U]=!0;X.push(B)}}return[X,k]};function j5(W,q,X,k,B,U,l){gH.call(this);this.K=I.a("span","fitem "+X);
this.Ub=U;this.Uv=null;this.rC=!0;this.dQ=null;this.GQ=new gH;this.GQ.K=I.a("div","floatcont");this.CU=k;
this.GQ.parent=this;this.a7G=I.a("div");this.GQ.K.appendChild(this.a7G);this.wX=I.a("div");this.GQ.K.appendChild(this.wX);
if(W){this._Z=W;this.hF=I.a("label","flabel");this.K.appendChild(this.hF)}this.R=I.a("button",l?"nopadding":"");
I.w(this.R,"position:relative;");var K=this.VV.bind(this),D=this.uc.bind(this);I.aA(this.R,q?D:K);this.K.appendChild(this.R);
this.SB=I.a("img",l?"gsicon":"");this.R.appendChild(this.SB);if(q){var m=I.a("button");m.textContent="\u25BC";
I.aA(m,K);this.K.appendChild(m)}else{var Y=I.a("span");Y.textContent="\u25BC";I.w(Y,"position:absolute;  bottom:2px;  right:4px;");
this.R.appendChild(Y)}var a=this.adi=I.a("span");this.wX.appendChild(a);I.w(a,"display:inline-block;  vertical-align:top;");
this.k1=this.any()?new gg(l,U):new eX(l,U);a.appendChild(this.k1.K);this.k1.parent=this.GQ;this.k1.Q(S.E.k,this.w9,this);
this.k1.Q("define_new",this.ahM,this);this.k1.K.style.height=B+"px";this.t5=I.a("button");this.t5.textContent="\u25BC";
I.w(this.t5,"padding:3px");I.aA(this.t5,this.a6z.bind(this));this.wX.appendChild(this.t5);var p=this.JE(),M=this.a8$=U!=aI.d9&&U!=aI.EV?U:null,x=this.agL=U==null?!1:aI.OO[U][4]!=0,R=U==null?"":aI.OO[U][0].toUpperCase(),y=[];
if(M)y.push({name:[12,87]});y.push({name:["VAR0 / VAR1",[25,3,0],[25,3,1]],nC:!0});y.push({name:[[23,6],"."+(R=="ICC"?"icc .cube .look .3dl":R)]},{name:["VAR0 ."+R,[1,8]]},{name:[6,37]},{name:[5,4],nC:p.length!=0});
for(var N=0;N<p.length;N++)y.push({name:p[N].split("/").pop()});this.awZ=y}j5.prototype=new gH;j5.prototype.any=function(){var W=this.Ub;
return W==aI.P1||W==aI.Zp};j5.prototype.ahM=function(){this.k1.q(this.dQ)};j5.prototype.w9=function(W){this.q(W.target.V());
this.T(new ip(S.E.k))};j5.prototype.zv=function(){if(!this.rC)return;this.k1.oj(this.Uv,this);this.rC=!1};
j5.prototype.q=function(W){this.dQ=g.N(W);this.Y1()};j5.prototype.V=function(){return g.N(this.dQ)};
j5.prototype.Y1=function(){};j5.prototype.JE=function(){return[]};j5.prototype.uc=function(){};j5.prototype.l=function(){this.k1.l();
var W=this._Z;if(W)this.hF.textContent=js.get(W)+":"};j5.prototype.tB=function(W){this.hF.textContent=W};
j5.prototype.mX=function(W){var q=this.Ub,X=0;if(q==aI.pN){X=this.Uv?this.Uv.length:0;W=W.slice(0)}this.Uv=W;
this.rC=!0;if(I.rL(this.k1.K)||q==aI.P1)this.zv();if(q==aI.pN&&W.length-X==1&&I.rL(this.K)){this.q(W[X]);
this.rC=!0;this.zv();this.k1.q([X]);this.T(new ip(S.E.k))}};j5.prototype.ih=function(W){var q=W.target.kN()[0];
if(this.a8$==null)q++;var X=new ip(S.E.H,!0);if(q==0){var k=this.t1();if(this.Ub==aI.pN&&k[0].profile==null)return;
X.data={R:S.m.Dt,m8:"add",rl:this.a8$,ij:k}}else if(q==1)this.k1.Lb(1-this.k1.ad$());else if(q<=5)this.s4(q-2);
else{var B=this.JE();X.data={R:S.m.i3,rl:{url:"rsrc/"+B[q-6]}}}if(X.data)this.T(X)};j5.prototype.s4=function(W){var q=new ip(S.E.H,!0),X=this.k1.V(),k={R:S.m.Dt,rl:this.Ub,On:X};
if(W>1&&X.length==0){alert("No items selected");return}if(W==0)q.data={R:S.m.hM};else if(W==1)q.data={R:S.m.gL,ae2:this.Ub,On:X.length==0?null:X};
else if(W==2){var B=this.k1.Ji[1][X[0]],U=B.split("/");if(U.length==2){k.alo=U[0]+"/";B=U[1]}k.m8="rnm";
q.data={R:S.m.K_,ud:"namewindow",bG:B,Ii:{s:S.E.H,p:k}}}else if(W==3){q.data=k;k.m8="del"}this.T(q)};
j5.prototype.t1=function(){return[this.V()]};j5.prototype.a6z=function(W){var q;W.stopPropagation();
if(this.any())q=this.k1.apx();else{if(this.n2==null){this.n2=new j_(this.awZ);this.n2.parent=this.GQ;
this.n2.Q("select",this.ih,this)}q=this.n2}if(I.rL(q.K))return;q.l();q.update(null);var X=W.currentTarget.getBoundingClientRect(),k=new ip(S.E.H,!0);
k.data={R:S.m.k8,ii:q,x:X.left,y:X.top+X.height};this.T(k)};j5.prototype.VV=function(W,q,X){if(I.rL(this.GQ.K))return;
if(W)W.stopPropagation();this.zv();if(q==null){var k=this.R.getBoundingClientRect(),q=k.left,X=k.top+k.height}this.qL();
var B=new ip(S.E.H,!0);B.data={R:S.m.k8,ii:this.GQ,x:q,y:X,Ve:!0};this.T(B)};j5.prototype.qL=function(W,q){var W=Math.min(this.CU,window.innerWidth-40);
this.adi.style.width=W+"px";this.GQ.K.style.width=W+20+"px"};j5.prototype.ad4=function(W,q){this.VV(null,W,q)};
function fz(){gH.call(this);this.K=I.a("div");this.Re=!1;this.MS=[new cL([12,19,1],[[13,1,7]].concat(dZ.fx)),new g_([17,1]),new g_([12,46])];
for(var N=0;N<3;N++){var W=this.MS[N];this.K.appendChild(W.K);W.Q(S.E.k,this.cf,this)}this.l()}fz.prototype=new gH;
fz.prototype.l=function(){for(var N=0;N<3;N++)this.MS[N].l()};fz.prototype.V=function(){return this.Re.slice(0)};
fz.prototype.q=function(W){this.Re=W.slice(0);var q=this.MS,X=q[0].V();q[1].q(W.slice(X*8,X*8+4),X);
q[2].q(W.slice(X*8+4,X*8+8),X)};fz.prototype.cf=function(W){var q=this.MS,X=q.indexOf(W.currentTarget);
if(X==0)this.q(this.Re);else{var k=q[0].V()*8+(X==1?0:4),B=q[X].V();for(var N=0;N<4;N++)this.Re[k+N]=B[N];
this.T(new ip(S.E.k,!1))}};function g_(W){gH.call(this);this.K=I.a("div");this.mL=I.a("canvas");this.BM=W;
this.Re=[0,20,200,255];this.hT=0;this.eZ=-1;this.a1O=[];for(var N=0;N<5;N++){var q=I.a("span");I.w(q,"display:inline-block;width:"+(N==0?8:N==2?7:2)+"em");
this.a1O.push(q);this.K.appendChild(q)}this.qm=this.S4.bind(this);this.bL=this.HL.bind(this);this.tX=this.qO.bind(this);
I.TK(this.mL);I.aA(this.mL,this.qm);this.K.appendChild(this.mL);this.L8()}g_.prototype=new gH;g_.prototype.l=function(){this.L8()};
g_.prototype.q=function(W,q){this.Re=W;this.hT=q;this.L8()};g_.prototype.V=function(){return this.Re.slice(0)};
g_.prototype.S4=function(W){var q=this.Re,X=I.IO(W,this.mL),k=X.x-8,B=-1,U=1e9;for(var N=0;N<4;N++){var l=k-q[N],K=Math.abs(l);
if(K<8&&K<U&&((N&1)==0&&l<0||(N&1)==1&&l>0)){U=l;B=N}}if(B==-1)return;this.eZ=B;this.abQ=window.__kb.D(bu.Wr)||q[(B>>>1)*2]!=q[(B>>>1)*2+1];
I.wO(window,this.bL);I.DA(window,this.tX)};g_.prototype.HL=function(W){var q=this.Re,X=this.eZ,k=(X>>>1)*2,B=k+1,U=I.IO(W,this.mL),l=Math.round(Math.max(0,Math.min(255,U.x-8)));
q[X]=l;if(this.abQ&&q[k]>=q[B])this.abQ=!1;if(!this.abQ)q[k]=q[B]=l;this.L8();this.T(new ip(S.E.k,!1))};
g_.prototype.qO=function(W){I.yO(window,this.bL);I.xB(window,this.tX)};g_.prototype.L8=function(){var W=this.mL;
I.JO(W,255+16,16);var q=W.getContext("2d"),X=W.width,k=W.height,B=Math.round(255*I.W$()),U=Math.round(8*I.W$());
q.translate(U,0);var l=q.createLinearGradient(0,0,B,0);l.addColorStop(0,"black");l.addColorStop(1,"#"+["ffffff","ff0000","00ff00","0000ff"][this.hT]);
q.fillStyle=l;q.fillRect(0,0,B,U);var K=this.a1O,D=js.get(this.BM)+":";K[0].textContent=D;for(var N=0;
N<4;N++){var m=this.Re[N];K[1+N].textContent=m;var Y=Math.round(m*I.W$());q.beginPath();q.moveTo(Y,U);
q.lineTo(Y,U+U);q.lineTo(Y+((N&1)==0?-1:1)*U,U+U);q.closePath();q.fillStyle=N<2?"#666666":"#cccccc";
q.fill();q.strokeStyle="black";q.stroke()}};function fT(W,q,X){gH.call(this);if(X==null)X=!1;this._=[0,0,1];
this.a5_=q;this.aAu=X;this.Ya=0;var k="ai"+I.oX();this.K=I.a("span","fitem angleinput");if(W){this.hF=I.a("label","flabel");
this._Z=W;this.K.appendChild(this.hF);this.hF.setAttribute("for",k)}this.aH=X?44:20;this.mL=I.a("canvas","gsicon");
this.Ca=this.mL.getContext("2d");I.TK(this.mL);I.JO(this.mL,this.aH*2+1,this.aH*2+1);this.Ca.scale(I.W$(),I.W$());
this.K.appendChild(this.mL);I.aA(this.mL,this.ss.bind(this));this.qN=this.RK.bind(this);this.VE=this._a.bind(this);
var B=this.P7.bind(this),U=I.a("div");I.w(U,"display:inline-block;  vertical-align:middle;");if(!X)this.K.appendChild(U);
this.oZ=[];for(var N=0;N<2;N++){var l=I.a("input");this.oZ.push(l);l.setAttribute("type","text");I.Ch(l);
if(N==0)l.setAttribute("id",k);l.addEventListener("change",B,!1);var K=I.a("span");K.textContent="\xB0";
if(N==0||q){U.appendChild(l);U.appendChild(K);I.zR(U)}}this.q(this._)}fT.prototype=new gH;fT.prototype.l=function(){if(this._Z)this.hF.textContent=js.get(this._Z)+":"};
fT.prototype.tB=function(W){this.hF.textContent=W};fT.prototype.V=function(){return this._.slice(0)};
fT.prototype.q=function(W,q){var X=this._;W=W.slice(0);if(W[0]==null)W[0]=X[0];if(W[1]==null)W[1]=X[1];
if(W[2]==null)W[2]=X[2];this._=W;var k=W[0],B=W[1],U=W[2],l=this.a5_,K=this.aAu,D=this.aH*.85;if(!l)B=0;
this.oZ[0].value=k;this.oZ[1].value=B;var m=this.Ca;m.clearRect(0,0,100,100);k=Math.PI*k/180;B=D*(90-B)/90;
var Y=this.aH+.5;m.save();m.translate(Y,Y);m.rotate(-k);m.strokeStyle="rgba(0,0,0,0.5)";m.beginPath();
m.ellipse(0,0,D,D*U,0,0,2*Math.PI);if(K){m.moveTo(0,-D*U);m.lineTo(0,D*U);m.moveTo(-B,0)}else m.moveTo(0,0);
m.lineTo(B,0);m.stroke();var a=this.aH*.15;m.fillStyle="black";m.beginPath();if(K){m.arc(0,-D*U,a*.66,0,2*Math.PI);
m.arc(0,D*U,a*.66,0,2*Math.PI)}if(l){m.arc(B,0,a*.4,0,2*Math.PI)}else{m.moveTo(Y-a,-a*.66);m.lineTo(Y,0);
m.lineTo(Y-a,a*.66)}m.fill();m.restore();if(q)this.P7()};fT.prototype.P7=function(W){var q=parseInt(this.oZ[0].value);
if(isNaN(q))q=0;var X=parseInt(this.oZ[1].value);if(isNaN(X))X=0;q=q%360;X=X%360;this.q([q,X]);this.T(new ip(S.E.k,!1))};
fT.prototype.ss=function(W){I.wO(window,this.qN);I.DA(window,this.VE);var q=I.IO(W,this.mL),Y=0,a=1e9;
q.x-=this.aH;q.y-=this.aH;var X=this._,k=X[0]*Math.PI/180,B=(90-X[1])/90,U=X[2],l=this.aH*.85,K=Math.sin(-k),D=Math.cos(-k),m=[new hw(D*l,K*l)];
if(this.aAu)m.push(new hw(-K*l*U,D*l*U),new hw(K*l*U,-D*l*U));for(var N=0;N<m.length;N++){var p=hw.tj(q,m[N]);
if(p<a){a=p;Y=N}}this.Ya=Y;if(Y==0)this.RK(W)};fT.prototype.RK=function(W){var q=I.IO(W,this.mL),X=this.Ya,k=[],B=q.x-this.aH,U=q.y-this.aH,l=this.aH*.85;
if(X==0){var K=180*Math.atan2(-U,B)/Math.PI,D=90-90*Math.min(1,Math.sqrt(B*B+U*U)/l);if(W.shiftKey)K=Math.round(K/15)*15;
k=[Math.round(K),Math.round(D)]}else k=[null,null,Math.max(.01,Math.min(1,Math.sqrt(B*B+U*U)/l))];this.q(k);
this.T(new ip(S.E.k,!1))};fT.prototype._a=function(W){this.T(new ip(S.E.k,!1));I.yO(window,this.qN);
I.xB(window,this.VE)};function ej(W,q){gH.call(this);this.Re=0;this.Ln=q;this.K=I.a("span","fitem angleinput");
if(W){this.hF=I.a("label","flabel");this._Z=W;this.K.appendChild(this.hF)}this.mL=I.a("canvas","gsicon");
this.Ca=this.mL.getContext("2d");I.JO(this.mL,q,q);this.K.appendChild(this.mL);I.TK(this.mL);I.aA(this.mL,this.ss.bind(this));
this.qN=this.RK.bind(this);this.VE=this._a.bind(this);this.q(0)}ej.prototype=new gH;ej.prototype.l=function(){if(this._Z)this.hF.textContent=js.get(this._Z)+":"};
ej.prototype.tB=function(W){this.hF.textContent=W};ej.prototype.V=function(){return this.Re};ej.prototype.axT=function(W){var q=this.Re,X=Math.floor(q/3),k=q-X*3;
k=Math.max(0,Math.min(2,k+W.x));X=Math.max(0,Math.min(2,X+W.y));this.q(X*3+k)};ej.prototype.q=function(W){this.Re=W;
var q=this.mL.width,X=Math.floor(W/3),k=W-3*X,B=(k+.5)*q/3,U=(X+.5)*q/3,l=this.Ca,K=[.5,Math.round(q/3)+.5,Math.round(2*q/3)+.5,q-.5];
l.clearRect(0,0,q,q);var D=this.Ln<30;l.setLineDash([]);l.strokeStyle=D?"rgba(0,0,0,0.5)":"#000000";
l.beginPath();for(var N=0;N<4;N++){var m=K[N];l.moveTo(m,0);l.lineTo(m,q);l.moveTo(0,m);l.lineTo(q,m)}l.stroke();
if(W==9)return;if(!D){l.setLineDash([1,2]);var Y=q*.53,a=Math.max(0,Math.min(q-Y,B-Y/2)),p=Math.max(0,Math.min(q-Y,U-Y/2));
l.strokeRect(Math.round(a)+.5,Math.round(p)+.5,Math.round(Y),Math.round(Y))}l.fillStyle="#000000";l.beginPath();
l.arc(B,U,q/8,0,Math.PI*2);l.fill()};ej.prototype.ss=function(W){I.wO(document.body,this.qN);I.DA(document.body,this.VE);
this.RK(W)};ej.prototype.RK=function(W){var q=I.IO(W,this.mL),X=Math.max(0,Math.min(2,Math.floor(q.x/(this.Ln/3)))),k=Math.max(0,Math.min(2,Math.floor(q.y/(this.Ln/3))));
this.q(k*3+X)};ej.prototype._a=function(W){this.T(new ip(S.E.k,!1));I.yO(document.body,this.qN);I.xB(document.body,this.VE)};
function gn(a1){gH.call(this);this.K=I.a("span","fitem cswatch");this.aGZ=0;this.m9=[];this.$v=[];var W=this.aCx.bind(this);
for(var N=0;N<a1;N++){this.m9.push(0);var q=I.a("span","colorsample");q.addEventListener("click",W,!1);
this.$v.push(q);this.K.appendChild(q)}var X=[16711680,65280,255,65535,16711935,16776960,0,8421504,16777215],k=Math.min(a1,X.length);
for(var N=0;N<k;N++)this.m9[N]=X[N];this.Jv()}gn.prototype=new gH;gn.prototype.aCx=function(W){this.aGZ=this.$v.indexOf(W.currentTarget);
this.T(new ip(S.E.k))};gn.prototype.V=function(){return this.m9[this.aGZ]};gn.prototype.q=function(W){var q=this.m9,X=q.indexOf(W);
if(X!=-1)q.splice(X,1);else q.pop();q.unshift(W);this.Jv()};gn.prototype.Jv=function(){for(var N=0;N<this.m9.length;
N++){I.w(this.$v[N],"background-color:#"+g.Ga(this.m9[N]))}};function dT(W){gH.call(this);this.qf={o:0,L:0,X:0};
this.bx=W;this.K=I.a("span","fitem colorsample bbtn");this.K.addEventListener("click",this.wk.bind(this),!1)}dT.prototype=new gH;
dT.prototype.l=function(){};dT.prototype.wk=function(W){var q=this.qf;this.T(new ip("click"));var X=new ip(S.E.H,!0);
X.data={R:S.m.K_,ud:"colorpicker",ke:g.xS(q),om:this.nv.bind(this),yd:this.bx};this.T(X)};dT.prototype.nv=function(W){this.Ih(W);
this.T(new ip(S.E.k))};dT.prototype.z5=function(){this.wk(null)};dT.prototype.SQ=function(){var W=this.qf;
return W.o<<16|W.L<<8|W.X};dT.prototype.V=function(){return g.ov.E2(this.qf)};dT.prototype.Ih=function(W){this.qf=g.gC(W);
this.aGt()};dT.prototype.q=function(W){this.qf=g.ov.yM(W);this.aGt()};dT.prototype.aGt=function(){var W=this.qf,q=W.o,X=W.L,k=W.X,B=q<<16|X<<8|k;
I.w(this.K,"background-color:#"+g.Ga(B))};function f8(){gH.call(this);this.Fe=!1;this.uJ=20;this.afq=10;
this.i7=0;this.Fe=!1;this.ahJ={o:255,L:0,X:0};this.aGz={o:0,L:0,X:0};this.e=null;this.Zl=null;this.AS=[[0,0,0],[0,[[0,[1,1,1],1,.5],[1,[0,0,0],1,.5]],[0,0,0,1,1,0,0],[1,0,0,1,0,0]],[]];
this.K=I.a("canvas");this.L8();I.TK(this.K);I.aA(this.K,this.qm.bind(this))}f8.prototype=new gH;f8.prototype.awX=function(W){if(this.Fe==W)return;
this.Fe=W;this.L8()};f8.prototype.l=function(){};f8.prototype.aaM=function(W,q){function X(k){return{o:k>>16&255,L:k>>8&255,X:k&255}}if(W!=null)this.ahJ=X(W);
if(q!=null)this.aGz=X(q);this.L8()};f8.prototype.ai2=function(W,q){this.e=W;this.Zl=q;this.L8()};f8.prototype.qm=function(W){var q=I.IO(W,this.K),X=q.x*I.W$(),k=q.y*I.W$(),B=this.uJ,U=this.afq,l=0;
if(k>B){l=4+Math.floor(3*X/B)}else if(X<U&&k<U){l=0}else if(X>B-U&&k>B-U){l=1}else if(X<U){l=2}else{l=3}this.z5(l)};
f8.prototype.z5=function(W){var q=this.e,X=new ip(S.E.H,!0);if(W>1){if(cC==0)X.data={R:S.m.Dt,rl:aI.Z$,w7:W};
else{var k=g.N(q.Hr);if(W==2){var B=k.rD;k.rD=k.jg;k.jg=B}if(W==3){k.jg=[1,1,1];k.rD=[0,0,0]}if(W>=4){var U=this.AS[W-4];
if(this.i7==0)k.jg=U;else k.rD=U}X.data={R:S.m.Dt,rl:aI.z7,_:k}}}else{var l=this.nv.bind(this),K=this.i7;
this.i7=W;if(cC==0){var D=W==0?this.ahJ:this.aGz;X.data={R:S.m.K_,ud:"colorpicker",ke:g.xS(D),om:l}}else{if(K!=W){this.L8();
return}var m=W==0?q.Hr.jg:q.Hr.rD;if(m.length==0)m=[0,0,0];f8.a3b(m,this,l);return}}this.T(X)};f8.prototype.nv=function(W){var q=new ip(S.E.H,!0),X=this.i7,k=this.e;
if(cC==0)q.data={R:S.m.Dt,rl:aI.Z$,w7:X,_:W};else{var B=W;if(typeof W=="number"){B=g.gC(W,1);B=[B.o,B.L,B.X]}var U=g.N(k.Hr);
if(X==0)U.jg=B;else U.rD=B;q.data={R:S.m.Dt,rl:aI.z7,_:U}}this.T(q)};f8.prototype.L8=function(){var W=this.K,q=W.getContext("2d"),X=I.W$(),X=I.W$(),k=this.uJ=Math.floor(34*X),B=Math.floor((k-2)/3),U="#aaaaaa",l=.62;
W.width=k;W.height=k+cC*(B+9);I.V7(W);W.style.cursor="pointer";var k=this.uJ=W.width,K=this.afq=Math.round(k*l);
function D(E,o){var G=E.o,d=E.L,u=E.X;if(o)G=d=u=Math.round(g.jN(G,d,u));var r=G<<16|d<<8|u;return"#"+g.Ga(r)}function m(q,p,E,o,G,d){q.beginPath();
if(o>=d*2&&G>=d*2){q.moveTo(p+d,E);q.lineTo(p+o-d,E);q.quadraticCurveTo(p+o,E,p+o,E+d);q.lineTo(p+o,E+G-d);
q.quadraticCurveTo(p+o,E+G,p+o-d,E+G);q.lineTo(p+d,E+G);q.quadraticCurveTo(p,E+G,p,E+G-d);q.lineTo(p,E+d);
q.quadraticCurveTo(p,E,p+d,E)}q.closePath()}function Y(p,E,K,o,G){q.strokeStyle=G?G:"black";q.fillStyle=o;
m(q,p+.5,E+.5,K-1,K-1,K*.2);q.fill();q.stroke()}var a=this.e;if(a){q.beginPath();var p=k-K,M=Math.floor(K*.28),x=K-2*M;
q.lineWidth=1;q.strokeStyle="white";if(this.i7==0)f8.zA(q,a.Hr.rD,this.Zl,K,K,p,p,!0);f8.zA(q,a.Hr.jg,this.Zl,K,K,0,0);
if(this.i7==1)f8.zA(q,a.Hr.rD,this.Zl,K,K,p,p,!0);for(var N=0;N<3;N++){q.beginPath();f8.zA(q,this.AS[N],this.Zl,B,B,N*(B+1),k+9,!1)}}else{Y(k-K,k-K,K,D(this.aGz,this.Fe));
Y(0,0,K,D(this.ahJ,this.Fe))}var R=k-K,y=Math.round(R*l);Y(k-y,R-y,y,cC==0?"white":"black",U);Y(k-R,0,y,cC==0?"black":"white",U);
q.save();q.fillStyle=U;q.translate(0,k);q.rotate(-Math.PI/2);R=k-K;var s=Math.round(R*.28),F=Math.round(R*.25);
for(var N=0;N<2;N++){q.fillRect(s,s,R-s,1);q.beginPath();q.moveTo(R-F,s+.5-F);q.lineTo(R,s+.5);q.lineTo(R-F,s+.5+F);
q.closePath();q.fill();q.transform(0,1,1,0,0,0)}q.restore()};f8.a3b=function(W,q,X){var k=new ip(S.E.H,!0);
if(W.length==3)k.data={R:S.m.K_,ud:"colorpicker",ke:g.xS({o:W[0]*255,L:W[1]*255,X:W[2]*255}),om:X};else k.data={R:S.m.K_,ud:"vgradienteditor",_:W,om:X};
q.T(k)};f8.zA=function(W,q,X,k,B,U,l,K){function D(R,y){return CSS.ea({o:R[0]*255,L:R[1]*255,X:R[2]*255},y)}if(q==null){W.fillStyle="#888888";
W.clearRect(U,l,k,B);W.font=Math.round(B*.6*(K?.5:1))+"px sans-serif";W.fillStyle="white";if(K){W.fillText("?",U+k*.05,l+B*.3);
W.fillText("?",U+k*.8,l+B*.3);W.fillText("?",U+k*.05,l+B*.9);W.fillText("?",U+k*.8,l+B*.9)}else W.fillText("?",k*.36,B*.7)}else if(q.length==0){W.fillStyle="#ffffff";
W.fillRect(U,l,k,B);W.strokeStyle="#ff0000";W.lineWidth=2;W.moveTo(U,l);W.lineTo(U+k,l+B);W.moveTo(U,l+B);
W.lineTo(U+k,l);W.stroke()}else if(q.length==3){W.fillStyle=D(q);W.fillRect(U,l,k,B)}else if(q.length==4){var m=U+k/2,Y=l+B/2,a=q[0]==0?W.createLinearGradient(U,l,U+k,l):W.createRadialGradient(m,Y,0,m,Y,k/2);
g.ov.D0(a,q[1]);W.fillStyle=a;W.fillRect(U,l,k,B)}else if(q.length==2&&X){var p=X.Ed[q[0]];W.save();
W.fillStyle="white";W.fillRect(U,l,k,B);W.rect(U,l,k,B);W.scale(k/p.r,B/p.$);W.fillStyle=p.av$;W.fill();
W.restore()}W.lineWidth=1;W.strokeStyle="white";W.strokeRect(U+.5,l+.5,k-1,B-1);if(K){var M=Math.floor(k*.28),x=k-2*M;
W.clearRect(U+M,U+M,x,x);W.strokeRect(U+M+.5,U+M+.5,x-1,x-1)}};function j2(W){j5.call(this,W,!1,"brushbutton nopadding",19*13,10*13,aI.AC,!0);
var q=this.a7G;I.Wx(q,"flexrow");var X=I.a("div");q.appendChild(X);var k=I.a("div");q.appendChild(k);
I.w(k,"margin-left:8px");this.jM=new fT(null,null,!0);this.jM.Q(S.E.k,this.a9,this);X.appendChild(this.jM.K);
this.RZ=new iT([12,14,0],1,1e3," px",0,!0);this.RZ.Q(S.E.k,this.a9,this);k.appendChild(this.RZ.K);this.lh=new iT([12,17],0,100,"%");
this.lh.Q(S.E.k,this.a9,this);k.appendChild(this.lh.K);this.Mb=new fa(null,["<img src=\""+PIMG.prsO+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.prsS+"\" class=\"autoscale gsicon\" />"],!0,[[15,9,0],[15,9,1]]);
this.Mb.Q(S.E.k,this.a9,this);k.appendChild(this.Mb.K)}j2.prototype=new j5;j2.prototype.JE=function(){var W=["pencil","trees"];
for(var N=0;N<W.length;N++)W[N]="brushes/"+W[N]+".abr";return W};j2.prototype.q=function(W,q,X){this.dQ=g.N(W);
var k=Math.floor(20*I.W$()),B=Math.floor(36*I.W$()),U=Math.floor(24*I.W$()),l=bf.K$(W,q,X,k,U,B);this.SB.setAttribute("src",l);
I.Xv(this.SB,B,U);var K=W.Brsh.v;this.RZ.q(K.Dmtr.v.val);if(K.Hrdn!=null){this.lh.JZ();this.lh.q(K.Hrdn.v.val)}else this.lh.Ti();
if(K.Angl!=null)this.jM.q([K.Angl.v.val]);if(K.Rndn!=null)this.jM.q([null,null,K.Rndn.v.val/100]);var D=[!1,!1];
if(W.opVr)D[0]=W.opVr.v.bVTy.v==2;if(W.szVr)D[1]=W.szVr.v.bVTy.v==2;this.Mb.q(D)};j2.prototype.t1=function(){return{list:[{t:"Objc",v:this.V()}],n5:[],OJ:[]}};
j2.prototype.V=function(){return this.dQ};j2.prototype.zv=function(){if(!this.rC)return;var W=[],q=[],X=this.Uv,k=Math.floor(33*I.W$()),B=Math.floor(40*I.W$());
for(var N=0;N<X.list.length;N++){var U=X.list[N].v,l=bf.K$(U,X.n5,X.OJ,k,B);W.push(l);q.push(U.Nm.v)}this.k1.Zx(W,q,k,B);
this.rC=!1};j2.prototype.w9=function(W){var q=this.Uv;this.q(q.list[this.k1.V()[0]].v,q.n5,q.OJ);this.T(new ip(S.E.k))};
j2.prototype.l=function(){j5.prototype.l.call(this);this.jM.l();this.RZ.l();this.lh.l()};j2.prototype.a9=function(W){var q=this.Uv,X=this.dQ,k=X.Brsh.v;
k.Dmtr.v.val=this.RZ.V();if(k.Hrdn!=null)k.Hrdn.v.val=this.lh.V();if(k.Angl!=null)k.Angl.v.val=this.jM.V()[0];
if(k.Rndn!=null)k.Rndn.v.val=Math.round(this.jM.V()[2]*100);if(W.target==this.Mb)gs.abw(X,this.Mb.V());
this.q(X,q.n5,q.OJ);this.T(new ip(S.E.k))};function ix(W){j5.call(this,W,!0,"contourbutton",17*13,10.5*13,aI.Le)}ix.prototype=new j5;
ix.prototype.w9=function(W){this.q(this.Uv[W.target.V()]);this.T(new ip(S.E.k))};ix.prototype.uc=function(W){var q=new ip(S.E.H,!0);
q.data={R:S.m.K_,ud:"contoureditor",eO:this.dQ,response:this.aFR.bind(this)};this.T(q)};ix.prototype.aFR=function(W){this.q(W);
this.T(new ip(S.E.k))};ix.prototype.zv=function(){if(!this.rC)return;var W=Math.floor(38*I.W$()),q=Math.floor(38*I.W$()),X=[],k=[],B=this.Uv;
for(var N=0;N<B.length;N++){k.push(B[N].Nm?B[N].Nm.v:"");X.push(g.yz.K$(B[N].Crv.v,W,q))}this.k1.Zx(X,k,W,q);
this.rC=!1};ix.prototype.q=function(W){this.dQ=g.N(W);var q=this.dQ.Crv.v;for(var N=0;N<q.length;N++)if(q[N].v.Cnty==null)q[N].v.Cnty={t:"bool",v:!0};
this.Y1()};ix.prototype.Y1=function(){var W=Math.floor(30*I.W$()),q=Math.floor(30*I.W$()),X=g.yz.K$(this.dQ.Crv.v,W,q);
this.SB.setAttribute("src",X);I.Xv(this.SB,W,q)};function gB(W){gH.call(this);this.X6=null;this.e=null;
this.LV=null;this.vH=null;this.aFm=[];this.a8Y=[];this.K=I.a("span","fitem fillbutton");this.GQ=new gH;
this.GQ.K=I.a("div","floatcont form");I.w(this.GQ.K,"width: 21em;");this.GQ.parent=this;this.OY=W;this.hF=this.hF=I.a("label","flabel");
this.K.appendChild(this.hF);this.mL=I.a("canvas");this.Ca=this.mL.getContext("2d");this.a9g=null;this.K.appendChild(this.mL);
I.aA(this.mL,this.VV.bind(this));this.YD=new i3([12,66],["","Color","Grad","Patt"]);this.GQ.K.appendChild(this.YD.K);
this.YD.Q(S.E.k,this.cf,this);this.GQ.K.appendChild(I.a("hr"));this.a5N=I.a("span");this.KX=new dT(!0);
this.KX.parent=this.GQ;this.KX.Q(S.E.k,this.cf,this);this.ajj=new gn(10);this.ajj.Q(S.E.k,this.cf,this);
this.qi=I.a("div","marged hiline");this.qi.appendChild(this.KX.K);I.zR(this.qi);this.qi.appendChild(this.ajj.K);
this.vS=new i2("GrFl",!0);this.vS.parent=this.GQ;this.vS.Q(S.E.k,this.cf,this);this.St=I.a("div","marged hiline");
var q="Grad Type Algn Angl Rvrs Scl Ofst".split(" ");for(var N=0;N<q.length;N++){var X=this.vS.ef[q[N]].K;
this.St.appendChild(X)}this.Hh=new i2("patternFill",!0);this.Hh.parent=this.GQ;this.Hh.Q(S.E.k,this.cf,this);
this.Ia=I.a("div","marged hiline");var q=["Ptrn","Angl","Scl","Algn","phase"];for(var N=0;N<q.length;
N++){var X=this.Hh.ef[q[N]].K;this.Ia.appendChild(X)}}gB.prototype=new gH;gB.prototype.QL=function(W,q){var X=jp.eo(W,q);
if(q==aI.dE){this.aFm=[];this.a8Y=[];if(this.X6)this.q(this.LV,this.V(),this.X6)}this.e=W;this.vS.QL(W,q);
this.Hh.QL(W,q)};gB.prototype.l=function(){this.hF.textContent=js.get(this.OY)+": ";this.YD.l();this.KX.l();
this.vS.l();this.Hh.l()};gB.prototype.cf=function(W){var q=W.currentTarget;if(q==this.YD){var X=this.YD.V(),k={O5:X,bE:this.X6[X]};
if(X>0&&k.bE==null)k.bE=g.N(kE.EY[X-1]);if(this.X6)this.q(this.LV,k,this.X6)}if(q==this.ajj)this.KX.Ih(q.V());
this.T(new ip(S.E.k,!1))};gB.prototype.VV=function(W){if(I.rL(this.GQ.K))return;W.stopPropagation();
var q=[[13,1,0],[13,0],[12,37],[12,62]],X=this.X6,k=this.aFm,B=this.a8Y,U=!1;for(var N=0;N<4;N++){var l={O5:N,bE:X[N]},K=gB.aIo(l);
if(B[N]==K)continue;U=!0;var D=gB.aKj(null,l,this.e,this.LV,22,22,!1);k[N]="<img width=\"22\" height=\"22\" src=\""+D+"\" />";
B[N]=K}if(U)this.YD.oj(k,q);var m=this.mL.getBoundingClientRect(),Y=new ip(S.E.H,!0);Y.data={R:S.m.k8,ii:this.GQ,x:m.left,y:m.top+m.height+4};
this.T(Y)};gB.prototype.q=function(W,q,X){this.X6=X;this.LV=W;this.YD.q(q.O5);var k=gB.aIo(q),B;if(k!=this.a9g)gB.aKj(this.Ca,q,this.e,this.LV,30,23,!0);
this.a9g=k;var U=q.O5;if(U==0){B=this.a5N}if(U==1){this.KX.q(q.bE.Clr.v);B=this.qi}if(U==2){this.vS.update(W,q.bE);
B=this.St}if(U==3){this.Hh.update(W,q.bE);B=this.Ia}if(B!=this.vH){if(this.vH!=null){this.GQ.K.removeChild(this.vH)}this.GQ.K.appendChild(B);
this.vH=B}};gB.prototype.V=function(){var W={O5:this.YD.V()};if(W.O5==1){W.bE=g.N(kE.EY[0]);W.bE.Clr.v=this.KX.V()}if(W.O5==2){W.bE=this.vS.V()}if(W.O5==3){W.bE=this.Hh.V()}return W};
gB.aIo=function(W){var q=W.O5,X=W.bE,k="empty";if(q==1){k=g.ov.yM(X.Clr.v);k=k.o+","+k.L+","+k.X}if(q==2)k=JSON.stringify(X.Grad.v);
if(q==3)k=X.Ptrn.v.Idnt.v;return k};gB.aKj=function(W,q,X,k,B,U,l){if(W==null)W=gB.Ca;var K=Math.floor(B*I.W$()),D=Math.floor(U*I.W$()),m=W.canvas;
m.width=K;m.height=D;I.Xv(m,K,D);gB.ayW(W,q,X,k,K,D);if(l){W.beginPath();W.strokeStyle="#000000";W.fillStyle="#ffffff";
W.lineWidth=2;var Y=K*.7,a=Math.floor(D*.7),p=7*I.W$();W.moveTo(Y,a);W.lineTo(Y+p,a);W.lineTo(Y+p/2,a+p/2);
W.closePath();W.stroke();W.fill()}if(W==gB.Ca)return m.toDataURL()};gB.Ca=I.a("canvas").getContext("2d");
gB.ayW=function(W,q,X,k,B,U,l,K){if(l==null)l=0;if(K==null)K=0;var D=q.O5;if(D==0){W.fillStyle="#ffffff";
W.fillRect(l,K,B,U);W.strokeStyle="#ff0000";W.lineWidth=2;W.moveTo(l,K);W.lineTo(l+B,K+U);W.moveTo(l,K+U);
W.lineTo(l+B,K);W.stroke()}if(D==1){var m=q.bE.Clr.v;m=g.ov.yM(m);W.fillStyle="#"+g.Ga(m.o<<16|m.L<<8|m.X);
W.fillRect(l,K,B,U)}if(D==2){var Y=_.ce.K$(q.bE.Grad.v,B,U,0,X.w5,X.yY,!0);W.putImageData(Y,l,K)}if(D==3){var a=q.bE.Ptrn.v,p;
if(k!=null)p=dx.yN(a,k.add.Patt);if(p==null)p=dx.yN(a,X.Ix);a6.K$(p,B,U,W.canvas)}};function a6(W){j5.call(this,W,!1,"patternbutton",18*13,10*13,aI.dE);
this.amD=null}a6.prototype=new j5;a6.prototype.w9=function(W){var q=this.Uv[this.k1.V()];this.dQ={classID:"Ptrn",Nm:{t:"TEXT",v:q.name},Idnt:{t:"TEXT",v:q.id}};
this.T(new ip(S.E.k));this.Y1()};a6.prototype.zv=function(){if(!this.rC)return;var W=this.Uv,q=Math.floor(34*I.W$()),X=Math.floor(34*I.W$()),k=[],B=[];
for(var N=0;N<W.length;N++){k.push(a6.K$(W[N],q,X));B.push(W[N].name)}this.k1.Zx(k,B,q,X);this.rC=!1};
a6.prototype.q=function(W,q){if(this.dQ&&W.Idnt.v==this.dQ.Idnt.v)return;this.dQ=g.N(W);this.Y1(q)};
a6.prototype.V=function(){return g.N(this.dQ)};a6.prototype.t1=function(){return this.amD?[this.amD]:[]};
a6.prototype.Y1=function(W){var q=Math.floor(50*I.W$()),X=Math.floor(50*I.W$()),k;if(W!=null)k=dx.yN(this.dQ,W.add.Patt);
if(k==null)k=dx.yN(this.dQ,this.Uv);this.amD=k;var B=a6.K$(k,q,X);this.SB.setAttribute("src",B);I.Xv(this.SB,q,X)};
a6.mL=I.a("canvas","");a6.K$=function(W,q,X,k){if(k==null)k=a6.mL;var B=k.getContext("2d");k.width=q;
k.height=X;if(W){var U=W.CH[1],l=U.r,K=U.$,D=W.CH[0],m=Math.min(q/l,X/K),Y=m;if(Y*l<2)Y=2/l;var a=m;
if(a*K<2)a=2/K;var p=_.Gz.k6([D,U],new ka(Y,0,0,a,0,0),Y>2),M=p.S.r,x=p.S.$,R=new ImageData(M,x);g.cX(p.buffer,R.data);
B.putImageData(R,Math.floor((q-M)/2),Math.floor((X-x)/2))}return k.toDataURL()};function en(W,q,X){if(q==null)q=24.2;
if(X==null)X=17;j5.call(this,W,!1,"patternbutton",q*13,X*13,aI.d9);this.e3=""}en.prototype=new j5;en.prototype.w9=function(W){this.dQ=g.N(this.Uv[0][this.k1.V()[0]]);
this.T(new ip(S.E.k))};en.prototype.zv=function(){var W=this.Uv;if(W==null||!this.rC)return;var q=Math.floor(50*I.W$()),X=Math.floor(50*I.W$()),k=[],B=[];
for(var N=0;N<W[0].length;N++){k.push(en.K$(this.Uv[0][N].NF,q,X,this.Uv[1]));B.push(W[0][N].M$.Nm.v.split("=").pop())}this.k1.Zx(k,B,q,X);
this.rC=!1};en.prototype.q=function(W,q,X,k){var B=JSON.stringify(W.NF)+","+X+","+k;if(this.e3!=B){this.e3=B;
this.dQ=g.N(W);this.Y1(q,X,k)}};en.prototype.Y1=function(W,q,X){var k=Math.floor(68*I.W$()),B=Math.floor(68*I.W$()),U=en.K$(this.dQ.NF,k,B,W?W:this.Uv[1],q,X);
this.SB.setAttribute("src",U);I.Xv(this.SB,k,B)};en.K$=function(W,q,X,k,B,U){var l=new ey;l.r=q;l.$=X;
l.buffer=g.j(q*X*4);l.add.Patt=k;l.vQ(B==null?90:B);l.nr(U==null?30:U);var K=new dU(0,0,Math.round(q*.5),Math.round(X*.5));
K.x=Math.round((q-K.r)/2);K.y=Math.round((X-K.$)/2);var D=l.Sh();D.S=K;D.buffer=g.j(K.C()*4);g.WD(D.buffer,4284045657);
dx.acc(W,D,.5*100);l.U.push(D);l.Hm();l.I_();var m=dd.gP;dd.gP=!1;l.HQ();var Y=l.OL();dd.gP=m;var a=lf.nn(Y.buffer,l.r,l.$);
return a};function eN(W){j5.call(this,null,!1,"tpresetbutton",18*13,24*13,aI.ai,!0);I.gI(this.K,"fitem");
this.k1.Lb(1);this.id=W;this.Y1();this.R.style.overflow="hidden";this.ji=new h$([15,7,9]);this.ji.q(!0);
this.ji.Q(S.E.k,this.a6J,this);this.wX.appendChild(this.ji.K)}eN.prototype=new j5;eN.prototype.axo=function(W){if(this.id==W)return;
this.id=W;this.mX(this.Uv)};eN.prototype.w9=function(W){var q=this.Uv[this.k1.V()],X=new ip(S.E.H,!0);
X.data={R:S.m.Dt,m8:"set",rl:aI.ai,ij:q};this.T(X)};eN.prototype.l=function(){j5.prototype.l.call(this);
this.ji.l()};eN.prototype.a6J=function(){this.rC=!0;this.zv()};eN.prototype.zv=function(){if(!this.rC)return;
var W=Math.floor(16*I.W$()),q=Math.floor(16*I.W$()),X=[],k=[],B=this.Uv,U=this.ji.V();for(var N=0;N<B.length;
N++){var l=_.X4[B[N][1].classID];if(!U||l==this.id){k.push(B[N][0]?B[N][0].split("=").pop():"");X.push(l==-1?"":PIMG[_.zt[l]])}else{X.push(null);
k.push(null)}}this.k1.Zx(X,k,W,q);this.rC=!1};eN.prototype.Y1=function(){var W=this.SB;W.setAttribute("src",PIMG[_.zt[this.id]]);
I.Wx(W,"toolicon")};eN.prototype.t1=function(){return null};eN.EP={};eN.K$=function(W,q,X){var k=eN.Ca,B=eN.EP,U=g.Ga(W.o<<16|W.L<<8|W.X);
if(B[U])return B[U];if(k==null){var l=I.a("canvas");k=eN.Ca=l.getContext("2d")}var l=k.canvas;l.width=q;
l.height=X;k.fillStyle="#"+U;k.fillRect(0,0,q,X);var K=B[U]=l.toDataURL();return K};function eA(W,q,X){gH.call(this);
this.K=I.a("span","fitem curveeditor");this.$B=null;this.aoq=0;this.hT="";this.mode=0;this.aGP=null;
this.aaX=null;this.g5=W;this.a1b=q;this.anT=X;this.P5=null;this.JQ=null;this.ajP=0;this.a0r=0;this.SG=new hw;
this.bj=this.RK.bind(this);this.tK=this._a.bind(this);this.Ln=256;this.mL=I.a("canvas");this.Ca=this.mL.getContext("2d");
I.TK(this.mL);this.K.appendChild(this.mL);this.qL(256,256);I.aA(this.mL,this.ss.bind(this));this.coords=I.a("div");
I.w(this.coords,"width:250px");this.K.appendChild(this.coords);var k=this.OF=X?100:255,B=null;this.FY=new al("X (in)",0,k,B,0,!1,!0);
this.gf=new al("Y (out)",0,k,B,0,!1,!0);this.Qt=new h$([19,3,0]);this.FY.Q(S.E.k,this.jI,this);this.gf.Q(S.E.k,this.jI,this);
this.Qt.Q(S.E.k,this.jI,this);this.coords.appendChild(this.FY.K);if(X)this.coords.appendChild(this.Qt.K);
this.coords.appendChild(this.gf.K)}eA.prototype=new gH;eA.prototype.l=function(){this.Qt.l();this.FY.l();
this.gf.l()};eA.prototype.qL=function(W,q){this.Ln=Math.round(W);this.Ca.resetTransform();I.JO(this.mL,this.Ln,this.Ln,this.Ca);
this.Ca.scale(this.Ln/256,this.Ln/256);if(this.P5)this.oH()};eA.prototype.jI=function(W){var N=this.afm(),q=this.P5[N],X=255/this.OF;
q.v.Hrzn.v=this.FY.V()*X;q.v.Vrtc.v=this.gf.V()*X;if(this.anT)q.v.Cnty.v=this.Qt.V();this.P5.sort(function(k,B){return k.v.Hrzn.v-B.v.Hrzn.v});
this.oH();this.T(new ip(S.E.k))};eA.prototype.q=function(W,N,q){var X=JSON.stringify(W),k=q?JSON.stringify(q):null;
if(X==JSON.stringify(this.P5)&&k==this.aaX)return;this.mode=W.length==256?1:0;this.P5=JSON.parse(X);
this.aGP=q;this.aaX=k;if(N!=null)this.JQ=this.P5[N];this.oH()};eA.prototype.Jw=function(W,q,X){this.$B=W;
this.aoq=q;this.hT=X;this.oH()};eA.prototype.V=function(){return g.N(this.P5)};eA.prototype.afm=function(){return this.P5.indexOf(this.JQ)};
eA.prototype.ss=function(W){var q=256/this.Ln,X=I.IO(W,this.mL);X.x*=q;X.y*=q;var k=X.x,B=256-X.y;if(this.g5){var U=k;
k=256-B;B=U}this.SG.cQ(k,B);if(this.mode==0){var l=0,K=1e9,p;for(var N=0;N<this.P5.length;N++){var D=this.P5[N].v,m=D.Hrzn.v-k,Y=D.Vrtc.v-B,a=Math.sqrt(m*m+Y*Y);
if(a<K){K=a;l=N}}if(K<15)p=this.P5[l];else{p=g.yz.B9(k,B,!0);this.P5.push(p);this.P5.sort(function(M,x){return M.v.Hrzn.v-x.v.Hrzn.v})}this.JQ=p;
this.a0r=this.P5.slice(0)}I.wO(document.body,this.bj);I.DA(document.body,this.tK);this.RK(W)};eA.prototype.aJo=function(){var W=this.JQ;
return W?W.v.Vrtc.v:0};eA.prototype.RK=function(W){var q=256/this.Ln,X=I.IO(W,this.mL);X.x*=q;X.y*=q;
var k=X.x,B=256-X.y;if(this.g5){var U=k;k=256-B;B=U}if(this.mode==0){var l=this.P5,K=this.JQ,D=this.a0r,m=D.indexOf(K),Y=l.indexOf(K)!=-1,a=D.length-1,p=k;
if(m==0){p=Math.max(0,Math.min(D[1].v.Hrzn.v-1,k))}else if(m==a){p=Math.min(255,Math.max(D[a-1].v.Hrzn.v+1,k))}else{var M=k<0||k>255||B<0||B>255;
if(k<=D[m-1].v.Hrzn.v||k>=D[m+1].v.Hrzn.v)M=!0;if(!M&&!Y)l.splice(m,0,K);if(M&&Y)l.splice(m,1)}if(this.a1b&&(m==0||m==D.length-1)){}else K.v.Hrzn.v=Math.round(p);
K.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(B)))}else{k=Math.round(k);B=Math.round(B);k=Math.max(0,Math.min(255,k));
B=Math.max(0,Math.min(255,B));var x=this.SG.x,R=k,y=this.SG.y,s=B;if(k<this.SG.x){R=x;x=k;s=y;y=B}this.P5[k]=B;
if(x!=R)for(var F=x;F<=R;F++)this.P5[F]=Math.round(y+(F-x)*(s-y)/(R-x))}this.SG.cQ(k,B);this.oH();this.T(new ip(S.E.k))};
eA.prototype._a=function(W){I.yO(document.body,this.bj);I.xB(document.body,this.tK);this.T(new ip(S.E.k))};
eA.prototype.oH=function(){var W=this.Ca,q=this.mL;W.fillStyle="#ffffff";W.fillRect(0,0,256,256);var X=256/q.width;
if(this.$B){W.save();W.translate(0,256);W.scale(1,-1);jU.ajW(W,this.$B,5700/this.aoq,this.hT);W.restore()}W.strokeStyle="#aaaaaa";
W.lineWidth=1*X;W.beginPath();for(var N=1;N<4;N++){var k=(Math.floor(64*N/X)+.5)*X;W.moveTo(0,k);W.lineTo(255,k);
W.moveTo(k,0);W.lineTo(k,255)}W.stroke();if(this.g5){W.save();W.transform(0,1,-1,0,256,0)}var B=g.yz.CR,U=eA.aCk,l=this.aGP,K=["#ff0000","#00ff00","#0000ff"];
if(this.mode==0){var D=this.P5;if(l)for(var N=0;N<l.length;N++)U(W,B(l[N],256),K[N]);U(W,B(D,256),"#000000");
W.lineWidth=2*X;for(var N=0;N<D.length;N++){var m=D[N].v;W.fillStyle=this.JQ==D[N]?"#333":"#fff";W.beginPath();
W.moveTo(m.Hrzn.v,255.5-m.Vrtc.v);W.arc(m.Hrzn.v,255.5-m.Vrtc.v,4,0,2*Math.PI);W.stroke();W.fill()}}else{if(l)for(var N=0;
N<l.length;N++)U(W,l[N],K[N]);U(W,this.P5,"#000000")}if(this.g5)W.restore();var N=this.afm();this.coords.className=N==-1?"disabled":"";
if(N==-1)return;var m=this.P5[N].v,Y=255/this.OF;this.FY.q(Math.round(m.Hrzn.v/Y));this.gf.q(Math.round(m.Vrtc.v/Y));
if(m.Cnty)this.Qt.q(m.Cnty.v)};eA.aCk=function(W,q,X){W.strokeStyle=X;W.beginPath();W.moveTo(0,255.5-q[0]);
for(var N=0;N<256;N++)W.lineTo(N,255.5-q[N]);W.stroke()};function jU(W,q,X){gH.call(this);this.K=I.a("span");
this.TE=new cL([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5],[12,82]]);this.TE.Q(S.E.k,this.L8,this);if(X==null){this.K.appendChild(this.TE.K);
I.zR(this.K)}var k=I.a("div");this.K.appendChild(k);I.w(k,"background-color: var(--bg-canvas);");this.mL=I.a("canvas");
var B=this.mL;k.appendChild(B);B.width=Math.round(W*I.W$());B.height=Math.round(100*I.W$());I.Xv(B,B.width,B.height);
B.style.display="block";this.Ca=B.getContext("2d");this.$B=null;this.pe=0;this.aiY=null;this.af5=[];
this.Du=[];var U=["Mean:","Pixels:"],l=this.K;if(q)for(var N=0;N<U.length;N++){var K=new j1(U[N]);this.af5.push(K);
l.appendChild(K.K);var D=new j1("hi");this.Du.push(D);l.appendChild(D.K);I.zR(l)}if(X!=null)this.Lb(X)}jU.prototype=new gH;
jU.prototype.l=function(){this.TE.l()};jU.prototype.Lb=function(W){this.TE.q(W);this.L8()};jU.prototype.q=function(W,q){this.$B=W;
this.aiY=q;this.L8()};jU.prototype.Ih=function(W){if(W==this.pe)return;this.pe=W;this.L8()};jU.prototype.L8=function(){if(this.$B==null)return;
var W=this.mL,q=this.Ca,X=this.$B,k=this.aiY,B=this.TE.V(),U=6e3/X[4],l="#"+g.Ga(this.pe),K=jU.ajW;W.width=W.width;
q.setTransform(W.width/256,0,0,-W.height/100,0,W.height);q.globalCompositeOperation="lighter";if(B==0)K(q,X[0],U/3,l);
else if(B<4)K(q,X[B],U,l);else{K(q,X[1],U,"#ff4545",!0);K(q,X[2],U,"#40bb60",!0);K(q,X[3],U,"#2266bb",!0)}q.setTransform(1,0,0,1,0,0);
if(k!=null){if(B==4)B=0;var D=0;for(var N=0;N<256;N++)D+=N*X[B][N];if(B==0)D/=3;this.Du[0].q((D/k).toFixed(1)+"");
this.Du[1].q(k+"")}};jU.ajW=function(W,q,X,k,B){W.beginPath();W.moveTo(0,0);for(var U=0;U<256;U++)W.lineTo(U,q[U]*X);
W.lineTo(256,0);W.fillStyle=k;W.strokeStyle=k;if(B){W.globalAlpha=.2;W.fill();W.globalAlpha=1;W.stroke()}else W.fill()};
function jg(W,q){gH.call(this);this.FT={o:0,L:0,X:0};if(Math.abs(W-256/I.W$())<10)W=256/I.W$();var X=this.K=I.a("div","flexrow");
X.style.position="relative";var k=this.ahG=I.a("div");X.appendChild(k);this.SO=new hw;this.n3=new hw;
this.qN=this.mI.bind(this);this.VE=this.agd.bind(this);this.mL=I.a("canvas","");this.Ca=this.mL.getContext("2d");
this.mL.width=this.mL.height=256;this.aC5=this.Ca.getImageData(0,0,256,256);this.abZ=-1;this.aHO="";
this.CY=null;I.TK(this.mL);I.aA(this.mL,this.aIY.bind(this));k.appendChild(this.mL);this.aFu=this.aKp.bind(this);
this.a2j=this.aD8.bind(this);this.oK=I.a("canvas","");this.EJ=this.oK.getContext("2d");this.oK.width=20;
this.oK.height=256;this.ayM=this.EJ.getImageData(0,0,20,256);jg.aKP(this.ayM.data,20,256);I.TK(this.oK);
I.aA(this.oK,this.aD1.bind(this));X.appendChild(this.oK);I.w(this.mL,"width:"+W+"px; height:"+W+"px");
I.w(this.oK,"width:16px; height:"+W+"px");this.H2=new h$("Web Colors\u2001");this.H2.Q(S.E.k,this.update,this);
this.H6=new h$("CMYK gamut");this.H6.Q(S.E.k,this.update,this);if(q){I.zR(k);k.appendChild(this.H2.K);
k.appendChild(this.H6.K)}var B=this.yl=document.createElementNS("http://www.w3.org/2000/svg","svg");
X.appendChild(B)}jg.prototype=new gH;jg.prototype.qL=function(W,q){this.mL.style.width=this.ahG.style.width=W-16+"px"};
jg.prototype.q=function(W){if(this.H2.V()){var q=g.N(W);jg.uN(q);var X=this.V();if(q.o==X.o&&q.L==X.L&&q.X==X.X)W=this.FT}this.FT=W;
this.update()};jg.prototype.V=function(){var W=g.N(this.FT);if(this.H2.V())jg.uN(W);return W};jg.prototype.update=function(){var W=this.FT,q=g.v9(W.o,W.L,W.X),K=18;
if(q.he==0)q.Sp=this.SO.x/255;if(q.Sp==0||q.he==0)q.QB=(255-this.t$(this.n3.y))/255;if(q.he!=0)this.SO.x=q.Sp*255;
this.SO.y=(1-q.he)*255;this.n3.y=(1-q.QB)*255;var X=this.aC5,k=this.H2.V(),B=this.H6.V(),U=k+","+B;if(Math.abs(q.QB-this.abZ)>.002||this.aHO!=U){this.aE6(new Uint8Array(X.data.buffer),256,256,q.QB,k,B);
this.a5F();this.abZ=q.QB;this.aHO=U}var l=this.Ca;l.putImageData(X,0,0);X=this.ayM;l=this.EJ;l.putImageData(X,0,0);
l.strokeStyle="#ffffff";l.beginPath();l.moveTo(0,this.n3.y);l.lineTo(20,this.n3.y);l.lineWidth=2;l.stroke();
var D=this.SO.y/255,m=parseFloat(this.mL.style.width),Y=parseFloat(this.mL.style.height),a=this.yl;a.setAttribute("width",K);
a.setAttribute("height",K);var p=Math.round(W.o*255)<<16|Math.round(W.L*255)<<8|Math.round(W.X*255),M="<circle cx=\""+K/2+"\" cy=\""+K/2+"\" r=\""+K/2+"\" fill=\"#"+g.Ga(p)+"\"></circle>";
M+="<circle cx=\""+K/2+"\" cy=\""+K/2+"\" r=\""+(-.5+K/2)+"\" fill=\"none\" stroke=\"rgba(255,255,255,"+(.5-.2*D)+")\" stroke-width=\"1\"></circle>";
M+="<circle cx=\""+K/2+"\" cy=\""+K/2+"\" r=\""+(-1.2+K/2)+"\" fill=\"none\" stroke=\"rgba(0,0,0,0.07)\" stroke-width=\"0.4\"></circle>";
a.innerHTML=M;a.style.pointerEvents="none";a.style.filter="drop-shadow(0px 3px 2px rgba(0,0,0,0.4)";
a.style.position="absolute";a.style.left=m*(this.SO.x/255)-K/2+"px";a.style.top=Y*(this.SO.y/255)-K/2+"px"};
jg.uN=function(W){W.o=~~(.5+W.o*5)*.2;W.L=~~(.5+W.L*5)*.2;W.X=~~(.5+W.X*5)*.2};jg.prototype.aE6=function(W,q,X,k,B,U){var l=1/q,K=1/X;
for(var D=0;D<X;D++)for(var m=0;m<q;m++){var Y=g.C7(k,m*l,(X-D-1)*K);if(B)jg.uN(Y);var N=D*q+m<<2;W[N+0]=~~(Y.o*255);
W[N+1]=~~(Y.L*255);W[N+2]=~~(Y.X*255);W[N+3]=255}if(U){var a=W.slice(0),p=g.El("rgbToRgbC"),M=p[2],x=p[3];
ICC.U.applyLUT(x,M,a,a);this.CY=g.j(q*X);for(var N=0;N<W.length;N+=4){var R=W[N]-a[N],y=W[N+1]-a[N+1],s=W[N+2]-a[N+2],F=R*R+y*y+s*s;
if(F>300){W[N]=W[N+1]=W[N+2]=200;this.CY[N>>>2]=255}}}};jg.aKP=function(W,q,X,k,B){if(k==null)k=1;if(B==null)B=0;
var U=new Uint32Array(W.buffer);for(var l=0;l<X;l++){var K=g.C7((1+k*(1-l/X)+B)%1,1,1),D=255<<24|K.X*255<<16|K.L*255<<8|K.o*255;
for(var m=0;m<q;m++)U[l*q+m]=D}};jg.prototype.aIY=function(W){I.wO(window,this.qN);I.DA(window,this.VE);
this.mI(W);this.yl.style.transition="transform 150ms cubic-bezier(.4,2.2,.6,.5)";this.yl.style.transform="scale(2.4)"};
jg.prototype.agd=function(W){I.yO(window,this.qN);I.xB(window,this.VE);this.yl.style.transition="transform 200ms cubic-bezier(.4,2.2,.6,.5)";
this.yl.style.transform="scale(1)"};jg.prototype.mI=function(W){var q=I.IO(W,this.mL);q.x=q.x*(256/parseFloat(this.mL.style.width));
q.y=q.y*(256/parseFloat(this.mL.style.height));this.SO.cQ(this.t$(q.x),this.t$(q.y));this.a5F();this._t()};
jg.prototype.a5F=function(){if(!this.H6.V())return;var W=this.SO,q=0,X=0,k=1e9;for(var B=0;B<256;B++){for(var U=0;
U<256;U++){if(this.CY[B*256+U]==255)continue;var l=U-W.x,K=B-W.y,D=l*l+K*K;if(D<k){q=U;X=B;k=D}}}W.x=q;
W.y=X};jg.prototype._t=function(){this.FT=this.aE1();this.T(new ip(S.E.k))};jg.prototype.aE1=function(){var W=g.C7((255-this.t$(this.n3.y))/255,this.kh(this.SO.x/255),this.kh(1-this.SO.y/255));
return{o:W.o,L:W.L,X:W.X}};jg.prototype.aD1=function(W){I.wO(window,this.aFu);I.DA(window,this.a2j);
this.aKp(W)};jg.prototype.aD8=function(W){I.yO(window,this.aFu);I.xB(window,this.a2j)};jg.prototype.aKp=function(W){var q=I.IO(W,this.oK);
q.y=q.y*(256/parseFloat(this.oK.style.height));this.n3.cQ(this.t$(q.x),this.t$(q.y));this._t()};jg.prototype.t$=function(W){return Math.max(0,Math.min(255,W))};
jg.prototype.kh=function(W){return Math.max(0,Math.min(1,W))};function io(W,q,X,k){var B=i3.NQ(q,k);
i3.call(this,W,B,X)}io.prototype=new i3;function b$(){gH.call(this);this.aJ9=null;this.NL=new by;this.NL.Q(S.E.k,this.ae1,this);
this.NL.parent=this;this.qd=new al([12,14,0],1,150,"px",2,!0);this.qd.Q(S.E.k,this.bf,this);this.qd.parent=this;
this.H7=new al([16,0],.01,100,"px",2,!0,null,5);this.H7.Q(S.E.k,this.bf,this);this.H7.parent=this;this.eJ=new h$("Auto");
this.eJ.Q(S.E.k,this.bf,this);this.qB=new al([16,1],-500,5e3,"%",0,!0);this.qB.Q(S.E.k,this.bf,this);
this.qB.parent=this;this.l$=new al("\u2B0D",1,300,"%",null,null,null,null,[[2,7],[22,4,3]]);this.l$.Q(S.E.k,this.bf,this);
this.l$.parent=this;this.y9=new al("\u2B0C",1,300,"%",null,null,null,null,[[2,7],[22,4,2]]);this.y9.Q(S.E.k,this.bf,this);
this.y9.parent=this;this.Qm=new al([16,2],-10,10,"px");this.Qm.Q(S.E.k,this.bf,this);this.Qm.parent=this;
this.Sz=new dT(!0);this.Sz.Q(S.E.k,this.ml,this);this.Sz.parent=this;this.eS=new dT(!0);this.eS.Q(S.E.k,this.ml,this);
this.eS.parent=this;this.ks=new dT(!0);this.ks.Q(S.E.k,this.ml,this);this.ks.parent=this;this.Mp=new dT(!0);
this.Mp.Q(S.E.k,this.ml,this);this.Mp.parent=this;this.Ut=new h$([2,3]);this.Ut.Q(S.E.k,this.bf,this);
this.Cr=new h$([14,9]);this.Cr.Q(S.E.k,this.bf,this);this.cg=new h$([12,46]);this.cg.Q(S.E.k,this.bf,this);
this.X$=new ht(!0,!0);this.X$.Q(S.E.k,this.bf,this);this.rR=new iC("...",null,null,!0);I.aA(this.rR.K,this.adw.bind(this));
this.GQ=new gH;var W=this.GQ.K=I.a("div","floatcont form"),l=100;this.GQ.parent=this;this.X$.parent=this.GQ;
this.IU=new al([12,41],1,20,"px",0,!0,!0);this.IU.K.style.marginLeft="16px";this.IU.Q(S.E.k,this.bf,this);
this.IU.parent=this.GQ;W.appendChild(this.eS.K);W.appendChild(this.Ut.K);I.zR(W);W.appendChild(this.ks.K);
W.appendChild(this.Cr.K);I.zR(W);W.appendChild(this.IU.K);W.appendChild(this.X$.K);I.zR(W);W.appendChild(this.Mp.K);
W.appendChild(this.cg.K);this.IV=new iC("<img src=\""+PIMG["type/bold"]+"\" class=\"autoscale gsicon\" />",!1,"Faux bold");
this.G_=new iC("<img src=\""+PIMG["type/italic"]+"\" class=\"autoscale gsicon\" />",!1,"Faux italic");
this.qC=new iC("<img src=\""+PIMG["type/caps"]+"\" class=\"autoscale gsicon\" />",!1,"All caps");this.W8=new iC("<img src=\""+PIMG["type/scaps"]+"\" class=\"autoscale gsicon\" />",!1,"Small caps");
this.qZ=new iC("<img src=\""+PIMG["type/sup"]+"\" class=\"autoscale gsicon\" />",!1,"Superscript");this.Lq=new iC("<img src=\""+PIMG["type/sub"]+"\" class=\"autoscale gsicon\" />",!1,"Subscript");
this.PA=new iC("<img src=\""+PIMG["type/under"]+"\" class=\"autoscale gsicon\" />",!1,"Underline");this.gR=new iC("<img src=\""+PIMG["type/strike"]+"\" class=\"autoscale gsicon\" />",!1,"Strikethrough");
var q=[this.IV,this.G_,this.qC,this.W8,this.qZ,this.Lq,this.PA,this.gR];for(var N=0;N<q.length;N++)q[N].Q("click",this.a6t,this);
var X="standard context discr swash styl_alt titling ordinals fractions".split(" ");this.B7=[];for(var N=0;
N<8;N++){var k=new iC("<img src=\""+PIMG["lig/"+X[N]]+"\" class=\"autoscale gsicon\" />",!1,gZ.acF[N]);
k.Q("click",this.a6t,this);this.B7.push(k)}this.acM=new iC("<img src=\""+PIMG["par/left"]+"\" class=\"autoscale gsicon\" />");
this.aIr=new iC("<img src=\""+PIMG["par/right"]+"\" class=\"autoscale gsicon\" />");this.ag0=new iC("<img src=\""+PIMG["par/center"]+"\" class=\"autoscale gsicon\" />");
this.a7f=new iC("<img src=\""+PIMG["par/jleft"]+"\" class=\"autoscale gsicon\" />");this.aEY=new iC("<img src=\""+PIMG["par/jright"]+"\" class=\"autoscale gsicon\" />");
this.aBQ=new iC("<img src=\""+PIMG["par/jcenter"]+"\" class=\"autoscale gsicon\" />");this.aFV=new iC("<img src=\""+PIMG["par/jall"]+"\" class=\"autoscale gsicon\" />");
this.$g=[this.acM,this.aIr,this.ag0,this.a7f,this.aEY,this.aBQ,this.aFV];for(var N=0;N<this.$g.length;
N++)this.$g[N].Q("click",this.bf,this);var B=["lind","rind","flind","bind","aind"],U=[];for(var N=0;
N<5;N++)U.push("<img src=\""+PIMG["par/"+B[N]]+"\" class=\"autoscale gsicon\" /> ");this.Ws=new al(U[0],-l,l,"px");
this.nA=new al(U[1],-l,l,"px");this.NZ=new al(U[2],-l,l,"px");this.vp=new al(U[3],-l,l,"px");this.Rx=new al(U[4],-l,l,"px");
this.EF=new i3([12,33],["Abc ...","... أي بي"]);this.NT=new al(["Auto VAR0",[16,0]],0,500,"%");this.PV=[this.Ws,this.nA,this.NZ,this.vp,this.Rx,this.EF,this.NT];
for(var N=0;N<this.PV.length;N++){var K=this.PV[N];K.Q(S.E.k,this.bf,this);K.parent=this}this.$0=new cL("Digits",["LTR Arabic - 123","RTL Arabic- 123","Hindi (١,٢,٣,٤,٥,٦...)","Farsi (۱,۲,۳,۴,۵,۶...)"]);
this.$0.Q(S.E.k,this.bf,this);this.KY=[];this.as2="";this.oO=I.a("div","labfxd")}b$.prototype=new gH;
b$.prototype.adw=function(W){if(I.rL(this.GQ.K))return;W.stopPropagation();var q=this.rR.K.getBoundingClientRect(),X=new ip(S.E.H,!0);
X.data={R:S.m.k8,ii:this.GQ,x:q.left,y:q.top+q.height+4};this.T(X)};b$.prototype.l=function(){this.NL.l();
this.qd.l();this.H7.l();this.qB.l();this.Qm.l();this.l$.l();this.y9.l();this.Ut.l();this.Cr.l();this.cg.l();
this.IU.l();this.X$.l();for(var N=0;N<this.PV.length;N++)this.PV[N].l()};b$.prototype.q=function(W,q,X){if(q)this.aJ9=q;
this.Xz=g.N(W);var k=this.Xz,B=k.n6,U=k.D8;this.IV.q(B.FauxBold!=null?B.FauxBold:!1);this.G_.q(B.FauxItalic!=null?B.FauxItalic:!1);
this.qC.q(B.FontCaps==2);this.W8.q(B.FontCaps==1);this.qZ.q(B.FontBaseline==1);this.Lq.q(B.FontBaseline==2);
this.PA.q(B.Underline);this.gR.q(B.Strikethrough);if(B._DigitSet!=null)this.$0.q(B._DigitSet);var l={};
if(B.Font!=null){var K=k.MD[B.Font],D=q.yy(gZ.k7(K));if(D)l=D.GSUB;if(l==null)l={};if(D&&D.fvar){var m=D.fvar[0],Y=D.fvar[1],a=JSON.stringify(m);
if(a!=this.aBA){this.aBA=a;this.KY=[];I.ru(this.oO);for(var N=0;N<m.length;N++){var p=m[N],M=new dM(p[5],p[1],p[3]);
M.l();this.KY.push(M);M.Q(S.E.k,this.afE,this);this.oO.appendChild(M.K)}}var x=K.Axis;if(x)for(var N=0;
N<x.length;N++)this.KY[N].q(x[N]/65536)}else if(this.KY.length!=0){this.KY=[];I.ru(this.oO);this.aBA=""}}for(var N=0;
N<8;N++){this.B7[N].Si(l[gZ.ab9[N]]);this.B7[N].q(B[gZ.B7[N]])}this.NL.q(B.Font==null?null:gZ.k7(k.MD[B.Font]),q,X);
var R=B.FontSize==null?20:B.FontSize;this.qd.q(R);var y=B.Tracking;this.qB.q(y==null?0:y);this.IU.q(B.OutlineWidth!=null?B.OutlineWidth:1);
this.X$.q(kE.Hr.a5D(B));this.H7.q(B.Leading!=null&&B.Leading!=0?B.Leading:R);this.eJ.q(B.AutoLeading);
this.l$.q((B.VerticalScale!=null?B.VerticalScale:0)*100);this.y9.q((B.HorizontalScale!=null?B.HorizontalScale:0)*100);
this.Qm.q(B.BaselineShift!=null?B.BaselineShift:0);this.Ut.q(B.FillFlag!=null?B.FillFlag:!1);this.Cr.q(B.StrokeFlag!=null?B.StrokeFlag:!1);
this.cg.q(B._FillBackgroundFlag!=null?B._FillBackgroundFlag:!1);this.KH(B.FillColor,this.Sz);this.KH(B.FillColor,this.eS);
this.KH(B.StrokeColor,this.ks);this.KH(B._FillBackgroundColor,this.Mp);var s=U._Direction!=null?U._Direction:0,F=gZ.kZ(U);
for(var N=0;N<this.$g.length;N++)this.$g[N].q(F==N);this.EF.q(s);this.NT.q((U.AutoLeading!=null?U.AutoLeading:1.2)*100);
this.Ws.q(U.StartIndent!=null?U.StartIndent:0);this.nA.q(U.EndIndent!=null?U.EndIndent:0);this.NZ.q(U.FirstLineIndent!=null?U.FirstLineIndent:0);
this.vp.q(U.SpaceBefore!=null?U.SpaceBefore:0);this.Rx.q(U.SpaceAfter!=null?U.SpaceAfter:0)};b$.prototype.KH=function(W,q){if(W){var X=gZ.yM(W);
q.Ih(Math.round(X.o)<<16|Math.round(X.L)<<8|Math.round(X.X))}else q.Ih(0)};b$.prototype.qz=function(){var W=new ip(S.E.H,!0);
W.data={R:S.m.Dt,rl:aI.jG,Xz:this.Xz};this.T(W);var W=new ip(S.E.O,!0);W.J=_.W6;W.data={R:"updateStyles"};
this.T(W)};b$.prototype.a6t=function(W){var q=this.Xz.n6,X=W.target,k=!X.Vg(),B=this.B7.indexOf(X);if(B!=-1){q[gZ.B7[B]]=k}else{if(X==this.IV)q.FauxBold=k;
if(X==this.G_)q.FauxItalic=k;if(X==this.qC)q.FontCaps=k?2:0;if(X==this.W8)q.FontCaps=k?1:0;if(X==this.qZ)q.FontBaseline=k?1:0;
if(X==this.Lq)q.FontBaseline=k?2:0;if(X==this.PA)q.Underline=k;if(X==this.gR)q.Strikethrough=k}this.qz()};
b$.prototype.bf=function(W){var q=this.Xz.n6,X=this.Xz.D8,k=W.target;if(k==this.X$){kE.Hr.aqB(k.V(),q)}if(k==this.qB){var B=k.V();
q.Tracking=B}if(k==this.H7){q.AutoLeading=!1;q.Leading=k.V()}if(k==this.eJ){q.AutoLeading=k.V()}if(k==this.IU)q.OutlineWidth=k.V();
if(k==this.qd)q.FontSize=k.V();if(k==this.l$)q.VerticalScale=k.V()/100;if(k==this.y9)q.HorizontalScale=k.V()/100;
if(k==this.Qm)q.BaselineShift=k.V();if(k==this.Ut)q.FillFlag=k.V();if(k==this.Cr)q.StrokeFlag=k.V();
if(k==this.cg)q._FillBackgroundFlag=k.V();if(k==this.$0)q._DigitSet=k.V();if(this.$g.indexOf(k)!=-1){X.Justification=gZ.kZ(X,this.$g.indexOf(k))}if(k==this.Ws)X.StartIndent=k.V();
if(k==this.nA)X.EndIndent=k.V();if(k==this.NZ)X.FirstLineIndent=k.V();if(k==this.vp)X.SpaceBefore=k.V();
if(k==this.Rx)X.SpaceAfter=k.V();if(k==this.EF)X._Direction=k.V();if(k==this.NT)X.AutoLeading=k.V()/100;
this.qz()};b$.prototype.afE=function(W){var q=this.Xz,X=q.MD[q.n6.Font],k=X.Axis,B=gZ.k7(X),U=this.aJ9.yy(B);
if(k)for(var N=0;N<k.length;N++){var l=this.KY[N].V();k[N]=Math.round(l*65536);B+="_"+l.toFixed(3)+U.fvar[0][N][0]}X.Name=B;
this.qz()};b$.prototype.ae1=function(W){var q=this.Xz;if(q.n6.Font==null)q.n6.Font=0;var X=this.NL.V(),k=q.MD[q.n6.Font],B=this.aJ9.yy(X);
delete k.Axis;if(B&&B.fvar){var U=B.fvar,l=[];for(var N=0;N<U[0].length;N++)l.push(U[0][N][2]);for(var N=0;
N<U[1].length;N++)if(U[1][N][3]==X)l=U[1][N][2].slice(0);for(var N=0;N<l.length;N++)l[N]=Math.round(l[N]*65536);
k.Axis=l}k.Name=X;this.qz()};b$.prototype.ml=function(W){var q=W.target,X=q.SQ(),k={Type:1,Values:[1,(X>>16&255)/255,(X>>8&255)/255,(X>>0&255)/255]};
for(var N=0;N<4;N++)k.Values[N]=Math.round(k.Values[N]*1e3)/1e3;var B=q==this.Sz||q==this.eS?0:q==this.ks?1:2;
this.Xz.n6[["FillColor","StrokeColor","_FillBackgroundColor"][B]]=k;this.qz()};function by(){gH.call(this);
this.K=I.a("span","fontinput");this.l5=null;this.Cl=null;this.rh=null;this.S6="";this.Bv={};this.aH7=[];
this.a5b={};this.aje={};this.a1x=!1;this.Kw=I.a("button","fitem");I.w(this.Kw,"width:9em;");this.Kw.textContent="Family Name \u25BC";
this.K.appendChild(this.Kw);I.aA(this.Kw,this.anu.bind(this));this.GZ=new gH;this.GZ.parent=this;var W=this.GZ.K=I.a("div","floatcont");
W.style.padding="7px 7px 3px 7px";var q=new j1("Recent");W.appendChild(q.K);var X=this.aiH=new iC([[23,6],[22,6,0]],!1,"Load OTF / TTF file from your computer",!0);
X.Q("click",this.aww,this);X.K.style.float="right";W.appendChild(X.K);var k=this.a2V=new h$("Local Fonts");
k.Q(S.E.k,this.aaj,this);k.K.style.float="right";k.K.style.marginRight="10px";k.K.style.marginTop="3px";
W.appendChild(k.K);I.zR(W);this.UH=I.a("span","fitem imageset scrollable");this.UH.style.height="5.5em";
this.UH.style.width="100%";W.appendChild(this.UH);var B=I.a("div","form");this.GZ.K.appendChild(B);this.Yh=new iC(I.KG("tools/cshape",null,"autoscale"),!1,"Show Favorites Only");
this.Yh.Q("click",this.ajs,this);B.appendChild(this.Yh.K);this.xg=new kD([12,86],null,7.5);this.xg.Q("input",this.kR,this);
B.appendChild(this.xg.K);this.zw=new bt(10,"\u2630");B.appendChild(this.zw.K);this.zw.parent=this.GZ;
this.zw.Q(S.E.k,this.cb,this);this.zw.K.style.float="right";this.zw.K.style.marginRight="0";this.HT=I.a("span","fitem imageset scrollable");
this.HT.style.height="30em";this.GZ.K.appendChild(this.HT);this.HT.addEventListener("scroll",this.avs.bind(this),!1);
this.k2=I.a("button","fitem");I.w(this.k2,"width:7em;");this.k2.textContent="SubFamily Name \u25BC";
this.K.appendChild(this.k2);I.aA(this.k2,this.anu.bind(this));this._l=new gH;this._l.parent=this;this._l.K=I.a("div","floatcont");
this.aFF=I.a("span","fitem imageset scrollable");this._l.K.appendChild(this.aFF);this.anr=this.a1n.bind(this);
this.aCN=this.a2o.bind(this);this.Ha=this.aLb.bind(this);this.asH=this.aKz.bind(this);this.a78=this.alK.bind(this);
this.aeT=this.A$.bind(this)}by.prototype=new gH;by.tW=[];by.prototype.aaj=function(W){cY.Rr.Si(W.target.V(),function(){this.q();
this.cb()}.bind(this),function(){this.a2V.q(!1)}.bind(this));this.cb()};by.prototype.avs=function(W){var q=this.HT.scrollTop,X=this.aH7,k=Math.floor(q/27),B=Math.min(k+20,X.length);
for(var N=k;N<B;N++)this.alM(X[N])};by.prototype.aww=function(){var W=new ip(S.E.H,!0);W.data={R:S.m.hM};
this.T(W)};by.prototype.l=function(){this.zw.l();this.aiH.l();this.a2V.q(cY.Rr.Vg());this.Yh.tB(I.KG("tools/cshape",null,"autoscale"))};
by.prototype.ajs=function(W){this.Yh.q(!this.Yh.Vg());this.cb(null,null,!0)};by.prototype.kR=function(W){this.S6=this.xg.V().toLowerCase();
this.cb()};by.prototype.anu=function(W){I.hk(W);this.lx=null;var q=W.currentTarget,X=q.getBoundingClientRect(),k=q==this.Kw,B=k?this.GZ:this._l;
if(I.rL(B.K)){this.a22(B);return}if(!k&&this.d1()==null)return;var U=new ip(S.E.H,!0);U.data={R:S.m.k8,ii:B,x:X.left,y:X.top+X.height};
this.T(U);if(k){this.cb(null,!0,!0)}};by.prototype.d1=function(W){if(W==null)W=this.rh;return W==null?null:this.l5.DE()[W]};
by.prototype.aLb=function(W){this.xN(this.QU,this.axh,!0);this.a1x=!0};by.prototype.aKz=function(W){this.axh=null;
this.QU=W.currentTarget.firstChild.nextSibling.textContent;if(this.lx==null)this.lx=this.V();this.arF=setTimeout(this.Ha,250)};
by.prototype.alK=function(W){this.axh=W.currentTarget.firstChild.textContent;this.QU=null;if(this.lx==null)this.lx=this.V();
this.arF=setTimeout(this.Ha,250)};by.prototype.A$=function(W){this.aJ1=null;this.aAc=null;clearTimeout(this.arF);
if(this.a1x){this.a1x=!1;this.q(this.lx,this.l5);this.T(new ip(S.E.k,!1))}};by.prototype.a1n=function(W){var q=W.currentTarget.firstChild.nextSibling.textContent;
if(W.target.tagName.toLowerCase()=="button"){var X=this.Cl.slice(0),k=X.indexOf(q);if(k==-1){X=X.slice(Math.max(0,X.length-99));
X.push(q)}else X.splice(k,1);var B=new ip(S.E.H,!0);B.data={R:S.m.Dt,rl:aI.PP,O4:X};this.T(B);this.cb()}else{this.A$(W);
this.xN(q,null)}};by.prototype.a2o=function(W){this.A$(W);this.xN(null,W.currentTarget.firstChild.textContent)};
by.prototype.xN=function(W,q,X){var k=W==null?this._l:this.GZ,B=this.l5;if(W==null)W=this.d1()[0];else{var U=B.e5(W),l=this.d1();
q=cY.mn(U,l?l[1]:"regular")}var K=B.mT(W,q)[2];if(K==this.rh)return;if(!X){var D=by.tW;for(var N=0;N<D.length;
N++)if(D[N][0][0]==W)D.splice(N,1);D.push([this.d1(K),Date.now()]);D.sort(function(m,Y){return Y[1]-m[1]});
D=D.slice(0,10)}this.q(K,B);this.T(new ip(S.E.k,!1));if(X==null)this.a22(k);this.cb()};by.prototype.a22=function(W){var q=new ip(S.E.H,!0);
q.data={R:S.m.bD,ii:W};this.T(q)};by.prototype.V=function(){return this.rh};by.prototype.q=function(W,q,X){var k=this.l5;
if(W!=null)this.rh=W;else W=this.rh;if(q)this.l5=q;else q=this.l5;if(X)this.Cl=X;else X=this.Cl;if(W!=null){var B=this.d1(W),U,l;
if(B==null){U="- "+W;l="-------"}else{U=B[0];l=B[1];var K=q.e5(U);K.sort(cY.a3E);this.aFF.textContent="";
for(var N=0;N<K.length;N++){var B=q.mT(U,K[N]);if(!this.zw.VW(B))continue;var D=this.yC(B,!1);this.aFF.appendChild(D)}}this.Kw.textContent=U.substring(0,15)+" \u25BC";
this.Kw.setAttribute("title",U+", \""+W+"\"");this.k2.textContent=l.substring(0,10)+" \u25BC";this.k2.setAttribute("title",l)}};
by.prototype.cb=function(W,q,X){var k=this.d1(),B=this.Cl,U=this.l5.a0_();this.aH7=[];var l=this.a2V.V();
for(var K in U){var D=B.indexOf(K)!=-1,m=this.l5.e5(K),Y=!1;for(var N=0;N<m.length;N++){var a=this.l5.mT(K,m[N]),p=!0;
if(this.S6.length>0&&a[0].toLowerCase().indexOf(this.S6)==-1)p=!1;else if(!this.zw.VW(a))p=!1;else if(this.Yh.Vg()&&!D)p=!1;
else if(a[5]=="--loc"&&!l)p=!1;if(p)Y=!0}var M=this.Bv[K];if(M==null){var x=cY.mn(U[K],"regular"),R=this.l5.mT(K,x),M=this.yC(R,!0);
this.Bv[K]=M;this.HT.appendChild(M);this.a5b[K]="[true,false,false]"}if(Y)this.aH7.push(K);var y=k!=null&&k[0]==K;
this.aje[K]="["+Y+","+y+","+D+"]";if(!q)this.alM(K)}if(k&&X){var s=this.Bv[k[0]];this.HT.scrollTop=s.offsetTop-210}this.avs();
if(this.afC==null)this.afC=function(){I.ru(this.UH);for(var N=1;N<by.tW.length;N++){var a=by.tW[N][0],M=this.yC(a,!0);
this.Y8(M,a,!0);this.UH.appendChild(M)}}.bind(this);setTimeout(this.afC,200)};by.prototype.alM=function(W){var q=this.Bv[W];
if(q.firstChild==null){var X=this.l5.a0_(),k=cY.mn(X[W],"regular"),B=this.l5.mT(W,k);this.Y8(q,B,!0)}var U=this.a5b[W],l=this.aje[W];
if(U==l)return;var K=JSON.parse(U),D=JSON.parse(l);if(K[0]!=D[0]||K[1]!=D[1]){var m=D[0]?"":"display:none; ";
if(D[1])m+="background-color:rgba(0,0,0,0.13);";I.w(q,m)}if(K[2]!=D[2])I.w(q.firstChild,"opacity: "+(D[2]?"1":"0.2"));
this.a5b[W]=l};by.prototype.yC=function(W,q){var X=I.a("div","fontitem");if(!q)this.Y8(X,W,q);return X};
by.prototype.Y8=function(W,q,X){var k=q[X?0:1],B=X?this.anr:this.aCN,U=X?this.asH:this.a78,m="";W.addEventListener("click",B,!1);
W.addEventListener("mouseover",U);W.addEventListener("mouseout",this.aeT);if(X)W.appendChild(I.a("button","star"));
var l=I.a("span","label");l.setAttribute("title",k);l.textContent=k;W.appendChild(l);var K=I.W$(),D=1/K,Y=cY.A0*D,a=cY.uk*D;
if(1<K&&K<1.5)m="width:"+Y+"px; height:"+a+"px;";var p=I.a("span","thumb gsicon");if(q.wf){m+="background: url("+q.wf+");";
if(1<K&&K<1.5)m+="background-size: "+Y+"px "+a+"px;"}else{var M=Math.ceil(FNTS.list.length/cY.cols),x=Math.floor(q.bT/cY.cols),R=q.bT-x*cY.cols,y=R*cY.A0,s=x*cY.uk;
if(1<K&&K<1.5){m+="background-size: "+cY.cols*Y+"px "+M*a+"px;";y*=D;s*=D}m+="background-position:-"+y+"px -"+s+"px;"}I.w(p,m);
W.appendChild(p)};function bt(W,q){gH.call(this);this.K=I.a("button","fitem bbtn");this.K.addEventListener("click",this.Gd.bind(this),!1);
this.GQ=new gH;this.GQ.K=I.a("div","floatcont");this.GQ.parent=this;this.a8Q=I.a("div","flexrow");this.GQ.K.appendChild(this.a8Q);
this.BM=q;this.Fd=[];this.jd=[];var X=this.a8Q,k=I.a("div",""),B=I.a("div","");X.appendChild(k);X.appendChild(B);
this.dK=[];for(var N=0;N<FNTS.cats.length;N++)this.dK.push({name:FNTS.cats[N],index:N,d4:0});this.H_=new h$([7,0]);
this.H_.q(!0);this.H_.Q(S.E.k,this.amM,this);k.appendChild(this.H_.K);this.al3=I.a("div","vlist marged scrollable");
I.w(this.al3,"width:10.3em; height:"+W+"em; ");k.appendChild(this.al3);this.AQ=[];for(var N=0;N<this.dK.length;
N++){var U=this.dK[N],l=new h$(U.name);this.AQ.push(l);l.Q(S.E.k,this.a8K,this);l.q(!0);this.al3.appendChild(l.K);
this.Fd.push(1)}this.a4z=new h$([7,0]);this.a4z.Q(S.E.k,this.aDp,this);this.alG=I.a("div","vlist marged scrollable");
I.w(this.alG,"width:8.6em; height:"+(W+1.5)+"em; ");B.appendChild(this.alG);this.qp=[];for(var N=0;N<FNTS.subsetNames.length;
N++){var l=new h$(FNTS.subsetNames[N]);this.qp.push(l);l.Q(S.E.k,this.a0v,this);l.q(!1);this.alG.appendChild(l.K);
this.jd.push(l.V()?1:0)}}bt.prototype=new gH;bt.prototype.afV=function(W){var q=this.qp;for(var N=0;
N<q.length;N++){var X=(W>>>N&1)==1;this.jd[N]=X;q[N].q(X)}};bt.prototype.apx=function(){return this.a8Q};
bt.prototype.l=function(){this.K.textContent=this.BM?this.BM:js.get([25,1,0])+" \u25BC";this.H_.l();
this.a4z.l()};bt.prototype.Gd=function(W){var q=this.K.getBoundingClientRect(),X=new ip(S.E.H,!0);X.data={R:S.m.k8,ii:this.GQ,x:q.left,y:q.top+q.height,Ve:!0};
this.T(X)};bt.prototype.VW=function(W){if(this.Fd[W[4]]==0)return!1;else for(var q=0;q<this.jd.length;
q++)if(this.jd[q]==1&&(W[3]>>>q&1)==0)return!1;return!0};bt.prototype.amM=function(W){var q=W.target.V(),X=this.AQ,k=this.Fd;
for(var N=0;N<X.length;N++){X[N].q(q);k[N]=q?1:0}this.T(new ip(S.E.k,!1))};bt.prototype.aDp=function(W){var q=W.target.V(),X=this.qp,k=this.jd;
for(var N=0;N<X.length;N++){X[N].q(q);k[N]=q?1:0}this.T(new ip(S.E.k,!1))};bt.prototype.a8K=function(W){var N=this.AQ.indexOf(W.target),q=this.dK[N].index;
this.Fd[q]=1-this.Fd[q];this.T(new ip(S.E.k,!1));this.aex(this.AQ,this.H_)};bt.prototype.a0v=function(W){var N=this.qp.indexOf(W.target);
this.jd[N]=1-this.jd[N];this.T(new ip(S.E.k,!1))};bt.prototype.aex=function(W,q){var X=!0;for(var N=0;
N<W.length;N++)X=X&&W[N].V();q.q(X)};function aQ(W,q,X){j5.call(this,q,!0,"gradientbutton",18*13,10*13,aI.Zp);
this.w5=-1;this.yY=-1;this.a1X=null;this.awb=W;this.bx=X}aQ.prototype=new j5;aQ.prototype.uc=function(W){var q=new ip(S.E.H,!0);
q.data={R:S.m.K_,ud:"gradienteditor",ov:this.dQ,om:this.aa7.bind(this),yd:this.bx};this.T(q)};aQ.prototype.aa7=function(W){this.q(W);
this.T(new ip(S.E.k))};aQ.prototype._Q=function(W,q){this.w5=W;this.yY=q;this.Y1()};aQ.prototype.Y1=function(){if(this.dQ==null)return;
var W=JSON.stringify(this.dQ)+","+this.w5+","+this.yY;if(W==this.a1X)return;this.a1X=W;var q=Math.floor(80*I.W$()),X=Math.floor(16*I.W$()),k=_.ce.K$(this.dQ,q,X,0,this.w5,this.yY);
this.SB.setAttribute("src",k);I.Xv(this.SB,q,X)};aQ.prototype.V=function(){var W;if(this.awb)W=_.ce.aF_(this.dQ,this.w5,this.yY);
else W=g.N(this.dQ);return W};function iM(W){j5.call(this,W,!1,"swatchbutton",16*13,9.5*13,aI.P1)}iM.prototype=new j5;
function iE(W){j5.call(this,null,!0,"swatchbutton",16*13,8.75*13,aI.AC);this.ey=W}iE.prototype=new j5;
iE.prototype.w9=function(W){var q=this.Uv,X=W.target.V();this.q(X==0?[]:q.hf[X-1][1],q);this.T(new ip(S.E.k))};
iE.prototype.uc=function(W){if(this.dQ.length!=0)f8.a3b(this.dQ,this,this._t.bind(this))};iE.prototype._t=function(W){var q=W;
if(typeof W=="number"){q=g.gC(W,1);q=[q.o,q.L,q.X]}this.q(q);this.T(new ip(S.E.k))};iE.prototype.q=function(W,q){this.dQ=W;
this.Y1(q)};iE.prototype.Y1=function(W){var q=Math.floor(20*I.W$()),X=Math.floor(20*I.W$()),k=I.a("canvas"),B=k.getContext("2d");
k.width=q;k.height=X;f8.zA(B,this.dQ,W,q,X,0,0,this.ey==1);var U=B.canvas.toDataURL("png");this.SB.setAttribute("src",U);
I.Xv(this.SB,q,X)};iE.prototype.zv=function(){if(!this.rC)return;var W=Math.floor(20*I.W$()),q=Math.floor(20*I.W$()),X=[],k=[],B=this.Uv,U=B.hf,l=I.a("canvas"),K=l.getContext("2d");
l.width=W;l.height=q;U=[["None",[]]].concat(U);for(var N=0;N<U.length;N++){k.push(U[N][0]);f8.zA(K,U[N][1],B,W,q,0,0);
var D=K.canvas.toDataURL("png");X.push(D)}this.k1.Zx(X,k,W,q);this.rC=!1};iE.prototype.V=function(){return g.N(this.dQ)};
function a8(W,q,X){gH.call(this);this.K=I.a(X?"div":"span");var k=this.xV=I.a("input");this.xV.setAttribute("type","file");
if(q)k.setAttribute("multiple","");this.xV.addEventListener("change",this.at6.bind(this),!1);this.anp=this.UT.bind(this);
this.ut={};this.wI=0;this.IE=W;var B=this.Aa=new iC(js.get(W)+" (0)",null,null,!0);this.K.appendChild(B.K);
B.addEventListener("click",function(U){k.click()});if(X){this.sG=I.a("div","scrollable");I.w(this.sG,"height:120px; width:100%; line-height:1.5em;");
this.K.appendChild(this.sG);this.L8()}}a8.prototype=new gH;a8.prototype.q=function(W){this.ut=W;this.L8()};
a8.prototype.V=function(W){return this.ut};a8.prototype.at6=function(W){var q=W.target.files;this.wI=q.length;
this.ut={};for(var N=0;N<q.length;N++){var X=q[N],k=new FileReader;k.onload=this.anp;k._Z=X.name;k.readAsArrayBuffer(X)}};
a8.prototype.UT=function(W){var q=this.ut[W.target._Z]=new Uint8Array(W.target.result);this.wI--;if(this.wI==0){this.L8();
this.T(new ip(S.E.k));this.xV.value=null}};a8.prototype.L8=function(){var W=this.ut;this.Aa.tB(js.get(this.IE)+" ("+Object.keys(W).length+")");
var q=this.sG;if(q==null)return;I.ru(q);var X=[];for(var k in W)X.push(k);X.sort();for(var N=0;N<X.length;
N++){var B=I.a("div");B.textContent=X[N];q.appendChild(B)}};function l2(W,q,X,k,B){if(W==null)W=!1;if(q==null)q=!1;
if(X==null)X=!1;gH.call(this);this.pY=new hw;this.NV=new hw;this.ajb=72;this.lu=72;this.aAz=k;this.Gl=!0;
this.FS=!1;this.K=I.a("span");this.jw=new al([12,41],0,0,null,0,!1,!0,4);this.K.appendChild(this.jw.K);
this.jw.Q(S.E.k,this.cf,this);var U=["px","%"];if(W)U=U.concat(["cm","mm","in"]);if(B){U=[[12,76,2],[12,76,6]];
if(W)U=U.concat([[12,76,4],[12,76,5],[12,76,3]])}this.x3=new cL(null,U);this.K.appendChild(this.x3.K);
I.zR(this.K);this.x3.Q(S.E.k,this.cf,this);this.qA=new al([12,42],0,0,null,0,!1,!0,4);this.K.appendChild(this.qA.K);
this.qA.Q(S.E.k,this.cf,this);this.Cd=new iC("<img src=\""+PIMG["lrs/chain"]+"\" class=\"autoscale gsicon\" />",!1,[12,51]);
this.Cd.Q("click",this.cf,this);this.Fq=new j1("");this.Fq.K.style.margin="0";this.Fq.K.style.padding="0";
if(q){this.K.appendChild(this.Cd.K);this.K.appendChild(this.Fq.K);this.Cd.ju()}else{var l=this.a2E=new iC("\u21C6",!1,null,!0);
l.Q("click",this.a$,this);this.K.appendChild(l.K)}this.SM=new al("DPI",0,0,null,3,!1,!0,4);this.qw=new cL(null,[["VAR0 / Inch",[12,76,2]],["VAR0 / Cm",[12,76,2]]]);
if(W&&!k){I.zR(this.K);this.K.appendChild(this.SM.K);this.K.appendChild(this.qw.K)}this.qw.Q(S.E.k,this.cf,this);
this.SM.Q(S.E.k,this.cf,this);this.ox=new h$([12,23,1]);this.ox.Q(S.E.k,this.cf,this);if(X){I.zR(this.K);
this.K.appendChild(this.ox.K)}I.zR(this.K)}l2.prototype=new gH;l2.prototype.qL=function(W,q){this.jw.Xo.style.width=this.qA.Xo.style.width=(W-78-this.Cd.Uz())/2+"px"};
l2.prototype.Q6=function(){var W=this.aAz;this.jw.Q6();this.qA.Q6();this.x3.Q6();var q=this.K;I.ru(q);
this.x3.K.style.marginRight="0";q.appendChild(this.jw.K);if(this.a2E)q.appendChild(this.a2E.K);else q.appendChild(this.Cd.K);
q.appendChild(this.qA.K);q.appendChild(this.x3.K);this.SM.Q6();this.qw.Q6();if(!W){I.zR(q);q.appendChild(this.SM.K);
q.appendChild(this.qw.K)}};l2.prototype.DZ=function(){this.jw.DZ()};l2.prototype.adj=function(W,q){this.Gl=W;
if(q!=null)this.FS=q;if(!this.Gl&&!this.FS&&this.x3.V()==0){this.x3.q(4);this.fc()}};l2.prototype.atd=function(W){this.Cd.q(W)};
l2.prototype.l=function(){this.jw.l();this.qA.l();this.SM.l();this.qw.l();this.Cd.l();this.ox.l();this.x3.l()};
l2.prototype.a$=function(W){var q=this.NV.x;this.NV.x=this.NV.y;this.NV.y=q;this.fc();this.T(new ip(S.E.k,!1))};
l2.prototype.cf=function(W){if(W.target==this.x3&&!this.Gl&&!this.FS&&this.x3.V()==0)this.x3.q(4);if(W.target==this.x3||W.target==this.ox){this.fc();
return}if(W.target==this.Cd)W.target.q(!W.target.V());if(W.target==this.qw)window.locStor.setItem("dpiUnit",this.qw.V());
var q=this.pY,X=parseFloat(this.jw.V());if(isNaN(X))X=1;var k=parseFloat(this.qA.V());if(isNaN(k))k=1;
var B=this.SM.V()*[1,2.54][this.qw.V()],U=this.x3.V();if(this.Gl){var l=this.lu;if(U==1){X=this.pY.x*(X/100);
k=this.pY.y*(k/100)}var K=[1,1,2.54/l,25.4/l,1/l][U];X/=K;k/=K;if(this.ox.V()){X+=this.pY.x;k+=this.pY.y}if(W.target==this.SM){var D=B;
if(!this.FS){var m=D/l;X*=m;k*=m}l=D}if(this.Cd.V()){if(W.target==this.jw)k=X*(q.y/q.x);else X=k*(q.x/q.y)}X=Math.max(Math.abs(X),1);
k=Math.max(Math.abs(k),1)}else{var l=this.ajb;if(W.target==this.SM)l=B;else{if(this.Cd.V()){if(W.target==this.jw)k=X*(q.y/q.x);
else X=k*(q.x/q.y)}var K=[1,1,2.54/l,25.4/l,1/l][U],Y=X/(U==1?100:q.x*K);l=l/Y}X=q.x;k=q.y}this.NV=new hw(Math.round(X),Math.round(k));
this.lu=l;this.fc();this.T(new ip(S.E.k,!1))};l2.prototype.IF=function(N){this.x3.q(N);this.fc()};l2.prototype.aJA=function(){return this.x3.V()};
l2.prototype.q=function(W,q,X){var k=window.locStor.getItem("dpiUnit");if(k!=null)this.qw.q(k);if(X!=!0)this.pY=W.P();
this.NV=W.P();if(q!=null){this.ajb=q;this.lu=q}this.fc()};l2.prototype.fc=function(){var W=this.NV.x,q=this.NV.y,X=this.lu,k=(W/q).toFixed(3);
while(k.charAt(k.length-1)=="0")k=k.substring(0,k.length-1);if(k.charAt(k.length-1)==".")k=k.substring(0,k.length-1);
var B="  "+k+" : 1",U=function(Y,a){while(a!=0){var p=a;a=Y%a;Y=p}return Y},l=U(W,q);if(Math.min(W,q)/l<10)B="  "+Math.round(W/l)+" : "+Math.round(q/l);
this.Fq.q(B);if(this.ox.V()){W-=this.pY.x;q-=this.pY.y}var K=this.x3.V();if(K==1){if(this.Gl){W=100*W/this.pY.x;
q=100*q/this.pY.y}else{W=q=100*this.ajb/this.lu}}else{W=Math.round(W);q=Math.round(q)}var D=[1,1,2.54/X,25.4/X,1/X][K];
W*=D;q*=D;var m=K==1||K==2||K==4?2:0;this.jw.WN(m);this.qA.WN(m);this.jw.q(W);this.qA.q(q);this.SM.q(X*[1,1/2.54][this.qw.V()])};
l2.prototype.V=function(){return this.NV.P()};l2.prototype.M0=function(){return this.lu};function bG(W,q,X){gH.call(this);
var k=W==0?["W","H","X","Y"]:["\u250F","\u2517","\u2513","\u251B"];this.pX=W;this.afJ=q;this.aIO=1;this.acw=[1,1,0];
var B=this.K=I.a("div","numlist"),U=I.a("div","flexrow");B.appendChild(U);var l=I.a("div"),K=I.a("div");
U.appendChild(l);U.appendChild(K);I.w(l,"width:100px");I.w(K,"width:100px");var D=this.cV=[];for(var N=0;
N<4;N++){var m=new al(k[N],0,0,null,2,!1,!0,4,null,X&&N<2);m.Q(S.E.k,this.cf,this);(N<2?l:K).appendChild(m.K);
D[N]=m}D[4]=new h$(W==0?[12,51]:[12,91,2]);D[4].q(!0);B.appendChild(D[4].K)}bG.prototype=new gH;bG.prototype.l=function(){var W=this.cV;
for(var N=0;N<5;N++)W[N].l();if(this.pX==0)I.nN(W[0],W[1])};bG.prototype.q=function(W,q){if(q)this.acw=q;
q=this.acw;var X=this.pX==0?[W[2],W[3],W[0],W[1]]:[W[0],W[3],W[1],W[2]];this.aIO=W[2]/W[3];for(var N=0;
N<4;N++){var k=this.cV[N];k.WN(q[2]==0&&this.afJ?0:2);k.q(g.Qs.R5(X[N],q[0],q[1],q[2]))}};bG.prototype.V=function(){var W=[],q=this.acw;
for(var N=0;N<4;N++){var X=g.Qs.ll(this.cV[N].V(),q[0],q[1],q[2]);W[N]=this.afJ?Math.round(X):X}var k=this.pX==0?[W[2],W[3],W[0],W[1]]:[W[0],W[2],W[3],W[1]];
return k};bG.prototype.cf=function(W){var q=this.pX,X=this.cV.indexOf(W.currentTarget),k=this.V(),B=this.cV[4].V();
if(q==0){k[2]=Math.max(1,k[2]);k[3]=Math.max(1,k[3]);if(B&&X==0)k[3]=k[2]/this.aIO;if(B&&X==1)k[2]=k[3]*this.aIO}if(q==1){k[X]=Math.max(0,k[X]);
if(B)for(var N=0;N<4;N++)k[N]=k[X]}this.q(k,null);this.T(new ip(S.E.k,!1))};function iH(W){gH.call(this);
this.a7E=0;this.Du=[0,0,1,1,100,100];this.iq=[10,5,1,1,4,3,3,2,16,9];this.a2M=0;this.auh=72;this.afZ=W;
this.K=I.a("span","fitem");this.QH=new cL(null,[[12,89,0],[12,89,1],[12,89,2],"Original Ratio","1 : 1","4 : 3","3 : 2","16 : 9"],[3,5]);
this.K.appendChild(this.QH.K);this.QH.Q(S.E.k,this.cf,this);this.jw=new al("W",0,0,null,2,!1,!0);this.K.appendChild(this.jw.K);
this.jw.Q(S.E.k,this.cf,this);var q=this.X$=new iC("\u21C4",!1,null,!0);q.Q("click",this.a$,this);this.K.appendChild(q.K);
this.qA=new al("H",0,0,null,2,!1,!0);this.K.appendChild(this.qA.K);this.qA.Q(S.E.k,this.cf,this);this.SM=new al("New DPI",0,0,null,3,!1,!0,4);
this.SM.Q(S.E.k,this.cf,this);this.q({t:0,x:0,y:0})}iH.prototype=new gH;iH.prototype.YC=function(W){this.iq[0]=W[0];
this.iq[1]=W[1];var q=this.V();this.auh=W[2];this.a2M=W[3];this.q(q)};iH.prototype.l=function(){I.nN(this.jw,this.qA);
this.SM.l();this.QH.l()};iH.prototype.a$=function(W){var q=this.qA.V();this.qA.q(this.jw.V());this.jw.q(q);
this.cf(W)};iH.prototype.cf=function(W){if(W.target==this.QH){var N=this.QH.V(),q=this.Du,X=this.SM.K;
if(N==2&&X.parentNode==null&&this.afZ)this.K.appendChild(X);if(N!=2&&X.parentNode!=null)this.K.removeChild(X);
if(N>2){N-=3;var k=this.iq[2*N],B=this.iq[2*N+1];q[2]=k;q[3]=B;this.jw.q(k);this.qA.q(B);this.QH.q(1)}var U=this.V();
q[this.a7E*2]=U.x;q[this.a7E*2+1]=U.y;this.a7E=U.t;this.q({t:U.t,x:q[U.t*2],y:q[U.t*2+1]})}if(this.jw.V()<1)this.jw.q(1);
if(this.qA.V()<1)this.qA.q(1);this.T(new ip(S.E.k,!1))};iH.prototype.q=function(W){this.QH.q(W.t);var q=W.x,X=W.y;
if(W.t==2){var k=this.a2M,B=this.auh,U=this.iq;q=g.Qs.R5(W.x,B,U[0],k);X=g.Qs.R5(W.y,B,U[1],k)}this.jw.q(q);
this.qA.q(X);if(W.t==0){this.jw.Ti();this.qA.Ti();this.X$.Ti()}else{this.jw.JZ();this.qA.JZ();this.X$.JZ()}};
iH.prototype.V=function(){var W=this.jw.V(),q=this.qA.V(),X=this.QH.V();if(X==2){var k=this.a2M,B=this.auh,U=this.iq;
W=g.Qs.ll(W,B,U[0],k);q=g.Qs.ll(q,B,U[1],k);W=Math.round(W);q=Math.round(q)}var l={t:X,x:W,y:q},K=this.SM.V();
if(this.afZ&&K!=0)l.mC=K;return l};function aw(W){gH.call(this);this.K=I.a("span","");this.aEn=W;var q=W?100:300;
this.lg=new dM("Off X",-q,q,W?"%":"px",0,!W);this.Bj=new dM("Off Y",-q,q,W?"%":"px",0,!W);this.lg.Q(S.E.k,this.cf,this);
this.Bj.Q(S.E.k,this.cf,this);this.K.appendChild(this.lg.K);this.K.appendChild(this.Bj.K)}aw.prototype=new gH;
aw.prototype.l=function(){this.lg.l();this.Bj.l()};aw.prototype.cf=function(W){this.T(new ip(S.E.k,!1))};
aw.prototype.ayz=function(W){this.lg.q(W.x);this.Bj.q(W.y)};aw.prototype.arN=function(){return new hw(this.lg.V(),this.Bj.V())};
aw.prototype.q=function(W,q){var X=W.Hrzn.v,k=W.Vrtc.v;if(this.aEn){X=X.val;k=k.val}this.lg.q(X);this.Bj.q(k);
if(q==!0)this.cf()};aw.prototype.V=function(){var W=this.lg.V(),q=this.Bj.V();if(this.aEn)return{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:W}},Vrtc:{t:"UntF",v:{type:"#Prc",val:q}}};
else return{classID:"Pnt",Hrzn:{v:W,t:"doub"},Vrtc:{v:q,t:"doub"}}};function ht(W,q){gH.call(this);this.K=I.a("button");
this.ms=[{A4:3,Vt:[]},{A4:3,Vt:[12,6],VT:0},{A4:3,Vt:[0,6],VT:1,WA:1}];this.bN=kE.Hr.wy();this.aom=W;
this.zw=q;this.K.addEventListener("click",this.Gd.bind(this),!1);var X=I.a("canvas","gsicon");this.Ca=X.getContext("2d");
this.K.appendChild(X);var k=I.a("span");k.textContent=" \u25BC";this.K.appendChild(k);this.GQ=new gH;
this.GQ.parent=this;this.GQ.K=I.a("div","floatcont form label6");var B=this.GQ.K;I.w(B,"width: 15em;");
this.Bv=[q?new h$("Fill First"):new cL([12,40],[[19,5,2],[19,5,1],[19,5,0]]),new i3([19,9,0],["<img src=\""+PIMG["caps/butt"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/square"]+"\" class=\"autoscale gsicon\" />"]),new i3([19,9,1],["<img src=\""+PIMG["joins/miter"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/bevel"]+"\" class=\"autoscale gsicon\" />"]),new al("Limit",1,50,null,null,null,!0,2.5),new kD([19,9,2])];
for(var N=0;N<this.Bv.length;N++){var U=this.Bv[N];if(cC==0||N!=0||!q)B.appendChild(U.K);U.Q(S.E.k,this.cf,this)}I.zR(B);
this.$v=[];var l=this.JV.bind(this);for(var N=0;N<this.ms.length;N++){var K=I.a("button","fitem");this.$v.push(K);
B.appendChild(K);K.addEventListener("click",l,!1);var X=I.a("canvas","gsicon"),D=X.getContext("2d");
K.appendChild(X);this.ayT(D,40,20,this.ms[N])}}ht.prototype=new gH;ht.prototype.Gd=function(W){var q=this.K.getBoundingClientRect(),X=new ip(S.E.H,!0);
X.data={R:S.m.k8,ii:this.GQ,x:q.left,y:q.top+q.height+4,Ve:!0};this.T(X)};ht.prototype.cf=function(W){var q=this.Bv,X=q.indexOf(W.target),k=q[X].V(),B=this.bN;
if(X==0)B.EE=this.zw?k?1:0:k;if(X==1)B.VT=k;if(X==2)B.WA=k;if(X==3)B.Mj=k;if(X==4){var U=B.Vt=k==""?[]:k.split(" ").map(parseFloat);
if(!this.aom)for(var N=0;N<U.length;N++)U[N]*=B.A4}this.T(new ip(S.E.k,!1))};ht.prototype.JV=function(W){var q=this.$v.indexOf(W.currentTarget),X=this.ms[q],k=this.bN;
if(X.VT!=null)k.VT=X.VT;if(X.WA!=null)k.WA=X.WA;k.Vt=X.Vt.slice(0);if(k.A4==null)k.A4=3;for(var N=0;
N<k.Vt.length;N++)k.Vt[N]*=k.A4/X.A4;this.T(new ip(S.E.k,!1))};ht.prototype.l=function(){for(var N=0;
N<this.Bv.length;N++)this.Bv[N].l()};ht.prototype.q=function(W){this.bN=g.N(W);var q=this.Bv;if(W.EE!=null)q[0].q(this.zw?W.EE==1:W.EE);
if(W.VT!=null)q[1].q(W.VT);if(W.WA!=null)q[2].q(W.WA);if(W.Mj!=null)q[3].q(W.Mj);q[3].Si(W.WA==0);if(W.Vt!=null){var X=W.Vt.slice(0);
if(!this.aom)for(var N=0;N<X.length;N++)X[N]/=W.A4;q[4].q(X.join(" "))}this.ayT(this.Ca,40,16,W)};ht.prototype.V=function(){return g.N(this.bN)};
ht.prototype.ayT=function(W,q,X,k){I.JO(W.canvas,q,X);var B=k.Vt?k.Vt:[],U=k.A4;if(U==null)U=3;else{U=Math.min(5,U);
B=B.slice(0);for(var N=0;N<B.length;N++)B[N]*=U/k.A4}W.clearRect(0,0,q,X);W.setLineDash(B);W.lineCap=["butt","round","square"][k.VT];
W.lineJoin=["miter","round","bevel"][k.WA];W.lineWidth=U;W.beginPath();W.moveTo(0,X/2);W.lineTo(q*2,X/2);
W.stroke()};function dh(W){j5.call(this,W,!1,"contourbutton",34*13,16*13,aI.EV,!0);this.xg=new kD([12,86],null,16);
this.xg.Q("input",this.kR,this);this.GQ.K.appendChild(this.xg.K);this.a95=null;this.S6="";this.D$=null;
this.q(jz.wy())}dh.prototype=new j5;dh.prototype.l=function(){j5.prototype.l.call(this);this.xg.l()};
dh.prototype.w9=function(W){this.q(this.a95[W.target.V()[0]]);this.T(new ip(S.E.k))};dh.prototype.kR=function(W){this.S6=this.xg.V().toLowerCase();
this.awl()};dh.aKe=!1;dh.prototype.zv=function(){if(!this.rC)return;var W=this.Uv;if(W==null||!dh.aKe){var q=new ip(S.E.H,!0);
q.data={R:S.m.i3,rl:{url:"rsrc/basic/fa.zip"}};this.T(q);dh.aKe=!0}else{var X=Date.now(),k=Math.floor(38*I.W$()),B=Math.floor(38*I.W$());
this.D$=[];for(var N=0;N<W.length;N++){if(W[N].aiI==null)W[N].aiI=dh.aBt(W[N],k,B);this.D$.push(W[N].aiI)}this.awl();
this.rC=!1}};dh.prototype.awl=function(){var W=Math.floor(38*I.W$()),q=Math.floor(38*I.W$());this.a95=[];
var X=[],k=[],B=this.Uv;for(var N=0;N<B.length;N++){if(B[N].s$.toLowerCase().indexOf(this.S6)==-1)continue;
this.a95.push(B[N]);X.push(this.D$[N]);k.push(B[N].s$)}this.k1.Zx(X,k,W,q)};dh.prototype.q=function(W){this.dQ=dh.P(W);
this.Y1()};dh.prototype.Y1=function(){var W=Math.floor(23*I.W$()),q=Math.floor(23*I.W$()),X=dh.aBt(this.dQ,W,q);
this.SB.setAttribute("src",X);I.Xv(this.SB,W,q)};dh.prototype.V=function(){return dh.P(this.dQ)};dh.P=function(W){return{s$:W.s$,M$:W.M$,G:b.jY.zx(W.G),IH:W.IH.P()}};
dh.mL=null;dh.Ca=null;dh.aBt=function(W,q,X){var k=W.IH,B=Math.min(q/k.r,X/k.$)*.9,U=new ka;U.translate(-.5,-.5);
U.scale(.95,.95);U.translate(.5,.5);U.scale(B*k.r,B*k.$);U.translate((q-B*k.r)/2,(X-B*k.$)/2);var l=g.Nm(q,X);
l.save();l.fillStyle="black";l.clearRect(0,0,q,X);l.setTransform(U.iM,U.X,U.bO,U.kv,U.Wy,U.rY);g.z.bZ(W.G,l,0,0);
l.restore();var K=UPNG.encode([l.getImageData(0,0,q,X).data.buffer],q,X,0);return"data:image/png;base64,"+lf.KT(K)};
function aP(W){j5.call(this,W,!1,"ICCButton",16*13,12*13,aI.pN,!0);this.k1.Lb(1)}aP.prototype=new j5;
aP.prototype.JE=function(){var W="Arabica 12,Ava 614,Azrael 93,Bourbon 64,Byers 11,Clayton 33,Clouseau 54,Cobi 3,Contrail 35,Cubicle 99,Django 25,Domingo 145,Faded 47,Folger 50,Fusion 88,Hyla 68,Chemical 168,Korben 214,Lenox 340,Lucky 64,McKinnon 75,Milo 5,Neon 770,Paladin 1875,Pasadena 21,Pitaya 15,Reeve 38,Remy 24,Sprocket 231,Teigen 28,Trent 18,Tweed 71,Vireo 37,Zed 32,Zeke 39".split(",");
for(var N=0;N<W.length;N++)W[N]="luts/"+W[N]+".CUBE";return W};aP.prototype.w9=function(W){this.q(this.Uv[W.target.V()]);
this.T(new ip(S.E.k))};aP.prototype.zv=function(){if(!this.rC)return;var W=Math.floor(1*I.W$()),q=Math.floor(1*I.W$()),X=[],k=[],B=this.Uv;
for(var N=0;N<B.length;N++){var U=B[N].Nm.v.split("\\").pop().split("/").pop();k.push(U);X.push(aP.K$(B[N],W,q))}this.k1.Zx(X,k,W,q);
this.rC=!1};aP.K$=function(W,q,X){var k=I.a("canvas"),l="ICC / 3DL / look / cube";k.width=q;k.height=X;
var B=k.getContext("2d"),U=Math.floor(14*I.W$());B.font=U+"px sans-serif";if(W.Nm)l=W.Nm.v.split("\\").pop().split("/").pop();
B.fillText(l,10,U);return k.toDataURL()};aP.prototype.Y1=function(){var W=Math.floor(120*I.W$()),q=Math.floor(20*I.W$());
this.SB.setAttribute("src",aP.K$(this.dQ,W,q));I.Xv(this.SB,W,q)};function gd(){gH.call(this);this.FT=null;
this.K=I.a("span","fitem");this.To=new gB([14,9]);this.ami=new al(null,0,150,"px",1,!0,null,null,[19,2,5]);
this.CA=new ht;this.N1=[this.To,this.ami,this.CA];for(var N=0;N<this.N1.length;N++){var W=this.N1[N];
this.K.appendChild(W.K);W.parent=this;W.Q(S.E.k,this.cf,this)}}gd.prototype=new gH;gd.prototype.l=function(){for(var N=0;
N<this.N1.length;N++)this.N1[N].l()};gd.prototype.QL=function(W,q){this.To.QL(W,q)};gd.prototype.cf=function(W){var q=this.FT,X=this.To.V();
kE.pi(q,X);q.strokeStyleLineWidth.v.val=this.ami.V();if(W.target==this.CA)kE.Cs.write(q,this.CA.V());
this.FT=q;this.T(new ip(S.E.k,!1))};gd.prototype.q=function(W,q,X){this.FT=g.N(q);var k=kE.fM(q);this.To.q(W,k,X);
this.ami.q(q.strokeStyleLineWidth.v.val);this.CA.q(kE.Cs.IZ(q))};gd.prototype.V=function(){return g.N(this.FT)};
function ib(W){var q=[[18,0],[18,1],[18,2],[18,3]],X=i3.NQ(["set/front","set/union","set/difference","set/intersection"]);
i3.call(this,W?[12,36]:null,X,q)}ib.prototype=new i3;function hY(){gH.call(this);this.K=I.a("button","fitem bbtn");
I.aA(this.K,this.VV.bind(this));this.GQ=new gH;this.GQ.K=I.a("div","floatcont form");I.w(this.GQ.K,"max-width: 200px;");
this.GQ.parent=this;var W=iT;this.W5=[new h$("Start"),new h$("End"),new W([12,41],0,100,"px",null,!0,null,!0),new W([12,80,0],0,100,"px",null,!0,null,!0),new W("Concavity",-50,50,"%",null,null,null,!0)];
for(var N=0;N<this.W5.length;N++){var q=this.W5[N];q.parent=this;q.Q(S.E.k,this._t,this);this.GQ.K.appendChild(q.K)}this.aHH=I.a("div");
this.GQ.K.appendChild(this.aHH)}hY.prototype=new gH;hY.prototype.q=function(W){for(var N=0;N<5;N++)this.W5[N].q(W[N]);
this.L8()};hY.prototype.V=function(W){var q=[];for(var N=0;N<5;N++)q[N]=this.W5[N].V();return q};hY.prototype.l=function(){this.K.textContent=js.get([12,93,4]);
for(var N=0;N<this.W5.length;N++)this.W5[N].l()};hY.prototype._t=function(W){this.T(new ip(S.E.k,!1));
this.L8()};hY.prototype.L8=function(W){var q=this.V(),X=200,k=60;q[2]/=I.W$();q[3]/=I.W$();var B=g.z.oz.CE(0,k/2,X,k/2,5,q),U=g.z.eK(B);
this.aHH.innerHTML="<svg width=\""+X+"\" height=\""+k+"\" class=\"gsicon\">\t\t\t<path d=\""+U.wb+"\" />\t\t\t</svg>"};
hY.prototype.VV=function(W){if(I.rL(this.GQ.K))return;W.stopPropagation();var q=this.K.getBoundingClientRect(),X=new ip(S.E.H,!0);
X.data={R:S.m.k8,ii:this.GQ,x:q.left,y:q.top+q.height,Ve:!0};this.T(X)};function eS(){gH.call(this);
this.K=I.a("div");this.cV=[];this.amX=[];var W=this.Gb=I.a("div"),q=I.a("h2");q.textContent="Create Teams";
W.appendChild(q);q.style.margin="26px 0 16px 0";var X=new iC("More about Teams",!1,null,!0);q.appendChild(X.K);
X.K.style.float="right";X.Q("click",this.agC,this);this._4=I.a("div");W.appendChild(this._4);this.acQ=new kD("Team Name",null,10);
W.appendChild(this.acQ.K);var k=this.a8O=new iC("Create Team",null,null,!0);W.appendChild(k.K);k.Q("click",this.aGK,this);
var q=I.a("h2");q.textContent="Join Teams";W.appendChild(q);q.style.margin="26px 0 16px 0";this.eF=I.a("div");
W.appendChild(this.eF);this.afP=new kD("Team ID",null,10);W.appendChild(this.afP.K);var k=new iC("Join Team",null,null,!0);
W.appendChild(k.K);k.Q("click",this.aGK,this);this.aAZ;this.a5y=this.V9.bind(this);this.ajH=this.aaq.bind(this);
this.aaJ=!1;this.qJ();this.et=null;this.ahT=""}eS.prototype=new gH;eS.prototype.agC=function(W){var q=new ip(S.E.H,!0);
q.data={R:S.m.p4,link:"https://www.photopea.com/api/accounts#teams"};this.T(q)};eS.prototype.qJ=function(){clearTimeout(this.aFe);
this.aFe=setTimeout(this.ajH,this.et?10:3e3)};eS.prototype.aaq=function(){var W=gv.XV();if(document.hidden||!I.rL(this.K)||W==null){this.qJ();
return}var q=gv.Ol();if(this.et==null&&q==null)return;gv.Wt(this.et?this.et:q,this.a5y);this.aaJ=!0;
this.et=null};eS.prototype.ard=function(W){W.acc.update=!0;this.K.style.pointerEvents="none";this.K.style.opacity="0.5";
if(this.aaJ)this.et=W;else{clearTimeout(this.aFe);gv.Wt(W,this.a5y)}};eS.prototype.Da=function(W){var q=typeof W=="string"?this.aAZ:this.cV.indexOf(W.target),X=this.amX[q],k=X[0],B=gv.Ol();
if(B==null)B={};var U=B.acc,l=U.tjoin,K=U.tstart;if(k=="leave"){l.splice(l.indexOf(X[1]),1)}if(k=="add"||k=="remove"||k=="delTeam"||k=="showRename"||k=="rename"){var D=-1,m=0;
for(var N=0;N<K.length;N++){m+=K[N][1].length;if(K[N][2]==X[1])D=N}var Y=K[D];if(k=="add"){var a=gv.jj();
if(a&&a[0]==0&&a[1][2]<=m){alert("You can have at most "+a[1][2]+" members in your Premium.");return}Y[1].push(X[2])}if(k=="remove")Y[1].splice(Y[1].indexOf(X[2]),1);
if(k=="delTeam"){if(Y[1].length!=0){alert("Remove members first.");return}K.splice(D,1)}if(k=="showRename"){var p=new ip(S.E.H,!0);
p.data={R:S.m.K_,ud:"namewindow",bG:Y[0],tO:this.Da.bind(this)};this.T(p);this.aAZ=q;X[0]="rename";return}if(k=="rename")Y[0]=W}this.ard(B)};
eS.prototype.aGK=function(W){var q=this.a8O==W.target,X=(q?this.acQ:this.afP).V().trim();if(X==""){alert("The Team "+(q?"Name":"ID")+" is empty.");
return}if(!q){X=parseInt(X);if(isNaN(X)){alert("The ID must be a number");return}}var k=gv.Ol();if(k==null)k={};
var B=k.acc;if(B==null)B=k.acc={};var U=B.tstart,l=B.tjoin;if(q){if(U==null)U=B.tstart=[];if(U.length>5){alert("You can have at most 5 teams");
return}U.push([X,[]])}else{if(U)for(var N=0;N<U.length;N++)if(U[N][2]==X){alert("You are the owner of this team");
return}if(l==null)l=B.tjoin=[];if(l.indexOf(X)!=-1){alert("You already asked to join this team.");return}B.tjoin.push(X)}B.update=!0;
this.ard(k)};eS.prototype.V9=function(){this.aaJ=!1;var W=gv.XV(),q=W!=null,X=this.Gb.parentNode!=null;
if(q!=X){I.ru(this.K);if(q)this.K.appendChild(this.Gb);else this.K.textContent="Log In to access Team Settings."}if(!q)return;
var k=gv.Ol();if(k==null)k={};var B=k.acc;if(B==null)B={};var U=JSON.stringify(B)+"===="+JSON.stringify(W);
if(U!=this.ahT){this.ahT=U;var l=this._4,K=this.eF;I.ru(l);I.ru(K);var D=this.cV=[],m=this.amX=[],Y=this.Da.bind(this);
function a(H,T){H.addEventListener("click",Y);D.push(H);m.push(T)}function p(o,H){var u=I.a("div"),T="rgba(255,255,255,0.15)";
u.appendChild(x("ID: "+o[2],54,T));u.appendChild(x(o[0],160,null,!0));if(H){u.appendChild(x(o[1].length+" members",80,null,!0))}else{u.appendChild(x(o[1]==-1?"... not accepted yet":"Accepted",160));
if(Date.now()<o[1]*1e3)u.appendChild(x("Premium",80,"rgba(0,140,0,1)"))}var e=x("",120);u.appendChild(e);
I.w(e,"float:right;text-align:right");if(H){var z=new iC("Rename",null,null,!0);a(z,["showRename",o[2]]);
e.appendChild(z.K)}var z=new iC(H?"Delete":"Leave",null,null,!0);a(z,[H?"delTeam":"leave",o[2]]);e.appendChild(z.K);
return u}function M(H,T,Q){var u=I.a("div");u.style.paddingLeft="46px";u.appendChild(x(T?"\u2713":"...",8,T?"#229922":"#aa7700"));
u.appendChild(x(H[1],200));u.appendChild(x(H[2],240));var e=x("",120);u.appendChild(e);I.w(e,"float:right;text-align:right");
var z=new iC(T?"Remove":"Add",null,null,!0);a(z,[T?"remove":"add",Q,H[0]]);e.appendChild(z.K);return u}function x(H,T,e,z){var J=I.a("span");
J.textContent=H;I.w(J,"display:inline-block;  padding:0 10px;  border-radius:4px;  overflow:hidden;  width:"+T+"px;  "+(e!=null?"background-color:"+e+";":"")+(z?"font-weight:bold;":""));
return J}var R=B.tstart,y=B.tjoin,s=W.wantToJoin,F=W.inTeams;if(R)for(var E=0;E<R.length;E++){var o=R[E],G=s["t"+o[2]];
if(G==null)G=[];var d={};for(var N=0;N<G.length;N++)d["u"+G[N][0]]=G[N];var u=p(o,!0);l.appendChild(u);
u.style.marginTop="10px";for(var N=0;N<o[1].length;N++){var r=o[1][N],v=d["u"+r];if(v==null)v=[r,"========","... user has left your team"];
delete d["u"+r];var c=M(v,!0,o[2]);l.appendChild(c)}for(var V in d){var v=d[V],c=M(v,!1,o[2]);l.appendChild(c)}}if(y){var j={};
for(var N=0;N<F.length;N++)j["t"+F[N][2]]=F[N];for(var E=0;E<y.length;E++){var Q=y[E],o=j["t"+Q],u=p(o?o:["==========",-1,Q],!1);
K.appendChild(u)}}this.T(new ip(S.E.k))}if(this.et==null){this.K.style.pointerEvents="auto";this.K.style.opacity="1"}this.qJ()};
function eI(){gH.call(this);this.K=I.a("span","fitem SymButton");var W=this.Aa=new iC("<img src=\""+PIMG.sym+"\" class=\"autoscale gsicon\" />");
this.K.appendChild(W.K);I.DA(W.K,this.Tv.bind(this));this.fi=null;this.l()}eI.prototype=new gH;eI.prototype.l=function(){if(this.fi)this.fi.l()};
eI.prototype.Tv=function(W){var q=this.fi;if(q==null){var X=40,k=40,B=I.a("canvas"),U=B.getContext("2d");
B.width=X;B.height=k;var l=new ka(X,0,0,k,0,0);U.lineWidth=2;var K=[{name:"No Symmetry",nC:!0}],D=g.Rv.list,m=[{s:S.E.O,J:_.ZA,p:{R:"pathedit",w7:"sspath",_:-1}}];
for(var N=0;N<D.length;N++){U.clearRect(0,0,X,k);var Y=g.Rv.Ea(N,5);g.b.M(Y.n,l,Y.n);for(var a=0;a<Y.n.length;
a++)Y.n[a]=Math.round(Y.n[a]);U.beginPath();Typr.U.pathToContext({cmds:Y.zb,crds:Y.n},U);U.rect(0,0,X,k);
U.stroke();var p={name:D[N][0],S7:U.canvas.toDataURL()};K.push(p);if(N<8)m.push({s:S.E.O,J:_.ZA,p:{R:"pathedit",w7:"new",gY:[N,0]}});
else{p.sub=[];var M={sub:[]};m.push(M);for(var a=0;a<12;a++){p.sub.push({name:"Rays: "+(2+a)});M.sub.push({s:S.E.O,J:_.ZA,p:{R:"pathedit",w7:"new",gY:[N,2+a]}})}}}K[K.length-1].nC=!0;
K.push({name:"Selected Path"},{name:"Transform Symmetry"});m.push({s:S.E.O,J:_.ZA,p:{R:"pathedit",w7:"sspath",_:0}},{s:S.E.O,J:_.ZA,p:{R:"pathedit",w7:"sspath",_:1}});
q=this.fi=new j_(K,m)}var x=this.Aa.K.getBoundingClientRect();q.l();q.parent=this;var M=new ip(S.E.H,!0);
M.data={R:S.m.k8,ii:q,x:x.x,y:x.y+x.height};this.T(M)};function ad(){gH.call(this);this.Ji=[16,!0,!0];
this.K=I.a("span","");this.MS=[new al([12,24],0,255),new h$([12,25,1]),new h$([12,25,0])];for(var N=0;
N<3;N++){var W=this.MS[N];W.parent=this;W.q(this.Ji[N]);this.K.appendChild(W.K);W.Q(S.E.k,this.cf,this)}}ad.prototype=new gH;
ad.prototype.cf=function(){for(var N=0;N<3;N++)this.Ji[N]=this.MS[N].V();this.T(new ip(S.E.k,!1))};ad.prototype.q=function(W){this.Ji=W.slice(0);
for(var N=0;N<3;N++)this.MS[N].q(W[N])};ad.prototype.V=function(){return this.Ji.slice(0)};ad.prototype.l=function(){for(var N=0;
N<3;N++)this.MS[N].l()};function iY(W,q){gH.call(this);if(q==null)q=!1;this.D$=[];this.aeM=Math.floor(120*I.W$());
this.aEf=Math.floor(23*I.W$());this.mG=0;this.yj=[];this.Y7=[];for(var X in g.NP.I){if((X=="warpCustom"||X=="warpCylinder")&&!q)continue;
this.yj.push(X);this.Y7.push(g.NP.I[X])}this.K=I.a("span","fitem warpbutton");this.GQ=new gH;this.GQ.K=I.a("div","floatcont");
if(W){this.IE=W;this.hF=I.a("label","flabel");this.K.appendChild(this.hF)}this.R=I.a("button");this.K.appendChild(this.R);
I.aA(this.R,this.VV.bind(this));this.PB=new eX(!0);this.GQ.K.appendChild(this.PB.K);this.PB.Q(S.E.k,this.acX,this);
I.w(this.GQ.K,"width:"+Math.floor(8+this.aeM/I.W$())+"px;");this.l()}iY.prototype=new gH;iY.prototype.tB=function(W){this.hF.textContent=W};
iY.prototype.l=function(){if(this.IE)this.hF.innerHTML=js.get(this.IE)+":";this.Y1()};iY.a9P={};iY.aqk=function(W,q,X){var k=js.get(g.NP.I[W]),B=k+"-"+W+"-"+q+"-"+X,U=iY.a9P[B];
if(U)return U;var l=iY.Ca;if(K==null){var K=I.a("canvas");l=iY.Ca=K.getContext("2d")}var K=l.canvas;
if(K.width!=q||K.height!=X){K.width=q;K.height=X}l.font=Math.floor(13*I.W$())+"px sans-serif";l.lineWidth=1;
l.strokeStyle="#000000";var D=Math.floor(16*I.W$()),m=new dU(0,0,D,D);l.clearRect(0,0,K.width,K.height);
var Y=g.NP.NP(W,W=="warpCylinder"?[0,0,1,1,-.2,-.3,1]:.3,!0,0,0,1);g.NP.ava(Y[3],m);var a=g.b.Lw(m);
a.zb.push("M","L","M","L");a.n.push(0,D/2,D,D/2);a.n.push(D/2,0,D/2,D);a=g.b.E_(a);a=g.b.d5(a,D/5);g.my.M(Y,a.n,m);
g.b.M(a.n,new ka(1,0,0,1,Math.floor(8*I.W$())+.5,Math.floor(3*I.W$())+.5),a.n);l.beginPath();Typr.U.pathToContext({cmds:a.zb,crds:a.n},l);
l.stroke();l.fillText(k,Math.floor(40*I.W$()),Math.floor(16*I.W$()));U=iY.a9P[B]=K.toDataURL();return U};
iY.prototype.VV=function(W){if(I.rL(this.GQ.K))return;W.stopPropagation();var q=this.aeM,X=this.aEf;
for(var N=0;N<this.yj.length;N++)this.D$[N]=iY.aqk(this.yj[N],q,X);this.PB.Zx(this.D$,null,q,X);var k=this.R.getBoundingClientRect(),B=new ip(S.E.H,!0);
B.data={R:S.m.k8,ii:this.GQ,x:k.left,y:k.top+k.height+4};this.T(B)};iY.prototype.acX=function(W){var q=new ip(S.E.H,!0);
q.data={R:S.m.bD,ii:this.GQ};this.T(q);this.mG=W.target.V()[0];this.Y1();this.T(new ip(S.E.k))};iY.prototype.Y1=function(){var W=this.aeM,q=this.aEf;
this.PB.q([this.mG]);this.R.innerHTML="<img src=\""+iY.aqk(this.yj[this.mG],W,q)+"\" class=\"gsicon\" />";
I.Xv(this.R.firstChild,W,q)};iY.prototype.V=function(){return this.yj[this.mG]};iY.prototype.q=function(W){this.mG=this.yj.indexOf(W);
this.Y1()};function dR(W,q,X){gH.call(this);if(W==null)W=!1;if(q==null)q=!1;if(X==null)X=!1;this.ak5=q;
this.NP=null;this.s7=new iY([12,22],X);this.s7.parent=this;this.s7.Q(S.E.k,this.qz,this);this.Po=new cL([22,0],[[22,4,0],[22,4,1]]);
this.Po.Q(S.E.k,this.qz,this);var k=W?al:iT;this.sL=new k([22,1],-100,100,"%");this.qk=new k("Horizontal Distortion:",-100,100,"%");
this.Sr=new k("Vertical Distortion:",-100,100,"%");this.sL.parent=this.qk.parent=this.Sr.parent=this;
this.sL.Q(S.E.k,this.qz,this);this.qk.Q(S.E.k,this.qz,this);this.Sr.Q(S.E.k,this.qz,this)}dR.prototype=new gH;
dR.prototype.l=function(){this.s7.l();this.Po.l();this.sL.l();var W=this.ak5?1:100;this.qk.tB(js.get([22,2]).substring(0,W)+":");
this.Sr.tB(js.get([22,3]).substring(0,W)+":")};dR.prototype.qz=function(){var W=this.NP,q=this.s7.V(),X=W.warpStyle.v.warpStyle;
if(q=="warpCustom")g.NP.C1(W,g.NP.qP(W));else delete W.customEnvelopeWarp;W.warpStyle.v.warpStyle=this.s7.V();
W.warpRotate.v.Ornt=["Hrzn","Vrtc"][this.Po.V()];var k=this.sL.V();W.warpPerspective.v=this.qk.V();W.warpPerspectiveOther.v=this.Sr.V();
if(q=="warpNone"||q=="warpCustom"){k=0;W.warpPerspective.v=0;W.warpPerspectiveOther.v=0}else if(X=="warpNone"||X=="warpCustom"||X=="warpCylinder")k=50;
if(q!="warpCylinder"){W.warpValue={t:"doub",v:k};delete W.warpValues}else{W.warpValues=_.Gz.If([0,100,100,0,.15,.2,1]);
delete W.warpValue}this.T(new ip(S.E.k,!1));this.q(W)};dR.prototype.V=function(W){return g.N(this.NP)};
dR.prototype.q=function(W){this.NP=g.N(W);var q=W.warpStyle.v.warpStyle,X=q=="warpNone"||q=="warpCustom"||q=="warpCylinder";
this.s7.q(q);if(!X){this.Po.q(W.warpRotate.v.Ornt=="Hrzn"?0:1);this.sL.q(W.warpValue.v);this.qk.q(W.warpPerspective.v);
this.Sr.q(W.warpPerspectiveOther.v)}var k=[this.Po,this.sL,this.qk,this.Sr];for(var N=0;N<k.length;N++)if(X)k[N].Ti();
else k[N].JZ()};function bU(W,q,X){gH.call(this);this.aAq={};this.K=I.a("div");this.avE=W;this.VZ=null;
this.c5=new hw(0,0);this.p2="position:relative;overflow:hidden;background-color:var(--bg-canvas);";this.a8z=q;
this.a2x=X;this.IX=null;this.Z0=new I.rw(this.K);this.Qh("grab");this.mL=I.a("canvas","canv");this.K.appendChild(this.mL);
this.Ca=this.mL.getContext("2d",{willReadFrequently:!0});this.arR=null;this.IJ=null;this.hx=0;this.abP=0;
this.an_=0;this.atZ=0;this.asC=this.aiB.bind(this);this.ar7=null;this.f=new il({r:1,$:1});this.D6=null;
this.qQ=null;this.zS=[];this.aGX=0;this.ka=0;this.agS=this.S4.bind(this);this.aIw=this.HL.bind(this);
this.aJP=this.qO.bind(this);this.axJ=this.y3.bind(this);this.adA=0;this.H8=null;this.alH(this.mL);this.O6(this)}bU.prototype=new gH;
bU.prototype.aCq=function(W){this.aAq=W;this.oH()};bU.jB=function(W){var q=new bu(!0);if(W>=0)q.BK("Space");
if(W>=1){q.BK("ControlLeft");if(W==2)q.BK("AltLeft")}return q};bU.prototype.jm=function(W){var q=this.IX,X=null;
if(W.D(bu.BC)){X="grab";if(W.D(bu.p7)){X="zoom-in";if(W.D(bu.Wr))X="zoom-out"}}this.VZ=X;if(X)q=X;this.Z0.V9(q,this.p2);
if(W.D(bu.p7)){var k=0;if(W.D(bu.Et))k=1;if(W.D(bu.wn))k=-1;if(k!=0){this.to(new hw(this.mL.width/2,this.mL.height/2),k==1)}}};
bU.prototype.Qh=function(W){this.IX=W;if(this.VZ)return;this.Z0.V9(W,this.p2)};bU.prototype.alH=function(W){I.aA(W,this.agS);
I.TK(W);W.addEventListener("wheel",this.axJ,!1)};bU.prototype.O6=function(W){W.Q("viewchange",this.adS,this)};
bU.prototype.adS=function(W){var q=this.f.$Z,X=W.currentTarget.lD();this.f.$Z=X.$Z;this.f.h=X.h.P();
if(q!=X.$Z)this.xR();this.oH()};bU.prototype.lD=function(){return{$Z:this.f.$Z,h:this.f.h}};bU.prototype.q=function(W,q,X,k){var B=W[0].oq;
if(this.IJ!=null&&this.IJ[0].oq.AB(B)){}else{this.f.LV={r:B.r,$:B.$};this.f.$Z=1;this.f.h=new hw(0,0)}this.IJ=W;
this.xR(k);this.h4();this.hx=0;this.abP=Date.now();this.an_=0;this.atZ=q==null?0:q;if(X)this.aAq=X;this.aiB(k)};
bU.prototype.y3=function(W){W.preventDefault();if(W.deltaY==0||Date.now()-this.adA<100)return;var q=I.IO(W);
q.x=I.W$()*q.x;q.y=I.W$()*q.y;this.adA=Date.now();this.to(q,W.deltaY<0)};bU.prototype.to=function(W,q){_.OK.yX(this.f,W,q);
this.aDD()};bU.prototype.kq=function(W){var q=this.f,X=this.IJ[0].oq;this.f.$Z=_.OK.Xr(X.r,X.$,q.eO.r,q.eO.$);
if(W)this.f.h=new hw(0,0);this.aDD()};bU.prototype.aDD=function(){this.xR();this.T(new ip("viewchange"));
this.T(new ip("zoom"))};bU.prototype.xR=function(W){};bU.prototype.h4=function(){clearTimeout(this.ar7)};
bU.prototype.oH=function(W){if(this.IJ==null||!I.rL(this.mL)||W&&W.PM())return;var q=this.f,X=this.IJ[0].oq,k=q.eO,B=k.r,U=k.$,l=this.arR,o,G=null;
if(l==null||l.length!=k.C()*4){l=this.arR=g.j(k.C()*4);console.log("creating image data")}else l.fill(0);
var K=this.IJ[this.hx],D=this.Ca,m=q.bq(!1),Y=m.P();Y.i5();var a=Date.now(),p=W?W:X,M=g.b.Lw(p).n;g.b.M(M,Y,M);
var x=g.b.DS(M),R=k.x$(x),y=new Uint8Array(l.buffer,0,R.C()*4);il.fY(q.eO);var s=new Uint8Array(il.LI.buffer,0,R.C()*4),F=new Uint8Array(K.data);
if(q.$Z==1){var E=X.P();E.offset(x.x-p.x,x.y-p.y);g.YE(F,E,s,R)}else g.scale.Z6(F,X,m,s,R,!1);if(this.a8z)o=s;
else{o=y;g.Vh(y,R.r,R.$,8,p.x,p.y);g.v.HX("norm",s,R,y,R,R,1)}if(W==null)D.clearRect(0,0,B,U);if(R.C()!=0)D.putImageData(new ImageData(new Uint8ClampedArray(o.buffer,0,R.C()*4),R.r,R.$),R.x,R.y);
if(this.a2x){B=X.r,U=X.$;G=B+" \xD7 "+U+" ("+(B*U/1e6).toFixed(1)+"MP)"}var d=bU.a9T(q.$Z,"#ffffff",G);
D.putImageData(d,0,q.eO.$-d.height);var u=this.aAq;if(u){var r=ex.r9([.1,.5,1,1]),v=ex.r9([1,0,0,1]),c=ex.r9([1,1,1,1]),V=ex.r9([0,0,0,1]),Y=q.bq(!1);
Y.i5();D.save();D.setTransform(Y.iM,Y.X,Y.bO,Y.kv,Y.Wy,Y.rY);D.strokeStyle=v;if(u.akk){ex.iy(u.akk,null,D);
D.lineWidth=1/q.$Z;D.stroke()}D.strokeStyle=c;if(u.aiT){ex.iy(u.aiT,null,D);D.lineWidth=1/q.$Z;D.stroke();
D.strokeStyle=V;D.setLineDash([4/q.$Z,4/q.$Z]);D.stroke();D.setLineDash([])}D.strokeStyle=r;D.fillStyle=ex.r9([1,1,1,1]);
if(u.Qc){ex.iy(u.Qc,null,D);D.lineWidth=1/q.$Z;D.stroke()}if(u.x7){ex._g(u.x7,D,q,.5);D.lineWidth=2/q.$Z;
D.stroke();D.fill()}if(u.J$){D.font=16/q.$Z+"px sans-serif";var j=1/q.$Z;for(var N=0;N<u.J$.length;N++){var Q=u.J$[N],H=Q[0],T=Q[1]+6/q.$Z,e=Q[2];
D.fillStyle="black";D.fillText(e,H-j,T);D.fillText(e,H+j,T);D.fillStyle="white";D.fillText(e,H,T)}}D.restore()}D.getImageData(0,0,1,1)};
bU.a2J="";bU.aJ$=null;bU.a9T=function(W,q,X){if(X==null)X="";var k="z"+W+","+q+","+X;if(k==bU.a2J)return bU.aJ$;
var B=Math.round(50*I.W$()),U=Math.round(18*I.W$()),l=X==""?0:Math.round((X.length+2)*U*.35),K=I.a("canvas"),D=K.getContext("2d");
K.width=B+l;K.height=U;D.fillStyle="rgba(1,1,1,1)";D.fillRect(0,0,B,U);if(X!="")D.fillRect(B+2,0,l,U);
D.font=Math.round(11*I.W$())+"px monospace";D.fillStyle=q;var m=W*100;if(m<100)m=m.toFixed(2);else m=Math.round(m);
m=m+"%";var Y=D.measureText(m).width;D.fillText(m,(B-Y)/2,Math.round(U*.7));if(X!=""){var a=D.measureText(X).width;
D.fillText(X,B+(l-a)/2+1,Math.round(U*.7))}var p=D.getImageData(0,0,B+l,U);bU.a2J=k;bU.aJ$=p;return p};
bU.prototype.aiB=function(W){var q=this.IJ,X=q.length,k=this.hx,B=this.IJ[k],U=(k+1)%X;this.oH(W);var l=Date.now();
if(X!=1&&q[U].oq.AB(B.oq)){var K=B.vk?parseInt(B.vk.split(",").pop()):30;if(K==0)K=16;if(U==0)this.an_++;
if(this.atZ==0||this.an_<this.atZ)this.ar7=setTimeout(this.asC,K)}this.hx=U;this.abP=l};bU.prototype.qL=function(W,q){if(W<=0||q<=0)return;
var X=Math.floor(W*I.W$()),k=Math.floor(q*I.W$());this.f.eO=new dU(0,0,X,k);this.mL.width=X;this.mL.height=k;
I.w(this.mL,"width:"+X/I.W$()+"px; height:"+k/I.W$()+"px; display:block;");this.oH()};bU.prototype.WI=function(W){var q=-1,X=this.zS;
for(var N=0;N<X.length;N++)if(X[N].pointerId==W.pointerId)q=N;return q};bU.prototype.S4=function(W){var q=this.WI(W),X=this.zS;
if(q!=-1)X[q]=W;else X.push(W);if(X.length==1){this.H8=W.target;I.wO(window,this.aIw);I.DA(window,this.aJP);
this.D6=I.IO(W,this.mL);this.D6.x*=I.W$();this.D6.y*=I.W$();this.c5=this.D6;this.qQ=this.f.h.P();if(this.avE&&this.H8==this.mL&&!this.VZ)this.T(new ip("mousedown"))}else this.aGX=this.ka=hw.tj(I.IO(X[0],this.mL),I.IO(X[1],this.mL))};
bU.prototype.HL=function(W){var q=this.WI(W),X=this.zS;if(q!=-1)X[q]=W;var k=this.f,B=this.VZ,U=this.IJ[this.hx].oq.P();
U.r*=k.$Z;U.$*=k.$Z;var l=I.IO(W,this.mL);l.x*=I.W$();l.y*=I.W$();this.c5=l;if(this.avE&&this.H8==this.mL&&!B)this.T(new ip("mousemove"));
else if(B=="grab"||B==null){if(X.length>1){var K=I.IO(X[0],this.mL),D=I.IO(X[1],this.mL),m=new hw(I.W$()*(K.x+D.x)/2,I.W$()*(K.y+D.y)/2),Y=hw.tj(K,D),a=null;
if(Y>this.ka+50){this.ka+=50;a=!0}if(Y<this.ka-50){this.ka-=50;a=!1}if(a!=null)this.to(m,a);return}else{var p=l.x-this.D6.x,M=l.y-this.D6.y;
k.h.x=this.qQ.x+Math.round(p);k.h.y=this.qQ.y+Math.round(M)}this.T(new ip("viewchange"))}};bU.prototype.qO=function(W){var q=this.WI(W),X=this.zS;
X.splice(q,1);if(X.length==0){I.yO(window,this.aIw);I.xB(window,this.aJP);var k=this.VZ;if(W.detail>1){this.f.$Z=1;
this.f.h.cQ(0,0);this.oH()}if(this.avE&&this.H8==this.mL&&!this.VZ)this.T(new ip("mouseup"));else{if(k=="zoom-in"||k=="zoom-out")this.to(this.c5,k=="zoom-in")}}else{var B=this.D6=I.IO(X[0],this.mL);
B.x*=I.W$();B.y*=I.W$()}};bU.prototype.Jn=function(W){var q=this.c5;if(W){q=I.IO(W,this.mL);q.x*=I.W$();
q.y*=I.W$()}return this.f.uy(q.x,q.y)};function c6(){gH.call(this);this.Ag=null;this.uJ=null;this.UK=null;
this.aY=null;this.air="";this.zm=[];this.$_=0;this.Y5=[];this.e=null;this.UC=0;var W=this.K=I.a("div",""),q=this.a47=I.a("div","form");
W.appendChild(q);var X=this.IE=I.a("span");I.w(X,"font-size:1.3em; font-weight:bold; margin-right:2em;");
var k=this.al5=new h$([25,2,0]);k.q(!0);q.appendChild(k.K);k.Q(S.E.k,this.Jv,this);var B=this.ad7=new h$([25,2,1]);
B.q(!0);q.appendChild(B.K);B.Q(S.E.k,this.Jv,this);var U=new iC("?",null,null,!0);q.appendChild(U.K);
U.addEventListener("click",function(){alert("All our images come from Pixabay.com and are free to use for commercial purposes.")});
var l=new j1(" ");q.appendChild(l.K);var K=this.atC=new kD([25,1,1]);q.appendChild(K.K);K.Q(S.E.k,this.Jv,this);
this.zw=new bt(14);this.zw.afV(3);this.zw.Q(S.E.k,this.asF,this);var D=this.abD=new iC(I.KG("reload",null,"autoscale"),null,[25,1,2]);
q.appendChild(D.K);D.Q("click",this.rg,this);this.ay5=this.apk.bind(this);this.I4=I.a("div","svggallery scrollable");
W.appendChild(this.I4);this.I4.addEventListener("scroll",this.aC0.bind(this))}c6.prototype=new gH;c6.prototype.QL=function(W){this.e=W};
c6.prototype.l=function(){this.IE.textContent=js.get([25,0]);this.zw.l();this.al5.l();this.ad7.l();this.atC.l()};
c6.prototype.qL=function(W,q){if(this.Ag&&this.Ag.x==W&&this.Ag.y==q)return;this.Ag=new hw(W,q);I.w(this.a47,"width:"+W+"px; margin-bottom:12px;");
var X=this.a47.getBoundingClientRect();q-=(450<W?30:60)+12;I.w(this.I4,"width:"+W+"px; height:"+q+"px;  line-height:0;");
if(I.rL(this.K))this.Jv()};c6.prototype.q=function(W){this.uJ=W;this.Jv()};c6.prototype.aC0=function(W){var q=this.I4;
if(q.scrollTop+q.clientHeight+10>=q.scrollHeight){this.Jv(!0)}};c6.prototype.asF=function(W){this.UK=null;
this.Jv()};c6.prototype.apk=function(W){if(Date.now()-this.UC<2e3)return;this.UC=Date.now();this.$_=this.Y5.indexOf(W.currentTarget);
var q=this.rH(this.uJ.x,this.uJ.y);if(q[1]){var X=q[1].largeImageURL,k=new XMLHttpRequest;k.responseType="arraybuffer";
k.open("GET",X,!0);k.onload=this.azl.bind(this);k.send();return}this.aGy(q)};c6.prototype.azl=function(W){var q=W.target.response,X=lf.pP(q),k=lf.c_(X),B=k.Vp(q),U=this.rH(this.uJ.x,this.uJ.y,[q,B[0].oq.r,B[0].oq.$]);
this.aGy(U)};c6.prototype.aGy=function(W){var q=W[0],X=lf.pP(q),k=lf.c_(X),B=new ey("template.psd");
k.Vp(q,B);var U=new ip("tempready",!0);U.data={LV:B};this.T(U)};c6.prototype.rg=function(W){var q=W.target;
this.zm=[];this.UK=null;this.Jv()};c6.prototype.aBZ=function(W){var q=JSON.parse(W.target.response),X=this.aY=q.hits;
for(var N=0;N<X.length;N++)if(X[N].user_id==6314823)X.splice(N,1);this.Jv()};c6.prototype.Jv=function(W){if(this.uJ==null||this.Ag==null||this.e==null)return;
if(this.Ag.x<=0)return;var q=this.uJ.x,X=this.uJ.y;if(Math.min(q,X)<50)return;if(W!=!0){this.Y5=[];I.ru(this.I4);
this.I4.scrollTop=0}if(this.Y5.length>300)return;var k=Math.min(1,320/Math.max(q,X)),B=this.Ag.P();B.x-=20;
var U=Math.max(1,Math.floor(B.x/(q*k))),l=Math.max(1,Math.ceil(B.y/(X*k)));k=B.x/U/q;var K=U*l;if(this.UK==null){var D=this.e.yK.DE(),m=[];
for(var Y in D){var a=D[Y],p=a[3];if(!this.zw.VW(a))continue;if(a[5]==null||a[5].slice(0,2)=="gf")continue;
m.push(a)}if(m.length==0)m.push(D.DejaVuSans);var M=m.length;for(var N=0;N<M*10;N++){var x=Math.floor(Math.random()*M),R=Math.floor(Math.random()*M),y=m[x];
m[x]=m[R];m[R]=y}m=m.slice(0,10);this.UK=m}var s=this.ad7.V(),F=this.atC.V().trim();this.atC.Si(s);if(s&&(this.aY==null||F!=this.air)){var E=new XMLHttpRequest,o="https://pixabay.com/api/?image_type=photo"+(F==""?"":"&q="+encodeURIComponent(F))+"&per_page=200&page=1&key=10554583-a5eacb61c2e61105fdfb6eb88&safesearch=true";
if(F=="")o="//www.photopea.com/plugins/gallery.json";E.open("GET",o,!0);E.onload=this.aBZ.bind(this);
E.onerror=function(c){console.log(c.target.response)};E.send();this.air=F;return}k*=(q*k-24)/(q*k);var G=this.Y5.length;
for(var N=0;N<K;N++){var d=this.$_=G+N;if(this.zm[d]==null)this.zm[d]=Math.floor(Math.random()*4294967295);
var u=this.rH(Math.round(q*k),Math.round(X*k)),r=u[0];r=Z._o(new Uint8Array(r));var v=I.a("span");v.innerHTML=r;
this.Y5.push(v);I.w(v.firstChild,"margin: 0 24px 24px 0; cursor:pointer; border-radius:5px;");this.I4.appendChild(v);
v.addEventListener("click",this.ay5,!1)}};c6.prototype.rH=function(W,q,X){var k=this.ad7.V(),B=this.al5.V(),U=k&&this.aY.length!=0?this.aY:null;
if(B&&!k)U=null;if(B&&k&&(this.$_&1)==0)U=null;return jH.oz(W,q,this.zm[this.$_],this.UK,X?X:U)};function dp(){gH.call(this);
this.K=I.a("div");this.Gb=null;this.a8n=null;this.aGG=-1;this.fR={JPG:{qual:{NG:new iT([12,52,0],0,100,"%",null,null,!0),dO:70},mtdt:{NG:new h$("attach metadata"),dO:!1}},TIFF:{mtdt:{NG:new h$("attach metadata"),dO:!1}},WEBP:{qual:{NG:new iT([12,52,0],0,100,"%",null,null,!0),dO:70},mtdt:{NG:new h$("attach metadata"),dO:!1}},GIF:{qual:{NG:new iT([12,52,0],0,100,"%",null,null,!0),dO:100},dthr:{NG:new h$([12,23,3]),dO:!1}},PNG:{qual:{NG:new iT([12,52,0],0,100,"%",null,null,!0),dO:100},nplt:{NG:new h$("don't use palettes"),dO:!1},mtdt:{NG:new h$("attach metadata"),dO:!1}},BMP:{nplt:{NG:new h$("don't use palettes"),dO:!1}},PDF:{pags:{NG:new kD([12,52,1]),dO:""},qual:{NG:new iT([12,52,0],0,100,"%",null,null,!0),dO:100},rvrs:{NG:new h$("reverse pages"),dO:!1},rall:{NG:new h$("rasterize all"),dO:!1},vtxt:{NG:new h$("vectorize text"),dO:!1},mrgn:{NG:new iT("Add Margin",0,5,"in",2),dO:0},cmrk:{NG:new h$("add crop marks"),dO:!1}},EMF:{pags:{NG:new kD([12,52,1]),dO:""},qual:{NG:new iT([12,52,0],0,100,"%",null,null,!0),dO:100},rvrs:{NG:new h$("reverse pages"),dO:!1},rall:{NG:new h$("rasterize all"),dO:!1},vtxt:{NG:new h$("vectorize text"),dO:!1},mrgn:{NG:new iT("Add Margin",0,5,"in",2),dO:0}},SVG:{arst:{NG:new h$("add raster graphics"),dO:!0},ahid:{NG:new h$("add hidden layers"),dO:!1},vtxt:{NG:new h$("vectorize text"),dO:!1},rtxt:{NG:new h$("rasterize text"),dO:!1},mini:{NG:new h$("minify"),dO:!1}},RAW:{cnum:{NG:new i3([12,72],["1","3","4"]),dO:2},dpth:{NG:new i3([12,34],["8 Bits","16 Bits"]),dO:0},endi:{NG:new i3("Byte Order",["12-34","34-12"]),dO:0}},DDS:{cmpr:{NG:new cL("Compression",["8x | BC1","4x | BC3","4x | BC7","None"]),dO:0},mpmp:{NG:new h$("Add Mipmaps"),dO:!0},dxsr:{NG:new h$("DXGI_FORMAT: SRGB"),dO:!1}},AVIF:{qual:{NG:new iT([12,52,0],0,100,"%",null,null,!0),dO:70},smlr:{NG:new h$("Smaller files (5x slower)"),dO:!1}},MP4:{qual:{NG:new iT([12,52,0],0,100,"%",null,null,!0),dO:50}},anim:{sped:{NG:new iT("Speed",10,1e3,"%",null,!0,!0),dO:100},rept:{NG:new al("Repeat (0 = Forever)",0,10," \xD7",0,!1,!0),dO:0},rvrs:{NG:new h$("reverse frames"),dO:!1},bmrn:{NG:new h$("boomerang"),dO:!1}},slcs:{slcs:{NG:new cL([8,11,0],["No Slices","All Slices","User Slices"]),dO:1}},artb:{artb:{NG:new h$([1,16,1]),dO:!0}},srgb:{srgb:{NG:new h$("convert to sRGB"),dO:!0}},ctoa:{ctoa:{NG:new h$("extra channel as opacity"),dO:!1}},ke16:{ke16:{NG:new h$("as 16-bit"),dO:!1}}};
for(var W in this.fR){var q=this.fR[W];for(var X in q){q[X].NG.q(q[X].dO);q[X].NG.Q(S.E.k,this.Bp,this)}}}dp.prototype=new gH;
dp.prototype.aLc=function(){this.aGG=-1};dp.prototype.l=function(){for(var W in this.fR)for(var q in this.fR[W])this.fR[W][q].NG.l()};
dp.prototype.Bp=function(){this.Jv();this.T(new ip(S.E.k,!1))};dp.prototype.AD=function(W,q){var X=this.fR[q];
if(X)for(var k in X)W[k]=X[k]};dp.prototype.Jv=function(){var W=this.Gb,q=W[0],X=W[1],k=W[2],B=W[3],U=W[4],l=W[5],K=W[6],D={};
this.AD(D,q);if(X)this.AD(D,"anim");if(["GIF","PNG","JPG","WEBP"].indexOf(q)!=-1&&k)this.AD(D,"slcs");
else if(["GIF","PNG","JPG","WEBP","SVG"].indexOf(q)!=-1&&B)this.AD(D,"artb");if(U)this.AD(D,"srgb");
if(["PNG","DDS","TGA"].indexOf(q)!=-1&&l)this.AD(D,"ctoa");if(["PNG","TIFF"].indexOf(q)!=-1&&K==16)this.AD(D,"ke16");
var m=W.join(",");if(m!=this.aGG){this.aGG=m;I.ru(this.K);for(var Y in D){if(q=="PDF"&&!B&&(Y=="pags"||Y=="rvrs"))continue;
this.K.appendChild(D[Y].NG.K);I.zR(this.K)}}var a=this.a8n={};for(var Y in D)a[Y]=D[Y].NG.V()};dp.prototype.fD=function(W,q,X,k,B,U,l){this.Gb=[W,q,X,k,B,U,l];
this.Jv()};dp.prototype.V=function(){return g.N(this.a8n)};dp.prototype.q=function(W){if(W instanceof Array)return;
var q=this.Gb,X=q[0];for(var k in this.fR){if(k!=X&&k.toLowerCase()!=k)continue;var B=this.fR[k];if(B==null)return;
for(var U in W)if(B[U])B[U].NG.q(W[U])}this.Jv()};function lb(){gH.call(this);this.K=I.a("span","fitem yesno");
this.K.style.marginRight="0";this.Re=!1;this.ae5=new iC("No",!1,"Cancel");this.GL=new iC("Yes",!1,"Confirm");
this.K.appendChild(this.ae5.K);this.K.appendChild(this.GL.K);this.ae5.Q("click",this.Q$,this);this.GL.Q("click",this.Q$,this);
this.l()}lb.prototype=new gH;lb.prototype.l=function(){this.ae5.tB(I.KG("cross",null,"autoscale"));this.GL.tB(I.KG("checkmark",null,"autoscale"))};
lb.prototype.Q$=function(W){this.Re=W.target==this.GL;this.T(new ip("click",!1))};lb.prototype.V=function(){return this.Re};
function fv(W){gH.call(this);this.K=I.a("span","fitem");this.aE4=new iC("\u25BC",null,"Auto Options",!0);
I.aA(this.aE4.K,this.aam.bind(this));this.K.appendChild(this.aE4.K);this.Pr=new iC("Auto",null,null,!0);
this.Pr.Q("click",this._t,this);this.K.appendChild(this.Pr.K);this.FK=new fa("Algorithms",["Enhance Monochromatic Contrast","Enhance Per Channel Contrast","Find Dark & Light Colors","Enhance Brightness And Contrast"],null,null,!0);
this.FK.Q(S.E.k,this._t,this);this.FK.q([!1,!1,!1,!0]);this.GQ=new gH;var q=this.GQ.K=I.a("div","floatcont form");
I.w(q,"width: 250px;");this.GQ.parent=this;q.appendChild(this.FK.K);this.azD=[];for(var N=0;N<2;N++){var X=new al((N==0?"Shadows":"Highlights")+" Clip",0,9.99,"%",2,!1,!0);
X.q(.1);X.Q(S.E.k,this._t,this);this.azD.push(X);q.appendChild(X.K)}}fv.prototype=new gH;fv.prototype._t=function(W){this.T(new ip(S.E.k,!1))};
fv.prototype.l=function(){};fv.prototype.V=function(){return[this.FK.V().indexOf(!0),this.azD[0].V(),this.azD[1].V()]};
fv.prototype.aam=function(W){if(I.rL(this.GQ.K))return;W.stopPropagation();var q=this.aE4.K.getBoundingClientRect(),X=new ip(S.E.H,!0);
X.data={R:S.m.k8,ii:this.GQ,x:q.left,y:q.top+q.height+4};this.T(X)};function k$(){gH.call(this);var W=this.K=I.a("div","fitem");
this.Uw=new cL([12,46],[[13,1,8],[13,1,10],[13,1,9],[12,47]]);this.Uw.Q(S.E.k,this.cf,this);W.appendChild(this.Uw.K);
this.Df=new dT(!1);this.Df.parent=this;this.Df.Ih(16777215);this.Df.Q(S.E.k,this.cf,this);W.appendChild(this.Df.K)}k$.prototype=new gH;
k$.prototype.l=function(){this.Uw.l();this.Df.l()};k$.prototype.af2=function(W){var q=[W.artboardBackgroundType.v-1];
if(W.Clr)q.push(W.Clr.v);this.q(q)};k$.prototype.aDH=function(){var W=this.V();return{classID:"artboard",Clr:{t:"Objc",v:W[1]},artboardBackgroundType:{t:"long",v:W[0]+1}}};
k$.prototype.q=function(W){this.Uw.q(W[0]);if(W[1])this.Df.q(W[1])};k$.prototype.V=function(){return[this.Uw.V(),this.Df.V()]};
k$.prototype.cf=function(W){if(W.target==this.Df)this.Uw.q(3);this.T(new ip(S.E.k,!1))};k$.prototype.Q6=function(){this.Uw.Q6()};
function kz(){gH.call(this);var W=this.K=I.a("div");I.Vc(W);var q=I.a("span");q.textContent="Prompt";
W.appendChild(q);I.zR(W);this.g3=new kD(null,null,-1,4);this.yf=new hC;this.yf.parent=this;this.BT=new iC("Generate",!1,null,!0);
this.BT.Q("click",this.Uk,this);this.Cv=null;this.a7c=0;W.appendChild(this.g3.K);I.zR(W);W.appendChild(this.yf.K);
W.appendChild(this.BT.K);this.aBi=this.a9F.bind(this);this.a9u=this.asv.bind(this);this.$B=I.a("div","scrollable");
W.appendChild(this.$B)}kz.prototype=new gH;kz.prototype.q=function(W){var q=new Uint8Array(W),X=Date.now(),k=UZIP.adler(q,0,q.length);
if(k==this.awx)return;this.awx=k;var B=new ey;dS.WZ(W,B);I.ru(this.$B);this.a7c=B.U.length-2;if(this.Cv==this.a7c)this.Cv=null;
var X=Date.now();for(var N=B.U.length-2;N>0;N--){var U=B.U[N],q=U.buffer,l=U.S;while(l.C()>500*500){var K=g.ly(q,l);
q=K.kl;l=K.S}var D=lf.nn(q.buffer,l.r,l.$,"png"),m=I.a("div");I.w(m,"width:75px; margin:4px; cursor:pointer; display:inline-block; text-align:center;"+(U.P$()?" box-shadow:0 0 0px 3px #00aaff;":""));
var Y=I.a("img");I.w(Y,"width:100%; margin-bottom:-18px;");if(U.P$()&&this.Cv==null)this.g3.q(U.getName());
Y.az$=N;Y.setAttribute("src",D);var a=new iC("x",!1,"Delete",!0);I.w(a.K,"height:15px; line-height:1em; padding: 0px 4px;");
a.K.az$=N;m.appendChild(Y);m.appendChild(a.K);I.DA(Y,this.aBi);I.DA(a.K,this.a9u);this.$B.appendChild(m)}console.log(Date.now()-X)};
kz.prototype.l=function(){this.yf.l()};kz.prototype.a9F=function(W){var q=new ip(S.E.O,!0);q.J=_.b9;
q.data={R:b.vj,_:W.currentTarget.az$,w7:"switch"};this.T(q)};kz.prototype.asv=function(W){var q=new ip(S.E.O,!0);
q.J=_.b9;q.data={R:b.vj,_:W.currentTarget.az$,w7:"del"};this.T(q)};kz.prototype.Uk=function(W){var q=this.yf.aJK(this.g3.V());
if(q)this.Cv=this.a7c+1};function hC(){this.E7=new iC("\u2026",!1,null,!0);this.E7.Q("click",this.VV,this);
this.K=this.E7.K;this.GQ=new gH;this.GQ.parent=this;var W=this.GQ.K=I.a("div","floatcont form label6");
W.style.width="270px";var q=this.QW="dpmpp_2m_karras euler euler_a ddim dpm k_lms pndm".split(" ");this.aBd=["stablediffusion_inpaint_2","realistic_vision_5_1_inpaint","absolute_reality_1_8_1_inpaint","dreamshaper_8_inpaint"];
var X=this.cV=[new h$("Use default settings"),new cL("Model",["Stable Diffusion 2.0","Realistic Vision 5.1","Absolute Reality 1.8.1","Dreamshaper 8"]),new kD("Neg. prompt",null,13.25),new dM("Guidance",-20,20),new dM("Steps",10,50),new cL("Sampler",q)];
X[0].Q(S.E.k,this.l,this);X[0].q(!0);X[1].q(1);X[3].q(6);X[4].q(20);for(var N=0;N<X.length;N++){W.appendChild(X[N].K);
I.zR(W)}}hC.prototype=new gH;hC.prototype.V=function(){var W=this.cV,q={},X=["model","negative_prompt","guidance","steps","sampler"],k=!W[0].V();
if(k){for(var N=1;N<W.length;N++)q[X[N-1]]=W[N].V();q.model=this.aBd[q.model];q.sampler=this.QW[q.sampler];
q.steps=Math.min(q.steps,50)}return k?null:q};hC.prototype.l=function(){var W=this.cV;for(var N=0;N<W.length;
N++){W[N].l();if(N>0)W[N].Si(!W[0].V())}};hC.prototype.VV=function(W){if(I.rL(this.GQ.K))return;var q=this.E7.K.getBoundingClientRect(),X=new ip(S.E.H,!0);
X.data={R:S.m.k8,ii:this.GQ,x:q.left,y:q.top+q.height+4,Ve:!0};this.T(X)};hC.prototype.aJK=function(W){if(W.length>1e3){alert("Your prompt is too long");
return!1}var q=new ip(S.E.dq,!0);q.data=_.Vz.u$("aiHeal");q.data.Og.prmt={t:"TEXT",v:W};q.data.Og.rl=this.V();
this.T(q);return!0};function hf(W){gH.call(this);this.x1=W;this.ak_=0;this.a1T=!1;this.akw=W?new hf.Wz:null;
this.K=I.a("div","flexrow storageset");this.K.style.background="var(--bg-panel)";this.s9=I.a("div");
this.K.appendChild(this.s9);this.dP=I.a("div");this.K.appendChild(this.dP);this.$v=[];var q=Storage.list.length;
if(W)q=q+1+hf.VC.length;var X=this.vN.bind(this);for(var N=0;N<q;N++){var k=I.a("div");this.$v.push(k);
this.s9.appendChild(k);k.addEventListener("click",X,!1)}this.vN(null,0)}hf.prototype=new gH;hf.sG=[];
hf.eC=function(W){hf.sG.push(W);W.L8()};hf.Lo=function(){var W=hf.sG;W.pop();W[W.length-1].L8()};hf.prototype.L8=function(){this.vN(null,this.ak_)};
hf.prototype.QL=function(W,q){if(!W.J7&&!this.a1T){var X=this.x1?2:1;for(var N=X;N<this.$v.length;N++)this.s9.removeChild(this.$v[N]);
this.a1T=!0;if(this.x1)this.akw.QL(W,q)}if(this.aR)this.aR.QL(W,q)};hf.prototype.l=function(){if(this.x1)this.akw.l();
if(this.aR)this.aR.l()};hf.prototype.vN=function(W,q){var X=this.$v,k;if(q==null)q=X.indexOf(W.currentTarget);
this.ak_=q;for(var N=0;N<X.length;N++)I.gI(X[N],"active");I.Wx(X[q],"active");if(this.x1)q--;var B=Storage.list.length;
if(q==-1)k=this.akw;else if(q<B)k=Storage.VL(q);else{var U=hf.VC[q-B];k=new hf.Hu(U[1]);gv.event("strg_"+U[0]);
if(q-B==1){window.open(U[1]);return}}this.aR=k;k.parent=this;I.ru(this.dP);this.dP.appendChild(k.K);
this.qL(this.Ah,this.QB);this.l()};hf.prototype.qL=function(W,q){this.Ah=W;this.QB=q;var X=W<850,k=X?50:210,B=Storage.list;
if(this.x1)B=[[[1,19,3],null,"strg/home"]].concat(B.concat(hf.VC));for(var N=0;N<B.length;N++){var U=this.$v[N],l="padding: 8px "+(X?13:36)+"px; cursor:pointer;";
I.w(U,l);var K=B[N][2],D=B[N].length==6;K=D?K:PIMG[K];U.innerHTML="<img style=\"margin:0 10px -6px 0; width:22px;\" class=\"gsicon\" src=\""+K+"\" /> "+(X?"":js.get(B[N][0]))}this.K.style.width=W+"px";
this.K.style.height=q+"px";this.s9.style.width=k+"px";this.s9.style.paddingTop="32px";if(this.aR)this.aR.qL(W-k,q)};
hf.VC=[["PeaGames","games","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEAAgMAAAAhHED1AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAxQTFRFAAAAAAAAAAAAAAAANek3lgAAAAR0Uk5TAP+TQ7iym4QAAAQ/SURBVHic7Vo7khMxEDVsERCwG+0ROIIDsjmCA2s8tTtVTA7BHEGXmCNQRZmAPQBVzCV8BAIyYorCWLblkfojd2syVi/a1aifpe7XrU9psSgoKCgoKCgoKCgoKHg+uNsOhkW9/XXN/idvfcKXmfbGfEjZv7tub8xH3v5WYm/ME2d/M8gI6pEhWMrs2UncSO2NoYcgHoAx7cwB0EMQhdCD8sKgIaix/RuNvTE9InirI2hmudABuvG1lgDOQTkDNAf1DIyZFQOHeA5LPUEs552eYBPav9Tbx4FUB9EhdII6iA6hE3Y5BIETMlTgMDkhQwUO1RwVOKwuBPd5BFM6DHkEl7KUJSMH78VMH05efJVL4L2YpUMH78VdLoHXYq69r0rZQTDGzguCD0N2EIzp5mSCQzsnExyajEyot5+mfzYZUXwK92K1vhw9xk5z6fQCdRpQy4Q+/klLyaBP7RfHWPs9IYM6tUw0IPAdIYM2Je4WaHdFJHOfimwPsqchdGRT2rIgf9dENUiWmBFUkA0ebp3KL1+H78MG0GeTIvAlaBoh9vixDxfH9ZlgeWkZkRCTBL6KTiO0cwkqpGQRwfS9Qn2TBC0i6JHDlSPo5hKsUC4pndgi1Sp1oCTASmxQ4iUJUC5oCVA2Hia1A13SBLAeqAmqo/1N2H0IPtff9/s/rsfdfr//QRGcNjWB/GOCbhGAXHAaIIODW0OCMSQg61oNgnBoCL5GZxDGERUYW0QADvV4zTvPIWSOCFYxAb3q2vimJCKAh1GS4CHcHxwQ9qoAwWAESBHsniEBjMKgJejSYfx298lghD8DhARWTXrnEiUTuJQAa5ZdUPkVEYDLoWXUc0NwQgJfsMggHB2E0yMmiOYAfq2iI1vHTdvt9rPrd3v4Y4h7jkcC5ISNtKieiw36sJGuC2tyXq5dSNCS2nAEwrXxLDIUhkZK4GWOCZYyAp9oA2hvpTuUiiFYaQl2iEC4S+MIOuk+kSPopTtVjqDSEgyg3Up361wYLdKWUkgjamJOLJyU8aCOBEtEwCRTTfh1pOqGL1Yw6Guic0WQsgWlIQg6wlXGX9gsQWtLOKyhr2Uskwp4VPVI7s86MgiuFe2l3v8l7Bl9VERkOFgqOpYSFwNycSXlzYFY3tHGVYvTapF9nUjsvbVAu38tTlWC3FTLYOkcl2Oky5QY+BSoBD7IKoFvA5TwlTY7DHbB1GopvH3u1fZ0ysvMhumUl+nF7kKQeTl+8WGmFsO9+X0OQbizzioJ4fkkS0pVQJAjpfh4kqGE+ICUoYQuIshQgo0I9EoA1x36ogIOmfo5gBmo5wBnoJ4DfoWhnMOICHRaQu8XFsolknxNM8jtsQuVQ2Ce8+yk9o+0vfQ1UeI9kTAQ/Ism2YOkB9b+MAkBA/ucSeiGmnXACeRdUTj+qw/TFvvfWxZf91fNCwoKCgoKCgoKCgoK/iP8A4Y8W8cr97IuAAAAAElFTkSuQmCC",!0,"Join the contenst!",9986144664],["AI Tools","//www.img-tools.app/?utm_source=af-photopea&utm_medium=social&utm_campaign=af-photopea","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgBAMAAAB54XoeAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAABtQTFRFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAlFHiIAAAAAl0Uk5TACBAgJ+/3/9gnq2YfAAABcRJREFUeJytmzuMHEUQhqt8PO5IWO0CJlwfAQmBAwRkWEayQwhOODQYAyFgbJOuRIDNOzUImxCQLBHCCSScgWTxCAlsTo7AXt+tZBKM8bA7szNd012Pnhp3cJqdx7/f9vSr6u9DIGW4Z7hebP/91AT8Bcnh4/urg+LKF3dCcGVj3BwXm7/2Flw5OiCn/Yq14K6XB63zxVdbvQTx+XF0ofhk1kfw0eeSK1fP9RBcfS294qzGSvDJfcylWx+4Be8+xl776QevIAvYAXG0vj7e2X5sUgvuOiHc+G1WLdY9rLjyzawSZF5xVa6dzdF7Yl99OP2sFMST0r1ZbZHW11wRxVeyKL9/beo9eIR+unoOlV8M8O+Hll5U/8XmXPDQWLy9eNcSfCeqlCmyvaQpaxNdL3kYEe55Q3ngr891wRgQ1jA91/rCU6peCngKW1VYfHcZR8+QkfH2ex0BJwhvEb1ygBltEMUzGj8DCEhPLpvd6Cj9ym6AgHe92Xz87/3l94TOpDZtDhDw3tfThx94qTmnvWYOEJCcPd180ytNLSp9hQWkgqSJhJPKmMgCAh7cW3/+5+PmUujxsiAPSAXJiL9yvD6SGyIPCBjaNWkhYQwRBQVAwFeb+idtOIy54ngjAAKGjnI6XLQFJUBBEPizGYDenywC0pfy5RZzv/BSREAqSJpN6OB1/84FpO2QdNswivOCMiBgmFbZrscO2QogYJhESf2HN3Xzo26AgLtfaI6bSiRTP+ngWYCA5OFmIAj1yi7pNEB2CqBrE2YKUAHnEzNZKlWTVBhqgF3RqYAQTaMXf8bhBr15sULrAgjGRM8s3XXAuWB7PZaUGNEAnAuKC2Ie0QAEfTmXIlqAoC84U0QL0FgSJ4gmYLloD9O6iWgClmEF6c4Gog1YCqqL4haiDaiGZgliBmAlSBeEGmIGYCVIF4QKYg6gEoCniDmAdYrgoRdtxCzAJolxYC9zsY2YBdikWVafHRuIeYAhEbR6uJUI+i0iLjYPZQGSVNXDTwfG6fkbx6Mbr4+yAFvJtLdvLI8u/Gg3dimCQfpheOzCenH9j+0tiKYq7kEhCkT+NJiIUoglC+qIYpgqC+qIYgyoCGqIchytCGqIcpCqCcqISqCvCcqIShStCkqIWiaiiVPqeKT1WUBcAErP6YI8YgnoE+QRyxp0CnKIVQ06BTnE6hV7BVPE5Sv2CqaLvWVc4BVMZpI6mvQKJlNdndxxCoqAXkER0CkoAzoFZUCfoALoE1QAXYIaoCwIctEAxaIIqoAeQRegIugDVAQNwIEQZouCBiAeSUJ9Q9AA3H1YcOkkwQSwnYzFk0w2IhUc7nlkAMXlS1tmTDKPNwUjkfOXYfr9n0bqY5Gb4REFfzkOAlJAyesM/nKHBesyecQiSv6yDSggiv6yDcgjyv6yCcgjVoJGUCIAsoiV4EE9FhUAWcRSkLg+nQA5ROwDyCEuBL01yCKq/rIJyCCq/jIDSG1AFtFOpkUxSbykjRGRGak0wLTCI0SkafUMQBMRO8fFBqLhL3NRnY5opJ0590NHNPxl1kFSEZFmnRl/mfhKeYhIrzL+Mru7Q0NE8k44f5m1gzVEy1/mDBoV0ecvK4hOf1lGtPxl3oZTEImV2clfFhGJIOsvS+6tiOj2lyVEr78sIlr+srzjRkB0/2QJ0fKXlT1BPKLPX1YQff6ygmj5y9p2NxbR8pfVPUYcosdfVhE9/rKKaPnL+gY/BtHyl9VNUByi4S9rrYZH7LeRLEW8ZfjL6ktelBhxzfCXrc14sT127Wzf7YJtT3De8PpuaGwp3v501n/LJYmzp+dnoPvLGb+4LKP9w0Gxc/GXUh4UfznnFy8pBzv1ESjOaN7G2kh68UfwEKxuIgsK/rJ/czLvL7sANX/ZU4NNioDxl7N2JouCqb+cl9wTBRN/ubhv0k8w9pd7/6NB21++E/8KAcRfLnt5f8HKX75/dmmR7nOX/wHUTMNAfPQixAAAAABJRU5ErkJggg==",!0,"Join the contenst!",1730950917]];
for(var N=0;N<hf.VC.length;N++)if(hf.VC[N][5]*1e3<Date.now()){hf.VC.splice(N,1);N--}hf.Wz=function(){this.B4=null;
var W=this.K=I.a("div");W.style.background="var(--bg-canvas)";var q=this.hl=I.a("div");W.appendChild(q);
var X=I.a("style");W.appendChild(X);X.textContent=" .bhover       { transition: background 0.2s ease-in-out;  background:rgba(255,255,255,0   );} "+" .bhover:hover { transition: background 0.2s ease-in-out;  background:rgba(255,255,255,0.05);}";
for(var N=0;N<2;N++){var k=I.a("div"),X="filter: drop-shadow(4px 6px 4px rgba(0,0,0,0.25)); ";q.appendChild(k);
if(N==0)X+="padding: 12px 0px";if(N==1)X+="position:absolute;  bottom:0;";I.w(k,X);var B=I.a("img");
k.appendChild(B);B.setAttribute("src",PIMG[N==0?"l"+"o"+"g"+"o":"b"+"o"+"t"+"t"+"o"+"m"]);if(N==0)this.aDC=B;
else this.abO=B;if(N==0)this.ap5=k;else this.aai=k}this.$v=[];X="display:inline-block;  font-size:1.25em; border:1px solid #aaa;  border-radius:6px;  margin:20px 0 0 20px;";
var U=this.Tv.bind(this),l=I.a("div");q.appendChild(l);I.w(l,"width:min(80%,556px);  margin:0px 0 0 10px;  text-align:center");
for(var N=0;N<4;N++){var K=I.a("span","bhover");this.$v.push(K);I.w(K,X+"cursor:pointer; padding:12px;");
K.addEventListener("click",U,!1);l.appendChild(K)}I.zR(q);var k=this.aml=I.a("div");I.w(k,X+"width:min(80%,556px);  padding:60px 0;  text-align:center; opacity:0.3;");
q.appendChild(k);var D=new Date().getDate(),m=new Date().getMonth();if(m==11&&D>20||m==0&&D<10){this.mL=I.a("canvas");
I.w(this.mL,"position:absolute;top:0;pointer-events:none; mix-blend-mode: screen;");this.Ca=this.mL.getContext("2d");
this.aAQ=g.j(4);W.appendChild(this.mL);var Y=Math.random()<.5,a={o:255,L:255,X:255};if(!Y){a=g.C7(Math.random(),Math.random()*.7,1);
a.o*=255;a.L*=255;a.X*=255}this.HC=[Math.round(1048575*Math.random()),Y?.05:.02,Math.round(4+Math.random()*8),1,Y?3:15,a,0,!0,Y,Y?1:.2,3];
this.axa=Y?.1:.2;this.ZJ=this.$R.bind(this);window.requestAnimationFrame(this.ZJ)}};hf.Wz.prototype=new gH;
hf.Wz.prototype.$R=function(){window.requestAnimationFrame(this.ZJ);if(!I.rL(this.K))return;var W=this.aAQ,q=this.mL,X=this.Ca,k=q.width,B=q.height;
this.HC[6]=Date.now()*.001*this.axa;g.E3.in(W,k,B,this.HC,!0);X.putImageData(new ImageData(new Uint8ClampedArray(W.buffer),k,B),0,0)};
hf.Wz.prototype.Tv=function(W){var N=this.$v.indexOf(W.currentTarget),q=new ip(S.E.H,!0);if(N==0)q.data={R:S.m.K_,ud:"newproject"};
if(N==1)q.data={R:S.m.hM};if(N==2)q.data={R:S.m.K_,ud:"res0"};if(N==3)q.data={R:S.m.g1};this.T(q)};hf.Wz.prototype.l=function(){var W=this.$v,q=[[11,7],[1,6],[25,0],[0,17,6]],X=["\u2605","\uD83E\uDC7F","\u25A3"],X=["lrs/newlayer","strg/tdevice","pix_layer","lrs/clipping"];
for(var N=0;N<W.length;N++)W[N].innerHTML="<span style=\"vertical-align:middle\">"+I.KG(X[N],null,"autoscale")+"</span>\u2000"+js.get(q[N]);
var k="l"+"o"+"g"+"o",B=k+"_"+["pp","vp"][cC],U=new Date;if(U.getMonth()==3&&U.getDate()==1)B="lo"+"go_cuc"+"umber";
if(PIMG[k])B=k;this.aml.textContent=js.get([0,17,7]);this.aDC.setAttribute("src",PIMG[B]);this.abO.setAttribute("src",PIMG["b"+"o"+"t"+"t"+"o"+"m"])};
hf.Wz.prototype.qL=function(W,q){var X=Math.min(q*1.5,Math.min(W,600)),k=this.mL;if(k){I.JO(k,W,X*.26);
this.aAQ=g.j(k.width*k.height*4)}this.K.style.width=W+"px";this.K.style.height=q+"px";this.aai.style.width=W+"px";
this.hl.style.marginLeft=Math.max(0,Math.round((W+200-600)/2)-200)+"px";this.aDC.style.width=X+"px";
this.abO.style.width=X+"px"};hf.Wz.prototype.QL=function(W,q){var X=W;if(W==null)W=this.e;this.e=W;if(!W.J7&&this.$v[2].parent){this.hl.removeChild(this.$v[2]);
this.hl.removeChild(this.$v[3])}this.$v[3].style.display=W.dR?"inline-block":"none";if(X)this.B4=setTimeout(this.QL.bind(this),100)};
hf.Hu=function(W){var q=this.K=I.a("iframe");q.style.background="var(--bg-canvas)";q.setAttribute("src",W)};
hf.Hu.prototype=new gH;hf.Hu.prototype.qL=function(W,q){var X=this.K;X.style.width=W+"px";X.style.height=q+"px"};
hf.Hu.prototype.QL=function(){};function Storage(W){gH.call(this);var q=this.K=I.a("div","storage");
I.Ch(q);q.addEventListener("drop",this.aF2.bind(this),!1);var X=this.aJO=I.a("style");q.appendChild(X);
q.setAttribute("tabindex","0");q.style.outline="none";q.addEventListener("keydown",this.ak$.bind(this),!1);
this.OB=this.acZ.bind(this);this.RV=0;this.Cv=0;var k=I.a("div");q.appendChild(k);var B=this.aIz.bind(this);
this.po=I.a("div","bar");k.appendChild(this.po);this.AS=I.a("div","fls scrollable");k.appendChild(this.AS);
this.YN=I.a("div");k.appendChild(this.YN);I.w(this.YN,"position:absolute; bottom:0;  background-color:white; padding: 2px 8px 0px 8px;");
this.l2=I.a("div","bar");this.l2.textContent="Name: ";var U=this.QU=I.a("input");U.setAttribute("type","text");
this.l2.appendChild(U);var l=this.qv=I.a("div","btn");l.textContent="Save";this.l2.appendChild(l);I.DA(l,B);
I.aA(this.AS,this.OB);this.aFB=0;this.IG=W;var K=this.a97.bind(this),D=this.a4h=I.a("div");I.w(D,"text-align:center; font-size:1.6em");
var m=I.a("img");D.appendChild(m);I.zR(D);m.setAttribute("src",PIMG[Storage.list[this.IG][2]]);I.w(m,"opacity:0.5;  width:25%; cursor:pointer;");
I.DA(m,K);this.avM=I.a("div","btn");D.appendChild(this.avM);I.DA(this.avM,K);this.Vl=new j_([{name:[6,20]},{name:[5,2],Rl:[bu.p7,bu.UA],i:function(){return{i:Storage.Ud!=null}}}]);
this.Vl.parent=this;this.Vl.Q("select",this.zJ,this);this.AS.addEventListener("contextmenu",this.OB);
this.aAM=I.a("span");this.Jy=I.a("span");I.w(this.Jy,"position:absolute; right:0; top:5px; z-index:1; ");
this.eu=[];this.vu=[];for(var N=0;N<3;N++){var Y=I.a("div","btn");this.eu.push(Y);this.aAM.appendChild(Y);
I.DA(Y,B);Y.innerHTML=Storage.a0a[[3,1,0][N]]}for(var N=0;N<5;N++){if(N==0){var a=I.a("span");a.textContent="Sort by:";
this.Jy.appendChild(a)}var Y=I.a("div","btn");this.vu.push(Y);this.Jy.appendChild(Y);I.DA(Y,B)}window.addEventListener("message",this.aaP.bind(this),!1);
this.aa9=!1;this.si=0;setInterval(this.acH.bind(this),300);this.Y3();var p=this.a5O=document.createElement("input");
p.setAttribute("type","file");p.addEventListener("change",this.aF2.bind(this),!1);document.body.appendChild(p);
I.w(p,"display:none");p.setAttribute("multiple","")}Storage.prototype=new gH;Storage.V$=!1;(function(){Storage.a0a=[];
var W="<svg viewBox=\"0 0 14 14\" width=\"10\" height=\"10\" fill=\"black\"><path transform=\"translate(7 7) rotate(",q=") translate(-7 -7)\" d=\"m4 4m-4 2h11l-5-5 2-1 7 7-7 7-2-1 5-5h-11\" /></svg>";
for(var N=0;N<4;N++)Storage.a0a.push(W+[-90,0,90,180][N]+q)}());Storage.prototype.aF2=function(W){W.stopPropagation();
W.preventDefault();var q=W.dataTransfer?W.dataTransfer.files:W.target.files;this.azg=q.length;Storage.Ud={};
for(var N=0;N<q.length;N++){var X=q[N],k=new FileReader;k.Gy=X;k.onload=this.aA2.bind(this);k.readAsArrayBuffer(X)}};
Storage.prototype.aA2=function(W){var q=Storage.Ud;q[W.target.Gy.name]=W.target.result;this.azg--;if(this.azg==0)this.Kl()};
Storage.prototype.QL=function(W,q){var X=Storage.list[this.IG][3],k=gv.XV();if(X){if(this.si==1&&I.rL(this.K)&&k!=null){this.Y3()}if(this.si==2&&k==null){this.xc("forget","")}}};
Storage.prototype.acH=function(){var W=I.rL(this.K),q=this.aa9;if(W&&!q){history.pushState(null,null,location.href);
window.onpopstate=function(){history.go(1)}}if(!W&&q){window.onpopstate=function(){};history.go(-1)}this.aa9=W};
Storage.prototype.Y3=function(){if(this.QM)document.body.removeChild(this.QM);this.z6=[[]];this.Rj=0;
this.ay9={"/":[]};this.avn="";this.Ij=null;this.MS=[];this.aeu=[];this.aDk=[];this.a9Q=null;var W=Storage.list[this.IG][1],q=gv.MG("code/storages/"+Storage.list[this.IG][1]);
if(cC==1&&this.IG==0)q=W;var X=this.QM=I.a("iframe");X.setAttribute("src",q);I.w(X,"display:none");document.body.appendChild(X)};
Storage.prototype.rr=function(){return this.ay9[this.tb()]};Storage.prototype.hp=function(W){this.ay9[this.tb()]=W};
Storage.VL=function(N){var W=Storage.zU[N];if(W==null)W=Storage.zU[N]=new Storage(N);return W};Storage.zU=[];
Storage.pX=0;Storage.nK="";Storage.f1=null;Storage.Lb=function(W,q,X){Storage.pX=W;Storage.nK=q;Storage.f1=X;
var k=Storage.zU;for(var N=0;N<k.length;N++)if(k[N]){if(W==1)k[N].hp([]);k[N].L8()}};Storage.atO=[500*(1<<20),5e3*(1<<20)];
Storage.mZ=0;Storage.gX=2;Storage.MV=0;Storage.list=[[[1,19,4],"deviceStorage.html","strg/tdevice",!1,null],["PeaDrive","peadriveStorage.html","strg/peadrive",!0,"A cloud storage system from Photopea."],["Dropbox","dropboxStorage.html","strg/dropbox",!1,null],["OneDrive","onedriveStorage.html","strg/onedrive",!1,null],["Google Drive","googledriveStorage.html?mode=0","strg/gdrive",!1,null],["Shared Drives","googledriveStorage.html?mode=1","strg/gdrive",!1,"Give Photopea a direct access to Shared Drives in your Google Drive."],["Shared with me","googledriveStorage.html?mode=4","strg/gdrive",!1,"Give Photopea a direct access to \"Shared with me\" in your Google Drive."],["Private Folder","googledriveStorage.html?mode=3","strg/gdrive",!1,"Let's make a folder \"Photopea\" in your Google Drive (we will have access only to that folder)."]];
Storage.ab4=function(W){for(var N=0;N<Storage.zU.length;N++){if(Storage.zU[N]&&Storage.zU[N].QM.contentWindow==W)return!0}return!1};
Storage.prototype.ak$=function(W){if(W.target.tagName=="INPUT")return;var q=bu;if(q.aZ(W.code,q.GD)&&this.tb().length!=0)this.acg();
else if(W.ctrlKey){if(q.aZ(W.code,q.m)){var X=[];this.hp(X);for(var N=0;N<this.Ij.length;N++)X.push(N);
this.Q9()}if(q.aZ(W.code,q.uo))this.vs(2);if(q.aZ(W.code,q.UA))this.Kl()}else if(q.aZ(W.code,q.$H)){var k=this.rr();
if(k.length!=0)this.atJ(k)}else if(q.aZ(W.code,q.gB)){this.Rj=Math.max(this.Rj-1,0);this.G9()}else{var B=0;
for(var N=65;N<=90;N++)if(W.code=="Key"+String.fromCharCode(N))B=N;if(B!=0){var U=String.fromCharCode(B).toLowerCase(),l=[],K=this.Ij,D;
for(var N=0;N<K.length;N++)if(K[N][0][0].toLowerCase()==U)l.push(N);if(l.length==0)return;var k=this.rr();
if(k.length==0)D=l[0];else{var m=l.indexOf(k[0]);if(m==-1){D=l[0];for(var N=0;N<l.length;N++)if(l[N]>k[0]){D=l[N];
break}}else D=l[(m+1)%l.length]}this.hp([D]);this.Q9(!0)}}};Storage.prototype.qL=function(W,q){this.Ah=W;
this.QB=q;this.K.style.width=W+"px";this.K.style.height=q+"px";var X=W-30,k=Math.floor(X/230),X=Math.floor(X/k)-72;
this.aJO.textContent=".storage .tile .name {  width:"+X+"px;  }";this.QU.style.width=W-140+"px";this.AS.style.width=this.po.style.width=W-20+"px";
this.AS.style.height=q-70-(Storage.pX==0?0:45)+"px"};Storage.prototype.a97=function(){this.G9()};Storage.prototype.G9=function(){var W=this.IG,q="____strg"+W;
if(window[q]==null){gv.event("strg_"+(W==0?"This Device":Storage.list[W][0]));window[q]=!0}this.Cv=1;
this.xc("show",this.tb())};Storage.prototype.tb=function(W){var q=this.z6[this.Rj],X="/"+q.join("/");
if(W&&q.length!=0)X+="/";return X};Storage.prototype.aIz=function(W){var q=W.currentTarget,X=this.Rj,k=this.eu.indexOf(q),B=this.vu.indexOf(q);
if(k>=0&&!this.aJB(k))return;if(k==0){this.Rj=Math.max(X-1,0);this.G9()}if(k==1){this.Rj=Math.min(X+1,this.z6.length-1);
this.G9()}if(k==2){var U=this.z6[X+1]=this.z6[X].slice(0);U.pop();this.Rj++;this.z6=this.z6.slice(0,this.Rj+1);
this.G9()}if(B==0){Storage.gX=(Storage.gX+1)%3;this.L8()}if(B==1){Storage.MV=(Storage.MV+1)%2;this.L8()}if(B==2){Storage.mZ=(Storage.mZ+1)%3;
this.L8()}if(B==3){var l=document.createEvent("MouseEvents");l.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
this.a5O.dispatchEvent(l)}if(B==4){this.xc("forget","")}if(q==this.qv){var K=this.QU.value.trim(),D=this.Ij,m=-1;
for(var N=0;N<D.length;N++)if(D[N][0]==K)m=N;if(m!=-1){this.Wv("Do you really want to replace \""+K+"\"?",this.ayv.bind(this))}else this.ayv()}};
Storage.prototype.ayv=function(){var W=this.QU.value.trim(),q=[this.IG,this.tb(!0)+W];if(Storage.f1){this.ajy(this.tb(!0)+W,Storage.f1);
Storage.f1=null;Storage.nK=null}else this.qM({R:S.m.a0s,jQ:q});this.T(new ip("canclose",!0))};Storage.prototype.Kl=function(){if(Storage.Ud==null)return;
this.qM({R:S.m.dW,RU:js.get("Uploading ...")});this.RV=4;aG.VL(2,this.QM,[this.tb(),Storage.Ud,this.Ij],null,this.axU.bind(this))};
Storage.prototype.axU=function(W){this.RV=0;this.qM({R:S.m.xA,RU:js.get("Uploading ...")});this.G9()};
Storage.prototype.zJ=function(W){var q=W.target.kN();if(W.target==this.Vl){if(q[0]==0){var X=[js.get([6,20]),-1,0];
this.Ij.push(X);this.L8();var N=this.Ij.indexOf(X),k=this.MS[N].querySelector(".name");console.log(k);
var B=new dE.j4(k,function(a){this.qM({R:S.m.dW,RU:js.get([1,2])+" ..."});var p=this.tb(!0)+a+"/";console.log(p);
this.xc("save",p)}.bind(this),!0)}else this.Kl()}else{if(q[0]==0){this.vs(2)}else if(q[0]==1){var N=this.rr()[0],U=this.Ij[N],k=this.MS[N].querySelector(".name");
console.log(k);k.innerHTML=U[0];var B=new dE.j4(k,function(a){a=a.trim();if(a.indexOf("/")!=-1){alert("You can not use slashes in a file name.");
this.L8();return}var p=this.Ij;for(var N=0;N<p.length;N++)if(p[N][0]==a){alert("Item with such name already exists.");
this.L8();return}var M=this.tb(!0)+U[0]+":"+a;console.log(M);this.xc("rename",M)}.bind(this))}else if(q[0]==2){this.vs(3)}else if(q[0]==3)this.acg();
else if(q[0]==4){this.vs(1)}else{var l=this.Ij[this.rr()[0]],K=Storage.gU(l),D=K[q[1]],m=D[0],Y=this.F0().pop()[1];
if(Storage.a2m(l,m)!=-1){this.xc("share",Y+":"+m+":-1");alert("Unshared.")}else{this.xc("share",Y+":"+m+":"+q[2]);
alert("Shared.")}}}};Storage.a2m=function(W,q){var X=W[4];if(X==null)return-1;if(X.indexOf(q+":0")!=-1)return 0;
if(X.indexOf(q+":1")!=-1)return 1;return-1};Storage.prototype.acg=function(){var W=this.rr();this.Wv("Do you really want to delete "+(W.length==1?"\""+this.Ij[W[0]][0]+"\"":"these files")+"?",this.aP.bind(this))};
Storage.prototype.Wv=function(W,q){var X={R:S.m.K_,ud:"confirm",_:W,tO:q};this.qM(X)};Storage.prototype.vs=function(W){this.RV=W;
if(1<W)this.qM({R:S.m.dW,RU:js.get("Downloading ...")});else this.qM({R:S.m.dW,RU:js.get("Getting info ...")});
aG.VL(0,this.QM,this.tb(),this.F0(!0),this.awq.bind(this))};Storage.prototype.awq=function(W){if(this.RV==1){var q=0,X=0;
for(var k in W){var B=W[k];q+=B[1];X++}this.Wv(X+" files, "+eb.qc(q)+" in total.",function(){});this.qM({R:S.m.xA,RU:js.get("Getting info ...")});
this.RV=0}if(1<this.RV)aG.VL(1,this.QM,W,null,this.a1D.bind(this))};Storage.prototype.a1D=function(W){if(1<this.RV){if(1<this.RV)this.qM({R:S.m.xA,RU:js.get("Downloading ...")});
var q={},X=this.tb(!0);for(var k in W)q[k.slice(X.length)]=W[k];if(this.RV==2){Storage.Ud=q;alert("Copied to a clipboard")}if(this.RV==3){var B=Object.keys(W);
if(B.length==1)ch.save(W[B[0]].buffer,B[0].split("/").pop());else ch.save(UZIP.encode(q),X=="/"?"files.zip":this.tb().split("/").pop()+".zip")}}this.RV=0};
Storage.Ud=null;Storage.prototype.aP=function(){this.qM({R:S.m.dW,RU:js.get([5,4])+" ..."});this.aeu=this.F0();
this.xj()};Storage.prototype.xj=function(){if(this.aeu.length==0){this.qM({R:S.m.xA,RU:js.get([5,4])+" ..."});
this.hp([]);this.G9()}else this.xc("delete",this.aeu.pop()[1])};Storage.prototype.F0=function(W){var q=[],X=this.tb(!0),k=this.rr();
for(var N=0;N<k.length;N++){var B=this.Ij[k[N]];if(W)q.push(B[0]);else q.push([this.IG,X+B[0]])}return q};
Storage.prototype.xc=function(W,q){I.Wx(this.K,"disabled");this.avn=W;if(Storage.V$)console.log(Math.floor(Date.now()/1e3),"{\"code\": \""+W+"\", \"prm\": "+JSON.stringify(q)+"  }");
this.QM.contentWindow.postMessage("{\"code\": \""+W+"\", \"prm\": "+JSON.stringify(q)+"  }","*")};Storage.prototype.aaP=function(W){if(W.source!=this.QM.contentWindow||this.RV!=0)return;
I.gI(this.K,"disabled");if(typeof W.data=="string"){if(Storage.V$)console.log("==",Math.floor(Date.now()/1e3),W.data);
var q=JSON.parse(W.data),X=q.code,k=q.prm,B=this.avn,U=Storage.list[this.IG][3];if(X=="ready"){if(U&&!k){var l=gv.XV();
console.log(l);var K=gv.Ol(),D=K.acc;if(l==null){this.si=1;alert("Log in to use this storage (press Account at the top).");
this.zY();return}var m=[],Y=l.wantToJoin;for(var a in Y)m.push(parseInt(a.slice(1)));var p=[],M=l.inTeams;
for(var N=0;N<M.length;N++)p.push(M[N][2]);var x={uid:l.id,limit:Storage.atO[gv.jj()?1:0],inTeams:p,myTeams:m};
x.secret=D&&D.pds?D.pds:"";this.xc("login",x);return}if(U)this.si=2;if(U&&q.secret){var K=gv.Ol(),D=K.acc;
if(D==null)D=K.acc={};D.pds=q.secret;gv.Wt(K)}if(k)this.G9();else this.zY()}else if(X!="0"){if(B=="save")this.qM({R:S.m.xA,RU:js.get([1,2])+" ..."});
if(B=="delete")this.xj();alert(k);this.L8()}else if(B=="show"){this.Cv=0;this.Ij=k;this.L8()}else if(B=="save"){this.Cv=0;
this.qM({R:S.m.xA,RU:js.get([1,2])+" ..."});this.G9()}else if(B=="delete"){this.xj()}else if(B=="forget"){if(U)this.zY();
else this.Y3()}else if(B=="rename"||B=="share"){this.G9()}else throw X}else{if(Storage.V$)console.log(Math.floor(Date.now()/1e3,"==","ArrayBuffer[]"));
this.qM({R:S.m.a3u,jQ:this.F0()[this.dZ],Wa:W.data});this.a9K()}};Storage.prototype.zY=function(){I.ru(this.po);
I.ru(this.AS);I.ru(this.YN);this.AS.appendChild(this.a4h)};Storage.prototype.aJB=function(N){if(N==0)return this.Rj>0;
if(N==1)return this.Rj<this.z6.length-1;if(N==2)return this.tb()!="/"};Storage.aBw=function(W){W=W+"";
return W.length==1?"0"+W:W};Storage.a1y=function(W){var q=new Date(W),X=Storage.aBw,k=X(q.getDate())+"."+X(q.getMonth()+1)+"."+q.getFullYear();
if(q.toLocaleDateString().indexOf("/")!=-1)k=X(q.getMonth()+1)+"/"+X(q.getDate())+"/"+q.getFullYear();
var B=X(q.getHours())+":"+X(q.getMinutes());return k+" "+B};Storage.colSpan=function(W){var q=I.a("span");
q.style.opacity="0.8";q.style.display="inline-block";q.style.width="120px";q.textContent=W;return q};
Storage.prototype.L8=function(){var W=Storage.list[this.IG][3],q=this.Ij,X=Storage.gX,k=Storage.MV,B=Storage.mZ;
if(q==null)return;q.sort(function(H,T){var e=H[1]==-1?1:5,z=T[1]==-1?1:5,J=0;if(Math.min(e,z)==1&&e!=z)return e-z;
else if(e==1||X==0)J=H[0].toLowerCase()<T[0].toLowerCase()?-1:1;else if(X==1)J=H[1]-T[1];else if(X==2)J=H[2]-T[2];
if(k==1)J=-J;if(H[0]=="Shared")J=-1;if(T[0]=="Shared")J=1;return J});var U=this.AS,l=this.po,K=this.z6[this.Rj];
I.ru(U);I.ru(l);this.MS=[];for(var N=0;N<3;N++)if(this.aJB(N))I.gI(this.eu[N],"disabled");else I.Wx(this.eu[N],"disabled");
l.appendChild(this.aAM);l.appendChild(this.Jy);var D=I.a("span");D.textContent="/";l.appendChild(D);
for(var N=0;N<K.length;N++){var D=I.a("span");D.textContent=K[N];l.appendChild(D);var D=I.a("span");
D.textContent="/";l.appendChild(D)}var m=["tile","icon","litm"][B];for(var N=0;N<q.length;N++){var Y=q[N],a=Y[1]==-1,p=a?"":eb.qc(Y[1]),M=I.a("div","cont "+m),r=!1;
U.appendChild(M);this.MS.push(M);var x=a?"":Storage.a1y(Y[2]*1e3);M.setAttribute("title",Y[0]+(a?"":"\nSize: "+p+"\nDate Modified: "+x));
var R=I.a("img");R.setAttribute("src",a?Storage.ahO:Y[3]?Y[3]:Storage.Gy);if(!a&&Y[3])I.w(R,"box-shadow: 1px 1px 2.5px rgba(0,0,0, .4);");
var y=I.a("span","name"),s=Y[0];if(m=="icon"&&s.length>30)s=s.slice(0,24)+".."+s.slice(s.length-5);if(W&&K.length==1&&K[0]=="Shared"){var F=Storage.gU(),E=parseInt(s.slice(5));
for(var o=0;o<F.length;o++)if(F[o][0]==E)s=F[o][1]}y.textContent=s;M.appendChild(R);M.appendChild(y);
if(m!="icon"&&!a){if(m=="litm")M.appendChild(Storage.colSpan(x));if(m=="tile")I.zR(y);var G=Storage.colSpan(p);
if(m=="litm")G.style["text-align"]="right";(m=="tile"?y:M).appendChild(G)}var d=Y[0].split("."),u=(d.length==1?"":d.pop()).toUpperCase();
if(W&&Y[0]=="Shared"&&K.length==0){r=!0;u="\u21E7"}if(m!="litm"&&(!a&&Y[3]==null||r)){var v=I.a("span","ext");
v.textContent=u;var c=Storage.wi[u];v.style.backgroundColor=c?c:Storage.akf(u);M.appendChild(v)}I.aA(M,this.OB);
M.addEventListener("contextmenu",this.OB)}this.Q9();var V=this.l2.parentNode!=null,j=Storage.pX,Q=this.K;
if(V&&j==0)Q.removeChild(this.l2);if(!V&&j==1)Q.appendChild(this.l2);this.qL(this.Ah,this.QB);this.l()};
Storage.prototype.Q9=function(W){var q=this.MS,X=this.Ij,k=this.rr(),B=!1,U=0,l=Storage.nK?Storage.nK.split(".").pop():"";
for(var N=0;N<q.length;N++){var K=X[N],D=K[1]==-1,m=q[N];if(Storage.pX==1&&!D&&!K[0].toLowerCase().endsWith(l))m.style.display="none";
else m.style.display="auto";if(k.indexOf(N)==-1)I.gI(m,"active");else{if(D)B=!0;else U+=K[1];I.Wx(m,"active");
if(W)m.scrollIntoView({block:"center",behavior:"smooth"})}}var Y=B?"":eb.qc(U);this.YN.textContent=k.length==0?"":k.length+" item"+(k.length==1?"":"s")+" selected\u2001"+Y;
this.QU.value=k.length==1&&!B?X[k[0]][0]:Storage.nK};Storage.prototype.atJ=function(W){var q=W[0],X=this.Ij[q];
if(X[1]==-1){var k=this.z6[this.Rj].slice(0);k.push(X[0]);this.Rj++;this.z6[this.Rj]=k;this.z6=this.z6.slice(0,this.Rj+1);
this.hp([]);this.G9()}else if(Storage.pX==0){this.a9K(W)}};Storage.prototype.a9K=function(W){if(W){this.qM({R:S.m.dW,RU:"Opening ..."});
this.T(new ip("canclose",!0));this.akV=W.slice(0);this.dZ=0}else this.dZ++;if(this.akV.length==this.dZ){this.qM({R:S.m.xA,RU:"Opening ..."})}else{var q=this.akV[this.dZ],X=this.Ij[q],k=this.tb(!0)+X[0];
this.xc("load",k)}};Storage.prototype.l=function(){var W=Storage.gX,q=Storage.MV,X=Storage.mZ;this.vu[0].textContent=js.get([[12,48],[12,14,0],"Date"][W]);
this.vu[1].innerHTML=Storage.a0a[[2,0][q]];this.vu[2].textContent=js.get(["Tiles","Icons",[25,3,1]][X]);
this.vu[3].textContent="Upload";this.vu[4].textContent="\u2716";var k=Storage.list[this.IG],B=k[4];if(B==null)B=js.get([[1,19,5],cC==0?"Photopea":"Vectorpea",k[0]]);
this.avM.innerHTML=js.get([[23,6],k[0]])+"<br/><small><small>"+B+"</small></small>";this.QL()};Storage.prototype.acZ=function(W){this.qM({R:S.m.Je});
if(I.rL(this.a4h))return;if(W.button==3||W.button==4){if(Date.now()-this.aF4>50){var q=this.Rj;if(W.button==3)this.Rj=Math.max(q-1,0);
else this.Rj=Math.min(q+1,this.z6.length-1);this.G9()}this.aF4=Date.now();return}W.stopPropagation();
var N=this.MS.indexOf(W.currentTarget);if(W.type=="contextmenu"){if(this.Ij==null)return;W.preventDefault();
var X=this.Vl;if(N!=-1){var k=[{name:[5,1],Rl:[bu.p7,bu.uo]},{name:[6,37]},{name:"Download",nC:!0},{name:[5,4],Rl:[bu.GD]},{name:[9,2]}];
if(Storage.list[this.IG][3]){var B=this.Ij[N],U=Storage.gU(B);if(U.length!=0){var l=[];for(var K=0;K<U.length;
K++){var D=[],m=U[K],Y=Storage.a2m(B,m[0]);if(Y!=-1)D.push({name:"Unshare"});else D.push({name:"Allow Read"},{name:"Allow Read & Write"});
l.push({name:m[1]+[""," (R)"," (R,W)"][Y+1],sub:D})}k.push({name:"Share With",sub:l})}}X=new j_(k);X.parent=this;
X.Q("select",this.zJ,this)}X.parent=this;X.l();X.update();this.qM({R:S.m.k8,ii:X,x:W.clientX+4,y:W.clientY});
return}var a=this.rr(),p=a.indexOf(N);if(W.button!=0&&p!=-1)return;if(W.target==this.AS)this.hp([]);
else{if(W.ctrlKey){if(p==-1)a.push(N);else a.splice(p,1)}else if(W.shiftKey&&a.length!=0){var K=a[0];
if(K<N){var M=N;N=K;K=M}a=[];this.hp(a);for(var x=N;x<=K;x++)a.push(x)}else{this.hp([N]);if(Date.now()-this.aFB<300&&a.length!=0&&a[0]==N){this.atJ([N]);
this.aFB=0}}}this.aFB=Date.now();this.Q9()};Storage.prototype.qM=function(W){var q=new ip(S.E.H,!0);
q.data=W;this.T(q)};Storage.gU=function(W){var q=[],X=[],k=gv.Ol(),B=k.acc.tstart;if(B)for(var N=0;N<B.length;
N++){q.push([B[N][2],B[N][0]]);X.push(B[N][2])}var U=gv.XV();B=U.inTeams;if(B)for(var N=0;N<B.length;
N++){q.push([B[N][2],B[N][0]]);X.push(B[N][2])}if(W&&W[4]){for(var N=0;N<W[4].length;N++){var l=parseInt(W[4][N].split(":")[0]);
if(X.indexOf(l)==-1)q.push([l,"Team "+l])}}return q};Storage.prototype.ajy=function(W,q){if(this.Cv!=0)return 1;
this.Cv=2;this.qM({R:S.m.dW,RU:js.get([1,2])+" ..."});this.xc("save",W);if(Storage.V$)console.log(Math.floor(Date.now()/1e3),"ArrayBuffer[]");
this.QM.contentWindow.postMessage(q,"*")};Storage.wi={PDF:"#ff2222",PSD:"#005599",PSB:"#005599"};Storage.akf=function(W){W=W.toLowerCase();
var q=0;for(var N=0;N<W.length;N++)q+=W.charCodeAt(N)*613<<8*N;return"#"+g.Ga(q&16777215)};Storage.ahO="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55LXBzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0ODggNDEwIiB3aWR0aD0iNDg4IiBoZWlnaHQ9IjQxMCI+PHRpdGxlPmZvbGRlci1zdmc8L3RpdGxlPjxzdHlsZT50c3BhbiB7IHdoaXRlLXNwYWNlOnByZSB9LnNocDAgeyBmaWxsOiAjZGJiMDY1IH0gLnNocDEgeyBmaWxsOiAjOTY3YTQ0IH0gLnNocDIgeyBmaWxsOiAjZjVjZTg1IH0gPC9zdHlsZT48cGF0aCBjbGFzcz0ic2hwMCIgZD0iTTcuMiA0MDMuNEw3LjIgNi42TDEzOC45NSA2LjZMMTc3LjM1IDQ1TDQ4MC44IDQ1TDQ4MC44IDQwMy40TDcuMiA0MDMuNFoiIC8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGFzcz0ic2hwMSIgZD0iTTE0MS42IDAuMkwxODAgMzguNkw0ODcuMiAzOC42TDQ4Ny4yIDQwOS44TDAuOCA0MDkuOEwwLjggMC4yTDE0MS42IDAuMlpNMTMuNiAxM0wxMy42IDM5N0w0NzQuNCAzOTdMNDc0LjQgNTEuNEwxNzQuNyA1MS40TDEzNi4zIDEzTDEzLjYgMTNaIiAvPjxnID48cGF0aCBjbGFzcz0ic2hwMiIgZD0iTTcuMiA0MDMuNEw3LjIgNzAuNkwxNDMuNTMgNzAuNkwxODEuOTMgNDVMNDgwLjggNDVMNDgwLjggNDAzLjRMNy4yIDQwMy40WiIgLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsYXNzPSJzaHAxIiBkPSJNNDg3LjIgMzguNkw0ODcuMiA0MDkuOEwwLjggNDA5LjhMMC44IDY0LjJMMTQxLjYgNjQuMkwxODAgMzguNkw0ODcuMiAzOC42Wk0xODMuODggNTEuNEwxNDUuNDggNzdMMTMuNiA3N0wxMy42IDM5N0w0NzQuNCAzOTdMNDc0LjQgNTEuNEwxODMuODggNTEuNFoiIC8+PC9nPjwvc3ZnPg==";
Storage.Gy="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55LXBzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNDggNDI0IiB3aWR0aD0iMzQ4IiBoZWlnaHQ9IjQyNCI+PHRpdGxlPmZpbGUtc3ZnPC90aXRsZT48c3R5bGU+dHNwYW4geyB3aGl0ZS1zcGFjZTpwcmUgfS5zaHAwIHsgZmlsbDogI2ZmZmZmZiB9IC5zaHAxIHsgZmlsbDogI2M3ZDdlMiB9IC5zaHAyIHsgZmlsbDogIzQ1NGI1NCB9IDwvc3R5bGU+PHBhdGggY2xhc3M9InNocDAiIGQ9Ik0yOTYgNDEyTDUyIDQxMkMzMCA0MTIgMTIgMzk0IDEyIDM3MkwxMiA1MkMxMiAzMCAzMCAxMiA1MiAxMkwyOTYgMTJDMzE4IDEyIDMzNiAzMCAzMzYgNTJMMzM2IDM3MkMzMzYgMzk0IDMxOCA0MTIgMjk2IDQxMloiIC8+PHBhdGggY2xhc3M9InNocDEiIGQ9Ik01MiA1MkwyOTYgNTJMMjk2IDExMkw1MiAxMTJMNTIgNTJaTTI3MiAxOTJMNjggMTkyQzYxLjIgMTkyIDU2IDE4Ni44IDU2IDE4MEM1NiAxNzMuMiA2MS4yIDE2OCA2OCAxNjhMMjcyIDE2OEMyNzguOCAxNjggMjg0IDE3My4yIDI4NCAxODBDMjg0IDE4Ni44IDI3OC44IDE5MiAyNzIgMTkyWk0yNzIgMjUyTDY4IDI1MkM2MS4yIDI1MiA1NiAyNDYuOCA1NiAyNDBDNTYgMjMzLjIgNjEuMiAyMjggNjggMjI4TDI3MiAyMjhDMjc4LjggMjI4IDI4NCAyMzMuMiAyODQgMjQwQzI4NCAyNDYuOCAyNzguOCAyNTIgMjcyIDI1MlpNMTc0IDMxMkw2OCAzMTJDNjEuMiAzMTIgNTYgMzA2LjggNTYgMzAwQzU2IDI5My4yIDYxLjIgMjg4IDY4IDI4OEwxNzQgMjg4QzE4MC44IDI4OCAxODYgMjkzLjIgMTg2IDMwMEMxODYgMzA2LjggMTgwLjggMzEyIDE3NCAzMTJaIiAvPjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xhc3M9InNocDIiIGQ9Ik0yOTYgNDI0TDUyIDQyNEMyMy4yIDQyNCAwIDQwMC44IDAgMzcyTDAgNTJDMCAyMy4yIDIzLjIgMCA1MiAwTDI5NiAwQzMyNC44IDAgMzQ4IDIzLjIgMzQ4IDUyTDM0OCAzNzJDMzQ4IDQwMC44IDMyNC44IDQyNCAyOTYgNDI0Wk01MiAyNEMzNi40IDI0IDI0IDM2LjQgMjQgNTJMMjQgMzcyQzI0IDM4Ny42IDM2LjQgNDAwIDUyIDQwMEwyOTYgNDAwQzMxMS42IDQwMCAzMjQgMzg3LjYgMzI0IDM3MkwzMjQgNTJDMzI0IDM2LjQgMzExLjYgMjQgMjk2IDI0TDUyIDI0WiIgLz48L3N2Zz4=";
var aG=function(){var W,q,X,k,B,U,l,K;function D(M,x,R,y,s){q=x;k=y;l=s;W=M;U={};if(W==0){X=[R]}if(W==1){X=[];
for(var F in R)X.push(F)}if(W==2){var E=R[0],o=R[1],G=R[2],d={};for(var N=0;N<G.length;N++)d[G[N][0]]=!0;
var u={};for(var F in o){var r=F.split("/"),v=r[0],c=v.split("."),V="";if(c.length!=1){V="."+c.pop();
v=c.join(".")}while(d[v+V])v+=" - Copy";r[0]=v+V;u[r.join("/")]=o[F]}var j={};X=[];for(var F in u){var r=F.split("/");
for(var N=0;N<r.length-1;N++){var Q=E+r.slice(0,N+1).join("/")+"/";if(j[Q]==null){j[Q]=!0;X.push([Q])}}var H=E.endsWith("/")||F.startsWith("/")?"":"/";
X.push([E+H+F,u[F]])}}window.addEventListener("message",Y,!1);K=Date.now();m()}function m(){if(X.length==0){p();
return}B=X.shift();if(W==0)a("show",B);if(W==1)a("load",B);if(W==2){a("save",B[0]);if(B.length==2)q.contentWindow.postMessage(B[1],"*")}}function Y(M){if(M.source!=q.contentWindow)return;
if(W==0){var x=JSON.parse(M.data),R=x.code,y=x.prm;for(var N=0;N<y.length;N++){var s=y[N];if(k&&k.indexOf(s[0])==-1)continue;
var F=B+(B=="/"?"":"/"),E=F+s[0];if(s[1]==-1)X.push(E);else U[E]=s}k=null}else if(W==1){U[B]=new Uint8Array(M.data)}m()}function a(M,x){var R=M=="show"?", \"nothumbs\": true":"",y="{\"code\": \""+M+"\", \"prm\": "+JSON.stringify(x)+R+"  }";
q.contentWindow.postMessage(y,"*")}function p(){console.log(Date.now()-K);window.removeEventListener("message",Y,!1);
l(U)}return{VL:D}}();function fI(W){gH.call(this);var q=this.K=I.a("div","form scrollable padded label12");
this.ey=W;this.NV=null;var X=[],k=fI.dK[W];this.agt=[];for(var B in k){var U=parseInt(B.slice(1)),l=U%10==0?"":"\u2800\u2800- ";
X.push(l+k[B]);this.agt.push(U)}this.WT=[new kD("Name",null,30),new kD("Description",null,30,4),W==0?new kD("File"," www.Photopea.com#i...",17):new a8("File",!1,!1),new kD("Thumbnail URL","* Use Imgur.com etc.",17),new cL("Category",X),new h$("Make Public"),new iC("<< Back",null,null,!0),new iC("Save",null,null,!0)];
if(W==0)this.WT.push(new j1("Publish your PSD: File - Publish Online - PSD. Use that URL as \"File\"."),new j1("Get a Thumbnail URL: File - Publish Online - JPG."),new j1("Write a proper description, so that your work can be found using text search."));
if(W==1)this.WT.push(new j1("\"File\" - select a .JSON file of a plugin from your computer. The content must be: {\"name\": ..., \"url\":..., \"icon\":... }"));
if(W!=0)this.WT.push(new j1("Do not load any file to preserve the old version."));for(var N=0;N<this.WT.length;
N++){var K=this.WT[N];q.appendChild(K.K);K.parent=this;if(N!=4&&N!=6)I.zR(q);if(K instanceof iC)K.Q("click",this.az5,this);
if(W!=0&&N==2)K.Q(S.E.k,this.anF,this)}}fI.prototype=new gH;fI.prototype.anF=function(W){var q=this.WT[2],X=q.V(),k=Object.keys(X),B=X[k[0]].buffer,U=lf.pP(B),l=" json atn abr grd asl pat csh icc".split(" ")[this.ey];
if(U!=l){alert("This is a wrong file"+(U?" ("+U.toUpperCase()+")":"")+". You need to upload the "+l.toUpperCase()+" file.");
q.q({})}};fI.prototype.az5=function(W){if(W.target==this.WT[6]){this.T(new ip("back"));return}function q(l,K){return l.indexOf(K)!=-1}var X=this.WT[3].V().trim(),k=X.startsWith("http")&&(q(X,".jpeg")||q(X,".jpg")||q(X,".png")||q(X,".gif"));
if(!k){alert("Thumbnail URL is incorrect.");return}var B=new XMLHttpRequest,U="mirror.php?url="+encodeURIComponent(X);
B.open("GET",U);B.responseType="arraybuffer";B.onload=this.a1U.bind(this);B.send()};fI.prototype.a1U=function(W){var q=W.target.response,X=q.byteLength;
if(X>2e5&&lf.pP(q)!="gif"){alert("Thumbnail is too large ("+eb.qc(X)+"). Make it under 200 kB.");return}var k=this.WT[2].V(),B=Object.keys(k);
if(this.ey!=0&&B.length==0&&(this.NV==null||this.NV.file==null||this.NV.file=="")){alert("You need to select a file.");
return}if(this.ey!=0&&B.length!=0){console.log(k);ch.Gb.aDa(k[B[0]].buffer,B[0],this.a0H.bind(this),"pp-resources");
return}this.a0H()};fI.prototype.a0H=function(W){var q=this.ey,X="name desc file thmb catg publ".split(" "),k=this.NV;
for(var N=0;N<6;N++){if(q!=0&&N==2)continue;var B=this.WT[N].V();if(N<=3){B=B.trim();if(B.length==0){alert("One of values is empty.");
return}}if(N==2){if(B.endsWith(".psd"))B=B.slice(0,B.length-4);var U=B.split("#i");if(U.length!=2||U[1].length!=8){alert("File ID is incorrect.");
return}B=U.pop()}if(N==4)B=this.agt[B];k[X[N]]=B}if(q!=0){if(W)k.file=W;else if(k.file==null){alert("Select a file from your computer.");
return}}if(k.utme.length==0)k.utme=""+Math.round(Date.now()/1e3);k.type=q;this.T(new ip("save"))};fI.prototype.l=function(){};
fI.prototype.q=function(W){var q=this.NV=g.N(W),X=this.ey,k="name desc file thmb catg publ".split(" ");
for(var N=0;N<6;N++){if(X!=0&&N==2)continue;var B=q[k[N]];if(B!=""&&N==2)B="https://photopea.com#i"+B;
if(N==4)B=this.agt.indexOf(B);if(N==5&&B==null)B=!0;this.WT[N].q(B)}};fI.prototype.V=function(){return g.N(this.NV)};
fI.dK=[{c0:"Mockups",c1:"Mobile & Web",c2:"Prints",c3:"Product",c10:"Social Media",c11:"Youtube",c12:"Instagram",c13:"Facebook",c14:"Memes",c15:"Signs",c16:"Animations",c20:"Print",c21:"Cards",c22:"Invitations",c23:"Brochures",c24:"Resumes",c25:"Diploma / Certificate",c30:"Mobile",c40:"Websites",c50:"Presentations",c60:"Other"},{c0:"Resources",c1:"Image Elements",c2:"Fonts",c10:"Effects",c11:"Filters",c12:"Combine Elements",c13:"Text Effects",c20:"Generate Content",c30:"Other Plugins"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"}];
function cd(){gH.call(this);var W=this.K=I.a("div","form");this.NV=null;this.gN=null;this.cn=null;this.Qg=null;
var q=I.a("canvas");this.Ca=q.getContext("2d");I.TK(q);I.aA(q,this.qm.bind(this));this.cV=[new i3([12,44],[[19,0,0],[19,0,1]]),{K:q},new al([12,0],0,100,"%",null,null,null,4),new dT,new al([12,40],0,100,"%",2,null,null,4),new iC([5,4],null,null,!0)];
for(var N=0;N<this.cV.length;N++){var X=this.cV[N];X.parent=this;W.appendChild(X.K);if(N!=2&&N!=4)I.zR(W);
if(N!=1)X.Q(N==5?"click":S.E.k,this._t,this)}this.mM=this.bL.bind(this);this.j5=this.tX.bind(this)}cd.prototype=new gH;
cd.prototype.V=function(){return g.N(this.NV)};cd.prototype.q=function(W){this.NV=g.N(W);this.Jv()};
cd.prototype.l=function(){var W=this.cV;for(var N=0;N<W.length;N++)if(W[N].l)W[N].l()};cd.prototype.qm=function(W){var q=I.W$(),X=I.IO(W,this.Ca.canvas);
X.x*=q;X.y*=q;var k=this.cn,B=this.Qg,U=this.NV,l=U[1],K=7*I.W$(),D=-1;for(var N=0;N<k.length;N++){if(hw.tj(X,k[N][0])<K)D=N}if(D==-1){if(Math.abs(X.y-(B.y+B.$))>10*q)return;
var m=[.5,[0,0,0],1,.5];l.push(m);l.sort(function(Y,a){return Y[0]-a[0]});this.Ya=[new hw,l.indexOf(m),0]}else this.Ya=k[D];
this.gN=JSON.stringify(this.NV);I.wO(window,this.mM);I.DA(window,this.j5);if(D==-1)this.bL(W);this.Jv()};
cd.prototype.bL=function(W){this.NV=JSON.parse(this.gN);var q=I.W$(),X=I.IO(W,this.Ca.canvas);X.x*=q;
X.y*=q;var k=this.Ya,B=k[1],U=this.Qg,l=this.NV[1],K=l[B],D=(X.x-U.x)/U.r;if(k[2]==0){K[0]=Math.max(0,Math.min(1,D));
if(Math.abs(X.y-(U.y+U.$))>30*q)l.splice(B,1)}else{var m=K[0],Y=l[B+1][0],a=K[3];K[3]=Math.max(.13,Math.min(.87,(D-m)/(Y-m)))}l.sort(function(p,M){return p[0]-M[0]});
this.Jv()};cd.prototype.tX=function(W){I.yO(window,this.mM);I.xB(window,this.j5)};cd.prototype._t=function(W){var q=this.cV,N=q.indexOf(W.target),X=this.NV,k=W.target.V(),B=this.Ya;
if(N==0)X[0]=k;if(B){var U=X[1][B[1]];if(N==2)U[2]=k/100;if(N==3){k=g.gC(W.target.SQ());U[1]=[k.o/255,k.L/255,k.X/255]}if(N==4)if(B[2]==0)U[0]=k/100;
else U[3]=Math.max(.13,Math.min(.87,k/100));if(N==5){X[1].splice(B[1],1);this.Ya=null}}this.Jv()};cd.prototype.Jv=function(){var W=this.cV,q=this.NV,X=q[1],k=this.Ca,B=k.canvas;
W[0].q(q[0]);var U=B.width=Math.floor(300*I.W$()),l=B.height=Math.floor(60*I.W$()),K=Math.floor(20*I.W$()),D=U-K-K;
this.Qg=new dU(K,K,D,l-K-K);I.V7(B);var m=k.fillStyle=k.createLinearGradient(K,K,U-K,K);g.ov.D0(m,X);
k.fillRect(K,K,D,l-K-K);k.lineWidth=1;k.strokeRect(K-.5,K-.5,D+1,l-K-K+1);var Y=this.cn=[],a=this.Ya;
k.fillStyle="white";for(var N=0;N<X.length;N++){var p=X[N],M=p[0],x=l-K*.6;if(a&&a[1]==N&&a[2]==0){k.fillStyle="#00aaff";
k.beginPath();k.arc(K+M*D,x,l*.125,0,2*Math.PI);k.fill()}k.fillStyle="white";k.beginPath();k.arc(K+M*D,x,l*.1,0,2*Math.PI);
k.fill();k.beginPath();k.arc(K+M*D,x,l*.07,0,2*Math.PI);k.stroke();Y.push([new hw(K+M*D,x),N,0]);if(N!=X.length-1){var R=p[3],y=X[N+1][0];
M=M+R*(y-M);x=K*.7;if(a&&a[1]==N&&a[2]==1){k.fillStyle="#00aaff";k.beginPath();k.arc(K+M*D,x,l*.075,0,2*Math.PI);
k.fill()}k.fillStyle="white";k.beginPath();k.arc(K+M*D,x,l*.05,0,2*Math.PI);k.fill();Y.push([new hw(K+M*D,x),N,1])}}W[2].Si(a&&a[2]==0);
W[3].Si(a&&a[2]==0);W[4].Si(a!=null);W[5].Si(a&&a[2]==0&&X.length>2);if(a){var p=X[a[1]],s=p[1];if(a[2]==0)W[2].q(p[2]*100);
W[3].Ih(g.xS({o:s[0]*255,L:s[1]*255,X:s[2]*255}));W[4].q(p[a[2]==0?0:3]*100)}};function kf(W){gH.call(this);
this.hj=W;this.K=I.a("div","");this.aC=[];this.akn=null;this.azf=[]}kf.prototype=new gH;kf.prototype.oP=function(W){};
kf.prototype.ix=function(){return!1};kf.prototype.Zz=function(){return 0};kf.prototype.qL=function(W,q){};
kf.prototype.QL=function(W,q){};kf.prototype.Jw=function(W){};kf.prototype.q=function(W,q,X,k,B,U){var l=[],K=this.aC,D=0,m=dY.U9["s"+this.hj];
if(this.hj=="Dspl")this.zc(W,l,U);else m?m(W,l,U):this.zc(W,l,U);for(var N=0;N<K.length;N++)if(!(K[N]instanceof j1))K[N].q(l[D++]);
if(W.RndS)this.akn=W.RndS.v};kf.prototype.V=function(){var W=dY.wy(this.hj),q=[],X=this.aC,k=0;for(var N=0;
N<X.length;N++)if(!(X[N]instanceof j1))q[k++]=X[N].V();var B=dY.U9["g"+this.hj];if(this.hj=="Dspl")this.eD(W,q);
else B?B(W,q):this.eD(W,q);if(W.RndS)W.RndS.v=this.akn;return W};kf.prototype.jm=function(W){};kf.prototype.qz=function(W){if(W&&W.target instanceof iC){this.akn=Math.floor(Math.random()*4294967295)}var q=this.azf;
for(var N=0;N<q.length;N+=2){var X=this.aC[q[N]],k=this.aC[q[N+1]],B=X.V(),U=k.V();if(W.target==X)k.q(Math.max(B,U));
else X.q(Math.min(B,U))}this.T(new ip(S.E.k))};kf.prototype.l=function(){for(var N=0;N<this.aC.length;
N++)this.aC[N].l();var W=this.anE;if(W)W.l()};kf.prototype.Fs=function(W){I.Wx(this.K,"form");var q=this.aC;
for(var N=0;N<q.length;N++){var X=q[N];X.parent=this;X.Q(S.E.k,this.qz,this);this.K.appendChild(X.K);
if(X instanceof h$&&q[N+1]instanceof dT)continue;if(W&&W.indexOf(N)!=-1)I.Vc(this.K);else I.zR(this.K)}var k=dY.wy(this.hj);
if(k.RndS){var B=this.anE=new iC([25,1,2],null,null,!0);this.K.appendChild(B.K);B.Q("click",this.qz,this)}};
kf.prototype.hK=function(W){return!1};kf.prototype.U4=function(){return!1};kf.prototype.mc=function(W,q,X,k,B){};
kf.prototype.lG=function(W,q,X,k,B){};kf.prototype.iY=function(W,q,X,k,B){};kf.prototype.eD=function(W,q){};
kf.prototype.zc=function(W,q){};kf.prototype.p1=function(W){var q=W.target.V().indexOf(!0),X=q!=-1;if(q!=-1){this.e9=q}if(this.st==null)this.st=0;
var k=Date.now(),B=new ip(S.E.H,!0);B.wV=!0;if(k-this.st<300&&this.e9<3&&this.Fo&&this.A9==null){if(this.xs==null)this.xs=[0,8421504,16777215];
B.data={R:S.m.K_,ud:"colorpicker",ke:this.xs[this.e9],om:this.aGD.bind(this)};this.T(B)}else{this.ary(q!=-1)}this.st=k};
kf.prototype.ary=function(W){var q=new ip(S.E.H,!0);q.wV=!0;q.data={R:W?S.m.oE:S.m.oF,J:_.Jb};this.T(q);
q=new ip(S.E.O,!0);q.J=_.Jb;q.wV=!0;q.data={R:"supertool",J:W?this:null};this.T(q)};kf.prototype.aGD=function(W){this.xs[this.e9]=W;
var q=[];for(var N=0;N<3;N++)q[N]="#"+g.Ga(this.xs[N]);this.Fo.oj(i3.NQ(q));var X=[!1,!1,!1];X[this.e9]=!0;
this.Fo.q(X);this.ary(!0)};kf.aze=function(W){W.U4=function(){return!0};W.mc=function(q,X,k,B,U){this.Wi=!0;
this.aFD(q,U)};W.lG=function(q,X,k,B,U){if(!this.Wi)return;this.aFD(q,U)};W.iY=function(q,X,k,B,U){this.Wi=!1};
W.aFD=function(q,X){var k=new dU(0,0,q.r,q.$);if(q.d)k=q.d.S;var B=q.f.uy(X.x,X.y);B.x-=k.x;B.y-=k.y;
function U(l,K){return Math.round(Math.max(0,Math.min(100,100*l/K)))}this.aC[2].q(U(B.x,k.r));this.aC[3].q(U(B.y,k.$));
this.qz()}};kf.aCd=function(W,q,X,k){var B=W.Fo.V().indexOf(!0);if(B==-1||B>2)return;var U=k=="levl"?i0:eR,l=W.value;
W.value=dY.wy(k);W.qz();var K=_.Mo.NR(q,X,1,null,!0),D=[K>>>16&255,K>>>8&255,K&255],m=W.xs;if(m==null)m=[0,8421504,16777215];
K=m[B];var Y=[K>>>16&255,K>>>8&255,K&255];for(var N=0;N<3;N++){var a=U.XN(l,1+N);if(B==0){var p=D[N]-Y[N];
if(k=="levl")a[0]=p;else a[0].v.Hrzn.v=p}if(B==1){var M=Math.log(D[N]/255)/Math.log((D[0]+D[1]+D[2])*.333/255),x=Math.log(Y[N]/255)/Math.log((Y[0]+Y[1]+Y[2])*.333/255),R=M/x;
if(k=="levl")a[4]=Math.min(999,Math.max(10,Math.round(100*R)));else{if(a.length==2)a.splice(1,0,g.N(a[0]));
a[1].v.Hrzn.v=127-Math.log(R)*80;a[1].v.Vrtc.v=127}}if(B==2){var p=255*D[N]/Y[N];if(k=="levl")a[1]=p;
else a[a.length-1].v.Hrzn.v=p}U.jr(l,1+N,a)}W.q(l);W.qz()};kf.Bokh=function(){kf.call(this,"Bokh");this.aC=[new cL("Depth Map",["A","b"]),new iT("Focal Distance",0,255),new h$([4,11]),new cL([12,76,1],["Triangle (3)",["VAR0 (4)",[12,93,3]],"Pentagon (5)","Hexagon (6)","Heptagon (7)","Octagon (8)"]),new iT([12,56],0,100),new iT([12,15],0,360),new iT([12,2],0,100),new iT([4,13],0,255),new iT([24,6],0,100),new i3([12,58],[[12,59,0],[12,59,1]]),new h$([12,60])];
this.Fs([5,7])};kf.Bokh.prototype=new kf;kf.Bokh.prototype.zc=function(W,q,X){var k=[[22,5,0],[6,5,3],[6,2]],B=W.BkDi.v.BtDi,U=W.BkDc,l=0;
if(B=="BeIn")l=0;else if(B=="BeIt"&&U.v.BtDc=="BeCt")l=1;else if(B=="BeIt"&&U.v.BtDc=="BeCm")l=2;else l=3+U.v;
for(var N=0;N<X[1].length;N++)k.push(X[1][N].name);this.aC[0].oj(k,[3]);q[0]=l;q[1]=W.BkDp.v;q[2]=W.BkDs.v;
q[3]=parseInt(W.BkIs.v.BtIs.slice(3))-3;q[4]=W.BkIb.v;q[5]=W.BkIr.v;q[6]=W.BkSb.v;q[7]=W.BkSt.v;q[8]=W.BkNa.v;
q[9]=W.BkNt.v.BtNt=="BeNu"?0:1;q[10]=W.BkNm.v};kf.Bokh.prototype.eD=function(W,q){var X;if(q[0]==0){X="BeIn";
delete W.BkDc}else if(q[0]<3){X="BeIt";W.BkDc={t:"enum",v:{BtDc:["BeCt","BeCm"][q[0]-1]}}}else{X="BeIa";
W.BkDc={t:"long",v:q[0]-3}}W.BkDi.v.BtDi=X;W.BkDp.v=q[1];W.BkDs.v=q[2];W.BkIs.v.BtIs="BeS"+(3+q[3]);
W.BkIb.v=q[4];W.BkIr.v=q[5];W.BkSb.v=q[6];W.BkSt.v=q[7];W.BkNa.v=q[8];W.BkNt.v.BtNt=["BeNu","BeNg"][q[9]];
W.BkNm.v=q[10]};kf.oilPaint=function(){kf.call(this,"oilPaint");this.aC=[new iT([12,56],.1,10,"px",!0),new iT("Cleanliness",0,10,"px",!0),new iT([12,38],.1,10,null,!0),new iT("Bristle Detail",0,10,null,!0),new h$("Lighting"),new iT("Shine",0,10,null,!0),new fT([12,15])];
this.Fs()};kf.oilPaint.prototype=new kf;kf.oilPaint.prototype.zc=function(W,q){var X="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var N=0;N<X.length;N++)q[N]=W[X[N]].v;q[6]=[W.LghD.v]};kf.oilPaint.prototype.eD=function(W,q){var X="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var N=0;N<X.length;N++)W[X[N]].v=q[N];W.LghD.v=q[6][0]};kf.TrcC=function(){kf.call(this,"TrcC");
this.aC=[new iT("Level",0,255),new i3([12,69],[[19,4,1],[19,4,0]])];this.Fs()};kf.TrcC.prototype=new kf;
kf.TrcC.prototype.zc=function(W,q){q[0]=W.Lvl.v;q[1]=["Lwr","Upr"].indexOf(W.Edg.v.CntE)};kf.TrcC.prototype.eD=function(W,q){W.Lvl.v=q[0];
W.Edg.v.CntE=["Lwr","Upr"][q[1]]};kf["Dfs "]=function(){kf.call(this,"Dfs ");this.aC=[new i3([12,36],[[15,10,0],[15,10,6],[15,10,11],"Anisotropic"])];
this.Fs()};kf["Dfs "].prototype=new kf;kf["Dfs "].prototype.zc=function(W,q){q[0]=["Nrml","DrkO","LghO","anisotropic"].indexOf(W.Md.v.DfsM)};
kf["Dfs "].prototype.eD=function(W,q){W.Md.v.DfsM=["Nrml","DrkO","LghO","anisotropic"][q[0]]};kf.Embs=function(){kf.call(this,"Embs");
this.aC=[new fT([12,15]),new iT([12,42],1,100,"px"),new iT([12,57],1,500,"%")];this.Fs()};kf.Embs.prototype=new kf;
kf.Embs.prototype.zc=function(W,q){q[0]=[W.Angl.v];q[1]=W.Hght.v;q[2]=W.Amnt.v};kf.Embs.prototype.eD=function(W,q){W.Angl.v=q[0][0];
W.Hght.v=q[1];W.Amnt.v=q[2]};kf["Wnd "]=function(){kf.call(this,"Wnd ");this.aC=[new i3([12,32],["Wind","Blast","Stagger"]),new i3([12,33],["From the Right","From the Left"])];
this.Fs()};kf["Wnd "].prototype=new kf;kf["Wnd "].prototype.zc=function(W,q){q[0]=["Wnd","Blst","Stgr"].indexOf(W.WndM.v.WndM);
q[1]=["Left","Rght"].indexOf(W.Drct.v.Drct)};kf["Wnd "].prototype.eD=function(W,q){W.WndM.v.WndM=["Wnd","Blst","Stgr"][q[0]];
W.Drct.v.Drct=["Left","Rght"][q[1]]};kf.denoise=function(){kf.call(this,"denoise");this.aC=[new iT([12,64],0,10),new iT([12,65],0,100,"%")];
this.Fs()};kf.denoise.prototype=new kf;kf.denoise.prototype.zc=function(W,q){var X=W.channelDenoise.v[0].v;
q[0]=X.Amnt.v;q[1]=X.EdgF.v};kf.denoise.prototype.eD=function(W,q){var X=W.channelDenoise.v[0].v;X.Amnt.v=q[0];
X.EdgF.v=q[1]};kf.lightFilterGradient=function(){kf.call(this,"lightFilterGradient");this.aC=[new iT([24,3,1],0,100,"px",1,!0),new iT([12,38],0,200,"%"),new h$([4,11]),new iT("High",0,100,"%"),new iT("Medium",0,100,"%"),new iT("Low",0,100,"%")];
this.Fs()};kf.lightFilterGradient.prototype=new kf;kf.lightFilterGradient.prototype.zc=function(W,q){q[0]=W.blur.v;
q[1]=W.textureScale.v*100;q[2]=W.Scl.v==-1;var X=W.Dtl.v;q[3]=X[0].v*100;q[4]=X[1].v*100;q[5]=X[2].v*100};
kf.lightFilterGradient.prototype.eD=function(W,q){W.blur.v=q[0];W.textureScale.v=q[1]/100;W.Scl.v=q[2]?-1:1;
var X=W.Dtl.v;X[0].v=q[3]/100;X[1].v=q[4]/100;X[2].v=q[5]/100};kf.Fbrs=function(){kf.call(this,"Fbrs");
this.aC=[new iT("Variance",1,64),new iT([12,64],1,64)];this.Fs()};kf.Fbrs.prototype=new kf;kf.Fbrs.prototype.zc=function(W,q){q[0]=W.Vrnc.v;
q[1]=W.Strg.v};kf.Fbrs.prototype.eD=function(W,q){W.Vrnc.v=q[0];W.Strg.v=q[1]};kf.LnsF=function(){kf.call(this,"LnsF");
this.aC=[new iT([12,2],10,300,"%"),new i3([12,44],["Lens 1","Lens 2","Lens 3","Lens 4"]),new iT("Position X",0,100,"%"),new iT("Position Y",0,100,"%")];
this.Fs()};kf.LnsF.prototype=new kf;kf.LnsF.prototype.zc=function(W,q){q[0]=W.Brgh.v;q[1]=["Zm","Nkn","Nkn1","PnVs"].indexOf(W.Lns.v.Lns);
var X=W.FlrC.v;q[2]=Math.round(X.Hrzn.v*100);q[3]=Math.round(X.Vrtc.v*100)};kf.LnsF.prototype.eD=function(W,q){W.Brgh.v=q[0];
W.Lns.v.Lns=["Zm","Nkn","Nkn1","PnVs"][q[1]];var X=W.FlrC.v;X.Hrzn.v=q[2]/100;X.Vrtc.v=q[3]/100};kf.aze(kf.LnsF.prototype);
kf.blendOptions=function(){kf.call(this,"blendOptions");this.aC.push(new cL([12,19,0],jm.Y7,jm._i));
this.aC.push(new iT([12,0],0,100,"%"));this.Fs()};kf.blendOptions.prototype=new kf;kf.blendOptions.prototype.zc=function(W,q){q[0]=jm.FW.indexOf(W.Md.v.BlnM);
q[1]=W.Opct.v.val};kf.blendOptions.prototype.eD=function(W,q){W.Md.v.BlnM=jm.FW[q[0]];W.Opct.v.val=q[1]};
kf.LnCr=function(){kf.call(this,"LnCr");this.aC=[new iT([12,57],-100,100),new iT([12,38],10,150,"%")];
this.Fs()};kf.LnCr.prototype=new kf;kf.LnCr.prototype.zc=function(W,q){q[0]=W.LnIa.v;q[1]=W.LnSi.v};
kf.LnCr.prototype.eD=function(W,q){W.LnIa.v=q[0];W.LnSi.v=q[1]};kf.adaptCorrect=function(){kf.call(this,"adaptCorrect");
var W=dM;this.aC=[new j1([19,6,0]),new W([12,57],0,100,"%"),new W("Tone",0,100,"%"),new W([12,56],0,200,"px"),new j1([19,6,2]),new W([12,57],0,100,"%"),new W("Tone",0,100,"%"),new W([12,56],0,200,"px"),new j1([3]),new W([13,0],-100,100)];
this.Fs([3,7])};kf.adaptCorrect.prototype=new kf;kf.adaptCorrect.prototype.zc=function(W,q){var X=W.sdwM.v;
q[0]=X.Amnt.v.val;q[1]=X.Wdth.v.val;q[2]=X.Rds.v;var X=W.hglM.v;q[3]=X.Amnt.v.val;q[4]=X.Wdth.v.val;
q[5]=X.Rds.v;q[6]=W.ClrC.v};kf.adaptCorrect.prototype.eD=function(W,q){var X=W.sdwM.v;X.Amnt.v.val=q[0];
X.Wdth.v.val=q[1];X.Rds.v=q[2];var X=W.hglM.v;X.Amnt.v.val=q[3];X.Wdth.v.val=q[4];X.Rds.v=q[5];W.ClrC.v=q[6]};
kf.Flam=function(){kf.call(this,"Flam");var W=this.aC=[new cL([12,44],"One Flame Along Path,Multiple Flames Along Path,Multiple Flames One Direction,Multiple Flames Path Directed,Multiple Flames Various Angle,Candle Light".split(",")),new iT([12,80,0],20,1e3,"px"),new h$("Randomize Length"),new iT([12,41],5,600,"px"),new iT([12,15],0,360,"\xB0"),new iT("Interval",10,200,"px"),new h$("Adapt Interval for Loops"),new dT(!1),new cL([12,52,0],["1: Draft","2: Low","3: Medium","4: High","5: Fine"]),new iT("Turbulent",0,100),new iT("Jag",0,100),new iT([12,0],0,100),new iT("Lines",2,30),new iT("Bottom",0,100),new cL([12,22],["Normal","Violent","Flat"]),new cL([12,76,1],["Parallel","To the center","Spread","Oval","Pointing"]),new h$("Randomize Shape"),new iT("Random Seed",0,100)];
this.Fs();var q=this.K;I.ru(q);var X=new i3(null,["Basic","Advanced"]);X.Q(S.E.k,this.a6o,this);q.appendChild(X.K);
I.Vc(q);var k=I.a("div"),B=I.a("div");this.aKD=[k,B];q.appendChild(k);for(var N=0;N<W.length;N++){(N<9?k:B).appendChild(W[N].K);
if(N==6)I.zR(k)}W[0].Q(S.E.k,this.aG9,this);this.aG9()};kf.Flam.prototype=new kf;kf.Flam.prototype.aG9=function(W){var q=this.aC,N=q[0].V();
q[1].Si(N!=0&&N!=5);q[2].Si(N!=0&&N!=5);q[4].Si(N!=0&&N!=5&&N!=1);q[5].Si(N!=0&&N!=5);q[6].Si(N!=0&&N!=5)};
kf.Flam.prototype.a6o=function(W){var N=W.target.V(),q=this.aKD,X=this.K;X.removeChild(q[1-N]);X.appendChild(q[N])};
kf.boxblur=function(){kf.call(this,"boxblur");this.aC=[new iT([12,56],1,200," px")];this.Fs()};kf.boxblur.prototype=new kf;
kf.boxblur.prototype.zc=function(W,q){q[0]=W.Rds.v.val};kf.boxblur.prototype.eD=function(W,q){W.Rds.v.val=q[0]};
kf.GsnB=function(){kf.call(this,"GsnB");this.aC=[new iT([12,56],.1,400,"px",1,!0)];this.Fs()};kf.GsnB.prototype=new kf;
kf.Dila=function(){kf.call(this,"Dila");this.aC=[new iT([11,12,1],0,20,"px",0),new iT([12,56],0,400,"px",0,!0)];
this.Fs()};kf.Dila.prototype=new kf;kf.MtnB=function(){kf.call(this,"MtnB");this.aC=[new fT([12,15]),new iT([12,28],1,100," px")];
this.Fs()};kf.MtnB.prototype=new kf;kf.RdlB=function(){kf.call(this,"RdlB");this.aC=[new iT([12,57],1,100),new i3([12,36],["Spin","Zoom"]),new iT("Position X",0,100,"%"),new iT("Position Y",0,100,"%")];
this.Fs()};kf.RdlB.prototype=new kf;kf.RdlB.prototype.zc=function(W,q){q[0]=W.Amnt.v;q[1]=["Spn","Zm"].indexOf(W.BlrM.v.BlrM);
q[2]=W.Cntr.v.Hrzn.v*100;q[3]=W.Cntr.v.Vrtc.v*100};kf.RdlB.prototype.eD=function(W,q){W.Amnt.v=q[0];
W.BlrM.v.BlrM=["Spn","Zm"][q[1]];W.Cntr.v.Hrzn.v=q[2]/100;W.Cntr.v.Vrtc.v=q[3]/100};kf.aze(kf.RdlB.prototype);
kf.Dspl=function(){kf.call(this,"Dspl");this.aC=[new cL([6,36,3],["a","b"]),new iT([22,4,0],-100,100,"px"),new iT([22,4,1],-100,100,"px"),new cL([24,18,0],[[24,18,3],[24,18,2]])];
this.Fs()};kf.Dspl.prototype=new kf;kf.Dspl.prototype.zc=function(W,q,X){this.azS=[];this.CC=[];var k=-1,B=X?X[0]:null;
if(B==null)B=this.aH5;else this.aH5=B;if(B)for(var N=0;N<B.length;N++){var U=B[N];this.azS.push(U.k7.trim());
this.CC.push(U.I8);if(U.I8==W.DspF.v.pth)k=N}this.aC[0].oj(this.azS);q[0]=k==-1?0:k;q[1]=W.HrzS.v;q[2]=W.VrtS.v;
q[3]=["WrpA","RptE"].indexOf(W.UndA.v.UndA)};kf.Dspl.prototype.eD=function(W,q){var X=this.aH5;if(this.CC.length==0)return;
W.DspF.v.pth=this.CC[q[0]];W.HrzS.v=q[1];W.VrtS.v=q[2];W.UndA.v.UndA=["WrpA","RptE"][q[3]];var k=X[q[0]];
k.OL();var B=k.jx[1],U=B.r,l=B.$,K=g.j(B.C());g.Iv(k.jx[0],K);var D=[l&255,l>>>8,0,0,U&255,U>>>8,0,0,3,0];
for(var m=0;m<2;m++)for(var N=0;N<K.length;N++)D.push(K[N]);for(var N=0;N<1e3;N++)D.push(0);W.DspD={t:"tdta",v:D};
W.EmbF={t:"bool",v:!0}};kf.Pnch=function(){kf.call(this,"Pnch");this.aC=[new iT([12,57],-100,100,"%")];
this.Fs()};kf.Pnch.prototype=new kf;kf["Plr "]=function(){kf.call(this,"Plr ");this.aC=[new i3(null,["Rect to Polar","Polar to Rect"])];
this.Fs()};kf["Plr "].prototype=new kf;kf.Rple=function(){kf.call(this,"Rple");this.aC=[new iT([12,57],-999,999),new cL([12,14,0],[[19,8,0],[19,8,1],[19,8,2]])];
this.Fs()};kf.Rple.prototype=new kf;kf["Shr "]=function(){kf.call(this,"Shr ");this.aC=[new eA(!0,!0),new cL([24,18,0],[[24,18,3],[24,18,2]])];
this.Fs()};kf["Shr "].prototype=new kf;kf["Shr "].prototype.zc=function(W,q){var X=new ka(0,255/127,255/127,0,-2,128),k=g.N(W.ShrP.v);
g.yz.M(k,X);q[0]=k;q[1]=["WrpA","RptE"].indexOf(W.UndA.v.UndA)};kf["Shr "].prototype.eD=function(W,q){var X=new ka(0,255/127,255/127,0,-2,128);
X.i5();g.yz.M(q[0],X);W.ShrP.v=q[0];W.ShrE.v=q[0].length-1;W.UndA.v.UndA=["WrpA","RptE"][q[1]]};kf.Sphr=function(){kf.call(this,"Sphr");
this.aC=[new iT([12,57],-100,100),new cL([12,36],[[15,10,0],[22,4,0],[22,4,1]])];this.Fs()};kf.Sphr.prototype=new kf;
kf.Sphr.prototype.zc=function(W,q){q[0]=W.Amnt.v;q[1]=["Nrml","HrzO","VrtO"].indexOf(W.SphM.v.SphM)};
kf.Sphr.prototype.eD=function(W,q){W.Amnt.v=q[0];W.SphM.v.SphM=["Nrml","HrzO","VrtO"][q[1]]};kf.Dthr=function(){kf.call(this,"Dthr");
this.aC=[new cL("Palette",[[4,7],"RGB 2x2x2","RGB 4x4x4","RGB 8x8x4"]),new i3("Method",["None","Floyd-Steinberg","Bayer 4x4"])];
this.Fs()};kf.Dthr.prototype=new kf;kf.Dthr.prototype.zc=function(W,q){q[0]=W.Plte.v;q[1]=W.Mthd?W.Mthd.v:1};
kf.Dthr.prototype.eD=function(W,q){W.Plte.v=q[0];W.Mthd.v=q[1]};kf.Part=function(){kf.call(this,"Part");
this.aC=[new iT([15,5,1],0,100,"%"),new iT([12,14,0],1,50,"px"),new iT([12,34],0,100,"%"),new iT([12,2],10,1e3,"%"),new dT(!0),new iT("Time",0,1,null,3),new iT("Turbulence",0,100,"%"),new h$("Blink"),new h$("Fall")];
this.Fs([4])};kf.Part.prototype=new kf;kf.Part.prototype.zc=function(W,q){q[0]=W.Cont.v;q[1]=W.Size.v;
q[2]=W.Dpth.v;q[3]=W.Brgh.v;q[4]=W.Clr.v;q[5]=W.Time.v;q[6]=W.Turb.v;q[7]=W.Blnk.v;q[8]=W.Fall.v};kf.Part.prototype.eD=function(W,q){W.Cont.v=q[0];
W.Size.v=q[1];W.Dpth.v=q[2];W.Brgh.v=q[3];W.Clr.v=q[4];W.Time.v=q[5];W.Turb.v=q[6];W.Blnk.v=q[7];W.Fall.v=q[8]};
kf.Twrl=function(){kf.call(this,"Twrl");this.aC=[new iT([12,15],-999,999)];this.Fs()};kf.Twrl.prototype=new kf;
kf.Wave=function(){kf.call(this,"Wave");this.azf=[1,2,3,4];this.aC=[new iT("Number of Generators",1,100),new dM("Min Length",1,999),new dM("Max Length",1,999),new dM("Min Ampl.",1,999),new dM("Max Ampl.",1,999),new dM("Scale X",1,100,"%"),new dM("Scale Y",1,100,"%"),new i3([12,44],["Sine","Triangle",[12,93,3]]),new cL([24,18,0],[[24,18,3],[24,18,2]])];
this.Fs()};kf.Wave.prototype=new kf;kf.ZgZg=function(){kf.call(this,"ZgZg");this.aC=[new iT([12,57],-100,100),new iT("Ridges",0,20),new cL([12,22],["Around Center","Out From Center","Pond Ripples"])];
this.Fs()};kf.ZgZg.prototype=new kf;kf.surfaceBlur=function(){kf.call(this,"surfaceBlur");this.aC=[new iT([12,56],1,200," px"),new iT([4,13],1,255," px")];
this.Fs()};kf.surfaceBlur.prototype=new kf;kf.surfaceBlur.prototype.zc=function(W,q){q[0]=W.Rds.v.val;
q[1]=W.Thsh.v};kf.surfaceBlur.prototype.eD=function(W,q){W.Rds.v.val=q[0];W.Thsh.v=q[1]};kf.AdNs=function(){kf.call(this,"AdNs");
this.aC=[new iT([12,57],0,200," %"),new cL([12,58],[[12,59,1],[12,59,0]]),new h$([12,60])];this.Fs()};
kf.AdNs.prototype=new kf;kf.DstS=function(){kf.call(this,"DstS");this.aC=[new iT([12,56],1,200," px"),new iT([4,13],1,255," px")];
this.Fs()};kf.DstS.prototype=new kf;kf["Mdn "]=function(){kf.call(this,"Mdn ");this.aC=[new iT([12,56],1,200," px")];
this.Fs()};kf["Mdn "].prototype=new kf;kf["Mdn "].prototype.zc=function(W,q){q[0]=W.Rds.v.val};kf["Mdn "].prototype.eD=function(W,q){W.Rds.v.val=q[0]};
kf.ClrH=function(){kf.call(this,"ClrH");this.aC=[new iT([12,56],4,100," px")];for(var N=1;N<4;N++)this.aC.push(new iT("Angle "+N,0,90," \xB0"));
this.Fs()};kf.ClrH.prototype=new kf;kf.ClrH.prototype.zc=function(W,q){q[0]=W.Rds.v;for(var N=1;N<4;
N++)q[N]=W["Ang"+N].v};kf.ClrH.prototype.eD=function(W,q){W.Rds.v=q[0];for(var N=1;N<4;N++)W["Ang"+N].v=q[N]};
kf.ClrH.prototype.l=function(){var W=this.aC;W[0].l();for(var N=1;N<4;N++)W[N].tB(js.get([12,15])+" "+N)};
kf.Crst=function(){kf.call(this,"Crst");this.aC=[new iT([12,61],3,100," px")];this.Fs()};kf.Crst.prototype=new kf;
kf.Crst.prototype.zc=function(W,q){q[0]=W.ClSz.v};kf.Crst.prototype.eD=function(W,q){W.ClSz.v=q[0]};
kf.Mztn=function(){kf.call(this,"Mztn");this.aC.push(new cL([12,44],"Fine Dots,Medium Dots,Grainy Dots,Coarse Dots,Short Lines,Medium Lines,Long Lines,Short Strokes,Medium Strokes,Long Strokes".split(","),[4,3,3]));
this.CC="FnDt MdmD GrnD CrsD ShrL MdmL LngL ShSt MdmS LngS".split(" ");this.Fs()};kf.Mztn.prototype=new kf;
kf.Mztn.prototype.zc=function(W,q){q[0]=this.CC.indexOf(W.MztT.v.MztT)};kf.Mztn.prototype.eD=function(W,q){W.MztT.v.MztT=this.CC[q[0]]};
kf["Msc "]=function(){kf.call(this,"Msc ");this.aC=[new iT([12,61],2,200," px")];this.Fs()};kf["Msc "].prototype=new kf;
kf["Msc "].prototype.zc=function(W,q){q[0]=W.ClSz.v.val};kf["Msc "].prototype.eD=function(W,q){W.ClSz.v.val=q[0]};
kf.Pntl=function(){kf.call(this,"Pntl");this.aC=[new iT([12,61],3,100," px")];this.Fs()};kf.Pntl.prototype=new kf;
kf.Pntl.prototype.zc=function(W,q){q[0]=W.ClSz.v};kf.Pntl.prototype.eD=function(W,q){W.ClSz.v=q[0]};
kf.smartSharpen=function(){kf.call(this,"smartSharpen");this.aC=[new iT([12,57],1,200,"%"),new iT([12,56],0,200,"px",1,!0)];
this.Fs()};kf.smartSharpen.prototype=new kf;kf.smartSharpen.prototype.zc=function(W,q){q[0]=W.Amnt?W.Amnt.v.val:200;
q[1]=W.Rds?W.Rds.v.val:1};kf.smartSharpen.prototype.eD=function(W,q){W.Amnt.v.val=q[0];W.Rds.v.val=q[1]};
kf.UnsM=function(){kf.call(this,"UnsM");this.aC=[new iT([12,57],1,200," %"),new iT([12,56],.1,400,"px",1,!0),new iT([4,13],0,255," ")];
this.Fs()};kf.UnsM.prototype=new kf;kf.HghP=function(){kf.call(this,"HghP");this.aC=[new iT([12,56],.1,400,"px",1,!0)];
this.Fs()};kf.HghP.prototype=new kf;kf.HsbP=function(){kf.call(this,"HsbP");this.aC=[new i3("Input",["RGB","HSB","HSL"]),new i3("Output",["RGB","HSB","HSL"])];
this.Fs()};kf.HsbP.prototype=new kf;kf["Mxm "]=function(){kf.call(this,"Mxm ");this.aC=[new iT([12,56],.1,200," px",1,!0),new cL([12,76,1],[[12,93,3],"Circle"])];
this.Fs()};kf["Mxm "].prototype=new kf;kf["Mnm "]=function(){kf.call(this,"Mnm ");this.aC=[new iT([12,56],.1,200," px",1,!0),new cL([12,76,1],[[12,93,3],"Circle"])];
this.Fs()};kf["Mnm "].prototype=new kf;kf.Ofst=function(){kf.call(this,"Ofst");this.aC=[new iT([22,4,0],-1024,1024," px"),new iT([22,4,1],-1024,1024," px"),new cL([24,18,0],[[24,18,2],[24,18,1],[24,18,3]])];
this.Fs()};kf.Ofst.prototype=new kf;kf.Kale=function(){kf.call(this,"Kale");this.aC=[new dM("Mirrors",2,20),new dM([12,15],0,360,"\xB0")];
this.Fs()};kf.Kale.prototype=new kf;kf.Kale.prototype.zc=function(W,q){q[0]=W.Mirr.v;q[1]=W.MRot.v};
kf.Kale.prototype.eD=function(W,q){W.Mirr.v=q[0];W.MRot.v=q[1]};kf.Rept=function(){kf.call(this,"Rept");
this.aC=[new dM([12,38],1,300," %"),new dM("Row Shift",-50,50," %"),new dM("Space X",-99,200," %"),new dM("Space Y",-99,200," %"),new h$([4,16,2]),new fT([12,15])];
this.Fs()};kf.Rept.prototype=new kf;kf.Rept.prototype.zc=function(W,q){q[0]=W.Scl.v.val;q[1]=W.Rsft.v.val;
q[2]=W.SpcX.v.val;q[3]=W.SpcY.v.val;q[4]=W.SpcC.v;q[5]=[W.Angl.v]};kf.Rept.prototype.eD=function(W,q){W.Scl.v.val=q[0];
W.Rsft.v.val=q[1];W.SpcX.v.val=q[2];W.SpcY.v.val=q[3];W.SpcC.v=q[4];W.Angl.v=q[5][0];return W};kf.Ctoa=function(){kf.call(this,"Ctoa");
this.aC=[new j1([13,0]),new dT(!0),new iT(["VAR0 VAR1","Transparency",[4,13]],0,100," %"),new iT(["VAR0 VAR1",[12,0],[4,13]],0,100," %")];
this.Fs()};kf.Ctoa.prototype=new kf;kf.Ctoa.prototype.zc=function(W,q){q[0]=W.Clr.v;q[1]=W.Trsp.v.val;
q[2]=W.Opct.v.val};kf.Ctoa.prototype.eD=function(W,q){W.Clr.v=q[0];W.Trsp.v.val=q[1];W.Opct.v.val=q[2]};
kf.LqFy=function(){kf.call(this,"LqFy");this.wd=!1;this.CD=!1;this.EM=null;this.aBB=null;this.J=0;this.LZ=-1;
this.Z={zL:[[{J:{id:0,name:[24,1,0,1,0],iI:"liq/smudge"}}],[{J:{id:1,name:[24,1,0,1,1],iI:"liq/reconstruct"}}],[{J:{id:2,name:[24,1,0,1,2],iI:"liq/smooth"}}],[{J:{id:3,name:[24,1,0,1,3],iI:"liq/twirl"}}],[{J:{id:4,name:[24,1,0,1,4],iI:"liq/shrink"}}],[{J:{id:5,name:[24,1,0,1,5],iI:"liq/blow"}}],[{J:{id:6,name:[24,1,0,1,6],iI:"liq/pleft"}}],[{J:{id:7,name:"Hand",iI:"tools/hand"}}],[{J:{id:8,name:"Zoom In",iI:"zoomIn"}}],[{J:{id:9,name:"Zoom Out",iI:"zoomOut"}}]],keys:[]};
this.cw=new jy(this.Z,!1);this.cw.lI(0);this.cw.Q(S.E.H,this.Oc,this);this.DG=gs.FL();this.EP=null;this.UX=[];
this.BH=-1;this.Qg=null;this.aHj=null;this.LL=null;this.wB=null;this.ts=null;var W=I.a("div","flexrow");
this.Mh=W;this.K.appendChild(W);W.appendChild(this.cw.K);this.view=new bU(!0);this.view.qL(100,100);
this.view.Q("mousedown",this.S4,this);this.view.Q("mousemove",this.HL,this);this.view.Q("mouseup",this.qO,this);
this.view.Q("zoom",this.Sx,this);W.appendChild(this.view.K);var q=I.a("div","form");W.appendChild(q);
this.aGI=q;q.style.width="230px";this.Vo=[new iT([12,14,0],0,1e3,null,!1,!0),new iT([12,74],0,100,null,!1,!1),new iT([12,84],0,100,null,!1,!1),new h$([12,46]),new iT([12,0],0,100,null,!1,!1),new h$([24,18,5])];
var X=this.DG.Brsh.v;X.Dmtr.v.val=100;var k=[100,50,100,!1,100,!0];for(var N=0;N<this.Vo.length;N++){var B=this.Vo[N];
B.q(k[N]);if(N==4)B.Ti();B.Q(S.E.k,this.a1o,this);q.appendChild(B.K)}var U=this.aHo=new iC([1,12,2],!0,null,!0);
U.Q("click",this.rg,this);q.appendChild(U.K);this.a9$=this.r3.bind(this);this.wt=new gH;this.wt.K=I.a("div","floatcont");
this.Tb=new iC("Menu",!1,null,!0);var l=this.Tb.K;I.w(l,"position:absolute; right:13px; top:47px");I.aA(l,this.ay_.bind(this))};
kf.LqFy.prototype=new kf;kf.LqFy.prototype.ix=function(){return!0};kf.LqFy.prototype.oP=function(W){this.aGI.appendChild(W)};
kf.LqFy.prototype.ay_=function(W){if(I.rL(this.wt.K))return;W.stopPropagation();var q=this.Tb.K.getBoundingClientRect();
this.wt.K.appendChild(this.aGI);var X=new ip(S.E.H,!0);X.data={R:S.m.k8,ii:this.wt,x:q.right+q.width-290,y:q.top+q.height};
this.T(X)};kf.LqFy.prototype.jm=function(W){this.wd=W.D(bu.Wr);var q=_.Vz.x5(this.DG,W);if(q!=null){this.DG=q;
this.Sx();this.Vo[0].q(q.Brsh.v.Dmtr.v.val)}else if(W.D(bu.p7)&&W.D(bu.xz)){var X=this.UX;if(W.D(bu.m4)){if(this.BH+1<X.length)this.BH++}else if(this.BH>0)this.BH--;
this.EP.map=X[this.BH].slice(0);this.L8(null)}else if(this.J<=6)this.view.jm(W);var k=this.J,B=-1,U=W.D(bu.Wr);
if(U&&this.LZ==-1){if(k==0)B=1;if(k==4)B=5;if(k==5)B=4;if(B!=-1)this.LZ=k}if(!U&&this.LZ!=-1){B=this.LZ;
this.LZ=-1}if(B!=-1){this.J=B;this.cw.lI(this.J)}};kf.LqFy.prototype.Oc=function(W){if(W.data.R==S.m.oE){var q=this.J=W.data.J;
this.cw.lI(this.J);this.view.jm(q>6?bU.jB(q-7):new bu)}};kf.LqFy.prototype.a1o=function(W){var q=W.currentTarget,N=this.Vo.indexOf(q),X=this.DG.Brsh.v;
if(N==0){X.Dmtr.v.val=q.V();this.Sx()}this.Vo[4].Si(this.Vo[3].V());if(N>2)this.L8(null)};kf.LqFy.prototype.MB=function(){var W=this.UX;
this.BH++;W[this.BH]=this.EP.map.slice(0);while(W.length>this.BH+1)W.pop();while(W.length>50){W=W.slice(1);
this.BH--}};kf.LqFy.prototype.S4=function(W){this.EM=this.view.Jn();this.aBB=new hw(0,0);this.CD=!0;
window.requestAnimationFrame(this.a9$)};kf.LqFy.prototype.HL=function(W){var q=this.view.Jn(),X=new hw(q.x-this.EM.x,q.y-this.EM.y);
if(this.J==0||this.J==6)this.aBS(X);this.EM=q};kf.LqFy.prototype.qO=function(W){this.MB();this.CD=!1};
kf.LqFy.prototype.r3=function(W){if(this.J!=0&&this.J!=6)this.aBS(new hw(0,0));if(this.CD)window.requestAnimationFrame(this.a9$)};
kf.LqFy.prototype.aBS=function(W){var q=this.EP,X=q.Ah/this.Qg.r,k=this.EM,B=this.DG.Brsh.v,U=B.Dmtr.v.val,l=Date.now(),K=q.Ah,D=q.QB,m=Math.sqrt(W.x*W.x+W.y*W.y),Y=Math.max(1,Math.ceil(m/2)),a=W.x/Y,p=W.y/Y,M=k.P(),x=this.J,R=this.Vo[1].V()/100,y=this.Vo[2].V()/100,s=[.005,.015,0,0,.2,.2,.01,.01,.05,.35,.1,.1,.005,.015],F=s[x*2],E=s[x*2+1],o=(1-R)*F+R*E,G=U*X/2;
for(var N=0;N<Y;N++){var d=[];M.x+=a;M.y+=p;g.r$.axq(q.map,K,D,x,M.x*X,M.y*X,G,R,y,a*X,p*X,d,this.wd);
g.r$.a1e(K,D,q.map,d,2*o*y)}var u=new dU(0,0,K,D),r=new dU(k.x*X,k.y*X,0,0);r.Pt(U*X*.5,U*X*.5);var v=r.P();
v.offset(W.x*X,W.y*X);r=r.xw(v);var c=new dU(r.x/X,r.y/X,r.r/X,r.$/X);c=g.b.V5(c).x$(this.Qg);this.Vo[5].q(!0);
this.L8(c)};kf.LqFy.prototype.Sx=function(){var W=bf.h9(this.DG,null,this.view.lD().$Z);this.view.Qh(W)};
kf.LqFy.prototype.q=function(W,q,X,k,B){X=X.P();if(q==null)return;if(!k.AB(X)){var U=X.xw(k),l=g.j(U.C()*4);
g.YE(q,X,l,U);q=l;X=U;var K=g.j(U.C()*4);g.YE(B,k,K,U);B=K}X.x=X.y=0;this.LL=q;this.aHj=B;this.ts=q.slice(0);
this.wB=q.slice(0);this.Qg=X;this.EP=cc.WZ(new Uint8Array(W.LqMe.v).buffer);var D=X.r,m=X.$;if(this.EP.Ah/D<.22){this.EP={Ah:Math.floor(D/4),QB:Math.floor(m/4)};
this.EP.map=new Float32Array(this.EP.Ah*this.EP.QB*2)}this.UX=[];this.BH=-1;this.MB();this.L8(null);
this.view.kq(!0);this.Sx()};kf.LqFy.prototype.V=function(){var W=dY.wy("LqFy"),q=new Uint8Array(cc.FN(this.EP)),X=[];
for(var N=0;N<q.length;N++)X.push(q[N]);W.LqMe.v=X;return W};kf.LqFy.prototype.qL=function(W,q){this.cw.qL(W,q);
var X=this.Tb.K,k=this.aGI;this.Mh.appendChild(k);this.Mh.appendChild(X);if(W>450&&W-q>200){k.style.marginLeft="1em";
this.Mh.removeChild(X);this.view.qL(W-238-45,q)}else{k.style.marginLeft="";this.Mh.removeChild(k);this.view.qL(W-40,q)}};
kf.LqFy.prototype.l=function(){this.cw.l();this.aHo.l();for(var N=0;N<this.Vo.length;N++)this.Vo[N].l()};
kf.LqFy.prototype.rg=function(){this.EP.map.fill(0);this.MB();this.L8(null)};kf.LqFy.prototype.L8=function(W){var q=this.Qg,X=this.LL,k=this.ts,B=this.EP;
if(this.Vo[5].V())g.r$.Qi(X,this.wB,q.r,q.$,W,B.map,B.Ah,B.QB,0);else this.wB.set(X);if(this.Vo[3].Vg()){g.YE(this.aHj,q,k,q,W?W:q);
g.v.HX("norm",this.wB,q,k,q,W?W:q,this.Vo[4].V()/100)}else g.cX(this.wB,k);this.view.q([{oq:q,data:k.buffer}],null,null,W)};
kf.GEfc=function(){kf.call(this,"GEfc");this.CU=0;this.f$=0;this.LL=null;this.ts=null;this.Qg=null;this.e=null;
this.NV=null;this.kP=0;this.MI=null;this.eT=null;var W=I.a("div","flexrow");this.Mh=W;this.K.appendChild(W);
this.view=new bU(null);this.view.qL(100,100);W.appendChild(this.view.K);this.gF="";this.amC=270;var q=this.gt=I.a("div","form scrollable");
W.appendChild(q);I.w(q,"width:"+this.amC+"px;");var X=this.Jy=I.a("div","form");W.appendChild(X);I.w(X,"width:230px;  margin:0 10px");
this.zp={};for(var k in jJ.names){var B=new kf.GEfc.En(k);B.parent=this;this.zp[k]=B;B.Q(S.E.k,this.aoG,this)}this.zK=!0;
this.Tb=new iC("Menu",null,null,!0);this.Tb.Q("click",this.ank,this);W.appendChild(this.Tb.K);this.a8j=new iC(">>",null,null,!0);
this.a8j.Q("click",this.aEv,this);X.appendChild(this.a8j.K);this.aIC=I.a("div");I.w(this.aIC,"margin-bottom:1.5em;  display:inline-block;  width:calc(100% - 40px);");
X.appendChild(this.aIC);this.Xc=I.a("div");this.Xc.style.minHeight="14em";this.Xc.style.marginBottom="1em";
X.appendChild(this.Xc);this.AY=I.a("div","lpbody scrollable");this.Ww=I.a("div","lpfoot");X.appendChild(this.AY);
X.appendChild(this.Ww);this.Q("click",this.anx,this);this.bP=[];hz._b([[5,3],[5,4]],this.bP,this.Ww,this.NE.bind(this))};
kf.GEfc.prototype=new kf;kf.GEfc.prototype.ix=function(){return!0};kf.GEfc.prototype.oP=function(W){this.aIC.appendChild(W)};
kf.GEfc.prototype.jm=function(W){this.view.jm(W)};kf.GEfc.prototype.QL=function(W,q){this.e=W;if(W.w5==W.yY)alert("Your foreground and a background color are identical.",4e3)};
kf.GEfc.prototype.aEv=function(W){var q=this.gt.style.display!="none";this.gt.style.display=q?"none":"";
this.a8j.tB(q?"<<":">>");this.qL()};kf.GEfc.prototype.ank=function(W){this.zK=!this.zK;this.qL()};kf.GEfc.prototype.qL=function(W,q){var X=this.gt.style.display!="none";
if(W!=null){this.CU=W;this.f$=q;if(W<1e3&&X||W>=1e3&&!X){this.aEv();X=!X}this.zK=W>600}else{W=this.CU;
q=this.f$}var k=this.zK?250+(X?this.amC:0):0;if(I.rL(this.Jy)&&!this.zK){this.Mh.removeChild(this.gt);
this.Mh.removeChild(this.Jy)}if(!I.rL(this.Jy)&&this.zK){this.Mh.appendChild(this.gt);this.Mh.appendChild(this.Jy)}this.gt.style.height=q+"px";
this.view.qL(W-k,q);this.AY.style.height=q-Math.max(this.Xc.getBoundingClientRect().height,186)-96+"px";
I.w(this.Tb.K,"position:absolute; top:46px;  right:"+(k+16)+"px")};kf.GEfc.prototype.ayP=function(){var W=lf.Nx.get("img/beach",!0)[0],q=W.oq,X=this.gt,k=Math.floor(I.W$()*(this.amC-44)/3),B=~~(k*.7),U=new dU(0,0,k,B),l=g.j(k*B*4),K=l.slice(0),D=Math.round(10*I.W$()),m=new ImageData(new Uint8ClampedArray(K.buffer),k,B);
g.YE(new Uint8Array(W.data),q,l,new dU(Math.round((q.r-k)/2),Math.round((q.$-B)/2),k,B));var Y=I.a("canvas"),a=Y.getContext("2d");
Y.width=k;Y.height=B+Math.round(D*1.5);a.font=D+"px sans-serif";this.MI={};I.ru(X);var p=this.ahn.bind(this);
for(var N=0;N<jJ.dK.length;N++){var M=jJ.dK[N],x=I.a("div");X.appendChild(x);I.w(x,"background-color:rgba(0,0,0,0.2); padding:0px 8px; margin-bottom:8px");
x.textContent=js.get(M);for(var R in jJ.names){var y=jJ.names[R];if(y[0]!=N)continue;jJ.GT(R,{S:U,buffer:l},jJ.wy(R),{o:0,L:0,X:0},{o:255,L:255,X:255},{S:U,buffer:K},{});
a.fillStyle="black";a.fillRect(0,0,500,500);a.putImageData(m,0,0);var s=js.get(y[1]);a.fillStyle="white";
a.fillText(s,(k-a.measureText(s).width)/2,B+Math.round(D*1.1));var F=I.a("div");X.appendChild(F);I.w(F,"display:inline-block; cursor:pointer; padding: 5px 5px 0 5px; margin-bottom:5px");
F.addEventListener("click",p,!1);var x=I.a("img");F.appendChild(x);x.setAttribute("src",Y.toDataURL());
I.w(x,"width:"+k/I.W$()+"px; margin-bottom:0px;");this.MI[R]=F}}};kf.GEfc.prototype.ahn=function(W){var q;
for(var X in this.MI)if(this.MI[X]==W.currentTarget)this.gF=X;this.aoG()};kf.GEfc.prototype.NE=function(W){var q=hz.LA(this.bP,W),X=this.NV.GEfs.v,k=X[this.kP].v;
if(q==0){X.push(g.N(X[this.kP]));this.kP=X.length-1}else if(X.length>1){X.splice(this.kP,1);if(this.kP==X.length)this.kP--}this.qD();
this.L8()};kf.GEfc.prototype.aoG=function(W){var q=this.gF,X;if(W==null)X=jJ.wy(q);else X=this.zp[q].V();
this.NV.GEfs.v[this.kP].v=X;this.qD();this.L8()};kf.GEfc.prototype.q=function(W,q,X,k,B){var U=js.get([24,0]);
if(this.MI==null||U!=this.eT)this.ayP();this.eT=U;W=this.NV=g.N(W);if(W.GEfs==null)W=this.NV={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:W}]}};
var l=W.GEfs.v;for(var N=0;N<l.length;N++)if(l[N].v.GELv==null)l[N].v.GELv={t:"bool",v:!0};this.kP=l.length-1;
this.qD();X=X.P();if(q==null)return;if(!k.AB(X)&&jJ.yS(W).x!=0){var K=X.xw(k),D=g.j(K.C()*4);g.YE(q,X,D,K);
q=D;X=K}X.x=X.y=0;this.LL=q;this.ts=q.slice(0);this.Qg=X;this.L8();this.view.kq()};kf.GEfc.prototype.anx=function(W){var q=W.data,N=q.bT,X=this.NV.GEfs.v;
if(q.JB){X[N].v.GELv.v=!X[N].v.GELv.v;this.L8()}else this.kP=N;this.qD()};kf.GEfc.prototype.qD=function(){var W=this.NV.GEfs.v,q=W[this.kP].v,X=q.GEfk.v.GEft,k=this.Xc;
if(jJ.names[X]==null){alert("Unsupported gallery filter");I.ru(k)}else{this.gF=X;for(var B in this.MI)I.gI(this.MI[B],"selected");
I.Wx(this.MI[X],"selected");var U=this.zp[X];U.q(q);if(k.firstChild!=U.K){I.ru(k);k.appendChild(U.K)}}var l=[];
for(var N=0;N<W.length;N++){var K=W[N].v,D=jJ.names[K.GEfk.v.GEft],m=new cM(N,!0,!0,null,D?D[1]:"Filter",N==this.kP,K.GELv.v);
m.parent=this;l.push(m.K)}I.ru(this.AY);l.reverse();for(var N=0;N<l.length;N++)this.AY.appendChild(l[N]);
this.qL()};kf.GEfc.prototype.V=function(){return g.N(this.NV)};kf.GEfc.prototype.L8=function(W){var q=this.Qg,X=this.LL,k=this.ts,B=this.gF,U=this.NV,l=this.e;
dY.GT("GEfc",{S:this.Qg,buffer:this.LL},U,g.gC(l.w5),g.gC(l.yY),{S:this.Qg,buffer:this.ts},null);this.view.q([{oq:q,data:k.buffer}])};
kf.GEfc.prototype.l=function(){for(var W in this.zp)this.zp[W].l();hz.pA(this.bP,["lrs/newlayer","lrs/bin"])};
kf.GEfc.En=function(W){gH.call(this);this.Y_=W;this.K=I.a("div");this.aM={};var q=jJ.wy(W);for(var X in q){var k=null;
if(X=="__name"||X=="classID"||X=="GEfk"||X=="GELv"||["FlRs"].indexOf(X)!=-1)continue;else if(X=="EdgW")k=new iT([24,21,0],1,14);
else if(X=="EdgB")k=new iT([24,21,1],0,W=="AccE"?50:20);else if(X=="Smth")k=new iT([19,3,3],1,W=="Stmp"?50:15);
else if(X=="ClSz")k=new iT([12,61],3,100);else if(X=="BrdT")k=new iT([7,9],1,20);else if(X=="HghS")k=new iT([12,64],0,20);
else if(X=="HlSz")k=new iT([12,14,0],1,15);else if(X=="Cntr")k=new iT([12,3,0],0,W=="WtrP"?100:50);else if(X=="Shrp")k=new iT([24,21,2],0,40);
else if(X=="SprR")k=new iT([24,21,3],0,25);else if(X=="LgDr")k=new iT([24,21,4],0,W=="Stmp"?50:100);
else if(X=="Drkn")k=new iT([24,21,5],1,50);else if(X=="Dstr")k=new iT([24,21,6],0,20);else if(X=="Scln")k=new iT([12,38],50,200);
else if(X=="Rlf")k=new iT([24,21,7],0,W=="Ptch"||W=="NtPr"?25:50);else if(X=="ChAm")k=new iT([24,21,8],1,7);
else if(X=="Pncl")k=new iT([19,2,5],1,30);else if(X=="StrP")k=new iT([24,21,9],0,15);else if(X=="PprB")k=new iT([24,21,10],0,50);
else if(X=="BrsS")k=new iT([24,21,11],0,10);else if(X=="BrsD")k=new iT([24,21,12],0,10);else if(X=="Txtr")k=new iT([12,67],1,3);
else if(X=="Grn")k=new iT([24,20,42],0,20);else if(X=="HghA")k=new iT([24,21,13],0,20);else if(X=="Intn")k=new iT([24,21,14],0,10);
else if(X=="Brgh")k=new iT([24,21,15],0,W=="WtrP"?100:50);else if(X=="StrS")k=new iT([24,21,16],1,50);
else if(X=="StDt")k=new iT([24,21,17],1,3);else if(X=="Sftn")k=new iT([24,21,18],0,10);else if(X=="EdgT")k=new iT([24,21,19],0,10);
else if(X=="EdgI")k=new iT([24,21,20],0,10);else if(X=="Pstr")k=new iT([24,21,23],0,6);else if(X=="Dfnt")k=new iT([24,21,24],0,25);
else if(X=="TxtC")k=new iT([24,21,25],0,50);else if(X=="ShdI")k=new iT([24,21,26],0,10);else if(X=="DrcB")k=new iT([24,21,28],0,100);
else if(X=="Strg")k=new iT([12,64],1,3);else if(X=="Blnc")k=new iT([24,21,27],0,10);else if(X=="BlcI")k=new iT([24,21,30],0,10);
else if(X=="WhtI")k=new iT([24,21,31],0,10);else if(X=="DrkI")k=new iT([24,21,32],0,50);else if(X=="LghI")k=new iT([24,21,33],0,50);
else if(X=="StrW")k=new iT([24,21,34],3,15);else if(X=="Grns")k=new iT([24,21,36],0,W=="NtPr"?20:10);
else if(X=="GlwA")k=new iT([24,21,37],0,20);else if(X=="ClrA")k=new iT([24,21,38],0,20);else if(X=="ChrA")k=new iT([24,21,39],0,20);
else if(X=="ChlA")k=new iT([24,21,40],0,20);else if(X=="FrgL")k=new iT([24,21,41],1,15);else if(X=="BckL")k=new iT([24,21,42],1,15);
else if(X=="WhtL")k=new iT([24,21,42],0,50);else if(X=="BlcL")k=new iT([24,21,41],0,50);else if(X=="ImgB")k=new iT([24,21,29],0,50);
else if(X=="Dnst")k=new iT([12,74],0,50);else if(X=="FbrL")k=new iT([24,21,43],3,50);else if(X=="CrcS")k=new iT([24,21,44],2,100);
else if(X=="CrcD")k=new iT([24,21,45],0,10);else if(X=="CrcB")k=new iT([24,21,46],0,10);else if(X=="TlSz")k=new iT([24,21,47],2,100);
else if(X=="GrtW")k=new iT([24,21,48],1,15);else if(X=="LghG")k=new iT([24,21,49],0,10);else if(X=="SqrS")k=new iT([24,21,50],0,10);
else if(X=="RplS")k=new iT([24,21,51],1,15);else if(X=="RplM")k=new iT([24,21,52],0,20);else if(X=="NmbL")k=new iT([24,21,53],2,8);
else if(X=="EdgS")k=new iT([24,21,21],0,10);else if(X=="EdgF")k=new iT([24,21,22],1,3);else if(X=="Sz")k=W=="NGlw"?new iT([24,21,54],-24,24):new iT([24,21,11],1,50);
else if(X=="Dtl")k=W=="Chrc"?new iT([24,21,56],0,5):new iT([24,21,56],1,15);else if(X=="StrL")k=W=="InkO"?new iT([24,21,35],1,50):new iT([24,21,35],0,20);
else if(X=="TxtT")k=new cL([12,67],[[24,22,0],[24,22,1],[24,22,2],[24,22,3],[24,22,4],[24,22,5],[24,22,6]]);
else if(X=="BrsT")k=new cL([24,21,57],[[24,23,0],[24,23,1],[24,23,2],[24,23,3],[24,23,4],[24,23,5]]);
else if(X=="Grnt")k=new cL([24,21,58],[[24,24,0],[24,24,1],[24,24,2],[24,24,3],[24,24,4],[24,24,5],[24,24,6],[22,4,0],[22,4,1],[24,24,7]]);
else if(X=="SDir")k=new cL([12,33],[[24,25,0],[22,4,0],[24,25,1],[22,4,1]]);else if(X=="ScrT")k=new cL([12,62],[[12,93,5],[12,93,6],[10,35]]);
else if(X=="LghD"||X=="LghP")k=new cL([24,21,59],[[24,26,0],[24,26,1],[24,26,2],[24,26,3],[24,26,4],[24,26,5],[24,26,6],[24,26,7]]);
else if(X=="Clr")k=new dT([24,21,55]);else if(X=="InvT")k=new h$([4,11]);else console.log(X);k.Q(S.E.k,this._t,this);
k.parent=this;this.aM[X]=k;this.K.appendChild(k.K)}};kf.GEfc.En.prototype=new gH;kf.GEfc.En.prototype._t=function(W){this.T(new ip(S.E.k,!1))};
kf.GEfc.aAR="Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL LgDr Drkn Dstr Scln Rlf ChAm InvT RplS RplM Pncl StrP PprB BrsS BrsD Txtr Grn HghA Intn Brgh Clr StrS StDt Sftn EdgT EdgI Pstr Dfnt TxtC ShdI DrcB Strg Blnc BlcI WhtI DrkI LghI StrW Grns GlwA ClrA ChrA ChlA FrgL BckL WhtL BlcL ImgB Dnst FbrL CrcS CrcD CrcB TlSz GrtW LghG SqrS NmbL EdgS EdgF".split(" ");
kf.GEfc.En.prototype.q=function(W){for(var q in this.aM){var X;if(kf.GEfc.aAR.indexOf(q)!=-1)X=W[q].v;
else if(q=="TxtT")X=jJ.kK.indexOf(W[q].v[q]);else if(q=="BrsT")X=jJ.ad9.indexOf(W[q].v[q]);else if(q=="LghD")X=jJ.Dm.indexOf(W[q].v[q]);
else if(q=="LghP")X=jJ.sI.indexOf(W[q].v[q]);else if(q=="Grnt")X=jJ.S2.indexOf(W[q].v[q]);else if(q=="ScrT")X=jJ.$t.indexOf(W[q].v[q]);
else if(q=="SDir")X=jJ.$W.indexOf(W[q].v.StrD);this.aM[q].q(X)}};kf.GEfc.En.prototype.V=function(){var W=jJ.wy(this.Y_);
for(var q in this.aM){var X=this.aM[q].V();if(kf.GEfc.aAR.indexOf(q)!=-1)W[q].v=X;else if(q=="TxtT")W[q].v[q]=jJ.kK[X];
else if(q=="BrsT")W[q].v[q]=jJ.ad9[X];else if(q=="LghD")W[q].v[q]=jJ.Dm[X];else if(q=="LghP")W[q].v[q]=jJ.sI[X];
else if(q=="Grnt")W[q].v[q]=jJ.S2[X];else if(q=="ScrT")W[q].v[q]=jJ.$t[X];else if(q=="SDir")W[q].v.StrD=jJ.$W[X]}return W};
kf.GEfc.En.prototype.l=function(){for(var W in this.aM)this.aM[W].l()};kf["Adobe Camera Raw Filter"]=function(){var W=function(q){kf.call(this,"Adobe Camera Raw Filter");
var X=this.K;this.apf=q;this.Qx=null;this.SB=null;this.amU="";this.OC=null;this.QW=1e3;this.do=null;
this.bn=null;I.Wx(X,"flexrow");this.view=new bU(!1,q,!0);this.view.Q("zoom",this.L8,this);X.appendChild(this.view.K);
var k=I.a("div");I.w(k,"width:18.8em; border-left:2px solid var(--brdr);");X.appendChild(k);this.$B=new jU(245,null,4);
k.appendChild(this.$B.K);this.$B.K.style.opacity=.8;this.aAE=I.a("div","scrollable");k.appendChild(this.aAE);
this.azq=I.a("div","padded");k.appendChild(this.azq);this.aM={Ex12:new iT([4,3],-4,4,null,!0),Cr12:new iT([12,3,0],-100,100),Hi12:new iT("Highlights",-100,100),Sh12:new iT("Shadows",-100,100),Wh12:new iT("Whites",-100,100),Bk12:new iT("Blacks",-100,100),Temp:new iT("Temperature",-100,100),Tint:new iT("Tint",-100,100),Vibr:new iT([4,4],-100,100),Strt:new iT([12,9],-100,100),CrTx:new iT("Texture",-100,100),Cl12:new iT("Clarity",-100,100),Dhze:new iT("Dehaze",-100,100)};
this.Nd={Temp:new iT("Temperature",2e3,3e4),Tint:new iT("Tint",-100,100),Ex12:new iT([4,3],-4,4,null,!0)};
var B=[["Light","Ex12 Cr12 Hi12 Sh12 Wh12 Bk12".split(" ")],["Color",["Temp","Tint","Vibr","Strt"]],["Effects",["CrTx","Cl12","Dhze"]]];
for(var N=0;N<B.length;N++){var U=B[N][1],l=I.a("div","padded");this.aAE.appendChild(l);I.w(l,"border-top:2px solid var(--brdr);");
var K=I.a("div");K.innerHTML="\u2B9F <span style=\"font-size:1.1em; margin-left:6px;\">"+js.get(B[N][0])+"</span>";
I.w(K,"font-weight:bold; margin:2px 0 4px 0;");l.appendChild(K);for(var D=0;D<U.length;D++){var m=U[D],Y=q&&this.Nd[m]?this.Nd[m]:this.aM[m];
Y.q(0);Y.Q(S.E.k,this.L8,this);l.appendChild(Y.K)}}};W.prototype=new kf;W.prototype.ix=function(){return!0};
W.prototype.oP=function(q){q.style.marginTop="4px";this.azq.appendChild(q)};W.prototype.jm=function(q){this.view.jm(q)};
W.prototype.QL=function(q,X){this.$B.Ih(it.$z[q.FG]["--text-color"])};W.prototype.asL=function(q){var X=g.raw.aAX(q),k=X.acT,B=X.aoX,U=k*B,l=new dU(0,0,k,B),K=X.kl,D=new Float32Array(k*B*4);
for(var N=0;N<U;N++){var m=N*4,Y=N*3;D[m]=K[Y];D[m+1]=K[Y+1];D[m+2]=K[Y+2];D[m+3]=1}this.Qx=[D,l];g.z0(this.Qx);
this.SB=q;var a=g.raw.ai1(q),p=hi.au8(a);this.Nd.Temp.q(p.J9);this.Nd.Tint.q(p.Ej);this.Nd.Ex12.q(0);
var M=new Float32Array(U*4);M.fill(1);var x=dY.wy("Adobe Camera Raw Filter");this.alg(x,M,l)};W.prototype.a1_=function(q,X){var k=this.Nd,B=k.Temp.V(),U=k.Tint.V(),l=k.Ex12.V(),K=[B,U,l,X,q].join(":");
if(this.amU==K)return;this.amU=K;var D=Date.now();g.raw.YR(this.Qx[X*2],this.OC[X*2],this.SB,[B,U,l],q);
console.log(Date.now()-D,"remapping XYZ")};W.prototype.q=function(q,X,k,B,U){var l=new Float32Array(k.C()*4);
g.Cn(X,32,l);this.alg(q,l,k)};W.prototype.alg=function(q,X,k){this.NV=q;this.Qg=k;var B=k.r,U=k.$,l=B*U;
this.QW=1e3;this.amU="";this.OC=[X,k];this.do=[new Float32Array(B*U*4),k];this.do[0].fill(1);this.bn=[new Uint8Array(B*U*4),k];
this.bn[0].fill(255);g.z0(this.OC);g.z0(this.do);g.z0(this.bn);for(var K in this.aM){this.aM[K].q(q[K]?q[K].v:0)}this.view.q([{oq:k,data:this.bn[0].buffer}]);
this.view.kq();this.L8(null)};W.prototype.ar_=function(q,X){var k=this.Qg,B=this.do[0];if(this.apf)this.a1_(q,0);
fm(this.OC[0],k.r,k.$,B,this.NV);return[g.Cn(B,X),k]};W.prototype.V=function(){return g.N(this.NV)};
W.prototype.a9z=function(){this.Qx=null;this.do=null;this.OC=null;this.bn=null};W.prototype.L8=function(q){if(q&&q.target!=this.view){this.QW=1e3;
for(var X in this.aM){this.NV[X]={t:X=="Ex12"?"doub":"long",v:this.aM[X].V()}}}var k=this.view.lD().$Z,B=0;
while(k*2<=1){k*=2;B++}if(this.QW<=B)return;this.QW=B;var U=this.a1M(B);this.$B.q(U);this.view.q([{oq:this.Qg,data:this.bn[0].buffer}])};
W.prototype.a1M=function(q){console.log("---");var X=this.OC[q*2],k=this.do[q*2],B=this.bn[q*2],U=this.OC[q*2+1],l=U.r,K=U.$;
if(this.apf)this.a1_(0,q);fm(X,l,K,k,this.NV);var D=Date.now();g.Cn(k,8,B);console.log(Date.now()-D,"integer conversion");
D=Date.now();var m=g.n7(B,Math.max(1,Math.floor(l*K/2e5)));console.log(Date.now()-D,"histogram done");
D=Date.now();if(q!=0){var Y=new Uint32Array(B.buffer),a=new Uint32Array(this.bn[0].buffer),p=this.Qg.r,M=this.Qg.$;
for(var y=0;y<M;y+=2)for(var s=0;s<p;s+=2){var F=y*p+s,E=Y[(y>>>q)*l+(s>>>q)];a[F]=E;a[F+1]=E;a[F+p]=E;
a[F+p+1]=E}console.log(Date.now()-D,"upscale");D=Date.now()}for(var U=0;U<2;U++)for(var E=0;E<4;E++){var K=m[E],M=K.slice(0);
for(var N=1;N<K.length-1;N++)K[N]=(M[N-1]+M[N]+M[N+1])*.33333}return m};W.prototype.qL=function(q,X){this.aba=q-248;
this.agW=X;this.view.qL(this.aba,this.agW);this.aAE.style.height=X-200+"px"};W.prototype.l=function(){for(var q in this.aM)this.aM[q].l();
for(var q in this.Nd)this.Nd[q].l()};return W}();kf.VaPo=function(){kf.call(this,"VaPo");this.J=-1;this.Ya=null;
this.Wi=!1;this.$j=null;this.tx=null;this.vE=null;this.T9=null;this.Mv=null;this.CF=null;this.ap8=null;
this.rK=null;this.a98=null;this.j9=null;this.QK=null;this.aq=null;this.UX=[];this.BH=-1;this.Y=null;
this.Z={zL:[[{J:{id:0,name:"Move",iI:"tools/move"}}],[{J:{id:1,name:"Create Plane",iI:"tools/pcrop"}}],[{J:{id:2,name:"Marquee",iI:"tools/rselect"}}],[{J:{id:3,name:"Stamp",iI:"tools/clone"}}],[{J:{id:4,name:"Brush",iI:"tools/brush"}}],[{J:{id:5,name:"Transform",iI:"tools/transform"}}],[{J:{id:6,name:"Hand",iI:"tools/hand"}}],[{J:{id:7,name:"Zoom In",iI:"zoomIn"}}],[{J:{id:8,name:"Zoom Out",iI:"zoomOut"}}]],keys:[bu.UA,bu.uo,bu.i8,bu.xE,bu.Jc,bu.kJ,bu.uv,bu.xz]};
this.cw=new jy(this.Z,!1);this.cw.Q(S.E.H,this.Oc,this);this.Gt=null;this.Qg=null;this.LL=null;this.aog=null;
this.ts=null;this.kI=null;var W=I.a("div","flexrow"),k=0;this.Mh=W;this.K.appendChild(W);W.appendChild(this.cw.K);
var q=I.a("div");W.appendChild(q);var top=I.a("div","form");q.appendChild(top);I.w(top,"padding-left:8px; height:30px;");
this.cW=I.a("span");top.appendChild(this.cW);this.Fa=[[new al([12,80,5],1,1e3),new iC([5,2],null,null,!0)],[new al([7,6],0,30)],[new al([12,14],1,200),new al([12,17],0,100),new al([12,0],0,100),new h$([12,75])],[new al([12,14],1,200),new al([12,17],0,100),new al([12,0],0,100),new dT],[new h$("Flip"),new h$("Flop")],[]];
var X=[100,!0,0,100,100,100,!1,100,100,100,JSON.parse(kE.oo.JS.slice(6)).v];this.PE=[];for(var N=0;N<6;
N++){var B=I.a("span"),U=this.Fa[N];this.PE.push(B);for(var l=0;l<U.length;l++){var K=U[l];K.parent=this;
K.q(X[k++]);if(K instanceof iC)K.Q("click",this.aHS,this);else K.Q(S.E.k,this.aK7,this);B.appendChild(K.K)}}this.aoV=I.a("div");
I.w(this.aoV,"display:inline-block;float:right; width:100px;");top.appendChild(this.aoV);this.view=new bU(!0);
this.view.qL(100,100);this.view.Qh("auto");this.view.Q("mousedown",this.S4,this);this.view.Q("mousemove",this.HL,this);
this.view.Q("mouseup",this.qO,this);I.wO(this.view.mL,this.mI.bind(this));q.appendChild(this.view.K)};
kf.VaPo.prototype=new kf;kf.VaPo.prototype.ix=function(){return!0};kf.VaPo.prototype.oP=function(W){this.aoV.appendChild(W)};
kf.VaPo.prototype.QL=function(W,q){this.$j=W};kf.VaPo.prototype.aHS=function(W){var q=this.$j;if(I.p0())ch.a1S(this.pT.bind(this));
else if(q){var X=q.PW;if(X){var k=X.S.P();k.x=k.y=0;this.Kg(X.buffer,k)}}};kf.VaPo.prototype.aK7=function(W){if(W.target==this.Fa[0][0]){var q=this.E9(),X=W.target.V();
for(var N=0;N<this.Y.length;N++)if(this.Y[N].length!=0&&q[N])q[N][0]=X;this.Rq(q)}if(this.J==5){this.Gt=this.QY();
this.L8(!0)}this.L8()};kf.VaPo.prototype.jm=function(W){var q=this.J,X=this.vE;if(q==3||q==4){var k=this.Fa[q-1],B=gs.FL(),U=B.Brsh.v;
U.Dmtr.v.val=k[0].V();U.Hrdn.v.val=k[1].V();B=_.Vz.x5(B,W);if(B){U=B.Brsh.v;k[0].q(U.Dmtr.v.val);k[1].q(U.Hrdn.v.val)}this.Sx()}if(q==1&&X&&(W.D(bu.GD)||W.D(bu.gB))){X.pop();
X.pop();if(X.length==0)X=this.vE=null;this.L8()}function l(Y,N,x){g.YE(Y[N],Y[0],x.LL,x.Qg);x.US(Y[0])}this.tx=W;
if(q<6)this.view.jm(W);var K=W.D(bu.p7);if(K){var D=this.BH,m=0;if(W.D(bu.xz)){if(W.D(bu.m4))m=1;else m=-1}else if(W.D(bu.xt))m=1;
if(m!=0&&q!=5){console.log(this.BH,m,this.UX);var Y=this.UX[this.BH],a=!1;if(Y.length==3&&m==-1){l(Y,1,this);
a=!0}D+=m;this.BH=Math.max(0,Math.min(this.UX.length-1,D));Y=this.UX[this.BH];if(Y.length==3&&m==1){l(Y,2,this);
a=!0}this.L8(a)}if(W.D(bu.UA))this.aHS();if(W.D(bu.lB)){this.CF=null;this.L8()}}else{var p=this.Z.keys;
for(var N=0;N<p.length;N++)if(W.D(p[N]))this.lI(N)}if(W.D(bu.gB)||W.D(bu.GD)){var M=this.E9();M=g.Q3.a7J(M,this.Y);
this.Y=[];for(var N=0;N<M.length;N++)this.Y[N]=[];this.Rq(M);this.L8()}};kf.VaPo.prototype.pT=function(W){if(W=="granted")ch.Dn(this,this.Kg.bind(this))};
kf.VaPo.prototype.Kg=function(W,q){console.log(W,q);var X=this.E9();if(X.length==0){alert("Make a plane before pasting an image");
return}if(this.Mv==null)this.Mv=[0,0];if(this.J==5)this.lI(0);this.lI(5,{Wa:W,OM:q})};kf.VaPo.prototype.Oc=function(W){if(W.data.R==S.m.oE){this.lI(W.data.J)}};
kf.VaPo.prototype.aGT=function(W){var q=this.view.Jn(W),X=g.Q3.LP(this.E9(),this.Y),k=1e9,B=0;for(var N=0;
N<X.length;N++){var U=X[N][0],l=q.x-U[0],K=q.y-U[1],D=Math.sqrt(l*l+K*K);if(D<k){k=D;B=N}}if(k>4*I.W$()/this.view.lD().$Z)return null;
return X[B]};kf.VaPo.prototype.mI=function(W){var q=this.J,X=this.vE;if(q<2&&!this.Wi){var k=this.Ya=this.aGT(W),B=this.E9(),U="auto";
if(q==0&&g.Q3.bV(B,k)){var l=B[k[1]][1][k[2]],K=l[5+{1:0,5:1,7:2,3:3}[k[3]]],D=K[0],m=K[1];U=k1.aK3(D[1]-m[1],-D[0]+m[0])}if(g.Q3.aGH(B,k))U="crosshair";
this.view.Qh(U)}if(X){var Y=this.view.Jn(W),a=X.slice(0);X[X.length-2]=Y.x;X[X.length-1]=Y.y;this.L8()}this.Sx(W);
if(q==5&&!this.Wi&&this.h_){var Y=this.view.Jn(W),B=this.E9(),p=g.Q3.Wc(B,Y.x,Y.y,this.LB());if(p){var M=new hw(p[2][0],p[2][1]),x=g.Q3.Zv(B,B[p[0]][1][p[1]],this.LB()),R=x[1],y=g.F.b6(x[0],R),s=[R.x+R.r/2,R.y+R.$/2];
g.F.M(y,s);var F=Y.x-s[0],E=Y.y-s[1],o=this.h_.x4(M,this.view.lD().$Z,null,null,Math.atan2(-E,-F));this.view.Qh(o?o:"default")}}};
kf.VaPo.prototype.Sx=function(W){var q=this.J,X=this.tx;if((q==3||q==4)&&!this.Wi){var k=W?this.view.Jn(W):this.g7,B=this.E9();
this.g7=k;if(k==null)return;var U=g.Q3.Wc(B,k.x,k.y,this.LB());if(U){if(q==3&&this.aq&&this.Fa[2][3].V()){var l=new hw(U[2][0],U[2][1]);
this.QK=l.SR(this.aq);this.L8()}if(q==3&&(this.QK==null||X&&(X.D(bu.Wr)||X.D(bu.RI)))){if(this.Gt){this.kI=null;
this.US(this.Gt);this.L8(!0,this.Gt)}return}this.aIj(U,this.Gt)}}};kf.VaPo.prototype.LB=function(){return[this.Qg.r/2,this.Qg.$/2]};
kf.VaPo.prototype.S4=function(W){this.Wi=!0;var q=this.J,X=this.vE,k=this.E9(),B=this.tx,U=this.Ya=this.aGT(null),l=this.view.Jn(),K=g.Q3.Wc(k,l.x,l.y,this.LB()),D=K?new hw(K[2][0],K[2][1]):null;
if(g.Q3.aGH(k,U)){var m=k[U[1]][1][U[2]];k.splice(U[1],1);this.Y.splice(U[1],1);X=g.Q3.acW(m);var Y=-1,l=U[0];
for(var N=0;N<8;N+=2){var a=X[N]-l[0],p=X[N+1]-l[1];if(a*a+p*p<1e-5)Y=N}Y=Y+2&7;X=this.vE=X.slice(Y).concat(X.slice(0,Y));
this.Rq(k)}else if(g.Q3.bV(k,U)){if(q==1||B&&B.D(bu.p7)){k=g.Q3.aqY(k,U,this.LB());this.Rq(k);U[2]=k[U[1]][1].length-1;
U[3]=8+(U[3]+4&7);this.Y[U[1]].push(U[2]);this.Rq(k,!0);this.lI(0)}else this.Rq(this.E9(k))}else if(q==0){var M=[];
for(var N=0;N<k.length;N++)M.push([]);if(K){if(B&&B.D(bu.m4))M=this.Y;var x=M[K[0]].indexOf(K[1]);if(x==-1)M[K[0]].push(K[1]);
else M[K[0]].splice(x,1)}this.Y=M;this.Rq(k,!0);this.L8()}else if(q==2){if(K){var R=this.CF;if(R&&R.BS(D)){if(B)if(B.D(bu.Wr)||B.D(bu.p7)){this.lI(5);
this.S4(W);return}this.ap8=new hw(D.x-R.x,D.y-R.y)}else{this.T9=K[2].concat(K[2]);this.Mv=K}}}else if(q==3||q==4){if(q==3){if(B&&(B.D(bu.Wr)||B.D(bu.RI))){if(K){this.QK=D;
this.a98=D.P();this.aq=null;this.j9=K;this.L8()}else alert("You must click into a plane");this.Wi=!1;
return}else if(this.QK==null){alert(js.get([15,7,0]));this.Wi=!1;return}else if(K){var y=this.aq=D.SR(this.QK)}}if(K){this.aIj(K)}}else if(q==5){if(K){var s=new hw(K[2][0],K[2][1]),F=this.h_.mc({f:this.view.lD()},{},B,s)}}};
kf.VaPo.prototype.aIj=function(W,q){var X=this.kI;if(X==null)this.kI=X=g.j(this.Qg.C()*4);else X.fill(0);
var k=this.J;this.Mv=W;var B=this.Fa[k-1],U=g.aBf.a1V(B[0].V(),B[1].V()/100,1),l=g.j(U[1].C()*4);g.fP(U[0],l,3);
if(k==4){var K=g.ov.yM(B[3].V());g.t3(l,K.o/255,K.L/255,K.X/255)}this.rK={a24:U[0],Wa:l,OM:U[1]};var D=this.Gt=this.Qp(W[2],W[2]),m=q?q.xw(D):D;
this.US(m);this.L8(!0,m)};kf.VaPo.prototype.HL=function(W){var q=this.Ya,X=this.J,k=this.E9();if(X==0&&g.Q3.bV(k,q)){k=g.Q3.aaN(k,q,this.view.Jn());
this.Rq(k,!0);this.L8()}var B=this.ap8;if(X==2&&this.Wi&&(this.T9||B)){var U=this.view.Jn(),l=g.Q3.Wc(k,U.x,U.y,this.LB());
if(l){this.Mv=l;if(B){this.CF.x=l[2][0]-B.x;this.CF.y=l[2][1]-B.y}else{this.T9=this.T9.slice(0,2).concat(l[2]);
this.CF=g.b.DS(this.T9)}this.L8()}}if((X==3||X==4)&&this.Wi){var U=this.view.Jn(),l=g.Q3.Wc(k,U.x,U.y,this.LB());
if(l){if(X==3){var K=this.aq;this.QK=new hw(l[2][0]-K.x,l[2][1]-K.y)}var D=this.Qp(this.Mv[2],l[2]);
this.Gt=this.Gt.xw(D);this.Mv=l;this.US(D);this.L8(!0,D)}}if(X==5&&this.Wi){var U=this.view.Jn(),l=g.Q3.Wc(k,U.x,U.y,this.LB(),this.Mv);
if(l){var m=new hw(l[2][0],l[2][1]);this.h_.lG({f:this.view.lD()},{},this.tx,m);this.Mv=l;var D=this.Gt;
if(D)this.US(D);else D=new dU;this.Gt=this.QY(null,null,!0);this.L8(!0,D.xw(this.Gt))}}};kf.VaPo.prototype.Qp=function(W,q){W=new hw(W[0],W[1]);
q=new hw(q[0],q[1]);var X=Math.max(1e-5,hw.tj(W,q)),k=this.rK.OM.r*.2,B=new dU;for(var U=0;U<X;U+=k){var l=1-U/X,K=l*W.x+(1-l)*q.x,D=l*W.y+(1-l)*q.y,m=this.rK.OM.P();
m.x=Math.round(K-m.r/2);m.y=Math.round(D-m.$/2);if(this.J==3){var Y=this.aq;if(Y==null)Y=new hw(K,D).SR(this.QK);
var a=this.CF=m.P();a.x=Math.round(a.x-Y.x);a.y=Math.round(a.y-Y.y);var p=this.rK.a24;this.rK=this.asX(this.j9);
this.CF=null;g.Qj(p,this.rK.Wa);this.rK.a24=p}var M=this.QY(this.kI,m);B=B.xw(M)}return B};kf.VaPo.prototype.qO=function(W){var q=this.Ya;
if(q&&q[3]>=8){var X=g.Q3.an8(this.E9(),q,this.LB());this.Rq(X,!0);this.L8();alert("new plane added")}var k=this.J,B=this.vE;
if(B||k==1){var U=this.view.Jn();if(B==null)B=this.vE=[U.x,U.y];if(B.length==8&&k1.hI(B)){var X=this.E9();
X.push([100,[g.Q3.aeG(B,this.LB())]]);this.Y.push([0]);this.Rq(X,!0);B=this.vE=null;this.lI(0);this.L8()}else if(B.length<8){B.push(U.x,U.y);
if(B.length==8&&!k1.hI(B)){var l=B[0],K=B[1];B[0]=B[4];B[1]=B[5];B[4]=l;B[5]=K}}}var D=this.T9;if(k==2&&D&&D[0]==D[2]&&D[1]==D[3]){this.CF=null;
this.L8()}if((k==3||k==4)&&this.Wi){if(k==3&&!this.Fa[2][3].V()&&this.a98){this.QK=this.a98.P();this.L8()}this.Rq();
this.kI=null}if(!this.Fa[2][3].V())this.aq=null;this.Wi=!1;this.ap8=null;this.T9=null};kf.VaPo.prototype.lI=function(W,q){if(W==this.J)return;
var X=this.Gt,B=6;if(this.J==5){this.Rq();this.US(X);this.h_=null;this.L8()}if(this.J==3||this.J==4){this.kI=null;
if(X)this.US(X);this.L8(!0,X)}if(W==5){if(q==null&&this.CF==null){alert("Select the area to be transformed");
return}this.a9B(q)}if(W>1){var k=this.E9();this.zJ();this.Rq(k,!0);this.L8()}this.view.jm(W>=B?bU.jB(W-B):new bu(!0));
if(W<B)this.view.Qh("auto");this.J=W;this.cw.lI(W);I.ru(this.cW);var U={0:0,1:0,2:1,3:2,4:3,5:4,6:5,7:5,8:5}[W];
this.cW.appendChild(this.PE[U])};kf.VaPo.prototype.E9=function(){var N=this.BH,W=this.UX;while(W[N].length==3)N--;
var q=W[N];this.Y=JSON.parse(q[1]);return JSON.parse(q[0])};kf.VaPo.prototype.Rq=function(W,q){if(W==null&&this.Gt==null)return;
var X=this.UX,k=this.BH,N=k;while(N>=0&&X[N].length==3)N--;if(q==null)this.BH=k=k+1;if(W!=null)X[q?N:k]=[JSON.stringify(W),JSON.stringify(this.Y)];
else{var B=this.Qg,U=this.Gt,l=g.j(U.C()*4),K=g.j(U.C()*4);X[k]=[U,l,K];g.YE(this.LL,B,l,U);if(this.kI)g.v.HX("norm",this.kI,B,this.LL,B,B,this.a2Y());
else this.QY(this.LL);g.YE(this.LL,B,K,U);this.Gt=null}while(X.length!=k+1)X.pop()};kf.VaPo.prototype.a2Y=function(){return this.Fa[this.J-1][2].V()/100};
kf.VaPo.prototype.zJ=function(W,q){if(W==null)W=this.E9();this.Y=[];for(var N=0;N<W.length;N++){var X=[];
this.Y.push(X);if(q)for(var k=0;k<W[N][1].length;k++)X.push(k)}};kf.VaPo.prototype.q=function(W,q,X,k,B,U){var l=g.N(U[2].Q3);
this.BH=-1;this.zJ(l);this.Rq(l);var K=g.j(k.C()*4);g.YE(q,X,K,k);this.aH$=new dU;this.Qg=k;this.aog=B;
this.LL=K;this.ts=B.slice(0);this.US(k);this.L8(!0);this.view.kq();this.lI(0)};kf.VaPo.prototype.a9B=function(W){this.rK=W?W:this.asX();
var q=g.b.Lw(this.rK.OM).n;if(W){var X=this.E9(),k=g.Q3.Zv(X,X[0][1][0],this.LB()),B=k[1],U=Math.min(B.r/W.OM.r,B.$/W.OM.$)*.9;
if(U<1)g.b.M(q,new ka(U,0,0,U,0,0),q)}this.h_=new k1(q,!0,!0);this.CF=null;this.Gt=this.QY();this.L8(!0)};
kf.VaPo.prototype.asX=function(W){var q=this.Qg,X=g.b.V5(this.CF),k=this.E9(),B=g.j(X.C()*4);if(W==null)W=this.Mv;
var U=k[W[0]][1],l=g.Q3.sW(k[W[0]][1],W[1],X,this.LB());for(var K=0;K<l.length;K++){var D=U[l[K]],m=g.Q3.Zv(k,D,this.LB()),Y=m[0],a=m[1],p=a.x$(X);
if(p.PM())continue;p=g.b.V5(p);var M=g.j(p.C()*4),x=g.F.b6(Y,a);x=g.F.xY([1/q.r,0,0,0,1/q.$,0,0,0],x);
x=g.F.i5(x);g.F.drawImage(x,this.ts,q.r,q.$,M,p);g.YE(M,p,B,X)}var R=this.Fa[1][0].V(),y=Math.round(R*1.4),s=X.P();
s.Pt(-y,-y);var F=g.j(s.C());F.fill(255);var E=g.j(X.C());g.Z_(F,s,E,X);var o=E.slice(0);g.Zt.Yd(o,X,R);
g.u6(B,E,3);g.Gg.x$(E,o,o);g.fP(o,B,3);return{Wa:B,OM:X}};kf.VaPo.prototype.US=function(W,q){var X=this.Qg;
g.YE(this.aog,X,this.ts,X,W);g.v.HX("norm",this.LL,X,this.ts,X,W,1);if(this.kI)g.v.HX("norm",this.kI,X,this.ts,X,W,this.a2Y())};
kf.VaPo.prototype.QY=function(W,q,X){var k=this.rK,B=k.OM,U=this.Qg,l,K=q?g.b.Lw(q).n:this.h_.LP(),D=g.b.Hb(K),l=g.F.b6(K,B),m=this.Fa[4],Y=new ka;
if(m[0].V()){Y.iM=-1;Y.Wy=2*B.x+B.r}if(m[1].V()){Y.kv=-1;Y.rY=2*B.y+B.$}l=g.F.xY(l,g.F.af(Y));function a(T,e){T.beginPath();
T.moveTo(e[0],e[1]);for(var N=1;N<4;N++)T.lineTo(e[N*2],e[N*2+1]);T.closePath()}var p=this.E9(),M=g.Q3.sW(p[this.Mv[0]][1],this.Mv[1],D,this.LB()),x=p[this.Mv[0]][1],R=new dU;
for(var y=0;y<M.length;y++){var s=x[M[y]],F=g.Q3.Zv(p,s,this.LB()),E=F[0],o=F[1],G=o.x$(D);if(this.CF)G=G.x$(this.CF);
if(G.PM())continue;var d=g.F.b6(E,o),u=g.b.Lw(G).n;g.F.M(d,u);var r=K.slice(0);g.F.M(d,r);var v=g.b.DS(r).x$(g.b.DS(u)),c=v.r,V=v.$;
if(v.PM())continue;d=g.F.xY(g.F.xY(d,l),[B.r,0,B.x,0,B.$,B.y,0,0]);var j=g.j(v.C()*4);g.F.drawImage(d,k.Wa,B.r,B.$,j,v,X);
if(G.C()!=D.C()){var Q=g.Nm(c,V);Q.save();Q.clearRect(0,0,c,V);Q.translate(-v.x,-v.y);a(Q,u);Q.clip();
a(Q,r);Q.fill();Q.restore();var H=new Uint8Array(Q.getImageData(0,0,c,V).data.buffer);for(var N=3;N<j.length;
N+=4)if(H[N]<j[N])j[N]=H[N]}g.v.HX("norm",j,v,W?W:this.ts,U,v,1);R=R.xw(v)}return R};kf.VaPo.prototype.V=function(){return g.N(this.E9())};
kf.VaPo.prototype.aAb=function(){if(this.J==5)this.lI(0);var W=new dU,q=this.UX;for(var N=0;N<=this.BH;
N++)if(q[N].length==3)W=W.xw(q[N][0]);var X=g.j(W.C()*4);g.YE(this.LL,this.Qg,X,W);return[X,W]};kf.VaPo.prototype.qL=function(W,q){this.cw.qL(W,q);
this.view.qL(W-40,q-30)};kf.VaPo.prototype.l=function(){this.cw.l();for(var N=0;N<this.Fa.length;N++)for(var W=0;
W<this.Fa[N].length;W++)this.Fa[N][W].l()};kf.VaPo.prototype.L8=function(W,q){var X=this.Qg,k=[],B=[],U=[],l=this.E9(),K=g.Q3.LP(l,this.Y),D=0,m=null,y=null,s=null,F=null;
for(var N=0;N<K.length;N++)U.push(K[N][0][0],K[N][0][1]);for(var N=0;N<l.length;N++){var Y=this.Y[N].length;
D+=Y;if(Y!=0)m=[N,this.Y[N][0]]}var a=this.Fa[0][0];a.Si(D!=0);if(D!=0)a.q(Math.round(l[m[0]][0]));this.Fa[0][1].Si(D!=0);
if(D==1){var p=l[m[0]][1]}var M=[];if(this.CF&&l[this.Mv[0]])M=g.Q3.sW(l[this.Mv[0]][1],this.Mv[1],this.CF,this.LB());
var x=[];if(this.h_){x=this.h_.a8f();x[4]=this.h_.Kb()}var R=[];if(this.h_&&l[this.Mv[0]])R=g.Q3.sW(l[this.Mv[0]][1],this.Mv[1],g.b.DS(this.h_.LP()),this.LB());
for(var E=0;E<l.length;E++){var o=l[E][0],p=l[E][1],G=this.Y[E];for(var d=0;d<p.length;d++){var m=p[d],u=g.Q3.Zv(l,m,this.LB()),r=u[0],X=u[1],v=g.F.b6(r,X);
if(X.PM()){if(s==null)s={zb:[],n:[]};g.b.concat(s,{zb:["M","L","L","L","Z"],n:r});continue}var c=g.b.Lw(X),V=c.n,j=c.zb,Q=this.QK;
if(Q&&X.BS(Q)&&this.j9&&this.j9[0]==E){y=[Q.x,Q.y];g.F.M(v,y)}if(M.indexOf(d)!=-1){var H=this.CF.x$(X);
if(E==this.Mv[0]&&!H.PM()){if(F==null)F={n:[],zb:[]};var T=g.b.Lw(H);g.F.M(v,T.n);g.b.concat(F,T)}}if(R.indexOf(d)!=-1&&E==this.Mv[0]){var e=[];
for(var N=0;N<x.length;N++)if(X.BS(x[N]))e.push(x[N].x,x[N].y);if(e.length!=0){g.F.M(v,e);U=U.concat(e)}}if(G&&G.indexOf(d)!=-1){var z=Math.ceil(X.x/o)*o,J=X.x+X.r,P=Math.ceil(X.y/o)*o,L=X.y+X.$;
for(var A=z;A<J;A+=o){V.push(A,X.y,A,L);j.push("M","L")}for(var h=P;h<L;h+=o){V.push(X.x,h,J,h);j.push("M","L")}}g.F.M(v,V);
k=k.concat(j);B=B.concat(V)}if(y&&this.J==3){var A=y[0],h=y[1],C=10/this.view.lD().$Z;B.push(A-C,h,A+C,h);
B.push(A,h-C,A,h+C);k.push("M","L","M","L")}}var r=this.vE,X=this.Qg;if(r){var w=["M"];for(var N=0;N<r.length-2;
N+=2)w.push("L");w.push("Z");var f=_.wW.Ba(r,X.r/2,X.$/2);if(isNaN(f)||f==Infinity||f==-Infinity||!k1.hI(r)){if(s==null)s={zb:[],n:[]};
g.b.concat(s,{zb:w,n:r})}else{B=B.concat(r);k=k.concat(w)}}var O={Qc:{zb:k,n:B},akk:s,aiT:F,x7:U,J$:null};
if(W){if(q){q=q.P();q.Pt(4,4)}this.view.q([{oq:X,data:this.ts.buffer}],null,O,q)}else this.view.aCq(O)};
kf.blnc=function(){kf.call(this);var W=this.K;this.Re=null;this.R8=new cL([12,12],[[19,6,0],[19,6,1],[19,6,2]]);
this.R8.Q(S.E.k,this.L8,this);W.appendChild(this.R8.K);this.al=[];for(var N=0;N<3;N++){var q=new iT(["VAR0 - VAR1",dZ.aDc[N],dZ.fx[N]],-100,100);
q.Q(S.E.k,this.qz,this);this.al.push(q);W.appendChild(q.K)}this.k4=new h$([13,4]);this.k4.Q(S.E.k,this.qz,this);
W.appendChild(this.k4.K)};kf.blnc.prototype=new kf;kf.blnc.prototype.l=function(){this.R8.l();for(var N=0;
N<3;N++)this.al[N].l();this.k4.l()};kf.blnc.prototype.q=function(W){this.Re=g.N(W);this.L8()};kf.blnc.prototype.V=function(W){var q=["ShdL","MdtL","HghL"],X=this.Re[q[this.R8.V()]].v;
for(var N=0;N<3;N++)X[N].v=this.al[N].V();this.Re.PrsL.v=this.k4.V();return g.N(this.Re)};kf.blnc.prototype.L8=function(W){var q=["ShdL","MdtL","HghL"],X=this.Re[q[this.R8.V()]].v;
for(var N=0;N<3;N++)this.al[N].q(X[N].v);this.k4.q(this.Re.PrsL.v)};kf.brit=function(){kf.call(this,"brit");
this.aC.push(new iT([12,2],-150,150,""));this.aC.push(new iT([12,3,0],-100,100,""));this.aC.push(new h$([12,3,1]));
this.Fs()};kf.brit.prototype=new kf;kf.curv=function(){kf.call(this);this.value=null;this.rE=null;this.e=null;
var W=this.K;this.sq=new cL("Preset",["basic","advanced"]);this.sq.Q(S.E.k,this.a9s,this);W.appendChild(this.sq.K);
I.zR(W);this.rj=new cL([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);this.rj.Q(S.E.k,this.oH,this);W.appendChild(this.rj.K);
this.QH=new cL(null,["Spline","Sketch"]);this.QH.Q(S.E.k,this.a9s,this);W.appendChild(this.QH.K);this.Pr=new fv;
this.Pr.parent=this;this.Pr.Q(S.E.k,this.CT,this);W.appendChild(this.Pr.K);I.zR(W);this.Zd=new eA;this.Zd.Q(S.E.k,this.og,this);
W.appendChild(this.Zd.K);this.Ha=null;this.awt=0;this.a2H=0;I.zR(W);this.Fo=new fa("Sample from image",i3.NQ(["#000000","#888888","#ffffff","-\u2195"]),!0,null,!0);
this.Fo.Q(S.E.k,this.p1,this);this.Fo.K.style.marginRight="0";W.appendChild(this.Fo.K)};kf.curv.prototype=new kf;
kf.curv.prototype.Zz=function(){return this.Zd.aJo()<128?1:2};kf.curv.prototype.QL=function(W,q){if(q==aI.NC||q==aI.kg){var X=W.vy,k=["Default"];
for(var N=0;N<X.length;N++)k.push(X[N].presetFileName.v);k.push("Custom");this.sq.oj(k,[1,X.length,1]);
this.e=W}};kf.curv.prototype.qL=function(W,q){this.Zd.qL(W,q)};kf.curv.prototype.l=function(){this.rj.l();
this.Zd.l()};kf.curv.prototype.jO=function(){this.sq.q(this.e.vy.length+1)};kf.curv.prototype.a9s=function(W){if(W.target==this.sq){var q=this.sq.V(),X=this.e.vy,k;
if(q==0)k=dY.wy("curv");else if(q-1<X.length)k=g.N(X[q-1]);else return;this.q(k);this.qz();return}this.jO();
var B=eR.XN(this.value,0),U=B.length==256?1:0,l=this.QH.V();if(U==l)return;var k=dY.wy("curv");if(l==1){var K=[];
for(var N=0;N<256;N++)K.push(N);eR.jr(k,0,K)}this.q(k);this.qz()};kf.curv.prototype.og=function(){this.jO();
eR.jr(this.value,this.rj.V(),this.Zd.V());this.qz()};kf.curv.prototype.oH=function(){var W=this.rj.V(),q=eR.XN,X=q(this.value,W),k;
if(W==0)k=[q(this.value,1),q(this.value,2),q(this.value,3)];var B=X.length==256?1:0;this.QH.q(B);if(this.rE)this.Zd.Jw(this.rE[W],this.rE[4]*[1,.33,.33,.33][W],["#ccc","#fcc","#cfc","#ccf"][W]);
this.Zd.q(X,null,k)};kf.curv.prototype.U4=function(){return!0};kf.curv.prototype.mc=function(W,q,X,k,B){var U=this.value;
this.value=dY.wy("curv");this.qz();var l=_.Mo.NR(W,B,1,null,!0),K=this.Ha=[l>>>16&255,l>>>8&255,l&255];
this.awt=B.y;this.q(U);this.qz()};kf.curv.prototype.lG=function(W,q,X,k,B){if(this.Ha==null)return;if(this.Fo.V().indexOf(!0)==3){var U=this.Ha,l=this.value,K=this.rj.V(),D=eR.XN(l,K),m,Y=K==0?Math.round((U[0]+U[1]+U[2])/3):U[K-1],a=-1;
for(var N=0;N<D.length;N++)if(D[N].v.Hrzn.v==Y)a=N;if(a==-1){m=g.N(D[0]);m.v.Hrzn.v=Y;m.v.Vrtc.v=Y;D.push(m);
D.sort(function(p,M){return p.v.Hrzn.v-M.v.Hrzn.v});eR.jr(l,K,D);a=D.indexOf(m)}m=D[a];m.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(m.v.Hrzn.v+(this.awt-B.y))));
eR.jr(l,K,D);this.q(l);this.qz()}};kf.curv.prototype.iY=function(W,q,X,k,B){kf.aCd(this,W,B,"curv");
this.jO();this.Ha=null};kf.curv.prototype.q=function(W){this.value=W;this.oH()};kf.curv.prototype.Jw=function(W){this.rE=W;
this.oH()};kf.curv.prototype.V=function(W){return g.N(this.value)};kf.curv.prototype.CT=function(){var W=this.Pr.V(),q=this.rE,X=this.value,k=g.a5Y(W,q);
for(var N=0;N<4;N++){var B=k[N][0],U=k[N][1],l=k[N][2],K=[g.yz.B9(B,0,!0),g.yz.B9(U,255,!0)];if(l!=null)K.splice(1,0,g.yz.B9(128,l,!0));
eR.jr(X,N,K)}this.oH();this.qz()};kf.expA=function(){kf.call(this,"expA");this.aC.push(new iT([12,5],-20,20,null,2,!0));
this.aC.push(new iT([12,6],-.5,.5,null,2));this.aC.push(new iT([12,7],.01,9.99,null,2,!0));this.Fs()};
kf.expA.prototype=new kf;kf.expA.prototype.zc=function(W,q){q[0]=W.Exps.v;q[1]=W.Ofst?W.Ofst.v:0;q[2]=W.gammaCorrection?W.gammaCorrection.v:1};
kf.expA.prototype.eD=function(W,q){W.Exps={t:"doub",v:q[0]};W.Ofst={t:"doub",v:q[1]};W.gammaCorrection={t:"doub",v:q[2]}};
kf.grdm=function(){kf.call(this,"grdm");this.aC.push(new aQ(!0,null,!0));this.aC.push(new h$([12,23,0]));
this.Fs()};kf.grdm.prototype=new kf;kf.grdm.prototype.zc=function(W,q){q[0]=W.Grad.v;q[1]=W.Rvrs?W.Rvrs.v:!1};
kf.grdm.prototype.eD=function(W,q){W.Grad.v=q[0];W.Rvrs={t:"bool",v:q[1]}};kf.grdm.prototype.QL=function(W,q){this.aC[0]._Q(W.w5,W.yY);
if(q==aI.NC||q==aI.Z$||q==aI.Zp)this.aC[0].mX(W.xF)};kf.selc=function(){kf.call(this);var W=this.K;this.Ym=[];
this.$I=null;this.R8=new cL([12,82],dZ.un.concat([[13,1,8],[13,1,13],[13,1,10]]));this.R8.Q(S.E.k,this._t,this);
W.appendChild(this.R8.K);I.zR(W);for(var N=0;N<4;N++){var q=new iT(dZ.aDc[N],-100,100,"%");q.Q(S.E.k,this._t,this);
this.Ym.push(q);W.appendChild(q.K)}this.Ur=new h$([13,3]);W.appendChild(this.Ur.K);this.Ur.Q(S.E.k,this._t,this)};
kf.selc.prototype=new kf;kf.selc.prototype.l=function(){this.R8.l();this.Ur.l();for(var N=0;N<4;N++)this.Ym[N].l()};
kf.selc.prototype.q=function(W){this.$I=g.N(W);this.L8()};kf.selc.prototype.V=function(W){return g.N(this.$I)};
kf.selc.prototype._t=function(W){if(W.target!=this.R8){var q=this.$I,X=[];for(var N=0;N<4;N++)X[N]=this.Ym[N].V();
hM.jr(q,this.R8.V(),X);q.Mthd={t:"enum",v:{CrcM:this.Ur.V()?"Absl":"Rltv"}}}this.L8();this.qz()};kf.selc.prototype.L8=function(){var W=this.$I,q=hM.XN(W,this.R8.V());
for(var N=0;N<4;N++)this.Ym[N].q(q[N]);this.Ur.q(W.Mthd?W.Mthd.v.CrcM=="Absl":!1)};kf.blwh=function(){kf.call(this,"blwh");
this.aC.push(new h$([12,11]));this.aC.push(new dT(!0));for(var N=0;N<6;N++)this.aC.push(new iT(dZ.un[N],-200,300));
this.Fs()};kf.blwh.prototype=new kf;kf.blwh.prototype.zc=function(W,q){q[0]=W.useTint.v;q[1]=W.tintColor.v;
var X="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var N=0;N<6;N++)q[2+N]=W[X[N]].v};kf.blwh.prototype.eD=function(W,q){W.useTint.v=q[0];
W.tintColor.v=q[1];var X="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var N=0;N<6;N++)W[X[N]].v=q[2+N]};
kf.hue2=function(){kf.call(this);this.value=null;this.lg=null;this.Dl=null;this.aH1=[[0,0,0],[0,50,0]];
var W=this.K;this.Fo=new fa(null,["\u2194"],!0,["Click and drag in image to change saturation"],!0);
this.Fo.Q(S.E.k,this.ahH,this);this.Fo.Q(S.E.k,this.p1,this);W.appendChild(this.Fo.K);var q=this.aC=[new cL([12,12],["Master"].concat(dZ.un)),new iT([12,8],-180,180),new iT([12,9],-100,100),new iT([12,10],-100,100),new h$([12,11])];
for(var N=0;N<q.length;N++){var X=q[N];X.Q(S.E.k,N==0?this.oH:this.aiq,this);W.appendChild(X.K)}this.R8=q[0];
this.aAe=q[1];this.oa=q[2];this.adt=q[3];this.D2=q[4];this.A9=new fa("Sample Hue",["<img src=\""+PIMG["tools/eyedropper"]+"\" class=\"autoscale gsicon\" />","+","-"],!0,null,!0);
this.A9.Q(S.E.k,this.ahH,this);this.A9.Q(S.E.k,this.p1,this);this.A9.K.style.marginLeft="20px";W.appendChild(this.A9.K);
this.ah5=I.a("div");W.appendChild(this.ah5);this.bj=this.RK.bind(this);this.tK=this._a.bind(this);this.mL=I.a("canvas");
this.Ca=this.mL.getContext("2d");this.eZ=null;I.TK(this.mL);I.JO(this.mL,282,18);W.appendChild(this.mL);
I.aA(this.mL,this.ss.bind(this))};kf.hue2.prototype=new kf;kf.hue2.prototype.qL=function(W,q){I.JO(this.mL,Math.round(W),18);
if(this.value)this.oH()};kf.hue2.prototype.ahH=function(W){var q=W.target.V().indexOf(!0);if(q==-1)return;
if(W.target==this.Fo)this.A9.q([!1,!1,!1]);else this.Fo.q([!1,!1,!1])};kf.hue2.prototype.ss=function(W){if(this.R8.V()==0||this.D2.V())return;
var q=I.IO(W,this.mL).x/(this.mL.width/I.W$()),U=1e6;function X(a,p,M){return a<p&&p<M||M<a&&(a<p||p<M)}var k=this.SU(),B=-1;
for(var N=0;N<4;N++){var l=Math.abs(q-(k[N]+N*1e-5));if(l<U){U=l;B=N}}if(U>.025){B=-1;var K=k[0],D=k[1],m=k[2],Y=k[3];
if(X(K,q,D))B=4;if(X(D,q,m))B=5;if(X(m,q,Y))B=6}if(B==-1)return;this.eZ=B;I.wO(document.body,this.bj);
I.DA(document.body,this.tK)};kf.hue2.prototype.RK=function(W){var q=I.IO(W,this.mL).x/(this.mL.width/I.W$()),X=this.SU(),k=this.eZ;
for(var N=1;N<4;N++)if(X[N]<X[N-1]){X[N]+=1}if(k<4){var B=1e6,U=0;for(var N=-20;N<20;N++){var l=Math.abs(X[k]-(q+N));
if(l<B){B=l;U=N}}q+=U;X[k]=q;for(var N=k+1;N<4;N++)if(X[N]<X[N-1]){X[N]=X[N-1]}for(var N=k-1;N>=0;N--)if(X[N]>X[N+1]){X[N]=X[N+1]}}else{var K=q-(X[k-4]+X[k-3])/2;
if(K<-.5)K+=1;if(k==4){X[0]+=K;X[1]+=K;X[2]=Math.max(X[1],X[2]);X[3]=Math.max(X[1],X[3])}if(k==5)for(var N=0;
N<4;N++)X[N]+=K;if(k==6){X[2]+=K;X[3]+=K;X[0]=Math.min(X[0],X[2]);X[1]=Math.min(X[1],X[2])}}for(var N=1;
N<4;N++)if(X[N]<X[N-1])throw"e";this.aFl(X);this.oH();this.qz()};kf.hue2.prototype._a=function(W){I.yO(document.body,this.bj);
I.xB(document.body,this.tK)};kf.hue2.prototype.l=function(){for(var N=0;N<this.aC.length;N++)this.aC[N].l()};
kf.hue2.prototype.aiq=function(W){var q=this.value.Clrz.v=this.D2.V();if(q)this.R8.q(0);if(W&&W.target==this.D2){var X=q?1:0;
this.aH1[1-X]=cW.XN(this.value,0);var k=this.aH1[X];cW.jr(this.value,0,k);if(this.R8.V()==0){this.aAe.q(k[0]);
this.oa.q(k[1]);this.adt.q(k[2])}}var B=this.R8.V(),U=cW.XN(this.value,B),k=B==0?U:U.al;k[0]=this.aAe.V();
var l=this.oa.V();k[1]=q?Math.max(0,l):l;k[2]=this.adt.V();cW.jr(this.value,B,U);this.oH();this.qz()};
kf.hue2.prototype.oH=function(){var W=this.R8.V(),q=this.value.Clrz?this.value.Clrz.v:!1;this.D2.q(q);
this.R8.Si(!q);this.A9.Si(!q&&W!=0);var X=cW.XN(this.value,W),k=W==0?X:X.al;this.aAe.q(k[0]);this.oa.q(k[1]);
this.adt.q(k[2]);var B=this.mL.width,U=this.mL.height,l=this.Ca;l.clearRect(0,0,B,U);if(q||W==0){this.ah5.innerHTML="";
return}var K=X.DU;this.ah5.innerHTML=K[0]+"\xB0 / "+K[1]+"\xB0<span style=\"float:right\">"+K[2]+"\xB0 \\ "+K[3]+"\xB0</span>";
var D=g.j(B*4);jg.aKP(D,1,B,-1,.5);var m=new ImageData(new Uint8ClampedArray(D.buffer),B,1),Y=Math.round(U/4);
for(var N=0;N<Y;N++)l.putImageData(m,0,N);function a(s,F,E){l.fillStyle=E;var o=Y*2;if(s<=F)l.fillRect(s*B,o,(F-s)*B,Y);
else{l.fillRect(0,o,F*B,Y);l.fillRect(s*B,o,(1-s)*B,Y)}}var p=this.SU();a(p[0],p[1],"#888888");a(p[1],p[2],"#cccccc");
a(p[2],p[3],"#888888");l.fillStyle="#ffffff";l.lineWidth=1;l.beginPath();var M=Y+.5,x=4*Y+.5;for(var N=0;
N<4;N++){var R=Math.floor(B*p[N])+.5,y=(N<2?-1:1)*Y*(N==1||N==2?1:2);l.moveTo(R,M);l.lineTo(R,x);l.lineTo(R+y,x);
l.lineTo(R+y,Y+Y+.5);l.closePath()}l.fill();l.stroke()};kf.hue2.prototype.SU=function(){var W=this.R8.V(),q=cW.XN(this.value,W).DU;
for(var N=0;N<4;N++)q[N]=(1000.5+q[N]/360)%1;return q};kf.hue2.prototype.aFl=function(W){var q=this.R8.V(),X=cW.XN(this.value,q);
for(var N=0;N<4;N++)X.DU[N]=Math.round(36e3+(W[N]-.5)*360)%360;cW.jr(this.value,q,X)};kf.hue2.prototype.U4=function(){return!0};
kf.hue2.prototype.a16=function(){var W=this.Fo.V().indexOf(!0),q=this.A9.V().indexOf(!0);return W!=-1?W:q!=-1?q+1:-1};
kf.hue2.prototype.mc=function(W,q,X,k,B){var U=this.a16();if(U==-1)return;var l=this.value;this.value=dY.wy("hue2");
this.qz();var K=_.Mo.NR(W,B,1,null,!0);this.q(l);var D=[K>>>16&255,K>>>8&255,K&255],m=g.v9(D[0]/255,D[1]/255,D[2]/255);
if(U==0){this.R8.q(1+Math.round(m.QB*6)%6)}else{var Y=this.SU(),a=.5+m.QB,p=1/12,M=Y[1],x=Y[2];if(x<M){x++;
if(a<M&&a+1-x<M-a)a++}var R=M<=a&&a<=x;if(U==1){M=a-p/2;x=a+p/2}else if(U==2&&!R){M=Math.min(a,M);x=Math.max(a,x)}else if(U==3&&R){if(a-M<x-a)M=a;
else x=a}Y=[M-p,M,x,x+p];this.aFl(Y)}this.qz();this.lg=B.x;this.Dl=this.oa.V()};kf.hue2.prototype.lG=function(W,q,X,k,B){var U=this.a16();
if(U==-1)return;if(U==0){if(this.lg!=null){var l=B.x-this.lg;l=Math.max(-100,Math.min(100,this.Dl+.5*l));
this.oa.q(l);this.aiq()}}};kf.hue2.prototype.iY=function(W,q,X,k,B){this.lg=null};kf.hue2.prototype.q=function(W){this.value=g.N(W);
var q=this.value.Clrz?this.value.Clrz.v:!1;this.aH1[q?1:0]=cW.XN(this.value,0);this.oH()};kf.hue2.prototype.V=function(W){return g.N(this.value)};
kf.levl=function(){function W(){kf.call(this);this.value=null;this.rE=null;this.iH=[new hw(0,0),new hw(0,0),new hw(0,0),new hw(0,0),new hw(0,0)];
this.ac=-1;this.a0$=0;this.bj=this.RK.bind(this);this.tK=this._a.bind(this);var q=this.K;this.rj=new cL([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.rj.Q(S.E.k,this.oH,this);q.appendChild(this.rj.K);this.Pr=new fv;this.Pr.parent=this;this.Pr.Q(S.E.k,this.CT,this);
q.appendChild(this.Pr.K);var X=I.a("div","");q.appendChild(X);var k=I.a("div","");q.appendChild(k);this.mL=I.a("canvas");
X.appendChild(this.mL);this.Ca=this.mL.getContext("2d");this.uj=new hw(256,120);I.w(this.mL,"display:block");
I.TK(this.mL);I.aA(this.mL,this.ss.bind(this));this.oK=I.a("canvas","");k.appendChild(this.oK);this.EJ=this.oK.getContext("2d");
this.mo=new hw(this.uj.x,40);I.w(this.oK,"display:block");I.TK(this.oK);I.aA(this.oK,this.aKw.bind(this));
var B=this.ajC=[];for(var N=0;N<5;N++){var U=new kD(null,null,3);B.push(U);U.Q(S.E.k,this.axm,this);
(N<2||N==4?X:k).appendChild(U.K)}X.appendChild(B[1].K);this.Fo=new fa("Sample from image",i3.NQ(["#000000","#888888","#ffffff"]),!0,null,!0);
this.Fo.Q(S.E.k,this.p1,this);q.appendChild(this.Fo.K);this.qL(250,100)}W.prototype=new kf;W.prototype.Zz=function(){return this.a0$==0?1:2};
W.prototype.CT=function(){var q=this.Pr.V(),X=this.rE,k=this.value,B=g.a5Y(q,X);for(var N=0;N<4;N++){var U=B[N][0],l=B[N][1],K=B[N][2],D=[g.yz.B9(U,0,!0),g.yz.B9(l,255,!0)];
if(K!=null)D.splice(1,0,g.yz.B9(128,K,!0));var m=[~~U,~~l,0,255,K==null?100:~~(100+.75*100*(K-128)/128)];
i0.jr(k,N,m)}this.oH();this.qz()};W.prototype.qL=function(q,X){q+=6;this.uj.x=this.mo.x=q;I.JO(this.mL,q,this.uj.y,this.Ca);
I.JO(this.oK,q,this.mo.y,this.EJ);var k=this.ajC;I.w(k[3].K,"margin-left: "+(q-104)+"px");I.w(k[4].K,"margin: 0 "+(q/2-74)+"px");
if(this.value)this.oH()};W.prototype.l=function(){this.rj.l()};W.prototype.axm=function(q){var X=[];
for(var N=0;N<5;N++){var k=255,B=1;if(N==4){k=999;B=100}var U=parseFloat(this.ajC[N].V());X[N]=Math.max(0,Math.min(k,U*B))}i0.jr(this.value,this.rj.V(),X);
this.oH();this.qz()};W.prototype.oH=function(q){var X=this.uj.x,k=this.uj.y,B=this.rj.V(),U=this.Ca;
U.clearRect(0,0,X,k);U.fillStyle="#cccccc";U.fillRect(8,8,X-16,k-16-8);if(this.rE){var l=this.rE[0].slice(0),x=0;
if(B==0){l.fill(0);var K=g.N(this.value);i0.jr(K,0,[0,255,0,255,100]);var D=dZ.z2("levl",K),m=[D.Cx,D.TN,D.Dz];
for(var Y=0;Y<3;Y++){var a=this.rE[1+Y],p=m[Y];for(var N=0;N<256;N++)l[~~(p[N]*255)]+=a[N]}}var M=B==0?l:this.rE[B];
for(var N=0;N<M.length;N++)x+=M[N];U.fillStyle="#333333";U.beginPath();U.moveTo(8,k-16);for(var N=0;
N<256;N++){var R=55*M[N]/x;U.lineTo(8+N/256*(X-16),Math.max(8,k-16-k*R))}U.lineTo(X-8,k-16);U.closePath();
U.fill()}var y=i0.XN(this.value,B);for(var N=0;N<5;N++)this.ajC[N].q(y[N]/(N==4?100:1));this.iH[0].cQ(8+y[0]/255*(X-16),k-14);
this.iH[1].cQ(8+y[1]/255*(X-16),k-14);var s=Math.log(y[4]/100)/Math.log(9.99);s=.5-s/2;this.iH[4].cQ(this.iH[0].x+s*(this.iH[1].x-this.iH[0].x),k-14);
this._w(U,this.iH[0],"#000000");this._w(U,this.iH[1],"#ffffff");this._w(U,this.iH[4],"#777777");var X=this.mo.x,k=this.mo.y;
U=this.EJ;U.clearRect(0,0,X,k);var F=U.createLinearGradient(0,0,X-16,0);F.addColorStop(0,"black");F.addColorStop(1,"white");
U.fillStyle=F;U.fillRect(8,8,X-16,16);this.iH[2].cQ(8+y[2]/255*(X-16),k-14);this.iH[3].cQ(8+y[3]/255*(X-16),k-14);
this._w(U,this.iH[2],"#000000");this._w(U,this.iH[3],"#ffffff")};W.prototype._w=function(q,X,k){q.fillStyle=k;
q.fillRect(X.x-5,X.y,10,10)};W.prototype.ss=function(q){var X=I.IO(q,this.mL),k=this.a0i([0,1,4],X);
if(k!=-1)this.ac=this.a0$=k;this.ae_()};W.prototype.aKw=function(q){var X=I.IO(q,this.oK),k=this.a0i([2,3],X);
if(k!=-1)this.ac=k;this.ae_()};W.prototype.a0i=function(q,X){var k=-1,B=1e9;for(var N=0;N<q.length;N++){var U=Math.abs(this.iH[q[N]].x-X.x);
if(U<B){B=U;k=q[N]}}return B<16?k:-1};W.prototype.ae_=function(q){if(this.ac==-1)return;I.wO(document.body,this.bj);
I.DA(document.body,this.tK)};W.prototype.RK=function(q){var X=i0.XN(this.value,this.rj.V()),k=I.IO(q,this.ac==2&&this.ac==3?this.oK:this.mL),B=255*(k.x-8)/(this.uj.x-16);
B=Math.max(0,Math.min(255,B));if(this.ac==0)B=Math.min(B,X[1]-2);if(this.ac==1)B=Math.max(B,X[0]+2);
if(this.ac!=4)X[this.ac]=Math.round(B);else{var U=(B-X[0])/(X[1]-X[0]);U=1-2*U;U=Math.pow(9.99,U);X[4]=Math.min(999,Math.max(10,Math.round(U*100)))}i0.jr(this.value,this.rj.V(),X);
this.oH();this.qz()};W.prototype._a=function(q){I.yO(document.body,this.bj);I.xB(document.body,this.tK);
this.ac=-1};W.prototype.U4=function(){return!0};W.prototype.iY=function(q,X,k,B,U){kf.aCd(this,q,U,"levl")};
W.prototype.q=function(q){this.value=q;this.oH()};W.prototype.Jw=function(q){this.rE=q;this.oH()};W.prototype.V=function(q){return g.N(this.value)};
return W}();kf.phfl=function(){kf.call(this,"phfl");this.aC.push(new dT);this.aC.push(new iT([12,74],0,100,"%"));
this.aC.push(new h$([13,4]));this.Fs()};kf.phfl.prototype=new kf;kf.phfl.prototype.zc=function(W,q){q[0]=W.Clr.v;
q[1]=W.Dnst.v;q[2]=W.PrsL.v};kf.phfl.prototype.eD=function(W,q){var X=g.ov.yM(q[0]),k=W.Clr.v,B=g.j7(X.o,X.L,X.X);
k.Lmnc.v=B.xd;k.A.v=B.iM;k.B.v=B.X;W.Dnst.v=q[1];W.PrsL.v=q[2]};kf.vibA=function(){kf.call(this,"vibA");
this.aC.push(new iT([12,13],-100,100,null));this.aC.push(new iT([12,9],-100,100,null));this.Fs()};kf.vibA.prototype=new kf;
kf.vibA.prototype.zc=function(W,q){q[0]=W.vibrance?W.vibrance.v:0;q[1]=W.Strt?W.Strt.v:0};kf.vibA.prototype.eD=function(W,q){W.vibrance.v=q[0];
W.Strt.v=q[1]};kf.thrs=function(){kf.call(this,"thrs");this.aC.push(new iT([4,13],1,255,null));this.Fs()};
kf.thrs.prototype=new kf;kf.thrs.prototype.zc=function(W,q){q[0]=W.Lvl.v};kf.thrs.prototype.eD=function(W,q){W.Lvl.v=q[0]};
kf.mixr=function(){kf.call(this);var W=this.K;this.Ym=[];this.$I=null;this.R8=new cL([12,4],[[13,1,1],[13,1,4],[13,1,5]]);
this.a3e=!1;this.R8.Q(S.E.k,this._t,this);W.appendChild(this.R8.K);I.zR(W);this.Hi=new h$([12,60]);W.appendChild(this.Hi.K);
this.Hi.Q(S.E.k,this._t,this);for(var N=0;N<4;N++){var q=new iT([[13,1,1],[13,1,4],[13,1,5],[13,2]][N],-200,200,"%");
q.Q(S.E.k,this._t,this);this.Ym.push(q);W.appendChild(q.K)}};kf.mixr.prototype=new kf;kf.mixr.prototype.l=function(){this.R8.l();
this.Hi.l();for(var N=0;N<4;N++)this.Ym[N].l()};kf.mixr.prototype.q=function(W){this.$I=g.N(W);this.L8()};
kf.mixr.prototype.V=function(W){return g.N(this.$I)};kf.mixr.prototype._t=function(W){if(W.target!=this.R8){var q=dZ.Fg(this.$I);
if(W.target==this.Hi){q.Hi=this.Hi.V();if(q.Hi)q._=[40,40,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];else q._=[100,0,0,0,0,0,100,0,0,0,0,0,100,0,0,0,0,0,0,0]}else{var X=(q.Hi?0:this.R8.V())*5,N=this.Ym.indexOf(W.target);
q._[X+(N<3?N:4)]=W.target.V()}this.$I=dZ.s1(q)}this.L8();this.qz()};kf.mixr.prototype.L8=function(){var W=dZ.Fg(this.$I);
if(W.Hi!=this.a3e)this.R8.oj(W.Hi?[[13,1,7]]:dZ.fx);this.a3e=W.Hi;this.Hi.q(W.Hi);var q=(W.Hi?0:this.R8.V())*5;
for(var N=0;N<4;N++)this.Ym[N].q(W._[q+(N<3?N:4)])};kf.post=function(){kf.call(this,"post");this.aC.push(new iT([4,1],2,255,null));
this.Fs()};kf.post.prototype=new kf;kf.post.prototype.zc=function(W,q){q[0]=W.Lvls.v};kf.post.prototype.eD=function(W,q){W.Lvls.v=q[0]};
kf.clrL=function(){kf.call(this,"clrL");this.aC.push(new aP("LUTs"));this.Fs()};kf.clrL.prototype=new kf;
kf.clrL.prototype.zc=function(W,q){q[0]=W};kf.clrL.prototype.eD=function(W,q){var X=q[0];for(var k in X)W[k]=X[k]};
kf.clrL.prototype.QL=function(W,q){if(q==aI.NC||q==aI.pN)this.aC[0].mX(W.adx)};kf.rplc=function(){kf.call(this,"rplc");
this.aC.push(new iT([12,92],0,200));this.aC.push(new dT);this.aC.push(new iT([12,8],-180,180));this.aC.push(new iT([12,9],-100,100));
this.aC.push(new iT([12,10],-100,100));this.Fs()};kf.rplc.prototype=new kf;kf.rplc.prototype.zc=function(W,q){q[0]=W.Fzns.v;
q[1]=W.Mxm.v;q[2]=W.H.v;q[3]=W.Strt.v;q[4]=W.Lght.v};kf.rplc.prototype.eD=function(W,q){function X(B,U){U.Lmnc.v=B.xd;
U.A.v=B.iM;U.B.v=B.X}W.Fzns.v=q[0];W.H.v=q[2];W.Strt.v=q[3];W.Lght.v=q[4];var k=g.ov.yM(q[1]),B=g.j7(k.o,k.L,k.X);
X(B,W.Mnm.v);X(B,W.Mxm.v)};kf.fade=function(){kf.call(this,"fade");this.aC.push(new iT([12,0],0,100,"%"));
this.aC.push(new cL([12,19,0],jm.Y7,jm._i));this.Fs()};kf.fade.prototype=new kf;kf.fade.prototype.zc=function(W,q){q[0]=W.Opct.v.val;
q[1]=jm.FW.indexOf(W.Md.v.BlnM)};kf.fade.prototype.eD=function(W,q){W.Opct.v.val=q[0];W.Md.v.BlnM=jm.FW[q[1]]};
kf.aply=function(){var W=jm.FW.concat(["Add","Sbtr"]);W.splice(21,1);var q=jm.Y7.concat([[15,10,28],[15,10,21]]);
q.splice(21,1);var X=jm._i.slice(0);X[4]--;function k(){kf.call(this,"aply");this.aC.push(new cL([0,3],[]));
this.aC.push(new cL([12,4],["RGB"].concat(dZ.fx).concat(["Transparency"])));this.aC.push(new h$([4,11]));
this.aC.push(new cL([12,19,0],q,X));this.aC.push(new iT([12,0],0,100,"%"));this.aC.push(new al([12,38],1,2,null,2));
this.aC.push(new al([12,6],-255,255));this.aC.push(new h$([13,5]));this.Fs([2]);this.aA4=null}k.prototype=new kf;
k.prototype.zc=function(B,U,l){if(l){var K=l[2].U,D=this.aA4=[];for(var N=0;N<K.length;N++){var m=K[N].getName();
D.push(m.length<30?m:m.slice(0,27)+"...")}D.reverse();this.aC[0].oj([[5,7]].concat(D),[1,D.length])}else var D=this.aA4;
B=B.With.v;var Y=B.T.v;U[0]=Y[1].t=="name"?1+D.indexOf(Y[1].v.val):0;U[1]=["RGB","Rd","Grn","Bl","Trsp"].indexOf(Y[0].v.enum);
U[2]=B.Invr.v;var a=B.Clcl.v.Clcn;U[3]=W.indexOf(a);U[4]=B.Opct.v.val;U[5]=B.Scl.v;U[6]=B.Ofst.v;U[7]=B.PrsT.v};
k.prototype.eD=function(B,U){B=B.With.v;var l=B.T.v;if(U[0]==0)l[1]={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}};
else l[1]={t:"name",v:{classID:"Lyr",val:this.aA4[U[0]-1]}};l[0].v.enum=["RGB","Rd","Grn","Bl","Trsp"][U[1]];
B.Invr.v=U[2];var K=B.Clcl.v.Clcn=W[U[3]];B.Opct.v.val=U[4];B.Scl.v=U[5];B.Ofst.v=U[6];B.PrsT.v=U[7];
var D=K=="Add"||K=="Sbtr";this.aC[5].Si(D);this.aC[6].Si(D)};return k}();kf.matc=function(){var W,q,X=0;
function k(){kf.call(this,"matc");this.aC.push(new iT("Luminance",1,200));this.aC.push(new iT("Color Intensity",1,200));
this.aC.push(new iT([2,11],0,100,"%"));this.aC.push(new h$("Neutralize"));this.aC.push(new cL([12,70],[]));
this.aC.push(new cL([0,3],[]));this.Fs([2])}function B(U,l){U.aC[5].oj([[5,7]].concat(l),[1,l.length])}k.prototype=new kf;
k.prototype.zc=function(U,l,K){X=0;l[0]=U.Lght.v;l[1]=U.ClrR.v;l[2]=U.Fade.v;l[3]=U.neutralizeColor?U.neutralizeColor.v:!1;
l[4]=l[5]=0;var D=U.Srce;if(D)D=D.v;if(K){W=[];q=[];var m=K[2],Y=K[3];for(var N=0;N<Y.length;N++){var a=Y[N];
W.push(a.name);var p=a.U,M=[];q.push(M);for(var x=0;x<p.length;x++)M.push(p[x].getName());M.reverse()}this.aC[4].oj([[13,1,0]].concat(W),[1,W.length]);
var R=Y.indexOf(m);if(D)R=W.indexOf(D[1].v.val);B(this,q[R])}if(D){var y=W.indexOf(D[1].v.val);l[3]=X=1+y;
if(D[0].t=="name")l[4]=1+q[y].indexOf(D[0].v.val)}};k.prototype.eD=function(U,l){U.Lght.v=l[0];U.ClrR.v=l[1];
U.Fade.v=l[2];U.neutralizeColor.v=l[3];if(l[4]==0){U.noReference={t:"bool",v:!0};delete U.Srce}else{if(l[4]!=X){X=l[4];
B(this,q[l[4]-1])}delete U.noReference;var K={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}},D=q[l[4]-1];
if(l[5]!=0)K={t:"name",v:{classID:"Lyr",val:D[l[5]-1]}};U.Srce={t:"obj ",v:[K,{t:"name",v:{classID:"Dcmn",val:W[l[4]-1]}}]}}};
return k}();function bn(W,q){gH.call(this);if(W==null)return;this.id=q;this.l9=W;this.avy=null;this.K=I.a("div","window "+q);
this.apQ=null;this.zj=I.a("div","whead");this.a4D=I.a("span","wname");this.zj.appendChild(this.a4D);
this.aIn=!1;this.K.appendChild(this.zj);this.qm=this.ans.bind(this);this.bL=this.a3S.bind(this);this.tX=this.aJr.bind(this);
I.TK(this.zj);I.aA(this.zj,this.qm);this.a4T=I.a("span","cross gsicon");this.zj.appendChild(this.a4T);
bn.prototype.l.call(this);I.DA(this.a4T,this.a4b.bind(this));this.body=I.a("div","body");this.K.appendChild(this.body)}bn.prototype=new gH;
bn.prototype.mf=function(){return!1};bn.prototype.U4=function(){return!1};bn.prototype.l=function(){if(this.l9==null)return;
this.a4D.textContent=js.get(this.l9)};bn.prototype.mc=function(W,q,X,k,B){};bn.prototype.$J=function(W,q,X,k,B){};
bn.prototype.lG=function(W,q,X,k,B){};bn.prototype.iY=function(W,q,X,k,B){};bn.prototype.xM=function(W,q,X,k,B){};
bn.prototype.jm=function(W,q,X,k){if(k.D(bu.$H)&&this.qI)this.qI();if(k.D(bu.p7)){var B=new ip(S.E.O);
B.wV=!0;_.OK.aKc(k,B);if(B.data)q.T(B)}};bn.prototype.hK=function(W){return!1};bn.prototype.C$=function(W,q){return!0};
bn.prototype.V9=function(W,q,X,k){};bn.prototype.QL=function(W,q){};bn.prototype.zs=function(W,q){return null};
bn.prototype.aHd=function(W){return this.apQ};bn.prototype.qL=function(){};bn.prototype.close=function(){this.T(new ip(S.E.V_))};
bn.prototype.ans=function(W){if(W.target==this.a4T)return;this.avy=I.IO(W,this.K);I.wO(window,this.bL);
I.DA(window,this.tX)};bn.prototype.a3S=function(W){var q=this.K.parentNode,X=I.IO(W,q),k=Math.round(X.x-this.avy.x),B=q.offsetTop+Math.max(0,Math.min(window.innerHeight-36,Math.round(X.y-this.avy.y)));
this.apQ=new hw(k,B);this.K.style.left=k+"px";this.K.style.top=B+"px"};bn.prototype.aJr=function(W){I.yO(window,this.bL);
I.xB(window,this.tX)};bn.prototype.a4b=function(W){if(this.aIn){this.qI();return}this.close();this.T(new ip("closebtn"))};
function f0(){bn.call(this,"About Photopea","aboutpp");var W=this.body,q=this.aiK=I.a("img");W.appendChild(q);
I.w(this.body,"margin:0; padding:0");var X=this.PE=I.a("div");X.innerHTML=f0.hl;W.appendChild(X);var k=this.BM=I.a("span");
k.innerHTML="<big style=\"text-shadow: 2px 2px 3px #000000;\">Ivan holding Photopea in Prague</big>";
this.body.appendChild(k)}f0.prototype=new bn;f0.prototype.zs=function(W,q){return new hw(0,0)};f0.prototype.qL=function(W,q){var X=(W+q-42-42)/110,k,B,U;
X=Math.sqrt((W-42)*(q-42))/50;if(W>q){I.Wx(this.body,"flexrow");k="width:"+W/2+"px; height:"+q+"px; display:block; object-fit:cover;";
B="width:"+(W/2-42)+"px; height:"+(q-42)+"px; padding:20px; font-size:"+X+"px;";U="position:absolute;  bottom:10px; right:"+(W/2+10)+"px"}else{if(W*1.5>q)X*=.9;
I.gI(this.body,"flexrow");k="width:"+W+"px; height:"+q/2+"px; display:block; object-fit:cover;";B="width:"+(W-42)+"px; height:"+(q/2-42)+"px; padding:20px; font-size:"+X+"px;";
U="position:absolute;  bottom:"+(q/2+10)+"px; right:10px"}I.w(this.aiK,k);I.w(this.PE,B);I.w(this.BM,U)};
f0.prototype.l=function(){};f0.prototype.V9=function(W,q,X,k){this.aiK.setAttribute("src","promo/ivan_pp.webp")};
f0.hl="\t<h1>Hi There!</h1>\t<p>My name is <b>Ivan Kutskir</b> and I'm the creator of Photopea.</p>\t<p>I'm a 33-year-old computer programmer. I was born in Ukraine, but I live in the Czech Republic most of my life (in <b>Prague</b> since 2009).</p>\t<p>I started developing Photopea back in 2012. I intended to call it <b>Photo Hammer</b>, \tbut I didn't register the .com domain right away, and when I tried to do so six months later, it was already taken.</p>\t\t<p>My friends and my family did not know about Photopea during the first four years of development.\tI was spending a lot of time building it, without making any money or learning new skills. So nothing to be proud of, \tbut the project was fun and I enjoyed working on it.\t</p>\t<p>\tNow, it's heartwarming to know that millions around the world use Photopea as their creative medium. \tTo this day I work on Photopea, driven by the positive impact of my creation.\t</p>\t\t<!--<p>You can not be completely sure if something is a good or a bad idea, until you actually try to do it.</p>-->\t\t<p style=\"text-align:right;\"><i><big>Ivan Kutskir</big><br/>support@photopea.com</i><br/>\t<a style=\"color:inherit;\" target=\"_blank\" href=\"https://twitter.com/ivankutskir\">Twitter</a> | \t<a style=\"color:inherit;\" target=\"_blank\" href=\"https://instagram.com/ivankutskir\">Instagram</a></p>\t";
function fi(){bn.call(this,"Are you blocking ads?","bnotify");var W=this.body,q="style=\"color:inherit\" target=\"_blank\"",X="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADkAAAA6CAMAAAA9UgEZAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAI1QTFRF4eHhR0dHk5OTUlJSoqKio6OjpKSkqqqq2dnZVFRUVlZWdHR029vbxcXFWFhYYmJizs7OaGhogoKCsbGxTExMpaWlXl5ecXFxSUlJfn5+uLi4iYmJmJiYd3d3v7+/Tk5OjY2N0tLSZWVleXl5oaGhaWlpWlpaT09Pf39/nZ2dra2tXFxcnJycYGBga2trbtjItQAAAQtJREFUeJzt1scWgkAMBVAj0pEm2HvF+v+fJwF0lUyElZzD2z7vGRjCYK/XpUV5+ADOsgGcQZFVbWhClX5dqX3kxqoH1/DN6IefW5kDivixx0AvUDlMwNCtBAG2tNzLMqIlbqfbZ+Pmtc1Lnd+/QV5rnTwPm0rFmOqSvISMNLDckZV5KOiJkWnRjlOyHI6xXPNrYiZkGyZ5FaslHMl6kTdPQdK3g8dPQsvBR9I9yqkg6R6v9i5cLfmShti4tNRVO1Q+FWaKFE+lmgSHhtUkwIw4xarDec5IXDO5keNXSvZrYKgn3udW/MszoT3Sbvx1iEDMi5ZLWV6ZOxG/vHtuD6zYVzknq/lno0sXIW9imwujYrBo1QAAAABJRU5ErkJggg==";
W.style.width="540px";var k="<h2>It seems like you are blocking our ads</h2>"+"<p>Please, let us show you ads. Photopea would not exist if everyone blocked ads :(</p>"+"<p>Or get <a "+q+" href=\"//www.photopea.com/promo/no_ads.png\">90 days ad-free</a> for <b>$15</b> (one-time payment) - press <b>Account</b> at the top!</p>"+"<p>Are you not aware of blocking ads? Read <a "+q+" href=\"//www.photopea.com/tuts/photopea-says-i-am-blocking-ads-but-i-am-not/\">this article</a>! :)"+" This button: <img style=\"width:20px; vertical-align:middle;\" src=\""+X+"\" /> will show you your extensions, which can modify Photopea (potential ad-blockers).</p>"+"<a "+q+" href=\"img/exts.png\"><img style=\"width:100%\" src=\"img/exts.png\" /></a>";
W.innerHTML=k}fi.prototype=new bn;fi.prototype.qL=function(W,q){this.body.style.width=Math.min(540,W-24)+"px"};
function gr(){bn.call(this,[0,13,0],"account");this.oD=I.a("div","form scrollable");this.body.appendChild(this.oD);
this.body.style.padding="0";this.$U=[new gr.RF,new gr._F("::"+gv.MG("privacy.html")),new gr._F(gr.a3P)];
for(var N=0;N<this.$U.length;N++)this.$U[N].parent=this;this.Q("showpage",this.aHc,this)}gr.prototype=new bn;
gr.prototype.C$=function(W,q){var X=navigator.onLine;if(!X)alert("Go online first");return X};gr.prototype.qL=function(W,q){I.w(this.oD,"width:"+Math.min(W-40,740)+"px;  height:"+(q-38)+"px;  padding:1.5em;");
this.$U[0].qL(W,q)};gr.prototype.zs=function(W,q){return new hw(Math.max(0,Math.min(150,(W-740)/2)),Math.max(0,Math.min(100,(q-700)/2)))};
gr.prototype.aHc=function(W){I.ru(this.oD);this.oD.scrollTop=0;this.oD.appendChild(this.$U[W.data.bT].K)};
gr.prototype.l=function(){bn.prototype.l.call(this);for(var N=0;N<this.$U.length;N++)this.$U[N].l()};
gr.prototype.V9=function(W,q,X){if(!navigator.onLine)return;I.ru(this.oD);var k=this.$U[0];this.oD.appendChild(k.K);
k.V9();this.l()};gr.prototype.QL=function(W,q){this.V9(null,null,null)};gr.RF=function(){gH.call(this);
this.K=I.a("div");var W=this.K,K,D,Y="font-size:1.25em;",a="text-align:center;",M="style=\"list-style-type: none; padding:0;  margin:0; font-size:1.15em;\"",x="style=\"font-weight:bold; color:#00aa00; padding-right:4px;\"",R="style=\"width:50%; vertical-align:top; padding:10px 20px;\"",F=12;
this.Pc=I.a("div");W.appendChild(this.Pc);this.RN=new iC([0,11],!1,null,!0);I.w(this.RN.K,"background-color: rgba(200,0,0,1); color:#ffffff; margin:4px 6px 4px 0;");
this.RN.Q("click",this.XY,this);W.appendChild(this.RN.K);this.aaG=new iC([0,13,1],!1,null,!0);this.aaG.Q("click",this.auX,this);
W.appendChild(this.aaG.K);this.aro=new iC("Business Terms",!1,null,!0);this.aro.Q("click",this.aon,this);
W.appendChild(this.aro.K);var q=I.a("div");q.style.margin="20px 0";W.appendChild(q);var X=["Account Types","Go Premium","Team Settings","Distributors","AI credits"],k=this.dt=[],B=this.axW=[],U=this.eO=I.a("div");
W.appendChild(U);for(var N=0;N<X.length;N++){var l=I.a("span");l.textContent=X[N];q.appendChild(l);k.push(l);
I.w(l,"font-weight:bold; display:inline-block;  margin-right:2em; font-size:1.1em; cursor:pointer;");
l.addEventListener("click",this.Tf.bind(this));B.push(I.a("div"))}this.Tf(0);var m=this.aIh="background-color: #00aa00;  text-shadow:none; padding:3px 7px; font-size:1.2em; color:#ffffff; cursor:pointer; margin:4px 0; width:100%;";
W=B[0];var D=I.a("table"),p="style=\" "+a+Y+" padding-bottom:20px;\"";D.innerHTML="\t\t\t<tr>\t\t\t\t<th>FREE</th><th>PREMIUM</th>\t\t\t</tr>\t\t\t<tr>\t\t\t\t<td "+R+">\t\t\t\t\t<div "+p+">\t\t\t\t\t\t<sup>$</sup><big><big><b>0</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+x+">\u2713</span> All Features</li>\t\t\t\t\t\t\t<li><span "+x+">\u2713</span> PeaDrive 0.5 GB</li>\t\t\t\t\t\t</ul>\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t\t<td "+R+">\t\t\t\t\t<div "+p+" title=\"Order 90 days for $15, to get a cost of $5 per month.\">\t\t\t\t\t\tFrom <sup>$</sup><big><big><b>5</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+x+">\u2713</span> All Features</li>\t\t\t\t\t\t\t<li><span "+x+">\u2713</span> PeaDrive 5 GB</li>\t\t\t\t\t\t\t<li><span "+x+">\u2713</span> No Ads <a href=\"//www.photopea.com/promo/no_ads.png\" target=\"_blank\">\uD83D\uDC41</a></li>\t\t\t\t\t\t\t<li title=\"Remove BG costs 1 credit. Magic Replace costs 3 credits.\"><span "+x+">\u2713</span> 3,000 AI credits / month</li> \t\t\t\t\t\t\t<li><span "+x+">\u2713</span> 2\xD7 more steps in history</a></li> \t\t\t\t\t\t</ul>\t\t\t\t\t\t<span style=\"margin:10px 0 12px 0; font-size:0.75em;\">* No subscription, just one-time payments</span> \t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t</tr>\t\t";
W.appendChild(D);var l=new iC("Go Premium");I.w(l.K,m+"padding:10px 0;");l.Q("click",function(G){this.Tf(1)},this);
D.children[0].children[1].children[1].appendChild(l.K);this.kk=I.a("div");W.appendChild(this.kk);W=B[1];
var y=this.a0A=[[8,30,1],[15,90,1],[50,365,1],[20,30,5],[45,90,5],[150,365,5],[70,30,20],[150,90,20],[500,365,20],[150,30,50],[300,90,50],[999,365,50],[60,30,1e3],[120,90,1e3],[450,365,1e3],[150,30,5e3],[300,90,5e3],[1e3,365,5e3],[300,30,2e4],[600,90,2e4],[2e3,365,2e4]];
this.xh=[];for(var N=0;N<y.length;N++)this.xh.push(new iC("Buy: $"+y[N][0],!1,null,!0));for(var N=0;
N<this.xh.length;N++){this.xh[N].Q("click",this.aol,this)}this.w8=new iC("...",!0);I.w(this.w8.K,m);
W.appendChild(this.w8.K);D=this.axD(4,["Single user",this.xh[0],this.xh[1],this.xh[2],"Team of 5",this.xh[3],this.xh[4],this.xh[5],"Team of 20",this.xh[6],this.xh[7],this.xh[8],"Team of 50",this.xh[9],this.xh[10],this.xh[11]]);
W.appendChild(D);var s=I.a("div");W.appendChild(s);s.textContent="Premium lasts for X days: after X days, you are switched back to a free version (with ads).";
this.ath=new h$("I accept",!0,"");W.appendChild(this.ath.K);this.aDo=new iC([0,13,1],!1,null,!0);this.aDo.Q("click",this.auX,this);
W.appendChild(this.aDo.K);this.a4p=new iC("I have a key",!1,null,!0);I.w(this.a4p.K,m+" float:right; width:inherit;");
this.a4p.Q("click",this.aol,this);W.appendChild(this.a4p.K);W=B[2];this.B4=new eS;this.B4.parent=this;
this.B4.Q(S.E.k,this.UY,this);W.appendChild(this.B4.K);this.B4.K.textContent="Log in to create or join teams.";
W=B[3];this.cN=new iC("...",!0);I.w(this.cN.K,m);W.appendChild(this.cN.K);D=this.axD(3,["1000 views/mo",this.xh[F++],this.xh[F++],this.xh[F++],"5000 views/mo",this.xh[F++],this.xh[F++],this.xh[F++],"20000 views/mo",this.xh[F++],this.xh[F++],this.xh[F++]]);
W.appendChild(D);var E=I.a("p");E.innerHTML="Insert Photopea into your webpage, with no ads, under your own brand \t\t... <a href=\"https://www.photopea.com/api/accounts#distributors\" target=\"_blank\" style=\"color:inherit;\">More</a>";
W.appendChild(E);this.y0=new kD("Domain name (e.g. domain.com)",null,14);W.appendChild(this.y0.K);var o=new iC("Save Domain Settings",!1,null,!0);
o.ju();W.appendChild(o.K);o.Q("click",this.aB$,this)};gr.RF.prototype=new gH;gr.RF.prototype.Tf=function(W){var q=typeof W=="number"?W:this.dt.indexOf(W.target);
for(var N=0;N<this.dt.length;N++)this.dt[N].style.opacity=.6;this.dt[q].style.opacity=1;I.ru(this.eO);
this.eO.appendChild(this.axW[q])};gr.RF.prototype.qL=function(W,q){var X=W<600?"d":" days",k=["30 days","90 days","365 days"];
if(W<600)k=["30d","90d","365d"];var B=this.a0A;for(var N=0;N<B.length;N++){this.xh[N].tB("<span>"+k[N%3]+": <sup>$</sup><big><b>"+B[N][0]+"</b></big>"+"</span>");
I.w(this.xh[N].K,this.aIh)}};gr.RF.prototype.auX=function(W){var q=new ip("showpage",!0);q.data={bT:1};
this.T(q)};gr.RF.prototype.aon=function(W){var q=new ip("showpage",!0);q.data={bT:2};this.T(q)};gr.RF.prototype.l=function(){this.RN.tB(gv.c9()?js.get([0,11]):js.get([0,10]));
this.aDo.l();this.aaG.l();this.aro.l()};gr.RF.prototype.agC=function(W){var q=new ip(S.E.H,!0);q.data={R:S.m.p4,link:"https://www.photopea.com/api/accounts#"+(W.target==this.adc?"teams":"distributors")};
this.T(q)};gr.RF.prototype.aiU=function(W){var q=W.currentTarget==this.ah0;this.ah0.q(q);this.a1i.q(!q)};
gr.RF.prototype.a5v=function(W){var q=this.ah0.V(),X=this.ax1.V().trim().toLowerCase(),k=this.azA.value.trim().toLowerCase();
if(X.length>60){alert("Too long email address");return}if(k.length>600){alert("Too many team members");
return}k=k.split(",").join(" ").trim();k=k.replace(/\s+/g," ");if(k=="")k=[];else k=k.split(" ");var B=gv.Ol();
if(B==null)B={};if(B.acc==null)B.acc={};B.acc.team={jin:q,ldr:X,mmb:k};gv.Wt(B,this.UY.bind(this));alert("Saved!");
this.V9()};gr.RF.prototype.aB$=function(W){var q=this.y0.V().trim();if(!gv.c9()){alert("You have to log in first.");
return}if(gv.wT()==0){alert("Order a distributor account first.");return}var X=gv.Ol();if(X==null)X={};
if(X.acc==null)X.acc={};if(q=="")delete X.acc.dname;else X.acc.dname=q;gv.Wt(X,this.UY.bind(this));alert("Saved!");
this.V9()};gr.RF.prototype.aau=function(W){var q=gv.XV(),N=this.m_,X=gv.Ol();if(X==null)X={};if(X.acc==null)X.acc={};
X.acc.bto=W;gv.Wt(X,function(){});var k=gr.a6v(W.split("\n"),q.pmnts[N]);ch.save(k,"photopea_invoice.pdf")};
gr.RF.prototype.aAB=function(W){var q=gv.XV(),X=gv.Ol(),k=X&&X.acc?X.acc.bto:null;if(k==null)k=q.name+"\n"+q.email;
var N=-1,B=W.target.K.parentNode;while((B=B.previousSibling)!=null)N++;this.m_=N;var U=new ip(S.E.H,!0);
U.data={R:S.m.K_,ud:"billto",bG:k,tO:this.aau.bind(this)};this.T(U)};gr.RF.prototype.V9=function(){this.Pc.innerHTML="";
I.ru(this.kk);this.axW[4].innerHTML="AI credits are available only to Premium users.";if(gv.c9()){var W=gv.XV(),q=W.pmnts;
if(W==null)return;this.Pc.innerHTML="<span style=\"font-size:1.5em; margin-right:0.7em;\">"+W.name+"</span> "+W.email+" <br/>";
if(q){var X="<h2>Payments</h2>";for(var N=0;N<q.length;N++){var k=q[N],B=new Date(k[0]*1e3);X+="<div style=\"font-size:1.2em\">"+B.getDate()+"th of "+B.toDateString().split(" ")[1]+" "+B.getFullYear()+" - "+gr.aEL(k)+"</div>"}this.kk.innerHTML=X;
for(var N=0;N<q.length;N++){var U=new iC("Get Invoice",!1,null,!0);I.w(U.K,"float:right");U.Q("click",this.aAB,this);
this.kk.children[N+1].appendChild(U.K)}}}else{}var l=gv.c9()&&gv.jj();this.w8.K.style.display=l?"block":"none";
if(l){var K,D,m=l,X="<table><tr><th>Month</th><th>AI credits spent</th></tr>";if(m[0]==0){K=gv.NB(m[1])-Date.now()*(1/1e3);
D=m[1][2]==1?"Single User":"Team Of "+m[1][2]}else{K=m[1][1]-Date.now()*(1/1e3);D="Member of \""+m[1][0]+"\""}this.w8.tB("Premium active for "+Math.round(K/(60*60*24))+" more days! ("+D+")");
var Y=this.axW[4];I.ru(Y);for(var a=ky.Vb();a>=648;a--){var p=1970+Math.floor(a/12),M=a%12,B=new Date(p,M,2);
X+="<tr><td>"+p+" "+B.toDateString().split(" ")[1]+"</td><td>"+ky.aub(a)+"</td></tr>"}var x=ky.aIa(ky.Vb()+1)-Date.now(),R=Math.floor(x/(24*60*6e4));
x-=R*24*60*6e4;var y=Math.floor(x/(60*6e4));x-=y*60*6e4;var M=Math.floor(x/6e4);x-=M*6e4;X="New period starts in "+R+" days, "+y+" hours, "+M+" mins"+X;
Y.innerHTML=X+"</table>"}var s=gv.c9()&&gv.wT()*1e3>Date.now();this.cN.K.style.display=s?"block":"none";
if(s){var K=gv.wT()-Date.now()/1e3;this.cN.tB("Distributor active for "+Math.round(K/(60*60*24))+" more days!")}var F=gv.Ol();
this.B4.V9();if(F&&F.acc&&F.acc.dname)this.y0.q(F.acc.dname);else this.y0.q("")};gr.RF.prototype.axD=function(W,q){var X=I.a("table");
if(!0){var k="<table><tr>";for(var N=0;N<W;N++)k+="<th>"+q[N*4]+"</th>";k+="</tr></table>";X.innerHTML=k;
for(var N=0;N<3;N++){var B=I.a("tr"),U;X.appendChild(B);for(var l=0;l<W;l++){U=I.a("td");U.style.width=Math.round(100/W)+"%";
B.appendChild(U);U.appendChild(q[l*4+1+N].K)}}}return X};gr.RF.prototype.aol=function(W){var q=this.xh.indexOf(W.currentTarget),k=30,B=1;
if(!gv.c9()){this.XY();return}if(this.ath.V()==!1&&q<12){alert("You must accept Terms of Service");return}var X=gv.c9()&&gv.jj();
if(q!=-1){var U=this.a0A[q];k=U[1];B=U[2]}if(X&&B<1e3){alert("You already have premium.");return}console.log(U,k,B);
if(q==-1){var l=prompt("Please enter your key");if(l!=null){gv.apm(l,this.UY.bind(this));this.lM()}return}if(k==30&&B==1){var K=confirm("You can have 90 days for $15. Do you still want a 30 days version for $8?");
if(!K)return}gv.order(k,B,this.UY.bind(this));this.lM()};gr.RF.prototype.UY=function(W){this.V9();this.lM()};
gr.RF.prototype.XY=function(W){if(gv.c9()){gv.atm();this.lM();this.V9(null,null,null)}else gv.XY(this.a3W.bind(this))};
gr.RF.prototype.a3W=function(){var W=new ip(S.E.H,!0);W.data={R:S.m.ayl};this.T(W)};gr.RF.prototype.lM=function(){var W=new ip(S.E.H,!0);
W.data={R:S.m.a2K};this.T(W)};gr._F=function(W){gH.call(this);this.K=I.a("div");var q=this.K,X=this.aDL=new iC([0,13,2],!1,null,!0),k;
X.Q("click",this.aCz,this);q.appendChild(X.K);if(W.startsWith("::")){k=I.a("iframe");I.w(k,"width:100%;height:1700px; background-color:white;");
k.setAttribute("src",W.slice(2))}else{k=I.a("div");k.innerHTML=W}q.appendChild(k)};gr._F.prototype=new gH;
gr._F.prototype.aCz=function(W){var q=new ip("showpage",!0);q.data={bT:0};this.T(q)};gr._F.prototype.l=function(){this.aDL.l()};
gr.a3P="\t\t<h1>Contact</h1>\t\t<p>Photopea.com is operated by Ivan Kuckir (IČ 04498411, Tax ID CZ9011014309).</p>\t\t<ul>\t\t\t<li><b>Address</b>: Hálkova 483, 517 41 Kostelec nad Orlicí, Czech Republic</li>\t\t\t<li><b>E-mail</b>: support@photopea.com, <b>Phone number</b>: +420 604 592 737</li>\t\t</ul>\t\t<h1>Refund Policy</h1>\t\t<p>You can ask for a refund by writing us an email to support@photopea.com and. \t\tWe offer only one kind of service, and if you have been refunded in the past, you can not get another refund.\t\t</p>\t\t<h1>Terms of Delivery</h1>\t\t<p>You can pay with a debit or a credit card. Payments are processed instantly, your Premium account will be activated instantly.</p>\t\t<h1>Payment Provider</h1>\t\t<p>Payments are provided by <a style=\"color:white\" href=\"https://www.comgate.cz/cz/platebni-brana\">ComGate pamyments, a.s</a>.</p>\t\t<ul>\t\t\t<li>ComGate Payments, a.s.</li>\t\t\t<li>Gočárova třída 1754 / 48b, Hradec Králové</li>\t\t\t<li>E-mail: platby-podpora@comgate.cz, Tel:  +420 228 224 267</li>\t\t</ul>\t\t<img src=\"https://www.comgate.cz/files/platebni-brana-comgate-paticka-e-shopu.png\" loading=\"lazy\" />\t";
gr.aEL=function(W){var q=W[1]+" days, ";if(W[2]<1e3)return"Photopea Premium ("+q+W[2]+" user"+(W[2]==1?"":"s")+")";
else return"Photopea Distributor ("+q+W[2]+" views/month)"};gr.a6v=function(W,q){W=["Bill To:"].concat(W);
var X=new ToPDF,k=595,B=842,U=40,l=18,K=12,D=500,m=100,Y=400,R=0;function a(c,V,j,Q,H){M.font.Tf=H?"Helvetica-Bold":"Helvetica";
M.ctm=[1,0,0,1,V,j];M.font.Tfs=Q?Q:K;X.PutText(M,c,0)}function p(c,V,j,Q){for(var N=0;N<c.length;N++){a(c[N],V,j-N*Q,null,N==0)}}var M=UDOC.getState();
X.StartPage(0,0,k,B);a("INVOICE",k-U-140,B-U-30,30,!0);p(["Bill From:","Ivan Kuckir","Hálkova 483, 517 41 Kostelec nad Orlicí","Tax ID: CZ9011014309"],U,B-U-40,l);
var x=new Date(q[0]*1e3);p(["Date: "+x.getDate()+"th of "+x.toDateString().split(" ")[1]+" "+x.getFullYear(),"Transaction ID: "+q[4]],k-U-140,B-U-40-l*2,l);
var y=W.join("");for(var N=0;N<y.length;N++)R=Math.max(R,y.charCodeAt(N));if(R>256){var s=4,F=I.a("canvas"),E=F.getContext("2d"),o=0;
E.font=K*s+"px sans-serif";for(var N=0;N<W.length;N++)o=Math.max(o,E.measureText(W[N]).width);var G=Math.round(o)+20,d=W.length*s*l+20;
F.width=G;F.height=d;E.font=K*s+"px sans-serif";for(var N=0;N<W.length;N++){E.font=(N==0?"bold ":"")+K*s+"px sans-serif";
E.fillText(W[N],10,(N+1)*s*l)}document.body.appendChild(F);var u=new Uint8Array(E.getImageData(0,0,G,d).data.buffer);
M.ctm=[G/s,0,0,d/s,U-10/s,B-U-40-100-d/s];X.PutImage(M,u,G,d);M.ctm=[1,0,0,1,0,0]}else p(W,U,B-U-40-100,l);
M.colr=[.8,.8,.8];M.pth={cmds:["M","L","L","L","Z"],crds:[U,D,k-U,D,k-U,D-l,U,D-l]};X.Fill(M);M.colr=[0,0,0];
var r=[U,D,k-U,D,U,D-l,k-U,D-l,U,D-m,k-U,D-m,U,D,U,D-m,k-U,D,k-U,D-m,Y,D,Y,D-m],v=[];for(var N=0;N<r.length;
N+=4)v.push("M","L");M.pth={cmds:v,crds:r};X.Stroke(M);a("Order details",U+4,D-14);a(gr.aEL(q),U+4,D-l-14);
a("TOTAL:",U+4,D-m-14,null,!0);a("Price",k-U-50,D-14);a(q[3]+" USD",k-U-60,D-l-14);a(q[3]+" USD",k-U-60,D-m-14,null,!0);
a("www.Photopea.com",U,U);a("support@photopea.com",k-U-130,U);X.ShowPage();X.Done();return X.buffer};
function bd(){bn.call(this,[11,14],"addguides");this.Zl;this.e={bm:{vA:0}};this.a2l=null;var W=I.a("div","form");
this.body.appendChild(W);this.gn=[];this.lt=new i3(null,["Hi"]);W.appendChild(this.lt.K);I.zR(W);this.lt.Q(S.E.k,this.Jv,this);
this.qA=new kD([22,4,0],null,16);this.qA.Q(S.E.k,this.Py,this);this.j2=new kD([22,4,1],null,16);this.j2.Q(S.E.k,this.Py,this);
this.SN=new cL(null,g.Qs.XW);this.SN.Q(S.E.k,this.Py,this);W.appendChild(this.qA.K);W.appendChild(this.SN.K);
I.zR(W);W.appendChild(this.j2.K);this.GL=I.eb(this,W);this.Q("closebtn",this.P9,this)}bd.prototype=new bn;
bd.prototype.C$=function(W,q){return W!=null};bd.prototype.mf=function(){return!0};bd.prototype.l=function(){bn.prototype.l.call(this);
this.qA.l();this.j2.l();this.SN.l();this.GL.l()};bd.prototype.QL=function(W,q){var X=W.bm.vA;this.e.bm.vA=X;
this.SN.q(X)};bd.prototype.V9=function(W,q){this.Zl=W;this.a2l=JSON.stringify(W.sO());this.gn=[-1];var X=["Global"],k=W.root.children,B=W.l4();
for(var N=0;N<k.length;N++){var U=k[N].B;if(U.add.artb){X.push(U.getName());this.gn.push(k[N].index)}}this.lt.oj(X);
this.lt.q(this.gn.indexOf(B));this.Jv()};bd.prototype.Jv=function(){var W=this.Zl,q=W.sO(),X=this.gn[this.lt.V()],k=[0,0];
if(X!=-1){var B=W.U[X].La();k=[B.x,B.y]}var U=function(l,K,W,D,m){var Y=l[0],a=[];for(var N=0;N<Y.length;
N++)if(l[1][N]==X&&Y[N][0]==K)a.push(g.Qs.ft(Y[N][1]-k[K],W.mC,D,m));a.sort(function(p,M){return p-M});
return a.join(", ")};this.qA.q(U(q,1,W,this.e,W.$));this.j2.q(U(q,0,W,this.e,W.r))};bd.prototype.Py=function(W){if(W&&W.currentTarget==this.SN)this.e.bm.vA=this.SN.V();
else{var q=this.aav(),X=this.Zl;X.Ov(q);X.R2=!0}this.Jv()};bd.prototype.aav=function(){var W=this.Zl,q=W.sO(),X=this.gn[this.lt.V()],k=[0,0];
if(X!=-1){var B=W.U[X].La();k=[B.x,B.y]}var U=[];for(var l=0;l<2;l++){var K=l==0?this.j2:this.qA,D=l==0?W.r:W.$,m=K.V().replace(/,/g," ").replace(/  +/g," ").trim(),Y=m==""?[]:m.split(" ");
for(var N=0;N<Y.length;N++)U.push([l,g.Qs.arY(Y[N],W.mC,this.e,D)+k[l]])}for(var N=0;N<q[0].length;N++)if(q[1][N]==X){q[0].splice(N,1);
q[1].splice(N,1);N--}for(var N=0;N<U.length;N++){q[0].push(U[N]);q[1].push(X)}return q};bd.prototype.P9=function(W){var q=this.Zl;
q.Ov(JSON.parse(this.a2l));q.R2=!0;this.Zl=null};bd.prototype.qI=function(W){this.Py(W);var q=new ip(S.E.O,!0);
q.J=_.zl;q.data={R:"gids",mU:JSON.parse(this.a2l),$w:this.Zl.sO()};this.Zl=null;this.close();this.T(q)};
function iw(W){bn.call(this,{pdfpres:"PDF Presentation",cformat:"Convert Formats",batch:"Batch",mockups:"Generate Mockups",resize:"Resize"}[W],W);
this.e=null;this.Zl=null;this.Bx=null;var q=I.a("div","form");this.body.appendChild(q);I.w(q,"width:300px");
this.xV=new a8("Source Images",!0,!0);q.appendChild(this.xV.K);this.a49=new cL([12,14,0],["A4 Portrait","A4 Landscape",[12,93,3],"Adapt to images"]);
this.CL=new h$("Order images by name");this.CL.q(!0);var X=this.ab_=lf.dT();for(var N=0;N<X.length;N++)if(lf.c_(X[N]).MM){X.splice(N,1);
N--}X.push("SVG","PDF");this.dJ=new cL([12,50],X);this.dJ.q(1);this.C4=new dp;this.dJ.Q(S.E.k,this.Rw,this);
this.aI=new cL("Action Set",[]);this.aI.Q(S.E.k,this.QL,this);this.ajr=new cL("Action",[]);this.aL2=new h$("Apply to all opened documents");
this.a84=new h$("Stretch inserted images");this.a84.q(!0);this.Ng=new h$("Resize");this.Ng.Q(S.E.k,this.aG2,this);
var k=this.av3=I.a("div","label6");this.ET=new al([12,41],1,5e3,"px",0,null,null,5);this.ET.parent=this;
this.ET.q(1e3);this.AR=new al([12,42],1,5e3,"px",0,null,null,5);this.AR.parent=this;this.AR.q(1e3);k.appendChild(this.ET.K);
I.zR(k);k.appendChild(this.AR.K);if(W=="pdfpres"){q.appendChild(this.a49.K);q.appendChild(this.CL.K)}else{if(W=="batch"){q.appendChild(this.aI.K);
I.zR(q);q.appendChild(this.ajr.K);I.Vc(q)}if(W=="mockups"){q.appendChild(this.aL2.K);q.appendChild(this.a84.K);
I.zR(q)}if(W=="resize"){this.Ng.q(!0)}else{q.appendChild(this.Ng.K);I.zR(q)}q.appendChild(k);this.aG2();
I.Vc(q);q.appendChild(this.dJ.K);q.appendChild(this.C4.K)}var B=["VAR0 PDF",[1,8]];if(W=="cformat")B="Convert Images";
if(W=="batch")B="Process Images";if(W=="mockups")B="Generate";if(W=="resize")B="Resize Images";var U=this.Aa=new iC(B,!0,null,!0);
U.Q("click",this.x0,this);q.appendChild(U.K);this.Rw();this.ZY=-1;this.Oh=null}iw.prototype=new bn;iw.prototype.aG2=function(W){this.av3.style.display=this.Ng.V()?"":"none"};
iw.prototype.Rw=function(W){var q=this.ab_[this.dJ.V()];this.C4.fD(q)};iw.prototype.x0=function(W){this.Oh=null;
if(this.id=="mockups"&&this.Bx.length>1&&this.aL2.V()){this.Oh={};this.ZY=0}this.YV()};iw.prototype.YV=async function(){this.Aa.Ti();
var W=Date.now(),q=this.xV.V(),X=[],U=595,l=842,x,R,y,s;for(var k in q)X.push(k);if(X.length==0){alert("No images selected");
return}if(this.CL.V())X.sort();var B=this.a49.V(),K=new ToPDF,D=UDOC.getState(),m=this.ab_[this.dJ.V()],Y=lf.c_(m),a=this.C4.V(),p={},M=this.Zl;
if(this.Oh)M=this.Bx[this.ZY];if(this.id=="mockups"){if(M==null){alert("Open a document with smart objects");
return}var F=M.U[M.Y[0]];if(F.add.SoLd==null){F=null;for(var N=0;N<M.U.length;N++)if(M.U[N].add.SoLd)F=M.U[N];
if(F==null){alert("There are no smart objects in a current document.");return}}M.Y=[M.U.indexOf(F)];
var E=F.add.SoLd;R=M.gW(E.Idnt.v);y=R.jx;s=R._Y;x=E.Sz.v}for(var o=0;o<X.length;o++){var k=X[o],G=q[k],d=G[0]==255,u=lf.pP(G.buffer),r=lf.c_(u),v=[{oq:new dU,data:new ArrayBuffer(0)}],c=null;
if(u=="psd"&&!Y.MM)v=dS.aqu(G.buffer);else if(r.MM){c=new ey("file.psd");r.Vp(G.buffer,c);c.Hm();if(!Y.MM){if(c.Tr)hj.pt(c,this.e.yK,this);
c.I_();c.HQ();v=[{oq:new dU(0,0,c.r,c.$),data:c.OL().buffer}]}}else if(r.Zr){v=await lf.a9q(r,G.buffer);
console.log(v)}else v=r.Vp(G.buffer);if(this.id=="batch"){var V=new ip(S.E.H,!0),j=this.e,Q=j.uX,H=Q[this.aI.V()];
for(var N=0;N<v.length;N++){if(r.MM&&Y.MM){}else c=lf.kB(k,[v[N]]);V.data={R:S.m.Zk,LV:c};this.T(V);
if(c.U.length==3)c.Y=[1];j0.anl(c,Q,H.eO[this.ajr.V()].xJ,H.xJ,this);c.I_();c.HQ();v[N].oq=new dU(0,0,c.r,c.$);
v[N].data=c.OL().buffer;v[N].mC=c.mC;v[N].AO=c.AO;V.data={R:S.m.vF,xy:c};this.T(V)}}if(this.id=="mockups"){var T=new Uint8Array(v[0].data),e=v[0].oq,z=x.Wdth.v,J=x.Hght.v;
if(!this.a84.V()){var P=e.r,L=e.$,h=P/L,C=z/J;if(C>h)P=Math.ceil(L*C);else L=Math.ceil(P/C);e.x=P-e.r>>>1;
e.y=L-e.$>>>1;var w=new dU(0,0,P,L),f=g.j(P*L*4);g.YE(T,e,f,w);T=f;e=w}var O=_.Gz.k6([T,e],new ka(z/e.r,0,0,J/e.$,0,0));
R.jx=[O.buffer,O.S];g.z0(R.jx);R._Y=O.S;M.az6(R.I8);v=[{data:g.Cn(M.OL(),8).buffer,oq:new dU(0,0,M.r,M.$),mC:M.mC,AO:M.AO,qq:M.qq}]}if(this.Ng.V()){var n=v[0].oq,$=Math.min(this.ET.V()/n.r,this.AR.V()/n.$);
if($<1)for(var N=0;N<v.length;N++){var T=new Uint8Array(v[N].data),e=v[N].oq,O=_.Gz.k6([T,e],new ka($*.999999,0,0,$*.999999,0,0));
v[N].data=O.buffer.buffer;v[N].oq=O.S}}var n=v[0].oq,d9=new Uint8Array(v[0].data),i=n.r,dF=n.$;if(this.id=="pdfpres"){var t=[[595,842],[842,595],[595,595],[595,0]][B];
if(B==3)t[1]=Math.round(t[0]*dF/i);var U=t[0],l=t[1],im=Math.min(U/i,l/dF);K.StartPage(0,0,U,l);D.ctm=[i*im,0,0,dF*im,(U-i*im)/2,(l-dF*im)/2];
K.PutImage(D,d?G:d9,i,dF);K.ShowPage()}else{var bc=k.split("."),at;bc.pop();bc.push(m.toLowerCase());
if(Y.MM){if(c==null){c=lf.kB(k,v);c.Hm()}at=Y._M(c,c.r,c.$,a,this.e)}else{var l9=[];for(var N=0;N<v.length;
N++){var fF=v[N],g$=fF.vk,fR=0;if(g$){g$=g$.split(",");if(g$[1])fR=parseInt(g$[1])}l9.push([fF.data,fR,fF.mC,fF.qq,null,fF.AO])}if(Y.Zr)at=await Y._M(l9,i,dF,a);
else at=Y._M(l9,i,dF,a)}p[bc.join(".")]=new Uint8Array(at)}}if(this.id=="mockups"){R.jx=y;R._Y=s;M.az6(R.I8)}console.log(Date.now()-W);
if(this.id=="pdfpres"){K.Done();this.Ic(K.buffer,"file.pdf")}else{var cr="images";if(this.id=="mockups")cr=M.name.slice(0,M.name.length-4);
if(this.Oh){for(var k in p)this.Oh[cr+"/"+k]=p[k];this.ZY++;if(this.ZY==this.Bx.length){this.Ic(UZIP.encode(this.Oh),"images.zip");
this.Oh=null}else this.YV()}else this.Ic(UZIP.encode(p),cr+".zip")}};iw.prototype.Ic=function(W,q){this.Aa.JZ();
gv.event("auto_"+this.id);ch.save(W,q)};iw.prototype.V9=function(W,q,X,k){this.Zl=W;this.Bx=X};iw.prototype.QL=function(W,q){if(q!=null){this.e=W;
var X=W.uX,k=[];for(var N=0;N<X.length;N++)k.push(X[N].xJ);this.aI.oj(k)}else W=this.e;var X=W.uX.length==0?[]:W.uX[this.aI.V()].eO,k=[];
for(var N=0;N<X.length;N++)k.push(X[N].xJ);this.ajr.oj(k)};iw.prototype.l=function(){bn.prototype.l.call(this);
this.C4.l();this.ET.tB("Max. "+js.get([12,41])+":");this.AR.tB("Max. "+js.get([12,42])+":");this.xV.l();
this.a49.l();this.CL.l()};function cP(W){var q=dY.names[W];if(q==null)q=dZ.names[W];if(W=="aply")q=[2,12];
if(W=="fade")q=[2,11];if(W=="matc")q=[4,18];if(W=="blendOptions")q=[14,10];bn.call(this,q,"afw_"+W);
this.Sw=W;this.iF=null;this.aG$=null;this.a6D=!1;this.Zd=new kf[W];this.Zd.Q(S.E.k,this.qz,this);this.Zd.parent=this;
this.body.appendChild(this.Zd.K);this.yH=new h$([24,18,5]);this.yH.q(!0);this.yH.Q(S.E.k,this.qz,this);
this.at8=new iC([1,12,2],!0,null,!0);this.at8.Q("click",this.rg,this);this.GL=I.eb(this);if(this.Ad())this.Zd.oP(this.GL.K);
else{I.Wx(this.Zd.K,"form");var X=this.dP=I.a("div","form");this.body.appendChild(X);X.appendChild(this.GL.K);
X.appendChild(this.at8.K);X.appendChild(this.yH.K)}this.Q("closebtn",this.UO,this)}cP.prototype=new bn;
cP.prototype.mf=function(){return!0};cP.prototype.Ad=function(){return this.Zd!=null&&this.Zd.ix()};
cP.prototype.zs=function(){return this.Ad()?new hw(0,0):bn.prototype.zs()};cP.prototype.hK=function(W){return this.Zd.hK(W)};
cP.prototype.U4=function(){return this.Zd.U4()};cP.prototype.mc=function(W,q,X,k,B){this.Zd.mc(W,q,X,k,B)};
cP.prototype.lG=function(W,q,X,k,B){this.Zd.lG(W,q,X,k,B)};cP.prototype.iY=function(W,q,X,k,B){this.Zd.iY(W,q,X,k,B)};
cP.prototype.C$=function(W,q){if(this.Sw=="fade")return cP.a9l(W);return!0};cP.prototype.rg=function(W){this.Zd.q(dY.wy(this.Sw));
this.qz()};cP.prototype.qz=function(W){var q=this.Zd,X=q.V(),k=this.a6D?q.Zz():0;if(k!=0)X.showClipping={t:"long",v:k};
this.Pk({R:"edit",he:X,D1:!this.yH.V()})};cP.prototype.UO=function(W){this.Pk({R:"cancel"})};cP.prototype.qI=function(W){if(!this.yH.V()){this.yH.q(!0);
this.qz()}this.aG$=this.Zd.V();if(this.Ad())this.qz();this.Pk({R:"confirm"});this.close()};cP.prototype.l=function(){bn.prototype.l.call(this);
this.yH.l();if(this.Zd)this.Zd.l();this.GL.l()};cP.prototype.QL=function(W,q){if(this.Zd)this.Zd.QL(W,q)};
cP.prototype.jm=function(W,q,X,k){this.a6D=k.D(bu.Wr);if(this.Sw=="levl"||this.Sw=="curv")this.qz();
if(this.Ad())this.Zd.jm(k);else bn.prototype.jm.call(this,W,q,X,k)};cP.prototype.V9=function(W,q,X,k){this.iF=q.iF;
var B=W.add.lnk2?W.add.lnk2:[],U,l,K=new dU(0,0,W.r,W.$),D=W.U[W.Y[0]],Y=null;U=D.buffer;l=D.S;var m=W.d&&this.Sw=="LqFy"&&q.iF==null;
if(m){l=W.d.S.P();U=g.j(l.C()*4);g.YE(D.buffer,D.S,U,l)}if(this.Ad()){Y=W.OL(W.Y[0]-1);if(m){var a=g.j(l.C()*4);
g.YE(Y,K,a,l);K=l.P();Y=a}}var p=dY.wy(this.Sw);if(q.ye)p=q.ye;var M=[B,W.RH,W,X];if(q.iF==null){this.Zd.q(p,U,l,K,Y,M);
if(dZ.names[this.Sw]){if(k.D(bu.Wr)&&this.aG$)this.Zd.q(this.aG$);var x=_.oc.getData(W),R=g.n7(x[0].Wa);
this.Zd.Jw(R)}}else{var y=!1,D=W.U[this.iF.B];if(D.SF()){var s=D.Q2(W);U=s.buffer;l=s.S;var F=D.add.SoLd.filterFX.v.filterFXList.v;
if(F[this.iF.index]){var E=F[this.iF.index].v;this.Zd.q(this.Sw=="blendOptions"?E.blendOptions.v:E.Fltr.v,U,l,K,Y,M);
this.Zd.Jw(g.n7(U));y=!0}}if(!y){this.Zd.q(p,U,l,K,Y,M);this.Zd.Jw(g.n7(U))}}if(!this.Ad()){this.qz();
var o=this.Zd;if(o&&o.aC&&o.aC[0]&&o.aC[0].DZ&&Math.min(window.innerWidth,window.innerHeight)>500)o.aC[0].DZ()}};
cP.prototype.Pk=function(W){var q=new ip(S.E.O,!0);W.Sw=this.Sw;W.iF=this.iF;if(this.Sw=="VaPo"){W._=this.Zd.V();
W.S0=this.Zd.aAb()}q.data=W;q.J=dY.names[this.Sw]||this.iF?_.zF:_.wm;q.wV=!0;this.T(q)};cP.prototype.qL=function(W,q){if(!this.Zd.ix()){var X="",k="width:312px",B="100%";
if(500<W){X+="width:8em; margin-left:1em;";I.Wx(this.body,"flexrow")}else{X+="margin-top:1em";I.gI(this.body,"flexrow");
B="100px"}this.GL.K.style.width=B;this.at8.K.style.width=B;I.w(this.dP,X);I.w(this.Zd.K,k)}else{this.body.style.padding="0";
this.Zd.qL(W,q)}};cP.a9l=function(W){if(W==null)return!1;var q=W.d2();if(q==null||!(q.data instanceof Array)||q.data.length!=W.Y.length)return!1;
for(var N=0;N<q.data.length;N++){var X=q.data[N];if(X.B<0&&W.RH[-1-X.B])return!0;if(X.B==null||W.U[X.B]==null||W.U[X.B].pw!=X.gj)return!1;
if(W.Y.indexOf(X.B)==-1)return!1}return!0};function bq(){bn.call(this,[11,0],"camera");this.data=null;
this.aa3=new hw(1,1);this.anJ=[];var W=I.a("div","form hbar");this.body.appendChild(W);this.abL=new cL(null,[]);
this.aoF=new cL([21,0],[[21,2],[21,1]]);W.appendChild(this.aoF.K);this.uA=new cL(null,[]);this.uA.Q(S.E.k,this.af8,this);
W.appendChild(this.uA.K);this.a48=new iC([11,0],!1,null,!0);this.a48.Q("click",this.aKr,this);W.appendChild(this.a48.K);
this.ajR=new j1("");W.appendChild(this.ajR.K);this.stream=null;this.H9=I.a("video");this.H9.setAttribute("autoplay","true");
this.body.appendChild(this.H9);this.a8A=this.aHi.bind(this);this.aoH=this.a7F.bind(this);this.avQ=this.azu.bind(this);
this.Q("closebtn",this.a3B,this)}bq.prototype=new bn;bq.prototype.l=function(){bn.prototype.l.call(this);
this.aoF.l();this.a48.l();this.qL(this.Ah,this.QB)};bq.prototype.OL=function(){var W=this.H9.videoWidth,q=this.H9.videoHeight,X=I.a("canvas","");
X.width=W;X.height=q;var k=X.getContext("2d");k.drawImage(this.H9,0,0,W,q);var B=k.getImageData(0,0,W,q);
return{oq:new dU(0,0,W,q),data:B.data.buffer}};bq.prototype.aKr=function(W){if(this.aoF.V()==0)this.aJN();
else this.aJl()};bq.prototype.aJl=function(){var W=this.OL(),q={buffer:new Uint8Array(W.data),S:W.oq},X=new ip(S.E.O,!0);
X.wV=!0;X.J=_.b9;X.data={R:b.xi,PW:q};this.T(X);alert(js.get([21,4]))};bq.prototype.aJN=function(){var W=this.OL(),q=lf.kB("camera",[W]),X=new ip(S.E.H,!0);
X.data={R:S.m.Zk,LV:q};this.T(X);alert(js.get([21,5]))};bq.prototype.V9=function(W,q,X){navigator.mediaDevices.enumerateDevices().then(this.aiv.bind(this))};
bq.prototype.aiv=function(W){var q=this.anJ=[],X=[];for(var N=0;N<W.length;N++)if(W[N].kind=="videoinput"){q.push(W[N]);
X.push("Camera "+q.length)}this.uA.oj(X);this.uA.q(0);this.af8()};bq.prototype.af8=function(W){this.a3B();
var q={video:{deviceId:this.anJ[this.uA.V()].deviceId,width:{ideal:8e3},height:{ideal:8e3}}};if(navigator.mediaDevices.getUserMedia)navigator.mediaDevices.getUserMedia(q).then(this.a8A).catch(this.aoH);
else navigator.webkitGetUserMedia(q,this.a8A,this.aoH)};bq.prototype.aHi=function(W){this.stream=W;this.H9.srcObject=W;
this.H9.addEventListener("loadedmetadata",this.avQ,!1)};bq.prototype.azu=function(W){this.H9.play();
this.qL(this.Ah,this.QB)};bq.prototype.zs=function(W,q){return new hw(0,0)};bq.prototype.qL=function(W,q){var X=this.H9.videoWidth,k=this.H9.videoHeight;
this.ajR.q(X+" x "+k+" px");I.w(this.ajR.K,"position:absolute;  left:14px; bottom:10px; z-index:1;");
this.aa3.cQ(X,k);this.Ah=W;this.QB=q;var B=W-28,U=q-28-30,l=this.aa3.x/this.aa3.y;if(B/U>l)B=U*l;else U=B/l;
I.w(this.H9,"display: block; width: "+Math.round(B)+"px; height:"+Math.round(U)+"px;")};bq.prototype.a7F=function(W){console.log("error",W);
alert(js.get([21,6]));this.close()};bq.prototype.a3B=function(W){if(this.stream!=null){var q=this.stream.getTracks();
for(var N=0;N<q.length;N++)q[N].stop();this.stream=null}};function aE(){bn.call(this,[7,8],"crange");
this.Zl=null;this.M3={xd:73,iM:4.45,X:4};this.fI={xd:73,iM:4.45,X:4};this.body.style.width="20em";this.pX=new cL([0,5],["Sampled Colors",[19,6,0],[19,6,1],[19,6,2]]);
this.pX.Q(S.E.k,this.atq,this);this.body.appendChild(this.pX.K);this.hl=I.a("div","form");this.body.appendChild(this.hl);
var W=this.a0Y=2,q=this.MS=[new iT([12,92],0,200),new i3([12,36],[[18,0],"\uFF0B","-"]),new iT([12,92],0,100,"%"),new al("Min",0,255),new al("Max",0,255)];
q[0].q(40);q[W].q(40);for(var N=0;N<q.length;N++){q[N].Q(S.E.k,this.L8,this);q[N].parent=this}this.mL=I.a("canvas");
this.body.appendChild(this.mL);this.GL=I.eb(this,this.body)}aE.prototype=new bn;aE.prototype.C$=function(W,q){return W!=null};
aE.prototype.U4=function(){return!0};aE.prototype.mf=function(){return!0};aE.prototype.atq=function(W){var q=this.pX.V(),X=this.MS,k=this.hl,B=0,U=X.length,l=this.a0Y;
if(q==0)U=l;else{B=l;X[B+1].q([0,100,190][q-1]);X[B+1].Si(q!=1);X[B+2].q([60,150,255][q-1]);X[B+2].Si(q!=3)}I.ru(k);
for(var N=B;N<U;N++){k.appendChild(X[N].K)}this.L8()};aE.prototype.l=function(){bn.prototype.l.call(this);
this.GL.l();this.pX.l();for(var N=0;N<this.MS.length;N++)this.MS[N].l()};aE.prototype.mc=function(W,q,X,k,B){var U=W.f.uy(B.x,B.y);
this.aEE(U.x,U.y)};aE.prototype.aEE=function(W,q){var X=Math.min,k=Math.max,B=this.Zl,U=k(0,X(B.r-1,Math.floor(W))),l=k(0,X(B.$-1,Math.floor(q))),K=B.OL(),D=(l*B.r+U)*4,m=K[D],Y=K[D+1],a=K[D+2],p=g.j7(m,Y,a),M=this.MS[1].V(),x=this.M3,R=this.fI;
if(M==0){this.M3=g.N(p);this.fI=p}else if(M==1){x.xd=X(x.xd,p.xd);x.iM=X(x.iM,p.iM);x.X=X(x.X,p.X);R.xd=k(R.xd,p.xd);
R.iM=k(R.iM,p.iM);R.X=k(R.X,p.X)}else if(M==2){var y=(x.xd+R.xd)/2,s=(x.iM+R.iM)/2,F=(x.X+R.X)/2;if(p.xd<y)x.xd=k(x.xd,p.xd+10);
else R.xd=X(R.xd,p.xd-10);if(p.iM<s)x.iM=k(x.iM,p.iM+1);else R.iM=X(R.iM,p.iM-1);if(p.X<F)x.X=k(x.X,p.X+1);
else R.X=X(R.X,p.X-1)}this.L8()};aE.prototype.qI=function(W){var q=this.pX.V(),X=this.MS,k={__name:"Color Range",classID:"ClrR",colorModel:{t:"long",v:0}};
if(q==0){var B=this.M3,U=this.fI;k.Mnm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:B.xd},A:{t:"doub",v:B.iM},B:{t:"doub",v:B.X}}};
k.Mxm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:U.xd},A:{t:"doub",v:U.iM},B:{t:"doub",v:U.X}}};k.Fzns={t:"long",v:X[0].V()}}else{q--;
var l=["shadows","midtones","highlights"][q];k.Clrs={t:"enum",v:{Clrs:["Shdw","Mdtn","Hghl"][q]}};if(0<q)k[l+"LowerLimit"]={t:"long",v:X[3].V()};
if(q<2)k[l+"UpperLimit"]={t:"long",v:X[4].V()};k[l+"Fuzziness"]={t:"long",v:X[2].V()}}this.close();var K=new ip(S.E.dq,!0);
K.data={yx:"colorRange",Og:k};this.T(K)};aE.prototype.V9=function(W,q){this.Zl=W;this.aEE(0,0);this.atq()};
aE.prototype.L8=function(){var W=this.Zl,q=this.pX.V(),X=this.M3,k=this.fI,B=this.MS,U=B[0].V()/200,l=!1;
if(q>0){X=B[3].V();k=B[4].V();if(X>=k)X=k-1;l=!0;U=B[2].V()/100}var K=_.lR.Bh(W,X,k,U,l),D=K.S,m=K.c,Y=this.mL,a=Y.getContext("2d"),p=Math.floor(230*I.W$()),M=Math.floor(p*(D.$/D.r));
Y.width=p;Y.height=M;I.Xv(Y,p,M);var x=g.j(m.length*4);x.fill(255);for(var N=0;N<3;N++)g.fP(m,x,N);var R=_.Gz.k6([x,D],new ka(p/D.r,0,0,M/D.$,0,0)),y=R.S,s=new ImageData(new Uint8ClampedArray(R.buffer.buffer),y.r,y.$);
a.putImageData(s,0,0)};function fC(){bn.call(this,[12,76,1],"createshape");this.Ji=null;var W=I.a("div","form");
I.w(W,"width:20em");this.body.appendChild(W);this.w_=new l2(!0,!0,null,!0,!0);this.w_.q(new hw(100,100));
W.appendChild(this.w_.K);this.aIb=new h$([19,5,3]);W.appendChild(this.aIb.K);this.GL=I.eb(this,W)}fC.prototype=new bn;
fC.prototype.qI=function(W){var q=this.w_.V();this.Ji.aEJ(this.Ji.aim,q.x,q.y,this.aIb.V());this.close()};
fC.prototype.l=function(){if(this.Ji)this.l9=js.get([5,3])+": "+js.get(this.Ji.agq);bn.prototype.l.call(this);
this.GL.l();this.w_.l();this.aIb.l()};fC.prototype.V9=function(W,q){this.Ji=q;this.l();this.w_.q(this.w_.V(),W.mC)};
function iR(){bn.call(this,[11,1],"colorpicker");this.He=null;this.FT=null;this.$D=null;this.dv=!1;this.bx=!1;
this.aJh=[.9642,1,.8249];var W=I.a("div","flexrow"),l,K;this.body.appendChild(W);this.aT=new jg(256,!0);
this.aT.Q(S.E.k,this._8,this);W.appendChild(this.aT.K);var q=I.a("div","form");I.w(q,"width:14.5em; margin-left:1em;");
W.appendChild(q);var X=I.a("div","flexrow");q.appendChild(X);var k=I.a("div");X.appendChild(k);k.style="width:95px; margin-right:14px";
this.a23=I.a("div","full");k.appendChild(this.a23);this.a3n=I.a("div","full");k.appendChild(this.a3n);
var k=I.a("col");X.appendChild(k);k.style.width="80px";this.GL=I.eb(this,k);this.amG=new iC("Add Swatch",!0,null,!0);
k.appendChild(this.amG.K);this.amG.Q("click",this.a6f,this);var X=I.a("div","flexrow");q.appendChild(X);
var B=I.a("div"),U=I.a("div");X.appendChild(B);X.appendChild(U);B.style=U.style="margin-left:14px; max-width:80px;";
l=["H","S","B"];K=B;this.ro=[];for(var N=0;N<3;N++){var D=0,m=360,Y="\xB0";if(N!=0){m=100;Y="%"}var a=new al(l[N],D,m,Y,0,!1,!0);
this.ro.push(a);a.Q(S.E.k,this.aHu,this);K.appendChild(a.K);if(N==2)a.K.style.marginBottom="8px"}l=["R","G","B"];
K=B;this.oT=[];for(var N=0;N<3;N++){var a=new al(l[N],0,255,null,0,!1,!0);this.oT.push(a);a.Q(S.E.k,this.acp,this);
K.appendChild(a.K)}l=["L","a","b"];K=U;this.Uu=[];for(var N=0;N<3;N++){var D=[0,-128,-128][N],m=[100,127,127][N],a=new al(l[N],D,m,null,0,!1,!0);
a.q(0);this.Uu.push(a);a.Q(S.E.k,this.avw,this);K.appendChild(a.K);if(N==2)a.K.style.marginBottom="8px"}l=["C","M","Y","K"];
K=U;this.UI=[];for(var N=0;N<4;N++){var a=new al(l[N],0,100,"%",0,!1,!0);a.q(0);this.UI.push(a);a.Q(S.E.k,this.arG,this);
K.appendChild(a.K);if(N==3)a.K.style.marginBottom="8px"}this.qA=new kD("#",null,4.5);this.qA.Q(S.E.k,this.VY,this);
B.appendChild(this.qA.K);this.qA.K.style.marginRight="0";this.RT=I.a("input","fitem");this.RT.setAttribute("type","color");
I.w(this.RT,"width:59px;  margin-left:19px;");this.RT.addEventListener("change",this.VY.bind(this),!1);
this.ei=new gn(9);this.ei.Q(S.E.k,this.VY,this);q.appendChild(this.ei.K);this.Q("closebtn",this.UO,this);
this.Bi=!1}iR.prototype=new bn;iR.prototype.U4=function(){return!0};iR.prototype.a6f=function(W){var q=new ip(S.E.H,!0);
q.data={R:S.m.oU,ud:dE.FV.avt};this.T(q);var X=this.FT;jp.Gb.agB({o:X.o*255,L:X.L*255,X:X.X*255})};iR.prototype.zs=function(W,q){if(Math.min(W,q)>500)return null;
return new hw(Math.max(0,Math.min(150,(W-484)/2)),Math.max(0,Math.min(150,(q-316)/2)))};iR.prototype.qL=function(W,q){this.aT.qL(Math.min(256,W-226),q)};
iR.prototype.l=function(W,q){bn.prototype.l.call(this);for(var N=0;N<3;N++){this.oT[N].l();this.ro[N].l();
this.Uu[N].l()}for(var N=0;N<4;N++)this.UI[N].l();this.GL.l()};iR.prototype._8=function(W){this.FT=this.aT.V();
this.update()};iR.prototype.mc=function(W,q,X,k,B){this.Bi=!0;this.aok(W,B)};iR.prototype.lG=function(W,q,X,k,B){if(!this.Bi)return;
this.aok(W,B)};iR.prototype.iY=function(W,q,X,k,B){this.Bi=!1};iR.prototype.aok=function(W,q){this.FT=g.gC(_.Mo.NR(W,q,1),1);
this.update()};iR.prototype.acp=function(W){var q=this.oT,X=this.t$(parseInt(q[0].V())),k=this.t$(parseInt(q[1].V())),B=this.t$(parseInt(q[2].V()));
this.FT={o:X/255,L:k/255,X:B/255};this.update()};iR.prototype.aHu=function(W){var q=this.ro,X=this.kh(parseInt(q[0].V())/360),k=this.kh(parseInt(q[1].V())/100),B=this.kh(parseInt(q[2].V())/100);
this.FT=g.C7(X,k,B);this.update()};iR.prototype.arG=function(W){var q=this.UI,X=[];for(var N=0;N<4;N++){var k=this.aJM(parseInt(q[N].V()));
q[N].q(k);X.push(k/100)}var B=g.eL(X);this.FT={o:B[0],L:B[1],X:B[2]};this.update(!0)};iR.prototype.avw=function(W){var q=this.Uu,X=parseInt(q[0].V()),k=parseInt(q[1].V()),B=parseInt(q[2].V()),U=g.sR(X,k,B);
this.FT={o:U.o/255,L:U.L/255,X:U.X/255};this.update()};iR.prototype.VY=function(W){var q;if(W.currentTarget==this.ei)q=this.ei.V();
else{q=W.currentTarget==this.qA?this.qA.V():this.RT.value;if(q.charAt(0)=="#")q=q.slice(1);if(q.length==3)q=q[0]+q[0]+q[1]+q[1]+q[2]+q[2];
q=g.aBq(q)}this.FT=g.gC(q,1);this.update()};iR.prototype.qI=function(W){this.close();this.arl();var q=g.xS(this.FT,1);
this.ei.q(q);this.$D(q);this.bx=!1;this.FT=null};iR.prototype.UO=function(W){this.arl();if(this.dv)this.$D(g.xS(this.He,1));
this.bx=!1;this.FT=null};iR.prototype.arl=function(W){var q=new ip(S.E.H,!0);q.data={R:S.m.ajB};this.T(q)};
iR.prototype.QL=function(W,q){var X=jp.eo(W,q);if(X!=null)this.ei.q(X);if(q!=aI.Z$)return;this.ei.q(X);
if(this.FT!=null){this.FT=g.gC(X,1);this.update()}};iR.prototype.V9=function(W,q){var X=g.gC(q.ke,1);
if(this.FT==null){var k=new ip(S.E.H,!0);k.data={R:S.m.db,pq:"crosshair",push:!0};this.T(k);this.Bi=!1;
this.$D=q.om;this.dv=!1;this.bx=q.yd;this.He=g.N(X);I.w(this.a3n,"height:2.3em;background-color:#"+g.Ga(q.ke)+";")}this.FT=X;
this.update()};iR.prototype.update=function(W){var q=this.FT,X=g.xS(q,1);this.qA.q(g.Ga(X));this.RT.value="#"+g.Ga(X);
I.w(this.a23,"height:2.3em;background-color:#"+g.Ga(X)+";");var k=this.oT;k[0].q(Math.round(q.o*255));
k[1].q(Math.round(q.L*255));k[2].q(Math.round(q.X*255));var B=g.v9(q.o,q.L,q.X);k=this.ro;k[0].q(Math.round(B.QB*360));
k[1].q(Math.round(B.Sp*100));k[2].q(Math.round(B.he*100));var U=g.j7(q.o*255,q.L*255,q.X*255,this.aJh);
k=this.Uu;k[0].q(Math.round(U.xd));k[1].q(Math.round(U.iM));k[2].q(Math.round(U.X));if(W==null){var l=g.s6([q.o,q.L,q.X]);
k=this.UI;k[0].q(Math.round(l[0]*100));k[1].q(Math.round(l[1]*100));k[2].q(Math.round(l[2]*100));k[3].q(Math.round(l[3]*100))}this.aT.q(q);
if(this.bx){this.$D(g.xS(this.FT,1));this.dv=!0}};iR.prototype.aJM=function(W){return Math.max(0,Math.min(100,W))};
iR.prototype.t$=function(W){return Math.max(0,Math.min(255,W))};iR.prototype.kh=function(W){return Math.max(0,Math.min(1,W))};
function dQ(){bn.call(this,[11,2],"contoureditor");this.a7Q=null;this.mE=null;this.response=null;this.Gv=I.a("div","cell");
this.body.appendChild(this.Gv);this.ZS=I.a("div","cell padded");this.body.appendChild(this.ZS);var W=I.a("div","bordered padded vmargin");
this.Gv.appendChild(W);this.Zd=new eA(null,null,!0);this.Zd.Q(S.E.k,this.og,this);W.appendChild(this.Zd.K);
this.GL=I.eb(this,this.ZS);this.Q("closebtn",this.hk,this)}dQ.prototype=new bn;dQ.prototype.qI=function(){this.close()};
dQ.prototype.l=function(){bn.prototype.l.call(this);this.GL.l();this.Zd.l()};dQ.prototype.og=function(W){this.mE.Crv.v=this.Zd.V();
this.response(this.mE)};dQ.prototype.hk=function(W){this.response(this.a7Q)};dQ.prototype.V9=function(W,q){this.a7Q=g.N(q.eO);
this.mE=q.eO;this.response=q.response;this.Zd.q(this.mE.Crv.v)};function eJ(){bn.call(this,[11,4],"duplinto");
this.LV=null;this.Bx=null;this.gJ=null;var W=I.a("div","form");I.w(W,"max-width:26em");this.body.appendChild(W);
this.TG=new cL([12,43],["abc","def"]);this.TG.Q(S.E.k,this._t,this);W.appendChild(this.TG.K);I.zR(W);
this.um=new cL([1,16,0],["abc","def"]);this.um.Q(S.E.k,this._t,this);W.appendChild(this.um.K);I.zR(W);
this.ck=new kD([12,48],null,14);W.appendChild(this.ck.K);this.GL=I.eb(this,W)}eJ.prototype=new bn;eJ.prototype.mf=function(){return!0};
eJ.prototype.l=function(){bn.prototype.l.call(this);this.GL.l();this.TG.l();this.ck.l()};eJ.prototype._t=function(W){if(W&&W.target==this.um)return;
var q=this.TG.V(),X=this.Bx[q],k=this.LV,B=X!=null&&X.add.artd!=null;for(var N=0;N<k.Y.length;N++)if(k.U[k.Y[N]].add.artb)B=!1;
this.ck.Si(q==this.Bx.length);this.um.Si(B);if(B){var U=X.root.children,l=[],K=this.gJ=[];for(var N=0;
N<U.length;N++){var D=U[N].B;if(D.add.artb)l.push(D.getName());K.push(U[N].index)}this.um.oj(l);this.um.q(0)}else this.gJ=null};
eJ.prototype.V9=function(W,q,X){this.LV=W;this.Bx=X;this.ck.q(W.Y.length==0?"Layer":W.U[W.Y[0]].getName());
var k=[];for(var N=0;N<X.length;N++){var B=X[N].name;k.push(B.length<30?B:B.slice(0,27)+"...")}k.push([11,7]);
this.TG.oj(k);this.TG.q(X.indexOf(W));this._t(null)};eJ.prototype.qI=function(W){var q=this.TG.V();if(q==this.Bx.length){var X=new ey(this.ck.V()+".psd"),k=this.LV.r,B=this.LV.$,U=this.LV.l4();
if(U!=-1){var l=this.LV.U[U].La();k=l.r;B=l.$}X.r=k;X.$=B;X.buffer=g.j(X.r*X.$*4);var K=X.Sh();K.YY("Background");
X.UR([K]);var D=new ip(S.E.H,!0);D.wV=!0;D.data={R:S.m.Zk,LV:X};this.T(D)}var m=this.LV.Ls(null,this.LV!=this.Bx[q]),D=new ip(S.E.O,!0);
D.data={R:b.ex,U:m,QZ:this.LV,vq:this.Bx[q]};if(this.gJ)D.data.dB=this.gJ[this.um.V()];D.J=_.b9;D.wV=!0;
this.T(D);this.close()};function hG(){bn.call(this,[1,9],"eassets");this.e=null;this.LV=null;var W=this.body;
I.Wx(W,"form");W.style.width="32em";this.pX=new i3(null,["Layers","Combinations"]);this.pX.Q(S.E.k,this.Jv,this);
W.appendChild(this.pX.K);I.Vc(W);this.RU=I.a("span");W.appendChild(this.RU);this.wA=I.a("div");W.appendChild(this.wA);
var q=I.a("div"),X=I.a("div","flexrow");this.anW=[q,X];this.ib=[new h$("Only layers / folders, whose name starts with \"-e-\""),new h$("Remove parts outside the canvas"),new h$("Trim transparent parts")];
for(var N=0;N<3;N++){var k=this.ib[N];k.q(!0);k.Q(S.E.k,this.Jv,this);q.appendChild(k.K);I.zR(q)}this.vd=new fa([12,14,0],["1x","2x","3x","4x"]);
this.vd.q([!0,!1,!1,!1]);q.appendChild(this.vd.K);var B=I.a("div");X.appendChild(B);var U=I.a("img");
U.setAttribute("src",gv.MG("img/nft.png"));U.style.width="150px";X.appendChild(U);var l=I.a("span");
l.textContent="File Names:";B.appendChild(l);this._Z=new fa(null,["1-0-1.XYZ","head1-eyes0-mouth1.XYZ","red-green-brown.XYZ"],!1,null,!0);
B.appendChild(this._Z.K);this._Z.q([!0,!1,!1]);I.Vc(W);this.avU=["PNG","JPG","SVG","TIFF","TGA"];this.p$=new cL([12,50],this.avU);
this.p$.Q(S.E.k,this.Rw,this);W.appendChild(this.p$.K);this.C4=new dp;W.appendChild(this.C4.K);this.GL=new iC([1,9],!0,null,!0);
this.GL.Q("click",this.qI,this);W.appendChild(this.GL.K);this.Q("closebtn",this.Qu,this)}hG.prototype=new bn;
hG.prototype.Rw=function(W){this.C4.fD(this.avU[this.p$.V()],!1,!1,!1,this.LV.Pb()!=null)};hG.prototype.Qu=function(W){this.LV=null};
hG.prototype.l=function(){bn.prototype.l.call(this);this.p$.l();this.vd.l();this.GL.l();this.C4.l()};
hG.prototype.V9=function(W,q,X){this.LV=W;this.Jv()};hG.prototype.Jv=function(W){var q=this.pX.V(),X;
I.ru(this.wA);this.wA.appendChild(this.anW[q]);if(q==0){var k=this.aBu();X=k.length+" exportable layers"}else{var k=this.ahu();
X=k[1]+" combinations ("+k[0].join(" \xD7 ")+")"}this.RU.textContent="- - - "+X;this.Rw(null)};hG.prototype.aBu=function(){var W=this.ib[0].V(),q=[],X=this.LV;
for(var N=0;N<X.U.length;N++){var k=X.U[N],B=k.getName();if(!W&&!k.S3()&&!k.S.PM()||B.startsWith("-e"))q.push(N)}return q};
hG.prototype.ahu=function(){var W=this.LV,q=W.root.children,X=[],k=1,B=[];for(var N=0;N<q.length;N++){var U=q[N],l=U.B;
if(l.S3()){var K=U.children.length;X.push(K);k*=K;B.push(U.index)}l}return[X,k,B]};hG.prototype.QL=function(W,q){this.e=W};
hG.prototype.qI=function(W){var q=this.LV,X=this.pX.V(),k=[this.avU[this.p$.V()]],B=[this.C4.V()],U={};
if(X==0){var l=this.vd.V(),K={},D=this.aBu();if(D.length==0){alert("No layers to export.");return}var m=[this.ib[1].V(),this.ib[2].V()];
for(var N=0;N<D.length;N++){var Y=D[N],a=q.U[Y],p=a.getName();p=p.replace(/\//g,"-");if(K[p]!=null){K[p]++;
p+=" "+K[p]}else K[p]=1;var M=a.P$();a.ZR(!0);for(var x=0;x<l.length;x++){if(!l[x])continue;var R=x+1,y=_.U6.al8(q,k,R,this.e,Y,B,m);
for(var s=0;s<k.length;s++){var F=k[s],E=p.slice(p.startsWith("-e-")?3:0)+(R==1?"":"@"+R+"x")+"."+F.toLowerCase();
if(y[s])U[E]=new Uint8Array(y[s])}}a.ZR(M)}}else{var M=[];for(var N=0;N<q.U.length;N++)M.push(q.U[N].P$());
var o=this.ahu(),G=o[0],D=o[2],d=[];function u(v,Y,c,V){if(Y==v.length){V.push(c.slice(0));return}var j=v[Y];
for(var N=0;N<j;N++){c.push(N);u(v,Y+1,c,V);c.pop(N)}}u(G,0,[],d);var r=this._Z.V().indexOf(!0);this.W5=[d,U,D,k,B,M,r,this.aB2.bind(this),0,0];
this.aB2();return}this.Ic(U,q.name)};hG.prototype.aB2=function(){var W=this.W5,q=W[0],X=W[1],k=this.LV,B=W[2],U=W[3],l=W[4],K=W[5],D=W[6],m=W[7],Y=0;
while(q.length!=0&&Y<1e3){var a=Date.now(),p=q.shift(),M=[];for(var N=0;N<p.length;N++){var x=k.root.Vf(B[N]);
for(var R=0;R<x.children.length;R++)x.children[R].B.ZR(!1);var y=x.children[p[N]].B;M.push(D==2?y.getName():x.B.getName()+p[N]);
y.ZR(!0)}k.I_();k.HQ();var s=(D==0?p:M).join("-")+"."+U[0].toLowerCase();X[s]=new Uint8Array(lf.Xi(k,U[0],k.r,k.$,l[0],this.e));
W[8]++;W[9]+=X[s].length;Y+=Date.now()-a}if(q.length!=0){alert(W[8]+" done, "+eb.qc(W[9])+".",800);setTimeout(m,35);
return}for(var N=0;N<k.U.length;N++)k.U[N].ZR(K[N]);k.I_();this.Ic(X,k.name)};hG.prototype.Ic=function(W,q){var X=UZIP.encode(W),k=new ip(S.E.H,!0);
k.data={R:S.m.Gw,data:X,name:q.split(".")[0]+".zip"};this.T(k)};function aU(){bn.call(this,"Export Color Lookup Tables","exlut");
this.e=null;this.LV=null;var W=I.a("div","form");I.w(W,"width:20em");this.body.appendChild(W);this.ib=[new al("Grid Points",1,256),new i3([12,50],[".CUBE"])];
var q=[16,0];for(var N=0;N<this.ib.length;N++){var X=this.ib[N];X.q(q[N]);X.parent=this;X.Q(S.E.k,this.Jv,this);
W.appendChild(X.K);I.zR(W)}this.GL=I.eb(this,W);this.Q("closebtn",this.Qu,this)}aU.prototype=new bn;
aU.prototype.C$=function(W,q){if(Math.min(W.r,W.$)<16){alert("The document must be at least 16 x 16 pixels.",3200);
return!1}if(W.U.length<2){alert("There must be a background layer and some adjustment layers.",3200);
return!1}return!0};aU.prototype.Qu=function(W){this.LV=null};aU.prototype.QL=function(W,q){this.e=W};
aU.prototype.V9=function(W,q,X){this.LV=W};aU.prototype.qI=function(){var W=this.LV,q=this.ib[0].V(),X=[],k=new dU(0,0,W.r,W.$),B=g.j(q*q*4),U=B.slice(0),l=new dU(W.r-q>>>1,W.$-q>>>1,q,q),K=W.U[0],D=K.buffer,m=K.S;
K.S=l;K.buffer=B;for(var Y=0;Y<q;Y++){this.abG(q,Y,B);K.I_(l);W.I_(l);var a=W.OL();g.YE(a,k,U,l);for(var p=0;
p<q;p++)for(var M=0;M<q;M++){var x=p*q+M<<2;X.push(U[x]/255,U[x+1]/255,U[x+2]/255)}}var R=hc.a6i(X,q,W.name);
ch.save(R,W.name.split(".")[0]+".CUBE");K.buffer=D;K.S=m;K.I_();W.I_()};aU.prototype.abG=function(W,q,X){var k=255/(W-1),B=Math.round(q*k);
for(var U=0;U<W;U++)for(var l=0;l<W;l++){var K=U*W+l<<2;X[K]=Math.round(l*k);X[K+1]=Math.round(U*k);
X[K+2]=B;X[K+3]=255}};aU.prototype.l=function(){bn.prototype.l.call(this);for(var N=0;N<this.ib.length;
N++)this.ib[N].l();this.GL.l()};function d8(){bn.call(this,[1,14],"finfo");this.aHI=null;this.EP=null;
this.aKv=null;this.oD=I.a("div","form scrollable label12");I.w(this.oD,"width:35em;  height:38em;  margin-bottom:8px");
this.body.appendChild(this.oD);var W=I.a("div","form");this.body.appendChild(W);this.Gu=new cL(null,["Hello"]);
W.appendChild(this.Gu.K);this.aoB=new iC("Add Parameter",!1,null,!0);W.appendChild(this.aoB.K);this.aoB.Q("click",this.Uw,this);
this.qv=new iC("=== S A V E ===",!1,null,!0);W.appendChild(this.qv.K);this.qv.Q("click",this.Ic,this);
this.aeq=""}d8.prototype=new bn;d8.prototype.zs=function(W,q){return W<450||q<450?new hw(0,0):new hw(150,100)};
d8.prototype.Uw=function(W){if(this.aKv.length==0)return;var q=this.aKv[this.Gu.V()],X=this.gS();X[q]=ei.ZG[q][0];
this.dj(X);this.EP[q].K.scrollIntoView();this.EP[q].DZ()};d8.prototype._y=function(W){var q=this.gS();
delete q[W.currentTarget.aiV];this.dj(q)};d8.prototype.Ic=function(W){var q=this.gS(),X=this.aHI,k=!0;
for(var B in X)if(JSON.stringify(X[B])!=JSON.stringify(q[B]))k=!1;for(var B in q)if(JSON.stringify(X[B])!=JSON.stringify(q[B]))k=!1;
if(k)return;var U=new ip(S.E.O,!0);U.J=_.b9;U.data={R:b.uI,Rz:q};this.T(U);this.aHI=q;this.dj(q);alert("Metadata saved!")};
d8.aKo=function(W){function q(B){var U=B.toLowerCase();return B==U}var X=W.split(":").pop();for(var k=1;
k<X.length-1;k++){if(X[k]==X[k].toUpperCase()&&(q(X[k+1])||q(X[k-1]))){X=X.slice(0,k)+" "+X.slice(k);
k++}}return X};d8.prototype.V9=function(W,q){this.aHI=W.qq;this.dj(W.qq)};d8.prototype.dj=function(W){var q=this.oD,B=0;
I.ru(q);var X=this.EP={},k=["tiff","exif","exif:GPS"],U=this.aKv=[],l=[];for(var K in ei.ZG){var D=d8.aKo(K),m=0,Y=15,a=null;
if(W[K]==null){if(ei.ZG[K].length!=1||K=="photoshop:Credit"||K=="photoshop:Source"){U.push(K);l.push(D)}continue}for(var N=0;
N<k.length;N++)if(K.startsWith(k[N]))m=N;if(m!=B){I.Vc(q);B=m}if(K=="tiff:ImageDescription"||K=="dc:Keywords"){Y=18.5;
a=3}var p=new kD(D,null,Y,a);X[K]=p;var M=W[K];if(M instanceof Array)M=M[1]==0?"---":M[0]+"/"+M[1];var x=new iC("\u2716",null,js.get([5,4]));
q.appendChild(x.K);x.Q("click",this._y,this);x.aiV=K;p.q(M);q.appendChild(p.K);I.zR(q);if(K=="exif:GPSLongitude"&&W["exif:GPSLatitude"]){this.aeq=d8.ar$(W["exif:GPSLatitude"])+","+d8.ar$(W["exif:GPSLongitude"]);
var R=new iC("Show on map",!1,null,!0);q.appendChild(R.K);I.zR(q);R.Q("click",this.aef,this)}}this.Gu.oj(l);
this.Gu.q(0)};d8.prototype.gS=function(){var W=this.EP,q=ei.ZG,X={};for(var k in q){var B=q[k][0],U=typeof B;
if(B==null||W[k]==null)continue;var l=W[k].V(),K="The value of \""+d8.aKo(k)+"\" must ";if(U=="number"){l=parseFloat(l);
if(isNaN(l)){alert(K+"be a number.");l=B}}else if(B instanceof Array&&B.length==2){if(l.indexOf("/")==-1){alert(K+"be a fraction.");
l=B.slice(0)}else{l=l.split("/").map(parseFloat);if(isNaN(l[0])||isNaN(l[1])){l=B.slice(0)}}}X[k]=l}return X};
d8.ar$=function(W){var q=W.length,X=W.slice(0,q-1).split(",").map(parseFloat),k=W.slice(q-1),B=X[0]+X[1]/60+X[2]/3600;
if(k!="N"&&k!="E")B=-B;return B};d8.prototype.aef=function(W){window.open("https://maps.google.com?q="+this.aeq,"Map")};
function lh(){bn.call(this,[11,5],"gradienteditor");this.He=null;this.FT=null;this.e=null;this.$D=null;
this.dv=!1;this.bx=!1;this.kx=null;this.ya=null;this.kE=-1;this.jW=-1;this.ab=0;this.bj=this.RK.bind(this);
this.tK=this._a.bind(this);this.mL=I.a("canvas");this.Ca=this.mL.getContext("2d");I.w(this.mL,"display:block");
this.ta=null;I.TK(this.mL);I.aA(this.mL,this.ss.bind(this));this.g$=I.a("div","form");this._4=I.a("div");
this.hU=I.a("div","form");this.eF=I.a("div");this.ey=new cL([12,44],[[15,10,0],[24,6]]);this.ey.Q(S.E.k,this.lT,this);
this.body.appendChild(this.ey.K);I.Vc(this.body);var W=this.g$;this.vt=new al([19,3,3],0,100,"%");this.vt.Q(S.E.k,this.lT,this);
this.vt.parent=this;W.appendChild(this.vt.K);I.zR(W);this.adR=new j1([12,0]);W.appendChild(this.adR.K);
this.cq=I.a("div","bordered padded noalign");W.appendChild(this.cq);this.hq=new al([12,0],0,100,"%");
this.hq.parent=this;this.hq.Q(S.E.k,this.lT,this);this.cq.appendChild(this.hq.K);this.KL=new al([12,40],0,100,"%");
this.KL.parent=this;this.KL.Q(S.E.k,this.lT,this);this.cq.appendChild(this.KL.K);this.sb=new iC([5,4],!1,null,!0);
this.sb.Q("click",this.aJS,this);this.cq.appendChild(this.sb.K);W.appendChild(this._4);this.arA=new j1([13,0]);
W.appendChild(this.arA.K);this.Vk=I.a("div","bordered padded noalign");W.appendChild(this.Vk);this.Bg=new cL([12,44],[[12,45],[12,46],[12,47]]);
this.Bg.Q(S.E.k,this.lT,this);this.Vk.appendChild(this.Bg.K);this.p3=new dT(!0);this.p3.parent=this;
this.p3.Q(S.E.k,this.lT,this);this.Vk.appendChild(this.p3.K);this.cK=new al([12,40],0,100,"%");this.cK.parent=this;
this.cK.Q(S.E.k,this.lT,this);this.Vk.appendChild(this.cK.K);this.Jz=new iC([5,4],!1,null,!0);this.Jz.Q("click",this.awI,this);
this.Vk.appendChild(this.Jz.K);var W=this.hU;this.Th=new al("Roughness",0,100,"%");this.Th.Q(S.E.k,this.lT,this);
this.Th.parent=this;W.appendChild(this.Th.K);W.appendChild(this.eF);this.Nr=new iC([25,1,2],!1,null,!0);
this.Nr.Q("click",this.lT,this);W.appendChild(this.Nr.K);this.GL=I.eb(this);this.Q("closebtn",this.UO,this)}lh.prototype=new bn;
lh.prototype.UO=function(W){if(this.dv)this.$D(this.He);this.$D=null;this.bx=!1};lh.prototype.l=function(){bn.prototype.l.call(this);
this.GL.l();this.vt.l();this.adR.l();this.arA.l();this.sb.l();this.Jz.l();this.hq.l();this.KL.l();this.Bg.l();
this.cK.l();this.Nr.l()};lh.prototype.QL=function(W,q){this.e=W;if(q==aI.Z$)this.oH()};lh.prototype.V9=function(W,q){this.FT=g.N(q.ov);
this.He=g.N(q.ov);this.kx=this.ya=null;this.$D=q.om;this.dv=!1;this.bx=q.yd;this.oH();this.Rf()};lh.prototype.qI=function(W){var q=this.FT;
this.$D(q);this.close();this.$D=null;this.bx=!1};lh.prototype.hK=function(W){return W==bu.GD||W==bu.gB};
lh.prototype.jm=function(W,q,X,k){if(k.D(bu.GD)||k.D(bu.gB)){if(this.ya)this.aJS();if(this.kx)this.awI()}};
lh.prototype.aJS=function(W){var q=this.FT.Trns.v;if(this.ya==null||q.length==1)return;q.splice(q.indexOf(this.ya),1);
this.ya=null;this.oH();this.Rf()};lh.prototype.awI=function(W){var q=this.FT.Clrs.v;if(this.kx==null||q.length==1)return;
q.splice(q.indexOf(this.kx),1);this.kx=null;this.oH();this.Rf()};lh.prototype.oH=function(){var W=this.mL,q=this.Ca;
if(this.FT==null)return;var X=I.W$();W.width=Math.floor(410*X);W.height=Math.floor(70*X);I.Xv(W,W.width,W.height);
W.style.marginTop="8px";this.ta=new dU(0,0,Math.floor(380*X),Math.floor(32*X));this.ta.x=Math.floor((W.width-this.ta.r)/2);
this.ta.y=Math.floor((W.height-this.ta.$)/2);var k=this.ta,B=k.r,U=k.$,l=k.x,K=k.y,D=new dU(0,0,B,U),m=q.getImageData(0,0,B,U),Y=new Uint8Array(m.data.buffer);
g.Vh(Y,B,U,8);var a=g.j(B*U*4);g.ov.TI(this.FT,a,D,[1/B,0,0,1/U],B/2,U/2,!1,0,this.e.w5,this.e.yY);g.v.HX("norm",a,k,Y,k,k,1);
q.clearRect(0,0,W.width,W.height);q.putImageData(m,l,K);var p=this.FT;if(p.Clrs){var M=p.Trns.v,x=p.Clrs.v,R=g.ov.vB(p,this.e.w5,this.e.yY),y=Math.round(6*I.W$()),s=Math.round(14*I.W$()),F=this.ya?this.ya.v:null,E=this.kx?this.kx.v:null;
for(var N=0;N<M.length;N++){var o=M[N].v,G=Math.round(255-255*o.Opct.v.val/100);if((o==F||M[N-1]&&M[N-1].v==F||N==this.jW)&&N!=0){q.fillStyle="#000000";
q.fillRect(l-3+B*(M[N-1].v.Lctn.v+(o.Lctn.v-M[N-1].v.Lctn.v)*o.Mdpn.v/100)/4096,K-6-2,6,6)}if(o==F){q.fillStyle="#ffffff";
q.fillRect(l-y+B*(o.Lctn.v/4096)-2,K-2-s-2,2*y+4,s+4)}q.fillStyle="rgb("+G+","+G+","+G+")";q.fillRect(l-y+B*(o.Lctn.v/4096),K-2-s,2*y,s)}for(var N=0;
N<x.length;N++){var d=x[N].v,u=R[0][N][0];if((d==E||x[N-1]&&x[N-1].v==E||N==this.kE)&&N!=0){q.fillStyle="#000000";
q.fillRect(l-3+B*(x[N-1].v.Lctn.v+(d.Lctn.v-x[N-1].v.Lctn.v)*d.Mdpn.v/100)/4096,K+U+2,6,6)}if(d==E){q.fillStyle="#ffffff";
q.fillRect(l-y+B*(d.Lctn.v/4096)-2,K+U+2-2,2*y+4,s+4)}q.fillStyle="rgb("+Math.round(u.o)+", "+Math.round(u.L)+","+Math.round(u.X)+")";
q.fillRect(l-y+B*(d.Lctn.v/4096),K+U+2,2*y,s)}}if(this.bx){this.$D(this.FT);this.dv=!0}};lh.prototype.Rf=function(){var W=this.FT,q=W.Clrs?0:1;
this.ey.q(q);if(I.rL(this.g$))this.body.removeChild(this.g$);if(I.rL(this.hU))this.body.removeChild(this.hU);
(q==0?this._4:this.eF).appendChild(this.mL);if(q==0){this.body.appendChild(this.g$);this.vt.q(Math.round(100*W.Intr.v/4096));
var X=W.Trns.v,k=W.Clrs.v,B=this.ya!=null,U=this.jW!=-1;this.hq.Si(B);this.KL.Si(B||U);this.sb.Si(B);
if(B){I.w(this.cq,"");var l=this.ya.v;this.KL.q(Math.round(100*l.Lctn.v/4096));this.hq.q(l.Opct.v.val)}if(U)this.KL.q(X[this.jW].v.Mdpn.v);
var B=this.kx!=null,U=this.kE!=-1;this.Bg.Si(B);this.p3.Si(B);this.cK.Si(B||U);this.Jz.Si(B);if(B){I.w(this.Vk,"");
var K=this.kx.v;this.cK.q(Math.round(100*K.Lctn.v/4096));var D=K.Type.v.Clry;this.Bg.q(["FrgC","BckC","UsrS"].indexOf(D));
if(D=="FrgC")this.p3.Ih(this.e.w5);if(D=="BckC")this.p3.Ih(this.e.yY);if(D=="UsrS")this.p3.q(K.Clr.v)}if(U)this.cK.q(k[this.kE].v.Mdpn.v)}else{this.body.appendChild(this.hU);
this.Th.q(Math.round(100*W.Smth.v/4096))}this.body.appendChild(this.GL.K)};lh.prototype.lT=function(W){var q=this.FT,X=q.Clrs?0:1;
if(W.target==this.ey){var k=X==0?JSON.parse(kE.oo.a3f).v:dY.wy("grdm").Grad.v;this.FT=k;this.Rf();this.oH();
return}if(X==0){q.Intr.v=Math.round(4096*this.vt.V()/100);var B=q.Trns.v,U=q.Clrs.v;if(this.ya!=null){var l=this.ya.v;
l.Lctn.v=Math.round(4096*(this.KL.V()/100));l.Opct.v.val=this.hq.V()}if(this.kx!=null){var K=this.kx.v;
K.Lctn.v=Math.round(4096*(this.cK.V()/100));if(W.target==this.p3)this.Bg.q(2);var D=this.Bg.V();K.Type.v.Clry=["FrgC","BckC","UsrS"][D];
if(D==2)K.Clr={t:"Objc",v:this.p3.V()};else if(K.Clr)delete K.Clr}if(this.jW!=-1)B[this.jW].v.Mdpn.v=this.KL.V();
if(this.kE!=-1)U[this.kE].v.Mdpn.v=this.cK.V()}else{q.Smth.v=Math.round(4096*this.Th.V()/100);if(W.target==this.Nr)q.RndS.v=Math.floor(Math.random()*4294967295)}this.oH()};
lh.prototype.ss=function(W){var q=I.IO(W,this.mL),X=this.ta,k=(q.x*I.W$()-X.x)/X.r,B=(q.y*I.W$()-X.y)/X.$,U=this.FT.Trns.v,l=this.FT.Clrs.v,K=null,D=null,m=-1,Y=-1;
if(B<1)for(var N=0;N<U.length;N++){var a=U[N].v;if(Math.abs(a.Lctn.v/4096-k)<.02)K=U[N];if(N>0)if(Math.abs((U[N-1].v.Lctn.v+(a.Lctn.v-U[N-1].v.Lctn.v)*a.Mdpn.v/100)/4096-k)<.01)m=N}if(B>0)for(var N=0;
N<l.length;N++){var p=l[N].v;if(Math.abs(p.Lctn.v/4096-k)<.02)D=l[N];if(N>0)if(Math.abs((l[N-1].v.Lctn.v+(p.Lctn.v-l[N-1].v.Lctn.v)*p.Mdpn.v/100)/4096-k)<.01)Y=N}if(D==null&&K==null&&m==-1&&Y==-1){if(B<0){var a={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
a.v.Lctn.v=Math.round(k*4096);U.push(a);U.sort(this.tp);K=a}if(B>1){var l=this.FT.Clrs.v,M=g.ov.vB(this.FT,this.e.w5,this.e.yY),x=g.ov.BU(this.FT,M,k),p={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:g.ov.E2({o:x&255,L:x>>8&255,X:x>>16&255})},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
p.v.Lctn.v=Math.round(k*4096);l.push(p);l.sort(this.tp);D=p}}if(D!=null)Y=-1;if(K!=null)m=-1;if(D!=null||K!=null||m>-1||Y>-1){this.ya=K;
this.kx=D;this.jW=m;this.kE=Y;this.Rf();this.oH();I.wO(window,this.bj);I.DA(window,this.tK)}};lh.prototype.RK=function(W){var q=I.IO(W,this.mL),X=this.ta,k=(q.x*I.W$()-X.x)/X.r,B=(q.y*I.W$()-X.y)/X.$;
k=Math.max(0,Math.min(1,k));var U=this.FT.Trns.v,l=this.FT.Clrs.v;if(this.ya!=null){var K=this.ya.v;
K.Lctn.v=Math.round(4096*k);var D=U.indexOf(this.ya);if(D!=-1&&B<-1&&U.length>1)U.splice(D,1);if(D==-1&&B>-1)U.push(this.ya);
U.sort(this.tp)}if(this.kx!=null){var m=this.kx.v;m.Lctn.v=Math.round(4096*k);var Y=l.indexOf(this.kx);
if(Y!=-1&&B>2&&l.length>1)l.splice(Y,1);if(Y==-1&&B<2)l.push(this.kx);l.sort(this.tp)}if(this.jW>-1){var K=U[this.jW].v;
K.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(k*4096-U[this.jW-1].v.Lctn.v)/(K.Lctn.v-U[this.jW-1].v.Lctn.v))))}if(this.kE>-1){var m=l[this.kE].v;
m.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(k*4096-l[this.kE-1].v.Lctn.v)/(m.Lctn.v-l[this.kE-1].v.Lctn.v))))}if(this.ya!=null||this.kx!=null||this.jW>-1||this.kE>-1){this.Rf();
this.oH()}};lh.prototype._a=function(W){I.yO(window,this.bj);I.xB(window,this.tK);if(Date.now()-this.ab<300){if(this.kE!=-1||this.jW!=-1){var q=(this.kE!=-1?this.FT.Clrs.v[this.kE]:this.FT.Trns.v[this.jW]).v;
q.Mdpn.v=50;this.Rf();this.oH()}else if(this.kx!=null)this.p3.z5()}this.ab=Date.now()};lh.prototype.tp=function(W,q){return W.v.Lctn.v-q.v.Lctn.v};
function fd(){bn.call(this,[11,5],"vgradienteditor");this.$D=null;this.VK=new cd;this.VK.parent=this;
this.body.appendChild(this.VK.K);this.GL=I.eb(this,this.body)}fd.prototype=new bn;fd.prototype.V9=function(W,q){this.$D=q.om;
this.VK.q(q._)};fd.prototype.l=function(){bn.prototype.l.call(this);this.VK.l()};fd.prototype.qI=function(W){this.$D(this.VK.V());
this.close()};function cZ(W){bn.call(this,W=="isize"?[11,10]:[11,3],W);this.alq=W;this.Dl=null;var q=I.a("div","form");
I.w(q,"width:20em; margin-bottom:1em; margin-top:-1em;");this.body.appendChild(q);var X=W=="csize";this.aaf=new j1("Hi");
q.appendChild(this.aaf.K);I.zR(q);this.w_=new l2(!0,!0,X,X,!0);if(X)this.w_.atd(!1);q.appendChild(this.w_.K);
this.tU=new h$([12,25,3]);this.tU.q(!0);this.tU.Q(S.E.k,this.af9,this);this.QH=new cL(null,[[12,14,2],[12,14,3],[12,14,4]]);
this.QH.q(1);this.X2=new ej([12,23,2],41);this.X2.q(4);if(W=="isize"){q.appendChild(this.tU.K);q.appendChild(this.QH.K)}else q.appendChild(this.X2.K);
this.GL=I.eb(this,this.body)}cZ.prototype=new bn;cZ.prototype.C$=function(W,q){return W!=null};cZ.prototype.mf=function(){return!0};
cZ.prototype.hK=function(W){return this.alq=="isize"?!1:[bu.Is,bu.uQ,bu.uP,bu.Mm].indexOf(W)!=-1};cZ.prototype.jm=function(W,q,X,k){if(k.D(bu.$H))this.qI();
this.X2.axT(k.wp())};cZ.prototype.l=function(){bn.prototype.l.call(this);this.w_.l();this.tU.l();this.QH.l();
this.X2.l();this.GL.l()};cZ.prototype.qI=function(W){var q=this.w_.V(),X=q.x,k=q.y,B=new ip(S.E.dq,!0),U=this.w_.ox.V();
if(this.alq=="csize"){if(U){var l=this.w_.pY,K=this.w_.NV;X=K.x-l.x;k=K.y-l.y}B.data=_.wW.atP(X,k,this.X2.V(),U)}else{var D=this.QH.V();
if(!this.tU.V())D=null;var m=this.w_.aJA(),Y=this.Dl;console.log(m);if(m==1)B.data=_.wW.UL(X/Y.x,k/Y.y,this.w_.M0(),D,!0);
else B.data=_.wW.UL(X,k,this.w_.M0(),D)}this.close();this.T(B)};cZ.prototype.V9=function(W,q){this.Dl=new hw(W.r,W.$);
this.w_.q(this.Dl,W.mC);this.w_.DZ();this.aaf.q(js.get(this.l9)+": "+(W.r*W.$/1e6).toFixed(2)+" MPx")};
cZ.prototype.af9=function(W){var q=this.tU.V(),X=this.w_,k=this.QH;if(q)k.JZ();else k.Ti();X.adj(q)};
function jd(){bn.call(this,"Import RAW","importraw");var W=I.a("div","flexrow"),q=I.a("div");I.w(q,"margin-bottom: 1em");
this.body.appendChild(W);this.body.appendChild(q);var X=I.a("div","form");I.w(X,"width:18em");W.appendChild(X);
var k=I.a("div","form");I.w(k,"width:15em");W.appendChild(k);this.Ji=null;this.QU=null;this.SB=null;
this.$r=null;this.Zq=[];var B=[];for(var N=0;N<jd.Sl.length;N++)B.push(jd.Sl[N]+" Bits");var U=this.W5=[new l2(!0,null,null,!0),new al([12,72],1,8),new h$("Last one is Transparency"),new i3([12,34],B),new i3("Byte Order",["12-34","34-12"]),new cL("Guesses",[])];
for(var N=0;N<U.length;N++){var l=U[N];l.parent=this;l.Q(S.E.k,N==5?this.aKn:this._t,this);var K=N==0?X:N==5?q:k;
K.appendChild(l.K)}this.mL=I.a("canvas");this.Ca=this.mL.getContext("2d");this.body.appendChild(this.mL);
this.GL=I.eb(this,this.body)}jd.prototype=new bn;jd.prototype.l=function(){bn.prototype.l.call(this);
var W=this.W5;this.GL.l();for(var N=0;N<W.length;N++)W[N].l()};jd.prototype.qI=function(W){this.close();
var q=this.W5[0].V(),X=lf.kB(this.QU,[{data:this.SB,oq:new dU(0,0,q.x,q.y)}]);if(this.$r)X.RH=this.$r;
var k=new ip(S.E.H,!0);k.data={R:!0?S.m.Zk:S.m.j1,LV:X};this.T(k)};jd.Sl=[8,16];jd.prototype.V9=function(W,q){this.Ji=new Uint8Array(q.MR);
this.QU=q.k7;var X=this.Ji.length,k=[1,3,4],B=0,U=0,l=1,K=1,D=this.Zq=[],m=Math.round(Math.sqrt(X)*2);
m=Math.max(m,4e3);for(var Y=0;Y<3;Y++){for(var a=0;a<2;a++){var p=jd.Sl[a],M=k[Y],x=M*p,R=Math.round(X*8/x);
if(R!=X*8/x)continue;for(var y=0;y<=m;y++)for(var s=0;s<=m;s++)if(y*s==R){var F=0;if(y==s)F+=64;if(Math.round(y/100)==y/100&&Math.round(s/100)==s/100)F+=32;
if(Math.round(y/10)==y/10&&Math.round(s/10)==s/10)F+=16;if(Math.round(y/2)==y/2&&Math.round(s/2)==s/2)F+=8;
D.push([y,s,M,p,F])}}}var E=function(u,r){if(r[4]!=u[4])return r[4]-u[4];var v=Math.max(u[0],u[1])/Math.min(u[0],u[1]),c=Math.max(r[0],r[1])/Math.min(r[0],r[1]);
if(v!=c)return v-c;return r[0]-u[0]};D.sort(E);var o=this.W5,G=[];for(var N=0;N<D.length;N++){var d=D[N];
G.push(d[0]+" x "+d[1]+", "+d[2]+"ch, "+d[3]+"-bit")}o[5].oj(G);o[5].q(0);this.aKn(null)};jd.prototype.aKn=function(W){var q=this.W5,X=this.Zq[this.W5[5].V()];
q[0].q(new hw(X[0],X[1]),72);q[1].q(X[2]);q[3].q(jd.Sl.indexOf(X[3]));this._t()};jd.prototype._t=function(W){var q=this.W5,X=q[0].V(),k=X.x,B=X.y,U=jd.Sl[q[3].V()],l=this.Ji;
if(U==16&&q[4].V()==1){l=l.slice(0);for(var N=0;N<l.length;N+=2){var K=l[N];l[N]=l[N+1];l[N+1]=K}}var D=this.SB=this.Vp(l,k,B,q[1].V(),U,q[2].V()),m=this.mL,Y=this.Ca,a=[D,new dU(0,0,k,B)];
g.z0(a);for(var N=0;N<a.length;N+=2)if(a[N+1].$<300){D=a[N];k=a[N+1].r;B=a[N+1].$;break}m.width=k;m.height=B;
I.Xv(m,k,B);var p=new ImageData(new Uint8ClampedArray(D.buffer),k,B);Y.putImageData(p,0,0)};jd.prototype.Vp=function(W,q,X,k,B,U){this.$r=null;
var l=[],K=q*X;for(var D=0;D<k;D++){var m=g.j(K);l.push(m);if(B==8)for(var N=0;N<K;N++)m[N]=W[N*k+D];
else if(B==16)for(var N=0;N<K;N++)m[N]=Math.round((W[(N*k+D)*2]<<8|W[(N*k+D)*2+1])*(255/65535))}var Y=g.j(K*4);
g.WD(Y,4278190080);if(U){g.fP(l.pop(),Y,3);k--}if(k==0){}else if(k==1)g.LO(l[0],Y);else{g.fP(l[0],Y,0);
g.fP(l[1],Y,1);if(k>2){g.fP(l[2],Y,2);if(k>3){this.$r=[];for(var N=3;N<k;N++){var a=new b.pj;a.name="Alpha "+(N-2);
a.S=new dU(0,0,q,X);a.c=l[N];this.$r.push(a)}}}}return Y};function i2(W,q,X){gH.call(this);this.K=I.a("div","");
this.FW=W;this.ef=null;this.VK=q==null?!1:q;this.pa=null;this.uL=X;this.aHA=[];this.ra=[];this.Cj=[];
this.Bv=[];this._1=0;this.ef=this.a5s(i2.Bv[W]);this.Fs();this.D6=null;this.a6P;this.aCJ}i2.prototype=new gH;
i2.prototype.mc=function(W,q,X,k,B){this.D6=B;this.a6P=g.N(this.pa);if(this.ef.lagl)this.aCJ=this.ef.lagl.V()[0]};
i2.prototype.lG=function(W,q,X,k,B){var U=this.D6,l=this.FW,K=this.a6P;if(U==null)return;var D=(B.x-U.x)/W.f.$Z,m=(B.y-U.y)/W.f.$Z;
if(l=="GrFl"){var Y=g.N(K.Ofst.v);Y.Hrzn.v.val+=D*.5;Y.Vrtc.v.val+=m*.5;this.ef.Ofst.q(Y,!0)}if(l=="patternFill"){var Y=g.N(K.phase.v);
Y.Hrzn.v+=D;Y.Vrtc.v+=m;this.ef.phase.q(Y,!0)}if(l=="DrSh"||l=="IrSh"||l=="ChFX"){var a=K.Dstn.v.val,p=this.aCJ*Math.PI/180,M=-Math.cos(p)*a+D,x=Math.sin(p)*a+m;
this.ef.Dstn.q(Math.sqrt(M*M+x*x),!0);this.ef.lagl.q([Math.atan2(x,-M)*180/Math.PI],!0)}};i2.prototype.iY=function(W,q,X,k,B){this.D6=null};
i2.prototype.akt=function(){for(var N=0;N<this.Bv.length;N++){I.gI(this.Bv[N],"selected");if(this.Cj[N]instanceof h$)this.Cj[N].q(!1)}};
i2.prototype.aGe=function(W){var q=this.az8.bind(this);for(var N=0;N<this.Cj.length;N++){var X=I.a("div","listitem");
this.Bv.push(X);if(N>0)X.textContent="\u2003";X.appendChild(this.Cj[N].K);if(kE.aya.indexOf(this.FW)!=-1){var k=new iC("+");
k.ju();k.K.style.float="right";X.appendChild(k.K);var B=new iC("\u2B0D");B.ju();B.K.style.float="right";
B.K.style["margin-right"]="2px";X.appendChild(B.K)}X.addEventListener("click",q,!1);W.appendChild(X)}};
i2.fG=function(W,q){var X=q.getBoundingClientRect();return(W.clientY-X.top)/X.height};i2.prototype.az8=function(W){var q=W.target.tagName.toLowerCase();
if(q=="input"){return}if(q=="button"){var X=new ip(S.E.O,!0),k=W.target.textContent=="+",B=k?0:i2.fG(W,W.target)<.5?-1:1;
if(k)X.data={R:"st_dupsingle",B:this.parent.data.B,SE:this.uL};else X.data={R:"st_movsingle",B:this.parent.data.B,SE:this.uL,aDt:B};
X.J=_.Rd;X.wV=!0;this.T(X);X=new ip("redrawall",!0);X.data={aDt:B};this.T(X);return}I.hk(W);this.aa();
this._1=this.Bv.indexOf(W.currentTarget);this.T(new ip("showme"))};i2.prototype.aa=function(){if(this.ef.enab&&this.ef.enab.V()==!1)this.Pk({kG:"enab",_:!0})};
i2.prototype.aFa=function(){var W=this.Bv[this._1];if(W)I.Wx(W,"selected");return this.ra[this._1]};
i2.prototype.a5s=function(W){var q={};for(var N=0;N<W.length;N++){var X=W[N],k=null;if(X=="----")k={K:I.a("hr")};
if(X=="\n")k={K:I.a("br")};if(X=="blOptions")k=new j1([14,10]);if(X=="brst")k=new fa([12,72],["R","G","B"]);
if(X=="knko")k=new cL("Knockout",[[13,1,0],"Shallow","Deep"]);if(X=="enab")k=new h$(kE.names[kE.order.indexOf(this.FW)]);
if(X=="lrMd"||X=="Md")k=new cL([12,19,0],jm.Y7,jm._i);if(X=="Opct")k=this.VK?new al([12,0],0,100,"%"):new dM([12,0],0,100,"%");
if(X=="iOpa")k=new dM([12,26],0,100,"%");if(X=="blIf")k=new fz;if(X=="ShdN")k=new dM([12,68],0,100,"%");
var B=this.FW=="St3D"&&X=="lagl";if(X=="lagl"||X=="Angl")k=new fT(B?"Light":[12,15],this.FW=="ebbl"||B);
if(X=="uglg")k=new h$([12,27]);if(X=="Dstn")k=new dM([12,28],0,200,"px");if(X=="Ckmt")k=new dM([12,29],0,100,"%");
if(X=="Srnk")k=new dM("Shrink",0,100,"%");if(X=="Drkn")k=new dM("Darken",0,100,"%");if(X=="blur")k=new dM([12,14,0],0,200,"px");
if(X=="TrnS"||X=="MpgS")k=new ix([12,21]);if(X=="Nose")k=new dM([12,30],0,100,"%");if(X=="layerConceals")k=new h$([12,31]);
if(X=="Cntn")k=new h$([12,25,4]);if(X=="AntA"||X=="antialiasGloss")k=new h$([12,25,1]);if(X=="GlwT")k=new cL([12,32],kE.FF.names);
if(X=="glwS")k=new cL([12,70],kE.FF.auL);if(X=="Inpr")k=new dM([12,12],1,100,"%");if(X=="bvlS")k=new cL([12,22],kE.D5.style);
if(X=="bvlT")k=new cL([12,32],kE.D5.agX);if(X=="bvlD")k=new cL(null,kE.D5.dir);if(X=="srgR")k=new dM([12,34],0,1e3,"%");
if(X=="Sftn")k=new dM([12,35],0,20,"px");if(X=="Lald")k=q.lagl;if(X=="hglM"||X=="sdwM")k=new cL([12,36],jm.Y7,jm._i);
if(X=="hglC"||X=="sdwC")k=new dT;if(X=="hglO"||X=="sdwO")k=new dM([12,0],0,100,"%");if(X=="Invr"||X=="InvT")k=new h$([4,11]);
if(X=="overprint")k=new h$("Overprint");if(X=="Sz")k=new dM([12,14,0],1,200,"px");if(X=="Styl")k=new cL([12,40],kE.stroke.names);
if(X=="PntT")k=new cL([12,66],kE.stroke.aLa);if(X=="Clr")k=new dT(!0);if(X=="Grad"){k=new aQ(!0,this.VK?null:[12,37],!0);
k.q(JSON.parse(kE.oo.adg).v)}if(X=="Rvrs")k=new h$([12,23,0]);if(X=="Dthr")k=new h$([12,23,3]);if(X=="Type")k=new cL(this.VK?null:[12,22],kE.ov.names.slice(0,this.FW=="FrFX"?6:5));
if(X=="Ptrn")k=new a6([12,62]);if(X=="Scl")k=new dM([12,38],5,500,"%",0,!0);if(X=="Algn")k=new h$([12,39]);
if(X=="Ofst")k=new aw(!0);if(X=="phase")k=new aw(!1);if(X=="useShape")k=new h$([12,21]);if(X=="useTexture")k=new h$([12,67]);
if(X=="textureDepth")k=new dM([12,34],-300,300,"%");var U=X=="----"||X=="\n"?X+N:X;if(k!=null)q[U]=k}return q};
i2.prototype.aDF=function(W){var q=this.ra[this._1];for(var N=0;N<W.length;N++){var X=this.ef[W[N]];
if(X&&q.contains(X.K))q.removeChild(X.K)}};i2.prototype.a91=function(W){var q=this.ra[this._1];for(var N=0;
N<W.length;N++){var X=this.ef[W[N]];if(X&&!q.contains(X.K))q.appendChild(X.K)}};i2.prototype.QL=function(W,q){if(this.ef==null)return;
var X=q==aI.NC;if(this.ef.Grad){this.ef.Grad._Q(W.w5,W.yY);if(X||q==aI.Z$||q==aI.Zp)this.ef.Grad.mX(W.xF)}if(this.ef.Ptrn){if(X||q==aI.dE)this.ef.Ptrn.mX(W.Ix)}if(this.ef.TrnS){if(X||q==aI.Le)this.ef.TrnS.mX(W.bS)}if(this.ef.MpgS){if(X||q==aI.Le)this.ef.MpgS.mX(W.bS)}};
i2.prototype.l=function(){for(var N=0;N<this.aHA.length;N++)this.aHA[N].l();for(var W in this.ef)if(this.ef[W]instanceof gH)this.ef[W].l()};
i2.prototype.Fs=function(){for(var W in this.ef){var q=this.ef[W];q.parent=this;if(q instanceof gH)q.Q(S.E.k,this.abM,this);
if(this.ra.length==0||W=="useShape"||W=="useTexture"){var X=new j1(q.ac9()),k=I.a("div","bordered padded");
if(this.VK==!1){k.appendChild(X.K);k.appendChild(I.a("hr",""))}this.aHA.push(X);this.ra.push(k);this.Cj.push(q)}else this.ra[this.ra.length-1].appendChild(q.K)}};
i2.prototype.update=function(W,q){if(this.ef==null)return;this.pa=g.N(q);for(var X in q){if("Opct iOpa hglO sdwO Dstn Ckmt Srnk Drkn blur Nose Scl Sz Inpr srgR Sftn textureDepth ShdN".split(" ").indexOf(X)!=-1)this.ef[X].q(q[X].v.val);
if("enab brst knko Clr hglC sdwC uglg Grad TrnS MpgS Rvrs Dthr Algn Invr InvT overprint Ptrn layerConceals Cntn useShape useTexture Ofst phase blIf".split(" ").indexOf(X)!=-1){this.ef[X].q(q[X].v,W)}if(["Md","hglM","sdwM"].indexOf(X)!=-1)this.ef[X].q(jm.FW.indexOf(q[X].v.BlnM));
if(X=="lrMd"){var k=(q.isFolder?[[15,10,27]]:[]).concat(jm.Y7),B=(q.isFolder?[1]:[]).concat(jm._i);this.ef[X].oj(k,B);
this.ef[X].q(q[X].v)}if(X=="Angl")this.ef[X].q([q[X].v.val]);if(X=="lagl"){var U=q.uglg&&q.uglg.v?W.Fi():q.lagl.v.val;
this.ef[X].q([U])}if(X=="Lald"){var U=q.uglg&&q.uglg.v?W.lK():q.Lald.v.val;this.ef[X].q([null,U])}if(X=="Type")this.ef[X].q(kE.ov.types.indexOf(q.Type.v.GrdT));
if(X=="Styl")this.ef[X].q(kE.stroke.types.indexOf(q.Styl.v.FStl));if(X=="PntT"){var l=kE.stroke.$F.indexOf(q.PntT.v.FrFl);
this.ef[X].q(l);if(!this.VK){this.aDF(kE.nV.concat(kE.N2.concat(kE.W0)));this.a91([kE.nV,kE.N2,kE.W0][l])}}if(X=="GlwT")this.ef[X].q(kE.FF.types.indexOf(q.GlwT.v.BETE));
if(X=="glwS")this.ef[X].q(kE.FF.aC1.indexOf(q.glwS.v.IGSr));if(X=="bvlS")this.ef[X].q(kE.D5.types.indexOf(q.bvlS.v.BESl));
if(X=="bvlT")this.ef[X].q(kE.D5.afL.indexOf(q.bvlT.v.bvlT));if(X=="bvlD")this.ef[X].q(["In","Out"].indexOf(q.bvlD.v.BESs))}};
i2.prototype.abM=function(W){for(var q in this.ef){if(this.ef[q]!=W.target)continue;var X=null,k=!1;
if("Opct iOpa Srnk Drkn hglO Nose Scl sdwO Inpr srgR textureDepth ShdN".split(" ").indexOf(q)!=-1)X={type:"#Prc",val:W.target.V()};
if(["Dstn","Ckmt","blur","Sz","Sftn"].indexOf(q)!=-1)X={type:"#Pxl",val:W.target.V()};if(["Angl","lagl"].indexOf(q)!=-1)X={type:"#Ang",val:W.target.V()[0]};
if("enab brst knko Clr hglC sdwC Grad TrnS MpgS Rvrs Dthr Algn Invr InvT overprint Ptrn layerConceals Cntn lrMd useShape useTexture AntA antialiasGloss Ofst phase blIf".split(" ").indexOf(q)!=-1)X=W.target.V();
if(["Md","hglM","sdwM"].indexOf(q)!=-1)X={BlnM:jm.FW[W.target.V()]};if(q=="uglg"){X=W.target.V();k=!0}if(q=="PntT"){X={FrFl:kE.stroke.$F[W.target.V()]};
k=!0}if(q=="Lald")X={type:"#Ang",val:W.target.V()[1]};if(q=="Type")X={GrdT:kE.ov.types[W.target.V()]};
if(q=="Styl")X={FStl:kE.stroke.types[W.target.V()]};if(q=="GlwT")X={BETE:kE.FF.types[W.target.V()]};
if(q=="glwS")X={IGSr:kE.FF.aC1[W.target.V()]};if(q=="bvlS")X={BESl:kE.D5.types[W.target.V()]};if(q=="bvlT")X={bvlT:kE.D5.afL[W.target.V()]};
if(q=="bvlD")X={BESs:["In","Out"][W.target.V()]};this.Pk({kG:q,_:X});if(k){if(this.VK)this.update(null,this.pa);
else{var B=this.parent,U=B.LV,l=this.uL,K=U.U[B.data.B].add.lmfx[kE.m1[l[0]]].v[l[1]].v;this.update(U,K)}}}};
i2.prototype.Pk=function(W){if(this.pa&&this.pa[W.kG])this.pa[W.kG].v=W._;if(this.VK){this.T(new ip(S.E.k))}else{W.R="changeprop";
W.B=this.parent.data.B;W.bT=this.uL;var q=new ip(S.E.O,!0);q.data=W;q.J=_.Rd;q.wV=!0;this.T(q);this.T(new ip("afterchange",!0))}};
i2.prototype.V=function(){return g.N(this.pa)};i2.Bv={bops:"blOptions lrMd Opct ---- iOpa brst ---- blIf".split(" "),DrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose layerConceals Cntn".split(" "),St3D:"enab Md Clr Opct Angl Dstn Srnk ---- lagl Lald uglg Drkn".split(" "),IrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose".split(" "),OrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","Ckmt","blur","TrnS","Inpr","ShdN"],IrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","glwS","Ckmt","blur","TrnS","Inpr","ShdN"],ebbl:["enab","bvlS","bvlT","bvlD","srgR","blur","Sftn","----","lagl","Lald","uglg","TrnS","\n","hglM","hglC","hglO","sdwM","sdwC","sdwO","useShape","MpgS","Inpr","useTexture","Ptrn","Scl","textureDepth","InvT","Algn","phase"],SoFi:["enab","Md","Opct"].concat(kE.nV),GrFl:["enab","Md","Opct"].concat(kE.N2),patternFill:["enab","Md","Opct"].concat(kE.W0),ChFX:"enab Md Clr Opct lagl Dstn blur MpgS Invr".split(" "),FrFX:["enab","Sz","Styl","\n","Md","Opct","overprint","\n","PntT","\n"].concat(kE.nV.concat(kE.N2.concat(kE.W0)))};
function bP(){bn.call(this,[11,6],"layerstyle");this.avL=-1;this.data={};this.LV=null;this.e=null;this.v3=[];
this.cp=[];I.Wx(this.body,"flexrow");this.Gv=I.a("div","bordered");I.w(this.Gv,"min-width:13em;");this.body.appendChild(this.Gv);
this.fi=I.a("div","");I.w(this.fi,"width:25em; padding-left: 1em;");this.body.appendChild(this.fi);this.ZS=I.a("div","form");
I.w(this.ZS,"padding-left: 1em; width:7em;");this.body.appendChild(this.ZS);this.GL=I.eb(this,this.ZS);
this.aJv=new iC([12,87],!0,null,!0);this.aJv.Q("click",this.aJ5,this);this.ZS.appendChild(this.aJv.K);
this.fV=new en;this.fV.parent=this;this.fV.Q(S.E.k,this.aki,this);this.ZS.appendChild(this.fV.K);this.Q("closebtn",this.UO,this);
this.Q("redrawall",this.azF,this)}bP.prototype=new bn;bP.prototype.mf=function(){return!0};bP.prototype.U4=function(){return!0};
bP.prototype.mc=function(W,q,X,k,B){var U=this.DW();if(U)U.mc(W,q,X,k,B)};bP.prototype.lG=function(W,q,X,k,B){var U=this.DW();
if(U)U.lG(W,q,X,k,B)};bP.prototype.iY=function(W,q,X,k,B){var U=this.DW();if(U)U.iY(W,q,X,k,B)};bP.prototype.DW=function(W){if(W==null)W=this.data.index;
return W==null?null:W==0?this.v3[0]:this.cp[W[0]][W[1]]};bP.prototype.aki=function(W){var q=this.fV.V();
this.Pk({R:"setstl",_:q.NF});this.azF(null)};bP.prototype.aJ5=function(W){var q=this.LV,X=this.data.B;
if(X==null)X=q.Y[0];var k=this.LV.U[X],B=dx.a4v(k),U=new ip(S.E.H,!0);U.data={R:S.m.Dt,m8:"add",rl:aI.d9,ij:[g.N(B)]};
this.T(U)};bP.prototype.aHJ=function(W){this.data.index=W.currentTarget.uL;this.LU(W.currentTarget.uL)};
bP.prototype.azF=function(W){this.V9(this.LV,this.data)};bP.prototype.LU=function(W,q){I.ru(this.fi);
for(var N=0;N<this.v3.length;N++)this.v3[N].akt();var X=this.DW(W);this.fi.appendChild(X.aFa());if(q)X.aa();
var k=this.LV;if(k){var B=k.U[this.data.B];this.v3[0].update(k,_.Fx.K5(k,B));var U=B.add.lmfx;if(U==null)return;
for(var N=0;N<kE.order.length;N++){var l=U[kE.m1[N]].v;for(var K=0;K<l.length;K++)this.cp[N][K].update(k,l[K].v)}}if(q)X.aa()};
bP.prototype.l=function(){bn.prototype.l.call(this);this.aJv.l();this.fV.l();this.GL.l();for(var N=0;
N<this.v3.length;N++)this.v3[N].l()};bP.prototype.V9=function(W,q){var X=q.B==null;this.data.B=q.B;this.data.index=q.index;
q=this.data;this.LV=W;if(X)q.B=W.Y.length==0?W.U.length-1:W.Y[0];I.ru(this.Gv);var k=W.U[q.B].add.lmfx;
this.t2();this.v3=[new i2("bops",!1,0)];this.cp=[];for(var N=0;N<kE.order.length;N++){this.cp.push([]);
var B=k==null?[]:k[kE.m1[N]].v;for(var U=0;U<B.length;U++){var l=new i2(kE.order[N],!1,[N,U]);this.v3.push(l);
this.cp[N].push(l)}if(B.length==0){var l=new i2(kE.order[N],!1,[N,0]);this.v3.push(l);this.cp[N].push(l)}}this.l();
this.arS(this.e,aI.NC);for(var N=0;N<this.v3.length;N++){this.v3[N].parent=this;this.v3[N].aGe(this.Gv);
this.v3[N].Q("showme",this.aHJ,this)}if(q.index==null||q.index==0||!X&&k[kE.m1[q.index[0]]].v.length==0){this.LU(0)}else this.LU(q.index,X);
this.Q("afterchange",this.t2,this)};bP.prototype.t2=function(W){var q=this.LV,X=this.data.B;if(X==null)X=q.Y[0];
var k=this.LV.U[X],B=dx.a4v(k);this.fV.q(B,q.add.Patt?q.add.Patt:[],q.Fi(),q.lK())};bP.prototype.QL=function(W,q){this.e=W;
this.arS(W,q);if(q==aI.d9||q==aI.NC){this.fV.mX([W.sg,W.Ix])}if(q==aI.EV){}};bP.prototype.arS=function(W,q){for(var N=0;
N<this.v3.length;N++)this.v3[N].QL(W,q)};bP.prototype.UO=function(W){this.Pk({R:"cancel"})};bP.prototype.qI=function(W){this.Pk({R:"confirm"});
this.close()};bP.prototype.Pk=function(W){W.B=this.data.B;var q=new ip(S.E.O,!0);q.data=W;q.J=_.Rd;q.wV=!0;
this.T(q);this.t2()};bP.azG=function(){var W=function(q){if(q==null||q.Y.length==0)return{i:!1};var X=q.U[q.Y[0]];
return{i:X.add.lmfx!=null}};return{name:[11,6],nC:!0,sub:[{name:[5,1],i:W},{name:[5,2]},{name:[2,2],i:W}]}};
bP.a3I=function(){return{sub:[{s:S.E.O,J:_.Rd,p:{R:"st_copy"}},{s:S.E.O,J:_.Rd,p:{R:"st_paste"}},{s:S.E.O,J:_.Rd,p:{R:"st_clear"}}]}};
bP.Vx=function(W){var q=[{name:[14,10],nC:!0}];for(var N=0;N<kE.names.length;N++)q.push({name:kE.names[N]});
if(W){q[q.length-1].nC=!0;q.push(bP.azG());q.push({name:[6,30,1],i:function(X){return{i:X!=null&&X.Y.length!=0&&X.U[X.Y[0]].aK()}}});
q.push({name:["VAR0 VAR1",[12,49],[9,1]],i:function(X){return{i:X!=null&&X.Y.length!=0&&X.U[X.Y[0]].add.lmfx!=null}}})}return q};
bP.Af=function(W){var q=[{s:S.E.H,p:{R:S.m.K_,ud:"layerstyle"}}];for(var N=0;N<kE.names.length;N++)q.push({s:S.E.H,p:{R:S.m.K_,ud:"layerstyle",index:[N,0]}});
if(W){q.push(bP.a3I());q.push({s:S.E.H,p:{R:S.m.K_,ud:"scaleeffects",bG:100,Ii:{s:S.E.O,J:_.Rd,p:{R:"scaleeffects"}}}});
var X={classID:"Mk",null:j0.O8("Lyr"),Usng:{t:"obj ",v:[{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]}};
q.push({s:S.E.dq,p:{yx:"make",Og:X}})}return q};bP.aB9=function(W){var q=[];if(W)q.push({name:[6,48,0,0],r8:!0},{name:[6,48,0,1],r8:!0},{name:[6,48,0,2],r8:!0,nC:!0});
for(var X in dZ.names)q.push({name:dZ.names[X],nC:dZ.ad8.indexOf(X)!=-1,r8:kf[X]!=null});return q};bP.j0=function(W){var q=[];
if(W){q.push({s:S.E.O,J:_.FE,p:{R:"newfill",R7:0}});for(var N=1;N<3;N++)q.push({s:S.E.dq,p:_.Wp.u$(N)})}for(var X in dZ.names){var k=dY.wy(X);
if(k==null)k={};for(var B in dZ.Hd)if(dZ.Hd[B]==X)k.classID=B;var U={yx:"make",Og:{classID:"Mk",null:j0.O8("AdjL"),Usng:{t:"Objc",v:{classID:"AdjL",Type:{t:"Objc",v:k}}}}};
q.push({s:S.E.dq,p:U})}return q};function ja(){bn.call(this,"Merge Channels","mergechannels");this.Bx=null;
var W=I.a("div","form");this.body.appendChild(W);this.W5=[];for(var N=0;N<3;N++){var q=new cL(dZ.fx[N],[]);
this.W5.push(q);W.appendChild(q.K);I.zR(W)}this.GL=I.eb(this,W)}ja.prototype=new bn;ja.prototype.l=function(){bn.prototype.l.call(this);
this.GL.l();for(var N=0;N<3;N++)this.W5[N].l()};ja.prototype.V9=function(W,q,X,k){this.Bx=X;var B=[];
for(var N=0;N<X.length;N++)B.push(X[N].name);for(var N=0;N<3;N++){var U=this.W5[N];U.oj(B);U.q(Math.min(N,X.length-1))}};
ja.prototype.qI=function(W){var q=this.Bx,X=q[0],k=new ip(S.E.dq,!0);k.data=ey.z3(X.r,X.$,X.mC,"Merged Document","Wht",!1);
this.T(k);var B=[];for(var N=0;N<3;N++)B.push(q[this.W5[N].V()].OL());var X=q[q.length-1],U=X.U[0],l=U.buffer;
for(var N=0;N<l.length;N+=4){l[N]=B[0][N];l[N+1]=B[1][N];l[N+2]=B[2][N]}U.I_();X.I_();this.close()};
function cJ(){bn.call(this,[1,10],"script");var W=I.a("div","form");I.w(W,"width:44em");this.body.appendChild(W);
this.e=null;this.$v=[];this.zZ=[];this.a8e;var q=this.qv=new iC([1,2],!1,null,!0);q.Q("click",this.Ic,this);
W.appendChild(q.K);var X=new iC("JS Reference",!1,null,!0);X.Q("click",this.a8_,this);W.appendChild(X.K);
W.appendChild(new j1("Demos:").K);this.aK1=[];var k=cJ.us;for(var N=0;N<k.length;N++){var B=new iC(k[N].J6,!1,null,!0);
this.aK1.push(B);W.appendChild(B.K);B.Q("click",this.a1H,this)}this.bA=I.a("textarea");I.Ch(this.bA);
this.bA.setAttribute("rows",16);I.w(this.bA,"display:block;tab-size:4; font-family:monospace;width:100%;");
W.appendChild(this.bA);var U=new iC("Run",!0,null,!0);U.Q("click",this.qI,this);W.appendChild(U.K);this.w0=I.a("div");
W.appendChild(this.w0)}cJ.prototype=new bn;cJ.prototype.l=function(){this.qv.l()};cJ.prototype.Ic=function(){var W=this.a8e;
if(W==null)W="script.jsx";var q=new ip(S.E.H,!0);q.data={R:S.m.K_,ud:"namewindow",bG:W.slice(0,W.length-4),tO:this.aKh.bind(this)};
this.T(q)};cJ.prototype.aKh=function(W){var q=this.bA.value,X=Z.hP(q),k=new ip(S.E.H,!0);k.data={R:S.m.RO,MR:X.buffer,em:W+".jsx",avB:!0};
this.T(k)};cJ.prototype.aiP=function(W){var N=this.$v.indexOf(W.target),q=this.a8e=this.zZ[N],X=this.e.Js.D9[q],k=new Uint8Array(X),B=Z._o(k,0,k.length);
this.bA.value=B};cJ.prototype.V9=function(W,q,X){this.bA.value=cJ.us[0].Dg;this.abI()};cJ.prototype.abI=function(){var W=this.e.Js,q=this.w0;
I.ru(q);this.$v=[];this.zZ=[];q.textContent="Saved scripts: ";for(var X in W.D9){if(X.endsWith(".jsx")){var k=new iC(X,!1,null,!0);
this.$v.push(k);this.zZ.push(X);k.Q("click",this.aiP,this);q.appendChild(k.K)}}};cJ.prototype.QL=function(W,q){this.e=W;
if(q==aI.Mw)this.abI()};cJ.prototype.a8_=function(W){var q=new ip(S.E.H,!0);q.data={R:S.m.p4,link:"https://github.com/Adobe-CEP/CEP-Resources/blob/master/Documentation/Product%20specific%20Documentation/Photoshop%20Scripting/photoshop-javascript-ref-2020.pdf"};
this.T(q)};cJ.prototype.qI=function(W){var q=this.bA.value,X=this.e.Js.D9;q=cJ.ad1(q,X);var k=new ip(S.E.H,!0);
k.data={R:S.m.qS,eg:q};this.T(k)};cJ.ad1=function(W,q){var X=W.split("\n");for(var N=0;N<X.length;N++){var k=X[N].trim();
if(k.startsWith("#include")){var B=k.slice(k.indexOf("\"")+1,k.lastIndexOf("\"")),U=q[B];if(U==null)alert("\""+B+"\" not found in the Local Storage");
X[N]=cJ.ad1(Z._o(new Uint8Array(U)),q)}}return X.join("\n")};cJ.prototype.a1H=function(W){var q=this.aK1.indexOf(W.currentTarget);
this.bA.value=cJ.us[q].Dg};cJ.us=[{J6:"Hello",Dg:"\nalert(\"Hello Photopea!\");\n"},{J6:"Process Layers",Dg:"\nvar lays = app.activeDocument.layers;\n\nfor(var i=0; i<lays.length; i++)\n{\n"+"\t//lays[i].visible = false;\n"+"\t//lays[i].opacity = 50;\n"+"\tlays[i].name = \"My Layer \"+i;\n}"},{J6:"Clone Layers",Dg:"\nvar orig = app.activeDocument.activeLayer;\n"+"var cnt = 12;\n"+"var angle = Math.floor(360 / cnt);\n"+"\n"+"for(var i=1; i<cnt; i++)\n"+"{\n"+"\tvar nlay = orig.duplicate();\n"+"\t//nlay.translate(30*i, 20*i);\n"+"\tnlay.rotate(angle * i, AnchorPosition.BOTTOMCENTER);\n"+"}"}];
function aW(){bn.call(this,[11,7],"newproject");this.data=null;this.Bx=null;this.qY=0;var W=this.hl=I.a("div","flexrow");
this.body.appendChild(W);var q=this.oD=I.a("div","form");W.appendChild(q);this.ck=new kD([12,48],null,10);
q.appendChild(this.ck.K);I.zR(q);this.w_=new l2(!0,null,null,null,!0);this.w_.q(new hw(1280,720),72);
if(cC==1){this.w_.q(new hw(8.3*300,11.7*300),300);this.w_.IF(4)}this.w_.adj(!0,!0);this.w_.Q(S.E.k,this.fh,this);
q.appendChild(this.w_.K);this.TW=new k$;this.TW.parent=this;if(cC==0){I.zR(q);q.appendChild(this.TW.K)}this.Nq=new cL([13,6],ey.ki);
this.r_=new cL(null,["8 bit","16 bit","32 bit"]);this.aHC=new h$([1,16,1]);if(cC==0){q.appendChild(this.aHC.K);
I.zR(q);q.appendChild(this.Nq.K);q.appendChild(this.r_.K)}this.ck.Q6();this.w_.Q6();this.TW.Q6();this.Nq.Q6();
this.r_.Q6();this.GL=new iC([12,49],!0,null,!0);this.GL.Q("click",this.qI,this);this.GL.K.style.marginBottom="20px";
q.appendChild(this.GL.K);var X=this.Zq=I.a("div","form");q.appendChild(this.Zq);var k=aW.Ji,B=[];for(var N=0;
N<k.length;N++)B.push(k[N].name);this.Pp=new i3(null,B);this.Pp.Q(S.E.k,this.zz,this);X.appendChild(this.Pp.K);
this.WQ=new eX(!0);this.WQ.Q(S.E.k,this.auA,this);X.appendChild(this.WQ.K);this.zz();this.TF=new c6;
this.TF.parent=this;I.w(this.TF.K,"margin-right:20px");this.TF.Q("tempready",this.aCA,this);this.Gb=this.Zq;
this.aqM=new iC([25,0],null,null,!0);this.aqM.Q("click",function(){var U;if(this.Gb==this.Zq){this.Gb=this.TF.K;
U=[11,10]}else{this.Gb=this.Zq;U=[25,0]}this.aqM.tB(U);this.qL(this.Ah,this.QB-.001)},this)}aW.prototype=new bn;
aW.prototype.a6z=function(W){var q=this.E7,X=q.style.display!="none";q.style.display=X?"none":"";this.r2.tB(X?"\u02C5":"\u02C4");
this.qL(this.Ah,this.QB-.001)};aW.prototype.QL=function(W,q){this.TF.QL(W)};aW.prototype.zs=function(W,q){return new hw(Math.max(0,Math.min(70,(W-690)/2)),W>q?Math.max(0,Math.min(50,(q-400)/2)):0)};
aW.prototype.qL=function(W,q){if(this.Ah==W&&this.QB==q)return;this.Ah=W;this.QB=q;var X=this.hl,k=this.Zq,B=this.TF.K,U=this.oD,l=330,K=500;
I.ru(X);if(k.parentNode)k.parentNode.removeChild(k);if(B.parentNode)B.parentNode.removeChild(B);this.WQ.K.style.height=q-54-(W<730?30:0)+"px";
k.style.marginRight="20px";var D=this.aqM.K;if(1100<W){K=(W-l)/2-32;X.appendChild(this.TF.K);this.TF.qL(K,q-28);
X.appendChild(k);X.appendChild(this.oD)}else if(520<W){if(W<750)l=280;K=W-l-44;X.appendChild(this.Gb);
X.appendChild(D);I.w(D,"position:fixed; right:"+(l+40)+"px; bottom:20px;");X.appendChild(this.oD);if(this.Gb==B)this.TF.qL(K,q-27)}else{l=W-26;
K=l;k.style.marginRight="";U.appendChild(this.Gb);U.appendChild(D);I.w(D,"position:fixed; right:16px; bottom:20px;");
X.appendChild(this.oD);var m=q-412+(cC==0?0:120);this.WQ.K.style.height=m+"px";if(this.Gb==B)this.TF.qL(K,m+27)}I.w(U,"width:"+l+"px; line-height:3em;");
k.style.width=K+"px";this.zz(null,K)};aW.prototype.fh=function(){this.TF.q(this.w_.V())};aW.prototype.auA=function(W){var q=this.WQ.V()[0],X=aW.Ji[this.Pp.V()].al[q],k=X[4];
if(k==0)k=72;var B=X[1],U=X[2],l=["px","%","mm","in"].indexOf(X[3]),K=[1,1,25.4/k,1/k][l];B/=K;U/=K;
this.w_.q(new hw(Math.round(B),Math.round(U)),k);this.w_.IF(l);this.fh();if(Date.now()-this.qY<300)this.qI();
else gv.event("ndoc_Size click",.1);this.qY=Date.now()};aW.prototype.zz=function(W,q){if(q==null)q=this.aK8;
else this.aK8=q;if(q==null)return;var X=q<360?2:q<600?3:4,k=(q-5)/X-5,B=aW.Ji[this.Pp.V()].al,U=[],l=[],K=Math.floor(k*I.W$()),D=Math.floor(k*I.W$()),m=0;
for(var N=0;N<B.length;N++)m=Math.max(m,B[N][1],B[N][2]);for(var N=0;N<B.length;N++){var Y=B[N],a=Y[1]+" x "+Y[2]+" "+Y[3];
if(Y[3]=="in")a=(Y[1]*25.4).toFixed(0)+" x "+(Y[2]*25.4).toFixed(0)+" mm";if(Y[3]=="mm")a=(Y[1]/25.4).toFixed(1)+" x "+(Y[2]/25.4).toFixed(1)+" in";
if(Y[4])a=a+" @ "+Y[4]+" ppi";l.push(a);U.push(aW.K$(Y,K,D,m))}this.WQ.Zx(U,l,K,D)};aW.K$=function(W,q,X,k){var B=g.Nm(q,X),U=Math.round(q/8),l=Math.floor(13*I.W$()),K=W[1],D=W[2];
B.fillStyle="#000000";B.font=Math.round(l*.9)+"px \"Open Sans\", Sans-Serif";var m=K+" x "+D+" "+W[3],Y=B.measureText(m);
B.fillText(m,Math.round((q-Y.width)/2),X-Math.round(U/2));if(W[0]!=null){B.font="bold "+l+"px \"Open Sans\", Sans-Serif";
var m=W[0],Y=B.measureText(m);B.fillText(m,Math.round((q-Y.width)/2),X-Math.round(U/2)-Math.round(l*1.3))}var a=X-Math.round(2.5*l),p=Math.min((q-U)/K,(a-U)/D);
p*=.5+.5*(Math.max(K,D)/k);var M=(q-K*p)/2,x=(a-D*p)/2;B.strokeRect(Math.round(M)+.5,Math.round(x)+.5,Math.round(K*p),Math.round(D*p));
var R=B.getImageData(0,0,q,X).data;return lf.nn(R.buffer,q,X,null,null,!0)};aW.prototype.l=function(){bn.prototype.l.call(this);
this.w_.l();this.ck.l();this.TW.l();this.GL.l();this.ck.q(js.get([11,7]));this.Pp.l();this.Nq.l();this.r_.l();
this.aHC.l();this.TF.l()};aW.prototype.qI=function(W){gv.event("ndoc_Create click",.1);var q=this.w_.V(),X=q.x,k=q.y;
this.close();var B=this.TW.V(),U=ey.Tu[this.Nq.V()],l=new ip(S.E.dq,!0);l.data=ey.z3(X,k,this.w_.M0(),this.ck.V(),["Wht","Blck","Trns","Clr"][B[0]],this.aHC.V(),B[1],U,8<<this.r_.V());
this.T(l);this.aju()};aW.prototype.aCA=function(W){gv.event("ndoc_Template click",.1);var q=W.data.LV;
q.mC=this.w_.M0();var X=new ip(S.E.H,!0);X.data={R:S.m.Zk,LV:q};this.T(X);this.close();this.aju()};aW.prototype.aju=function(){var W=this.Bx[this.Bx.length-1],q=this.data.a7B;
if(q)cO.bo(function(){var X=new XMLHttpRequest,k="https://www.googleapis.com/drive/v3/files?"+cO.akG();
X.open("POST",k,!0);X.setRequestHeader("Content-Type","application/json");X.addEventListener("load",function(B){var U=JSON.parse(B.target.response);
W.Oi={file:U,b5:"psd"};alert(W.name+" created in Google Drive")});X.send(JSON.stringify({name:W.name,aIL:[q]}))})};
aW.prototype.V9=function(W,q,X,k){this.Bx=X;if(W!=null&&W.d!=null){var B=new dU(0,0,W.r,W.$).x$(W.d.S);
this.w_.q(new hw(B.r,B.$))}this.data=q;this.fh();if(I.p0())ch.a1S(this.pT.bind(this))};aW.prototype.pT=function(W){if(W=="granted")ch.Dn(this,this.Kg.bind(this))};
aW.prototype.Kg=function(W,q){this.w_.q(new hw(q.r,q.$))};aW.Ji=[{name:"Social",al:[["FB Page Cover",1640,664,"px",0],["FB Event Image",1920,1080,"px",0],["FB Group Header",1640,856,"px",0],["Instagram",1080,1080,"px",0],["Insta Story",1080,1920,"px",0],["Insta Portrait",1080,1350,"px",0],["Youtube Thumbnail",1280,720,"px",0],["Youtube Profile",800,800,"px",0],["Youtube Cover",2560,1440,"px",0],["Twitter Profile",400,400,"px",0],["Twitter Header",1500,500,"px",0]]},{name:[12,88,4],al:[["A3",297,420,"mm",300],["A4",210,297,"mm",300],["A5",148,210,"mm",300],["B3",353,500,"mm",300],["B4",250,353,"mm",300],["B5",176,250,"mm",300],["Letter",8.5,11,"in",300],["Ledger",11,17,"in",300],["Business Card",3.5,2,"in",300]]},{name:[12,88,0],al:[["Wallet",2,3,"in",300],["Enprint",3.5,5,"in",300],[null,5,7,"in",300],[null,8,12,"in",300],[null,12,18,"in",300],[null,16,24,"in",300],[null,20,30,"in",300],[null,24,36,"in",300]]},{name:[12,88,1],al:[["VGA",640,480,"px",0],["XGA",1024,768,"px",0],["HD",1280,720,"px",0],[null,1366,768,"px",0],[null,1600,900,"px",0],["Full HD",1920,1080,"px",0],["2K",2048,1080,"px",0],["UHD",3840,2160,"px",0],["4K",4096,2160,"px",0]]},{name:[12,88,2],al:[["iPhone 4",640,900,"px",326],["iPhone 5",640,1136,"px",326],["iPhone 6 7 8",750,1334,"px",326],["iPhone 6+ 7+ 8+",1080,1920,"px",401],["iPhone X",1125,2436,"px",458],["Samsung A5",720,1280,"px",0],["Samsung S5",1080,1920,"px",0],["Samsung S6",1440,2560,"px",0],["Samsung S8+",1440,2560,"px",0],["Google Pixel",1080,1920,"px",0],["iPad Mini 4",1536,2048,"px",0],["iPad Air 2",1536,2048,"px",0],["iPad Pro 9.7\"",1536,2048,"px",0],["iPad Pro 10.5\"",1668,2224,"px",0],["iPad Pro 12.9\"",2048,2732,"px",0]]},{name:[12,88,3],al:[["Small Square",200,200,"px",0],["Square",250,250,"px",0],["Medium Rect",300,250,"px",0],["Large Rect",336,280,"px",0],["Mobile Leaderboard",320,50,"px",0],["Large Mobile",320,100,"px",0],["Banner",468,60,"px",0],["Leaderboard",728,90,"px",0],["Large Leaderboard",970,90,"px",0],["Billboard",970,250,"px",0],["Vertical Rect",240,400,"px",0],["Skyscraper",120,600,"px",0],["Wide Skyscraper",160,600,"px",0],["Half Page",300,600,"px",0],["Portrait",300,1050,"px",0]]},{name:"2ᴺ",al:[[null,16,16,"px",0],[null,32,32,"px",0],[null,64,64,"px",0],[null,128,128,"px",0],[null,256,256,"px",0],[null,512,512,"px",0],[null,1024,1024,"px",0],[null,2048,2048,"px",0],[null,4096,4096,"px",0]]}];
function jB(W,q,X){bn.call(this,q,"sel_"+W);this.R=W;var k=I.a("div","form");this.body.appendChild(k);
this.ck=new al(q,0,255,null,0,!1,!0);k.appendChild(this.ck.K);this.ck.q(1);this.ck.Q(S.E.k,this.Bp,this);
var B=I.a("span");B.textContent=X;k.appendChild(B);I.zR(k);this.aof=new h$("Apply at canvas bounds");
if(W!="border")k.appendChild(this.aof.K);this.GL=I.eb(this,k);this.Q("closebtn",this.m0,this)}jB.prototype=new bn;
jB.prototype.C$=function(W,q){if(W==null)return;if(W.d==null)alert("No selection!");return W.d!=null};
jB.prototype.m0=function(){var W=new ip(S.E.O,!0);W.J=_.Yo;W.data={R:"h_undoredo"};this.T(W)};jB.prototype.Bp=function(W,q,X){if(q==null)this.m0();
var k=new ip(S.E.dq,!0);k.data=_.lR.AF(this.R,this.ck.V(),this.aof.V());k.wV=!0;if(X!=!0)k.data.aeU=!0;
this.T(k)};jB.prototype.qI=function(W){this.Bp(null,null,!0);this.close()};jB.prototype.l=function(){bn.prototype.l.call(this);
this.GL.l();if(this.ck)this.ck.l()};jB.prototype.V9=function(W,q){this.ck.DZ();this.Bp(null,!0)};function i4(W,q,X,k,B,U){bn.call(this,X,q);
this.anZ=U;this.bx=B;this.Ji=null;this.oD=I.a("div","form");this.body.appendChild(this.oD);this.apF=I.a("div");
this.oD.appendChild(this.apF);var l=500;if(k){var K=k.split(",");k=K[0];if(K[1])l=parseFloat(K[1])}this.ck=W==0?new kD(X,null,10):W==1?new dM(X,0,l,k,1):new kD(X,null,24,5);
this.ck.Q(S.E.k,this.Bp,this);this.oD.appendChild(this.ck.K);this.GL=I.eb(this,this.oD);this.Q("closebtn",this.UO,this)}i4.prototype=new bn;
i4.prototype.zs=function(W,q){return new hw(Math.max(0,Math.min(150,(W-250)/2)),Math.max(0,Math.min(150,(q-120)/2)))};
i4.prototype.mf=function(){return this.anZ};i4.prototype.Bp=function(W){var q=this.ck.V();if(this.bx)this.Lx(q)};
i4.prototype.UO=function(W){if(this.bx)this.Lx("cancel")};i4.prototype.qI=function(W){if(this.bx)this.Lx("confirm");
else this.Lx(this.ck.V());this.close()};i4.prototype.Lx=function(W){if(this.Ji.tO)this.Ji.tO(W);else if(this.Ji.Ii){var q=this.Ji.Ii,X=new ip(q.s,!0);
X.J=q.J;X.data=q.p;X.data._=W;X.wV=!0;this.T(X)}};i4.prototype.l=function(){bn.prototype.l.call(this);
this.GL.l();if(this.ck)this.ck.l()};i4.prototype.V9=function(W,q){this.Ji=q;this.ck.q(q.bG);this.ck.DZ();
this.apF.innerHTML=q.asq?q.asq:"";this.Bp(null)};function bA(){bn.call(this,[1,5],"open_from_url");this.m_=null;
var W=I.a("div","form");this.body.appendChild(W);this.aqJ=new kD("URL",null,22);W.appendChild(this.aqJ.K);
I.zR(W);this.aIM=new i3([21,0],[[21,2],[21,1]]);W.appendChild(this.aIM.K);this.GL=I.eb(this,W)}bA.prototype=new bn;
bA.prototype.l=function(){bn.prototype.l.call(this);this.GL.l();this.aIM.l()};bA.prototype.V9=function(W,q,X){this.aqJ.DZ();
this.m_=null;if(W&&X.indexOf(W)!=-1)this.m_=X.indexOf(W)};bA.prototype.qI=function(W){var q=new ip(S.E.H,!0),X=this.aqJ.V();
q.data={R:S.m.i3,rl:{url:X,a4Z:!0,m_:this.aIM.V()==1?this.m_:null}};this.T(q);this.close()};function cV(){bn.call(this,[12,79],"preferences");
this.e=null;var W=I.a("div","form");this.body.appendChild(W);this.Bv=[new h$([8,2]),new dT,new dT,new h$([8,4]),new dT,new cL([12,80,3],[[12,93,3],[12,80,4]]),new dM(["VAR0 X",[12,80,5]],.02,100,null,2),new cL(null,g.Qs.XW),new dM(["VAR0 Y",[12,80,5]],.02,100,null,2),new cL([12,80,6],g.Qs.XW),new h$("Zoom with Scroll Wheel"),new h$("Glass Menus"),new dM("Cursor Offset",0,200),new kD("Dezgo API Key")];
for(var N=0;N<this.Bv.length;N++){var q=this.Bv[N];q.parent=this;q.Q(S.E.k,this.Py,this);if(N==2){var X=new j1("Local guides:");
W.appendChild(X.K)}W.appendChild(q.K);if(N!=0&&N!=1&&N!=3&&N!=4&&N!=6)I.zR(W);if(N==9)I.Vc(W)}}cV.prototype=new bn;
cV.prototype.l=function(){bn.prototype.l.call(this);for(var N=0;N<this.Bv.length;N++)this.Bv[N].l()};
cV.prototype.V9=function(W,q,X){};cV.prototype.QL=function(W,q){this.e=W;var X=W.bm;this.Bv[0].q(X.UZ);
this.Bv[1].Ih(X.Dh);this.Bv[2].Ih(X.ou);this.Bv[3].q(X.cM);this.Bv[4].Ih(X.nI);this.Bv[5].q(X.$m);this.Bv[6].q(X.hY);
this.Bv[7].q(X.Kt);this.Bv[8].q(X.y4==0?X.hY:X.y4);this.Bv[9].q(X.vA);var k=window.locStor.getItem("__zwh");
this.Bv[10].q(k==1);var B=window.locStor.getItem("__glm");this.Bv[11].q(B=="1");this.Bv[12].q(W.vL);
var U=window.locStor.getItem("__dak");this.Bv[13].q(U?U:"")};cV.prototype.Py=function(W){var q=this.Bv,X=g.N(this.e.bm);
X.UZ=q[0].V();X.Dh=q[1].SQ();X.ou=q[2].SQ();X.cM=q[3].V();X.nI=q[4].SQ();X.$m=q[5].V();X.hY=q[6].V();
X.Kt=q[7].V();if(W.target==q[6]){q[8].q(q[6].V());X.y4=0}else X.y4=q[8].V();X.vA=q[9].V();var k=window.locStor;
k.setItem("__zwh",q[10].V()?"1":"0");k.setItem("__glm",q[11].V()?"1":"0");this.e.vL=q[12].V();var B=q[13].V();
if(B=="")k.removeItem("__dak");else k.setItem("__dak",B);var U=new ip(S.E.H,!0);U.data={R:S.m.Dt,rl:aI.VH,O4:X};
this.T(U)};function eb(){bn.call(this,[11,8],"saveforweb");this.amp="";this.Q("closebtn",function(){this.zH.h4()},this);
this.LV=null;this.GF=null;this.arp=null;this.e=null;I.Wx(this.body,"flexrow");this.body.style.padding="0";
var W=I.a("div");I.w(W,"position:relative;");var q=I.a("div");this.body.appendChild(W);this.body.appendChild(q);
this.Vk=I.a("div","imgcont");W.appendChild(this.Vk);this.zH=new bU;this.zH.qL(512,512);var X=this.SZ=I.a("video");
X.setAttribute("controls","");X.setAttribute("preload","auto");X.setAttribute("loop","");this.nO=I.a("div");
I.w(this.nO,"position:absolute;  right:0px; bottom:0px; padding: 3px 6px;  background-color:black;");
W.appendChild(this.nO);var k=this.oD=I.a("div","form cell");I.w(k,"width:195px; padding:9px 13px;");
q.appendChild(k);this._Z=new kD([12,48],null,7.6);this._Z.Q6();k.appendChild(this._Z.K);var B=lf.dT();
B[B.indexOf("WEBP")]="webP";this.jt=new cL([12,50],B);this.jt.K.style.marginRight="0";this.jt.Q6();k.appendChild(this.jt.K);
this.jt.Q(S.E.k,this.Jv,this);I.zR(k);this.w_=new l2(!0,!0,!1,!0);this.w_.Q6();this.w_.Q(S.E.k,this.Jv,this);
this.w_.jw.K.style.paddingBottom="8px";k.appendChild(this.w_.K);this.C4=new dp;this.C4.Q(S.E.k,this.Jv,this);
k.appendChild(this.C4.K);this.Nz=new iC([1,2],!1,null,!0);this.Nz.Q("click",this.qI,this);k.appendChild(this.Nz.K);
this.r2=new iC("...",!1,null,!0);this.r2.Q("click",this.qI,this);k.appendChild(this.r2.K)}eb.prototype=new bn;
eb.prototype.C$=function(W,q){return W!=null};eb.prototype.l=function(){bn.prototype.l.call(this);this.w_.l();
this._Z.l();this.jt.l();this.C4.l();this.Nz.l()};eb.prototype.qI=function(W){var q=this._Z.V().trim(),X=lf.dT()[this.jt.V()],k=X=="JPG"||X=="PNG"||X=="GIF"||X=="SVG"||X=="WEBP",B=lf.c_(X),U="."+X.toLowerCase(),l=this.GF,K=q+U,D=this.LV,m=D.Ev,Y=this.C4.V(),a=m.length!=0&&k?Y.slcs:0;
if(a!=0){var p=[],M={},x=new dU(0,0,D.r,D.$),R=g.Cn(D.OL(),8);for(var N=0;N<m.length;N++)p.push(_.r1.XE(m,N));
p.reverse();var y=g.S.azj([0,0,D.r,D.$],p),s=[];for(var N=0;N<y.length;N++){var F=y[N],E=new dU(F[0],F[1],F[2]-F[0],F[3]-F[1]),a1=""+(N+1);
if(a1.length<2)a1="0"+a1;a1=q+"_"+a1;if(F[4]!=null&&m[F[4]].v.Nm)a1=m[F[4]].v.Nm.v;var o="images/"+a1+U;
s.push(o);if(a==2&&F[4]==null)continue;var G=g.j(E.C()*4);g.YE(R,x,G,E);if(M[o]){alert("There are multiple slices with a name \""+a1+"\"");
return}M[o]=new Uint8Array(B._M([[G.buffer,0,D.mC,D.qq]],E.r,E.$,Y))}s.push("images/spacer.gif");var d="<html>\n<head>\n<title>"+q+"</title>\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\">\n</head>\n";
d+="<body bgcolor=\"#FFFFFF\" leftmargin=\"0\" topmargin=\"0\" marginwidth=\"0\" marginheight=\"0\">\n";
d+="<!-- Save for Web Slices ("+D.name+") -->\n";d+=g.S.a0J(y,s,m,a)+"\n";d+="<!-- End Save for Web Slices -->\n";
d+="</body>\n</html>\n";var u=g.j(Math.round(d.length*1.5)),r=Z.o9(d,u,0);M["index.html"]=u.slice(0,r);
l=UZIP.encode(M);K=q+".zip"}else if(D.ay7()&&k&&Y.artb){var v=[],x,R;if(cC==0){x=new dU(0,0,D.r,D.$);
R=g.Cn(D.OL(),8);var c=D.root.children;for(var N=0;N<c.length;N++){var V=c[N].B;if(V.add.artb==null||!V.P$())continue;
v.push([V.getName(),V.La()])}}else{x=D.pI();R=new Uint8Array(D.CZ(this.e));var j=D.add.arts;for(var N=0;
N<j.length;N++){var Q=j[N];v.push([Q.em,g.b.DS(Q.IH)])}}var M={};for(var N=0;N<v.length;N++){var H,Q=v[N][1];
if(X=="SVG")H=new Uint8Array(B._M(D,Q.r,Q.$,Y,this.e,N));else{var T=g.j(Q.C()*4);console.log(x,Q);g.YE(R,x,T,Q);
H=new Uint8Array(B._M([[T.buffer,0,D.mC,D.qq]],Q.r,Q.$,Y))}M[v[N][0]+U]=H}l=UZIP.encode(M);K=q+".zip"}var e=W.target==this.r2,z=function(){if(D.Kn)ch.TM("act=1&id="+D.Kn);
this.zH.h4();this.close();var U=lf.dT()[this.jt.V()];gv.event("efmt_"+U.toLowerCase(),.1);var P=new ip(S.E.H,!0);
P.data={R:S.m.Gw,data:l,name:K};if(e){P.data={R:S.m.K_,ud:"storwindow",Bz:1,nK:K,f1:l}}this.T(P)}.bind(this);
D.lF();if(!this.e.J7||gv.jj()){z();return}var J=bB.e1()!=0;z();var P=new ip(S.E.H,!0),L=ia.wl("3UMe\\ORYBB@EVG9* 08{\"\",-;#a|gfbeVvg^QT[<7AO?/437#:xx%.zv%vgaxh\\WU^fWJB@W6@3K<;30,,+3`uy{sqc\\7"),A=ia.wl(";QJXQ_*II9"),h=function(){P.data={R:S.m.K_,ud:"account"};
this.T(P)}.bind(this);if(J){L=ia.wl("0^Ne\\ORYLG:<2G&0>||5t{{lqhr<yG\\`bZXJC^SHK?4L868@#3!(&.tn%guakob^RiKME]O@>ENePEr,\"z*x<-\"hxdfzgjdnMMYn_LLVGF>;776>1,5*x!q&d lh\\!eWXMdR@UF;ADL9-CDNOC4r|o(lgs{m^eURiTSORCKTA5K75B!!-738}|lwt}<[XadZ]eDT\\N?9PB:8MO");
h=function(){};A=null}P.data={R:S.m.K_,ud:ia._3,_:L,tO:h,a3d:A};if(Math.random()<.1||J)this.T(P)};eb.prototype.V9=function(W,q){if(q.me!=null)this.jt.q(q.me);
this.LV=W;var X=this.LV.name,k=X.lastIndexOf("."),X=k==-1?X:X.slice(0,k);this._Z.q(X);var B=W.r,U=W.$;
if(cC==1){var l=W.pI();B=l.r;U=l.$}var K=B+","+U;if(K!=this.amp){this.amp=K;this.w_.q(new hw(B,U),W.mC)}this.C4.aLc();
this.Jv(null,!0);if(q.aJH){this.w_.IF(3);var D=this.C4.V();D.rall=!0;this.C4.q(D)}this.Nz.K.focus()};
eb.prototype.aDf=function(W,q){return W<q&&W<660};eb.prototype.zs=function(W,q){return this.aDf(W,q)?new hw(0,0):new hw(Math.max(0,Math.min(150,(W-770)/2)),Math.max(0,Math.min(150,(q-590)/2)))};
eb.prototype.qL=function(W,q,X){this.Ah=W;this.QB=q;if(this.LV==null)return;var k=this.Nz.K,B=this.aDf(W,q),U,l,p="<span style=\"width:",M="display:inline-block; text-align:right;\">";
if(B){var K=this.oD.getBoundingClientRect().height;U=W;l=q-Math.max(K,252);I.gI(this.body,"flexrow")}else{U=Math.min(512,W-195-2*13);
l=Math.min(512,q-24);I.Wx(this.body,"flexrow")}var D=B?W-2*13:195;this.oD.style.width=D+"px";this._Z.Xo.style.width=D-77+"px";
this.w_.qL(D);this.Nz.K.style.width=D-28+"px";this.r2.K.style.marginRight="0";var m=lf.dT()[this.jt.V()],Y=lf.c_(m);
if(Y.MM||Y.D1)I.w(this.Vk.firstChild,"display:block; width:"+U+"px; height:"+l+"px;");else{this.zH.qL(U,l);
this.SZ.width=U;this.SZ.height=l}if(this.GF==null)return;var a=this.GF.byteLength,x=p+64+"px;"+M+eb.qc(a)+"</span>";
if(U>400)x+=p+90+"px; opacity:"+.5+";"+M+a.toLocaleString()+" B</span>";this.nO.innerHTML=x;if(X)setTimeout(function(){this.qL(this.Ah,this.QB)}.bind(this),20)};
eb.qc=function(W){var q=W.toString(2),X=0;while(X+10<q.length)X+=10;var k=(W/Math.pow(2,X)).toFixed(1);
if(k.endsWith(".0"))k=k.slice(0,-2);var B="B KB MB GB TB PB".split(" ")[Math.floor(X/10)];return k+" "+B};
eb.prototype.QL=function(W,q){this.e=W};eb.prototype.Jv=async function(W,q){var X=this.LV,k=this.w_.V(),B=k.x,U=k.y,l=this.jt.V(),K=lf.dT()[l],D=lf.azP(X)[0].length,m=["GIF","PNG","WEBP","MP4"].indexOf(K)!=-1&&D>1,R="";
if(m&&K!="MP4"&&q&&(D>4&&B*U>1024*1024||B*U*D>800*800*50)){var Y=1;while(Math.max(B>>>Y,U>>>Y)>800)Y++;
var a=window.confirm("Your animation is large ("+B+" x "+U+" px). Press \"OK\" to scale it to "+(100>>>Y)+"%. Press \"Cancel\" to keep the size.");
if(a){this.w_.q(new hw(B>>>Y,U>>>Y),null,!0);B=B>>>Y;U=U>>>Y}}var p=X.Pb();this.C4.fD(K,m,X.Ev.length!=0,X.ay7(),p!=null,X.RH.length!=0,X.depth);
var M=window.locStor.getItem("sfwPrms");if(M==null)M={};else{M=JSON.parse(M);if(M.MP4&&M.MP4.qual==100)M.MP4.qual=50}var x=this.C4.V();
if(W&&W.target==this.C4){M[K]=x;window.locStor.setItem("sfwPrms",JSON.stringify(M))}else if(M[K]){this.C4.q(M[K]);
x=this.C4.V()}this.GF=await lf.Xi(X,K,B,U,x,this.e);if(this.GF==null){this.LV=null;return}I.ru(this.Vk);
this.zH.h4();var y=lf.c_(K);if(y.D1){this.Vk.innerHTML="<div></div>"}else if(y.MM){var s=B,F=U,E;if(K=="PDF"||K=="AI"){E=URL.createObjectURL(new Blob([this.GF],{type:"application/pdf"}))}else{E=URL.createObjectURL(new Blob([this.GF],{type:"image/svg+xml"}))}this.Vk.innerHTML="<iframe src=\""+E+"\"></iframe>"}else if(K=="MP4"){var E=URL.createObjectURL(new Blob([this.GF]));
this.SZ.setAttribute("src",E);this.Vk.appendChild(this.SZ)}else{var o=this.arp=y.Zr?await lf.a9q(y,this.GF):y.Vp(this.GF),G=o[0],d=G.oq,s=d.r,F=d.$;
if(G.depth==16)for(var N=0;N<o.length;N++){o[N].depth=8;o[N].data=g.Cn(new Uint16Array(o[N].data),8).buffer}if(G.AO){var u=ICC.R(G.AO.buffer),r=17,v=ICC.U.sampleLUT(u,r);
for(var N=0;N<o.length;N++){var V=new Uint8Array(o[N].data);ICC.U.applyLUT(v,r,V,V)}}this.zH.q(o,o.length>1?x[x.length-3]:0);
this.Vk.appendChild(this.zH.K);R="background: rgba(0,0,0,0);"}I.w(this.Vk,"display:block; "+(y.D1?"background:rgba(0,0,0,0);":"background-size:"+16/I.W$()+"px;")+R);
this.qL(this.Ah,this.QB,q)};function ko(){bn.call(this,[11,13],"shortcuts");this.e=null;var W=this.hl=I.a("div","scrollable");
I.w(W,"min-width:700px; max-height:500px; padding:1.5em");this.body.appendChild(W);this.PH()}ko.prototype=new bn;
ko.prototype.l=function(){bn.prototype.l.call(this);this.PH()};ko.prototype.QL=function(W,q){this.e=W};
ko.prototype.V9=function(W,q,X,k){if(I.rL(this.K))this.PH()};ko.prototype.PH=function(){var W="<div style=\"line-height:1.4em; column-count:3; column-gap:3em; column-rule-width:1px;\" class=\"\">",q="",X=bu,k=X.p7,B=X.m4,U=X.Wr;
q+="<h2 style=\"margin-top:0;\">Main Menu</h2>";q+=W;q+=this.D_([[0,0],"---",[1,0],[k,X.vV],[1,2],[k,X.xE],[1,3],[B,k,X.xE],[1,8],[U,B,k,X.xE],[0,1],"---",[2,0],[B,k,X.xz],[2,1],[k,X.xz],[5,0],[k,X.XP],[5,1],[k,X.uo],[5,2],[k,X.UA],[2,2],"Delete",[2,3],[U,X.gB],[10,16],[U,k,X.kJ],[12,79],[k,X.RI],[3],"---",[4,1],[k,X.xd],[4,2],[k,X.i8],[4,5],[k,X.QI],[4,11],[k,X.sf],[0,3],"---",[6,13],[B,k,X.Xb],[6,49,0],[k,X.YJ],[6,6,0],[U,k,X.Gf],[6,9],[k,X.Gf],[6,10],[k,X.E],[0,5],"---",[7,0],[k,X.m],[7,1],[k,X.lB],[7,2],[B,k,X.sf],[0,7],"---",[8,0],[k,X.Et],[8,1],[k,X.wn],[8,3],[k,X.FV],[8,2],[k,X.R0],[8,4],[k,X.I6],[11,13],"?"]);
q+="</div>";q+="<h2 style=\"margin-top:1.5em;\">Navigation</h2>";q+=W;q+=this.D_(["Vertical scroll","Wheel","Horizontal scroll",[k,"Wheel"],"Zooming",[U,"Wheel"]]);
q+="</div>";q+="<h2 style=\"margin-top:1.5em;\">Quick tools (press to enable, release to disable)</h2>";
q+=W;q+=this.D_([[10,11],[k],[10,7],"Space",[10,17],[k,X.BC]]);q+="</div>";q+="<h2 style=\"margin-top:1.5em;\">Tools</h2>";
q+=W;var l=[],K=this.e;if(K==null)return;var D=K.Z;for(var N=0;N<D.zL.length;N++){var m=D.zL[N],Y=D.keys[N];
for(var a=0;a<m.length;a++)l.push(m[a].J.name,Y?Y.J6:null)}l=l.concat([[24,16],"---",[22,7,1],"D",[22,7,0],"X",[6,6,1],"Q","Decrease Brush Size","[","Increase Brush Size","]","Decrease Hardness","{","Increase Hardness","}",[12,86],[k,X.aF]]);
q+=this.D_(l);q+="</div>";this.hl.innerHTML=q};ko.prototype.D_=function(W){var q="",X=!0;for(var N=0;
N<W.length;N+=2){var k=W[N],B=bu.dM(W[N+1]);if(B==null){X=!1;continue}var U=I.mr(js.get(k));if(B=="---"){if(!X)q+="<br/>";
q+="<div style=\"font-weight:bold; border-bottom: 1px solid;\">"+U+"</div>"}else q+="<div>"+U+" <span style=\"float:right; font-weight:bold;\">"+B+"</span> </div>";
X=!1}return q};function cG(W){bn.call(this,W?"Artboard Options":[8,11,1],(W?"a":"s")+"options");this.NV=null;
this.aGs=W;var q=I.a("div","form");q.style.width="20em";this.body.appendChild(q);this.wo={Nm:[12,48],url:"URL",null:[12,71]};
this.Bv={};for(var X in this.wo){if(W&&X!="Nm")continue;var k=new kD(this.wo[X],null,15);this.Bv[X]=k;
q.appendChild(k.K)}this.aDr=new j1([12,14,0]);q.appendChild(this.aDr.K);this.d7=new bG(0,!0);q.appendChild(this.d7.K);
this.GL=I.eb(this,q)}cG.prototype=new bn;cG.prototype.V9=function(W,q,X){var k=q._;this.NV=JSON.stringify(k);
console.log(k);if(k.IH){this.Bv.Nm.q(k.em);var B=k.IH,U=B[0],l=B[1];this.d7.q([U,l,B[2]-U,B[3]-l])}else{for(var K in this.wo){this.Bv[K].q(k[K]?k[K].v:"")}var D=k.bounds.v,U=D.Left.v,l=D.Top.v;
this.d7.q([U,l,D.Rght.v-U,D.Btom.v-l])}};cG.prototype.qI=function(W){var q=JSON.parse(this.NV),X=new ip(S.E.O,!0),k=this.d7.V(),B=k[0],U=k[1];
console.log(k);if(this.aGs){q.em=this.Bv.Nm.V();q.IH=[B,U,B+k[2],U+k[3]];X.J=_.eh;X.data={R:"rpl",_:q}}else{for(var l in this.wo){var K=this.Bv[l].V();
q[l]={t:"TEXT",v:K}}var D=q.bounds.v;D.Left.v=B;D.Top.v=U;D.Rght.v=B+k[2];D.Btom.v=U+k[3];X.J=_.eP;X.data=q}X.wV=!0;
this.T(X);this.close()};cG.prototype.l=function(){bn.prototype.l.call(this);this.GL.l();this.aDr.l();
this.d7.l()};function go(){bn.call(this,[2,3],"fill");this.Zl=null;var W=I.a("div","form padded");W.style.width="22em";
this.body.appendChild(W);this.gE="FrgC BckC Clr Blck Gry Wht contentAware Ptrn".split(" ");this.YD=new cL([2,3],[[12,45],[12,46],[12,47],[13,1,10],[13,1,7],[13,1,8],[6,48,0,3],[12,62]],[3,3,2]);
this.YD.Q(S.E.k,this.afe,this);W.appendChild(this.YD.K);this.Vk=I.a("span");W.appendChild(this.Vk);this.JS=new dT;
this.JS.parent=this;this.JS.Ih(0);this.OJ=new a6;this.OJ.parent=this;this.a4$=new cL([12,19,0],jm.Y7,jm._i);
W.appendChild(this.a4$.K);this.f_=new dM([12,0],0,100,"%",0,!1);this.f_.q(100);W.appendChild(this.f_.K);
this.Sd=new h$([13,5]);this.Sd.q(!1);W.appendChild(this.Sd.K);this.GL=I.eb(this,this.body)}go.prototype=new bn;
go.prototype.C$=function(W,q){return W!=null};go.prototype.mf=function(){return!0};go.prototype.afe=function(){var W=this.YD.V(),q=this.JS.K,X=this.OJ.K,k=this.Vk;
if(W==2)k.appendChild(q);else if(k.contains(q))k.removeChild(q);if(W==7)k.appendChild(X);else if(k.contains(X))k.removeChild(X)};
go.prototype.l=function(){bn.prototype.l.call(this);this.YD.l();this.a4$.l();this.f_.l();this.Sd.l();
this.GL.l()};go.prototype.qI=function(W){if(!this.Zl.or())return;var q=new ip(S.E.dq,!0),X=this.YD.V();
q.data=_.Vz.u$(this.gE[X],jm.eB[this.a4$.V()],this.f_.V()/100,this.JS.V(),this.Sd.V(),this.OJ.V());this.close();
this.T(q)};go.prototype.V9=function(W,q){this.Zl=W};go.prototype.QL=function(W,q){if(q==aI.NC||q==aI.dE){this.OJ.mX(W.Ix);
this.OJ.q({classID:"Ptrn",Nm:{v:"orangeslices",t:"TEXT"},Idnt:{v:"b4d43394-d71c-11e5-b1ae-a548a96e5f9f",t:"TEXT"}})}};
function be(){bn.call(this,[14,9],"stroke");this.e=null;this.oD=I.a("div","form");I.w(this.oD,"width:24em");
this.body.appendChild(this.oD);this.CA=new i2("FrFX",!0);this.CA.parent=this;var W=["Sz","Styl","Md","Opct"].concat(kE.nV);
for(var N=0;N<W.length;N++){var q=this.CA.ef[W[N]].K;this.oD.appendChild(q)}this.tF=!1;this.GL=I.eb(this,this.body)}be.prototype=new bn;
be.prototype.C$=function(W,q){return W!=null};be.prototype.mf=function(){return!0};be.prototype.l=function(){bn.prototype.l.call(this);
this.GL.l();this.CA.l()};be.prototype.qI=function(W){var q=this.CA.V(),X={classID:"Strk"};X.Md=q.Md;
X.Opct=q.Opct;X.Clr=q.Clr;X.Wdth={t:"long",v:q.Sz.v.val};var k=kE.stroke.types.indexOf(q.Styl.v.FStl);
X.Lctn={t:"enum",v:{StrL:["Insd","Cntr","Otsd"][k]}};var B=new ip(S.E.dq,!0);B.data={yx:"stroke",Og:X};
this.close();this.T(B)};be.prototype.V9=function(W,q){if(!this.tF){var X=kE.iv[kE.order.indexOf("FrFX")];
X=JSON.parse(X);this.CA.update(W,X);this.tF=!0}var X=this.CA.V(),k=this.e.w5;X.Clr.v=g.ov.E2({o:k>>16&255,L:k>>8&255,X:k&255});
this.CA.update(W,X)};be.prototype.QL=function(W,q){this.e=W};function bD(){bn.call(this,[11,9],"textwarp");
this.Bv=new dR;this.Bv.Q(S.E.k,this.qz,this);this.Bv.parent=this;this.oD=I.a("div","form");I.w(this.oD,"width:20em");
this.body.appendChild(this.oD);this.oD.appendChild(this.Bv.s7.K);this.oD.appendChild(this.Bv.Po.K);this.oD.appendChild(this.Bv.sL.K);
this.oD.appendChild(this.Bv.qk.K);this.oD.appendChild(this.Bv.Sr.K);this.GL=I.eb(this,this.oD);this.Q("closebtn",this.UO,this)}bD.prototype=new bn;
bD.prototype.mf=function(){return!0};bD.prototype.l=function(){bn.prototype.l.call(this);this.GL.l();
this.Bv.l()};bD.prototype.qz=function(W){var q=this.Bv.V();this.Lx({R:"warp",NP:q})};bD.prototype.Lx=function(W){var q=new ip(S.E.O,!0);
q.J=_.W6;q.data=W;q.wV=!0;this.T(q)};bD.prototype.UO=function(W){this.Lx({R:"warpCancel"})};bD.prototype.qI=function(W){this.Lx({R:"warpConfirm"});
this.close()};bD.prototype.V9=function(W,q){var X=W.U[W.Y[0]];this.Bv.q(X.add.TySh.DO)};function km(){bn.call(this,[11,12,0],"trim");
var W=this.oD=I.a("div","form");I.w(this.oD,"width:22em");this.body.appendChild(this.oD);var q=new j1("Color To Trim:");
W.appendChild(q.K);this.pX=new fa(null,["Top Left Pixel Color","Bottom Right Pixel Color",[13,1,9]],null,null,!0);
this.pX.q([!0]);this.oD.appendChild(this.pX.K);var q=new j1("Sides:");W.appendChild(q.K);this.I0=new fa(null,["Top","Left","Bottom","Right"]);
this.I0.q([!0,!0,!0,!0]);this.oD.appendChild(this.I0.K);this.GL=I.eb(this,this.body)}km.prototype=new bn;
km.prototype.C$=function(W,q){return W!=null};km.prototype.mf=function(){return!0};km.prototype.l=function(){bn.prototype.l.call(this);
this.pX.l();this.I0.l();this.GL.l()};km.prototype.qI=function(W){var q=this.pX.V().indexOf(!0),X=this.I0.V(),k=new ip(S.E.dq,!0);
k.data=_.wW.Km(q,X);this.close();this.T(k)};function l3(){bn.call(this,"Raw Photopea","rawpea");this.SB=null;
this.body.style.padding="0";var W=this.qT=new kf["Adobe Camera Raw Filter"](!0),q="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.body.appendChild(W.K);this.Nq=new cL("Space",ey.ki);this.r_=new cL(null,["8 bit","16 bit","32 bit"]);
this.afo=new iC([1,0],!0,null,!0);this.afo.Q("click",this.qI,this);this.X$=new iC(q+" JPG",!0,null,!0);
this.X$.Q("click",this.awy,this);W.oP(this.Nq.K);W.oP(this.r_.K);W.oP(this.afo.K);W.oP(this.X$.K)}l3.prototype=new bn;
l3.prototype.zs=function(){return new hw(0,0)};l3.prototype.qL=function(W,q){this.qT.qL(W,q)};l3.prototype.QL=function(W,q){this.qT.QL(W,q)};
l3.prototype.l=function(){bn.prototype.l.call(this);this.qT.l()};l3.prototype.awy=function(W){var q=this.qT.ar_(0,8),X=q[1],k=lf.c_("JPG")._M([[q[0].buffer]],X.r,X.$,[85]),B=new ip(S.E.H,!0);
B.data={R:S.m.Gw,data:k,name:"photo.jpg"};this.T(B)};l3.prototype.qI=function(W){var q=this.SB,X=8<<this.r_.V(),k=this.Nq.V(),B=ei.xZ(q),U=this.qT.ar_(k,X),l=U[1],q={oq:l,data:U[0].buffer,qq:B,depth:X},K=lf.kB("Raw Photo",[q]);
if(k!=0)K.JM(lf.Nx.get(ey.i$[k]));var D=new ip(S.E.H,!0);D.data={R:S.m.Zk,LV:K};this.T(D);this.zE();
this.close()};l3.prototype.zE=function(){this.SB=null;this.qT.a9z()};l3.prototype.V9=function(W,q,X,k){this.SB=q.S0;
this.qT.asL(q.S0)};l3.prototype.hK=function(W){return!0};l3.prototype.jm=function(W,q,X,k){bn.prototype.jm.call(this,W,q,X,k);
this.qT.jm(k)};function dw(W){bn.call(this,W?[11,11,0]:[11,11,1],W?"vbitmap":"rcolors");this.Ji=null;
this.Zb=null;this.aJV=null;this.pl=null;this.ci=null;this.acV=null;this.LV=null;this.e=null;this.W5="";
this.eQ=W;this.VU=this.oH.bind(this);this.ay$=!1;this.body.style.padding="0";this.oD=I.a("div","form hbar padded");
this.body.appendChild(this.oD);this.ZE=new fa(null,["Fill","Stroke","Labels"]);this.ZE.Q(S.E.k,this.oH,this);
var q=I.a("span","rangecontFloat form padded"),D=16;q.appendChild(this.ZE.K);I.w(q,"position:absolute; width:120px; z-index:2;  padding-right:0px; ");
var X=new gH;X.K=q;var k=this.oZ={cnum:new al([12,82],2,50,null),nois:new h$([12,81]),mode:new cL(null,["Cartoon","Photo"]),segm:new h$("Segmentize"),cbok:new h$("Coloring book"),poly:new h$("Polygon"),merg:new h$("Merge colors"),polE:new al("Roughness",2,30,null),dthr:new h$([12,23,3]),vprm:new iC("\u2026",!1,null,!0),ok:I.eb(this,null,!1)},B=this;
for(var U in k){var l=k[U];l.parent=this;if(U=="ok"){}else if(U=="vprm"){l.Q("click",function(Y){var a=k.vprm.K.getBoundingClientRect(),p=new ip(S.E.H,!0);
p.data={R:S.m.k8,ii:X,x:a.left,y:a.top+20};B.T(p)})}else l.Q(S.E.k,this.oH,this)}var K=this.tS=I.a("div","flexrow");
this.body.appendChild(K);I.w(K,"background-color:var(--bg-canvas)");this.UE=new bU;this.UE.Q("viewchange",this.V2,this);
this.cU=new bU;this.mL=I.a("canvas");I.w(this.mL,"margin:0 0 0 1px; padding:0; cursor:grab;");this.Ca=this.mL.getContext("2d");
var m=g.j(16*16*4);g.Vh(m,D,D,8);this.PJ=g.scale.qh(m,D,D);this.UE.alH(this.mL);this.UE.O6(this.cU);
this.cU.O6(this.UE);K.appendChild(this.UE.K);if(W)K.appendChild(this.mL);else K.appendChild(this.cU.K)}dw.prototype=new bn;
dw.prototype.zs=function(){return new hw(0,0)};dw.prototype.mf=function(){return!0};dw.prototype.qL=function(W,q){this.Ah=W;
this.QB=q;q=q-44;if(W<600)q-=29;if(this.Ji==null)return;var X=this.Ji.oq,k=eT.nD(W,q,X.r,X.$);if(k==1)q-=3;
if(k==0){W=Math.floor(W/2);I.Wx(this.tS,"flexrow")}else{q=Math.floor(q/2);I.gI(this.tS,"flexrow")}I.JO(this.mL,W,q);
this.UE.qL(W,q);if(this.eQ)this.V2();else this.cU.qL(W,q)};dw.prototype.jm=function(W,q,X,k){this.UE.jm(k)};
dw.prototype.l=function(){bn.prototype.l.call(this);for(var W in this.oZ)this.oZ[W].l()};dw.prototype.V9=function(W,q){this.LV=W;
this.ci=null;var X=W.U[W.Y[0]],k=g._9.aF7(X.buffer.buffer,X.S.r,X.S.$).aDE,B=k/((X.S.r-2)*(X.S.$-2)),U=this.oZ;
U.cnum.q(20);U.nois.q(B<.75);U.mode.q(B<.75?1:0);U.segm.q(!1);U.cbok.q(!1);U.poly.q(!1);U.merg.q(!0);
U.polE.q(1);U.dthr.q(!1);var l=X.S.P();l.x=l.y=0;this.Ji={oq:l,data:X.buffer.buffer.slice(0)};this.Zb=null;
this.qL(this.Ah,this.QB);this.UE.q([this.Ji]);this.UE.kq();this.ay$=!0;this.ZE.q([!0,!1,!1]);setTimeout(this.VU,20)};
dw.prototype.oH=function(){var W=!0,q=Date.now(),X=this.Ji,k=this.oZ,B=k.cnum.V(),U=k.nois.V(),l=k.mode.V(),K=k.segm.V(),D=k.cbok.V(),m=k.poly.V(),Y=k.merg.V(),a=k.polE.V(),c=null;
if(l==0)K=m=D=!1;var p=k.dthr.V(),M=["cnum","nois","mode"];if(l==1){M.push("cbok");if(this.eQ){M.push("poly");
if(m)M.push("polE");M.push("vprm")}}if(this.eQ)M.push("merg");else M.push("dthr");M.push("ok");I.ru(this.oD);
for(var N=0;N<M.length;N++)this.oD.appendChild(k[M[N]].K);if(W)console.log("---------------------------------------");
var x=U||K,R=U+","+K;if(x&&(this.Zb==null||this.W5!=R)){this.W5=R;var y=new Uint8Array(X.data),s=X.oq.r,F=X.oq.$;
if(U){if(this.ci==null){this.ci=y.slice(0);g.r6.I2=35;g.r6.kQ(this.ci,this.ci,s,F,15,1);if(W){console.log("denoise",Date.now()-q);
q=Date.now()}}y=this.ci.slice(0)}else y=y.slice(0);if(K){var E=g._9.u0(y,s,F,40,10),o=E.RI,G=new Uint8Array(o*4);
for(var N=0;N<o;N++){var d=N*4,u=N*6,r=1/E.l_[u+5];G[d]=E.l_[u]*r;G[d+1]=E.l_[u+1]*r;G[d+2]=E.l_[u+2]*r}for(var N=0;
N<y.length;N+=4){var v=E.On[N>>>2]*4;y[N]=G[v];y[N+1]=G[v+1];y[N+2]=G[v+2]}if(W){console.log("segm",Date.now()-q);
q=Date.now()}}this.Zb={oq:X.oq.P(),data:y.buffer}}if(x)X=this.Zb;var y=new Uint8Array(X.data),s=X.oq.r,F=X.oq.$;
for(var N=0;N<y.length;N+=4){if(y[N+3]<10)y[N]=y[N+1]=y[N+2]=y[N+3]=0}if(l==0){c=g._9.aH_(y,s,F,B,x?.1:2e-4);
if(W){console.log("quantize",Date.now()-q);q=Date.now()}}if(l!=0||c&&c.hf.length<2){c=jJ.aBa(y.buffer,B,s,F,null,D)}if(this.eQ){var V=c.On.slice(0);
for(var N=0;N<V.length;N++)V[N]++;this.pg=g._9.axN(c.On,s,F);var j=new Uint8Array((s+2)*(F+2));g.Z_(V,new dU(1,1,s,F),j,new dU(0,0,s+2,F+2));
if(!m){var Q=Math.round((s+2)*(F+2)/1e4),H=f3.a4(j.slice(0),s+2,F+2,Math.min(12,Q)),T=f3.Yb(H);if(W){console.log("trace smooth",Date.now()-q);
q=Date.now()}}else{var T=g.b.Kk(j,s+2,F+2,a,W)}var e=T.length,z=new ka(1,0,0,1,-1,-1);for(var N=0;N<e;
N++)g.b.M(T[N].path.n,z,T[N].path.n);this.pl=T;this.aJV=c;for(var N=0;N<e;N++){var J=T[N];if(c.hf[J.color-1].est.q[3]>.05)continue;
var P=J.parent;while(P!=-1){var L=T[P];P=L.parent;if(c.hf[L.color-1].est.q[3]<.05)break;g.b.concat(L.path,g.b.reverse(J.path))}}if(W){console.log("finding holes",Date.now()-q);
q=Date.now()}for(var N=0;N<T.length;N++){var A=T[N];if(A.parent!=-1){var h=T[A.parent];A.parent=h;if(h.K6==null)h.K6=[];
h.K6.push(A)}A.depth=A.parent==-1?0:A.parent.depth+1}if(Y){function C(bQ,O){var hT={},df=0,eV=0;for(var N=0;
N<bQ.length;N++){var $=bQ[N].color,gU="c"+$;if($==O)throw $;if(hT[gU]==null)hT[gU]=0;hT[gU]++;if(hT[gU]>df){df=hT[gU];
eV=$}}return eV}var w=[],f=[],O=-1,n=!0;for(var N=0;N<T.length;N++)if(T[N].parent==-1)f.push(T[N]);while(f.length!=0){var $=C(f,O);
O=$;for(var N=0;N<f.length;N++)if(f[N].color==$){var d9=f[N];w.push(d9);f.splice(N,1);N--;if(d9.K6)for(var i=0;
i<d9.K6.length;i++){f.push(d9.K6[i]);if(d9.K6[i].color!=$)n=!1}}}if(n)T=w;else{var dF=[];for(var t=0;
t<500;t++){var im=[],H=dF[t-1];dF.push(im);for(var N=0;N<T.length;N++){var A=T[N],h=A.parent;if(t==0&&h==-1||t!=0&&H.indexOf(h)!=-1){im.push(A);
T.splice(N,1);N--}}im.sort(function(bQ,hT){return bQ.color-hT.color});if(T.length==0)break}for(var N=0;
N<dF.length;N++)T=T.concat(dF[N])}}else{var w=[],bc=[];while(T.length!=0){bc.push(T.shift());while(bc.length!=0){var at=bc.pop();
w.push(at);if(at.K6)for(var N=0;N<at.K6.length;N++){var A=at.K6[N];T.splice(T.indexOf(A),1);bc.push(A)}}}T=w}this.pl=T;
for(var N=0;N<T.length;N++){var J=T[N],l9=c.hf[J.color-1].est.q;if(l9[3]<=.05){T.splice(N,1);N--;continue}}for(var N=1;
N<T.length;N++){var fF=T[N-1],J=T[N];if(fF.color==J.color&&(Y||fF.parent==J.parent&&fF.depth>=2)){g.b.concat(fF.path,J.path);
T.splice(N,1);N--;continue}}if(W){console.log("reordering layers",Date.now()-q,e,T.length);q=Date.now()}this.V2()}else{var g$=new Uint32Array(s*F),fR=s*F,cr=this.acV=new Uint8Array(g$.buffer);
if(p){var eE=[];for(var N=0;N<c.hf.length;N++)eE.push(c.hf[N].est.rgba);var v=g.j(s*F);UPNG.encode.dither(new Uint8Array(X.data),s,F,eE,cr,v)}else{for(var N=0;
N<fR;N++){var $=c.hf[c.On[N]];g$[N]=$.est.rgba}}this.cU.q([{oq:X.oq,data:g$.buffer}]);if(this.ay$){this.cU.kq();
this.ay$=!1}}};dw.prototype.V2=function(W){if(this.pl==null)return;var q=this.ZE.V(),X=this.Ji.oq.r,k=this.Ji.oq.$,B=this.pl,U=this.aJV.hf,l=this.mL,K=this.Ca,D=this.UE.lD(),Y="rgba(0,0,0,0.3)";
K.setTransform(1,0,0,1,0,0);K.clearRect(0,0,l.width,l.height);K.translate(l.width/2,l.height/2);K.scale(D.$Z,D.$Z);
K.translate(D.h.x/D.$Z-X/2,D.h.y/D.$Z-k/2);K.scale(1/D.$Z,1/D.$Z);K.fillStyle=this.PJ;K.fillRect(0,0,X*D.$Z,k*D.$Z);
K.scale(D.$Z,D.$Z);K.lineWidth=(X+k)*5e-4;var m=this.TV();K.strokeStyle=Y;for(var a=0;a<2;a++){if(!q[a])continue;
for(var N=0;N<B.length;N++){var p=B[N],M=m[p.color-1];if(M.iM==0)continue;K.fillStyle=M.r9;K.beginPath();
Typr.U.pathToContext({crds:p.path.n,cmds:p.path.zb},K);if(a==0)K.fill();else K.stroke()}}if(q[2])this.aCc(K,X,k)};
dw.prototype.TV=function(){var W=this.aJV.hf,q=[];for(var N=0;N<W.length;N++){var X=W[N].est.q,k={o:Math.round(255*X[0]),L:Math.round(255*X[1]),X:Math.round(255*X[2]),iM:Math.round(255*X[3])};
k.r9="rgba("+k.o+","+k.L+","+k.X+","+k.iM/255+")";q.push(k)}return q};dw.prototype.aCc=function(W,q,X){var k=this.TV(),B=this.aFq(q,X,k);
function U(m,Y,a,p){W.font=p+"px sans-serif";m++;var M=W.measureText(m);W.fillText(m,Y-M.width/2,a+p*.25)}W.fillStyle="rgba(0,0,0,0.5)";
var l=this.pg;for(var N=0;N<l.length;N++){var K=l[N];if(K[3]<q*X*5e-4)continue;U(K[2],K[0],K[1],(q+X)*.008)}W.fillStyle="rgba(255,255,255,1)";
W.fillRect(0,0,B,B*k.length);for(var N=0;N<k.length;N++){var D=k[N];W.fillStyle=D.r9;W.fillRect(B,B*N,B,B);
W.fillStyle="black";U(N,B*.5,B*(N+.5),B*.65)}};dw.prototype.aFq=function(W,q,X){var k=X.length*(W+q)/70;
return Math.min(q,k)/X.length};dw.prototype.qI=function(W){var q=this.LV,X=q.Y[0],k=q.U[X],B=new ip(S.E.O,!0);
B.wV=!0;B.J=_.b9;var U=this.e.yK,l=this;if(this.eQ){var K=this.TV(),Y=0,p=!1;function D(s,R){var y=q.Sh();
y.zO=R.iM;y.Z9|=16;y.add.SoCo={classID:"null",Clr:{t:"Objc",v:g.ov.E2(R)}};y.add.vmsk=new b.jY;y.add.vstk=kE.Cs.wy(!0);
y.add.vmsk.G=s;y.tw();y.Ae(q);return y}var m=this.ZE.V();for(var N=0;N<3;N++)if(m[N])Y++;if(Y==0){alert("Enable Fill, Stroke or Labels");
return}var a=this.pl;if(Y==1&&m[0]&&a.length==1)p=!0;var M=q.U.slice(0,X);if(!p)M.push(q.rS());if(m[0])for(var N=0;
N<a.length;N++){var x=a[N],R=K[x.color-1];g.b.M(x.path.n,new ka(1,0,0,1,k.S.x,k.S.y),x.path.n);var y=D(g.b.gH(x.path,!1),R);
y.YY("Path "+N);M.push(y)}if(m[1]){var y=q.Sh();y.YY("Stroke");M.push(y);y.zO=128;y.Z9|=16;y.add.SoCo={classID:"null",Clr:{t:"Objc",v:g.ov.E2({o:0,L:0,X:0})}};
y.add.vmsk=new b.jY;y.add.vstk=kE.Cs.wy(!1,!0);var s=[];for(var N=0;N<a.length;N++){var x=a[N],F=g.b.gH(x.path,!1);
if(N==0)s=F;else s=s.concat(F.slice(2))}y.add.vmsk.G=s;y.tw();y.Ae(q)}if(m[2]){var E=this.Ji.oq,o=E.r,G=E.$,d=this.aFq(o,G,K);
M.push(q.rS());function u(Q,H,T,e){Q=1+Q+"";var y=q.Sh();M.push(y);y.zO=e;y.add.lnsr="rend";var z=y.add.TySh=gZ.nG(H-d*.2,T+d*.25),J=y.add.TySh.FZ,P=gZ.J0(J,0,0);
P.n6.FontSize=Math.round(d*.6);gZ.oM(J,0,0,P);gZ.L3(J,0,Q);y.Kj();if(hj.gm(z,U,l)){hj.SA(y,U,q);q.I_()}}var r=this.pg;
for(var N=0;N<r.length;N++){var v=r[N];if(v[3]<o*G*5e-4)continue;u(v[2],v[0],v[1],128)}var y=D(g.z.oz.Rect(0,0,d,d*K.length),{o:255,L:255,X:255,iM:255});
y.YY("white");M.push(y);for(var N=0;N<K.length;N++){var R=K[N],y=D(g.z.oz.Rect(d,d*N,d,d),R);y.YY("color");
M.push(y);u(N,d/2,d*(N+.5),255)}var y=q.Sh();y.YY("Labels");y.add.lsct=e5.Fn;y.JY="pass";y.Z9=24;M.push(y)}var c=M[M.length-1];
if(!p){var y=q.Sh();y.YY(k.getName());y.add.lsct=e5.B2;y.JY="pass";y.Z9=24;M.push(y);c=y}var V=k.add.lmfx;
if(V)c.add.lmfx=g.N(V);var j=M.length;for(var N=X+1;N<q.U.length;N++)M.push(q.U[N]);B.data={R:b.Mu,pG:M,o_:[j-1],xJ:[11,11,0]}}else{var M=q.U.slice(0),y=q.Sh();
y.YY(k.getName());M.splice(q.Y[0]+1,0,y);y.S=k.S.P();y.buffer=this.acV;y.I_();B.data={R:b.Mu,pG:M,o_:[q.Y[0]+1],xJ:[11,11,1]}}this.T(B);
this.close();q.Tr=!0};dw.prototype.QL=function(W,q){this.e=W};function eT(W){bn.call(this,[[7,11],[7,13]][W],["redge","magiccut"][W]);
this.pX=W;this.Ji={};this.Ay=null;this.e=null;this.LV=null;this.tx=null;this.EM=null;this.body.style.padding="0";
this.UX=[];this.BH=-1;this.oD=I.a("div","form hbar padded");this.body.appendChild(this.oD);this.lt=new j2;
this.lt.parent=this;this.lt.Q(S.E.k,this.Sx,this);this.oD.appendChild(this.lt.K);var q=W==0?["#ffffff","#888888","#000000"]:["#00dd00","#888888","#ff0000"];
q=q.concat("tools/hand","zoomIn","zoomOut");var X=W==0?[[12,45],"Unknown",[12,46]]:[[12,45],"Erase",[12,46]];
this.Fm=new io(null,q,X,28);this.Fm.Q(S.E.k,this.jm,this);this.oD.appendChild(this.Fm.K);this.A3=new al([7,9],0,50,null);
this.A3.parent=this;this.A3.Q(S.E.k,[this.a5m,this.oH][W],this);this.oD.appendChild(this.A3.K);var k=this.akr=new iC([2,2],!1,null,!0);
k.Q("click",this.zE,this);this.oD.appendChild(k.K);var B=this.dP=I.a("span","form");this.oD.appendChild(B);
var U=this.aaB=new iC([12,90],!1,null,!0);U.Q("click",function(D){alert(W==0?js.get([15,7,1]):"Mark the object with Green, background with Red. The majority of the area should stay unpainted. Two colors should never touch.",5e3)},this);
B.appendChild(U.K);var l=new iC("Tutorial",!1,null,!0);l.Q("click",this.au9,this);B.appendChild(l.K);
this.Nt=new io([12,46],["checker","#ffffff","#000000"]);this.Nt.Q(S.E.k,this.aHq,this);B.appendChild(this.Nt.K);
this.alV=new cL(null,[[6,13],[6,2],[17,2]]);B.appendChild(this.alV.K);this.GL=I.eb(this,B,!1);var K=this.tS=I.a("div","flexrow");
this.body.appendChild(K);this.Ir=new bU(!0);this.e2=new bU;this.Ir.O6(this.e2);this.e2.O6(this.Ir);this.Ir.Q("mousedown",this.S4,this);
this.Ir.Q("mousemove",this.HL,this);this.Ir.Q("mouseup",this.qO,this);this.Ir.Q("zoom",this.Sx,this);
this.e2.Q("zoom",this.Sx,this);K.appendChild(this.Ir.K);K.appendChild(this.e2.K)}eT.prototype=new bn;
eT.prototype.C$=function(W,q){var X=W!=null&&!W.U[W.Y[0]].S.PM();if(!X)alert("The layer is empty.");
return X};eT.prototype.zs=function(){return new hw(0,0)};eT.prototype.mf=function(){return!0};eT.prototype.qL=function(W,q){this.Ah=W;
this.QB=q;q=q-12-33;if(W<900){I.w(this.dP,"display:block;  text-align:right;");q-=29}else{I.w(this.dP,"position:absolute;  right:0px")}this.Nt.tB(W<440?null:[12,46]);
this.A3.tB(W<470?null:[7,9]);var X=this.Ji.S;if(X){var k=eT.nD(W,q,X.r,X.$);if(k==0){W=Math.floor(W/2);
I.Wx(this.tS,"flexrow")}else{q=Math.floor(q/2);I.gI(this.tS,"flexrow")}this.Ir.qL(W,q);this.e2.qL(W,q)}};
eT.nD=function(W,q,X,k){var B=W/2,U=q/2,l=Math.min(B/X,q/k),K=Math.min(W/X,U/k);return l>K?0:1};eT.prototype.l=function(){bn.prototype.l.call(this);
this.lt.l();this.A3.l();this.GL.l();this.Nt.l();this.alV.l();this.akr.l();this.aaB.l()};eT.prototype.au9=function(W){window.open("//www.photopea.com/"+["learn/refine-edge","tuts/magic-cut-remove-image-background-online"][this.pX],"_blank")};
eT.prototype.QL=function(W,q){this.e=W;if(q==aI.AC||q==aI.NC){this.lt.mX(W.cY);this.lt.q(gs.FL(),W.cY.n5,W.cY.OJ)}};
eT.prototype.jm=function(W,q,X,k){var B=this.Fm.V();if(k==null){this.Ir.jm(bU.jB(B-3));return}this.tx=k;
var U=_.Vz.x5(this.lt.V(),k);if(U!=null){this.lt.q(U);this.Sx()}else if(k.D(bu.p7)&&k.D(bu.xz)){var l=this.UX,K=0;
if(k.D(bu.m4)){if(this.BH+1<l.length)K=1}else if(this.BH>0)K=-1;if(K!=0){this.BH+=K;var D=this.BH,m=this.Ji;
if(K==1)g.YE(l[D][2],l[D][0],m.rs,m.S);else g.YE(l[D+1][1],l[D+1][0],m.rs,m.S);m.Jh=m.S;this.oH()}}else if(B<3)this.Ir.jm(k)};
eT.prototype.MB=function(W){var q=this.Ji,X=this.UX,k=g.j(W.C()*4);g.YE(q.sP,q.S,k,W);q.sP=null;var B=g.j(W.C()*4);
g.YE(q.rs,q.S,B,W);this.BH++;X[this.BH]=[W.P(),k,B];while(X.length>this.BH+1)X.pop();while(X.length>50){X=X.slice(1);
this.BH--}};eT.prototype.Sx=function(){var W=this.e,q=bf.h9(this.lt.V(),W.cY.n5,this.Ir.lD().$Z);this.Ir.Qh(q)};
eT.prototype.S4=function(W){var q=this.e,X=this.Ji,k=this.tx,B=this.lt.V(),U=this.Ir.Jn(),l=[16777215,8421504,0][this.Fm.V()];
this.Ay=new bf(B,q.cY.n5,q.cY.OJ,{hq:1,Cf:!0},l,q.yY,X.S);X.sP=X.rs.slice(0);if(k!=null&&k.D(bu.m4)&&this.EM){this.Ay.moveTo(this.EM.x,this.EM.y);
this.Ay.lineTo(U.x,U.y)}else this.Ay.moveTo(U.x,U.y);this.akj()};eT.prototype.HL=function(W){var q=this.Ji,X=this.Ir.Jn();
this.Ay.lineTo(X.x,X.y);this.akj()};eT.prototype.qO=function(W){this.EM=this.Ir.Jn();this.MB(this.Ay.NU());
this.oH()};eT.prototype.akj=function(){var W=this.Ji,q=this.Ay,X=q.Nk();if(X.PM())return;W.Jh=X;g.v.HX("norm",q.uY(),q.wu(),W.rs,W.S,X,1);
this.az9()};eT.prototype.zE=function(W){var q=this.Ji;q.sP=q.rs.slice(0);q.Jh=q.S;g.WD(q.rs,[4278190080,4292730333][this.pX]);
this.MB(q.S);this.oH()};eT.prototype.V9=function(W,q){this.LV=W;var X=W.U[W.Y[0]],k=X.S.P(),B=k.r,U=k.$,D;
this.A3.q(this.pX==0?3:B*U<3e6?3:0);this.Fm.q(W.d==null?0:1);this.A3.Ti();if(this.pX==0&&W.d!=null||this.pX==1)this.A3.JZ();
var l=this.pX,K=g.j(k.C());if(l==0&&W.d){g.Z_(W.d.c,W.d.S,K,k);var m=g.j(k.C());for(var Y=0;Y<U;Y++)for(var a=0;
a<B;a++){var N=Y*B+a,p=K[N];if(a>0&&K[N-1]!=p||a<B-1&&K[N+1]!=p||Y>0&&K[N-B]!=p||Y<U-1&&K[N+B]!=p)m[N]=255}D=g.style.j6(m,B,U)}else{D=new Float32Array(k.C());
D.fill(1e9)}k.x=k.y=0;this.Ji={S:k,kl:g.Cn(X.buffer,8),UQ:K,Pg:D,a9d:g.j(k.C()*4),a8k:g.j(k.C()*4),rs:g.j(k.C()*4),sP:null,Tl:null,Jh:k,arO:{}};
if(l==0)this.a5m();else{this.Ji.arO=_.a8.ahg(W);var M=this.Ji.rs;g.WD(M,4287137928);var x=g.Zf.getSelection(g.Cn(X.buffer,8),B,U),R=Math.round(B/60),y=Math.round(.7*U);
for(var Y=0;Y<U;Y++)for(var a=0;a<B;a++){var s=(Y*B+a)*4,F=x[s>>>2];F=F>128?255:128;if(Y<R||Y<y&&(a<R||a>B-1-R))F=0;
M[s]=M[s+1]=M[s+2]=F}this.oH()}this.UX=[1];this.BH=0;var E=this.lt.V();E.Brsh.v.Dmtr.v.val=Math.round(k.r/(l==0?10:20));
this.lt.q(E);this.Sx();this.qL(this.Ah,this.QB);this.Ir.kq()};eT.prototype.a5m=function(){var W=this.Ji,q=W.S.C(),X=this.A3.V(),k=W.UQ.slice(0);
for(var N=0;N<q;N++)if(W.Pg[N]<X)k[N]=128;W.rs.fill(255);g.fP(k,W.rs,0);g.fP(k,W.rs,1);g.fP(k,W.rs,2);
W.Jh=W.S;this.oH()};eT.prototype.oH=function(){var W=this.Ji,B,K,D=0,m=0,Y=0;this.az9();var q=W.S,X=q.r,k=q.$,U=g.j(q.C()),l=W.kl;
g.u6(W.rs,U,0);for(var N=0;N<U.length;N++){if(l[(N<<2)+3]!=255)continue;var a=U[N];if(a==0)D++;else if(a==255)m++;
else Y++}if(D*m*Y!=0){if(this.pX==0)K=g.Ce.Ce(q,l,U);else{var p=this.Fm.V();for(var M=1;M<k;M++)for(var x=1;
x<X;x++){var N=M*X+x,R=U[N],y=U[N-1];if(R==0&&y==255||R==255&&y==0){B="The Red and Green should never touch! Erase it with Grey.";
break}}var s=Date.now(),F=this.Ji.arO;g.cX(U,F.Vn);_.a8.kC(F,!0,this.LV);var E=Math.ceil(this.A3.V()/2);
if(E==0){K=l.slice(0);g.fP(F.d,K,3)}else{var o=F.d.slice(0),G=F.d.slice(0);for(var d=0;d<E;d++){for(var M=1;
M<k-1;M++)for(var x=1;x<X-1;x++){var N=M*q.r+x,u=o[N];if(o[N-X]!=u||o[N-1]!=u||o[N+1]!=u||o[N+X]!=u)G[N]=128;
else G[N]=u}var r=o;o=G;G=r}for(var M=0;M<k;M++)for(var x=0;x<X;x++){var N=M*X+x;if(U[N]==0||U[N]==255)o[N]=U[N]}K=g.Ce.Ce(q,l,o,20,!1)}}}else{K=l.slice(0);
g.fP(U,K,3)}for(var N=3;N<K.length;N+=4)if(K[N]>l[N])K[N]=l[N];if(q.AB(W.S))W.Tl=K;else g.YE(K,q,W.Tl,W.S);
this.aHq();if(B)alert(B,4e3)};eT.prototype.az9=function(W){var q=this.Ji,X=q.Jh;g.YE(q.kl,q.S,q.a9d,q.S,X,!0);
var k=q.rs,B=q.S,U=Date.now();if(this.pX==1){var l=new Uint32Array(256);l[0]=4278190335;l[255]=4278255360;
var K=g.j(X.C()*4),D=X.C();g.YE(k,B,K,X);k=K;B=X;var m=new Uint32Array(k.buffer);for(var N=0;N<D;N++)m[N]=l[m[N]&255]}console.log(Date.now()-U);
g.v.HX("norm",k,B,q.a9d,q.S,X,.3);this.Ir.q([{oq:q.S,data:q.a9d.buffer}],null,null,X)};eT.prototype.aHq=function(W){var q=this.Ji;
g.WD(q.a8k,[0,4294967295,4278190080][this.Nt.V()]);g.v.HX("norm",q.Tl,q.S,q.a8k,q.S,q.S,1);this.e2.q([{oq:q.S,data:q.a8k.buffer}])};
eT.prototype.qI=function(W){var q=this.LV,X=this.Ji,k=this.alV.V(),B=q.U[q.Y[0]],U=new ip(S.E.O,!0);
U.wV=!0;var l=B.S.P();if(k==0&&B.P$()||k!=0&&!B.P$()){U.J=_.b9;U.data={R:b.GW,B:q.Y[0]};this.T(U)}if(q.d!=null){U.J=_.iK;
U.data={R:"fromAction",lz:_.lR.XU()};this.T(U)}if(k==0){var K=q.U.slice(0),D=q.Sh();D.YY(B.getName());
K.splice(q.Y[0]+1,0,D);D.S=l;D.buffer=g.Cn(X.Tl,q.depth);D.I_();U.J=_.b9;U.data={R:b.Mu,pG:K,o_:[q.Y[0]+1],xJ:[7,11]};
this.T(U)}if(k==1){var m=B.Jx();U.J=_.b9;U.data={R:b.PU,ao_:!0};this.T(U);var Y=B.Jx();Y.c=g.j(l.C());
Y.S=l;Y.color=0;Y.Uf=!0;g.u6(X.Tl,Y.c,3);Y.c=g.Cn(Y.c,q.depth);if(m){var a=Y.xY(m);Y.S=a.S;Y.c=a.c;Y.color=a.color}Y.xX();
B.Ae(q)}if(k==2){var p={S:l,c:g.j(l.C())};g.u6(X.Tl,p.c,3);p.c=g.Cn(p.c,q.depth);U.J=_.iK;U.data={R:"setsel",d:p,xJ:this.l9};
this.T(U)}this.close()};function cU(){bn.call(this,[1,13],"locstor");this.e=null;this.yj=[];var W=this.body,q=I.a("p");
q.textContent="These files are loaded every time you start Photopea.";W.appendChild(q);this.ajG=0;this.amh=I.a("span");
W.appendChild(this.amh);I.w(this.amh,"display:inline-block;  width:12em;  font-weight:bold;");var X=I.a("span","form");
W.appendChild(X);this._y=new iC([5,4],!1,null,!0);this._y.Q("click",this.aP,this);X.appendChild(this._y.K);
this.cP=new iC("Get all as ZIP",!1,null,!0);this.cP.Q("click",this.Ic,this);X.appendChild(this.cP.K);
this.aE=new eX(!0);this.aE.parent=this;this.aE.Lb(1);W.appendChild(this.aE.K);I.w(this.aE.K,"width: 40em; height: 25em")}cU.prototype=new bn;
cU.prototype.l=function(){bn.prototype.l.call(this);this.amh.textContent=js.get([13,2])+": "+eb.qc(this.ajG);
this._y.l()};cU.prototype.QL=function(W,q){this.e=W;if(q==aI.Mw)this.V9()};cU.prototype.V9=function(W,q){var X=this.e.Js.D9,D=0;
this.yj=[];for(var k in X)this.yj.push(k);this.yj.sort(function(Y,a){Y=Y.split(".");a=a.split(".");return Y[1]==a[1]?Y[0]<a[0]?-1:1:Y[1]<a[1]?-1:1});
var B=Math.floor(100*I.W$()),U=Math.floor(16*I.W$()),l=[],K=[];for(var N=0;N<this.yj.length;N++){var k=this.yj[N],m=cU.K$(k,X[k],B,U);
l.push(m);K.push(k);D+=X[k].byteLength}this.aE.Zx(l,K,B,U);this.ajG=D;this.l()};cU.prototype.aP=function(W){var q=this.aE.V();
if(q.length==0){alert("Select a file first.");return}this.aE.q([]);var X=this.e.Js.D9;for(var N=0;N<q.length;
N++)delete X[this.yj[q[N]]];var k=new ip(S.E.H,!0);k.data={R:S.m.Dt,rl:aI.Mw};this.T(k)};cU.prototype.Ic=function(W){var q=this.e.Js.D9,X={};
for(var k in q)X[k]=new Uint8Array(q[k]);var B=UZIP.encode(X);ch.save(B,"resources.zip")};cU.K$=function(W,q,X,k){var B=I.a("canvas"),K=0;
B.width=X;B.height=k;var U=B.getContext("2d"),l=W.split(".").pop().toLowerCase();for(var N=0;N<l.length;
N++)K+=l.charCodeAt(N)*613<<8*N;U.fillStyle="#"+g.Ga(K&16777215);U.fillRect(0,0,20,k);var D=Math.floor(14*I.W$());
U.fillStyle="#000000";U.font="bold "+D+"px sans-serif";var m=(k-D)/2,Y=eb.qc(q.byteLength),a=U.measureText(Y);
U.fillText(Y,X-12-a.width,k-m);return B.toDataURL()};function eP(){bn.call(this,[1,15],"pmanager");this.e=null;
this.TE=new cL([12,44],[[9,3],[12,37],[12,62],[11,6],[12,77],[12,21]]);this.TE.Q(S.E.k,this.V9,this);
this.body.appendChild(this.TE.K);var W=I.a("div","flexrow");this.body.appendChild(W);var q=this.ay8=I.a("div");
W.appendChild(q);var X=I.a("div","form");W.appendChild(X);I.w(X,"width:140px; margin-left:12px");this.aJ7=[aI.AC,aI.Zp,aI.dE,aI.d9,aI.EV,aI.Le];
this.$v=[new j2,new aQ,new a6,new en,new dh,new ix];for(var N=0;N<this.$v.length;N++)this.$v[N].parent=this;
this.s9=[];for(var N=0;N<4;N++){var k=new iC("Hello",!0,null,!0);k.Q("click",this.Da,this);this.s9.push(k);
X.appendChild(k.K)}this.V9()}eP.prototype=new bn;eP.prototype.hK=function(W){return W==bu.GD||W==bu.gB};
eP.prototype.Da=function(W){var N=this.s9.indexOf(W.target);this.$v[this.TE.V()].s4(N)};eP.prototype.l=function(){bn.prototype.l.call(this);
this.TE.l();for(var N=0;N<this.$v.length;N++)this.$v[N].l();var W=this.s9,q=this.TE.V(),X=aI.OO[this.aJ7[q]],k=X[0].toUpperCase();
W[0].tB([[23,6],"."+k]);W[1].tB(["VAR0 ."+k,[1,8]]);W[2].tB([6,37]);W[3].tB([5,4])};eP.prototype.QL=function(W,q){this.e=W;
this.V9()};eP.prototype.V9=function(W,q){if(!I.rL(this.K))return;this.l();I.ru(this.ay8);this.ay8.appendChild(this.$v[this.TE.V()].wX);
var X=this.$v,k=this.e;if(k==null)return;X[0].mX(k.cY);X[1]._Q(k.w5,k.yY);X[1].mX(k.xF);X[2].mX(k.Ix);
X[3].mX([k.sg,k.Ix]);X[4].mX(k.mh);X[5].mX(k.bS)};function c3(W,q,X){bn.call(this,q,"cwindow");this.aKV=new hw(X[0],X[1]-33);
this.oD=I.a("div","form");I.w(this.oD,"width:"+(X[2]-X[0])+"px; height:"+(X[3]-X[1])+"px");this.body.appendChild(this.oD)}c3.prototype=new bn;
c3.prototype.zs=function(W,q){return this.aKV.P()};function eG(W){var q=eG.aGR(W);bn.call(this,q,"res"+W);
var X=this.auG.bind(this);window.addEventListener("message",function(B){if(typeof B.data=="string"&&B.data.startsWith("--et ")){if(gv.XV()==null)return;
console.log(B.data);var U=this.a51=B.data.slice(5).split(",");U[0]=parseFloat(U[0]);gv.aqN(U[0],U[1],X)}}.bind(this));
this._Z=q;this.ey=W;this.aiQ=null;this.I4=null;this.Y4=0;this.ED=null;this.PD=null;this.a51=null;this.e=null;
I.w(this.body,"padding:0");this.$e=new iC("",null,null,!0);this.body.appendChild(this.$e.K);this.$e.Q("click",this.II,this);
I.w(this.$e.K,"position:absolute; margin-top: -28px;  margin-left:150px");this.Wi=new iC("\u25BC",null,null,!0);
I.w(this.Wi.K,"position:absolute; margin-top: -28px;  margin-left:270px");this.Wi.Q("click",this.aa1,this);
this.body.appendChild(this.Wi.K);this.jo=I.a("span","form");this.body.appendChild(this.jo);this.s9=[];
for(var N=0;N<9;N++){var k=new iC(eG.aGR(N));this.s9.push(k);if(N==W)k.q(!0);this.jo.appendChild(k.K);
k.Q("click",this.at4,this)}this.aql=new iC([5,3],null,null,!0);this.aql.Q("click",this.afc,this);this.atI=new iC("Upload Current Document as a Template",null,null,!0);
this.atI.Q("click",this.apo,this);this.am0=new kD("Creator / Brand name");this.Nz=new iC([1,2],null,null,!0);
this.Nz.Q("click",this.Ic,this);this.aV=I.a("iframe","scrollable");I.w(this.aV,"border:none; margin:0; padding:0;");
this.hn=I.a("div","form scrollable padded");this.Zd=new fI(W);this.Zd.Q("back",this.zE,this);this.Zd.Q("save",this.aJf,this);
this.body.appendChild(this.aV)}eG.prototype=new bn;eG.aGR=function(W){var q;if(W==0)q=[25,0];else if(W==1)q="Plugins";
else for(var X in aI.OO)if(aI.OO[X][4]==W)q=aI.OO[X][3];return q};eG.prototype.aa1=function(W){this.jo.style.display=this.jo.style.display=="none"?"":"none"};
eG.prototype.at4=function(W){var N=this.s9.indexOf(W.target);if(N==this.ey)return;this.close();var q=new ip(S.E.H,!0);
q.data={R:S.m.K_,ud:"res"+N};this.T(q)};eG.prototype.auG=function(W){this.II();this.PD=JSON.parse(W.target.response);
this.VS()};eG.prototype.zs=function(W,q){return new hw(0,0)};eG.prototype.qL=function(W,q){this.Ah=W;
this.QB=q;this.Zl=null;q=q-4;W=W;var X=W>820,k="position:absolute; margin-top: -30px;  margin-left:270px;  margin-right:20px;",B="position:absolute; margin-top:   0px;  padding:10px;  display:none;  background-color: var(--base);  width:100%;  text-align:center;";
I.w(this.jo,X?k:B);this.jo.style.marginTop=(X?-31:0)+"px";this.Wi.K.style.display=X?"none":"";var U=this.hn;
U.style.width=W-12+"px";U.style.height=q-12+"px";var U=this.Zd.K;U.style.width=W-12+"px";U.style.height=q-12+"px";
var U=this.aV;U.style.width=W+"px";U.style.height=q+"px";this.Io()};eG.prototype.QL=function(W,q){this.e=W};
eG.prototype.l=function(){bn.prototype.l.call(this);for(var N=0;N<this.s9.length;N++)this.s9[N].l();
this.aql.l()};eG.prototype.V9=function(W,q,X,k){this.Zl=W;this.II(null,!1)};eG.prototype.II=function(W,q){var X=q!=null?q:I.rL(this.aV);
if(X){if(!gv.c9()){alert("You need to log in first!");return}var k=gv.Ol();if(k==null)k={};this.I4=k.tpl?k.tpl.list:[];
this.am0.q(k.tpl&&k.tpl.brnd?k.tpl.brnd:"");this.Io()}else{this.aV.setAttribute("src","");this.aV.setAttribute("src",gv.MG("templates/?type="+this.ey+"&rsrc="+this.e.ij.join(",")))}this.body.removeChild(this.body.children[this.body.children.length-1]);
this.body.appendChild(X?this.hn:this.aV);var B=js.get(this._Z);this.$e.tB(X?"All "+B:"Add "+B)};eG.prototype.Io=function(){var W=js.get(this._Z),q=this.I4,X=this.ey,K=450;
if(q==null)return;var k=this.hn;I.ru(k);var B=I.a("h1");k.appendChild(B);B.textContent="Share your "+W+" with the world!";
var U=I.a("ul");k.appendChild(U);var l=I.a("li");U.appendChild(l);l.textContent="By publishing your "+W+", you agree to let others use them for all kinds of purposes, even commercially.";
k.appendChild(this.aql.K);if(X==0)k.appendChild(this.atI.K);I.zR(k);k.appendChild(this.am0.K);k.appendChild(this.Nz.K);
I.zR(k);K=(this.Ah-20)/Math.max(1,Math.floor(this.Ah/K))-42;var D="display:inline-block; width:"+K+"px; height:140px;  overflow:hidden; background-color:rgba(255,255,255,0.2);  margin:10px 20px 0px 0; line-height:1.5em; padding:10px;";
for(var N=q.length-1;N>=0;N--){var m=q[N];if(m.type==null)m.type=0;if(m.type!=X)continue;var Y=I.a("div");
k.appendChild(Y);I.w(Y,D);var a=I.a("img");Y.appendChild(a);a.setAttribute("src",m.thmb);I.w(a,"float:left; height:10em; width:10em;  object-fit: contain; margin-right: 1em; margin-bottom:1em;");
var p=I.a("h3");Y.appendChild(p);p.textContent=m.name;I.w(p,"margin:0 0 10px 0");var M=I.a("p");Y.appendChild(M);
M.textContent=m.desc;I.w(M,"height:76px;  overflow:hidden; margin-bottom: 6px;");for(var x=0;x<2;x++){var R=new iC(x==0?"Edit":"Delete",null,null,!0);
R.afy=N;R.VS=x==0;R.Q("click",this.aAY,this);Y.appendChild(R.K)}}};eG.prototype.apo=function(W){if(this.Zl==null){alert("No document opened.");
return}var q=confirm("Your document will be uploaded to Photopea.com and a preview to Imgur.com. Proceed?");
if(!q)return;var X=new ip(S.E.H,!0);X.data={R:S.m.nj,me:"psd",Zc:this.asN.bind(this)};this.T(X)};eG.prototype.asN=function(W){this.a8m=W;
var q=new ip(S.E.H,!0);q.data={R:S.m.nj,me:"jpg",Zc:this.aot.bind(this),aHW:1400};this.T(q)};eG.prototype.aot=function(W){this.ED={type:0,catg:0,desc:"",file:this.a8m,name:this.Zl.name.split(".")[0],thmb:W,publ:!0,utme:""};
this.VS()};eG.prototype.afc=function(W){this.ED={type:0,catg:0,desc:"",file:"",name:"",thmb:"",publ:!0,utme:""};
this.VS()};eG.prototype.aAY=function(W){this.Y4=W.target.afy;if(!W.target.VS){if(!window.confirm("Are you sure you want to delete your template?"))return;
this.I4.splice(this.Y4,1);this.Ic();this.Io();return}this.VS()};eG.prototype.VS=function(){if(I.rL(this.hn))this.body.removeChild(this.hn);
this.body.appendChild(this.Zd.K);var W=this.ED?this.ED:this.PD?this.PD:this.I4[this.Y4];if(W.type==null)W.type=0;
this.Zd.q(W)};eG.prototype.aJf=function(W){var q=this.Zd.V();if(this.ED)this.I4.push(q);else if(this.PD){var X=this.a51;
gv.aqN(X[0],X[1],this.zE.bind(this),JSON.stringify(q));return}else this.I4[this.Y4]=q;this.Ic();this.zE()};
eG.prototype.zE=function(){var W=this.PD;this.ED=null;this.PD=null;this.body.removeChild(this.Zd.K);
this.body.appendChild(this.hn);this.Io();if(W)this.II()};eG.prototype.Ic=function(){var W=gv.Ol();if(W==null)W={};
if(this.I4.length==0)delete W.tpl;else{W.tpl={list:g.N(this.I4)};var q=this.am0.V().trim();if(q!="")W.tpl.brnd=q}gv.Wt(W,function(){alert("Saved.")})};
function hp(){bn.call(this,"Make Selection","makesel");var W=I.a("div","form");this.body.appendChild(W);
this.g6=new h$([12,25,1]);this.g6.q(!0);W.appendChild(this.g6.K);I.zR(W);this.acs=new ib(!0);W.appendChild(this.acs.K);
this.GL=I.eb(this,this.body)}hp.prototype=new bn;hp.prototype.l=function(){bn.prototype.l.call(this);
this.acs.l();this.g6.l();this.GL.l()};hp.prototype.qI=function(W){var q=new ip(S.E.O,!0);q.J=_.iK;q.data={R:"frompath",jX:[null,0,this.acs.V(),this.g6.V()]};
this.close();this.T(q)};function eM(){bn.call(this,["VAR0 PSD/PSB",[1,2]],"savepsb");this.Zl=null;this.oo=null;
this.aEB=null;var W=this.aw_=I.a("div","form");I.w(W,"width:20em");this.body.appendChild(W);this.dJ=new i3([12,50],["PSD","PSB"]);
this.dJ.Q(S.E.k,this.Jv,this);W.appendChild(this.dJ.K);I.Vc(W);var q=new j1("Minify the file");W.appendChild(q.K);
I.zR(W);var X=["Blank preview image","ZIP for pixel data","Remove Smart Object pixels","Put the file into ZIP"];
this.uR=[];for(var N=0;N<X.length;N++){var k=new h$(X[N]);this.uR.push(k);W.appendChild(k.K);k.Q(S.E.k,this.Jv,this)}I.Vc(W);
this.vW=new j1("aa.psd");this.wU=new j1("10 kB");W.appendChild(this.wU.K);this.aAy=new j1("1000 B");
W.appendChild(this.aAy.K);this.GL=new iC([1,2],!0,null,!0);this.GL.Q("click",this.qI,this);W.appendChild(this.GL.K);
this.P3=new iC(["VAR0 (Google Drive)",[1,2]],!0,null,!0);this.P3.Q("click",this.qI,this);W.appendChild(this.P3.K);
this.Q("closebtn",this.UO,this)}eM.prototype=new bn;eM.prototype.V9=function(W,q,X,k){var B=I.rL(this.P3.K),U=W.Oi!=null&&W.Oi.b5=="psd";
if(U&&!B)this.aw_.appendChild(this.P3.K);if(!U&&B)this.aw_.removeChild(this.P3.K);for(var N=0;N<this.uR.length;
N++)this.uR[N].q(!1);this.Zl=W;this.Jv()};eM.prototype.qI=function(W){if(W.target==this.GL)ch.save(this.oo,this.aEB);
else{if(this.uR[3].V()){alert("You should not save a ZIP as a PSD to Google Drive.");return}a$.aqg(this.Zl,this.oo)}};
eM.prototype.UO=function(){this.Zl=null;this.oo=null};eM.prototype.Jv=function(){var W=this.Zl,q=[!1,!1,!1,!1];
for(var N=0;N<3;N++)q[N]=this.uR[N].V();var X=this.uR[3].V(),k=q[3]=this.dJ.V()==1,B=W.name.slice(0,W.name.length-3),U=this.oo=lf.c_("PSD")._M(W,0,0,q),a1=this.aEB=B+"ps"+(k?"b":"d");
if(X){var l={};l[a1]=new Uint8Array(U);U=this.oo=UZIP.encode(l);a1=this.aEB=B+"zip"}this.vW.q(a1);this.wU.q(eb.qc(U.byteLength));
this.wU.K.style["font-size"]="2em";this.aAy.q(" \u2001 "+U.byteLength+" B");this.GL.tB(js.get([1,2])+" \""+a1+"\"")};
eM.prototype.l=function(){bn.prototype.l.call(this);this.dJ.l();this.GL.l();this.P3.l()};function el(){bn.call(this,"Confirm","confirm");
this.tO=null;var W=I.a("div");I.w(W,"margin-bottom:1em");this.body.appendChild(W);this.ck=I.a("div");
this.ck.textContent="Hello";W.appendChild(this.ck);this.GL=I.eb(this,this.body)}el.prototype=new bn;
el.prototype.qI=function(W){if(this.tO==null)return;console.log("okconfirm");this.close();this.tO();
this.tO=null};el.prototype.l=function(){bn.prototype.l.call(this);this.GL.l()};el.prototype.V9=function(W,q){if(q.atV||q.a4Q)this.ck.innerHTML=q._;
else this.ck.textContent=q._;if(q.a3d)this.GL.tB(q.a3d);this.tO=q.tO;this.GL.K.focus();if(q.atV!=null)this.K.style.top=Math.random()*(window.innerHeight-150)+"px";
this.aIn=q.atV!=null};el.prototype.zs=function(W,q){return new hw(Math.max(0,(W-500)/2),Math.max(0,Math.min(60,(q-100)/2)))};
el.prototype.qL=function(W,q){this.ck.style.width=W-30+"px"};function fh(){bn.call(this,[1,16,2],"newartb");
this.pX=0;this.yU=null;var W=I.a("div","form");W.style.width="260px";this.body.appendChild(W);this.aE=new l2;
W.appendChild(this.aE.K);this.GL=I.eb(this,W)}fh.prototype=new bn;fh.prototype.C$=function(W,q){return W!=null};
fh.prototype.qI=function(W){var q=this.aE.V();this.yU.r=q.x;this.yU.$=q.y;var X=new ip(S.E.O,!0);X.J=_.tk;
X.data={ab6:this.yU,Bz:this.pX};this.T(X);this.close()};fh.prototype.l=function(){bn.prototype.l.call(this);
this.aE.l();this.GL.l()};fh.prototype.V9=function(W,q){this.pX=q.Bz;var X=new dU(0,0,W.r,W.$);if(W.Y.length!=0){var k=W.U[W.Y[0]];
if(k.add.artb){X=k.La();X.x+=X.r+100}if(q.Bz==1)X=_.Gz.wu(W)}this.yU=X;this.aE.q(new hw(X.r,X.$))};function jh(){bn.call(this,[1,19,0],"storwindow");
I.w(this.body,"padding:0");this.QW=null;this.Q("closebtn",this.P9,this);this.Q("canclose",this.P9,this)}jh.prototype=new bn;
jh.prototype.QL=function(W,q){if(this.QW)this.QW.QL(W,q)};jh.prototype.zs=function(W,q){return new hw(Math.max(0,Math.min(150,(W-980)/2)),Math.max(0,Math.min(150,(q-590)/2)))};
jh.prototype.qL=function(W,q){this.Ah=W;this.QB=q;W=Math.min(W,980);q=Math.min(q,590);if(this.QW)this.QW.qL(W,q)};
jh.prototype.l=function(){bn.prototype.l.call(this);if(this.QW)this.QW.l()};jh.prototype.V9=function(W,q,X,k){this.l9=q.Bz==0?["VAR0 VAR1",[1,0],[1,19,1]]:["VAR0 VAR1",[1,2],[1,19,2]];
this.l();if(this.QW==null){this.QW=new hf;this.QW.parent=this;this.body.appendChild(this.QW.K);this.l();
this.qL(this.Ah,this.QB)}Storage.Lb(q.Bz,q.nK?q.nK:W?W.name:"",q.f1);hf.eC(this.QW)};jh.prototype.P9=function(W){Storage.Lb(0);
hf.Lo();if(W.I=="canclose")this.close()};function c8(){bn.call(this,[2,14],"varsdats");var W=this.oD=I.a("div","form");
I.w(W,"width:300px");this.body.appendChild(W);this.Zl=null;this.it=0;this.e=null;this.YQ=new i3(null,[[2,14],"Data Sets",[1,8]]);
this.YQ.Q(S.E.k,this.aqa,this);this.IA=new c8.VX;this.ha=new c8.XO;this.v_=new c8.zG;this.ha.Q("activate",this.Z1,this);
this.v_.Q("export",this.YV,this);this.GL=I.eb(this)}c8.prototype=new bn;c8.prototype.aqa=function(W){var q=this.YQ.V(),X=this.oD;
I.ru(X);X.appendChild(this.YQ.K);I.Vc(X);X.appendChild([this.IA,this.ha,this.v_][q].K);X.appendChild(this.GL.K)};
c8.prototype.qI=function(W){var q=new ip(S.E.O,!0);q.J=_.b9;q.data={R:b._f,_:JSON.stringify([this.IA.V(),this.ha.V()])};
this.T(q);this.close()};c8.prototype.l=function(){bn.prototype.l.call(this);this.GL.l();this.v_.l()};
c8.prototype.V9=function(W,q){this.Zl=W;this.v_.Zl=W;if(W==null)return;this.IA.V9(W,q);this.ha.V9(W,q);
this.YQ.q(0);this.aqa();this.it=0;this.v_.aeA()};c8.prototype.QL=function(W,q){this.e=W};c8.prototype.YV=function(W){var q=this.IA.V(),X=this.ha.V(),k=this.v_.V();
if(q.length==0){alert("There are no variables.");return}if(X.length==0){alert("There are no data sets.");
return}var B=lf.aoS(this.Zl,q,X,this.ha.asB(),k[0],k[1],k[2],this.e,this);if(B!=null)ch.save(B,"images.zip")};
c8.prototype.Z1=function(W){var q=this.ha.Y,X=this.IA.V(),k=this.ha.V();if(X.length==0){alert("There are no variables.");
return}if(k.length==0){alert("There are no data sets.");return}this.m0();this.it+=lf.afX(this.Zl,this,X,k,this.ha.asB(),q)};
c8.prototype.m0=function(){var W=new ip(S.E.O,!0);W.J=_.Yo;W.data={R:"h_stepbck"};while(this.it>0){this.T(W);
this.it--}};c8.zG=function(){gH.call(this);var W=this.K=I.a("div");this.awj=new kD("Variable for file names");
W.appendChild(this.awj.K);I.Vc(W);this.Zl=null;this.p$=["JPG","PNG","PDF"];this.dJ=new i3([12,50],this.p$);
this.dJ.Q(S.E.k,this.aeA,this);W.appendChild(this.dJ.K);this.C4=new dp;W.appendChild(this.C4.K);this.cP=new iC("Export all items",!0,null,!0);
this.cP.Q("click",this.YV,this);W.appendChild(this.cP.K)};c8.zG.prototype=new gH;c8.zG.prototype.l=function(W){this.awj.l();
this.dJ.l();this.cP.l();this.C4.l()};c8.zG.prototype.aeA=function(W){if(this.Zl==null)return;var q=this.p$[this.dJ.V()],X=this.Zl,k=X.add.artd;
this.C4.fD(q,null,null,k!=null&&k.Cnt.v>1)};c8.zG.prototype.YV=function(W){this.T(new ip("export"))};
c8.zG.prototype.V=function(){var W=this.p$[this.dJ.V()];return[W,this.C4.V(),this.awj.V().trim()]};c8.XO=function(){gH.call(this);
this.H5=null;this.aB1=[];this.Y=0;var W=this.K=I.a("div","form");this.azh=new a8("Import a CSV file");
W.appendChild(this.azh.K);this.azh.Q(S.E.k,this.abb,this);this.w0=I.a("div","scrollable");I.w(this.w0,"overflow:scroll;  height:234px;");
W.appendChild(this.w0);this.ahz=new a8("Source Images",!0);W.appendChild(this.ahz.K)};c8.XO.prototype=new gH;
c8.XO.prototype.abb=function(W){var q=this.azh.V();for(var X in q){q=q[X];break}this.H5=am.WZ(Z._o(q));
this.L8()};c8.XO.prototype.asB=function(){return this.ahz.V()};c8.XO.prototype.V9=function(W,q){var X=this.H5=g.N(W.dp);
this.L8()};c8.XO.prototype.V=function(){return this.H5};c8.XO.prototype.L8=function(){var W=this.JV.bind(this),q=this.H5,k="max-width: 100px; overflow:hidden; white-space: nowrap; border: 1px solid; padding:0px 5px;";
this.aB1=[];var X=I.a("table");I.w(X,"border-collapse: collapse;");for(var N=0;N<q.length;N++){var B=I.a("tr"),U=q[N],l=N==0?"th":"td";
X.appendChild(B);var K=I.a(l);B.appendChild(K);I.w(K,k+"cursor:pointer;");if(N!=0)K.textContent="\u2713";
this.aB1.push(K);K.addEventListener("click",W,!1);for(var D=0;D<U.length;D++){var K=I.a(l);K.textContent=U[D];
B.appendChild(K);I.w(K,k);K.setAttribute("title",U[D])}}I.ru(this.w0);this.w0.appendChild(X)};c8.XO.prototype.JV=function(W){this.Y=this.aB1.indexOf(W.currentTarget);
this.T(new ip("activate"))};c8.VX=function(){gH.call(this);var W=this.K=I.a("div","form marged");this.nq=null;
this.Bw=[];this.zZ=[];this.xQ=null;this.V8=new cL([0,3],[]);this.V8.Q(S.E.k,this.ak6,this);W.appendChild(this.V8.K);
this.aoD=[];var q=["Visibility","Text Content","Pixel Content"];for(var N=0;N<q.length;N++){I.Vc(W);
var X=new h$(q[N]);X.Q(S.E.k,this._t,this);W.appendChild(X.K);I.zR(W);var k=new kD("Variable Name");
k.Q(S.E.k,this._t,this);W.appendChild(k.K);this.aoD.push(X,k)}};c8.VX.prototype=new gH;c8.VX.prototype._t=function(W){var q=this.V8.V(),X=this.xQ[q],k=this.Bw[q],B=this.nq["l"+X],U=this.aoD;
if(B==null)this.nq["l"+X]=B=[];while(B.length!=0)B.pop();for(var N=0;N<3;N++){var l=U[2*N+1].V().trim();
if(!U[2*N].V())continue;if(l.indexOf(" ")!=-1){alert("Variable names can not contain spaces. But you can use \".\", \":\", \"-\" or \"_\".",4e3)}l=l.replaceAll(" ","");
var K={varName:l,trait:["visibility","textcontent","fileref"][N]};B.push(K);if(N==2){K.align="center";
K.clip="false";K.placementMethod="fit";K.valign="middle"}}if(B.length==0)delete this.nq["l"+X];this.V9()};
c8.VX.prototype.ak6=function(W){var q=this.V8.V(),X=this.xQ[q],k=this.Bw[q],B=this.nq["l"+X],U=this.aoD;
if(B==null)B=[];for(var N=0;N<3;N++){var l=N==0||N==1&&k==0||N==2&&k==1;U[2*N].Si(l);U[2*N].q(!1);U[2*N+1].Si(l);
if(!l)U[2*N+1].q("")}for(var N=0;N<B.length;N++){var K=B[N],D=K.trait,m=["visibility","textcontent","fileref"].indexOf(D);
U[m*2].q(!0);U[m*2+1].q(K.varName)}};c8.VX.prototype.V9=function(W,q){if(W){var X=g.N(W.$y),k=this.nq={};
for(var N=0;N<X.length;N++){var B=X[N],U=B.docRef;U="l"+U.slice(4,U.length-2);if(k[U]==null)k[U]=[];
k[U].push(B)}this.xQ=[];this.Bw=[];this.zZ=[];for(var N=W.U.length-1;N>=0;N--){var l=W.U[N],U=l.add.lyid;
if(l.add.lsct==e5.dx)continue;this.xQ.push(U);this.Bw.push(l.add.TySh?0:1);this.zZ.push(l.getName())}}var K=[],D=this.zZ;
for(var N=0;N<D.length;N++){K.push(D[N]+(this.nq["l"+this.xQ[N]]?" *":""))}var m=this.V8.V();this.V8.oj(K);
this.V8.q(m);this.ak6()};c8.VX.prototype.V=function(){var W=this.nq,q=[];for(var X in W){var k=W[X];
for(var B=0;B<k.length;B++){k[B].docRef="id('"+X.slice(1)+"')";q.push(k[B])}}return q};function dB(){bn.call(this,["VAR0 VAR1",[15,10,22],[8,11,0]],"divslice");
this.apJ=!1;var W=this.Yq=[],q=I.a("div","form");I.w(q,"width:20em");this.body.appendChild(q);for(var N=0;
N<2;N++){var X=new h$([22,4,2+N]);q.appendChild(X.K);I.zR(q);var k=new i3(null,[["N equal parts"],["N pixels per part"]]);
q.appendChild(k.K);I.zR(q);var B=new al("N",0,1e3);B.q(4);B.parent=this;q.appendChild(B.K);I.zR(q);if(N==0)I.Vc(q);
W.push(X,k,B)}for(var N=0;N<W.length;N++)W[N].Q(S.E.k,this.cf,this);W.push(I.eb(this,q));this.Q("closebtn",this.m0,this)}dB.prototype=new bn;
dB.prototype.m0=function(){if(this.apJ){var W=new ip(S.E.O,!0);W.J=_.Yo;W.data={R:"h_stepbck"};this.T(W)}};
dB.prototype.cf=function(W){this.m0();this.apJ=!0;var q=[];for(var N=0;N<6;N++)q.push(this.Yq[N].V());
var X={__name:"Divide",classID:"divide",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"slice",typeID:"Ordn",enum:"Trgt"}}]}};
for(var k=0;k<2;k++){if(!q[k*3])continue;var B=q[k*3+1],U=q[k*3+2];X[["slices","pixels"][B]+["Across","Down"][k]]={t:"long",v:U}}var l=new ip(S.E.dq,!0);
l.data={yx:"divide",Og:X};this.T(l)};dB.prototype.qI=function(W){this.close()};dB.prototype.l=function(){bn.prototype.l.call(this);
var W=this.Yq;for(var N=0;N<W.length;N++)W[N].l()};dB.prototype.V9=function(W,q){this.apJ=!1};function fB(){bn.call(this,"Stroke Path","strokepath");
this.e=null;this.J3=null;this.a0y=null;this.GL=null;this.aDT=[_.te,_.AC,_.pM,_.cA,_.aw,_.Om,_.gv,_.rm,_.rb,_.Q4,_.nH,_.A2,_.ed,_.Uc,_.lv]}fB.prototype=new bn;
fB.prototype.l=function(){bn.prototype.l.call(this);if(this.GL){this.J3.l();this.GL.l()}};fB.prototype.qI=function(W){var q=this.aDT[this.J3.V()],X=null;
for(var k in _.X4)if(_.X4[k]==q)X=k;var B=new ip(S.E.dq,!0);B.data=_.U0.Ke(X,this.a0y.V());this.close();
this.T(B)};fB.prototype.QL=function(W,q){if(this.e==null){var X=[];for(var N=0;N<this.aDT.length;++N){X.push(W.Z.map[this.aDT[N]].J.name)}var k=I.a("div","form");
this.body.appendChild(k);this.J3=new cL("Tool",X);this.J3.q(1);k.appendChild(this.J3.K);this.a0y=new h$("Simulate Pressure");
I.zR(k);k.appendChild(this.a0y.K);this.GL=I.eb(this,this.body)}this.e=W};function hv(){bn.call(this,[1,18],"linkview");
I.Wx(this.body,"form");var W=this.oZ=[new kD(null,null,17),new iC([5,1],!1,null,!0),new iC([1,0],!1,null,!0)];
for(var N=0;N<3;N++){var q=W[N];this.body.appendChild(q.K);if(N!=0)q.Q("click",this.De,this);if(N==0)I.zR(this.body)}}hv.prototype=new bn;
hv.prototype.V9=function(W,q){var X=q.a4R;if(X.startsWith("https://"))X=X.slice(8);this.oZ[0].q(X)};
hv.prototype.De=function(W){var q=this.oZ,X=q[0].V(),k=W.target==this.oZ[1];if(k){navigator.clipboard.writeText(X);
alert("Copied to a clipboard!")}else window.open("https://"+X,"Shared")};function gX(W){bn.call(this,W==0?[[23,6],[17,2]]:["VAR0 VAR1",[1,2],[17,2]],["loadsel","savesel"][W]);
this.Bx=null;this.mt=W;var q=I.a("div","form label8");I.w(q,"max-width:26em");this.body.appendChild(q);
this.TG=new cL("Document",["abc","def"]);this.TG.Q(S.E.k,this._t,this);q.appendChild(this.TG.K);I.zR(q);
this.rj=new cL([12,4],["abc","def"]);this.rj.Q(S.E.k,this._t,this);q.appendChild(this.rj.K);this.apv=new h$([4,11]);
this.ck=new kD([12,48]);this.ck.q("Alpha");if(W==0){}else{q.appendChild(this.ck.K)}this.E6=new ib(!0);
q.appendChild(this.E6.K);this.GL=I.eb(this,q)}gX.prototype=new bn;gX.prototype.mf=function(){return!0};
gX.prototype.l=function(){bn.prototype.l.call(this);this.GL.l();this.TG.l();this.rj.l();this.ck.l();
this.apv.l();this.E6.l()};gX.prototype._t=function(W){var q=this.mt;if(W==null||W==this.TG){var X=this.TG.V(),k=this.Bx[X],B=[];
if(q==0)B.push(k.U[k.Y[0]].getName()+" Transparency",k.U[k.Y[0]].getName()+" Gray");else B.push([5,3]);
for(var N=0;N<k.RH.length;N++)B.push(k.RH[N].name);this.rj.oj(B)}if(q==0)return;var U=this.rj.V();this.ck.Si(U==0);
this.E6.Si(U!=0)};gX.prototype.V9=function(W,q,X){this.Bx=X;var k=[];for(var N=0;N<X.length;N++){var B=X[N].name;
k.push(B.length<30?B:B.slice(0,27)+"...")}this.TG.oj(k);this.TG.q(X.indexOf(W));this._t(null)};gX.prototype.qI=function(W){var q=this.mt,X=this.rj.V(),k=this.TG.V(),B=this.Bx[k],U=this.E6.V(),l,K=!1;
if(q==0){if(X==1)K=!0;X=Math.max(X-1,0)}if(X==0){l=new ip(S.E.dq,!0);if(q==0)l.data=_.lR.yu(U,K?"Gray":"Trsp",B.U[B.Y[0]].getName());
else l.data={yx:"duplicate",Og:{classID:"null",Nm:{t:"TEXT",v:this.ck.V()},null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}}else{l=new ip(S.E.O,!0);
if(q==0){l.J=_.iK;l.data={R:"fromchannel",jX:[-4-X,0,U]}}else{l.J=_.b9;l.data={R:b.zW,w7:"seltochannel",jX:[X-1,U]}}}this.close();
this.T(l)};function hl(){bn.call(this,"PeaMark","peamark");var W=I.a("div");W.innerHTML="Test your desktop, laptop, phone, tablet, any device! Bigger score is better :)<br /><small>*** connect your laptop to a charger for better results</small>";
this.body.appendChild(W);W.style.marginBottom="40px";var q=I.a("div","form");I.w(this.body,"width:320px;");
this.body.appendChild(q);this.aHg=!1;this.nY=[];this.a0=[];this.are=[];for(var N=0;N<3;N++){var W=I.a("span");
W.textContent="0";q.appendChild(W);I.w(W,"text-align:center; font-size:2em;  width:50%; display:inline-block; vertical-align:middle;");
var X=new iC("Test "+["CPU","GPU","free RAM"][N],!1,null,!0);q.appendChild(X.K);I.w(X.K,"width:50%; margin-right:0px;");
X.Q("click",this.a6b,this);this.nY.push(W);this.are.push(X);var k=I.a("hr");this.a0.push(k);if(N!=2)q.appendChild(k);
I.w(k,"height:2px; background-color:#00ff00")}I.zR(this.body);this.a07=new iC("Browse scores",!1,null,!0);
var B=this.a07.K;this.body.appendChild(B);this.a07.Q("click",this.at1,this);I.w(B,"position:absolute;top:100px;left:13px;");
this.aD2=new iC("Tweet your score!",!1,null,!0);var B=this.aD2.K;this.body.appendChild(B);this.aD2.Q("click",this.at1,this);
I.w(B,"position:absolute;top:100px;right:13px;");this.Gx=I.a("div","scrollable");this.body.appendChild(this.Gx);
this.Gx.style.height="226px";this.W5=[];this.ahh=0;this.aHM=this.a7n.bind(this);this.a9G()}hl.prototype=new bn;
hl.prototype.at1=function(W){var q=PMRK,X;if(W.target==this.a07){X="https://twitter.com/hashtag/peamark?f=live"}else{var k=q[q.length-1];
if(Math.min(k[2],k[3])==0){alert("Run both tests first.");return}X="https://twitter.com/intent/tweet?text="+encodeURIComponent("My #peamark score is "+k[2]+"/"+k[3]+"! Test your device at Photopea.com (More - PeaMark)")}window.open(X,"_blank")};
hl.prototype.a6b=function(W){var q=this.are.indexOf(W.target),X=1024,k=1024,B=new dU(0,0,X,k),U=this.aHM;
if(q==0){var l=g.j(B.C());for(var K=0;K<k;K++)for(var D=0;D<X;D++)l[K*X+D]=((K>>>7)+(D>>>7)&1)*255;this.W5=[q,l,X,k];
for(var N=0;N<4;N++)U(!0)}else if(q==1){var m=g.j(B.C()*4),Y=dd.I9(1,X,k);Y.set(m);g.WD(m,4278190335);
var a=dd.I9(0,X,k);a.set(m);var p=[1,1,-1,0,-1,1,-1,0,-.3333333432674408,-.3333333432674408,-.3333333432674408,0,1,-1,-1,0],M={I:dd.filter.a2A,Bt:new Float32Array([1/X,1/k]),aI_:0,l6:20,abU:new Float32Array([0,1]),aBh:new Float32Array([0,0,0]),av_:new Float32Array(p),agj:new Float32Array(p)};
this.W5=[q,M,m,a,Y];U(!0)}else{if(this.aHg){alert("Close all documents before running this test.");return}this.W5=[q,[]];
U(!0)}this.a30=[[0,0],[0,0],[0,0]];this.ahh=Date.now();setTimeout(this.aHM,20)};hl.prototype.a7n=function(W){var q=this.W5,X=q[0],k=Date.now(),l=!1,K;
if(X==0){g.style.j6(q[1],q[2],q[3])}else if(X==1){dd.vo(q[4]);dd.filter.Mn(q[1],q[3].hc);q[4].get(q[2])}if(W)return;
var B=Date.now()-k,U=this.a30[X];U[0]+=B;U[1]++;if(X<2){var D=[26,73];K=Math.round(1e3*D[X]/(U[0]/U[1]));
var m=(Date.now()-this.ahh)/5e3,l=m>1;this.a0[X].style.width=Math.min(100,m*100)+"%"}else{var Y=128*(1<<20);
try{var a=new Uint8Array(Y);a.fill(117);q[1].push(a)}catch(bu){l=!0;this.W5=null;alert("finished")}K=(q[1].length*Y/(1<<30)).toFixed(2)+" GB"}this.nY[X].textContent=K;
if(!l)setTimeout(this.aHM,20);else{var p=PMRK;p[p.length-1][2+X]=K;this.a9G()}};hl.prototype.a9G=function(){var W=this.Gx,X="",k=" style=\"text-align:right; width:4em;\">";
I.ru(W);var q=PMRK.slice(0);q.sort(function(D,m){return 1e3*(m[2]-D[2])+(m[3]-D[3])});var B="<td"+k,U="<th"+k;
for(var N=0;N<q.length;N++){var l=q[N],K=null;if((N&1)==0)K="rgba(255,255,255,0.05)";if(l[1]=="Your Device")K="rgba(255,255,0,0.2)";
X+="<tr style=\""+(K?" background-color:"+K:"")+"\"><td style=\"text-align:center\">"+["\uD83D\uDDA5","\uD83D\uDCBB","\uD83D\uDCF1","\uD83D\uDCF1"][l[0]]+"</td><td>"+l[1]+"</td>"+B+l[2]+"</td>"+B+l[3]+"</td></tr>"}W.innerHTML="<table style=\"line-height:1.5em; border-collapse: collapse;\"><tr><th></th><th style=\"width:13.7em;\">Device</th>"+U+"CPU</th>"+U+"GPU</th></tr>"+X+"</table>"};
hl.prototype.V9=function(W,q,X,k){this.aHg=W!=null};function iG(){bn.call(this,"Measurement Scale","measscale");
var W=I.a("div","form label8");W.style.width="300px";this.body.appendChild(W);var q=this.pg=[new kD("Pixel Length"),new kD("Logical Length"),new kD("Unit Name"),new j1("Hi")];
for(var N=0;N<4;N++){var X=q[N];X.Q(S.E.k,this._t,this);W.appendChild(X.K)}this.GL=I.eb(this,W)}iG.prototype=new bn;
iG.prototype.zs=function(W,q){return new hw(Math.max(0,Math.min(150,(W-250)/2)),Math.max(0,Math.min(150,(q-120)/2)))};
iG.prototype._t=function(W){var q=this.pg;q[3].q(q[0].V()+" pixels = "+q[1].V()+" "+q[2].V())};iG.prototype.qI=function(W){var q=this.pg,X=[];
for(var N=0;N<3;N++)X.push(q[N].V());X[0]=parseFloat(X[0]);X[1]=parseFloat(X[1]);var k=new ip(S.E.O,!0);
k.J=_.ns;k.data={R:"unit",_:X};this.T(k);this.close()};iG.prototype.l=function(){bn.prototype.l.call(this);
var W=this.pg;for(var N=0;N<W.length;N++)W[N].l()};iG.prototype.V9=function(W,q){var X=this.pg;X[0].q(Math.round(q.Fk));
if(W.mP){var k=W.mP.T.v;console.log(k);X[1].q(k.logicalLength.v);X[2].q(k.logicalUnits.v)}else{X[1].q(1);
X[2].q("unitName")}this._t()};function dE(W,q,X,k){gH.call(this);this.name=W;this.awA=X;this.cJ=k;this.$o=I.a("div","");
this.$o.setAttribute("draggable","true");this.nJ=I.a("div","pbody");this.$G=new iC("",!1,"");this.$G.parent=this;
this.a6L=I.a("span","cross gsicon");this.OY=I.a("span","label");var B=this.aos.bind(this);this.$o.addEventListener("mousedown",this.wk.bind(this),!1);
this.$o.addEventListener("contextmenu",B,!1);this.$G.K.addEventListener("contextmenu",B,!1);this.a6L.addEventListener("mousedown",this.Qu.bind(this),!1);
this.$o.appendChild(this.OY);if(q)this.$o.appendChild(this.a6L);this.xr=!1;this.OY.textContent=W}dE.prototype=new gH;
dE.prototype.So=function(){return null};dE.prototype.l=function(){var W=js.get(this.name),q=!1,X=this.Ah==0?22:Math.round(2+this.Ah/50);
if(W.endsWith(" *")){q=!0;W=W.slice(0,W.length-2);X-=2}var k=W.length>X;this.OY.textContent=k?W.slice(0,X-2):W;
this.$o.setAttribute("title",W);if(k)for(var B=0;B<2;B++){var U=I.a("span");U.textContent=W.charAt(X-2+B);
I.w(U,"opacity:"+(.6-B*.4));this.OY.appendChild(U)}if(q){var U=I.a("span");U.textContent=" *";this.OY.appendChild(U)}var l=W.split(" "),K=l.length==2?l[0].substring(0,2)+l[1][0]:W.substring(0,3);
if(K.charCodeAt(0)>=11776)K=K.substring(0,1);var D=this.awA;if(D==null)this.$G.tB(K,W);else{var m;if(D.startsWith("---"))m="<img src=\""+PIMG[D.slice(3)]+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(D.startsWith("==="))m="<img src=\""+D.slice(3)+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(D.indexOf("\"")==-1)m="<img src=\""+D+"\" alt=\""+I.mr(W).replace(/"/g,"&quot;")+"\" height=\"18\" width=\"18\" loading=\"lazy\" style=\"margin:1px 3px;\" />";
this.$G.tB(m,W)}};dE.prototype.enable=function(){this.nJ.className="pbody"};dE.prototype.disable=function(){this.nJ.className="pbody disabled"};
dE.prototype.QL=function(W,q){};dE.prototype.V9=function(W,q,X){};dE.prototype.mu=function(W){};dE.prototype.qL=function(W,q){};
dE.prototype.b1=function(W){this.name=W;this.l()};dE.prototype.Ql=function(){};dE.prototype.wk=function(W){if(W.button==0)this.T(new ip("select",!1));
if(W.button==1)this.FB()};dE.prototype.aos=function(W){I.hk(W);var q=this.cJ!=null&&isNaN(this.cJ),X=I.IO(W,document.body),k=this.ayL;
if(k==null){k=this.ayL=new j_(q?[{name:"Uninstall Plugin"}]:[{name:[1,12,0]},{name:"Close All"},{name:"Close Others"}]);
this.ayL.Q("select",this.a7h,this)}k.update(null);k.l();k.parent=this;var B=new ip(S.E.H,!0);B.data={R:S.m.k8,ii:k,x:X.x+1,y:X.y+1};
this.T(B)};dE.prototype.FB=function(){if(this.cJ!=null){var W=new ip(S.E.H,!0);W.data={R:S.m.bD,ii:this.ayL};
this.T(W);if(isNaN(this.cJ)){W.data={R:S.m.Dt,rl:aI.aO,apd:this.Pq.resID}}else{W.data={R:S.m.Dt,rl:aI.k$,_:parseFloat(this.cJ),m8:"del"}}this.T(W)}else if(this.aHD())this.T(new ip(S.E.V_,!1))};
dE.prototype.aHD=function(W){return!0};dE.prototype.Qu=function(W){if(W.stopPropagation)W.stopPropagation();
this.FB()};dE.prototype.a7h=function(W){var N=W.target.kN()[0];if(N==0)this.FB();else{var q=new ip(S.E.V_,!1);
q.data=N-1;this.T(q)}};dE.prototype.mc=function(W,q,X,k,B){};dE.prototype.lG=function(W,q,X,k,B){};dE.prototype.iY=function(W,q,X,k,B){};
dE.j4=function(W,q,X){if(W.childElementCount!=0)return;var k=W.textContent;this.It=this.apy.bind(this);
this.aoi=this.a5I.bind(this);this.ni=q;this.aBv=X;this.l0=W;this.lx=k;var B=I.a("input","");B.setAttribute("type","text");
B.setAttribute("size","10");B.setAttribute("value",k);I.ru(W);W.appendChild(B);B.select();B.focus();
I.Ch(W);W.addEventListener("keyup",this.It,!1);document.body.addEventListener("mousedown",this.aoi,!1)};
dE.j4.prototype.apy=function(W){var q=bu.aZ,X=q(W.code,bu.$H);if(q(W.code,bu.hJ)||X)this.aJE(X)};dE.j4.prototype.a5I=function(W){var q=W.target;
if(q.tagName&&q.tagName.toLowerCase()=="input")return;this.aJE(!0)};dE.j4.prototype.aJE=function(W){var q=this.l0,X=q.firstChild.value;
q.removeEventListener("keyup",this.It);document.body.removeEventListener("mousedown",this.aoi);if(this.aBv||W&&X!=""&&X!=this.lx){this.ni(X)}else{I.ru(q);
q.textContent=this.lx}};dE.ES=function(){return[0,1,2,3,5,6,7,9,10,16,17,100]};dE.a11=function(W){var q=dE.ES(),X=[];
for(var N=0;N<W.length;N++)if(q.indexOf(W[N])==-1)X.push(W[N]);for(var N=0;N<q.length;N++)if(W.indexOf(q[N])==-1)X.push(-q[N]);
return X};dE.aJF=function(W){var q=dE.ES();for(var N=0;N<W.length;N++){var X=W[N],k=q.indexOf(X);if(k==-1)k=q.indexOf(-X);
if(0<=X&&k==-1)q.push(X);if(X<0&&k!=-1)q.splice(k,1);if(X==0&&k!=-1)q.splice(k,1)}return q};dE.FV={Yo:"0",avt:"1",b9:"2",a3q:"3",abr:"4",iD:"5",CSS:"6",AC:"7",az1:"8",aIH:"9",alw:"10",acC:"11",aB0:"12",Z$:"13",ai:"14",a7I:"15",a67:"16",zg:"17",aio:"18",agT:"19",aFU:"20",d9:"21",aoR:"22",a5V:"23",awQ:"24",akW:"25",ask:"26",aoO:"27",IL:"28"};
function kM(){dE.call(this,[9,9],!1,"---panels/actions",dE.FV.acC);this.e=null;this.fr=[0,0]}kM.prototype=new dE("");
kM.prototype.Y3=function(){if(!I.rL(this.nJ))return;if(this.Gb){this.L8();return}this.Gb=I.a("div","padded scrollable");
I.w(this.Gb,"width:260px;  height:260px");this.nJ.appendChild(this.Gb);this.Q(S.E.k,this.Bp,this);this.Ww=I.a("div","lpfoot");
this.nJ.appendChild(this.Ww);this.$v=[];var W="<svg  class=\"miniscale gsicon\" viewBox=\"0 0 15 15\" width=\"15\" height=\"15\" fill=\"black\">",q="</svg>",X=W+"<path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" />"+q,k=W+"<path d=\"M0,0 L15,7.5 L0,15 Z\" />"+q;
this.aJI=W+"<circle cx=\"7.5\" cy=\"7.5\" r=\"7.5\" />"+q;this.atj=W+"<path d=\"M1,1 L14,1 L14,14 L1,14 Z\" />"+q;
var B=[this.aJI,k,"lrs/folder","lrs/newlayer","lrs/bin",X],U=[[15,8,0],[5,8],[15,8,1],[15,8,2],[5,4],[1,2]];
for(var N=0;N<B.length;N++){var l=B[N];if(1<N&&N!=B.length-1)l="<img src=\""+PIMG[B[N]]+"\" class=\"miniscale gsicon\" />";
var K=new iC(l,!1,U[N]);K.Q("click",this.OS,this);this.Ww.appendChild(K.K);this.$v.push(K)}this.L8()};
kM.prototype.l=function(){dE.prototype.l.call(this);if(this.Gb==null)return;for(var N=0;N<this.$v.length;
N++)this.$v[N].l()};kM.prototype.OS=function(W){var N=this.$v.indexOf(W.currentTarget),q=this.fr,X=this.e,k=X.uX;
if(N==0){var B,U=X.Zj;if(k.length==0){alert("Create an Action Set first.");return}if(q.length<2){alert("Select a target action first.");
return}if(U==null){B=this.atj;U=this.fr}else{B=this.aJI;U=null}this.$v[0].tB(B);X.Zj=U}else if(N==1)this.aJg();
else if(N==2||N==3){var l={xJ:"Action Set "+k.length,eO:[],exp:!0};if(N==2||k.length==0){q=[k.length];
k.push(l)}if(N==3){var K=k[q[0]].eO;q=[q[0],K.length];K.push({xJ:"Action "+K.length,color:0,eO:[],a5G:!1,shift:!1,exp:!0,bT:K.length})}this.fr=q;
this.L8()}else if(N==4){var D;if(q.length==1)D=k;else if(q.length==2)D=k[q[0]].eO;else D=k[q[0]].eO[q[1]].eO;
var m=q.length-1;D.splice(q[m],1);if(D.length==0)q.pop();else while(q[m]>=D.length)q[m]--;if(q.length==0)q.push(0);
this.L8()}else if(N==5){if(k.length==0){alert("No Actions Present.");return}var Y=new ip(S.E.H,!0);Y.data={R:S.m.gL,ae2:aI.O,On:[q[0]]};
this.T(Y)}};kM.prototype.Bp=function(W){var q=this.e.uX,X=W.data.R,k=W.data.NS;if(X=="sel")this.fr=k;
if(X=="fold"){if(k.length==1)q[k[0]].exp=!q[k[0]].exp;else q[k[0]].eO[k[1]].exp=!q[k[0]].eO[k[1]].exp}if(X=="enab"){var B=q[k[0]].eO[k[1]].eO[k[2]];
B.i=!B.i}if(X=="nchange"){if(k.length==1)q[k[0]].xJ=W.data.vP;else q[k[0]].eO[k[1]].xJ=W.data.vP}this.L8()};
kM.prototype.V9=kM.prototype.Ql=function(){this.Y3()};kM.prototype.QL=function(W,q){this.e=W;if(this.Gb==null)return;
if(q==aI.O||q==aI.NC)this.L8()};kM.prototype.L8=function(){if(this.e==null)return;I.ru(this.Gb);var W=this.e.uX;
if(W.length==0)return;var q=JSON.stringify(this.fr);for(var N=0;N<W.length;N++){var X=W[N],k=new kM.Vr([N],q,X.exp,X.xJ.split("=").pop());
k.parent=this;this.Gb.appendChild(k.K);if(!X.exp)continue;for(var B=0;B<X.eO.length;B++){var U=X.eO[B],k=new kM.Vr([N,B],q,U.exp,U.xJ.split("=").pop());
k.parent=this;this.Gb.appendChild(k.K);if(!U.exp)continue;for(var l=0;l<U.eO.length;l++){var K=U.eO[l],k=new kM.Vr([N,B,l],q,null,js.get(j0.a5H(K)),K.i);
k.parent=this;this.Gb.appendChild(k.K)}}}};kM.prototype.aJg=function(){var W=this.e.uX,q=this.fr;if(W.length==0){alert("No Actions Present");
return}if(q.length==1){alert("Select an Action first");return}if(this.e.Zj!=null){alert("You can not apply actions while recording actions");
return}if(q.length==1)q.push(0);var X=W[q[0]],k=X.eO[q[1]],B=new ip(S.E.H,!0);B.data={R:S.m.LT,jX:[k.xJ,X.xJ]};
this.T(B)};kM.Vr=function(W,q,X,k,B){gH.call(this);this.NS=W;var U=this.NS.length-1;this.K=I.a("div","layeritem"+(JSON.stringify(W)==q?" selected":""));
this.zj=I.a("div","head");this.K.appendChild(this.zj);I.w(this.zj,"height:24px");this.h2=I.a("div","headL");
this.zj.appendChild(this.h2);if(U!=0){var l=I.a("div");l.style.width=U*20+"px";this.h2.appendChild(l)}if(X!=null){var K=this.alC=I.a("div",X?"open":"closed");
this.h2.appendChild(K)}else{var D=this.a4E=I.a("div","cmark");I.w(D,"background-size:12px 12px; opacity:"+(B?1:.3));
this.h2.appendChild(D)}if(U==0){var m=I.a("div","folder");this.h2.appendChild(m)}var Y=this.OY=I.a("div","label");
Y.textContent=k;this.h2.appendChild(Y);this.K.addEventListener("mouseup",this.Z1.bind(this),!1)};kM.Vr.prototype=new gH;
kM.Vr.prototype.Z1=function(W){if(W.detail==1&&W.target.tagName.toLowerCase()!="input"){var q="sel";
if(W.target==this.alC)q="fold";if(W.target==this.a4E)q="enab";var X=new ip(S.E.k,!0);X.data={R:q,NS:this.NS};
this.T(X)}else if(this.NS.length<3)var k=new dE.j4(this.OY,this.ni.bind(this))};kM.Vr.prototype.ni=function(W){var q=new ip(S.E.k,!0);
q.data={R:"nchange",vP:W,NS:this.NS};this.T(q)};function bg(){dE.call(this,[3],!1,"---lrs/adj",dE.FV.aio)}bg.prototype=new dE("");
bg.prototype.Y3=function(){if(!I.rL(this.nJ)||this.$v)return;I.w(this.nJ,"text-align:center;  padding:6px; min-width:220px");
this.$v=[];var N=0;for(var W in dZ.names){var q=new iC("<img src=\""+PIMG["adj/"+W]+"\" class=\"autoscale gsicon\" style=\"margin:4px 4px;\"/>",!1,dZ.names[W]);
q.Q("click",this.Uk,this);this.$v.push(q);this.nJ.appendChild(q.K);if(N==4||N==10)I.zR(this.nJ);N++}this.l()};
bg.prototype.V9=function(){this.Y3()};bg.prototype.Ql=function(){this.Y3()};bg.prototype.l=function(){dE.prototype.l.call(this);
if(this.$v==null)return;for(var N=0;N<this.$v.length;N++)this.$v[N].l()};bg.prototype.Uk=function(W){var q=this.$v.indexOf(W.target),X=bP.j0()[q],k=new ip(X.s,!0);
k.data=X.p;this.T(k)};function jL(){dE.call(this,[12,22],!1,null,dE.FV.d9);this.Gb=I.a("div","padded");
this.e=null;this.nJ.appendChild(this.Gb);this.fV=new en(null,17.7,10);this.fV.parent=this;this.fV.Q(S.E.k,this.cf,this);
this.Gb.appendChild(this.fV.wX)}jL.prototype=new dE("");jL.prototype.cf=function(W){var q=this.fV.V(),X=new ip(S.E.O,!0);
X.data={R:"setstl",_:q.NF};X.J=_.Rd;this.T(X);X.data={R:"confirm"};this.T(X)};jL.prototype.QL=function(W,q){this.e=W;
if(W==null)return;if(q==aI.NC||q==aI.d9){this.fV.mX([W.sg,W.Ix]);this.fV.qL()}};jL.prototype.L8=function(){this.fV.zv()};
jL.prototype.V9=function(){this.L8()};jL.prototype.Ql=function(){this.L8()};var gL=function(){function W(){dE.call(this,[9,3],!1,"---panels/brush",dE.FV.AC);
this.Fj=null;this.e=null}W.prototype=new dE("");W.prototype.Y3=function(){var B=I.a("div","");this.nJ.appendChild(B);
this.Gv=I.a("div","bordered cell");I.w(this.Gv,"width:10em; height:28.5em;");B.appendChild(this.Gv);
this.Bv=[];this.agH=null;this.Z7=[];var U=this.afz.bind(this);this.v3=[new X("basic"),new X("useTipDynamics"),new X("useScatter"),new X("useColorDynamics"),new X("usePaintDynamics")];
for(var N=0;N<this.v3.length;N++){var l=I.a("div","listitem"),K=this.v3[N],m=null;K.parent=this;K.Q("brushchange",this.av6,this);
var D=K.as;if(N==0){this.agH=new j1(D);l.appendChild(this.agH.K)}else{m=new h$(D,!1);m.Q(S.E.k,this.asM,this);
l.appendChild(m.K)}this.Z7.push(m);this.Gv.appendChild(l);this.Bv.push(l);l.addEventListener("click",U,!1)}this.fi=I.a("div","cell padded");
B.appendChild(this.fi);this.setItem(0);this.mL=I.a("canvas");this.mL.height=10;B.appendChild(this.mL);
this.Ca=this.mL.getContext("2d");this.oH()};W.prototype.qL=function(B,U){if(this.Ah==B)return;this.Ah=B;
this.QB=U;this.oH()};W.prototype.Ql=function(){if(!I.rL(this.nJ))return;if(this.Gv){this.oH();return}this.Y3();
this.l();this.QL(this.e,aI.NC)};W.prototype.l=function(){dE.prototype.l.call(this);if(this.Gv==null)return;
this.agH.l();for(var N=1;N<this.Z7.length;N++)this.Z7[N].l();for(var N=0;N<this.v3.length;N++)this.v3[N].l()};
W.prototype.av6=function(B){var U=this.v3.indexOf(B.currentTarget),l=g.N(this.v3[U].Fj),K=new ip(S.E.H,!0);
K.data={R:S.m.Dt,rl:aI.O2,Fj:l};this.T(K)};W.prototype.asM=function(B){this.axf(this.Z7.indexOf(B.currentTarget),B.currentTarget.Vg())};
W.prototype.afz=function(B){var N=this.Bv.indexOf(B.currentTarget);if(B.target.tagName.toLowerCase()=="input")return;
if(this.Z7[N]&&!this.Z7[N].Vg()){this.Z7[N].ju();this.axf(N,!0)}this.setItem(N)};W.prototype.axf=function(B,U){this.v3[B].aHf(U)};
W.prototype.setItem=function(B){for(var N=0;N<this.v3.length;N++)this.Bv[N].className="listitem";if(this.fi.firstChild)this.fi.removeChild(this.fi.firstChild);
this.Bv[B].className="listitem selected";this.fi.appendChild(this.v3[B].K)};W.prototype.QL=function(B,U){this.e=B;
if(this.Gv==null)return;for(var N=0;N<this.v3.length;N++)this.v3[N].QL(B,U);if(U==aI.O2||U==aI.NC){this.Fj=B.cY.wC;
this.oH()}if(U==aI.Z$)this.oH()};W.prototype.oH=function(){if(this.Fj)this.enable();else{this.disable();
return}if(!I.rL(this.nJ))return;var B=this.e;for(var N=0;N<this.v3.length;N++){this.v3[N].q(this.Fj);
if(this.Z7[N])this.Z7[N].q(this.v3[N].Vg())}var U=g.N(this.Fj);U.Brsh.v.Dmtr.v.val=Math.min(U.Brsh.v.Dmtr.v.val,50);
I.JO(this.mL,this.Ah,80);var l=new dU(0,0,this.mL.width,this.mL.height),K=this.e.cY,D=new bf(U,K?K.n5:null,K?K.OJ:null,{hq:1},B.w5,B.yY,l,null,0),m=l.$/2,Y=l.r-m*2;
D.moveTo(m,m);for(var N=0;N<=Y;N+=10)D.lineTo(m+N,m+20*Math.sin(2*Math.PI*N/Y));D.finish();var a=new ImageData(l.r,l.$);
g.YE(D.uY(),D.wu(),a.data,l);this.Ca.putImageData(a,0,0)};function q(B){gH.call(this);B=B.split(".")[0];
this.ad=B;var U=this.K=I.a("span"),l=["Off","Fade"];l.push(B=="angleDynamics"?"Direction":"Pen Pressure");
var K=this.TE=new cL("Control",l);K.Q(S.E.k,this._t,this);U.appendChild(K.K);var D=this.a8P=new al(null,0,100,null,null,null,!0);
D.q(50);D.Q(S.E.k,this._t,this)}q.prototype=new gH;q.prototype.q=function(B){B=B<2?B:2;this.TE.q(B);
this.L8()};q.prototype.V=function(){var B=this.TE.V(),U=this.ad;B=B<=1?B:U=="angleDynamics"?6:2;return B};
q.prototype._t=function(B){this.L8();B.target=B.currentTarget=this;this.T(B)};q.prototype.L8=function(B){this.a8P.Si(this.TE.V()==1)};
function X(B){gH.call(this);this.K=I.a("div");this.Fj=null;var U=["basic","useTipDynamics","useScatter","useColorDynamics","usePaintDynamics"].indexOf(B);
this.as=[[15,0],[15,1],[15,2],[15,3],"Transfer"][U];this.pX=B;this.ef={};this.aKa=null;var l=["--br Brsh.Dmtr Brsh.Angl Brsh.Rndn Brsh.Hrdn Brsh.Spcn".split(" "),"szVr.jitter szVr.bVTy szVr.fStp minimumDiameter angleDynamics.jitter angleDynamics.bVTy angleDynamics.fStp roundnessDynamics.jitter minimumRoundness".split(" "),["scatterDynamics.jitter","Cnt","countDynamics.jitter"],["colorDynamicsPerTip","clVr.jitter","H","Strt","Brgh"],"opVr.jitter opVr.bVTy opVr.fStp prVr.jitter prVr.bVTy prVr.fStp".split(" ")][U];
for(var N=0;N<l.length;N++){var K=l[N],D;if(K=="--br"){D=new j2;this.K.appendChild(D.wX.firstChild)}else if(K=="Brsh.Dmtr")D=new iT([12,14,0],1,1e3," px",0,!0);
else if(K=="Brsh.Angl")D=new iT([12,15],0,359," \xB0");else if(K=="Brsh.Rndn")D=new iT([12,16],0,100," %");
else if(K=="Brsh.Hrdn")D=new iT([12,17],0,100," %");else if(K=="Brsh.Spcn")D=new iT([12,18],1,300," %");
else if(K=="szVr.jitter")D=new iT([15,4,0],0,100,"%");else if(K=="minimumDiameter")D=new iT([15,4,1],0,100,"%");
else if(K=="angleDynamics.jitter")D=new iT([15,4,2],0,100,"%");else if(K.endsWith("bVTy"))D=new q(K);
else if(K.endsWith("fStp"))D=new al(null,0,100,null,null,null,!0);else if(K=="roundnessDynamics.jitter")D=new iT([15,4,3],0,100,"%");
else if(K=="minimumRoundness")D=new iT([15,4,4],1,100,"%");else if(K=="scatterDynamics.jitter")D=new iT([15,5,0],0,1e3," %");
else if(K=="Cnt")D=new iT([15,5,1],1,20);else if(K=="countDynamics.jitter")D=new iT([15,5,2],0,100," %");
else if(K=="clVr.jitter")D=new iT([15,6,0],0,100," %");else if(K=="H")D=new iT([15,6,1],0,100," %");
else if(K=="Strt")D=new iT([15,6,2],0,100," %");else if(K=="Brgh")D=new iT([15,6,3],0,100," %");else if(K=="opVr.jitter")D=new iT("Opacity Jitter",0,100," %");
else if(K=="prVr.jitter")D=new iT("Flow Jitter",0,100," %");else if(K=="colorDynamicsPerTip")D=new h$("Apply Per Tip");
else throw K;this.ef[K]=D;D.parent=this;D.Q(S.E.k,this._t,this)}}X.prototype=new gH;X.prototype.agR=function(){this.T(new ip("brushchange"))};
X.prototype.q=function(B){this.Fj=g.N(B);this.K.className=this.Vg()?"":"disabled";this.oH()};X.prototype.l=function(){for(var B in this.ef)this.ef[B].l()};
X.prototype.Vg=function(){return!0};X.prototype.QL=function(B,U){if(U==aI.AC||U==aI.NC){var l=this.ef["--br"];
if(l)l.mX(B.cY)}};X.prototype._t=function(B){var U=B.target,l=this.ef,K;for(var D in l)if(l[D]==U)K=D;
if(K=="--br"){var m=new ip(S.E.H,!0);m.data={R:S.m.Dt,rl:aI.O2,Fj:U.V()};this.T(m)}else{var Y=k(this.Fj,K),a=U.V();
if(Y){if(K.endsWith("bVTy")||K.endsWith("fStp")||K=="Cnt")Y.v=a;else if(K=="colorDynamicsPerTip")Y.v=a;
else Y.v.val=a;this.agR()}}};X.prototype.oH=function(){var B=this.Fj,U=B.Brsh.v.classID,l=this.ef,K=U!=this.aKa;
this.aKa=U;if(K){I.ru(this.K);for(var D in l){if(U!="computedBrush"&&U!="sampledBrush"&&D=="Brsh.Rndn")continue;
if(U!="computedBrush"&&D=="Brsh.Hrdn")continue;var m=l[D],Y=m.K;if(D=="--br"){Y=m.k1.K;Y.style.width="auto"}this.K.appendChild(Y)}}for(var D in l){if(D=="--br")continue;
var a=k(B,D),p;if(a){if(D.endsWith("bVTy")||D.endsWith("fStp")||D=="Cnt")p=a.v;else if(D=="colorDynamicsPerTip")p=a.v;
else p=a.v.val;l[D].q(p);if(D.endsWith("fStp"))l[D].Si(k(B,D.split(".")[0]+".bVTy").v==1)}}};X.prototype.Vg=function(){var B=this.pX;
return B=="basic"?!0:this.Fj[B].v};X.prototype.aHf=function(B){var U=this.pX;if(U=="basic")return;this.Fj[U].v=B;
gs.t$.aD4(this.Fj);this.agR()};function k(B,U){var l=U.split(".");B=B[l[0]];for(var N=1;N<l.length;N++){if(B==null)return B;
B=B.v[l[N]]}return B}return W}();function hR(){dE.call(this,[9,0],!1,"---panels/history",dE.FV.Yo);I.w(this.nJ,"min-width:200px;");
this.Mh=I.a("div","hpbody scrollable");this.Mh.style.height="160px";this.nJ.appendChild(this.Mh);this.apz=-1;
this.aew=[];this.An="";this.Dc=new j_([{name:"Clear History"}],[{s:S.E.O,J:_.Yo,p:{R:"h_clear"}}])}hR.prototype=new dE("");
hR.prototype.So=function(){return this.Dc};hR.prototype.qL=function(W,q){this.Ql()};hR.prototype.V9=function(W){if(W==null){I.ru(this.Mh);
this.An="";return}I.ru(this.Mh);var q=0;for(var N=0;N<W.history.length;N++)if(N<=W.Wb&&!W.history[N].aj_)q=N;
for(var N=0;N<W.history.length;N++){var X=W.history[N];if(X.aj_)continue;var k=new db(X,N,q);k.parent=this;
this.Mh.appendChild(k.K);this.aew.push(k)}if(W.Wb==W.history.length-1)this.Ql()};hR.prototype.Ql=function(){this.Mh.scrollTop=this.Mh.scrollHeight};
hR.prototype.l=function(){dE.prototype.l.call(this);for(var N=0;N<this.aew.length;N++)this.aew[N].l()};
function db(W,N,q){gH.call(this);this.index=N;this.K=I.a("div",N==q?"listitem selected":"listitem");
this._Z=W.name;this.l();if(N>q)this.K.style.opacity=.4;this.K.addEventListener("click",this.mc.bind(this),!1)}db.prototype=new gH;
db.prototype.l=function(){this.K.textContent=js.get(this._Z)};db.prototype.mc=function(W){if(this.index==this.parent.apz)return;
this.Pk({R:"h_itemchange",index:this.index})};db.prototype.Pk=function(W){var q=new ip(S.E.O,!0);q.data=W;
q.J=_.Yo;this.T(q)};function e$(){dE.call(this,[9,10],!1,"---panels/histogram",dE.FV.abr);var W=I.a("div","padded");
this.nJ.appendChild(W);this.$B=new jU(256,!0);W.appendChild(this.$B.K);this.Zl=null}e$.prototype=new dE("");
e$.prototype.V9=function(W){this.Zl=W;this.L8()};e$.prototype.L8=function(){var W=this.Zl;if(!I.rL(this.nJ))return;
if(W==null||W.Y.length==0){this.$B.q(g.n7(g.j(4)));return}var q=W.OL(),X=new dU(0,0,W.r,W.$),k=X.C();
if(W.d){var B=W.d.S,U=g.j(B.C()*4);g.YE(q,X,U,B);g.Qj(W.d.c,U);q=U;X=B;var l=W.d.c;k=0;for(var N=0;N<l.length;
N++)k+=l[N];k=Math.round(k/255)}var K=g.n7(q);K[0][255]+=3*(k-K[5]);for(var N=1;N<4;N++)K[N][255]+=k-K[5];
this.$B.q(K,k)};e$.prototype.QL=function(W,q){this.$B.Ih(it.$z[W.FG]["--text-color"])};e$.prototype.l=function(){dE.prototype.l.call(this);
this.$B.l()};e$.prototype.Ql=function(){this.L8()};function jp(){dE.call(this,[9,8],!1,"---adj/clrL",dE.FV.avt);
this.Gb=I.a("div","padded");this.nJ.appendChild(this.Gb);this.tW=new gn(10);this.Gb.appendChild(this.tW.K);
this.NW=new iM;this.NW.parent=this;this.Gb.appendChild(this.NW.wX);this.NW.wX.style.marginTop="6px";
this.tW.Q(S.E.k,this.azV,this);this.NW.Q(S.E.k,this.azV,this);jp.Gb=this}jp.prototype=new dE("");jp.prototype.agB=function(W){this.NW.k1.q(W)};
jp.prototype.azV=function(W){var q;if(W.target==this.tW)q=this.tW.V();else{var X=this.NW.V();q=g.xS(X)}var k=new ip(S.E.H,!0);
k.data={R:S.m.Dt,rl:aI.Z$,w7:0,_:q};this.T(k)};jp.eo=function(W,q){var X=q==aI.NC,k=W.gh,B=W.Jm,U=B.strokeStyleContent.v,l=null;
if((q==aI.td||X)&&k.O5==1){l=g.ov.yM(k.bE.Clr.v);l=l.o<<16|l.L<<8|l.X}if((q==aI.fQ||X)&&B.strokeEnabled.v&&U.classID=="solidColorLayer"){l=g.ov.yM(U.Clr.v);
l=l.o<<16|l.L<<8|l.X}if(q==aI.Z$||X)l=W.w5;return l};jp.prototype.QL=function(W,q){var X=W.w5,k=q==aI.NC,B=jp.eo(W,q);
if(B!=null){this.tW.q(B);this.NW.q({o:B>>>16&255,L:B>>>8&255,X:B>>>0&255,kf:"Default/Color #"+g.Ga(B)})}if(q==aI.P1||k){var U=W.ala;
this.NW.mX(U)}};jp.prototype.qL=function(W,q){this.NW.wX.children[0].style.width=W-32+"px"};function hz(){dE.call(this,[12,72],!1,"---adj/mixr",dE.FV.a67);
this.mm=null;this.LV=null;this.Mh=I.a("div","lpbody scrollable");this.Mh.style.marginTop="4px";this.Ww=I.a("div","lpfoot");
this.nJ.appendChild(this.Mh);this.nJ.appendChild(this.Ww);this.ais=[];this.Q("click",this.di,this);this.bP=[];
hz._b([[17,2],"Save Selection as Channel",[5,3],[5,4]],this.bP,this.Ww,this.NE.bind(this),this.lc.bind(this));
this.Dc=new j_([{name:"Merge Channels",r8:!0}],[{s:S.E.H,p:{R:S.m.K_,ud:"mergechannels"}}])}hz.prototype=new dE("");
hz.prototype.So=function(){return this.Dc};hz._b=function(W,q,X,k,B){for(var N=0;N<W.length;N++){var U=new iC("W",!1,W[N]);
q.push(U);I.aA(U.K,k);X.appendChild(U.K);var l=U.K;l.addEventListener("drop",B,!1);l.addEventListener("dragover",function(K){K.preventDefault()},!1);
l.addEventListener("dragenter",I.hk,!1)}};hz.LA=function(W,q){for(var N=0;N<W.length;N++)if(W[N].K==q.currentTarget)return N};
hz.prototype.NE=function(W){var q=hz.LA(this.bP,W);if(q==0)this.T(cM.qe(!0,null,W));else{q--;var X=new ip(S.E.dq,!0),k={classID:"null"};
if(q==0)k.null={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]};else if(q==1)k.Nw={t:"Objc",v:{classID:"Chnl",ClrI:{t:"enum",v:{MskI:"SlcA"}},Opct:{t:"long",v:50}}};
else k.null=j0.O8("Chnl",!0);X.data={yx:["duplicate","make","delete"][q],Og:k};this.T(X)}};hz.prototype.lc=function(W){var q=hz.LA(this.bP,W);
if(q==2){var X=new ip(S.E.dq,!0),k={classID:"null"};k.null=j0.O8("Chnl",!0);X.data={yx:"duplicate",Og:k};
this.T(X)}else this.NE(W)};hz.prototype.y8=function(N){var W=this.ais,q=W[N];if(q==null){var X=I.a("canvas");
q=X.getContext("2d");W.push(q)}return q};hz.prototype.di=function(W){var q=this.mm.slice(0),X=W.data.bT,k=q[0]+q[1]+q[2],B=this.LV;
if(-5<X&&X<0){var U=-X-1;if(W.data.JB){if(U==0)q=k==3?[0,0,0]:[1,1,1];else{if(q[U-1]==0)q[U-1]=1;else if(!0)q[U-1]=0}}else{if(U==0)q=[1,1,1];
else{q=[0,0,0];q[U-1]=1}for(var N=0;N<B.RH.length;N++)B.RH[N].kA=!1;B.TC=[]}var l=new ip(S.E.O,!0);l.J=_.gT;
l.data={R:"setcls",K7:q};this.T(l);return}if(-1<X){var K=Math.floor(X),D=B.U[K],m=K==X?D.Jx():D.Q2(B).BD;
if(W.data.JB)m.kA=!m.kA;else{D.pw=1+(K==X?0:2);for(var N=0;N<B.RH.length;N++)B.RH[N].kA=!1;B.TC=[]}}else{var Y=-X-5,m=B.RH[Y];
if(W.data.JB)m.kA=!m.kA;else{for(var N=0;N<B.RH.length;N++)B.RH[N].kA=!1;m.kA=!0;B.TC=[Y];if(k!=0){var l=new ip(S.E.O,!0);
l.J=_.gT;l.data={R:"setcls",K7:[0,0,0]};this.T(l)}}}B.R2=B.gd=!0};hz.prototype.Ql=function(){this.Jv()};
hz.prototype.V9=function(W){this.LV=W;this.Jv()};hz.prototype.Jv=function(){var W=this.LV,q=this.Mh,M=4;
I.ru(q);if(W==null||!I.rL(q))return;var X=W.r,k=W.$,B=new dU(0,0,X,k),U=this.mm=W.f.K7.slice(0),l=U[0]+U[1]+U[2],K=Math.round(34*I.W$()),D=K;
if(X>k)D=Math.round(D*k/X);else K=Math.round(K*X/k);var m=["RGB"].concat(dZ.fx);for(var N=0;N<4;N++){var Y=this.y8(N);
g.S7.Pe(Y,K,D,B,W.OL(),B,!1,N==0?null:N-1);var a=N==0?l==3:U[N-1]==1,p=new cM(-1-N,!0,!0,Y,m[N],a,a);
p.parent=this;q.appendChild(p.K);I.V7(Y.canvas)}for(var N=0;N<W.Y.length;N++){var x=W.U[W.Y[N]],R=x.pw;
for(var y=0;y<2;y++){var s=y==0?x.Jx():x.Q2(W);if(s==null)continue;if(y==1)s=s.BD;var Y=this.y8(M);M++;
g.S7.vO(Y,K,D,B,s);var p=new cM(W.Y[N]+y*.5,!0,!0,Y,x.getName()+(y==0?"":" Filter")+" Mask",y==0&&R==1||y==1&&R==3,s.kA);
p.parent=this;q.appendChild(p.K);I.V7(Y.canvas)}}for(var N=0;N<W.RH.length;N++){var s=W.RH[N],Y=this.y8(M+N);
g.S7.vO(Y,K,D,B,s);var p=new cM(-5-N,!0,s.name=="Quick Mask",Y,s.name,W.TC.indexOf(N)!=-1,s.kA,_.b9,{R:b.zW,w7:"rnm",bT:N});
p.parent=this;q.appendChild(p.K);I.V7(Y.canvas)}};hz.prototype.qL=function(W,q){this.Mh.style.height=q-30-4+"px";
this.Mh.style.width=W+"px"};hz.prototype.l=function(){dE.prototype.l.call(this);this.Jv();hz.pA(this.bP,["lrs/makesel","lrs/mask","lrs/newlayer","lrs/bin"])};
hz.pA=function(W,q,X){var q=i3.NQ(q,null,"miniscale");for(var N=0;N<W.length;N++)W[N].tB(q[N],X?X[N]:null)};
function cM(W,q,X,k,B,U,l,K,D){gH.call(this);this.K=I.a("div");this.azB=W;this.axb=q;this.Ca=k;this.aC$=K;
this.a1F=D;this.zj=I.a("div",U?"head selected":"head");I.w(this.zj,"height: "+40+"px");var m=I.a("div","headL"),Y=I.a("div","headR"),a=15;
this.K.appendChild(this.zj);this.zj.appendChild(m);this.zj.appendChild(Y);this.RJ=I.a("div","eye");if(1<I.W$()&&I.W$()<1.5)a=a/I.W$();
I.w(this.RJ,"background-size: "+a+"px "+a+"px;");this.RJ.style.opacity=l?1:.2;if(q)m.appendChild(this.RJ);
this.rt=I.a("div","thumb");if(k)this.rt.appendChild(k.canvas);m.appendChild(this.rt);this.pm=I.a("div","label");
if(X)this.pm.style.fontStyle="italic";this.pm.textContent=js.get(B);m.appendChild(this.pm);var p=this.zj;
p.setAttribute("draggable","true");p.addEventListener("dragstart",function(M){M.stopPropagation();M.dataTransfer.setData("Text","hello")},!1);
p.addEventListener("drop",I.hk,!1);I.aA(this.zj,this.a0B.bind(this));if(!X)this.zj.addEventListener("mouseup",this.apr.bind(this),!1)}cM.prototype=new gH;
cM.prototype.ni=function(W){var q=new ip(S.E.O,!0);q.J=this.aC$;q.data=this.a1F;q.data.name=W;this.T(q)};
cM.prototype.a0B=function(W){var q=W.ctrlKey||W.metaKey,X=this.azB;if(q&&W.target==this.Ca.canvas){this.T(cM.qe(this.axb,X,W))}else{var k=new ip("click",!0);
k.data={bT:X,JB:W.target==this.RJ,v0:q};this.T(k)}};cM.UC=0;cM.prototype.apr=function(W){if(Date.now()-cM.UC<300&&W.target==this.pm){var q=new dE.j4(this.pm,this.ni.bind(this))}cM.UC=Date.now()};
cM.qe=function(W,q,X){var k=0;if(X.shiftKey)k++;if(X.altKey)k+=2;var B=new ip(S.E.O,!0);B.J=_.iK;if(W){var U=Math.floor(q);
if(-5<q&&q<0){B=new ip(S.E.dq,!0);B.data=_.lR.yu(k,["RGB","Rd","Grn","Bl"][-1-q])}else if(q<=-5||q==null)B.data={R:"fromchannel",jX:[q,0,k]};
else B.data={R:"fromlayer",jX:[U,1+(q==U?0:2),k]}}else B.data={R:"frompath",jX:[q,0,k]};return B};function ar(){dE.call(this,[8,9],!1,"---panels/paths",dE.FV.zg);
this.mm=null;this.LV=null;this.Mh=I.a("div","lpbody scrollable");this.Mh.style.marginTop="4px";this.Ww=I.a("div","lpfoot");
this.nJ.appendChild(this.Mh);this.nJ.appendChild(this.Ww);this.nJ.addEventListener("click",this.apT.bind(this),!1);
this.ais=[];this.Q("click",this.di,this);this.bP=[];hz._b(["Fill Path","Stroke Path with Brush",[17,2],"Selection to Path",[5,3],[5,4]],this.bP,this.Ww,this.NE.bind(this),this.lc.bind(this))}ar.prototype=new dE("");
ar.prototype.NE=function(W,q){var X=hz.LA(this.bP,W),k;if(X<2){if(X==1&&W.altKey){k=new ip(S.E.H,!0);
k.data={R:S.m.K_,ud:"strokepath"}}else{k=new ip(S.E.dq,!0);k.data=_.U0.Ke(X==0?null:"PbTl")}}else if(X==2)k=cM.qe(!1,null,W);
else if(X==3){k=new ip(S.E.dq,!0);k.data=_.lR.akI()}else if(X>3){var k=new ip(S.E.O,!0);k.J=_.ZA;k.data={R:"pathedit",w7:["new","del"][X-4],ad3:q}}this.T(k)};
ar.prototype.lc=function(W){this.NE(W,!0)};ar.prototype.y8=function(N){var W=this.ais,q=W[N];if(q==null){var X=I.a("canvas");
q=X.getContext("2d");W.push(q)}return q};ar.prototype.apT=function(W){if(W.target==this.Mh){var q=this.LV;
q.Lf=[];q.sh=[];q.gd=!0;q.R2=!0}};ar.prototype.di=function(W){var q=W.data.bT,X=this.LV,k=W.data.v0,B=q,U=X.sh,l=X.Lf;
if(q<0){B=-1-q;U=X.Lf;l=X.sh}if(k){var K=U.indexOf(B);if(K==-1)U.push(B);else U.splice(K,1)}else{while(U.length!=0)U.pop();
while(l.length!=0)l.pop();U.push(B)}X.gd=!0;X.R2=!0};ar.prototype.Ql=function(){this.Jv()};ar.prototype.V9=function(W){this.LV=W;
this.Jv()};ar.prototype.Jv=function(){var W=this.LV,q=this.Mh;I.ru(q);if(W==null||!I.rL(q))return;var X=W.r,k=W.$,B=new dU(0,0,X,k),U=this.mm=W.f.K7.slice(0),l=U[0]+U[1]+U[2],K=Math.round(34*I.W$()),D=K;
if(X>k)D=Math.round(D*k/X);else K=Math.round(K*X/k);var m=W.Yb(),Y=m[0];for(var N=0;N<Y.length;N++){var a=Y[N],p=W.sY!=-1&&W.sY==-1-a.bT,M=this.y8(N);
g.S7.aae(M,K,D,B,a.add.vmsk,p);var x=new cM(a.bT,!1,a.bT>=0||p,M,a.name,m[1].indexOf(N)!=-1,!1,_.ZA,{R:"pathedit",w7:"rnm",bT:a.bT});
x.parent=this;q.appendChild(x.K);I.V7(M.canvas)}};ar.prototype.qL=function(W,q){this.Mh.style.height=q-30-4+"px";
this.Mh.style.width=W+"px"};ar.prototype.l=function(){dE.prototype.l.call(this);this.Jv();hz.pA(this.bP,"-\u2B24 -\u25EF lrs/makesel lrs/makepath lrs/newlayer lrs/bin".split(" "))};
function la(W){dE.call(this,[9,W?4:5],!1,"---panels/"+(W?"character":"paragraph"),W?dE.FV.aIH:dE.FV.alw);
I.w(this.nJ,"min-width:255px;");this.akL=W;this.e=null;this.tF=!1}la.prototype=new dE("");la.YU=null;
la.prototype.Y3=function(){var W=la.YU,q=this.nJ;if(W==null)W=la.YU=new b$;W.parent=this;this.tF=!0;
if(this.akL){var X=I.a("div","marged");q.appendChild(X);X.appendChild(W.NL.K);X.appendChild(W.oO);I.Vc(q);
var k=I.a("div","marged");q.appendChild(k);k.appendChild(W.qd.K);k.appendChild(W.qB.K);var B=I.a("div","marged");
q.appendChild(B);B.appendChild(W.H7.K);B.appendChild(W.eJ.K);I.Vc(q);var U=I.a("div","marged");q.appendChild(U);
U.appendChild(W.l$.K);U.appendChild(W.y9.K);var l=I.a("div","marged");q.appendChild(l);l.appendChild(W.Qm.K);
l.appendChild(W.Sz.K);l.appendChild(W.rR.K);I.Vc(q);var K=I.a("div","marged");q.appendChild(K);K.appendChild(W.IV.K);
K.appendChild(W.G_.K);K.appendChild(W.qC.K);K.appendChild(W.W8.K);K.appendChild(W.qZ.K);K.appendChild(W.Lq.K);
K.appendChild(W.PA.K);K.appendChild(W.gR.K);var D=I.a("div","marged");q.appendChild(D);for(var N=0;N<8;
N++)D.appendChild(W.B7[N].K);I.Vc(q);var m=I.a("div","marged");q.appendChild(m);m.appendChild(W.$0.K)}else{var X=I.a("div","marged");
q.appendChild(X);X.appendChild(W.acM.K);X.appendChild(W.ag0.K);X.appendChild(W.aIr.K);X.appendChild(W.a7f.K);
X.appendChild(W.aBQ.K);X.appendChild(W.aEY.K);X.appendChild(W.aFV.K);I.Vc(q);var k=I.a("div","marged");
q.appendChild(k);k.appendChild(W.Ws.K);k.appendChild(W.nA.K);k.appendChild(W.NZ.K);I.Vc(q);var B=I.a("div","marged");
q.appendChild(B);B.appendChild(W.vp.K);B.appendChild(W.Rx.K);B.appendChild(W.NT.K);B.appendChild(W.EF.K)}};
la.prototype.Ql=function(){if(!I.rL(this.nJ))return;if(!this.tF){this.Y3();var W=this.e;if(W)la.YU.q(W.Xz,W.yK,W.Az);
la.YU.l()}};la.prototype.l=function(){dE.prototype.l.call(this);if(la.YU)la.YU.l()};la.prototype.QL=function(W,q){this.e=W;
if(q!=aI.NC&&q!=aI.jG&&q!=aI.Il&&q!=aI.PP)return;if(la.YU)la.YU.q(W.Xz,W.yK,W.Az)};function ii(W){dE.call(this,W?"Character Styles":"Paragraph Styles",!1,null,W?dE.FV.awQ:dE.FV.akW);
I.w(this.nJ,"min-width:240px;");var q=this.sG=I.a("div","scrollable");this.nJ.appendChild(q);I.w(q,"max-height:400px;");
this.ms=null;this.a1l=null;this.Yq=null;this.akL=W?0:1;this.Zl=null;this.e=null;this.a0L=ii.prototype.Tv.bind(this)}ii.prototype=new dE("");
ii.prototype.V9=function(W,q,X){this.Zl=W;this.e=X;this.Jv()};ii.prototype.Jv=function(){var W=this.sG;
I.ru(W);if(!I.rL(this.nJ))return;var q=this.Zl,X=this.e;if(q==null||X==null)return;var k=X.Xz,B=this.ms=[],U={},l=this.a1l=[],K=this.Yq=[],D={},m=this.akL,Y=m==0?"Style":"Paragraph";
for(var N=0;N<q.U.length;N++){var a=q.U[N].add.TySh;if(a==null)continue;var p=a.FZ,M=a.M.Lr(),x=p.ResourceDict.FontSet,R=p.EngineDict[Y+"Run"],y=R.RunArray;
for(var s=0;s<y.length;s++){var F=ii.asc(y[s][Y+"Sheet"][m==0?"StyleSheetData":"Properties"],m,x,l,D,M);
if(F.FillColor==null)F.FillColor={Type:1,Values:[1,0,0,0]};var E=JSON.stringify(F);if(U[E]==null){U[E]=!0;
B.push(F)}}}var o=m==0?function(d9,i){return i.FontSize-d9.FontSize}:function(d9,i){return d9.Justify-i.Justify};
B.sort(o);var G=[];if(m==0){var d=[[1,.28,.28,.28],[1,1,1,1],[1,.85,.95,1],[1,.95,.85],[1,0,0,.3],[1,.3,0,0]],u=d.length,r=new Array(u),v=1e9,c=0;
r.fill(1e9);for(var N=0;N<B.length;N++){var V=B[N],x=V.FontSize;v=Math.min(v,x);c=Math.max(c,x);var j=V.FillColor.Values,Q=(j[1]+j[2]+j[3])/3;
G[N]=Q>.5?[1,.15,.15,.15]:[1,.85,.85,.85]}}var H=ii.asc(m==0?k.n6:k.D8,m,k.MD,l,D,1),T=JSON.stringify(H);
for(var N=0;N<B.length;N++){var e=I.a("div");W.appendChild(e);K.push(e);e.addEventListener("click",this.a0L,!1);
var V=B[N],z=JSON.stringify(V)==T;if(m==0){var J=l[V.Font].Name,P=J.toLowerCase(),L=P.indexOf("bold")!=-1||P.indexOf("-black")!=-1,h=P.indexOf("italic")!=-1||P.indexOf("oblique")!=-1||P.endsWith("-it"),C=P.indexOf("light")!=-1,x=V.FontSize,j=V.FillColor.Values,w=G[N];
if(z){w=w.slice(0);w[1]=Math.min(1,w[1]+.2)}var f=c==v?.5:(x-v)/(c-v),k=10+16*f,n="overflow:hidden; white-space:nowrap; height:38px;  font-size:"+k+"px; color:"+CSS.ea({o:j[1]*255,L:j[2]*255,X:j[3]*255})+"; line-height:"+38+"px; background-color:"+CSS.ea({o:w[1]*255,L:w[2]*255,X:w[3]*255})+";";
if(L)n+=" font-weight:bold;";if(h)n+=" font-style:italic;";if(C)n+=" font-weight:lighter;";I.w(e,n);
var $=I.a("span");e.appendChild($);I.w($,"display:inline-block;  width:"+(c>99?50:40)+"px;  text-align:right;  margin-right:5px;");
$.textContent=Math.round(x);$=I.a("span");e.appendChild($);I.w($,"display:inline-block;  width:130px; ");
$.textContent=J}}};ii.prototype.Tv=function(W){var q=g.N(this.e.Xz),N=this.Yq.indexOf(W.currentTarget),X=this.ms[N];
for(var k in X)if(k!="Font")q.n6[k]=X[k];gZ.j_(q,this.a1l[X.Font].Name);console.log(q);var B=new ip(S.E.H,!0);
B.data={R:S.m.Dt,rl:aI.jG,Xz:q};this.T(B);var B=new ip(S.E.O,!0);B.J=_.W6;B.data={R:"updateStyles"};
this.T(B)};ii.asc=function(W,q,X,k,B,U){var l=q==0?["Font","FontSize","FillColor"]:[],K={};for(var D=0;
D<l.length;D++)K[l[D]]=W[l[D]];if(q==0){if(K.Font!=null){var m=X[K.Font].Name;if(B[m]==null){B[m]=k.length;
k.push(X[K.Font])}K.Font=B[m]}K.FontSize=K.FontSize*U}return K};ii.prototype.Ql=function(){if(!I.rL(this.nJ))return};
ii.prototype.l=function(){dE.prototype.l.call(this)};ii.prototype.QL=function(W,q){this.e=W;this.Jv()};
function ce(){dE.call(this,[9,13],!1,"---panels/glyphs",dE.FV.agT);this.e=null}ce.prototype=new dE("");
ce.prototype.Y3=function(){this.YU=new b$;this.YU.parent=this;this.akN=null;this.aEh=null;this.ja=null;
this.aHb=null;this.zd=Math.round(290*I.W$());this.tI=45;this.a0=4;this.azX=this.L8.bind(this);this.amN=0;
this.$p=new cL(null,["Hi","Hello"]);this.$p.Q(S.E.k,this.L8,this);var W=this.PT=new iC("-",null,null,!0);
W.Q("click",this.aue,this);var q=this.a1G=new iC("+",null,null,!0);q.Q("click",this.aue,this);this.k1=new eX(!1);
this.k1.Q(S.E.k,this.wk,this);this.k1.K.style.height=250+"px";var X=this.o8=I.a("div","form padded");
this.nJ.appendChild(X);X.appendChild(this.YU.NL.K);I.zR(X);X.appendChild(this.$p.K);X.appendChild(W.K);
X.appendChild(q.K);this.nJ.appendChild(this.k1.K)};ce.prototype.qL=function(W,q){if(this.Ah==W||this.YU==null)return;
this.Ah=W;this.zd=Math.floor((W-13)*I.W$());I.w(this.o8,"width:"+this.zd/I.W$()+"px;");this.k1.K.style.height=q-73+"px";
this.L8()};ce.prototype.wk=function(W){var q=this.abd(),X=Math.round(this.zd/q);q/=I.W$();var k=this.k1.V()[0]*X*this.a0,B=this.k1.acP();
k+=Math.floor(B.y/q)*X;k+=Math.floor(B.x/q);var U=this.ja[this.$p.V()];if(k>=U.length)return;var l=U[k],K=this.aHb[l],D=new ip(S.E.O,!0);
D.J=_.W6;if(K.Tw.length==0)D.data={R:"insertGlyph",_:k+1};else D.data={R:"insertText",_:String.fromCodePoint(K.Tw[0])};
this.T(D)};ce.prototype.aue=function(W){var q=1.2;if(W.target==this.PT){if(this.tI>20)this.tI/=q}else{if(this.tI<100)this.tI*=q}this.L8()};
ce.prototype.Ql=function(){this.QL(this.e)};ce.prototype.QL=function(W,q){this.e=W;if(!I.rL(this.nJ))return;
if(this.YU==null)this.Y3();this.YU.q(W.Xz,W.yK,W.Az);var X=W.Xz,k=X.n6.Font,D=0;if(k==null)return;var B=gZ.k7(X.MD[k]);
if(this.akN==B)return;var k=W.yK.yy(B);if(k==null)return;var U=k.maxp.numGlyphs,l=this.aHb=new Array(U);
for(var N=0;N<U;N++)l[N]={Tw:[]};var K=Date.now(),m=new Uint8Array(1048575);for(var N=0;N<1048575;N++){var Y=Typr.U.codeToGlyph(k,N);
if(Y!=0&&Y<U){m[N]=1;if(l[Y].Tw.length==0)D++;l[Y].Tw.push(N)}}var a=ce.dK,p=[];for(var N=0;N<a.length;
N++)p.push([]);for(var Y=1;Y<U;Y++){p[0].push(Y);var M=l[Y].Tw[0];if(M==null){continue}for(var x=1;x<a.length;
x++){var R=a[x].sM;for(var N=0;N<R.length;N+=2)if(R[N]<=M&&M<=R[N+1]){p[x].push(Y);break}}}this.ja=p;
var y=[];for(var N=0;N<a.length;N++)y.push(a[N].J6+" ("+p[N].length+")");var s=this.$p.V();this.$p.oj(y);
this.$p.q(s);this.akN=B;this.aEh=k;this.L8()};ce.prototype.abd=function(W){var q=Math.floor(this.zd/this.tI);
return Math.floor(this.zd/q)};ce.prototype.L8=function(W){if(!I.rL(this.nJ)||this.ja==null)return;var q=this.ja[this.$p.V()],X=q.length,k=this.aEh,B=Typr.U,U=this.abd(),l=U,K=l*.8,D=l*.8/k.head.unitsPerEm,m=[],Y=Math.floor(this.zd/U),a=Math.ceil(X/Y),p=this.a0,M=Date.now(),x=null;
for(var R=0;R<a;R+=p){var y=I.a("canvas"),s=y.getContext("2d");if(x==null)x=y.toDataURL("png");y.width=U*Y;
y.height=l*p;var F=I.a("map"),E="map"+Math.random();F.setAttribute("name",E);s.fillStyle="white";s.fillRect(0,0,Y*U,l*p);
for(var o=0;o<p;o++){for(var G=0;G<Y;G++){var N=q[(R+o)*Y+G];if(N==null)break;var d=B.glyphToPath(k,N),u=g.b.Hb(d.crds);
s.fillStyle="#252525";if(u.PM()){var r=k.hmtx,v=[],H=170;for(var c in r)v.push(c);var V=r[v[0]][N],j=r[v[1]][N],Q=Math.max(V,j);
d={cmds:"M L M L M L".split(" "),crds:[0,0,Q,0,0,-H,0,H,Q,-H,Q,H]};u.r=Q;u.x=0;s.strokeStyle="rgba(0,255,0,1)"}var T=U/I.W$(),e=l/I.W$(),z=[G*T,o*e,(G+1)*T,(o+1)*e].join(","),J=I.a("area");
F.appendChild(J);J.setAttribute("shape","rect");J.setAttribute("coords",z);var P=this.aHb[N];J.setAttribute("title","Glyph: "+N+"\nCharacter: "+(P.Tw.length==0?"----":String.fromCodePoint(P.Tw[0]))+"\nUnicode: #"+(P.Tw.length==0?"----":P.Tw[0].toString(16).padStart(4,"0")));
s.beginPath();var L=G*U+(U-u.r*D)*.5-u.x*D,A=o*l+K;s.translate(L,A);s.scale(D,-D);B.pathToContext(d,s);
s.scale(1/D,-1/D);s.translate(-L,-A);u.PM()?s.stroke():s.fill()}}s.beginPath();for(var G=0;G<Y;G++){var h=G*U+U+.5;
s.moveTo(h,0);s.lineTo(h,l*p)}for(var o=-1;o<p;o++){var C=o*l+l+.5;s.moveTo(0,C);s.lineTo(Y*U,C)}s.strokeStyle="rgba(0,0,0,0.3)";
s.stroke();var w=I.a("div");w.appendChild(y);I.w(w,"position:relative;");I.Xv(y,U*Y,l*p);var f=I.a("img");
w.appendChild(f);w.appendChild(F);f.setAttribute("src",x);f.setAttribute("usemap","#"+E);I.w(f,"position:absolute; top:0; left:0;");
I.Xv(f,U*Y,l*p);m.push(w)}this.k1.Zx(m,null,U*Y,l*p)};ce.dK=[{J6:"All Glyphs"},{J6:"Basic Latin, Latin 1",sM:[0,127,128,143]},{J6:"Latin Extended-A",sM:[256,383]},{J6:"Latin Extended-B",sM:[384,591]},{J6:"Punctuations",sM:[33,35,37,39,42,42,44,44,46,47,58,59,63,63,64,64,92,92,161,161,167,167,182,183,191,191,894,894,903,903,1370,1375,1417,1417,8192,8303,11776,11903]},{J6:"Greek",sM:[880,1023]},{J6:"Cyrillic",sM:[1024,1279]},{J6:"Hebrew",sM:[1424,1535]},{J6:"Arabic",sM:[1536,1791]},{J6:"Emoji",sM:[9728,10095,127744,129535]}];
function ai(){dE.call(this,[13,0],!1,null,dE.FV.Z$);this.tR=0;this.acv=0;this.e=null}ai.prototype=new dE("");
ai.prototype.Y3=function(){if(!I.rL(this.nJ)||this.Xw)return;var W=I.a("div","flexrow padded");this.nJ.appendChild(W);
var q=I.a("div");W.appendChild(q);this.Xw=[];for(var N=0;N<2;N++){var X=new dT;this.Xw.push(X);X.Q("click",this.auV,this);
q.appendChild(X.K)}this.aT=new jg(192);console.log("hsb picker");this.aT.Q(S.E.k,this._8,this);this.dz=new f8;
this.dz.parent=this;W.appendChild(this.aT.K);this.QL(this.e,aI.NC)};ai.prototype.auV=function(W){var q=W.currentTarget,X=this.Xw.indexOf(q);
if(X==this.tR){this.dz.z5(X)}else{this.tR=X;this.L8()}};ai.prototype._8=function(W){var q=this.aT.V();
this.aT.q(q);var X=Math.round(q.o*255)<<16|Math.round(q.L*255)<<8|Math.round(q.X*255),k=new ip(S.E.H,!0);
k.data={R:S.m.Dt,rl:aI.Z$,w7:this.tR,_:X};this.T(k);this.acv=Date.now()};ai.prototype.L8=function(){if(this.dz==null)return;
var W=this.e,q=this.tR,X=[W.w5,W.yY];for(var N=0;N<2;N++){var k=this.Xw[N],B=k.K.style;k.Ih(X[N]);if(N==q)B.filter="drop-shadow(0 0 1px #000000)"}var U=X[q];
if(Date.now()-this.acv>100)this.aT.q({o:(U>>>16)/255,L:(U>>>8&255)/255,X:(U&255)/255})};ai.prototype.QL=function(W,q){this.e=W;
if(this.dz==null)return;if(q==aI.NC||q==aI.Z$){this.dz.aaM(W.w5,W.yY);this.L8()}};ai.prototype.V9=function(){this.Y3()};
ai.prototype.Ql=function(){this.Y3();this.L8()};function an(){dE.call(this,"CSS",!1,"---panels/css",dE.FV.CSS);
this.Zl=null;var W=I.a("div","padded");this.nJ.appendChild(W);this.bA=I.a("textarea");I.Ch(this.bA);
W.appendChild(this.bA)}an.prototype=new dE("");an.prototype.qL=function(W,q){if(this.Ah==W)return;this.Ah=W;
I.w(this.bA,"display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(W-10)+"px; height:"+(q-10)+"px")};
an.prototype.V9=function(W){this.Zl=W;this.L8()};an.prototype.QL=function(W,q){if(q==aI.Il)this.L8()};
an.prototype.L8=function(){var W=this.Zl;if(W==null||W.Y.length==0)return;if(!I.rL(this.nJ))return;var q=W.U[W.Y[0]],X=CSS.agr(q,W);
if(X.length!=0)this.bA.value=X.join(";\n")+";";else this.bA.value=""};an.prototype.Ql=function(){this.L8()};
function av(){dE.call(this,"Text to Image",!1,null,dE.FV.a5V);this.Zl=null;this.m_=0;this.fU={};this.L7=null;
var W=this.Yq=[new kD("Prompt",null,null,4),new iC([12,49],!0,null,!0)];W[0].q("goat riding a bike");
var q=I.a("div","form padded labfxd");this.nJ.appendChild(q);for(var X=0;X<W.length;X++){W[X].parent=this;
q.appendChild(W[X].K);if(X==1)W[X].Q("click",this.x0,this)}this.$B=I.a("div","scrollable");q.appendChild(this.$B);
this.ajQ=av.prototype.axv.bind(this)}av.prototype=new dE("");av.prototype.x0=function(){var W=this.Yq,q=W[0].V().trim(),X=function(){var k=ky.aB3(q,null,null,this.ajQ);
if(k==1)I.Wx(this.nJ,"disabled")}.bind(this);if(ky.tM(3))X();else ky.QG(X)};av.prototype.axv=function(W){var q=this.Yq;
I.gI(this.nJ,"disabled");var X={created:Math.round(Date.now()/1e3),data:[{b64_json:lf.KT(W.target.response)}]},k=this.fU,B=q[0].V().trim();
if(k[B]==null)k[B]=[];k[B].push(X);ky.H3("Generate",3);this.L8()};av.prototype.qL=function(W,q){if(this.Ah==W)return;
this.Ah=W;this.nJ.style.width=W-16+"px";this.$B.style.height=q-190+"px"};av.prototype.V9=function(W,q){this.Zl=W;
if(W)this.m_=q.indexOf(W);this.L8()};av.prototype.l=function(W,q){dE.prototype.l.call(this);var X=this.Yq,B=" target=\"_blank\" style=\"color:inherit;\">";
for(var k=0;k<X.length;k++)this.Yq[k].l()};av.prototype.L8=function(){var W=this.$B,q=this.fU;I.ru(W);
var X=[];for(var k in q){q[k].sort(function(M,x){return x.created-M.created});X.push([k,q[k]])}X.sort(function(M,x){return x[1][0].created-M[1][0].created});
var B=this.amY.bind(this),U=this.L7=[[],[]];for(var N=0;N<X.length;N++){var k=X[N][0],l=X[N][1],K=I.a("div");
K.textContent=k;W.appendChild(K);for(var D=0;D<l.length;D++){var m=l[D].data;for(var Y=0;Y<m.length;
Y++){var a=m[Y].b64_json,p=I.a("img");p.setAttribute("src","data:image/png;base64,"+a);p.onclick=B;p.style.width=128/I.W$()+"px";
p.style.marginRight="4px";p.style.cursor="pointer";W.appendChild(p);U[0].push(p);U[1].push(m[Y])}}}};
av.prototype.amY=function(W){var N=this.L7[0].indexOf(W.target),q=this.L7[1][N].b64_json,X=lf.GS(q);
ch.kT({url:"file",m_:this.m_},X,this)};av.prototype.Ql=function(){this.L8()};function fn(){dE.call(this,[9,6],!1,"---panels/info",dE.FV.a3q);
I.w(this.nJ,"min-width:240px;");this.Zl=null;this.e=null;this.V1=null;var W=this.Vo=[];for(var q=0;q<3;
q++){var X=I.a("div","marged row");this.nJ.appendChild(X);var k=I.a("div","cell");I.w(k,"width:10em");
X.appendChild(k);var B=I.a("div","cell");I.w(B,"width:10em");X.appendChild(B);var U=[8,4,3][q];for(var N=0;
N<U;N++){var l=new j1("");W.push(l);l.q(0);l.K.style.padding="0";var K=N<(q==1?2:4)?k:B;K.appendChild(l.K);
I.zR(K)}if(q<2)I.Vc(this.nJ)}this.FY=W[8];this.gf=W[9];this.jw=W[10];this.qA=W[11];I.Vc(this.nJ);this.V1=I.a("div");
I.w(this.V1,"min-width:240px;display:flex;flex-direction:row;flex-wrap:wrap;");this.nJ.appendChild(this.V1)}fn.prototype=new dE("");
fn.prototype.lG=function(W,q,X,k,B){if(!I.rL(this.nJ)||W==null)return;var U=W.f.uy(B.x,B.y),l=new hw(Math.floor(U.x),Math.floor(U.y));
if(!B.Vj){var K=0,D=0,m=0,Y=0,a=this.Vo;if(!B.Vj&&!W.a3T()&&new dU(0,0,W.r-1,W.$-1).BS(l)){var p=W.OL(),N=W.r*l.y+l.x<<2;
K=p[N+0];D=p[N+1];m=p[N+2];Y=p[N+3]}var M=g.s6([K/255,D/255,m/255]);a[0].q("R: "+K);a[1].q("G: "+D);
a[2].q("B: "+m);a[3].q("A: "+Y);a[4].q("C: "+Math.round(M[0]*100)+"%");a[5].q("M: "+Math.round(M[1]*100)+"%");
a[6].q("Y: "+Math.round(M[2]*100)+"%");a[7].q("K: "+Math.round(M[3]*100)+"%");var x=g.avP(K,D,m);a[12].q("H: "+Math.round(x.QB*360)+"\xB0");
a[13].q("S: "+Math.round(x.Sp*100)+"%");a[14].q("B: "+Math.round(x.X*100/255)+"%")}var R=W.f.$Z>1?new hw(U.x,U.y):l;
this.FY.q("X: "+g.Qs.ft(R.x,W.mC,X,W.r));this.gf.q("Y: "+g.Qs.ft(R.y,W.mC,X,W.$));this.vf()};fn.prototype.vf=function(){var W=this.Zl,q=this.e,X=0,k=0;
if(W&&q){if(W.f.q3){X=W.f.q3.r;k=W.f.q3.$}else if(W.d){X=W.d.S.r;k=W.d.S.$}X=g.Qs.ft(Math.abs(X),W.mC,q,W.r);
k=g.Qs.ft(Math.abs(k),W.mC,q,W.$)}this.jw.q(js.get([12,41]).charAt(0)+": "+X);this.qA.q(js.get([12,42]).charAt(0)+": "+k)};
fn.prototype.l=function(){dE.prototype.l.call(this);this.vf()};fn.prototype.Ql=function(){this.V9(this.Zl,null,this.e)};
fn.prototype.V9=function(W,q,X){this.Zl=W;this.e=X;if(!I.rL(this.nJ))return;console.log("update");this.vf();
if(W&&W.Y.length!=0){var k=W.Y[0],B=W.U[k],U=dZ.get(B.add)!=null,l=U&&W.Y[0]>0;this.V1.innerHTML="";
for(var N=0;N<W.Eo.length;N++){var K=W.Eo[N],B=W.f.az(K.x,K.y),D=_.Mo.NR(W,B,1,l?1:2),m={o:D>>>16&255,L:D>>>8&255,X:D&255},R="<span style=\"display:inline-block; width:25px; text-align:right\">",y="</span>";
if(l){var Y=W.Y[0];W.Y[0]=k-1;var a=_.Mo.NR(W,B,1,1),p={o:a>>>16&255,L:a>>>8&255,X:a&255};W.Y[0]=Y}var M=I.a("div");
I.w(M,"padding: 0.5em 0.5em; width: 40%");var x="<b>#"+(N+1)+"</b>",s=[m.o,m.L,m.X],F=l?[p.o,p.L,p.X]:null,E=["R","G","B"];
for(var o=0;o<3;o++)x+="<br/>"+R+E[o]+y+": "+(l?R+F[o]+y+" /":"")+R+s[o]+y;M.innerHTML=x;this.V1.appendChild(M)}}};
function bM(){dE.call(this,[9,1],!1,"---panels/layers",dE.FV.b9);this.aqQ=null;this.L_=[];this.LV=null;
this.Bx=null;this.zj=I.a("div","lphead");this.Mh=I.a("div","lpbody scrollable");this.Mh.addEventListener("scroll",this.ak3.bind(this),!1);
this.Ww=I.a("div","lpfoot");var W=this.afM=I.a("span");I.w(W,"display:inline-block; height:26px");this.zj.appendChild(W);
this.$n=new cL(null,jm.Y7,jm._i);this.$n.Q(S.E.k,this.asl,this);this.zj.appendChild(this.$n.K);this.EL=new al([12,0],0,100,"%",0);
this.EL.Q(S.E.k,this.a8x,this);this.EL.parent=this;this.zj.appendChild(this.EL.K);this.cx=new fa([6,57,2],["<img src=\""+PIMG.trsp3+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["tools/brush"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.pos+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["lrs/lock"]+"\" class=\"miniscale gsicon\" />"],!0,["Transparency",[12,76,2],[12,40],[7,0]]);
this.cx.Q(S.E.k,this.aCo,this);this.zj.appendChild(this.cx.K);this.iw=new al([12,26],0,100,"%",0);this.iw.Q(S.E.k,this.ast,this);
this.iw.parent=this;this.zj.appendChild(this.iw.K);this.bP=[];this._b();if(cC==0)this.nJ.appendChild(this.zj);
this.nJ.appendChild(this.Mh);this.Mh.addEventListener("dragover",function(B){B.preventDefault()},!1);
this.Mh.addEventListener("dragenter",I.hk,!1);this.Mh.addEventListener("drop",this.axu.bind(this),!1);
this.nJ.appendChild(this.Ww);this.nJ.addEventListener("contextmenu",I.hk,!1);if(cC==0)this.Q("rclick",this.auv,this);
var q=function(B,U,N){return{jc:this.CM[N]==1}}.bind(this);if(cC==0){this.age=new j_([{name:[0,6],i:q},{name:[14,10],i:q},{name:[6,57,2],i:q,nC:!0},{name:"Long-tap as a right click",i:q,nC:!0},{name:"\u2796 Thumbnail Size"},{name:"\u2795 Thumbnail Size"},{name:"Thumbnails by Layer",i:function(){return{jc:kF.Xu==0,i:!0}}},{name:"Thumbnails by Document",i:function(){return{jc:kF.Xu==1,i:!0}}}]);
this.age.Q("select",this.aHk,this)}this.CM=[0,1,1,0];var X=window.locStor;if(X){var k=X.getItem("lpOpt");
if(k){k=JSON.parse(k);this.CM=k[0];kF.Sb=k[1];kF.Xu=k[2]}}this.aHk()}bM.prototype=new dE("");bM.iC=function(W){var q=W==null?0:W.Y.length;
return{i:q!=0&&(q!=1||W.Y[0]!=0)&&(q!=1||!W.U[W.Y[0]].S3()||W.U[W.Y[0]].P$()),cT:js.get(q>1||q==1&&W.U[W.Y[0]].S3()?[6,12,0]:[6,10])}};
bM.prototype.wL=function(){if(this.ajf)return;var W=bP.Vx(!0),q=bP.Af(!0);this.ajf=new j_(W,q);var W=[{name:[14,10]},{name:[14,11],nC:!0},{name:[6,0]},{name:[11,4]},{name:[5,4],nC:!0},{name:[6,7,0]},hd.gW(!0,!0),{name:[6,8],i:bM.anh},{name:[6,34],i:function(k){var B=k.U[k.Y[0]];
return{i:B.add.lmfx!=null&&!B.S3()}}},{name:[6,40],nC:!0,i:function(k){var B=k.U[k.Y[0]];return{i:B.add.TySh!=null}}},{name:"",nC:!0,i:function(k){var B=k.U[k.Y[0]],U=B.add.TySh,l=U?U.FZ:null;
return{i:U!=null&&l.Curve==null,cT:js.get(U&&gZ.sJ(l)==0?[16,3,1]:[16,3,0])}}},bM.aEU(!1),bP.azG(),{name:[6,12,0],i:bM.iC},{name:[6,12,1],nC:!0},{name:[13,0],sub:function(){var k=[];
for(var N=0;N<iz.xs.length;N++)k.push({name:[13,1,N],S7:"#"+g.Ga(iz.xs[N])});return k}()}],q=[{s:S.E.H,p:{R:S.m.K_,ud:"layerstyle"}},{s:S.E.O,J:_.iK,p:{R:"fromlayer",jX:[null,0,0]}},{s:S.E.O,J:_.b9,p:{R:b.b8}},{s:S.E.H,p:{R:S.m.K_,ud:"duplinto"}},{s:S.E.O,J:_.b9,p:{R:b.L5}},{s:S.E.dq,p:{yx:"newPlacedLayer"}},hd.gW(!1,!0),{s:S.E.dq,p:{yx:"rasterizeLayer",Og:{classID:"rasterizeLayer",null:j0.O8("Lyr",!0)}}},{s:S.E.dq,p:{yx:"rasterizeLayer",Og:{classID:"rasterizeLayer",null:j0.O8("Lyr",!0),What:{t:"enum",v:{rasterizeItem:"layerStyle"}}}}},{s:S.E.O,J:_.b9,p:{R:b.n9}},{s:S.E.O,J:_.W6,p:{R:"switchPntPrgr"}},{s:S.E.O,J:_.b9,p:{R:b.W7}},bP.a3I(),{s:S.E.dq,p:{yx:"mergeLayersNew",Og:{__name:"Merge Layers",classID:"Mrg2"}}},{s:S.E.dq,p:{yx:"flattenImage"}},{sub:function(){var k=[];
for(var N=0;N<8;N++)k.push({s:S.E.O,J:_.b9,p:{R:b.ZU,a6g:N}});return k}()}];this.fi=new j_(W,q);var W=[{name:[6,45],i:function(k){var B=k.U[k.Y[0]];
return{i:B.Q2(k).BD==null}}},{name:[6,47]}],q=[{s:S.E.O,J:_.b9,p:{R:b.Q1}},{s:S.E.O,J:_.b9,p:{R:b.tf}}];
this.aJa=new j_(W,q);var W=[{name:"enab/disab",i:function(k){return{cT:js.get(k.U[k.Y[0]].Jx().isEnabled?[6,15]:[6,14])}}},{name:[6,22]},{name:[5,8],i:function(k){return{i:k.or(!1,!0)}}}],q=[{s:S.E.O,J:_.b9,p:{R:b.Bo}},{s:S.E.O,J:_.b9,p:{R:b.nu}},{s:S.E.O,J:_.b9,p:{R:b.OA}}];
this.a2Z=new j_(W,q);var W=[{name:"enab/disab",i:function(k){return{cT:js.get(k.U[k.Y[0]].Q2(k).BD.isEnabled?[6,42]:[6,41])}}},{name:[6,46]}],q=[{s:S.E.O,J:_.b9,p:{R:b.pR}},{s:S.E.O,J:_.b9,p:{R:b.EW}}];
this.adF=new j_(W,q);var W=[{name:"enab/disab",i:function(k){return{cT:js.get(k.U[k.Y[0]].add.vmsk.isEnabled?[6,17]:[6,16])}}},{name:[6,24]},{name:[6,8]}],X={classID:"rasterizeLayer",null:j0.O8("Lyr",!0),What:{t:"enum",v:{rasterizeItem:"vectorMask"}}},q=[{s:S.E.O,J:_.b9,p:{R:b.lO}},{s:S.E.dq,p:_.U0.sc(3)},{s:S.E.dq,p:{yx:"rasterizeLayer",Og:X}}];
this.apj=new j_(W,q);this.awd=new j_(bP.aB9(!0),bP.j0(!0));this.aie=new j_(bP.Vx(),bP.Af())};bM.prototype.ak3=function(W){var q=this.Mh.scrollTop-600;
for(var N=0;N<this.L_.length;N++){var X=this.L_[N],k=X.Bj;if(q<X.Bj)X.aCZ();if(X.Bj>q+this.QB+600)break}};
bM.prototype.So=function(){return this.age};bM.prototype.aHk=function(W){var q=this.CM;if(W){var X=W.target.kN(),N=X[0];
if(N<4)q[N]=1-q[N];else if(N<6){if(N==4&&kF.Sb-10>=10)kF.Sb-=10;if(N==5&&kF.Sb+10<=200)kF.Sb+=10;if(this.LV)this.LV.qg=!0}else{if(N==6)kF.Xu=0;
if(N==7)kF.Xu=1;if(this.LV)this.LV.qg=!0}var k=window.locStor;if(k)k.setItem("lpOpt",JSON.stringify([q,kF.Sb,kF.Xu]))}if(q[0]==1)this.abH();
var B=[[{K:this.afM}],[this.$n,this.EL],[this.cx,this.iw]];for(var N=0;N<3;N++)for(var U=0;U<B[N].length;
U++)B[N][U].K.style.display=q[N]==1?"inline-block":"none";this.qL(this.Ah,this.QB)};bM.prototype.ax5=function(){var W=this.pF;
if(W==null)return!1;if(W.V()){var q=this.q8.V(),X=this.HD[q].V();if(q==0)return X.indexOf(!0)!=-1;if(q==1)return X!=""}return!1};
bM.aEU=function(W){var q=function(k){var B=k!=null&&k.Y.length!=0&&k.U[k.Y[0]].Oa;return{jc:B,i:k!=null&&k.Fl(k.Y[0]),p:{s:S.E.dq,p:{yx:B?"ungroup":"groupEvent",Og:{classID:B?"Ungr":"GrpL",null:j0.O8("Lyr",!0)}}}}},X={name:[6,6,0],nC:!0,i:q};
if(W)X.Rl=[bu.Wr,bu.p7,bu.Gf];return X};bM.anh=function(W,q){if(W)for(var N=0;N<W.Y.length;N++){var X=W.U[W.Y[N]];
if(X.add.TySh||X.add.SoLd||X.add.SoCo||X.add.GdFl||X.add.PtFl)return{i:!0}}return{i:!1}};bM.prototype.axu=function(W){I.hk(W);
var q=W.dataTransfer.getData("Text"),X=1,k=0;if(q==""){I.C8(W,this,this.Bx.indexOf(this.LV),k+(X>.5?0:1))}else if(q!="--panel"){var q=JSON.parse(q),B=q.R7;
if(B=="l")this.Pk({R:b.P8,source:q.SE,target:k,xp:X})}};bM.prototype.auv=function(W){var q=this.LV,X=W.data,B;
if(q.Y.indexOf(X.B)==-1){var k={R:b.nf,B:W.target.l0.index,W3:X.pw};this.Pk(k)}if(q.Y.indexOf(X.B)==-1)return;
this.wL();if(X.pw==1){B=this.a2Z}else if(X.pw==2){B=this.apj}else if(X.pw==3){B=this.adF}else if(X.pw==4){B=this.aJa}else if(X.pw==5){B=this.ajf}else{B=this.fi}B.l();
B.update(q);B.parent=this;var U=new ip(S.E.H,!0);U.data={R:S.m.k8,ii:B,x:X.sw.x+1,y:X.sw.y+1};this.T(U)};
bM.prototype.l=function(){dE.prototype.l.call(this);this.$n.l();this.EL.l();this.cx.l();this.iw.l();
if(this.pF){this.pF.l();this.HD[0].l()}if(this.LV)this.V9(this.LV);var W="lrs/link lrs/fx lrs/mask lrs/adj lrs/folder lrs/newlayer lrs/bin".split(" ");
for(var N=0;N<this.bP.length;N++){var q=this.bP[N];q.tB(I.KG(W[N],null,"miniscale"));if(N==1||N==3){q.K.style.position="relative";
var X=I.a("img","gsicon");X.setAttribute("src",PIMG["tools/corner"]);I.w(X,"position:absolute; right:0;  bottom:0; width:100%;  height:100%;");
q.K.appendChild(X)}}};bM.prototype.V9=function(W,q){if(W&&!W.qg)return;if(W==null)I.Wx(this.nJ,"disabled");
else I.gI(this.nJ,"disabled");this.LV=W;this.Bx=q;if(this.aqQ!=null){I.ru(this.Mh);this.aqQ=null;this.L_=[]}if(W==null)return;
var X=!1;for(var N=0;N<W.RH.length;N++)if(W.RH[N].kA)X=!0;this.aqQ=new iz(W.root,this,W,{ke:0,aFH:!1},{avh:X,aCK:this.ax5()},this.L_,0,new dU(0,0,W.r,W.$));
if(W.Y.length==0||W.U[W.Y[0]]==null)I.Wx(this.zj,"disabled");else{I.gI(this.zj,"disabled");if(W.Y.length==1&&W.zf){var k=W.Y[0];
for(var N=0;N<this.L_.length;N++){var B=this.L_[N];if(B.l0.index==k&&B.zj.scrollIntoView)B.zj.scrollIntoView({block:"nearest"})}}var U=W.U[W.Y[0]];
if(U.S3()){this.$n.oj([[15,10,27]].concat(jm.Y7),[1].concat(jm._i));var l=jm.eB.indexOf(U.JY);this.$n.q(l+1)}else{this.$n.oj(jm.Y7,jm._i);
var l=jm.eB.indexOf(U.JY);this.$n.q(l)}this.EL.q(Math.round(100*U.zO/255));this.cx.q([U.kW(0),U.kW(1),U.kW(2),U.kW(31)]);
var K=W.bb();this.$n.Si(!K);this.iw.Si(!K);this.EL.Si(!K);this.cx.Si(!(K&&!U.kW(31)));this.iw.q(Math.round(100*(U.add.iOpa!=null?U.add.iOpa/255:1)));
this.bP[2].a8H(js.get(U.Jx()?[6,23]:[6,21]))}this.ak3(null)};bM.prototype.qL=function(W,q){this.Ah=W;
this.QB=q;var X=this.zj.getBoundingClientRect().height;if(55<X&&X<56)X=60.2;var k=this.Ww.getBoundingClientRect().height,B=q-(X+k+3);
this.Mh.style.height=B+"px";this.Mh.style.width=W+"px"};bM.prototype.asl=function(W){this.Pk({R:b.vb,O4:this.$n.V()})};
bM.prototype.a8x=function(W){this.Pk({R:b.s_,O4:Math.round(255*this.EL.V()/100)})};bM.prototype.aCo=function(W){this.Pk({R:b.pc,O4:[this.cx.V(),[0,1,2,31]]})};
bM.prototype.ast=function(W){this.Pk({R:b.RL,O4:Math.round(255*this.iw.V()/100)})};bM.prototype.m6=function(W){if(W.target==this.q8)this.abH();
var q=this.pF.V();if(q)I.gI(this.aei,"disabled");else I.Wx(this.aei,"disabled");this.l();this.LV.qg=!0;
this.V9(this.LV);this.LV.qg=!1};bM.prototype.abH=function(){var W=this.aei;if(W==null){var q=this.afM,X=this.pF=new h$([0,6]);
X.Q(S.E.k,this.m6,this);q.appendChild(X.K);W=this.aei=I.a("span","disabled");q.appendChild(W);this.q8=new cL(null,["Kind",[12,48]],[]);
this.q8.Q(S.E.k,this.m6,this);var k=this.HD=[new fa(null,["<img src=\""+PIMG.pix_layer+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["lrs/adj"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["tools/htype"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.shape_layer+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.so_layer+"\" class=\"miniscale gsicon\" />"],!0,[[12,76,2],[3,0],[12,44],[12,77],[6,7,1]]),new kD(null,null,8)];
k[0].Q(S.E.k,this.m6,this);k[1].Q("input",this.m6,this)}I.ru(W);W.appendChild(this.q8.K);W.appendChild(this.HD[this.q8.V()].K)};
bM.prototype.a8l=function(W){this.wL();this.aJ4(W,this.awd)};bM.prototype.aj8=function(W){this.wL();
this.aJ4(W,this.aie)};bM.prototype.aJ4=function(W,q){var X=W.currentTarget;if(I.rL(q.K))return;W.stopPropagation();
var k=X.getBoundingClientRect();q.l();q.update(this.LV);q.parent=this;var B=new ip(S.E.H,!0);B.data={R:S.m.k8,ii:q,x:k.left,y:k.top,aE_:!0};
this.T(B)};bM.prototype.atE=function(W){this.Pk({R:b.atY})};bM.prototype.a4n=function(W){this.Pk({R:this.LV.Y.length>1?b.Pw:b.DL})};
bM.prototype.ahY=function(W){this.Pk({R:b.ZC})};bM.prototype.a37=function(W){var q=this.LV;if(q.Y.length==0)return;
var X=q.U[q.Y[0]],k=X.pw;this.Pk({R:k<=0?X.LJ?b.ic:b.L5:k==3?b.EW:b.nu})};bM.prototype.aD9=function(W){this.Pk({R:b.t9})};
bM.prototype.Pk=function(W){var q=new ip(S.E.O,!0);q.data=W;q.J=_.b9;this.T(q)};bM.prototype._b=function(){var W=[[6,54,0],[11,6],[6,21],[6,1],[6,20],[6,13],[5,4]],q=[this.aD9,this.aj8,this.atE,this.a8l,this.a4n,this.ahY,this.a37],X=this.afw.bind(this);
for(var N=0;N<W.length;N++){var k=new iC("W",!1,W[N]);this.bP.push(k);I.aA(k.K,q[N].bind(this));if(cC==0||N>3&&N!=5)this.Ww.appendChild(k.K);
if(N>=W.length-3){var B=k.K;B.addEventListener("drop",X,!1);B.addEventListener("dragover",function(U){U.preventDefault()},!1);
B.addEventListener("dragenter",I.hk,!1)}}};bM.prototype.afw=function(W){I.hk(W);var q=0,X=this.bP;while(X[q].K!=W.currentTarget)q++;
X[q].Uq();var k=W.dataTransfer.getData("Text");if(k=="")return;var k=JSON.parse(k);if(k.R7=="l"){var B={R:[b.Pw,b.b8,b.L5][q-4]};
if(this.LV.Y.indexOf(k.SE)==-1)B.B=k.SE;this.Pk(B)}if(q!=6)return;if(k.R7=="sm"||k.R7=="s"){var U=new ip(S.E.O,!0);
U.J=_.Rd;U.data={R:k.R7=="sm"?"st_clear":"st_delsingle",B:k.SE,SE:k.HW};this.T(U)}if(k.R7=="fm"||k.R7=="f"){this.Pk({R:k.R7=="fm"?b.tf:b.v1,src:k.SE,HW:k.HW})}if(k.R7=="m"||k.R7=="vm"){this.Pk({R:k.R7=="m"?b.nu:b.ic,B:k.SE})}};
function iz(W,q,X,k,B,U,l,K){gH.call(this);this.parent=q;this.Bj=l;this.l0=W;U.push(this);this.LV=X;
this.zI=k;var D=q.Mh,m=W.B,Y=X.Y.indexOf(W.index)!=-1,x=null;this.zj=I.a("div",Y?"head selected":"head");
if(m.add.artb!=null){I.Wx(this.zj,"artb");K=m.La()}var a=this.aKH=Math.floor(10+m.a1h/I.W$()),p="height: "+a+"px;";
if(Y&&B.avh)p+="background-color:rgba(255,50,50,0.4);";I.w(this.zj,p);this.view=K;var M=this.an4=this.a8i.bind(this),R=B.aCK&&!this.afl();
if(!R){if(W.depth!=0){D.appendChild(this.zj);l+=a-.3}if(m.aK()||m.SF())if(m.f6()){x=this.aGS=I.a("div","lpineck");
D.appendChild(x);if(m.aK()){x.addEventListener("contextmenu",M,!1);var y=new bM.Gm(js.get([12,1]),"sm","layerstyle",W.depth,0,null);
l+=21;y.parent=this;x.appendChild(y.K);var s=m.add.lmfx,F=s.masterFXSwitch.v;y.ZR(F);for(var N=0;N<kE.order.length;
N++){var E=s[kE.m1[N]].v;if(E.length==0)continue;for(var o=0;o<E.length;o++){var y=new bM.Gm(js.get(kE.names[N]),"s","layerstyle",W.depth,1,[N,o]);
l+=21;y.ZR(F&&E[o].v.enab.v);y.parent=this;x.appendChild(y.K)}}}if(m.SF()){var G=m.Q2(X).BD;if(G)this._L=I.a("div","thumb");
var y=new bM.Gm(js.get([12,55]),"fm",null,W.depth,0,-1,G?this._L:null,a);l+=G?a:21;y.parent=this;x.appendChild(y.K);
this.aEX=y.K;this.aEX.addEventListener("contextmenu",M,!1);var s=m.add.SoLd.filterFX.v,d=s.filterFXList.v,F=s.enab.v;
y.ZR(F);for(var N=d.length-1;N>=0;N--){var u=d[N].v,r=dY.oX(u);if(dZ.Zo[r])r=dZ.Zo[r];var v=u.Nm.v;if(dY.names[r])v=js.get(dY.names[r]);
if(dZ.names[r])v=js.get(dZ.names[r]);var c="afw_"+r,y=new bM.Gm(v,"f",c,W.depth,1,N);l+=21;y.ZR(F&&u.enab.v);
y.parent=this;x.appendChild(y.K)}}}}var V=m.add.lclr;if(V==null)V=0;V=V==0?k.ke:iz.xs[V];this.aJq=V;
if(m.S3()&&(m.add.lsct==e5.B2||B.aCK)){var j={ke:V,aFH:k.aFH||m.kW(31)};for(var N=W.children.length-1;
N>=0;N--){var Q=new iz(W.children[N],q,X,j,B,U,l,K);l=Q.apB}}this.apB=l}iz.prototype=new gH;iz.xs=[16777215,16711680,16748544,16763904,4513024,22015,11141375,7829367];
iz.prototype.aCZ=function(){if(this.ZT)return;var W=this.l0,q=W.B,X=this.LV,k=this.zI,a=!0,j=!1;W.K$(X,this.view,!0);
var B=I.a("div","headL"),U=I.a("div","headR");this.zj.appendChild(B);this.zj.appendChild(U);var l=this.zj;
l.setAttribute("draggable","true");l.addEventListener("dragstart",this.GG.bind(this),!1);l.addEventListener("drop",this.Kc.bind(this),!1);
l.addEventListener("dragover",this.BY.bind(this),!1);l.addEventListener("dragenter",I.hk,!1);l.addEventListener("dragleave",this.Dj.bind(this),!1);
var K=[],D=[null,null,null,null],m=q.P$(),Y=W;while(Y.parent){Y=Y.parent;m=m&&Y.B.P$()}if(q.Oa){for(var N=W.index-1;
N>=0;N--){var p=X.U[N];if(!p.Oa){a=p.P$();break}}}var M=q.P$()?m&&a?2:1:0;this.ZT=I.a("div");var x=I.a("div",M==0?"sqr":"eye");
this.ZT.appendChild(x);x.style.opacity=[.12,.33,1][M];var R=I.a("div","space");this.pm=I.a("div","label");
I.w(this.pm,"max-width:calc(100% - "+(96+W.depth*20)+"px); margin-top:"+(this.aKH-19)/2+"px;"+(q.D7?"text-decoration:underline;":""));
this.pm.textContent=q.getName();this.aII=I.a("div","lock");this.akT=I.a("div","lrfx");this.Zm=I.a("div","arfx");
var y=this.an4,s=this.agv.bind(this);this.zj.addEventListener("click",s,!1);this.zj.addEventListener("contextmenu",y,!1);
var F=this.aJq;if(F!=0){var E=[F>>16,F>>8&255,F&255];for(var N=0;N<3;N++){E[N]="calc("+E[N]+"*0.7 + (var(--absc)) * 255 * 0.3)"}I.w(this.ZT,"background-color:rgba("+E.join(",")+",1);")}var o=this.aq0.bind(this);
this.ZT.addEventListener("mousedown",o,!1);this.ZT.addEventListener("mouseover",o,!1);this.Zm.addEventListener("click",this.aIG.bind(this),!1);
K[0]=this.ZT;K[1]=R;K[10]=this.pm;if(q.S3()){var G=I.a("div","arrow"),d=I.a("div","folder");this.DF(d);
G.addEventListener("click",this.aic.bind(this),!1);K[2]=G;K[3]=d;G.className=q.add.lsct==e5.B2?"open":"closed"}else{this.rt=I.a("div","thumb");
K[5]=this.rt;iz.UU(this.rt,q.qE);this.DF(this.rt);if(dZ.get(q.add))I.Wx(q.qE.canvas,"gsicon")}var u=q.Jx();
if(u){this.o1=I.a("div","chain");this.y$=I.a("div","thumb");iz.UU(this.y$,q.a0u,!0);this.o1.style.opacity=u.$P?1:0;
this.o1.addEventListener("click",this.akF.bind(this),!1)}var r=q.Nj()&&q.add.vmsk;if(q.add.vmsk&&!r){this.AW=I.a("div","chain");
this.yD=I.a("div","thumb");iz.UU(this.yD,q.ajp,!0);this.AW.style.opacity=q.add.vmsk.$P?1:0;this.AW.addEventListener("click",this.axP.bind(this),!1)}if(q.SF()&&q.f6()&&q.Q2(X).BD){iz.UU(this._L,q.aDi,!1);
this.DF(this._L);this._L.addEventListener("click",s,!1);this._L.addEventListener("contextmenu",y,!1)}if(W.index==X.Y[0]){var v=q.pw,c;
if(v<=0)c=this.rt;else if(v==1)c=this.y$;else if(v==3)c=this._L;if(c)c.className="thumb active";if(q.LJ&&this.yD)this.yD.className="thumb active"}I.w(R,"width:"+Math.max(0,W.depth-1)*18+"px");
var V=q.add.lspf!=null&&q.add.lspf!=0||k.aFH;this.aII.style.opacity=q.kW(31)?1:.5;K[4]=q.Oa?I.a("div","clipp"):null;
K[6]=u?this.o1:null;K[7]=u?this.y$:null;K[8]=q.add.vmsk&&!r?this.AW:null;K[9]=q.add.vmsk&&!r?this.yD:null;
var Q=q.iN,H=X.Y;if(Q!=0)for(var N=0;N<H.length;N++)if(X.U[H[N]].iN==Q){j=!0;break}if(j){D[0]=I.a("div",q.Es?"link":"linkX");
D[0].addEventListener("click",this.aAL.bind(this),!1)}D[1]=V?this.aII:null;D[2]=q.aK()?this.akT:null;
D[3]=q.aK()||q.SF()?this.Zm:null;this.Zm.className=q.f6()?"arfx open  gsicon":"arfx closed  gsicon";
var T=K;for(var N=0;N<T.length;N++)if(T[N])B.appendChild(T[N]);T=D;for(var N=0;N<T.length;N++)if(T[N])U.appendChild(T[N])};
iz.UU=function(W,q,X){var k=q.canvas;I.V7(k);if(X)W.setAttribute("draggable","true");W.appendChild(k);
I.w(k,k.getAttribute("style")+"; pointer-events:none")};iz.prototype.DF=function(W){I.aA(W,function(q){if(this.parent.CM[3]==0)return;
I.iR(q);I.DA(document.body,function(){clearTimeout(this.ac_)}.bind(this));this.ac_=setTimeout(function(){var X=new ip("rclick",!0);
X.data={B:this.l0.index,pw:this.pw(q),sw:I.IO(q,document.body)};this.T(X)}.bind(this),600)}.bind(this))};
iz.fG=function(W,q){var X=q.getBoundingClientRect();return(W.clientY-X.top)/X.height};iz.prototype.GG=function(W){W.stopPropagation();
var q=W.target==this.y$?"m":W.target==this.yD?"vm":"l";W.dataTransfer.setData("Text",JSON.stringify({R7:q,SE:this.l0.index}))};
iz.prototype.Dj=function(W){I.hk(W);this.KN()};iz.prototype.Kc=function(W){I.hk(W);this.KN();var q=W.dataTransfer.getData("Text"),X=this.parent.LV,k=iz.fG(W,this.zj),B=this.l0.index;
if(k>.8){var U=!0,l=X.root.Vf(B);while(l.parent!=null){var K=l.parent,D=K.children;if(D.indexOf(l)!=0)U=!1;
l=l.parent}if(U){B=0;k=1}}if(q==""){I.C8(W,this,this.parent.Bx.indexOf(X),B+(k>.5?0:1))}else if(q!="--panel"){var q=JSON.parse(q),m=q.R7;
if(m=="l")this.Pk({R:b.P8,source:q.SE,target:B,xp:k});else if(m=="m"||m=="vm")this.Pk({R:m=="m"?b.awF:b.EB,src:q.SE,Vi:B});
else iz.aC9(W,q,this)}};iz.aC9=function(W,q,X,k){var B=q.R7,U=X.l0.index,l=q.SE;if(B=="s"||B=="sm")X.Pk({R:b.le,src:l,Vi:U,HW:q.HW});
if(B=="f"||B=="fm")X.Pk({R:b.aci,src:l,Vi:U,HW:q.HW,qr:k==null?0:k})};iz.prototype.BY=function(W){I.hk(W);
var q=iz.fG(W,this.zj),X=this.l0.B.S3()&&.5<q&&q<.8;this.KN();var k="inset 0 "+(X?0:q>.5?-3:3)+"px "+(X?"6px":0)+" var(--text-color)";
this.zj.style.boxShadow=k};iz.prototype.KN=function(W){this.zj.style.boxShadow=""};iz.a0O=-1;iz.LY=!1;
iz.aFr=function(W){iz.LY=!1;document.body.removeEventListener("mouseup",iz.aFr)};iz.prototype.aq0=function(W){if(W.button!=0)return;
if(W.type=="mousedown"){iz.LY=!0;document.body.addEventListener("mouseup",iz.aFr,!1)}if(W.type=="mouseover"&&(!iz.LY||iz.a0O==this.l0.index))return;
I.hk(W);this.Pk({R:b.GW,B:this.l0.index});iz.a0O=this.l0.index};iz.prototype.aic=function(W){I.hk(W);
this.Pk({R:b.aA7,B:this.l0.index})};iz.prototype.akF=function(W){this.Pk({R:b.Wj,B:this.l0.index})};
iz.prototype.axP=function(W){this.Pk({R:b.ve,B:this.l0.index})};iz.UC=0;iz.PZ=null;iz.prototype.ni=function(W){this.Pk({R:b.nk,B:this.l0.index,name:W})};
iz.prototype.aIG=function(W){this.Pk({R:b.aeF,B:this.l0.index})};iz.prototype.aAL=function(W){this.Pk({R:b.OI,B:this.l0.index})};
iz.prototype.a8i=function(W){if(W.button!=2&&!I.a09(W)&&!(W.ctrlKey&&bu.kb()))return;var q=this.pw(W);
if(q!=3&&W.currentTarget==this.aEX)q=4;if(W.target==this.akT||W.currentTarget==this.aGS)q=5;var X=new ip("rclick",!0);
X.data={B:this.l0.index,pw:q,sw:I.IO(W,document.body)};this.T(X)};iz.prototype.pw=function(W){var q=W.target,X=q;
return X==this.yD?2:X==this.y$?1:X==this.rt?0:X==this._L?3:-1};iz.prototype.agv=function(W){var q=W.target,R;
if(q==this.ZT.firstChild||q==this.Zm||q==this.o1||q==this.AW||q.tagName&&q.tagName.toLowerCase()=="input")return;
var X=this.pw(W),k=this.parent.LV,B=this.l0.index,U=k.U[B];if(q==this.aII){this.Pk({R:b.pc,B:B,O4:[[!1,!1,!1,!1,!1],[0,1,2,3,31]]});
return}var l=iz.UC,K=Date.now()-l<300&&B==iz.PZ;iz.UC=Date.now();iz.PZ=B;if(q==this.pm){if(K){this.zj.setAttribute("draggable","false");
var D=new dE.j4(this.pm,this.ni.bind(this))}else this.Pk({R:b.nf,B:B,W3:X,aKu:!0});return}if(cC==0&&W.button==0&&K){if(q==this.pm)return;
var m=new ip(S.E.O,!0),Y=new ip(S.E.H,!0),a=new ip(S.E.dq,!0);if(X==0&&U.add.SoCo){var p=g.ov.yM(U.add.SoCo.Clr.v);
Y.data={R:S.m.K_,ud:"colorpicker",ke:p.o<<16|p.L<<8|p.X,om:function(F){var E=g.ov.E2({X:F&255,L:F>>>8&255,o:F>>16&255});
E={classID:"null",Clr:{t:"Objc",v:E}};var o=new ip(S.E.O,!0);o.J=_.b9;o.data={R:b.X5,Jp:[B],kn:!0,_:{O5:1,bE:E}};
this.T(o)}.bind(this),yd:!0}}else if(X==0&&(dZ.get(U.add)||U.add.SoCo||U.add.GdFl||U.add.PtFl))Y.data={R:S.m.oU,ud:dE.FV.iD};
else if(X!=0&&X!=-1)Y.data={R:S.m.oU,ud:dE.FV.iD};else if(X==0&&U.add.SoLd){var M=U.add.SoLd,x=M.generativeDocInfo;
if(x)Y.data={R:S.m.oU,ud:dE.FV.iD};else a.data={yx:"placedLayerEditContents",Og:{classID:"placedLayerEditContents"}}}else if(X==0&&U.add.TySh){m.J=_.W6;
m.data={R:"editCurr",XK:B}}else Y.data={R:S.m.K_,ud:"layerstyle",B:B};this.T(a.data?a:Y.data?Y:m);return}if(W.button!=0)return;
if(X==1||X==3){var y=X==3?U.Q2(k).BD:U.Jx();R=y.kA?k.f.K7.join("")=="111"?1:2:0}var s={R:b.nf,B:B,W3:X,aBL:R,aKu:!0};
this.Pk(s)};iz.prototype.Pk=function(W){var q=new ip(S.E.O,!0);q.data=W;q.J=_.b9;this.T(q)};iz.prototype.afl=function(){var W=this.l0.B,q=W.add,X=this.parent.q8.V(),k=this.parent.HD[X].V();
if(X==0){if(k[0]&&q.SoLd==null&&q.TySh==null&&W.xn())return!0;if(k[1]&&dZ.get(q)!=null)return!0;if(k[2]&&q.TySh!=null)return!0;
if(k[3]&&q.vstk!=null)return!0;if(k[4]&&q.SoLd!=null)return!0;return!1}if(X==1)return W.getName().toLowerCase().indexOf(k.toLowerCase())!=-1};
bM.Gm=function(W,q,X,k,B,U,l,K){gH.call(this);this.a4o=q;this.eT=X;this.index=U;this.K=I.a("div","styleitem");
this.zj=I.a("div","head");this.a9i=null;if(q=="f"){var D=this.a9i=I.a("div","headR");D.textContent="\u2699";
this.zj.appendChild(D)}this.ZT=I.a("div","eye gsicon");this.pm=I.a("div","label");this.K.appendChild(this.zj);
this.zj.appendChild(this.ZT);if(l){this.y$=l;this.zj.appendChild(l);I.w(this.zj,"height: "+K+"px")}this.pm.innerHTML=W;
I.w(this.K,"margin-left: "+(24+k*16+B*22)+"px");this.zj.appendChild(this.pm);this.ZT.addEventListener("click",this.ams.bind(this),!1);
var m=this.K;m.setAttribute("draggable","true");m.addEventListener("dragstart",this.GG.bind(this),!1);
if(!0){m.addEventListener("drop",this.Kc.bind(this),!1);m.addEventListener("dragover",this.BY.bind(this),!1);
m.addEventListener("dragenter",I.hk,!1);m.addEventListener("dragleave",this.Dj.bind(this),!1)}this.K.addEventListener("click",this.iY.bind(this),!1)};
bM.Gm.prototype=new gH;bM.Gm.prototype.GG=function(W){W.stopPropagation();W.dataTransfer.setData("Text",JSON.stringify({R7:this.a4o,SE:this.parent.l0.index,HW:this.index}))};
bM.Gm.prototype.Dj=function(W){I.hk(W);this.KN()};bM.Gm.prototype.Kc=function(W){I.hk(W);this.KN();var q=W.dataTransfer.getData("Text");
if(q=="")return;var q=JSON.parse(q);iz.aC9(W,q,this.parent,this.index+(iz.fG(W,this.zj)>.5?0:1))};bM.Gm.prototype.BY=function(W){I.hk(W);
var q=iz.fG(W,this.zj)>.5;this.KN();var X="border-"+(q?"bottom":"top");this.zj.style[X]="0.2em solid rgba(0,0,0,0.5)"};
bM.Gm.prototype.KN=function(W){this.zj.style.border="none"};bM.Gm.prototype.ZR=function(W){this.ZT.style.opacity=W?1:.2};
bM.Gm.prototype.iY=function(W){var q=this.parent.l0.index,X=iz.UC,k=Date.now()-X<300&&q==iz.PZ;iz.UC=Date.now();
iz.PZ=q;if(W.target==this.ZT)return;if(k&&this.eT!=null){var q=this.parent.l0.index,B=new ip(S.E.H,!0);
if(this.eT.indexOf("afw_")==0){var U=this.eT.slice(4),l=kf[U]||dY.Z[U],K=W.target==this.a9i;if(!K&&!l)return;
B.data=_.y6.ww(K?"blendOptions":U,{B:q,index:this.index})}else B.data={R:S.m.K_,ud:this.eT,B:q,index:this.index};
this.T(B)}else{if(W.target.className!="thumb")this.parent.Pk({R:b.nf,B:q,W3:0})}};bM.Gm.prototype.ams=function(W){var q={fm:b.Co,f:b.pD,sm:b.hD,s:b.tm}[this.a4o];
this.parent.Pk({R:q,B:this.parent.l0.index,index:this.index})};function ga(){dE.call(this,"Guide Guy",!1,"---panels/guideguy",dE.FV.a7I);
this.Zl=null;this.TE=new cL(null,g.Qs.XW)}ga.prototype=new dE("");ga.prototype.Y3=function(){this.Vo=[];
var W=I.a("div","form padded");this.nJ.appendChild(W);I.w(W,"width:200px");this.nJ.appendChild(W);var q=I.a("canvas"),X=q.getContext("2d");
q.width=q.height=160;var k=[32,0,16,160,0,32,160,16,0,112,160,16],B="Margin Left,Margin Top,Margin Right,Margin Bottom,Column Count,Row Count,Column Width,Row Height,Column Gap,Row Gap".split(","),U=[0,0,0,0,0,0,0,0,0,0];
W.appendChild(this.TE.K);I.zR(W);for(var N=0;N<10;N++){X.clearRect(0,0,160,160);X.setTransform(1,0,0,1,80,80);
X.rotate((N&3)*Math.PI/2);X.translate(-80,-80);X.fillStyle="rgba(0,0,0,0.3)";if(N<4){for(var l=0;l<12;
l+=4){X.fillStyle=l==0?"#000000":"rgba(0,0,0,0.3)";X.fillRect(k[l],k[l+1],k[l+2],k[l+3])}}else if(N<6){var K=8*6;
X.fillRect(0,0,K,160);X.fillRect(8*7,0,K,160);X.fillStyle="#000000";X.fillRect(8*14,0,K,160)}else if(N<8){X.fillRect(0,0,16,160);
X.fillRect(160-16,0,16,160);X.fillRect(32,0,160-64,160);X.fillStyle="#000000";X.fillRect(32,80-8,160-64,8*1)}else{X.fillRect(0,0,8*7,160);
X.fillRect(8*13,0,160,160);X.fillStyle="#000000";X.fillRect(8*7,80-8,8*6,8*1)}var D="<img src=\""+q.toDataURL()+"\" class=\"autoscale gsicon\" /> ",m=new al(D,0,200,null,N==4||N==5?0:2,null,null,4,B[N]);
m.parent=this;m.Q(S.E.k,this.aoh,this);m.q(U[N]);m.l();this.Vo.push(m);W.appendChild(m.K)}var Y=[[11,14],[11,15,0]];
this.$v=[];for(var N=0;N<Y.length;N++){var a=new iC(Y[N],!0,null,!0);this.$v.push(a);a.Q("click",this.Da,this);
W.appendChild(a.K)}for(var N=0;N<6;N++){X.setTransform(1,0,0,1,80,80);X.rotate(Math.floor(N/3)*Math.PI/2);
X.translate(-80,-80);X.clearRect(0,0,160,160);X.fillStyle="rgba(0,0,0,0.3)";X.fillRect(0,0,160,160);
X.clearRect(16,16,128,128);X.fillStyle="#000000";var p=N%3;X.fillRect([0,9,18][p]*8,0,16,160);var D="<img src=\""+q.toDataURL()+"\" class=\"autoscale gsicon\" /> ",a=new iC(D,!1,null,!1);
this.$v.push(a);a.Q("click",this.Da,this);W.appendChild(a.K)}};ga.prototype.l=function(){dE.prototype.l.call(this);
this.TE.l();if(this.Vo==null)return;for(var N=0;N<this.$v.length;N++)this.$v[N].l()};ga.prototype.aoh=function(W){var q=this.Vo,X=q.indexOf(W.target),k=Math.floor(X/2),B=X&1,U=[];
for(var N=0;N<4;N++)U.push(q[2*N+B].V());var l=-1;if(k==2&&U[2]!=0&&U[3]!=0&&U[4]!=0)l=4;if(k==3&&U[3]!=0&&U[2]!=0&&U[4]!=0)l=4;
if(k==4&&U[4]!=0&&U[2]!=0&&U[3]!=0)l=3;if(l!=-1)q[2*l+B].q(0)};ga.prototype.Da=function(W){var q=this.Zl,X=this.$v.indexOf(W.target),k=[[],[]];
if(q==null)return;var B=q.d?q.d.S:new dU(0,0,q.r,q.$),U=B.r,l=B.$;if(X==0){var K=[[],[]],D=this.TE.V();
for(var N=0;N<this.Vo.length;N++){var m=this.Vo[N].V();if(N!=4&&N!=5)m=g.Qs.ll(m,q.mC,(N&1)==0?B.r:B.$,D);
K[N&1].push(m)}var Y=[ga.a3R(K[0],B.x,B.x+U),ga.a3R(K[1],B.y,B.y+l)];k=ga.vG(Y);_.U6._D(k,q.sO())}else if(X==1){}else{X-=2;
var a=Math.floor(X/3),Y=[[],[]];Y[a].push([B.x,B.x+U/2,B.x+U,B.y,B.y+l/2,B.y+l][X]);k=ga.vG(Y);_.U6._D(k,q.sO())}this.a8w(k)};
ga.vG=function(W){var q=[],X=[];for(var k=0;k<2;k++)for(var N=0;N<W[k].length;N++){q.push([k,W[k][N]]);
X.push(-1)}return[q,X]};ga.prototype.a2Q=function(W){var q=this.a1m.indexOf(W.target)};ga.prototype.a8w=function(W){var q=new ip(S.E.O,!0);
q.J=_.zl;q.data={R:"gids",$w:W};this.T(q)};ga.a3R=function(W,q,X){var k=[],B=W[2],U=W[3],l=W[4],K=0;
if(B==0)K++;if(U==0)K++;if(l==0)K++;if(K>1&&B==0&&U==0){if(W[0]!=0)k.push(q+W[0]);if(W[1]!=0)k.push(X-W[1]);
return k}var D=X-q-W[0]-W[1];if(B==0){if(l==0){B=Math.floor(D/U);l=(D-B*U)/(B-1)}else{B=1;while(U*B+l*(B-1)+U+l<=D)B++}}else if(B!=0&&U!=0){if(B*U>D)B=Math.floor(D/U);
l=(D-B*U)/(B-1)}k.push(q+W[0],X-W[1]);var U=(D-l*(B-1))/B;for(var N=1;N<B;N++){if(l==0)k.push(q+W[0]+N*U);
else k.push(q+W[0]+N*U+(N-1)*l,q+W[0]+N*U+N*l)}return k};ga.prototype.V9=function(W,q,X){this.Zl=W};
ga.prototype.Ql=function(){if(I.rL(this.nJ)&&this.Vo==null)this.Y3();this.l()};ga.prototype.QL=function(W){this.TE.q(W.bm.vA)};
function bS(){dE.call(this,[9,2],!1,"---panels/properties",dE.FV.iD);this.aqI=null;this.LV=null;this.e=null;
this.aIP=-1;this.Gb=null}bS.prototype=new dE("");bS.prototype.qL=function(W,q){this.Ah=W;this.QB=q;W=W-16;
q=q-30;var X=this.Gb;if(X){X.style.width=W+"px";X.style.height=q+"px";for(var N=0;N<3;N++)this.a6_[N].qL(W-12,q)}};
bS.prototype.Y3=function(){this.Gb=I.a("div","padded scrollable");this.nJ.appendChild(this.Gb);var W=I.a("span");
this.Gb.appendChild(W);this.WF=[new iC([0,3]),new iC([12,73]),new iC([12,91,0])];for(var N=0;N<this.WF.length;
N++){var q=this.WF[N];q.Q("click",this.apL,this);W.appendChild(q.K);if(N==2)q.K.style.marginRight="0"}this.Gb.appendChild(I.a("hr"));
this.LM=new bS.o7;this.LM.parent=this;this.Hn=new bS.TJ;this.Hn.parent=this;this.FH=new bS.SW;this.FH.parent=this;
this.a6_=[this.LM,this.Hn,this.FH];this.Gb.appendChild(this.LM.K);this.Ww=I.a("div","lpfoot");this.nJ.appendChild(this.Ww);
this.bP=[];for(var N=0;N<4;N++){var q=new iC("W");q.Q("click",this.NE,this);this.bP.push(q);this.Ww.appendChild(q.K)}this.qL(this.Ah,this.QB)};
bS.prototype.NE=function(W){var N=this.bP.indexOf(W.target);if(N==1){var q=this.LV,X=q.U[q.Y[0]],k=dZ.get(X.add);
this.LM.abA.q(dY.wy(k));this.LM.ae6();return}var B=new ip(S.E.O,!0);B.J=_.b9;if(N==0)B.data={R:b.W7};
if(N==2)B.data={R:b.GW};if(N==3)B.data={R:b.L5};this.T(B)};bS.prototype.apL=function(W){var N=this.WF.indexOf(W.currentTarget);
this.Z3(N);this.a5i(N==1?this.Hn.AZ:-1)};bS.prototype.Z3=function(W){for(var N=0;N<3;N++){this.WF[N].Uq();
var q=this.a6_[N].K;if(q.parentNode==this.Gb&&N!=W)this.Gb.removeChild(q);if(q.parentNode!=this.Gb&&N==W)this.Gb.appendChild(q)}this.WF[W].ju()};
bS.prototype.a5i=function(W){var q=this.LV.Y[0],X=this.LV.U[q],k=W+1;if(W==1&&X.LJ)return;var B=new ip(S.E.O,!0);
B.J=_.b9;if(W!=1&&X.LJ){B.data={R:b.nf,B:q,W3:2};this.T(B)}B.data={R:b.nf,B:q,W3:k};this.T(B)};bS.prototype.l=function(){dE.prototype.l.call(this);
if(this.Gb==null)return;this.V9(this.LV);for(var N=0;N<3;N++){this.WF[N].l();this.a6_[N].l()}hz.pA(this.bP,["lrs/clipping","reload","lrs/eye","lrs/bin"],[[6,6,0],[1,12,2],[5,5],[6,31]])};
bS.prototype.Ql=function(){if(!I.rL(this.nJ))return;if(this.Gb==null){this.Y3();this.QL(this.e,aI.NC);
this.V9(this.aqI);this.l()}};bS.prototype.V9=function(W){this.aqI=W;if(this.Gb==null)return;this.LM.V9(W);
this.Hn.V9(W);this.FH.V9(W);if(W==null||W.Y.length==0||W.U[W.Y[0]]==null){I.Wx(this.nJ,"disabled");this.LV=null;
return}else I.gI(this.nJ,"disabled");var q=W.Y[0],X=W.U[q];this.bP[0].q(X.Oa);this.bP[1].Si(dZ.get(X.add)!=null);
this.bP[2].q(X.P$());var k=W.Yb(),B=k[0],U=k[1];if(U.length!=0){var l=B[U[0]],K=l.add.vogk,D=!1;if(K)for(var N=0;
N<K.length;N++){var m=K[N].v;if(!g.BI.rv(m))continue;D=!0;q=l.bT}}q+=","+D;if(W!=this.LV||this.aIP!=q){this.LV=W;
this.aIP=q;if(D)this.Z3(2);else if(X.pw<1&&!X.LJ||dZ.get(X.add))this.Z3(0);else this.Z3(1)}this.WF[1].Si(this.Hn.AZ!=-1);
this.WF[2].Si(D)};bS.prototype.QL=function(W,q){this.e=W;if(this.LM)this.LM.QL(W,q);if(this.FH)this.FH.QL(W,q)};
bS.o7=function(){gH.call(this);this.K=I.a("div","form");this.aFd=new j1("Hello");this.K.appendChild(this.aFd.K);
this.tc=null;this.abA=null;this.LV=null;this.e=null;this.ag5=-1;this.amT=null;this.a08=null;this.lt=new bG(0,!0,!0);
this.lt.parent=this;this.lt.Q(S.E.k,this.aF5,this);this.K.appendChild(this.lt.K);this.KX=new dT(!0);
this.KX.parent=this;this.KX.Q(S.E.k,this.aJp,this);this.qi=I.a("div","marged hiline");this.qi.appendChild(this.KX.K);
this.vS=new i2("GrFl",!0);this.vS.parent=this;this.vS.Q(S.E.k,this.aw4,this);this.St=I.a("div","marged hiline");
var W="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");for(var N=0;N<W.length;N++){var q=this.vS.ef[W[N]].K;
this.St.appendChild(q)}this.Hh=new i2("patternFill",!0);this.Hh.parent=this;this.Hh.Q(S.E.k,this.aE0,this);
this.Ia=I.a("div","marged hiline");var W=["Ptrn","Angl","Scl","Algn","phase"];for(var N=0;N<W.length;
N++){var q=this.Hh.ef[W[N]].K;this.Ia.appendChild(q)}this.mb={};for(var X in dZ.names){if(kf[X]==null)continue;
this.mb[X]=new kf[X];this.mb[X].Q(S.E.k,this.ae6,this);this.mb[X].parent=this}var k=this.axz=I.a("div","marged hiline");
this.wE=new bG(0,!0);k.appendChild(this.wE.K);this.wE.Q(S.E.k,this.oB,this);this.aky=null;this.Df=new k$;
this.Df.parent=this;this.Df.Q(S.E.k,this.oB,this);k.appendChild(this.Df.K);this.GI=new kz;this.GI.parent=this};
bS.o7.prototype=new gH;bS.o7.prototype.aF5=function(W){var q=this.lt.V(),X=this.a08,k=new dU(q[0],q[1],q[2],q[3]);
if(k.AB(X))return;this.a08=k;var B=new ip(S.E.O,!0);if(X.r==k.r&&X.$==k.$){B.J=_.zl;B.data={R:"trsl",Ma:k.x-X.x,gM:k.y-X.y}}else{B.J=_.Xx;
B.data={R:"scl",xJ:[2,4],_:new hw(k.r/X.r,k.$/X.$),Fy:0}}this.T(B)};bS.o7.prototype.qL=function(W,q){var X=this.mb;
for(var k in X)X[k].qL(W,q)};bS.o7.prototype.l=function(){for(var W in this.mb)this.mb[W].l();this.vS.l();
this.Hh.l();this.Df.l();this.wE.l();this.lt.l();this.GI.l()};bS.o7.prototype.oB=function(W){var q=new ip(S.E.O,!0),X=this.wE.V(),k=this.aky;
if(W.target==this.wE&&X[2]==k[2]&&X[3]==k[3]){q.J=_.zl;q.data={R:"trsl",Ma:X[0]-k[0],gM:X[1]-k[1]}}else{var B=b.wR(new dU(X[0],X[1],X[2],X[3])),U=this.Df.aDH();
U.artboardRect={t:"Objc",v:B};var l=this.LV,K=l.U[l.Y[0]],D=K.add.artb.guideIndeces;if(D)U.guideIndeces=g.N(D);
q.J=_.b9;q.data={R:b.sU,xK:U}}this.T(q)};bS.o7.prototype.aJp=function(W){var q=this.LV,X=q.Y[0];if(q.U[X].add.SoCo==null)return;
var k=g.N(q.U[X].add.SoCo);k.Clr.v=this.KX.V();this.AN({O5:1,bE:k})};bS.o7.prototype.aw4=function(W){var q=this.LV,X=q.Y[0];
if(q.U[X].add.GdFl==null)return;this.AN({O5:2,bE:this.vS.V()})};bS.o7.prototype.aE0=function(W){this.AN({O5:3,bE:this.Hh.V()})};
bS.o7.prototype.AN=function(W){this.a6c(_.b9,{R:b.X5,Jp:[this.LV.Y[0]],kn:!0,_:W})};bS.o7.prototype.ae6=function(W){this.a6c(_.wm,{R:"edit_layer",_:this.abA.V()})};
bS.o7.prototype.a6c=function(W,q){var X=new ip(S.E.O,!0);X.J=W;X.data=q;this.T(X)};bS.o7.prototype.V9=function(W,q){var X=js.get([0,3]),k=!1,B=null;
this.LV=W;if(W&&W.U.length>0&&W.Y.length!=0&&W.U[W.Y[0]]){var U=W.U[W.Y[0]],l=dZ.get(U.add);if(l!=null&&this.mb[l]!=null){B=this.mb[l].K;
this.abA=this.mb[l];this.mb[l].q(g.N(U.add[l]));if(W.Y[0]!=this.ag5){var K=W.OL(W.Y[0]-1);this.amT=g.n7(K)}this.mb[l].Jw(this.amT);
X=js.get(dZ.names[l])}if(l==null&&U.add.artb==null){var D=this.a08=g.b.V5(_.Gz.wu(W));k=!D.PM();var m=W.FM();
D.x-=m.x;D.y-=m.y;this.lt.q([D.x,D.y,D.r,D.$],[W.mC,W.r,this.e.bm.vA])}if(U.add.SoCo){B=this.qi;this.KX.q(U.add.SoCo.Clr.v);
X=js.get([6,48,0,0])}if(U.add.GdFl){B=this.St;this.vS.update(W,U.add.GdFl);X=js.get([6,48,0,1])}if(U.add.PtFl){B=this.Ia;
this.Hh.update(W,U.add.PtFl);X=js.get([6,48,0,2])}if(U.add.artb){var Y=U.add.artb,a=U.La();B=this.axz;
this.Df.af2(Y);var p=this.aky=[a.x,a.y,a.r,a.$];this.wE.q(p,[W.mC,W.r,this.e.bm.vA]);X=js.get([1,16,0])}var M=U.add.SoLd;
if(M&&M.generativeDocInfo){var x=M.Idnt.v,R=W.gW(x);this.GI.q(R.raw.buffer);B=this.GI.K}this.ag5=W.Y[0]}if(B!=this.tc){if(this.tc)this.K.removeChild(this.tc);
if(B!=null)this.K.appendChild(B);this.tc=B}this.aFd.q(X);this.lt.K.style.display=k?"":"none"};bS.o7.prototype.QL=function(W,q){this.e=W;
this.vS.QL(W,q);this.Hh.QL(W,q);if(q==aI.VH)this.V9(this.LV,W);for(var X in this.mb)this.mb[X].QL(W,q)};
bS.TJ=function(){gH.call(this);this.K=I.a("div","form");this.LV=null;this.AZ=0;var W=I.a("span","fitem");
this.K.appendChild(W);this.WF=[new iC([6,2]),new iC([6,3]),new iC([6,50])];for(var N=0;N<this.WF.length;
N++){var q=this.WF[N];q.Q("click",this.aph,this);W.appendChild(q.K)}this.ap=new iT([12,74],0,255);this.ap.Q(S.E.k,this._t,this);
this.K.appendChild(this.ap.K);this.px=new iT([7,6],0,500,"px",2,!0);this.px.Q(S.E.k,this._t,this);this.K.appendChild(this.px.K);
this.aqF=new iC([4,11],null,null,!0);this.aqF.Q("click",this.at0,this)};bS.TJ.prototype=new gH;bS.TJ.prototype.at0=function(){var W=new ip(S.E.O,!0);
W.J=_.wm;W.data={R:"start",_h:"nvrt"};this.T(W)};bS.TJ.prototype._t=function(W){var q=this.ap.V(),X=this.px.V(),k=new ip(S.E.O,!0);
k.J=_.b9;k.data={R:b.vv,y5:this.LV.Y[0],NV:{CY:this.AZ,ap:q,px:X}};this.T(k)};bS.TJ.prototype.l=function(){for(var N=0;
N<this.WF.length;N++)this.WF[N].l();this.ap.l();this.px.l();this.aqF.l()};bS.TJ.prototype.V9=function(W){this.LV=W;
this.Jv()};bS.TJ.prototype.aph=function(W){this.Jv(this.WF.indexOf(W.currentTarget));this.parent.a5i(this.AZ)};
bS.TJ.prototype.Jv=function(W){var q=this.LV,X=this.WF;for(var N=0;N<3;N++){var k=X[N];k.Uq();k.Ti()}if(q==null||q.U.length==0||q.Y.length==0||q.U[q.Y[0]]==null)return;
var B=-1,U=q.U[q.Y[0]];if(U.SF()&&U.Q2(q).BD!=null){X[2].JZ();B=2}if(U.add.vmsk){X[1].JZ();B=1}if(U.Jx()){X[0].JZ();
B=0}if(W!=null)B=W;else if(U.LJ)B=1;else if(U.pw==3)B=2;else if(U.pw==1)B=0;this.AZ=B;if(B==-1){this.ap.Ti();
this.px.Ti();return}var l=U.o$(B);this.ap.JZ();this.px.JZ();this.ap.q(l.ap);this.px.q(l.px);X[B].ju();
var K=this.aqF.K;if(B==0)this.K.appendChild(K);else if(K.parentNode==this.K)this.K.removeChild(K)};bS.SW=function(){gH.call(this);
this.K=I.a("div","form");this.Zl=null;this.e=null;this.tW=-1;this.lt=new bG(0,!1);this.pf=new iT([12,15],-180,180,"\xB0",2);
this.jy=new bG(1,!0);this._A=new iT([12,94,0],0,100,null,2);this.pJ=new iT([12,78],3,30);this.QR=new iC(["\u279C  ",[12,76,0]],null,null,!0);
this.lt.Q(S.E.k,this.e$,this);this.pf.Q(S.E.k,this.e$,this);this.jy.Q(S.E.k,this.e$,this);this._A.Q(S.E.k,this.e$,this);
this.pJ.Q(S.E.k,this.e$,this);this.QR.Q("click",this.e$,this)};bS.SW.prototype=new gH;bS.SW.prototype.l=function(){this.lt.l();
this.pf.l();this.jy.l();this._A.l();this.pJ.l()};bS.SW.prototype.e$=function(W){var q=this.Zl,X=g.BI.b6(q),k=W.target.V(),B=[this.lt,this.pf,this.jy,this._A,this.pJ,this.QR].indexOf(W.target);
if(B==0){var U=q.FM(),l=[],K=l[0]=k[0]+U.x,D=l[1]=k[1]+U.y;l[2]=K+k[2];l[3]=D+k[3];k=l}if(B==1)k=k*Math.PI/180;
var m={0:1,1:2,2:3,3:3,4:4}[B];X[m]=k;var Y=new ip(S.E.O,!0);Y.J=_.b9;Y.data={R:b._U,_:X,app:B==5};this.T(Y)};
bS.SW.prototype.V9=function(W){var q=this.K;this.Zl=W;if(W==null)return;var X=this.e,k=[W.mC,W.r,X.bm.vA],B=g.BI.b6(W),U=B[0],l=B[1];
if(l==null)return;var K=U!=this.tW;this.tW=U;if(K)I.ru(q);if(K)q.appendChild(this.lt.K);if(K)q.appendChild(this.pf.K);
var D=W.FM();this.lt.q([l[0]-D.x,l[1]-D.y,l[2]-l[0],l[3]-l[1]],k);this.pf.q(B[2]*180/Math.PI);if(U==2){if(K)q.appendChild(this.jy.K);
var m=B[3];this.jy.q(m,k)}if(U==7||U==8){if(K)q.appendChild(this._A.K);this._A.q(B[3])}if(U==8){if(K)q.appendChild(this.pJ.K);
this.pJ.q(B[4])}q.appendChild(this.QR.K)};bS.SW.prototype.QL=function(W,q){this.e=W;this.V9(this.Zl)};
function ex(W){dE.call(this,W.name,!0);this.LV=W;this.e=null;this.MQ=new gQ(this.nJ);this.MQ.parent=this}ex.prototype=new dE;
ex.VD=function(){var W=document.createElement("canvas"),q=document.createElement("canvas"),X=document.createElement("canvas"),k=16,B=g.j(16*16*4);
g.Vh(B,k,k,8);var U=g.scale.qh(B,k,k);return{rN:W,abt:q,a1r:X,eO:W.getContext("2d"),a4x:q.getContext("2d"),aj6:X.getContext("2d"),PJ:U}}();
ex.prototype.aHD=function(){if(this.LV.uV())return window.confirm(js.get([22,6,3])+" "+this.LV.name+". "+js.get([22,6,4]));
return!0};ex.prototype.QL=function(W,q){this.e=W};ex.prototype.V9=function(W){this.Ql();this.L8()};ex.prototype.qL=function(W,q){if(W<=0||q<=0)return;
this.Ah=W;this.QB=q;var X=this.LV,k=ex.VD,B=I.W$();X.f.eO.r=Math.floor(W*B);X.f.eO.$=Math.floor(q*B);
I.JO(k.rN,W,q);I.JO(k.abt,W,q);I.JO(k.a1r,W,q);I.JO(dd.Nm(),W,q);if(X.f.$Z==0)X.f.$Z=_.OK.Xr(X.r,X.$,W*B,q*B);
this.L8()};ex.prototype.Ql=function(){var W=this.nJ.firstChild,q=ex.VD,X=dd.gP&&cC==0;if(!X&&W==dd.Nm()||X&&W==q.rN)this.nJ.removeChild(W);
var k=X?dd.Nm():q.rN;if(!I.rL(k))this.nJ.appendChild(k)};ex.prototype.L8=function(){if(this.e==null)return;
var W=this.LV,q=dd.gP&&cC==0;if(q)this.aJU();else this.VU()};ex.prototype.aJU=function(){if(dd.gP&&ex.a7L==null){var W=ex.a7L=[],q=[0,2,8,32,128];
for(var N=0;N<5;N++)W[N]=[new ex._x(!1,q[N],!1),new ex._x(!0,q[N],!1)];W.push([new ex._x(!1,0,!0),new ex._x(!0,0,!0)])}var X=this.LV,k=ex.VD,R,F=0,v,c;
if(X.iu==null)return;var B=X.f,U=B.eO.r,l=B.eO.$,K=dd.Ca;k.eO.clearRect(0,0,U,l);var D=this.ax4(X);if(B.rz==null||B.rz.r!=U||B.rz.$!=l)B.rz=new dd.rV(U,l);
if(D){var m=Date.now(),Y=navigator.userAgent.toLowerCase();if(Y.indexOf("safari")!=-1&&Y.indexOf("chrome")==-1){var a=l,p=new Uint8Array(k.eO.getImageData(0,0,U,a).data.buffer);
B.rz.set(p,new dU(0,0,U,a))}else B.rz.set(k.eO.canvas);this.UP=!0}else if(this.e.RS){if(this.UP){dd.vo(B.rz);
dd.Ds(1);this.UP=!1}var M=g.Qs.fw,p=new Uint8Array(X.f.YP.data.buffer);B.rz.set(p,new dU(0,0,M,l));var p=new Uint8Array(X.f.n1.data.buffer);
B.rz.set(p,new dU(0,0,U,M));var p=new Uint8Array(k.eO.getImageData(0,l-M,U,M).data.buffer);B.rz.set(p,new dU(0,l-M,U,M));
this.UP=!0}else if(this.UP){dd.vo(B.rz);dd.Ds(1);this.UP=!1}var x=B.az(0,0);if(ex.asY==null)ex.asY=new Float32Array(4*1024);
var y=[0,0,0,0],s=ex.asY;if(X.add.artd){s.fill(0);y=ex.Gq(X);var E=X.r,o=X.$,r=0;for(var N=0;N<X.U.length;
N++){var G=X.U[N],d=G.add.artb;if(d==null||!G.P$())continue;var u=G.La();s[F]=u.x/E;s[F+1]=u.y/o;s[F+2]=u.r/E;
s[F+3]=u.$/o;F+=4;if(F==s.length)break}if(F>2*4)r++;if(F>8*4)r++;if(F>32*4)r++;R=ex.a7L[r+1];s=new Float32Array(s.buffer,0,[2,8,32,128][r]*4)}else R=ex.a7L[X.Cg?5:0];
var V=X.XZ();if(V==null)R=R[0];else{R=R[1];c=V[X.add.fcmy==1?6:4];v=V[2]}dd.aFT(U,l);dd.Ds(0);dd.aFT(U,l);
R.m2();var j=new ka;j.scale(U,l);j.concat(B.bq(!0));j.scale(1/X.r,1/X.$);var Q=[j.iM,j.X,0,j.bO,j.kv,0,j.Wy,j.rY,1];
R.kr(B.rz.hc,X.iu.hc,new Float32Array(Q),new Float32Array([U/8,l/8,x.x/U,x.y/l]),X.r,X.$,1/X.f.$Z,U,l,new Float32Array(y),s,new Float32Array(g.Id.Pj(g.Id.aqz(B.K7))),c,v);
K.drawArrays(K.TRIANGLES,0,6)};ex.Gq=function(W){return[0,0,0,0]};ex.aDl=function(W){var q=g.ov.yM(W.v),X=[q.o/255,q.L/255,q.X/255,1];
for(var N=0;N<4;N++)X[N]=Math.min(1,X[N]);return X};ex.r9=function(W,q){var X=W[2]*255;if(dd.gP)X=q?0:Math.max(2,X);
return"rgba("+W[0]*255+","+W[1]*255+","+X+","+W[3]+")"};ex.eV=function(W){var q=W.length;if(dd.gP)for(var N=0;
N<q;N+=4){if(W[N+2]==0)W[N+2]=3}};ex.prototype.VU=function(){var W=this.LV,q=ex.VD;if(cC==0&&W.buffer==null)return;
var X=W.f,k=X.eO,B=k.r,U=k.$,l=new dU(0,0,W.r,W.$);q.eO.clearRect(0,0,B,U);var K=W.add.prvw==0;if(cC==1&&K){q.eO.fillStyle="white";
q.eO.fillRect(-5e3,-5e3,2e4,2e4)}var D=X.bq(!0),m=D.P();m.i5();if(cC!=0){}else if(W.add.artd==null){q.eO.save();
var Y=m.Bb(new hw(0,0));m.translate(-Y.x,-Y.y);q.eO.translate(Math.round(Y.x),Math.round(Y.y));q.eO.fillStyle=cC==0?q.PJ:"#ffffff";
if(W.Cg)q.eO.fillRect(-5e3,-5e3,2e4,2e4);else{this.v6(g.b.Lw(l),m,q.eO);q.eO.fill()}q.eO.restore()}else{q.eO.fillStyle=ex.r9(ex.Gq(W));
q.eO.fillRect(0,0,B,U);q.eO.save();q.eO.setTransform(m.iM,m.X,m.bO,m.kv,m.Wy,m.rY);var a=W.root.children;
for(var N=0;N<a.length;N++){var p=a[N].B;if(p.add.artb==null||!p.P$())continue;var M=p.La(),x=p.Yr();
if(x!=0)continue;q.eO.fillStyle=q.PJ;q.eO.save();q.eO.scale(1/X.$Z,1/X.$Z);q.eO.fillRect(X.$Z*M.x,X.$Z*M.y,M.r*X.$Z,M.$*X.$Z);
q.eO.restore()}q.eO.restore()}var m=X.bq(!0);m.i5();if(cC==1){q.eO.save();var R=g.b.Lw(X.eO);g.b.M(R.n,X.bq(!0),R.n);
var y=g.b.DS(R.n);q.eO.setTransform(m.iM,m.X,m.bO,m.kv,m.Wy,m.rY);W.root.No(W,q.eO,this.e,y);q.eO.restore();
q.eO.save();q.eO.fillStyle="#ffffff";q.eO.globalCompositeOperation="destination-over";var s=W.add.arts;
for(var N=0;N<s.length;N++){var y=g.b.Hb(s[N].IH);this.v6(g.b.Lw(y),m,q.eO);if(K)q.eO.stroke();else q.eO.fill()}q.eO.restore()}else{il.fY(X.eO);
var F=k,E=W.X9;if(E&&E.Ox(l))E=null;if(!W.Cg){var o=E;if(o==null)o=l;var G=g.b.Lw(o).n;g.b.M(G,m,G);
var y=g.b.DS(G);F=k.x$(y)}if(!F.PM()){var d=new Uint8Array(il.LI.buffer,0,F.C()*4);d.fill(0);var u=W.buffer,r=W.XZ(),v=g.Oj(u),c=g.bH(v);
if(r&&v!=8){u=u.slice(0);for(var N=0;N<u.length;N++)if(u[N]>c)u[N]=c;ICC.U.applyLUT(r[W.add.fcmy==1?5:3],r[2],u,u)}g.scale.Z6(u,l,D,d,F,W.Cg);
if(r&&v==8){ICC.U.applyLUT(r[W.add.fcmy==1?5:3],r[2],d,d)}if(X.K7[0]+X.K7[1]+X.K7[2]!=3)g.Id.ay2(d,d,g.Id.aqz(X.K7));
if(E)q.aj6.clearRect(F.x,F.y,F.r,F.$);else q.aj6.clearRect(0,0,B,U);q.aj6.putImageData(new ImageData(new Uint8ClampedArray(d.buffer,0,d.length),F.r,F.$),F.x,F.y)}q.eO.drawImage(q.a1r,0,0);
q.eO.getImageData(0,0,1,1)}this.ax4(W)};ex.prototype.ax4=function(W){var q=W.f,X=q.K7[0]+q.K7[1]+q.K7[2],k=ex.VD,B=!1,U=[];
for(var N=0;N<W.Y.length;N++){var l=W.U[W.Y[N]];if(l==null)continue;var K=l.pw;if(K!=1&&K!=3)continue;
var D=K==1?l.Jx():l.Q2(W).BD;if(D.kA)U.push(D)}for(var N=0;N<W.RH.length;N++)if(W.RH[N].kA)U.push(W.RH[N]);
for(var N=0;N<U.length;N++){var D=U[N];this.ad6(D,q,U.length==1&&X==0?2:1,D.color,D.ke);B=!0}var m=this.e;
B=this.a8L(W,k.eO,q,U.length!=0)||B;if(W.d&&m.$O&&m.bm.xx){this.ad6(W.d,q,0,0,null);B=!0}return B};ex.prototype.ad6=function(W,q,X,k,B){var U=0;
if(B)U=Math.round(B.X)<<16|Math.round(B.L)<<8|Math.round(B.o);var l=q.bq(!0),K=q.eO,D=new dU(0,0,q.LV.r,q.LV.$),m=ex.VD;
il.fY(q.eO);il.aJ.fill(k);il.LI.fill(0);var Y=W.c,a=W.S;g.scale.M(Y,a,l,il.aJ,K);if(X==0){var p=new Uint32Array([4278190080,4294967295]);
ex.eV(new Uint8Array(p.buffer));g.d.ayc(il.aJ,il.LI,K,p,I.W$()>1.9)}else{var M=Date.now();g.d.acG(il.aJ,il.LI,K,X,U);
ex.eV(il.LI)}var x=new ImageData(new Uint8ClampedArray(il.LI.buffer),K.r,K.$);m.a4x.putImageData(x,0,0);
m.eO.save();if(X!=0){var R=new dU(0,0,D.r,D.$),y=l.P();y.i5();this.v6(g.b.Lw(R),y,m.eO);m.eO.clip()}m.eO.drawImage(m.abt,0,0);
m.eO.restore()};ex.prototype.a8L=function(W,q,X,k){var B=W.W.Y0!=null||W.W.Qc!=null||W.W.RA!=null||W.W.ZK!=null||W.W.nM!=null||W.W.Bk!=null||W.W.yR.length!=0||W.W.L1.length!=0,U=this.e,l=U.bm,K=it.$z[U.FG],D=Math.round(12*I.W$()),m=D/W.f.$Z,Y=X.bq(!0);
Y.i5();q.save();q.setTransform(Y.iM,Y.X,Y.bO,Y.kv,Y.Wy,Y.rY);var a=ex.Gq(W)[0];a=a<.5?a+.5:a-.5;a=""+Math.round(a*255).toString(16);
while(a.length<2)a="0"+a;q.font=m+"px sans-serif";if(W.add.artd){q.fillStyle="#"+a+a+a;for(var N=0;N<W.U.length;
N++){var p=W.U[N];if(p.add.artb==null||!p.P$())continue;var M=p.La();q.save();q.beginPath();q.rect(M.x,M.y-2*m,M.r,2*m);
q.clip();q.fillText(p.getName(),M.x+2,M.y-m*.7);q.beginPath();q.restore();B=!0}}if(W.add.arts&&U.bt==_.eh){var x=W.add.arts;
for(var N=0;N<x.length;N++){var M=x[N],R=g.b.Hb(M.IH),y=(N+1+"").padStart(2,"0");y+=" - "+M.em;q.save();
q.beginPath();q.fillStyle=M.Y?"#cce6ff":"#dddddd";q.rect(R.x,R.y,q.measureText(y).width+m,m*1.5);q.fill();
q.fillStyle="black";q.fillText(y,R.x+m/2,R.y+m*1.1);q.restore()}B=!0}function s(iy){return iy==1||iy==2||iy==4||iy==5}var F=ex.r9([.3,.5,1,1]),E=ex.r9([1,1,1,1]),o=ex.r9([.7,.7,.7,1]);
if(U.$O&&l.RM){q.fillStyle=q.strokeStyle=F;q.lineWidth=1.5/X.$Z;var G=W.Yb(),d=G[0],u=G[1];for(var r=0;
r<u.length;r++){var p=d[u[r]],v=p.add.vmsk,c=v.G,V=g.b.sz(c);this.v6(V,null,q);q.stroke();B=!0;var j=3*I.W$()/X.$Z;
for(var N=0;N<v.qH.length;N++){var Q=g.z.awG(c,v.qH[N]);if(Q==null)continue;var H=Q.x,T=Q.y;q.beginPath();
var e=N==0;if(v.av)e=!e;if(e){q.moveTo(H-j,T-j);q.lineTo(H+j,T+j);q.moveTo(H-j,T+j);q.lineTo(H+j,T-j);
q.stroke()}else{q.arc(H,T,j*1,0,2*Math.PI);q.fill()}B=!0}if(W.Y.length!=1)continue;var z=-1,J=-1,P=-1;
for(var N=0;N<c.length;N++){if(c[N].I>5)continue;if(c[N].I==0||c[N].I==3){J=N+1;P=c[N].length;if(c[N].R3!=-1)z++;
continue}if(v.Y.indexOf(z)!=-1){var H=c[N].WL.x,T=c[N].WL.y;q.fillRect(H-j*.8,T-j*.8,2*j*.8,2*j*.8)}if(v.rP.indexOf(N)!=-1){var L=c[N],A=[L.WL];
q.beginPath();q.moveTo(L.mp.x,L.mp.y);q.lineTo(L.WL.x,L.WL.y);q.lineTo(L.ko.x,L.ko.y);var h=J+(N+P-J-1)%P,C=J+(N+P-J+1)%P,w=c[h],f=c[C];
if(w&&s(w.I)&&v.rP.indexOf(h)==-1){q.moveTo(w.WL.x,w.WL.y);q.lineTo(w.ko.x,w.ko.y);A.push(w.ko)}if(f&&s(f.I)&&v.rP.indexOf(C)==-1){q.moveTo(f.WL.x,f.WL.y);
q.lineTo(f.mp.x,f.mp.y);A.push(f.mp)}q.stroke();if(!L.WL.AB(L.mp))A.push(L.mp);if(!L.WL.AB(L.ko))A.push(L.ko);
for(var O=0;O<A.length;O++){var Q=A[O],H=Q.x,T=Q.y;if(O==0&&(L.I==2||L.I==5))q.fillRect(H-1.2*j,T-1.2*j,2.4*j,2.4*j);
else{q.beginPath();q.arc(H,T,j*1.2,0,2*Math.PI);q.fill();if(O!=0)q.fillStyle=E;q.beginPath();q.arc(H,T,j*.8,0,2*Math.PI);
q.fill();q.fillStyle=F}}}B=!0}}if(W.sY!=-1&&[_.AC,_.te,_.pM].indexOf(U.bt)!=-1){var p=W.RM[W.sY],v=p.add.vmsk,c=v.G,V=g.b.sz(c);
this.v6(V,null,q);q.stroke();B=!0}}q.lineWidth=1/X.$Z;if(W.W.ah){q.fillStyle=q.strokeStyle=F;var f={n:[],zb:[]},n=ex.a6s;
if(n==null){n=ex.a6s={n:[1,0],zb:["M"]};for(var N=1;N<30;N++){var $=Math.PI*2*N/30;n.n.push(Math.cos($),Math.sin($));
n.zb.push("L")}n.zb.push("Z","M","L","M","L");n.n.push(-.5,0,.5,0,0,-.5,0,.5)}for(var N=0;N<W.W.ah.length;
N++){var w=_.QO.a0Q(W.W.ah[N],X),d9=new ka(w[0],0,0,w[0],w[1],w[2]);g.b.concat(f,n,d9)}this.v6(f,null,q);
q.stroke();B=!0}var i=new ka(1,0,0,1,.5/X.$Z,.5/X.$Z);if(W.Cg){q.fillStyle=q.strokeStyle=F;var f={n:[0,0,W.r,0,W.r,W.$,0,W.$],zb:["M","L","L","L","Z"]};
this.v6(f,i,q);q.stroke();B=!0}if(W.W.Qq){q.fillStyle=q.strokeStyle=ex.r9([0,0,0,.5]);this.v6(W.W.Qq,null,q,!0);
q.fill("evenodd")}q.strokeStyle=F;q.fillStyle=E;if(W.W.RA){this.v6(W.W.RA,i,q);q.stroke()}if(W.W.nM){this.v6(W.W.nM,i,q);
q.lineWidth=I.W$()*3.5/X.$Z;q.stroke()}var dF=ex._g(W.W.FC,q,X);q.fill();q.stroke();B=B||dF;q.fillStyle=q.strokeStyle=ex.r9([0,0,0,dd.gP&&cC==0?1:.5],!0);
if(W.W.Y0){this.v6(W.W.Y0,null,q);q.fill()}if(W.W.Qc){this.v6(W.W.Qc,i,q);q.stroke()}for(var t in W.W.Zs)if(W.W.Zs[t].Qc){this.v6(W.W.Zs[t].Qc,null,q);
q.stroke();B=!0}var dF=ex._g(W.W.x7,q,X);q.stroke();B=B||dF;if(W.W.ZK){this.v6(W.W.ZK,i,q);q.strokeStyle="rgba(0,0,0,0.5)";
q.lineWidth=I.W$()*2.5/X.$Z;q.stroke();q.strokeStyle="white";q.lineWidth=I.W$()*2/X.$Z;q.stroke()}if(W.W.Yz.length+W.W.yJ.length+W.W.fT.length!=0){B=!0;
q.fillStyle=E;ex.LK(W.W.Yz,q,X,6);q.fill();ex.LK(W.W.yJ,q,X,6);q.fill();q.fillStyle=F;ex.LK(W.W.Yz,q,X,4);
q.fill();ex.LK(W.W.fT,q,X,4);q.fill();q.fillStyle=o;ex.LK(W.W.yJ,q,X,4);q.fill()}if(W.W.yR.length!=0){for(var N=0;
N<W.W.yR.length;N++){var im=W.W.yR[N],bc=im[1],at;if(k){at=q.getImageData(bc.x,bc.y,bc.r,bc.$);g.v.HX("norm",im[0],bc,new Uint8Array(at.data.buffer),bc,bc,1)}else at=new ImageData(new Uint8ClampedArray(im[0].buffer),bc.r,bc.$);
q.putImageData(at,bc.x,bc.y)}}var l9=.5/X.$Z;q.lineWidth=1/X.$Z;if(W.W.Pg){B=!0;var fF=W.W.Pg,g$=fF.Ab,V={zb:[],n:[]};
for(var N=0;N<fF.bU.length;N++)g.b.concat(V,g.b.Lw(fF.bU[N]));V.n=V.n.concat(g$);for(var N=0;N<g$.length;
N+=4){V.zb.push("M","L")}for(var N=0;N<V.n.length;N++){V.n[N]+=l9}q.strokeStyle=ex.r9([.9,.2,.2,1]);
this.v6(V,null,q);q.stroke();var fR=I.W$(),cr=2/X.$Z;q.font=m*.9+"px sans-serif";for(var N=0;N<g$.length;
N+=4){var H=g$[N],T=g$[N+1],eE=g$[N+2],bQ=g$[N+3],hT=Math.sqrt((bQ-T)*(bQ-T)+(eE-H)*(eE-H));hT=g.Qs.ft(hT,W.mC,U,T==bQ?W.r:W.$);
var df=new hw((H+eE)/2,(T+bQ)/2);q.fillStyle=ex.r9([.9,.2,.2,1]);var eV=q.measureText(hT).width;q.fillRect(df.x-eV/2-cr*fR,df.y-3.5*cr*fR,eV+2*cr*fR,7*cr*fR);
q.fillStyle=ex.r9([1,1,1,1]);q.save();q.translate(df.x-eV/2,df.y+2*cr*fR);q.scale(.1,.1);q.font=m*9+"px sans-serif";
q.fillText(hT,0,0);q.restore()}}if(U.$O){if(l.qF&&W.f.$Z>10&&cC==0){this.Vh(W,q,1,1,.25,l.$m,16777215);
B=!0}if(l.cM){var gU=g.Qs.ll(l.hY,W.mC,W.r,l.Kt),i8=l.y4==0?gU:g.Qs.ll(l.y4,W.mC,W.r,l.Kt);if(l.Kt==4)i8*=W.$/W.r;
this.Vh(W,q,gU,i8,1,l.$m,l.nI);B=!0}if(l.UZ){var bv=W.sO(),fE=W.l4(),d5=Math.max(W.f.eO.r,W.f.eO.$)/W.f.$Z;
d5=Math.max(Math.max(W.r,W.$)*2,d5);for(var N=0;N<bv[0].length;N++){var aR=bv[0][N],l8=bv[1][N];if(l8!=-1&&l8!=fE)continue;
var au=X.az(aR[1],aR[1]),hx=X.uy(Math.floor(au.x)+.5,Math.floor(au.y)+.5),fw=g.gC(l8==-1?l.Dh:l.ou);
fw=[fw.o/255,fw.L/255,fw.X/255,1];q.beginPath();q.strokeStyle=ex.r9(fw);if(aR[0]==0){var cx=hx.x;q.moveTo(cx,-d5);
q.lineTo(cx,d5)}else{var fg=hx.x;q.moveTo(-d5,fg);q.lineTo(d5,fg)}q.stroke();B=!0}}var iI=W.Eo;if(iI.length>0&&U.bt==_.a27){var bc=7/W.f.$Z,eq=bc/3,fS=bc*4;
q.strokeStyle=q.fillStyle="black";for(var N=0;N<iI.length;N++){var f1=iI[N];q.fillRect(f1.x-.5*eq,f1.y-.5*fS,eq,fS);
q.fillRect(f1.x-.5*fS,f1.y-.5*eq,fS,eq);q.lineWidth=2.5/W.f.$Z;q.beginPath();q.arc(f1.x,f1.y,bc,0,2*Math.PI);
q.stroke();q.font=1.9*bc+"px serif";q.lineWidth=1.25/W.f.$Z;q.strokeText(""+(N+1),f1.x+.75*bc,f1.y+2.5*bc)}B=!0}var c4=W.Ev;
if(l.Ev&&c4.length!=0){q.font=m*.8+"px sans-serif";var ea=[],ie=[];for(var N=0;N<c4.length;N++){var i$=_.r1.XE(c4,N);
ea.push(i$);if(W.Di.indexOf(N)!=-1)ie.push(i$)}ea.reverse();var cI=Date.now();ea=g.S.azj([0,0,W.r,W.$],ea);
for(var O=0;O<2;O++)for(var N=0;N<ea.length;N++){var cD=ea[N],z=cD[4],P=z!=null?c4[z]:null;if(P&&O==0||P==null&&O==1)continue;
var H=Math.round(cD[0]),T=Math.round(cD[1]),eE=Math.round(cD[2]),bQ=Math.round(cD[3]);q.strokeStyle=q.fillStyle=ex.r9(P?[0,.7,.7,1]:[.8,.8,.8,1]);
q.strokeRect(H+l9,T+l9,eE-H,bQ-T);var fG=N+1,cH=q.measureText(fG),eV=cH.width;q.fillRect(H,T,eV+m/2,m);
q.fillStyle=ex.r9([1,1,1,1]);q.fillText(fG,H+m/4,T+m*.8)}var cr=2/W.f.$Z,hL=2*cr;for(var N=0;N<ie.length;
N++){var cD=ie[N],H=Math.round(cD[0]),T=Math.round(cD[1]),eE=Math.round(cD[2]),bQ=Math.round(cD[3]);
q.strokeStyle=q.fillStyle=ex.r9([1,.6,0,1]);q.strokeRect(H+l9,T+l9,eE-H,bQ-T);var ee=[H,T,eE,T,eE,bQ,H,bQ];
for(var aj=0;aj<ee.length;aj+=2){var cx=ee[aj],fg=ee[aj+1],iA=ee[aj+2&7],eL=ee[aj+3&7];q.fillRect(cx-cr,fg-cr,hL,hL);
q.fillRect(Math.round((cx+iA)/2)-cr,Math.round((fg+eL)/2)-cr,hL,hL)}}B=!0}var bZ=W.add.Anno;if(bZ&&bZ.length!=0)for(var N=0;
N<bZ.length;N++){var k_=bZ[N],fw=k_[2],cx=k_[0]-l9,fg=k_[1]-l9,hL=30/X.WE,kW=.4*hL,iU=.6*hL;q.beginPath();
q.moveTo(cx,fg+iU);q.lineTo(cx,fg);q.lineTo(cx+hL,fg);q.lineTo(cx+hL,fg+hL);q.lineTo(cx+kW,fg+hL);q.closePath();
q.lineTo(cx+kW,fg+iU);q.lineTo(cx+kW,fg+hL);if(N==W.f.aS){q.lineWidth*=5;q.strokeStyle=ex.r9([0,0,0,.5]);
q.stroke();q.lineWidth/=5}q.fillStyle=ex.r9([fw.o/255,fw.L/255,fw.X/255,1]);q.fill();q.strokeStyle=ex.r9([0,0,0,1]);
q.stroke()}}q.strokeStyle=ex.r9([1,0,0,1]);if(W.W.Bk){this.v6(W.W.Bk,i,q);q.stroke()}q.restore();if(U.RS){if(W.f.n1==null||W.f.n1.width!=W.f.eO.r||W.f.YP.height!=W.f.eO.$){W.f.n1=new ImageData(W.f.eO.r,g.Qs.fw);
W.f.YP=new ImageData(g.Qs.fw,W.f.eO.$)}var K=it.$z[U.FG],kO=0,hq=0,e8=W.r,gi=W.$;if(W.l4()!=-1){var M=W.U[W.l4()].La();
kO=M.x;hq=M.y;e8=M.r;gi=M.$}kO*=X.$Z;hq*=X.$Z;var X=W.f,cg=[1,W.mC,W.mC/2.54,W.mC/25.4,e8/100][l.vA],hn=X.$Z*W.r/2,gf=X.$Z*W.$/2,eH=[X.$Z*cg,new hw(X.h.x+(kO+hn*cg-hn),X.h.y+(hq+gf*cg-gf))];
if(l.vA==4)cg*=gi/e8;var h5=[X.$Z*cg,new hw(X.h.x+(kO+hn*cg-hn),X.h.y+(hq+gf*cg-gf))],gS=this.MQ.EM;
g.Qs.aF9(X,K["--text-color"],K["--bg-input"],Math.floor(gS.x),Math.floor(gS.y),eH,h5,l.vA==1?8:10);var hP=bU.a9T(X.$Z,ex.r9([1,1,1,1]),W.r+" \xD7 "+W.$);
ex.eV(W.f.YP.data);ex.eV(W.f.n1.data);q.putImageData(W.f.YP,0,0);q.putImageData(W.f.n1,0,0);q.putImageData(hP,0,W.f.eO.$-hP.height)}if(W.W.L1.length!=0){for(var N=0;
N<W.W.L1.length;N++){var im=W.W.L1[N],bc=im[1];q.putImageData(new ImageData(new Uint8ClampedArray(im[0].buffer),bc.r,bc.$),bc.x,bc.y)}}return B};
ex.prototype.Vh=function(W,q,X,k,B,U,l){while(X*W.f.$Z<4){X*=2;k*=2}var K=W.r,D=W.$,m=.5/W.f.$Z;l=g.gC(l);
q.strokeStyle=ex.r9([l.o/255,l.L/255,l.X/255,B],!1);q.save();q.rect(0,0,K,D);q.clip();q.beginPath();
for(var Y=0;Y<=K;Y+=X){q.moveTo(Y+m,0);q.lineTo(Y+m,D)}if(U==0){for(var a=0;a<=D;a+=k){q.moveTo(0,a+m);
q.lineTo(K,a+m)}}else{k*=Math.sqrt(4/3);var p=k*Math.floor(K/k),M=K*(k/(2*X));for(var a=-p;a<=D+p;a+=k){q.moveTo(0,a);
q.lineTo(K,a-M);q.moveTo(0,a);q.lineTo(K,a+M)}}q.stroke();q.restore()};ex.LK=function(W,q,X,k){q.beginPath();
var B=k*I.W$()/X.$Z,U=!1;for(var N=0;N<W.length;N+=2){U=!0;var l=W[N],K=W[N+1];q.moveTo(l+B,K);q.arc(l,K,B,0,2*Math.PI)}return U};
ex._g=function(W,q,X,k){q.beginPath();var B=(k?k:1)*(4*I.W$()+.5)/X.$Z,U=!1;for(var N=0;N<W.length;N+=2){U=!0;
var l=W[N],K=W[N+1];q.rect(l-B,K-B,2*B,2*B)}return U};ex.iy=function(W,q,X,k){X.beginPath();if(k)X.rect(-1e5,-1e5,1e6,1e6);
var B=W;if(q){B=g.b.P(W);g.b.M(B.n,q,B.n)}Typr.U.pathToContext({cmds:B.zb,crds:B.n},X)};ex.prototype.v6=ex.iy;
ex._x=function(W,q,X){dd.E$.call(this);var k=this.a5q=q!=0,B=X?"true":"in01(sCoord)",U="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D over;\t\t\tuniform sampler2D image;\t\t\t"+(W?"uniform sampler2D lut;  uniform float N;  "+dd._P.a3p:"")+"\t\t\tuniform vec3 contSizeZoom;\t\t\tuniform vec2 cnvSize;\t\t\tuniform mat4 ctrn; \t\t\t"+(k?"uniform vec4 bgClr;  uniform vec4 ars["+q+"]; ":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\t/* This approximates the error function, needed for the gaussian integral */ \t\t\tvec4 erf(vec4 x) { \t\t\t  vec4 s = sign(x), a = abs(x);\t\t\t  x = 1.0 + (0.278393 + (0.230389 + 0.078108 * (a * a)) * a) * a;\t\t\t  x *= x;  \t\t\t  return s - s / (x * x); \t\t\t} \t\t\t/* Return the mask for the shadow of a box from lower to upper */  \t\t\tfloat boxShadow(vec2 lower, vec2 upper, vec2 point, float sigma) { \t\t\t  vec4 query = vec4(point - lower, point-upper); \t\t\t  vec4 integral = 0.5 + 0.5 * erf(query * (sqrt(0.5) / sigma)); \t\t\t  return (integral.z - integral.x) * (integral.w - integral.y); \t\t\t} \t\t\t\t\t\tvec4 simpleBlend(vec4 src, vec4 tgt) {\t\t\t\tfloat na = src.w + tgt.w*(1.0-src.w);\t\t\t\t/* avoid division by zero */ \t\t\t\treturn na==0.0 ? vec4(0,0,0,0) : vec4( (src.xyz*src.w + tgt.w*tgt.xyz*(1.0-src.w))*(1.0/na), na);\t\t\t} \t\t\t\t\t\t"+dd._P.aKA+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(over , tCoord); \t\t\t\tvec4 tgt = min(vec4(1,1,1,1),texture2D(image, sCoord"+(X?"-floor(sCoord)":"")+")); \t\t\t\t"+(W?"tgt.rgb = mapLut(tgt, lut, N).rgb; ":"")+"\t\t\t\ttgt = ctrn * tgt; "+(k?"\t\t\t\t\tbool inr = false; vec4 BG = bgClr; \t\t\t\t\tfor(int i=0; i<"+q+"; i++) { \t\t\t\t\t\tvec4 ar = ars[i]; \t\t\t\t\t\tvec2 nsc = sCoord - ar.xy; \t\t\t\t\t\tif( ar.z!=0.0 && in01(nsc/ar.zw) ){\t\t\t\t\t\tinr=true; BG=mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1); }\t\t\t\t\t}\t\t\t\t":"\t\t\t\t\tfloat shdw = 0.3*boxShadow(vec2(0,0),contSizeZoom.xy, sCoord*contSizeZoom.xy+vec2(0.0,-6.0*contSizeZoom.z) , 10.0*contSizeZoom.z);\t\t\t\t\tvec4 grid = mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1);\t\t\t\t\tvec4 BG = "+B+" ? grid : vec4(0.0,0.0,0.0,shdw); \t\t\t\t")+"\t\t\t\tvec4 outc = "+B+" ?  simpleBlend(tgt,BG) :  BG ;  \t\t\t\tif(src.b == 0.0 && src.a >0.5) gl_FragColor = mix(outc, vec4(vec3(1,1,1)-outc.rgb,1.0), src.w); \t\t\t\telse             gl_FragColor = simpleBlend(src,outc); \t\t\t\t\t\t\t}",l="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\tuniform mat3 tmat;\t\t\tuniform vec4 gsize;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (tmat*vec3(verPos,1.0)).xy;\t\t\t\tgCoord = (verPos-gsize.zw) * gsize.xy ; \t\t\t\tgl_Position = vec4(vec2(-1.0, 1.0) + 2.0*vec2(verPos.x,-verPos.y), 0.0, 1.0);\t\t\t}";
this.Fs(U,l)};ex._x.prototype=new dd.E$;ex._x.prototype.kr=function(W,q,X,k,B,U,l,K,D,m,Y,a,p,M){this.Hw("tmat gsize over image lut N contSizeZoom cnvSize bgClr ars ctrn".split(" "));
var x=dd.Ca,R=this.QI;x.uniformMatrix3fv(R.tmat,!1,X);x.uniform4fv(R.gsize,k);x.uniform3f(R.contSizeZoom,B,U,l);
x.uniform2f(R.cnvSize,K,D);x.uniformMatrix4fv(R.ctrn,!1,a);if(this.a5q){x.uniform4fv(R.ars,Y);x.uniform4fv(R.bgClr,m)}x.uniform1i(R.over,0);
x.uniform1i(R.image,1);x.activeTexture(x.TEXTURE0);x.bindTexture(x.TEXTURE_2D,W);x.activeTexture(x.TEXTURE1);
x.bindTexture(x.TEXTURE_2D,q);if(p){x.uniform1f(R.N,M);x.uniform1i(R.lut,2);x.activeTexture(x.TEXTURE2);
x.bindTexture(x.TEXTURE_2D,p.hc);var y=x.LINEAR;x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MIN_FILTER,y);
x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MAG_FILTER,y)}x.activeTexture(x.TEXTURE0)};function jx(){dE.call(this,[9,7],!1,"---panels/layercomps",dE.FV.az1);
I.w(this.nJ,"min-width:240px;");this.LV=null;this.jD=-1;this.L_=[];this.Mh=I.a("div","scrollable");this.Mh.style.height="160px";
this.nJ.appendChild(this.Mh);this.Ww=I.a("div","lpfoot");this.nJ.appendChild(this.Ww);this.$v=[];var W=["<svg  class=\"miniscale gsicon\" viewBox=\"0 0 15 15\" width=\"15\" height=\"15\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>","reload","lrs/newlayer","lrs/bin"],q=["Layer Comps to Files",[5,10],[5,3],[5,4]];
for(var N=0;N<W.length;N++){var X=W[N];if(N>0)X="<img src=\""+PIMG[W[N]]+"\" class=\"miniscale gsicon\" />";
var k=new iC(X,!1,q[N]);k.Q("click",this.ayf,this);this.Ww.appendChild(k.K);this.$v.push(k)}}jx.prototype=new dE("");
jx.prototype.qL=function(W,q){I.w(this.nJ,"width:"+(W-2)+"px;");this.Mh.style.height=q-28+"px"};jx.prototype.Pk=function(W){var q=new ip(S.E.O,!0);
q.data=W;q.J=_.Ki;this.T(q)};jx.a3z="var opts = new ExportOptionsSaveForWeb(); opts.format = SaveDocumentType.PNG; opts.PNG8 = false; opts.quality = 100; var doc = app.activeDocument;var lc = doc.layerComps;  if(lc.length==0) alert(\"No layer comps.\"); else { \tvar stat = doc.historyStates.length - 1;\t\tfor(var i=0; i<lc.length; i++) {\t\tlc[i].apply();\t\tpngFile = new File(lc[i].name+\".png\");\t\tapp.activeDocument.exportDocument(pngFile, ExportType.SAVEFORWEB, opts);\t}\t\tdoc.activeHistoryState = doc.historyStates[stat];}";
jx.prototype.ayf=function(W){var N=this.$v.indexOf(W.currentTarget)-1;if(N==-1){var q=new ip(S.E.H,!0);
q.data={R:S.m.qS,eg:jx.a3z};this.T(q);return}if(N!=1)if(this.jD==-1)return;this.Pk({R:["updLC","addLC","delLC"][N],bT:this.jD});
if(N==2)this.jD=-1};jx.prototype.l=function(){dE.prototype.l.call(this);for(var N=0;N<this.$v.length;
N++)this.$v[N].l()};jx.prototype.V9=function(W){if(W==null)I.Wx(this.nJ,"disabled");else I.gI(this.nJ,"disabled");
this.LV=W;I.ru(this.Mh);if(W==null)return;var q=W.iV.lastAppliedComp?W.iV.lastAppliedComp.v:0,X=W.iV.list.v.slice(0);
X.unshift({v:{Nm:{v:"Last Document State"},compID:{v:0},capturedInfo:{v:0}}});for(var N=0;N<X.length;
N++){var k=X[N].v,B=new kK(k.Nm.v,k.compID.v,k.capturedInfo.v,q,this.jD);B.Q("activate",this.Z1,this);
B.parent=this;this.Mh.appendChild(B.K);this.L_.push(B)}};jx.prototype.Z1=function(W){this.jD=W.currentTarget.bT;
this.V9(this.LV)};function kK(W,N,q,X,k){gH.call(this);this.bT=N;this.K=I.a("div","head listitem"+(N==k?" selected":""));
var B=N==X,U=new iC(B?"\u2713":"\u2014");if(B)U.ju();this.K.appendChild(U.K);U.Q("click",this.DM,this);
var l=this.OY=I.a("span");l.textContent=W;this.K.appendChild(l);this.$v=[];if(N!=0){this.K.addEventListener("mouseup",this.Z1.bind(this),!1);
this.oA=I.a("span","headR");this.K.appendChild(this.oA);var K=["lrs/eye","pos","lrs/fx"],D=["Visibility","Position","Appearance"];
for(var m=0;m<K.length;m++){var Y=new iC("<img src=\""+PIMG[K[m]]+"\" class=\"autoscale gsicon\" />",!1,D[m]);
if((q>>m&1)==0)I.w(Y.K,"opacity:0.3");Y.Q("click",this.aaS,this);this.oA.appendChild(Y.K);this.$v.push(Y)}}}kK.prototype=new gH;
kK.prototype.Z1=function(W){if(W.target!=this.OY&&W.target!=this.K)return;if(W.detail==1)this.T(new ip("activate",!1));
else{var q=new dE.j4(this.OY,this.ni.bind(this))}};kK.prototype.aaS=function(W){var N=this.$v.indexOf(W.currentTarget);
this.Pk({R:"editLC",ann:N,bT:this.bT})};kK.prototype.ni=function(W){this.Pk({R:"editLC",vP:W,bT:this.bT})};
kK.prototype.DM=function(W){this.Pk({R:"setLC",bT:this.bT})};kK.prototype.Pk=function(W){var q=new ip(S.E.O,!0);
q.data=W;q.J=_.Ki;this.T(q)};function jQ(){dE.call(this,[9,11],!1,"---panels/navigator",dE.FV.aB0);var W=this.nJ;
I.Wx(W,"padded");I.w(W,"cursor:grab;");this.mL=I.a("canvas");W.appendChild(this.mL);I.zR(W);I.TK(this.mL);
I.aA(this.mL,this.qm.bind(this));var q=I.a("div","form label6");W.appendChild(q);this.uO=new dM([8,0],2,6400,"%",null,!0);
this.uO.Q(S.E.k,this.agK,this);q.appendChild(this.uO.K);this.U5=new dM([12,15],-180,180,"\xB0");this.U5.Q(S.E.k,this.agK,this);
q.appendChild(this.U5.K);this.avz=this.bL.bind(this);this.aKF=this.tX.bind(this);this.Zl=null;this.arL=null;
this.Wi=!1}jQ.prototype=new dE("");jQ.prototype.qL=function(W,q){this.Ah=W*1.2;this.QB=q*1.2;this.L8()};
jQ.prototype.agK=function(W){var q=this.uO.V(),X=this.Zl,k=q/100;if(.8<k&&k<1.2)k=1;else if(1.8<k)k=Math.round(k);
X.f.Zi=this.U5.V()*Math.PI/180;var B=new ip(S.E.O,!0);B.J=_.hm;B.data={R:"zoom",$Z:k};this.T(B)};jQ.prototype.qm=function(W){var q=this.Zl;
if(q==null)return;this.Wi=!0;I.wO(window,this.avz);I.DA(window,this.aKF)};jQ.prototype.bL=function(W){var q=I.IO(W,this.mL),X=this.Zl,k=X.f,B=this.mL.width,U=this.mL.height,l=X.r*(q.x*I.W$()-B/2)/B,K=X.$*(q.y*I.W$()-U/2)/U,D=Math.sin(k.Zi),m=Math.cos(k.Zi),Y=Math.round(-k.$Z*(m*l-D*K)),a=Math.round(-k.$Z*(D*l+m*K));
_.gw.L4(X,Y,a)};jQ.prototype.tX=function(W){I.yO(window,this.avz);I.xB(window,this.aKF);this.Wi=!1};
jQ.prototype.V9=function(W){if(W==null&&this.Zl!=null)this.mL.width=100;this.Zl=W;this.L8()};jQ.prototype.ai3=function(){var W=this.Zl,q=I.W$(),X=_.OK.Xr(W.r,W.$,q*(this.Ah-10),q*(this.QB-36)),k=g.asd(W.OL(),new dU(0,0,W.r,W.$),X);
this.arL=[k.kl,k.S]};jQ.prototype.L8=function(){var W=this.Zl;if(W==null||W.f.$Z==0)return;var q=W.f;
if(!I.rL(this.nJ))return;this.uO.q(q.$Z*100);var X=q.Zi*180/Math.PI;X=(36e5+180+X)%360-180;this.U5.q(X);
if(!this.Wi)this.ai3();var k=this.arL[0],B=this.arL[1],U=B.r,l=B.$,K=this.mL;K.width=U;K.height=l;I.Xv(K,U,l);
var D=this.nJ;D.style.width=this.mL.style.width+12+"px";var m=K.getContext("2d"),Y=new ImageData(U,l);
g.cX(k,Y.data);m.putImageData(Y,0,0);m.getImageData(0,0,1,1);var a=U/W.r;m.scale(a,a);m.lineWidth=4/a;
m.strokeStyle="#ff0000";var p=q.eO,M=g.b.Lw(p).n;g.b.M(M,q.bq(),M);m.moveTo(M[0],M[1]);for(var N=0;N<4;
N++)m.lineTo(M[N*2],M[N*2+1]);m.closePath();m.stroke()};jQ.prototype.QL=function(W,q){};jQ.prototype.l=function(){dE.prototype.l.call(this);
this.uO.l();this.U5.l()};jQ.prototype.Ql=function(){this.L8()};function k9(W,q){dE.call(this,W.name,!1,W.icon,q);
this.Pq=W}k9.prototype=new dE("");k9.prototype.Y3=function(){var W=this.nJ,q=this.Pq;if(!I.rL(W)||this.WY)return;
var X=this.WY=I.a("iframe");X.setAttribute("src",q.url);this.nJ.appendChild(X)};k9.prototype.Ql=k9.prototype.V9=function(){this.Y3()};
k9.prototype.mu=function(W){if(I.rL(this.WY))this.WY.contentWindow.postMessage(W,"*")};k9.prototype.qL=function(W,q,X){if(this.WY==null)return;
var k=this.Pq;if(k.url.indexOf("peasmaker")!=-1&&window.innerWidth>500)W=Math.max(W,Math.min(700,window.innerWidth-320));
if(X){k.w=W;k.h=q}if(k.w)W=Math.min(k.w,window.innerWidth-40);if(k.h)q=Math.min(k.h,window.innerHeight-50);
I.w(this.WY,"width:"+W+"px; height:"+q+"px")};function eQ(){dE.call(this,[9,12],!1,"---panels/tpreset",dE.FV.ai);
this.e=null;this.T0=new eN(_.AC);this.T0.parent=this;var W=I.a("div","padded");I.w(W,"width:20em");this.nJ.appendChild(W);
W.appendChild(this.T0.wX)}eQ.prototype=new dE("");eQ.prototype.Ql=function(){this.T0.mX(this.e.KB)};
eQ.prototype.QL=function(W,q){this.e=W;if(q==aI.NC||q==aI.ai)this.T0.mX(W.KB)};eQ.prototype.qL=function(W,q){this.T0.axo(this.e.bt)};
eQ.prototype.l=function(){dE.prototype.l.call(this);this.T0.l()};var dg=function(){var W=[],q=null,X=null,k=null,B=[[100,180,255],[100,255,100],[255,200,100],[200,100,255],[255,100,200],[255,100,100]];
function U(){dE.call(this,"Memory",!1,null,dE.FV.aFU);var x=I.a("div","padded");this.nJ.appendChild(x);
X=new iC(["<< VAR0",[0,13,2]],!1,null,!0);X.addEventListener("click",function(R){W.pop();K()});x.appendChild(X.K);
q=I.a("div","scrollable");I.w(q,"width:20em;  height:26em; margin-top:8px;");x.appendChild(q)}U.prototype=new dE("");
U.prototype.V9=function(x,R,y){k=R;this.Ql()};U.prototype.Ql=function(){X.Si(!1);if(!I.rL(q))return;
var x={em:"Total:",b7:[]};for(var N=0;N<k.length;N++)x.b7.push(m(k[N]));if(bE!=null){var R=bE.EP,y=[],s={em:"Blending Buffers",b7:y};
x.b7.push(s);for(var F in R){var E=F.split("x"),o=parseInt(E[0]),G=parseInt(E[1]),d=R[F],u=0;for(var N=0;
N<d.length;N++)u+=o*G*4*(d[N][3]>>>3);y.push({em:d.length+"\xD7 "+o+" \xD7 "+G+" px",qy:dd.gP?[0,u]:[u,0]})}a(s)}var r=il;
if(r.LI)x.b7.push({em:"View Buffers",qy:[r.LI.length+r.aJ.length,0]});a(x);W=[x];K()};U.prototype.l=function(){dE.prototype.l.call(this);
X.l()};function l(x){var R=x.currentTarget,N=0;while((R=R.previousSibling)!=null)N++;W.push(W[W.length-1].b7[N-1]);
K()}function K(){X.Si(W.length>1);var x=W[W.length-1];I.ru(q);D(x,q,0);x.b7.sort(function(R,y){return y.qy[0]-R.qy[0]});
for(var N=0;N<x.b7.length;N++)D(x.b7[N],q,1)}function D(x,R,y){var s=eb.qc,F=y!=0&&x.b7,E="margin-left:"+y*10+"px; margin-bottom:8px; padding:3px 5px;";
if(F)E+="cursor:pointer;";if(x.R7!=null)E+="background-color:rgba("+B[x.R7].join(",")+",0.2);";var o=I.a("div");
R.appendChild(o);I.w(o,E);o.innerHTML=I.mr(x.em)+"<br />"+"RAM: <b>"+s(x.qy[0])+"</b>\u2001GPU: <b>"+s(x.qy[1])+"</b>";
if(F)o.addEventListener("click",l,!1)}function m(x){var R={em:x.name,b7:[],R7:0},y=dd.gP?1:0,s=1-y,F=x.depth>>>3,E={em:"History",b7:[],R7:5};
R.b7.push(E);for(var N=1;N<x.history.length;N++){var o=x.history[N];E.b7.push({em:js.get(o.name),R7:5,qy:[o.Gr(),0]})}a(E);
var E={em:"Final Image"+p(x,4,F),qy:[x.r*x.$*4*F,y*x.r*x.$*4*F],R7:2};R.b7.push(E);for(var N=0;N<x.U.length;
N++){var G=Y(x.U[N],F);if(G.b7.length!=0)R.b7.push(G)}var d=x.add.lnk2;if(d)for(var N=0;N<d.length;N++){var G=d[N],u={em:G.k7,b7:[],R7:4},r=0;
u.b7.push({em:"Raw file",qy:[G.raw.length,0]});if(G.jx)for(var v=0;v<G.jx.length;v+=2)r+=G.jx[v].length;
if(r!=0)u.b7.push({em:"Decoded pixels",qy:[r*F,0]});a(u);R.b7.push(u)}a(R);return R}function Y(x,R){var y={em:x.getName(),b7:[],R7:1},s=dd.gP?1:0,F=1-s,E=x.S.C();
if(E!=0)y.b7.push({em:"Layer pixels"+p(x.S,4,R),qy:[E*4*R,s*E*4*R]});if(x.add.lmfx&&x.kJ.sg.I){var o=x.kJ.sg.I;
for(var G in o){var d=0;for(var u=0;u<o[G].length;u++){var r=o[G][u];if(G=="ebbl"){d+=M(r.tv);d+=M(r.ir);
d+=M(r.Yg);d+=M(r.g4)}else{d+=M(r);if(r.lW||r.pk)d+=r.Ft.C();if(r.PC||r.Bu)d+=r.Ft.C()}}if(d!=0)y.b7.push({em:js.get(kE.names[kE.order.indexOf(G)]),qy:[F*d*R,s*d*R],R7:3})}var v=x.kJ.J5?x.kJ.J5.length:0;
if(v!=0)y.b7.push({em:"Transparency backup",qy:[v*R,0]})}var c=x.Jx(),V=c?c.S.C():0;if(V!=0){y.b7.push({em:"Raster Mask",qy:[V*R,0]})}var c=x.add.vmsk,V=c&&c.$a?c.$a.S.C():0;
if(V!=0){y.b7.push({em:"Vector Mask",qy:[V*R,0]})}a(y);return y}function a(x){x.qy=[0,0];for(var N=0;
N<x.b7.length;N++){x.qy[0]+=x.b7[N].qy[0];x.qy[1]+=x.b7[N].qy[1]}}function p(x,R,y){return"\u2001"+x.r+"\xD7"+x.$}function M(x){if(x==null)return 0;
var R=x.kl;if(R==null)R=x.c4;return x.Ft.C()*(R instanceof Array?1:4)}return U}();function bh(){dE.call(this,[9,14],!1,"---panels/notes",dE.FV.aoR);
I.w(this.nJ,"min-width:240px;");var W=I.a("div","padded");this.nJ.appendChild(W);this.Ui=new kD("Author");
W.appendChild(this.Ui.K);this.bA=I.a("textarea");I.Ch(this.bA);W.appendChild(this.bA);var q=new iC("<<",null,null,!0);
W.appendChild(q.K);this.asn=q;var X=new iC(">>",null,null,!0);W.appendChild(X.K);q.Q("click",this.J_,this);
X.Q("click",this.J_,this);var k=this.awf=new j1("");W.appendChild(k.K)}bh.prototype=new dE("");bh.prototype.J_=function(W){var q=W.target==this.asn?-1:1,X=this.Zl,k=X.add.Anno;
if(k==null)return;var B=k.length,U=X.f.aS;X.f.aS=(U+q+B)%B;X.gd=!0;this.L8()};bh.prototype.L8=function(){var W=this.Zl;
if(W==null)return;var q=W.add.Anno;if(q==null||q.length==0)return;var X=W.f.aS,k=q[X];this.bA.value=k[4];
this.awf.q(X+1+" / "+q.length);this.Ui.q(k[3])};bh.prototype.qL=function(W,q){if(this.Ah==W)return;this.Ah=W;
q=Math.min(q,200);I.w(this.bA,"display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(W-10)+"px; height:"+(q-66)+"px")};
bh.prototype.V9=function(W,q,X){this.Zl=W;this.L8()};function d_(){dE.call(this,[1,16,1],!1,"---tools/artb",dE.FV.ask);
this.N$=[];this.sG=[];this.$v=[];this.Gb=null;this.Ww=null}d_.prototype=new dE("");d_.prototype.Y3=function(){this.Gb=I.a("div","padded scrollable");
I.w(this.Gb,"width:260px;  height:260px");this.nJ.appendChild(this.Gb);this.Ww=I.a("div","lpfoot");this.nJ.appendChild(this.Ww);
var W=["lrs/newlayer","lrs/bin"],q=[[15,8,2],[5,4]];for(var N=0;N<W.length;N++){var X="<img src=\""+PIMG[W[N]]+"\" class=\"miniscale gsicon\" />",k=new iC(X,!1,q[N]);
k.Q("click",this.OS,this);this.Ww.appendChild(k.K);this.$v.push(k)}};d_.prototype.l=function(){dE.prototype.l.call(this);
if(this.Gb==null)return;for(var N=0;N<this.$v.length;N++)this.$v[N].l()};d_.prototype.OS=function(W){var N=this.$v.indexOf(W.currentTarget),q=new ip(S.E.O,!0);
q.J=_.eh;q.data={R:N==0?"new":"del"};this.T(q);if(N==0)this.adU(this.N$.length-1)};d_.prototype.V9=d_.prototype.Ql=function(W){if(W)this.N$=W.add.arts;
if(!I.rL(this.nJ))return;if(this.Gb==null)this.Y3();this.L8(W)};d_.prototype.De=function(W){var N=this.sG.indexOf(W.currentTarget);
if(W.target.tagName=="BUTTON"){this.adU(N)}var q=this.N$;for(var X=0;X<q.length;X++)q[X].Y=!1;q[N].Y=!0;
this.L8()};d_.prototype.adU=function(N){var W=new ip(S.E.H,!0);W.data={R:S.m.K_,ud:"aoptions",_:this.N$[N]};
this.T(W)};d_.prototype.L8=function(){I.ru(this.Gb);var W=this.N$,q=this.De.bind(this);this.sG=[];for(var N=0;
N<W.length;N++){var X=W[N],k=I.a("div","layeritem"+(X.Y?" selected":""));this.Gb.appendChild(k);this.sG.push(k);
k.addEventListener("click",q);var B=I.a("div","head");k.appendChild(B);I.w(B,"height:24px");var U=I.a("div","headL");
B.appendChild(U);var l=I.a("div","headR");B.appendChild(l);var K=I.a("div","label");K.textContent=N+1+". "+X.em;
U.appendChild(K);var D=new iC("Options",null,null,!0);l.appendChild(D.K)}};function h4(){dE.call(this,["Vector","Document"][cC]+" Info",!1,"---panels/info",dE.FV.aoO);
this.zM=I.a("div","scrollable padded form");this.nJ.appendChild(this.zM);I.w(this.zM,"width:260px;  height:200px")}h4.prototype=new dE("");
h4.prototype.Y3=function(){if(!I.rL(this.nJ))return;var W=this.Zl,q=this.$j,X=this.zM,B=0,U=0,l=0,K=0;
if(W==null)return;var k=W.Vs();for(var N=0;N<k.length;N++){var D=W.U[k[N]],m=D.add.vmsk;if(m==null)continue;
var Y=m.G;for(var a=0;a<Y.length;a++){var p=Y[a],M=p.I;if(6<=M)continue;if(M==0)U++;else if(M==3)B++;
else l++;if(M==0||M==3){var x=Y.slice(0,2).concat(Y.slice(a,a+1+p.length)),R=g.b.sz(x),s=0;R=g.b.E_(R);
var y=g.b.hX(R),F=y.length-(M==0?0:2);for(var E=0;E<F;E+=2){var o=(E+2)%y.length,G=y[o]-y[E],d=y[o+1]-y[E+1];
s+=Math.sqrt(G*G+d*d)}K+=s}}}var u=q.bm.vA;X.innerHTML="Objects:<br/>Paths: "+(B+U)+" ("+B+" open, "+U+" closed, "+l+" points, length = "+g.Qs.R5(K,W.mC,W.r,u).toFixed(3)+" "+g.Qs.yk[u]+")"};
h4.prototype.V9=function(W,q,X){this.Zl=W;this.$j=X;this.Y3()};h4.prototype.Ql=function(){this.Y3()};
h4.prototype.l=function(){dE.prototype.l.call(this)};function aX(){dE.call(this,"Pathfinder",!1,"---set/intersection",dE.FV.IL);
var W=this.Gb=I.a("div","padded");I.w(this.Gb,"width:260px;  height:130px");this.nJ.appendChild(this.Gb);
var q=this.$v=[],X=new j1("Shape Modes:");W.appendChild(X.K);I.zR(W);var k=[[18,1],[18,2],[18,3],[18,4]],B=i3.NQ(["set/union","set/difference","set/intersection","set/xor"]);
k=k.concat([[15,10,22],[11,12],[18,5],[11,12,1],"Outline","Minus Back"]);for(var N=0;N<k.length;N++){var U=new iC(N<4?B[N]:k[N],null,k[N]);
q.push(U);U.Q("click",this.Uk,this);W.appendChild(U.K);if(N==3){I.zR(W);W.appendChild(new j1("Pathfinders:").K);
I.zR(W)}}}aX.prototype=new dE("");aX.prototype.Uk=function(W){var N=this.$v.indexOf(W.target),q=new ip(S.E.O,!0);
q.J=_.b9;q.data={R:b.IL,Gg:N};this.T(q)};aX.prototype.l=function(){dE.prototype.l.call(this);var W=this.$v;
for(var N=0;N<W.length;N++)W[N].l()};function fD(){gH.call(this);this.J=0;this.iI=null;this.K=I.a("div","toolconf");
this.T0=null;this.aHK=null;this.body=new I.a("div","body")}fD.prototype=new gH;fD.prototype.aEl=function(W,q){this.J=W;
this.iI=q;if(_.zt[W]){var X=this.T0=new eN(W);this.K.appendChild(X.K);X.parent=this}else{this.aHK=I.a("div");
this.K.appendChild(this.aHK)}this.K.appendChild(this.body);this.l()};fD.prototype.Y6=function(W,q){};
fD.prototype.pC=function(W){};fD.prototype.QL=function(W,q){if(q==aI.NC||q==aI.ai)if(this.T0)this.T0.mX(W.KB)};
fD.prototype.RD=function(W){};fD.prototype.l=function(){if(this.T0)this.T0.l();else this.aHK.innerHTML=I.KG(this.iI,null,"toolicon");
this.hL()};fD.prototype.hL=function(){};function cq(){fD.call(this);this.Df=new k$;this.Df.Q(S.E.k,this.oB,this);
this.Df.parent=this;this.body.appendChild(this.Df.K)}cq.prototype=new fD;cq.prototype.hL=function(){this.Df.l()};
cq.prototype.oB=function(W){var q=new ip(S.E.H,!0);q.data={R:S.m.MJ,J:this.J,rl:this.Df.aDH()};this.T(q)};
cq.prototype.RD=function(W){this.Df.af2(W.g2)};function iP(W){fD.call(this);if(W==null)return;this.e=null;
this.Vo={};if(W.indexOf("brush")!=-1&&W.indexOf("prsr")==-1)W.push("prsr");for(var N=0;N<W.length;N++){var q=W[N],X=null;
if(q=="brush"){X=new j2}if(q=="bmode"){X=new cL([12,19,0],jm.Y7,jm._i)}if(q=="bmode0"){X=new cL([12,19,0],jm.Y7.slice(23))}if(q=="emode"){X=new cL([12,36],[[9,3],[10,38]])}if(q=="opacity"){X=new al([12,0],0,100,"%");
X.q(100)}if(q=="flow"){X=new al([12,63],0,100,"%");X.q(100)}if(q=="smth"){X=new al([19,3,0],0,100,"%");
X.q(0)}if(q=="samp"){X=new cL([12,36],[[12,25,4],[12,25,5],[12,46]])}if(q=="wconf"){X=new ad;X.q([40,!0,!0])}if(q=="sall"){X=new h$([12,25,2])}if(q=="smode"){X=new cL([12,36],[[19,7,0],[19,7,1]]);
X.q(1)}if(q=="pdetail"){X=new h$([12,65]);X.ju()}if(q=="rng"){X=new cL([12,12],[[19,6,0],[19,6,1],[19,6,2]]);
X.q(1)}if(q=="expo"){X=new al([12,5],0,100,"%");X.q(50)}if(q=="algnd"){X=new h$([12,75]);X.q(!1)}if(q=="sfrom"){X=new cL([12,70],[[17,1],[17,3],[17,0]])}if(q=="alt"){X=new fa(null,["Alt"],!0,["Select Source"])}if(q=="qsmode"){X=new i3([12,36],["<img src=\""+PIMG["set/front"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"],[[5,3],[18,1],[18,2]])}if(q=="redge"){X=new iC([7,11],!1,null,!0)}if(q=="sesu"){X=new iC("Select Subject",!1,null,!0)}if(q=="setop"){X=new ib}if(q=="patch"){X=new i3(null,[[12,70],[12,71]])}if(q=="strn"){X=new al([12,64],1,100,"%");
X.q(50)}if(q=="prsr"){X=this.Vo.brush.Mb}if(q=="symm"){X=new eI}this.body.appendChild(X.K);if(q=="prsr")continue;
X.parent=this;this.Vo[q]=X;if(q=="brush")X.Q(S.E.k,this.aBz,this);else if(q=="redge"||q=="sesu")X.Q("click",bp.aEr,this);
else X.Q(S.E.k,this.TL,this)}}iP.prototype=new fD;iP.prototype.Y6=function(W,q){W=W[1];var X=this.Vo;
if(W.Md)X.bmode.q(jm.FW.indexOf(W.Md.v.BlnM));if(W.Opct)X.opacity.q(W.Opct.v);if(W.flow)X.flow.q(W.flow.v);
if(W.Brsh)X.brush.q(W,q.cY.n5,q.cY.OJ);if(W.FrgC){var k=g.ov.yM(W.FrgC.v),B=new ip(S.E.H,!0);B.data={R:S.m.Dt,rl:aI.Z$,w7:0,_:k.o<<16|k.L<<8|k.X};
this.T(B)}this.aBz();this.TL()};iP.prototype.pC=function(){if(_.zt[this.J]==null)return null;var W=this.Vo,q;
for(var X in _.X4)if(_.X4[X]==this.J)q=X;var k=g.N(W.brush.V());k.classID=q;if(W.bmode)k.Md={t:"enum",v:{BlnM:jm.FW[W.bmode.V()]}};
if(W.opacity)k.Opct={t:"long",v:W.opacity.V()};if(W.flow)k.flow={t:"long",v:W.flow.V()};var B=this.e.w5;
B={o:B>>>16,L:B>>>8&255,X:B&255};k.FrgC={t:"Objc",v:g.ov.E2(B)};return["Brush Preset "+k.Brsh.v.Dmtr.v.val,k]};
iP.prototype.hL=function(){for(var W in this.Vo)this.Vo[W].l()};iP.prototype.RD=function(W){if(W.anG=="showBrushOpts"){this.Vo.brush.ad4(W.sw.x,W.sw.y)}for(var q in W.Iq){var X=W.Iq[q];
if(q!="qsmode")X*=100;if(this.Vo[q])this.Vo[q].q(X)}};iP.prototype.QL=function(W,q){fD.prototype.QL.call(this,W,q);
this.e=W;var X=this.Vo.brush;if(X==null)return;if(q==aI.NC||q==aI.AC)X.mX(W.cY);if(q==aI.O2){X.q(W.cY.wC,W.cY.n5,W.cY.OJ)}};
iP.prototype.aBz=function(){var W=new ip(S.E.H,!0);W.data={R:S.m.Dt,rl:aI.O2,Fj:this.Vo.brush.V()};this.T(W)};
iP.prototype.TL=function(){var W=new ip(S.E.H,!0);W.data={R:S.m.MJ,J:this.J};for(var q in this.Vo){if(q=="brush"||q=="redge"||q=="symm")continue;
var X=this.Vo[q].V();if(["opacity","flow","smth","expo","strn"].indexOf(q)!=-1)W.data[q]=X/100;else if(q=="bmode")W.data.bmode=jm.eB[X];
else if(q=="bmode0")W.data.bmode=jm.eB[23+X];else W.data[q]=X}this.T(W)};function bp(W,q){fD.call(this);
if(W)return;this.Vo={};for(var N=0;N<q.length;N++){var X=q[N],k=null;if(X=="sesu"&&!I.fO(1))continue;
if(X=="binop")k=new ib;if(X=="feat"){k=new al([7,6],0,100,"px");k.q(0)}if(X=="redge")k=new iC([7,11],!1,null,!0);
if(X=="sesu")k=new iC("Select Subject",!1,null,!0);if(X=="wconf")k=new ad;if(X=="cstr")k=new iH;if(X=="anta"){k=new h$([12,25,1]);
k.q(!0)}if(X=="sall")k=new h$([12,25,2]);if(X=="redge"||X=="sesu")k.Q("click",bp.aEr,this);else k.Q(S.E.k,this.TL,this);
k.parent=this;this.body.appendChild(k.K);this.Vo[X]=k}}bp.prototype=new fD;bp.prototype.RD=function(W){var q=this.Vo.cstr;
if(W.zi!=null)this.Vo.binop.q(W.zi);else if(W.Xm){for(var X in W.Xm)if(this.Vo[X])this.Vo[X].q(W.Xm[X])}else if(W.JD){if(q)q.YC(W.JD)}else{var k=bp.cj;
if(k==null){var B=hd.a83(!0);k=bp.cj=new j_(B.items,B.rx)}k.l();k.parent=this;k.update(W.BL,W.e);var U=new ip(S.E.H,!0);
U.data={R:S.m.k8,ii:k,x:W.Dv.Ty+2,y:W.Dv.Be+1};this.T(U)}};bp.prototype.hL=function(){for(var W in this.Vo)this.Vo[W].l()};
bp.aEr=function(W){var q=W.target==this.Vo.sesu,X=new ip(q?S.E.O:S.E.H,!0);if(q){X.J=_.iK;X.data={R:"bgrm",_:2}}else X.data={R:S.m.K_,ud:"redge"};
this.T(X)};bp.prototype.TL=function(){var W=new ip(S.E.H,!0);W.data={R:S.m.MJ,J:this.J,Xm:{}};for(var q in this.Vo)W.data.Xm[q]=this.Vo[q].V();
this.T(W)};function kT(){iP.call(this,["brush","strn"])}kT.prototype=new iP;function hk(){iP.call(this,"brush bmode opacity flow smth prsr symm".split(" "))}hk.prototype=new iP;
function j9(){iP.call(this,["brush","bmode0","samp","wconf"])}j9.prototype=new iP;function dt(){iP.call(this,["brush"])}dt.prototype=new iP;
function gh(){iP.call(this,"brush bmode opacity smth prsr symm".split(" "))}gh.prototype=new iP;function eg(){iP.call(this,["brush","rng","expo"])}eg.prototype=new iP;
function ck(){iP.call(this,"brush bmode opacity algnd sfrom alt".split(" "))}ck.prototype=new iP;function gT(W){fD.call(this);
if(W==null)return;this.WF=[];this.a3K=new iC("\u2026",!1,null,!0);if(!W)this.body.appendChild(this.a3K.K);
this.a3K.Q("click",this.VV,this);this.GQ=new gH;this.GQ.parent=this;var q=this.GQ.K=I.a("div","floatcont form"),X=[[17,0],[17,1],[11,12,0],[17,2]];
for(var N=0;N<X.length;N++){var k=new iC(X[N],!1,null,!0);this.WF.push(k);k.Q("click",this.acq,this);
if(!W||N==1)q.appendChild(k.K)}this.T$=new iH(!0);this.T$.Q(S.E.k,this.vR,this);if(!W)this.body.appendChild(this.T$.K);
this.ax=new iC([15,7,6],!1,null,!0);this.ax.Q("click",this.acq,this);if(!W)this.body.appendChild(this.ax.K);
this.Z5=new h$([15,7,10]);this.Z5.Q(S.E.k,this.vR,this);if(!W)this.body.appendChild(this.Z5.K);this.Wu=new h$([6,48,0,3]);
this.Wu.Q(S.E.k,this.vR,this);if(!W)this.body.appendChild(this.Wu.K);this.Gh=new lb;this.Gh.Q("click",this.Q$,this)}gT.prototype=new fD;
gT.prototype.VV=function(W){if(I.rL(this.GQ.K))return;var q=this.a3K.K.getBoundingClientRect(),X=new ip(S.E.H,!0);
X.data={R:S.m.k8,ii:this.GQ,x:q.left,y:q.top+q.height+4};this.T(X)};gT.prototype.hL=function(){this.Gh.l();
for(var N=0;N<this.WF.length;N++)this.WF[N].l();this.T$.l();this.Z5.l();this.ax.l();this.Wu.l()};gT.prototype.RD=function(W){if(W.JD){this.T$.YC(W.JD);
return}var q=this.Gh.K;if(W.cO)this.body.appendChild(q);else if(this.body.contains(q))this.body.removeChild(q);
if(W.T$)this.T$.q(W.T$)};gT.prototype.Q$=function(W){var q={R:S.m.MJ,J:this.J,wh:this.Gh.V()?"commit":"cancel"},X=new ip(S.E.H,!0);
X.data=q;this.T(X)};gT.prototype.acq=function(W){W.target.K.blur();var q={R:S.m.MJ,J:this.J,wh:"cropby",aaI:this.WF.indexOf(W.target)};
if(W.target==this.ax)q.wh="straighten";var X=new ip(S.E.H,!0);X.data={R:S.m.bD,ii:this.GQ};this.T(X);
X.data=q;this.T(X)};gT.prototype.vR=function(W){var q={R:S.m.MJ,J:this.J,wh:"config",Xm:{e3:this.T$.V(),ip:this.Z5.V(),Fw:this.Wu.V()},anq:W.target==this.T$},X=new ip(S.E.H,!0);
X.data=q;this.T(X)};function kA(){gT.call(this,!1)}kA.prototype=new gT;function iK(){gT.call(this,!0)}iK.prototype=new gT;
function a_(){iP.call(this,["brush","rng","expo"])}a_.prototype=new iP;function bC(){iP.call(this,"brush emode opacity flow smth prsr symm".split(" "))}bC.prototype=new iP;
function gK(){iP.call(this,["brush","samp","wconf"])}gK.prototype=new iP;function dC(){bp.call(this,!1,["binop","feat","anta","redge","cstr"])}dC.prototype=new bp(!0);
function ku(){fD.call(this);var W=this.Vo=[new cL([12,20,0],["1x1","3x3","5x5","11x11","31x31"]),new cL([12,70],[[17,1],[17,3],[17,0]]),new h$([12,20,1]),new h$([8,0])];
W[1].q(2);W[2].q(!0);for(var N=0;N<W.length;N++){var q=W[N];q.Q(S.E.k,this.TL,this);this.body.appendChild(q.K)}}ku.prototype=new fD;
ku.prototype.TL=function(W){var q=this.Vo,X=[];for(var N=0;N<q.length;N++)X[N]=q[N].V();var k=new ip(S.E.H,!0);
k.data={R:S.m.MJ,J:this.J,Xm:X};this.T(k)};ku.prototype.hL=function(){for(var N=0;N<this.Vo.length;N++)this.Vo[N].l()};
function ba(){fD.call(this);this.Qn=!1;this.vS=new i2("GrFl",!0);this.vS.parent=this;this.vS.update(null,JSON.parse(kE.iv[6]));
this.vS.Q(S.E.k,this._t,this);var W="Grad Type Md Opct Rvrs Dthr".split(" ");for(var N=0;N<W.length;
N++)this.body.appendChild(this.vS.ef[W[N]].K);this.vS.ef.Grad.awb=!1;this.Aa=new iC([6,48,1],!1,null,!0);
this.Aa.Q("click",this._t,this);this.body.appendChild(this.Aa.K)}ba.prototype=new fD;ba.prototype.hL=function(W){var W=this.Qn;
this.body.children[2].style.display=W?"none":"";this.body.children[3].style.display=W?"none":"";this.vS.l();
this.Aa.l()};ba.prototype.QL=function(W,q){fD.prototype.QL.call(this,W,q);var X=q==aI.Z$,k=this.vS.ef.Grad;
k._Q(W.w5,W.yY);if(X||q==aI.Zp||q==aI.NC)k.mX(W.xF)};ba.prototype._t=function(W){if(W.target==this.Aa){var q=new ip(S.E.dq,!0);
q.data=_.Wp.u$(1);this.T(q);return}this.l();var q=new ip(S.E.H,!0);q.data={R:S.m.MJ,J:this.J,rl:this.vS.V()};
this.T(q)};ba.prototype.RD=function(W){this.Qn=W.z;this.l();this.vS.update(null,W.rl);this.l()};function kU(){fD.call(this);
this.N0=new h$([8,7,1]);this.body.appendChild(this.N0.K);this.N0.Q(S.E.k,this.TL,this)}kU.prototype=new fD;
kU.prototype.TL=function(){var W={R:S.m.MJ,J:this.J,OX:this.N0.V()},q=new ip(S.E.H,!0);q.data=W;this.T(q)};
function fA(){fD.call(this);var W=I.a("span","fitem");this.body.appendChild(W);this.a2=[new al([12,15],-180,180,"\xB0"),new iC([1,12,2],null,null,!0)];
for(var N=0;N<this.a2.length;N++){var q=this.a2[N];q.parent=this;W.appendChild(q.K);q.Q(N==1?"click":S.E.k,this.Bp,this)}}fA.prototype=new fD;
fA.prototype.hL=function(){for(var N=0;N<this.a2.length;N++)this.a2[N].l()};fA.prototype.RD=function(W){var q=W.GB*180/Math.PI;
q=(36e5+180+q)%360-180;this.a2[0].q(q)};fA.prototype.Bp=function(W){var q=this.a2.indexOf(W.target),X=new ip(S.E.H,!0);
X.data={R:S.m.MJ,J:this.J,GB:q==1?0:W.target.V()*Math.PI/180};this.T(X)};function l6(){iP.call(this,["brush","algnd","sfrom","alt"])}l6.prototype=new iP;
function dG(){fD.call(this);this.e=null;this.gZ=new b$;this.gZ.parent=this;this.body.appendChild(this.gZ.NL.K);
this.body.appendChild(this.gZ.qd.K);this.body.appendChild(this.gZ.Sz.K);this.body.appendChild(this.gZ.rR.K);
var W=I.a("span","fitem");this.body.appendChild(W);W.appendChild(this.gZ.acM.K);W.appendChild(this.gZ.ag0.K);
W.appendChild(this.gZ.aIr.K);this.uG=new cL("Aa",[[22,5,0],[12,95,0],[12,95,1],[12,95,2],[12,95,3]]);
this.uG.Q(S.E.k,this.Q$,this);this.body.appendChild(this.uG.K);this.oG=new cL(null,["\u2191","-","\u2193"],null,["VAR0: VAR1",[12,75],[22,4,1]]);
this.oG.Q(S.E.k,this.Q$,this);this.body.appendChild(this.oG.K);this.d3=new iC([11,9],!1,null,!0);this.d3.Q("click",this.aJy,this);
this.body.appendChild(this.d3.K);this.Gh=new lb;this.Gh.Q("click",this.Q$,this)}dG.prototype=new fD;
dG.prototype.Y6=function(W,q){W=W[1];var X=W.textToolCharacterOptions.v.TxtS.v,k=W.textToolParagraphOptions.v.paragraphStyle.v,B=g.N(q.Xz);
gZ.sN(X,B.n6,B,72);gZ.sN(k,B.D8,B,72);var U=new ip(S.E.H,!0);U.data={R:S.m.Dt,rl:aI.jG,Xz:B};this.T(U)};
dG.prototype.pC=function(){var W={classID:"TxtS"},q={classID:"paragraphStyle"},X=this.e.Xz;gZ.km(X.n6,W,X,72);
gZ.km(X.D8,q,X,72);return["Horizontal Type Tool",{classID:"typeCreateOrEditTool",textToolCharacterOptions:{t:"Objc",v:{classID:"null",TxtS:{t:"Objc",v:W}}},textToolParagraphOptions:{t:"Objc",v:{classID:"null",paragraphStyle:{t:"Objc",v:q}}}}]};
dG.prototype.hL=function(){this.Gh.l();this.gZ.l();this.d3.l()};dG.prototype.aJy=function(W){var q={R:S.m.MJ,J:this.J,wh:"showwarp"},X=new ip(S.E.H,!0);
X.data=q;this.T(X)};dG.prototype.RD=function(W){if(W.wh=="showactive")this.body.appendChild(this.Gh.K);
if(W.wh=="hideactive")this.body.removeChild(this.Gh.K);if(W.wh=="changeOther"){this.uG.q(W.g6);this.oG.q([0,2,1][W.JU])}if(W.wh=="showpan"){var q=[{name:[0,1],nC:!0}],X=[{s:S.E.O,J:_.W6,p:{R:"editCurr",XK:W.XK}}],k=W.Dv;
if(W.aks){q=[{name:["VAR0: VAR1",[0,5],[7,0]],nC:!0}];X=[{s:S.E.dq,p:_.lR.XU(!0)}];var B=hd.aCR();q=q.concat(B[0]);
X=X.concat(B[1])}q.push({name:[11,9]});X.push({s:S.E.H,p:{R:S.m.MJ,J:this.J,wh:"showwarp"}});var U=new j_(q,X);
U.parent=this;U.l();U.update(W.BL,W.e);var l=new ip(S.E.H,!0);l.data={R:S.m.k8,ii:U,x:k.Ty+2,y:k.Be+1};
this.T(l)}};dG.prototype.QL=function(W,q){this.e=W;fD.prototype.QL.call(this,W,q);if(q!=aI.NC&&q!=aI.jG&&q!=aI.Il&&q!=aI.PP)return;
this.gZ.q(W.Xz,W.yK,W.Az)};dG.prototype.Q$=function(W){var q={R:S.m.MJ,J:this.J,wh:this.Gh.V()?"commit":"cancel"};
if(W.target==this.uG||W.target==this.oG){q.wh="changeOther";q.g6=this.uG.V();q.JU=[0,2,1][this.oG.V()]}var X=new ip(S.E.H,!0);
X.data=q;this.T(X)};function i1(){bp.call(this,!1,["binop","feat","anta","redge"])}i1.prototype=new bp(!0);
function j4(){fD.call(this);var W=[],X="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.rF=new h$([12,85]);this.rF.q(!0);this.rF.Q(S.E.k,this.TL,this);W.push(this.rF.K);this.rq=new cL(null,[[0,4],[0,3]]);
this.rq.Q(S.E.k,this.TL,this);this.rq.q(1);W.push(this.rq.K);this.W_=new h$([20,1]);this.W_.Q(S.E.k,this.TL,this);
W.push(this.W_.K);this.KE=new h$([12,83]);this.KE.Q(S.E.k,this.TL,this);W.push(this.KE.K);this.GQ=new gH;
var q=this.GQ.K=I.a("div","floatcont form");I.w(this.GQ.K,"max-width: 200px;");this.GQ.parent=this;this.avN=new cL("Scale for exported files",["1x","2x","3x","4x"]);
q.appendChild(this.avN.K);this.iQ=new iC(X+" PNG",!1,"Save selected layers as PNG",!0);q.appendChild(this.iQ.K);
this.iQ.Q("click",this.Hx,this);this.axw=new iC(X+" SVG",!1,"Save selected layers as SVG",!0);q.appendChild(this.axw.K);
this.axw.Q("click",this.Hx,this);var k=new iC(X,!1,"Save selected layers",!0);W.push(k.K);k.Q("click",function(p){if(I.rL(this.GQ.K))return;
var M=k.K.getBoundingClientRect(),x=new ip(S.E.H,!0);x.data={R:S.m.k8,ii:this.GQ,x:M.left,y:M.top+M.height,Ve:!0};
this.T(x)},this);this.b$=new gH;var B=this.b$.K=I.a("div","floatcont label6");I.w(B,"max-width: 180px;");
this.b$.parent=this;this.nd=new iT("Columns",1,20);this.nd.q(4);B.appendChild(this.nd.K);this.Eh=new iT("Gap",0,200,null,2,!0);
this.Eh.q(8);B.appendChild(this.Eh.K);this.Eh.Q(S.E.k,function(p){this.mN.q(this.Eh.V())}.bind(this),this);
this.mN=new iT("Vertical Gap",0,200,null,2,!0);this.mN.q(8);B.appendChild(this.mN.K);this.aG=new iC([2,10,1],!1,null,!0);
B.appendChild(this.aG.K);this.aG.Q("click",this.Hx,this);this.aym=new gH;var U=this.aym.K=I.a("div","floatcont label6");
I.w(U,"max-width:180px");this.aym.parent=this;this.aJT=new cL("Align to",["Selection","Canvas"]);this.aJT.q(0);
U.appendChild(this.aJT.K);var l=I.a("span","fitem");W.push(l);var K=I.a("span","fitem");W.push(K);this.$v=[];
for(var N=0;N<8;N++){var D=N==3||N==7?[20,4,6]:[20,4,N<3?N:N-1],m=new iC("Hi",!1,D);(N<4?l:K).appendChild(m.K);
m.Q("click",this.Hx,this);this.$v.push(m)}var Y=this.E7=new iC("...");K.appendChild(Y.K);Y.Q("click",function(p){if(I.rL(this.b$.K))return;
var M=Y.K.getBoundingClientRect(),x=new ip(S.E.H,!0);x.data={R:S.m.k8,ii:this.aym,x:M.left,y:M.top+M.height,Ve:!0};
this.T(x)},this);var a=this.aAO=new iC("Hi",!1,"Align to a Grid");W.push(a.K);a.Q("click",function(p){if(I.rL(this.b$.K))return;
var M=a.K.getBoundingClientRect(),x=new ip(S.E.H,!0);x.data={R:S.m.k8,ii:this.b$,x:M.left,y:M.top+M.height,Ve:!0};
this.T(x)},this);for(var N=0;N<W.length;N++)this.body.appendChild(W[N]);this.ac$=W}j4.prototype=new fD;
j4.prototype.RD=function(W){var q=W.g2,X=W.ahP;this.rF.q(q.Qe);this.W_.q(q.fg);this.KE.q(q.Pg);if(X){I.ru(this.body);
for(var N=0;N<X.length;N++)if(X[N]==1&&this.ac$[N])this.body.appendChild(this.ac$[N])}};j4.prototype.Hx=function(W){var q=this.$v.indexOf(W.target),X;
if(q!=-1||W.target==this.aG){X=new ip(S.E.O,!0);X.J=_.zl;X.data={R:"algn",_:q==-1?8:q,aEG:this.aJT.V(),cols:this.nd.V(),aK$:this.Eh.V(),aGk:this.mN.V()}}else{X=new ip(S.E.H,!0);
X.data={R:S.m.MJ,J:this.J,w7:W.target==this.iQ?"getPNG":"getSVG",fd:this.avN.V()+1}}this.T(X)};j4.prototype.TL=function(W){var q=new ip(S.E.H,!0);
q.data={R:S.m.MJ,J:this.J,w7:"prms",Qe:this.rF.Vg(),apa:this.rq.V(),fg:this.W_.Vg(),Pg:this.KE.Vg()};
this.T(q)};j4.prototype.hL=function(){this.rF.l();this.rq.l();this.W_.l();this.KE.l();var W="h0 h1 h2 hG v0 v1 v2 vG".split(" ");
for(var N=0;N<8;N++){this.$v[N].tB(I.KG("align/"+W[N],null,"autoscale"))}this.aAO.tB(I.KG("split/vh",null,"autoscale"));
this.nd.l();this.Eh.l();this.mN.l();this.aG.l()};function kG(){bp.call(this,!1,"binop feat redge sesu wconf sall".split(" "))}kG.prototype=new bp(!0);
function gm(){iP.call(this,["setop","patch"])}gm.prototype=new iP;function l0(){iP.call(this,["setop"])}l0.prototype=new iP;
function jV(W){var q=W==_.a0n?[]:["bmode"];iP.call(this,q.concat(["opacity","wconf","sall"]))}jV.prototype=new iP;
function a2(){bp.call(this,!1,["binop","feat","anta","redge"])}a2.prototype=new bp(!0);function bO(){bp.call(this,!1,["binop","feat","anta","redge"])}bO.prototype=new bp(!0);
function kV(){bp.call(this,!1,["binop","feat","redge","cstr"])}kV.prototype=new bp(!0);function jN(){fD.call(this);
this.e=null;this.zI=null;this.zE=!0;this.pg=[new kD("X",null,3.2,null,!0),new kD("Y",null,3.2,null,!0),new kD("W",null,3.2,null,!0),new kD("H",null,3.2,null,!0),new kD("a","\xB0",3.7,null,!0),new kD("l",null,3.5,null,!0),new kD("l",null,3.5,null,!0),new h$("Use custom units:"),new iC("Define Unit",!1,null,!0),new iC([15,7,6],!1,null,!0),new iC([2,2],!1,null,!0)];
this.pg[7].K.style.marginRight="0px";for(var N=0;N<this.pg.length;N++){var W=this.pg[N];this.body.appendChild(W.K);
if(N>6)W.Q(N==7?S.E.k:"click",this.Hv,this)}this.U5=0}jN.prototype=new fD;jN.prototype.Hv=function(W){var q=this.pg.indexOf(W.target),X=new ip(S.E.O,!0),k=this.zI;
if(q==7){this.RD(k);return}if(q==8){if(this.zE){alert("Draw a line for the new unit");return}this.pg[7].q(!0);
var B=new ip(S.E.H,!0);B.data={R:S.m.K_,ud:"measscale",Fk:hw.tj(k.lX,k.eN)};this.T(B);return}if(q==9){if(this.U5==0)return;
X.J=_.Xx;X.data={R:"rot",xJ:[2,5],_:-this.U5}}if(q==10){X.J=_.ns;X.data={R:"reset"};this.zE=!0;for(var N=0;
N<6;N++)this.pg[N].q(null)}this.T(X)};jN.prototype.RD=function(W){function q(m,Y,a){var p=hw.tj(m,Y),M=hw.tj(Y,a),x=hw.tj(m,a);
return Math.acos((M*M+p*p-x*x)/(2*M*p))}if(W==null)return;this.zI=W;var X=W.lX,k=W.eN,B=k.x-X.x,U=k.y-X.y;
this.U5=-Math.atan2(U,B);if(W.fa)this.U5=q(k,X,W.fa);var l=this.pg;l[0].q(this.TU(W,X.x));l[1].q(this.TU(W,X.y));
l[2].q(this.TU(W,B));l[3].q(this.TU(W,U));l[4].q((this.U5*180/Math.PI).toFixed(2));l[5].q(this.TU(W,hw.tj(X,k)));
this.zE=X.AB(k);if(W.fa){l[6].q(this.TU(W,hw.tj(X,W.fa)))}else l[6].q("");l[8].tB("Define");var K=W.mP;
if(K){var D=K.T.v;l[8].tB(D.logicalUnits.v)}};jN.prototype.TU=function(W,q){var X=this.zI.mP,k;if(X&&this.pg[7].V()){var B=X.T.v;
k=q*B.logicalLength.v/B.pixelLength.v}else k=g.Qs.ft(q,W.mC,this.e,W.a3V,!1);return parseFloat(k).toFixed(2)};
jN.prototype.QL=function(W,q){this.e=W;this.RD(this.zI)};jN.prototype.hL=function(){var W=this.pg;for(var N=0;
N<W.length;N++)W[N].l();W[4].tB(js.get([12,15]).slice(0,1)+":");var q=js.get([12,80,0]).slice(0,1);W[5].tB(q+"1:");
W[6].tB(q+"2:");I.nN(W[2],W[3])};function fO(){iP.call(this,["brush","strn","pdetail"])}fO.prototype=new iP;
function jf(){iP.call(this,["brush","sfrom"]);this.aIN=[];var W=[[7,12]];for(var N=0;N<W.length;N++){var q=new iC(W[N],!1,null,!0);
this.aIN.push(q);q.parent=this;this.body.appendChild(q.K);q.Q("click",this.aJw,this)}}jf.prototype=new iP;
jf.prototype.aJw=function(W){var q=new ip(S.E.dq,!0);q.data=_.Vz.u$("contentAware");this.T(q)};function fc(){iP.call(this,["brush","strn"])}fc.prototype=new iP;
function ah(){iP.call(this,["brush","flow","smode"])}ah.prototype=new iP;function jw(){fD.call(this);
this.i5=!1;var W=I.a("span","fitem");this.body.appendChild(W);this.zo=new i3(null,["<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"]);
W.appendChild(this.zo.K);this.zo.Q(S.E.k,this.TL,this);this.HH=new iC([20,2]);this.body.appendChild(this.HH.K);
this.HH.Q("click",this.agY,this);this.avk=new iC([20,3]);this.body.appendChild(this.avk.K);this.avk.Q("click",this.agY,this);
this.N0=new h$([8,7,1]);this.body.appendChild(this.N0.K);this.N0.Q(S.E.k,this.TL,this)}jw.prototype=new fD;
jw.prototype.hL=function(){this.HH.l();this.avk.l()};jw.prototype.TL=function(){var W={R:S.m.MJ,J:this.J,IK:this.zo.V()==0,OX:this.N0.V()},q=new ip(S.E.H,!0);
q.data=W;this.T(q)};jw.prototype.RD=function(W){if(this.i5!=W.i5)this.zo.q(1-this.zo.V());this.i5=W.i5};
jw.prototype.agY=function(W){var q=new ip(S.E.O,!0);q.J=_.hm;q.data={R:"adapt",_:W.target==this.HH?"pixel":"fitscr"};
this.T(q)};function eh(W,q){fD.call(this);if(W==null)return;this.W5=W;this.oZ={};this.aun=q;for(var N=0;
N<W.length;N++){var X=W[N],k=null;if(X=="vmode"||X=="pmode"){k=new cL(null,[[12,76,1],[12,76,0],[12,76,2]]);
k.q(X=="vmode"?0:1);if(q)k.ayA(2)}if(X=="make"){k=new i3("Make",[[17,2],[12,76,1]],null,!0)}if(X=="anta"){k=new h$([12,25,1]);
k.q(!0)}if(X=="binop"){k=new cL(null,[[6,13],[18,1],[18,2],[18,3],[18,4]])}if(X=="pshape")k=new cL(null,[[12,93,0],[12,93,1],[12,93,4],[8,4],[12,93,2]]);
if(X=="shape")k=new dh([12,76,1]);if(X=="crad"){k=new al([12,94,0],0,50,"px");k.q(0)}if(X=="cstr"){k=new iH}if(X=="irad"){k=new al([12,94,1],0,100,"%");
k.q(40)}if(X=="length"){k=new al([12,80,0],4,40);k.q(4)}if(X=="sides"){k=new al([12,78],3,30);k.q(5)}if(X=="width"){k=new al([12,41],0,100,"px");
k.q(5)}if(X=="tolr"){k=new al([12,24],0,100);k.q(5)}if(X=="fstyle"){k=new gB([12,26])}if(X=="sstyle"){k=new gd}if(X=="psnap"){k=new h$([8,10])}if(X=="crnr"){k=new iC("\u2312",!1,[12,94,0],!0)}if(X=="aopts"){k=new hY;
k.q([!1,!1,50,60,0])}if(X=="smplp"){k=new iC([12,94,2],!1,["VAR0 (VAR1)",[12,94,2],[8,9]],!0)}if(X=="rows"){k=new al("Rows",1,20);
k.q(3)}if(X=="cols"){k=new al("Columns",1,20);k.q(4)}if(X=="brdr"){k=new al([7,9],1,20);k.q(8)}k.parent=this;
this.body.appendChild(k.K);this.oZ[X]=k;k.Q(X=="crnr"||X=="smplp"?"click":S.E.k,this.TL,this)}}eh.prototype=new fD;
eh.prototype.RD=function(W){var q=this.oZ.cstr;if(W.zi!=null)this.oZ.binop.q(W.zi);else if(W.w7=="vals")for(var X in W.a4V)this.oZ[X].q(W.a4V[X]);
else if(W.JD){if(q)q.YC(W.JD)}else{var k=eh.cj,B=function(l){return{i:l!=null&&l.or(!1)}};if(k==null)k=eh.cj=new j_([{name:"Remove Anchor Point",i:function(l){var K=l?l.Yb():null;
return{i:l&&K[1].length!=0&&K[0][K[1][0]].add.vmsk.rP.length!=0}}},{name:"Remove Path",i:function(l){var K=l?l.Yb():null;
return{i:l&&K[1].length!=0&&K[0][K[1][0]].add.vmsk.Y.length!=0}},nC:!0},{name:"Make Selection"},{name:[2,3],i:B},{name:[14,9],i:B}],[{s:S.E.O,J:_.dm,p:{R:"remove",Yk:!0}},{s:S.E.O,J:_.ZA,p:{R:"remove"}},{s:S.E.H,p:{R:S.m.K_,ud:"makesel"}},{s:S.E.dq,p:_.U0.Ke(null)},{s:S.E.H,p:{R:S.m.K_,ud:"strokepath"}}]);
k.parent=this;k.update(W.BL,W.e);var U=new ip(S.E.H,!0);U.data={R:S.m.k8,ii:k,x:W.Dv.Ty+2,y:W.Dv.Be+1};
this.T(U)}};eh.prototype.agg=function(N){return null};eh.prototype.hL=function(){for(var W in this.oZ){this.oZ[W].l()}};
eh.prototype.TL=function(W){var q=new ip(S.E.H,!0),X=this.oZ;if(W.target==X.crnr){q=new ip(S.E.O,!0);
q.J=_.dm;q.data={R:"crnr"}}else if(W.target==X.smplp){q=new ip(S.E.O,!0);q.J=_.ZA;q.data={R:"smplp"}}else if(W.target==X.make){var N=W.target.V();
console.log(N);if(N==0)q.data={R:S.m.K_,ud:"makesel"};else{q=new ip(S.E.O,!0);q.J=_.FE;q.data={R:"newfill",R7:0}}}else if(W.target==X.fstyle){q.data={R:S.m.Dt,rl:aI.td,_:X.fstyle.V()}}else if(W.target==X.sstyle){q.data={R:S.m.Dt,rl:aI.fQ,_:X.sstyle.V()}}else if(W.target==X.vmode||W.target==X.pmode){q.data={R:S.m.Dt,rl:W.target==X.vmode?aI.lH:aI.Jr,_:W.target.V()}}else{if(X.pshape)this.Pm();
q.data={R:S.m.MJ,J:this.J};for(var k in X)q.data[k]=X[k].V()}this.T(q)};eh.prototype.Pm=function(){var W=this.oZ,q=(W.vmode?W.vmode:W.pmode).V(),X=W.pshape?this.agg(W.pshape.V()):this.W5,k;
if(q==0)k=["anta","make"];if(q==1)k=["anta","fstyle","sstyle"];if(q==2)k=["make","binop","fstyle","sstyle"];
var B=W.binop;if(B){var U=B.V();if(q==0){B.a8p(0)}else{B.ayA(0);if(U==0){B.q(1);this.TL({target:B})}}}I.ru(this.body);
for(var N=0;N<X.length;N++){var l=X[N];if(k.indexOf(l)!=-1)continue;this.body.appendChild(W[l].K)}};
eh.prototype.QL=function(W,q){fD.prototype.QL.call(this,W,q);var X=this.oZ.fstyle,k=this.oZ.sstyle,B=this.oZ.vmode,U=this.oZ.pmode;
if(X)X.QL(W,q);if(k)k.QL(W,q);if(q==aI.NC||q==aI.EV)if(W.mh.length!=0&&this.oZ.shape){this.oZ.shape.mX(W.mh)}if(q==aI.NC||q==aI.td)if(X)X.q(null,W.gh,W.att);
if(q==aI.NC||q==aI.fQ)if(k)k.q(null,W.Jm,W.a6x);if(q==aI.NC||q==aI.lH||q==aI.Jr){var l=W.Bq,K=W.gl;if(this.aun&&K==2)K=0;
if(B){B.q(l);this.Pm()}if(U){U.q(K);this.Pm()}}};function jO(){eh.call(this,["pmode","make","fstyle","sstyle","binop"],!0)}jO.prototype=new eh;
function b2(){eh.call(this,"pmode make anta fstyle sstyle binop".split(" "))}b2.prototype=new eh;function dH(){eh.call(this,["fstyle","sstyle","smplp"]);
this.aH6=null;this.an9=null;this.adN=null;this.RE=new cL([12,76,0],[[18,1],[18,2],[18,3],[18,4],[18,5]],[4]);
this.Wi=new iC("\u25BC");this.Wi.ju();this.amy=new iC("\u25B2");this.amy.ju();this.ayo=[this.RE,this.Wi,this.amy];
for(var N=0;N<this.ayo.length;N++){var W=this.ayo[N];this.body.appendChild(W.K);W.parent=this;W.Q(N==0?S.E.k:"click",this.cf,this)}}dH.prototype=new eh;
dH.prototype.RD=function(W){if(W.wh=="main"){var q=this.ayo,X=W.Ly;if(X){this.an9=X.P();this.adN=JSON.stringify(W.BI);
var k=X.Y.slice(0),B=k.length;for(var N=0;N<k.length;N++)k[N]++;k.sort(function(D,m){return D-m});q[0].JZ();
q[1].Si(B!=0);q[2].Si(B!=0);q[0].tB(B==0?"No Paths":B==1?"Path "+k[0]:"Paths "+k.slice(0,3).join(",")+(B>3?"..":""));
if(B!=0){var U=X.Y[0],l=g.z.wS(X.G,U),K=X.G[l];this.RE.q([3,0,1,2][K.R3])}}else for(var N=0;N<q.length;
N++)q[N].Ti()}else eh.prototype.RD.call(this,W)};dH.prototype.hL=function(){eh.prototype.hL.call(this);
this.RE.l()};dH.prototype.cf=function(W){if(W.target==this.RE||W.target==this.Wi||W.target==this.amy){var q={},X=this.an9,k=X.G,B=X.Y,U=g.z._H(k),l=JSON.parse(this.adN);
B.sort(function(F,E){return F-E});if(W.target==this.RE){var K=this.RE.V();if(K<4)for(var N=0;N<B.length;
N++)k[g.z.wS(k,B[N])].R3=[1,2,3,0][K];else{if(U<=1)return;X.G=g.z.xm(k);X.Y=X.G.length==2?[]:[0];X.rP=[];
l=[g.BI.if()]}}else{var D=W.target==this.Wi?-1:1,m=[];for(var N=0;N<U;N++){var Y=g.z.wS(k,N),a=Y+1+k[Y].length;
m.push(k.slice(Y,a))}var p=B.slice(0);for(var N=0;N<B.length;N++)p[N]=Math.max(N,Math.min(U-1-(B.length-1-N),p[N]+D));
if(B.join(",")==p.join(","))return;var M=g.N(l);for(var N=0;N<B.length;N++){var x=D==-1?N:B.length-1-N,Y=B[x],a=p[x];
if(Y!=a){var R=m[Y];m[Y]=m[a];m[a]=R;R=M[Y];M[Y]=M[a];M[a]=R}}var y=k.slice(0,2);for(var N=0;N<m.length;
N++)y=y.concat(m[N]);X.G=y;X.Y=p;l=M}q.Ly=X;q.BI=l;var s=new ip(S.E.H,!0);s.data={R:S.m.MJ,J:this.J,jX:q};
this.T(s)}};function kv(){eh.call(this,["fstyle","sstyle","crnr","psnap"])}kv.prototype=new eh;function bV(){eh.call(this,"vmode make anta fstyle sstyle binop cstr crad".split(" "))}bV.prototype=new eh;
function cT(){eh.call(this,"vmode make anta fstyle sstyle binop cstr".split(" "))}cT.prototype=new eh;
function dX(){eh.call(this,"vmode make anta fstyle sstyle binop pshape sides irad crad width aopts length rows cols brdr".split(" "));
this.oZ.aopts.q([!1,!0,50,60,0])}dX.prototype=new eh;dX.prototype.agg=function(N){var W=[["sides","crad"],["sides","irad","crad"],["width","aopts"],["rows","cols","brdr"],["length"]];
return"vmode make fstyle sstyle binop pshape".split(" ").concat(W[N])};function e7(){eh.call(this,"vmode make anta fstyle sstyle binop width aopts".split(" "))}e7.prototype=new eh;
function di(){eh.call(this,"vmode make anta fstyle sstyle binop cstr shape".split(" "))}di.prototype=new eh;
function cS(){bp.call(this,!1,["binop","feat","redge","sesu"])}cS.prototype=new bp(!0);function cN(){iP.call(this,["brush","qsmode","redge","sesu"])}cN.prototype=new iP;
function a0(){fD.call(this);this.MS=[new iH,new iC([8,11,3],null,null,!0),new iC(["VAR0...",[15,10,22]],null,null,!0)];
for(var N=0;N<3;N++){var W=this.MS[N];W.Q(N==0?S.E.k:"click",this.cf,this);this.body.appendChild(W.K)}}a0.prototype=new fD;
a0.prototype.cf=function(W){var q=new ip(S.E.H,!0),X=this.MS.indexOf(W.target);if(X==0){q.data={R:S.m.MJ,J:this.J,T$:W.target.V()}}else if(X==1){q=new ip(S.E.dq,!0);
q.data={yx:"make",Og:{__name:"Make",classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"slice"}}]},Usng:{t:"type",v:{classID:"Gd"}}}}}else{q.data={R:S.m.K_,ud:"divslice"}}this.T(q)};
a0.prototype.hL=function(W){for(var N=0;N<this.MS.length;N++)this.MS[N].l()};function lm(){fD.call(this);
var W=this.Yq=[new iC("\u25BC",null,null,!0),new iC("\u25B2",null,null,!0),new iC([5,4],null,null,!0),new iC(["VAR0...",[15,10,22]],null,null,!0)];
for(var N=0;N<4;N++){var q=W[N];this.body.appendChild(q.K);q.Q("click",this.cf,this)}}lm.prototype=new fD;
lm.prototype.cf=function(W){var q=this.Yq.indexOf(W.target),X;if(q==3){X=new ip(S.E.H,!0);X.data={R:S.m.K_,ud:"divslice"}}else{X=new ip(S.E.O,!0);
X.J=_.eP;X.data={R:q==2?"delete":"reorder",dir:q==0?-1:1}}this.T(X)};lm.prototype.l=function(){fD.prototype.l.call(this);
for(var N=0;N<4;N++)this.Yq[N].l()};function dK(W,q){fD.call(this);if(window.Typr==null||W)return;this.agD=q;
this.a1=null;this.arD=I.a("span","");this.a6m=I.a("span","");var X=1,k=this.WO={Fy:new ej(null,24),FY:new al("X",0,0,"px",0,!1,!0,4),gf:new al("Y",0,0,"px",0,!1,!0,4),jw:new al("W",0,0,["%","px"],2,!1,!0,5),mz:new iC("<img src=\""+PIMG["lrs/link"]+"\" class=\"autoscale gsicon\" />",null,[12,51],null),qA:new al("H",0,0,["%","px"],2,!1,!0,5),a9Z:new al("\u2221",0,0,"\xB0",X,!1,!0),az4:new al("\u25B1 H",-85,85,"\xB0",X,!1,!0),a7y:new al("\u25B1 V",-85,85,"\xB0",X,!1,!0),QH:new cL(null,[[12,14,2],[12,14,3],"Bicubic Sharper"]),a5r:new cL("Protect",[])};
k.QH.q(1);k.mz.q(!0);for(var B in k){var U=k[B],l=!0;if(q&&(U==k.a9Z||U==k.az4||U==k.a7y||U==k.QH))l=!1;
if(!q&&U==k.a5r)l=!1;if(l)this.arD.appendChild(U.K);var K=U==k.mz?"click":S.E.k;U.Q(K,this.aH3,this)}this.Q8=new i3("Split",i3.NQ(["split/vh","split/v","split/h"]),["Crosswise",[22,4,3],[22,4,2]],null,!0);
this.Q8.q(-1);this.Q8.Q(S.E.k,this.aDJ,this);this.Rg=new dR(!0,!0,!0);this.Rg.Q(S.E.k,this.aDJ,this);
this.Rg.parent=this;var D=this.a6m,m=this.Rg;D.appendChild(this.Q8.K);D.appendChild(m.s7.K);D.appendChild(m.Po.K);
D.appendChild(m.sL.K);D.appendChild(m.qk.K);D.appendChild(m.Sr.K);this.d3=new iC([11,9]);this.d3.Q("click",this.a3C,this);
this.Gh=new lb;this.Gh.Q("click",this.Q$,this)}dK.prototype=new fD;dK.prototype.RD=function(W){if(W.Dv){var q=dK,X=this.cj;
if(X==null)X=this.cj=new j_(q.a6X(),q.ad_(this.J));X.l();X.parent=this;X.update(W.BL,W.e);var k=new ip(S.E.H,!0);
k.data={R:S.m.k8,ii:X,x:W.Dv.Ty+2,y:W.Dv.Be+1};this.T(k);return}I.ru(this.body);this.a1=W;var B=this.WO;
if(W.WO){var U=W.WO.OM,l=W.WO.Ez.P(),K=-Math.atan2(-l.X,l.iM),D=new ka;D.rotate(K);l.concat(D);B.Fy.q(W.WO.as$);
B.FY.q(W.WO.Qv.x);B.gf.q(W.WO.Qv.y);B.jw.q(l.iM*(B.jw.Pu()=="%"?100:U.r));B.qA.q(l.kv*(B.qA.Pu()=="%"?100:U.$));
B.a9Z.q(K*180/Math.PI);B.az4.q(Math.atan(l.bO/l.kv)*180/Math.PI);B.a7y.q(0*180/Math.PI);this.body.appendChild(this.arD);
this.d3.Uq();if(W.WO.NA!=null)B.mz.q(W.WO.NA)}if(W.HO){if(W.a06)this.Q8.q(-1);this.Rg.q(W.HO);this.body.appendChild(this.a6m);
this.d3.ju()}if(W.RH)B.a5r.oj(W.RH);if(W.awW&&!this.agD)this.body.appendChild(this.d3.K);this.body.appendChild(this.Gh.K);
B.QH.K.style.display=W.ajD?"":"none"};dK.prototype.aH3=function(W){var q=this.WO,X=this.a1.WO.OM,k=q.Fy.V();
if(W.target==q.mz)q.mz.q(!q.mz.V());else if(q.mz.Vg()){var B=q.qA,U=q.jw,l=X.$,K=X.r;if(W.target==q.jw){B=q.jw;
U=q.qA;l=X.r;K=X.$}var D=B.V()/(B.Pu()=="%"?100:l);D*=U.Pu()=="%"?100:K;U.q(D)}var m=[];for(var Y in q)if(q[Y]!=q.mz&&q[Y]!=q.Fy){var D=q[Y].V();
if((q[Y]==q.jw||q[Y]==q.qA)&&D==0){D=.1;q[Y].q(D)}if(q[Y]==q.jw&&q[Y].Pu()=="px")D/=X.r/100;if(q[Y]==q.qA&&q[Y].Pu()=="px")D/=X.$/100;
m.push(D)}var a=new hw(m[0],m[1]);if(W.target==q.Fy){this.pH({wh:"ctyp",as$:k})}else if(W.target==q.FY||W.target==q.gf){this.pH({wh:"cen",Qv:a})}else{var p=this.a1.WO.Ez.P(),M=Math.atan2(-p.X,p.iM);
p.translate(-a.x,-a.y);p.rotate(-M);var x=new ka(p.iM,p.X,p.bO,p.kv,0,0);x.i5();p.concat(x);var R=m[2]/100,y=m[3]/100;
p.concat(new ka(R,R*Math.tan(m[6]*Math.PI/180),y*Math.tan(m[5]*Math.PI/180),y,0,0));p.rotate(-m[4]*Math.PI/180);
p.translate(a.x,a.y);this.a1.WO.Ez=p;this.pH({wh:"trn",WO:p,v5:q.QH.V(),s0:q.a5r.V(),NA:q.mz.V()})}};
dK.prototype.aDJ=function(W){var q=this.Q8;this.pH(W.target==q?{wh:"splt",_:q.V()}:{wh:"wrp",HO:this.Rg.V()})};
dK.prototype.a3C=function(W){this.pH({wh:"switchWarp"})};dK.prototype.Q$=function(W){this.pH({wh:this.Gh.V()?"commit":"cancel"})};
dK.prototype.pH=function(W){W.R=S.m.MJ;W.J=this.J;var q=new ip(S.E.H,!0);q.data=W;this.T(q)};dK.prototype.hL=function(){var W=this.WO;
for(var q in W)W[q].l();I.nN(W.jw,W.qA);this.Gh.l();this.Q8.l();this.Rg.l();this.d3.l()};dK.a6X=function(){var W=function(q){var X=!0;
if(q==null||q.Y.length==0)X=!1;else{var k=q.Y;for(var N=0;N<k.length;N++){if(q.U[k[N]].add.TySh)X=!1}}return{i:X}};
return[{name:[5,9],Rl:"Shift+Alt+Ctrl + T",nC:!0},{name:[12,38]},{name:[2,5]},{name:"Skew"},{name:[24,4],i:W},{name:[2,9],i:W,nC:!0},{name:[11,9],i:function(q){if(q==null||q.Y.length!=1)return{i:!1};
var X=q.U[q.Y[0]];return{i:X.add.TySh==null&&!X.S3()}},nC:!0},{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]};
dK.ad_=function(W){if(W==null)W=_.Xx;return[{s:S.E.O,J:W,p:{R:"again"}},{s:S.E.H,p:{R:S.m.oE,J:W,g2:{Bz:3}}},{s:S.E.H,p:{R:S.m.oE,J:W,g2:{Bz:4}}},{s:S.E.H,p:{R:S.m.oE,J:W,g2:{Bz:5}}},{s:S.E.H,p:{R:S.m.oE,J:W,g2:{Bz:2}}},{s:S.E.H,p:{R:S.m.oE,J:W,g2:{Bz:1}}},{s:S.E.H,p:{R:S.m.oE,J:W,g2:{Bz:-1}}},{s:S.E.dq,p:_.Gz.t8(!0,90,!0)},{s:S.E.dq,p:_.Gz.t8(!0,-90,!0)},{s:S.E.dq,p:_.Gz.t8(!0,-180,!0)},{s:S.E.dq,p:_.Gz.t8(!1,"Hrzn",!0)},{s:S.E.dq,p:_.Gz.t8(!1,"Vrtc",!0)}]};
function c0(){dK.call(this)}c0.prototype=new dK(!0);function ik(){dK.call(this)}ik.prototype=new dK(!0);
function k6(){dK.call(this,!1,!0)}k6.prototype=new dK(!0);function f$(){fD.call(this);var W=this.W5=[new cL([12,36],["Rigid",[15,10,0],[24,4]]),new cL([12,74],[[19,8,0],[19,8,1],[19,8,2]]),new al([7,4],0,100,"px"),new h$("Show Mesh"),new iC("\u25BC",null,null,!0),new iC("\u25B2",null,null,!0)];
for(var N=0;N<W.length;N++){var q=W[N];q.parent=this;this.body.appendChild(q.K);q.Q(N<4?S.E.k:"click",this.e8,this)}this.Gh=new lb;
this.Gh.Q("click",this.Q$,this);this.body.appendChild(this.Gh.K)}f$.prototype=new fD;f$.prototype.hL=function(){var W=this.W5;
for(var N=0;N<4;N++)W[N].l();this.Gh.l()};f$.prototype.RD=function(W){var W=W.rl;for(var N=0;N<4;N++)this.W5[N].q(W[N])};
f$.prototype.e8=function(W){var q=[];for(var N=0;N<4;N++)q[N]=this.W5[N].V();var X=this.W5.indexOf(W.target);
if(X<4)this.pH({wh:"prm",rl:q});else this.pH({wh:"moveDepth",awE:X==5})};f$.prototype.Q$=function(W){this.pH({wh:this.Gh.V()?"commit":"cancel"})};
f$.prototype.pH=function(W){W.R=S.m.MJ;W.J=this.J;var q=new ip(S.E.H,!0);q.data=W;this.T(q)};function c$(){fD.call(this);
this.mt=new i3(null,["Layout","Warp"]);this.mt.Q(S.E.k,this.e8,this);this.body.appendChild(this.mt.K);
this.Gh=new lb;this.Gh.Q("click",this.Q$,this);this.body.appendChild(this.Gh.K)}c$.prototype=new fD;
c$.prototype.hL=function(){var W=this.W5;this.Gh.l()};c$.prototype.RD=function(W){this.mt.q(W.rl)};c$.prototype.e8=function(W){this.pH({rl:this.mt.V()})};
c$.prototype.Q$=function(W){this.pH({wh:this.Gh.V()?"commit":"cancel"})};c$.prototype.pH=function(W){W.R=S.m.MJ;
W.J=this.J;var q=new ip(S.E.H,!0);q.data=W;this.T(q)};function gW(){fD.call(this);this.W5=null;this.ey=new cL([12,44],["","","","",""]);
this.ey.Q(S.E.k,this.TL,this);this.body.appendChild(this.ey.K);this.OW=new h$("ON");this.OW.Q(S.E.k,this.TL,this);
this.body.appendChild(this.OW.K);var W=al;this.ib=[[new W([24,2],0,500)],[new W([24,2],0,500)],[],[new W([24,2],0,500)],[new W("Speed",0,500,"%"),new W("Point Speed",0,500,"px")],[new W([12,15],0,360,"\xB0",null,!0)]];
for(var N=0;N<6;N++)for(var q=0;q<this.ib[N].length;q++){var X=this.ib[N][q];X.parent=this;X.Q(S.E.k,this.TL,this)}this.Gh=new lb;
this.Gh.Q("click",this.TL,this)}gW.prototype=new fD;gW.prototype.RD=function(W){var q=this.W5=W.rl,X=q[0];
this.adT();this.l()};gW.prototype.TL=function(W){var q=this.W5,X=q[0],k=W.target,B=k.V();if(k==this.Gh){}else if(k==this.ey){X=q[0]=B<2?B:B+1;
this.adT(X);q[2]=null}else if(k==this.OW){q[1][X]=B;q[2]=null;this.l()}else{var U=this.ib[X];for(var l=0;
l<U.length;l++)q[2][l]=U[l].V()}var K=new ip(S.E.H,!0);K.data={R:S.m.MJ,J:this.J,rl:q};if(k==this.Gh)K.data.wh=B?"commit":"cancel";
this.T(K)};gW.prototype.adT=function(){var W=this.body,q=this.W5,X=q[0];this.ey.q(X<2?X:X-1);this.OW.q(q[1][X]);
while(W.children.length>2)W.removeChild(W.lastChild);var k=this.ib[X];for(var N=0;N<k.length;N++){k[N].Si(q[2]!=null);
if(q[2]!=null)k[N].q(q[2][N]);W.appendChild(k[N].K)}W.appendChild(this.Gh.K)};gW.prototype.l=function(){var W=[],q=this.W5,X=this.ey;
for(var N=0;N<5;N++){var k=[24,3,12,N];if(q)k=(q[1][N<2?N:N+1]?"\u2713 ":"\u2002\u2002")+js.get(k);W.push(k)}var B=X.V();
X.oj(W);X.q(B);var U=this.ib;for(var N=0;N<6;N++){var l=U[N];for(var K=0;K<l.length;K++)l[K].l()}};function h6(){fD.call(this);
var W=this.Vo=[new cL([12,20,0],["1x1","3x3","5x5","11x11","31x31"])];for(var N=0;N<W.length;N++){var q=W[N];
q.Q(S.E.k,this.TL,this);this.body.appendChild(q.K)}}h6.prototype=new fD;h6.prototype.TL=function(W){var q=this.Vo,X=[];
for(var N=0;N<q.length;N++)X[N]=q[N].V();var k=new ip(S.E.H,!0);k.data={R:S.m.MJ,J:this.J,Xm:X};this.T(k)};
h6.prototype.hL=function(){for(var N=0;N<this.Vo.length;N++)this.Vo[N].l()};function aq(){bp.call(this,!1,["binop"]);
this.D4=new iC("Remove",!1,null,!0);this.D4.Q("click",this.Uk,this);this.D4.K.style.marginRight="2em";
this.g3=new kD("New content");this.yf=new hC;this.yf.parent=this;this.BT=new iC([18,0],!1,null,!0);this.BT.Q("click",this.Uk,this);
this.ay3=new iC("Undo",!1,null,!0);this.ay3.Q("click",this.Uk,this);this.a96=new iC("?",!1,null,!0);
this.a96.Q("click",this.Uk,this);this.body.appendChild(this.g3.K);this.body.appendChild(this.yf.K);this.body.appendChild(this.BT.K);
this.body.appendChild(this.D4.K);this.body.appendChild(this.ay3.K);this.body.appendChild(this.a96.K)}aq.prototype=new bp(!0);
aq.prototype.l=function(){fD.prototype.l.call(this);this.BT.l();this.yf.l()};aq.prototype.Uk=function(W){if(W.target==this.ay3){var q=new ip(S.E.O,!0);
q.J=_.Yo;q.data={R:"h_stepbck"};this.T(q);return}if(W.target==this.a96){window.open("https://x.com/photopeacom/status/1661425407944425494/video/1","_blank");
return}var X=W.target==this.D4,k=X?"empty background":this.g3.V();this.yf.aJK(k)};function g9(){gH.call(this);
this.K=I.a("div","cmanager");window.alert=function(k,B){this.aqO(k,B);console.log("Alert: "+k)}.bind(this);
window.onblur=function(k){var B=this;B.u8()}.bind(this);this.Ah=0;this.QB=0;this.Db=[];this.aiW={};this.qU=I.a("div","alertcont");
I.w(this.qU,"pointer-events:none");this.K.appendChild(this.qU);this.aBe=I.a("div","alertcont");this.K.appendChild(this.aBe);
this.ig=I.a("div","alertcont");this.ag$=0;this.By=-1;this.awp=null;this.MS=null;var W=this.aq6=I.a("div","alertpanel");
I.w(W,"padding:0.7em 1em 0.1em 1em;");this.ig.appendChild(W);var q=this.Xo=I.a("input");q.setAttribute("type","text");
I.Ch(q);I.w(q,"background-color:white; color:black; font-size:1.2em; width:100%;  margin:0;");q.addEventListener("input",this.ayB.bind(this),!1);
q.addEventListener("keydown",this.adq.bind(this),!1);W.appendChild(q);var X=this.Gx=I.a("div","contextpanel scrollable");
I.w(X,"text-align:left; box-shadow:none; margin:0.5em 0 1em 0;color:#888;");X.addEventListener("click",this.aC3.bind(this),!1);
W.appendChild(X);I.aA(document.body,this.ahp.bind(this))}g9.prototype=new gH;g9.prototype.lk=function(){if(I.rL(this.ig))this.K.removeChild(this.ig)};
g9.prototype.aL0=function(W,q){var X=this.awp=[],k=q.aes;for(var N=0;N<hd.data.length;N++){var B=hd.data[N],U=[js.get(B.name)],l=[N];
g9.cI(B.items,U,l,X,W,q,k==null?null:k[N]==null?0:k[N])}var K=q.Z;for(var N=0;N<K.zL.length;N++){var D=K.zL[N],m=K.keys[N];
for(var Y=0;Y<D.length;Y++)X.push([["Tools",js.get(D[Y].J.name)],[-1,D[Y].J.id],m?m.J6:null])}this.K.appendChild(this.ig);
var a=this.Xo;a.focus();a.select();this.L8()};g9.prototype.ayB=function(W){this.By=-1;this.L8()};g9.prototype.L8=function(){var W=this.Xo.value.toLowerCase().trim().replace(/  +/g," "),q=this.awp,X=[],k=[],B=W.split(" ");
if(W!="")for(var N=0;N<q.length;N++){var U=q[N][0],l=[],K=0;for(var D=0;D<U.length;D++)l[D]=-1;for(var m=0;
m<B.length;m++)for(var D=0;D<U.length;D++){var Y=U[D].toLowerCase().indexOf(B[m]);if(Y!=-1){l[D]=[Y,Y+B[m].length];
K++;break}}if(K==B.length){X.push(q[N]);k.push(l)}}var a=[],p=this.Gx;I.ru(p);for(var N=0;N<X.length;
N++){var M=X[N],x=M[0],Y=k[N],R="enab",s="";if(N==this.By)R+=" active";var y=I.a("div",R);a.push(y);
p.appendChild(y);for(var D=0;D<x.length;D++){var F=Y[D],E=B[D],o=x[D];if(F!=-1)o=o.slice(0,F[0])+"<span style=\"color:black\">"+o.slice(F[0],F[1])+"</span>"+o.slice(F[1]);
s+=o;if(D<x.length-1)s+=" \uFE65 "}if(M[2]&&(typeof M[2]!="string"||M[2].length==1))s+=" <span style=\"border:1px solid; margin-left:16px; padding:1px 5px; border-radius:5px; background-color:#f4f4f4;\">"+bu.dM(M[2])+"</span>";
y.innerHTML=s}this.MS=[X,a]};g9.prototype.adq=function(W){var q=bu.aZ,X=W.code;if(q(X,bu.hJ))this.lk();
var k=q(X,bu.uP),B=q(X,bu.Mm),U=q(X,bu.$H);if(k||B){this.By=Math.max(0,Math.min(this.MS[0].length-1,this.By+(k?-1:1)));
this.L8()}if(U&&this.By!=-1)this.aw2(this.By)};g9.cI=function(W,q,X,k,B,U,l){if(typeof l=="number"){if(l==0)return;
if(l==1)l=null}for(var N=0;N<W.length;N++){if(l!=null&&(l[N]==0||l[N]==null))continue;var K=W[N],D=q.slice(0),m=X.slice(0),Y=js.get(K.name);
if(K.i){var a=K.i(B,U,N);if(a.cT)Y=a.cT;if(a.i==!1)continue}D.push(Y);m.push(N);if(K.sub)g9.cI(K.sub,D,m,k,B,U,l?l[N]:null);
else k.push([D,m,K.Rl])}};g9.prototype.aC3=function(W){var q=W.target;if(q.tagName.toLowerCase()=="span")q=q.parentNode;
var X=this.MS[1].indexOf(q);if(X!=-1)this.aw2(X)};g9.prototype.aw2=function(W){var q=this.MS[0][W][1];
if(q[0]==-1){var X=new ip(S.E.H,!0);X.data={R:S.m.oE,J:q[1]};this.T(X)}else{var k=hd.data[q[0]].rx[q[1]];
for(var N=2;N<q.length;N++)k=k.sub[q[N]];var B=new ip(k.s,!0);B.J=k.J;B.data=k.p;this.T(B)}this.lk()};
g9.prototype.qL=function(W,q){this.Ah=W;this.QB=q;this.Gx.style["max-height"]=q-120+"px"};g9.prototype.aKW=function(W){var q=I.a("div","alertpanel");
q.textContent=js.get(W);this.qU.appendChild(q);this.aiW[JSON.stringify(W)]=q};g9.prototype.a2k=function(W){var q=this.aiW[JSON.stringify(W)];
this.qU.removeChild(q);delete this.aiW[JSON.stringify(W)]};g9.prototype.aqO=function(W,q){var X=this.aBe;
for(var N=0;N<X.children.length;N++)if(X.children[N].textContent==W)return;var k=I.a("div","alertpanel tpanel");
k.textContent=W;I.w(k,"opacity:0.5; transform:scale(0.9)\t");X.appendChild(k);if(q==null)q=1500;var B=q,U=Math.max(Date.now()+B,this.ag$+B);
setTimeout(function(){I.w(k,"transform:scale(1); opacity:1;")},10);setTimeout(function(){I.w(X,"pointer-events:none; margin-top: -3.6em; transform: translateY(3.6em);")},U-Date.now()-30);
setTimeout(function(){X.removeChild(X.firstChild);I.w(X,"pointer-events:none; transition: transform 0.7s;  margin-top: 5.5em;  transform: translateY(0em);")},U-Date.now());
this.ag$=U};g9.prototype.ahp=function(W){var q=this.Db;for(var N=q.length-1;N>=0;N--){var X=q[N],k=W.target;
while(k!=null){if(k==X.K){this.u8(X);return}k=k.parentNode}}this.u8();var B=W.target;while(B!=this.ig&&B!=document.body)B=B.parentNode;
if(B!=this.ig)this.lk()};g9.prototype.u8=function(W){var q=this.Db;for(var N=0;N<q.length;N++){if(W&&W.a5p(q[N]))continue;
var X=q[N].K;if(!(q[N]instanceof j_))I.Gs(q[N],this.K);else this.K.removeChild(X);X.style.height="auto";
I.gI(X,"scrollable");q.splice(N,1);N--}};g9.prototype.amj=function(W){this.u8(W.ii);var q=W.ii,X=q.K;
if(this.Db.indexOf(q)!=-1)return;this.Db.push(q);this.K.appendChild(X);var k=this.Ah,B=this.QB,U=W.x,l=W.y,K=this.K.getBoundingClientRect(),D=q instanceof j_,m=-1,Y=B-2;
if(D||W.Ve){var a=q.Uz(),p=q.abu();if(D)a=Math.min(a,200);var M=k-a-2,x=B-p-2;if(l<x)m=2;else if(U<M)m=1;
else if(0<l-p-2)m=0;else m=3;if(W.aE_)m=0;if(W.abY)m=2;if(m==2){U=Math.min(U,M)}else if(m==1){l=Math.min(l,x)}else if(m==0){l=l-p-2;
U=Math.min(U,M);Y=W.y}else if(m==3){U=U-a-2;l=Math.min(l,x)}}l=Math.max(2,l);var top=Math.round(l-K.y+this.K.offsetTop);
X.style.position="absolute";X.style["z-index"]=10;if(l+q.abu()>Y){X.style.height=Y-l+"px";I.Wx(X,"scrollable");
if(m==3)U-=10}X.style.left=Math.round(U)+"px";X.style.top=top+"px";if(!(q instanceof j_))I.NH(q)};g9.prototype.ajF=function(W){var q=W.ii,X=this.Db.indexOf(q);
if(X==-1)return;this.Db.splice(X,1);var k=q.K;if(!(q instanceof j_))I.Gs(q,this.K);else this.K.removeChild(q.K)};
g9.prototype.Ao=function(){var W=this.Db;return W.length==0?null:W[W.length-1]};g9.prototype.acd=function(){this.ajF({ii:this.Ao()})};
function iB(){gH.call(this);this.K=I.a("div","confbar")}iB.prototype=new gH;iB.prototype.aKg=function(W){W.parent=this;
I.ru(this.K);this.K.appendChild(W.K)};function bJ(){gH.call(this);var W=this.K=I.a("div","toolconf");
W.style.marginLeft="40px";this.aD6=null;this.Zl=null;this.K3=[new iE(0),new iE(1),new al([14,9],0,100,"px"),new ht(!0),new al([12,0],0,100,"%",0)];
for(var N=0;N<this.K3.length;N++){var q=this.K3[N];q.parent=this;q.Q(S.E.k,this.adn,this);W.appendChild(q.K)}var X=this.YU=new b$;
this.YU.parent=this;this.aIl=new j1("Tt:");var k=this.wI=I.a("span");W.appendChild(k);k.appendChild(this.aIl.K);
k.appendChild(X.NL.K);k.appendChild(X.qd.K);k.appendChild(X.Sz.K)}bJ.prototype=new gH;bJ.prototype.adn=function(W){var q=this.K3.indexOf(W.target),X=W.target.V();
if(q==4){var k=new ip(S.E.O,!0);k.J=_.b9;k.data={R:b.s_,O4:Math.round(255*X/100)};this.T(k);return}var B=g.N(this.aD6.Hr);
if(q<2){var U,l=X;if(q==0){U=B.jg;B.jg=l}else{U=B.rD;B.rD=l}if(U.length!=l.length){var K=[1,0,0,1,0,0];
if(U.length==4){K=U[3].slice(0);K[1]*=-1;K[2]*=-1}if(U.length==2){K=U[1][1].slice(0)}if(l.length==4){l[2]=[0,0,0,1,1,0,0];
l[3]=K;K[1]*=-1;K[2]*=-1}if(l.length==2){l[1]=[[0,0,1,1,0,0,0,0,0],K]}}}if(q==2)B.A4=X;if(q==3)B=X;var k=new ip(S.E.H,!0);
k.data={R:S.m.Dt,rl:aI.z7,_:B};this.T(k)};bJ.prototype.l=function(){for(var N=0;N<this.K3.length;N++)this.K3[N].l();
this.YU.l()};bJ.prototype.ol=function(W,q){this.Zl=W;this.K3[0].mX(W);this.K3[1].mX(W)};bJ.prototype.V9=function(W){if(W.Y.length==0)return;
var q=W.U[W.Y[0]];this.K3[4].q(Math.round(q.zO*100/255));I.w(this.wI,"line-height:1.5em; display:"+(q.add.TySh?"":"none"))};
bJ.prototype.QL=function(W,q){this.aD6=W;var X=W.Hr,k=this.Zl;this.K3[0].q(X.jg,k);this.K3[1].q(X.rD,k);
if(X.A4!=null)this.K3[2].q(X.A4);this.K3[3].q(X);this.YU.q(W.Xz,W.yK,W.Az)};function ch(W){gH.call(this);
ch.Gb=this;ch.kT=W;this.e=null;this.lJ=I.a("input","");this.lJ.setAttribute("type","file");this.lJ.setAttribute("multiple","");
this.lJ.addEventListener("change",function(q){this.JH(q.target.files,null,this.p9,null);this.p9=null}.bind(this),!1);
document.body.appendChild(this.lJ);I.w(this.lJ,"display:none");this.aKT=[];this.aga=!1;this.aar=[];this.a58=!1;
this.a9w={};this.p9=null}ch.prototype=new gH;ch.kT=null;ch.$Q=function(W){try{var q={};q[W.type]=W;navigator.clipboard.write([new ClipboardItem(q)])}catch(bu){console.error(bu,bu.message)}};
ch.Dn=function(W,q){navigator.clipboard.read().then(function(X){for(var N=0;N<X.length;N++){try{var k=X[N],B={},U=0,l=0;
for(var K=0;K<k.types.length;K++){var D=k.types[K];U++;k.getType(D).then(function(m){var Y=D;new Response(m).arrayBuffer().then(function(a){B[this.R7]=a;
l++;if(l==U)ch.ao3(B,W,q)}.bind({R7:this.R7}))}.bind({R7:D}))}}catch(bu){console.error(bu,bu.message)}}}).catch(function(X){alert("Please, give us permissions to access your clipboard.")})};
ch.a1S=function(W){navigator.permissions.query({name:"clipboard-read"}).then(function(q){W(q.state)})};
ch.ao3=function(W,q,X){var k=["text/plain","image/png","text/html","text/plain"];for(var B in W)console.log(B,B.startsWith("text")?Z._o(new Uint8Array(W[B])).slice(0,100)+"...":W[B]);
for(var U=0;U<k.length;U++){var l=k[U],K=W[l];if(K==null)continue;if(l=="image/png"){ch.kT({name:"image.png"},K,q,X);
return}if(l=="text/plain"){var D=Z._o(new Uint8Array(K));if(U==0)if(!D.startsWith("<!--")&&!D.startsWith("<svg"))continue;
if(X&&D.startsWith("<svg"))continue;var m=new ip(S.E.H,!0);m.data={R:S.m.aqK,_:D};q.T(m);return}if(l=="text/html"){var D=Z._o(new Uint8Array(K)),Y=D.indexOf("src=\"");
if(Y!=-1&&D.slice(Y+5,Y+9)!="http"){var a=Y+10;while(D[a]!="\"")a++;var p=D.slice(Y+5,a);ch.kT({name:"chart.png"},lf.zP(p).buffer,q,X);
return}}}};ch.prototype.ys=function(W){if(W==null)W=[23,5];var q=JSON.stringify(W),X=this.a9w;if(X[q]==null)X[q]=0;
if(X[q]==0){var k=new ip(S.E.H,!0);k.data={R:S.m.dW,RU:W};this.T(k)}X[q]++};ch.prototype.Jg=function(W){if(W==null)W=[23,5];
var q=JSON.stringify(W),X=this.a9w;if(X[q]==null)X[q]=0;X[q]--;if(X[q]==0){var k=new ip(S.E.H,!0);k.data={R:S.m.xA,RU:W};
this.T(k)}};ch.prototype.akq=function(W,q,X){this.p9=W;var k=window.showOpenFilePicker;if(X)k=null;if(k&&window.self==window.top){var B=this;
k({multiple:!0}).then(function(K){var D=[];function m(Y){D.push(Y);if(D.length==K.length){B.JH(D,null,B.p9,null,K);
B.p9=null}else K[D.length].getFile().then(m)}K[D.length].getFile().then(m)});return}var U=this.lJ;if(q)U.setAttribute("accept",q);
else U.removeAttribute("accept");var l=document.createEvent("MouseEvents");l.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
U.dispatchEvent(l)};ch.prototype.xH=function(W){if(W.url.indexOf("photopea.com#i")!=-1||W.url.indexOf("photopea.com/#i")!=-1){this.XJ(W.url.split("#i").pop());
return}this.aKT.push(W);this.aq$()};ch.prototype.aq$=function(){var W=this.aKT;if(W.length==0||this.aga)return;
this.aga=!0;var q=W.shift();this.ys();if(q.m8==null)q.m8={};var X=new XMLHttpRequest;X.Gy=q;var k=q.url;
if(q.a4Z&&!k.startsWith("data:image"))k="mirror.php?url="+encodeURIComponent(k);X.open("GET",k);if(q.aKG)for(var B in q.aKG)X.setRequestHeader(B,q.aKG[B]);
X.responseType="arraybuffer";X.onload=this.a7z.bind(this);X.send()};ch.prototype.JH=function(W,q,X,k,B){for(var N=0;
N<W.length;N++){this.ys();var U=W[N],l=new FileReader;l.Gy=U;l.Gy.m_=X;l.Gy.S8=k==null?null:k+N;l.axg=q;
if(B)l.Gy.oI=B[N];l.onload=this.a7z.bind(this);l.onerror=function(K){this.Jg()}.bind(this);this.aar.push([l,U])}this.lJ.value=null;
this.auW()};ch.prototype.auW=function(){var W=this.aar;if(W.length==0||this.a58)return;this.a58=!0;var q=W.shift();
q[0].readAsArrayBuffer(q[1])};ch.prototype.aj4=function(W,q,X){this.ys("Saving ...");this.e=q;setTimeout(X.bind({xy:W,caller:this}),50)};
ch.gV=function(W){var q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",X=new Uint8Array(W),k=X.length,B=k%3,U=k-B,l=[],K=0,D=0,m=0;
for(var N=0;N<U;N+=3){K=X[N];D=X[N+1];m=X[N+2];l.push(q[K>>2]+q[(K&3)<<4|D>>4]+q[(D&15)<<2|m>>6]+q[m&63])}if(B==1){K=X[U];
l.push(q[K>>2]+q[(K&3)<<4]+"==")}if(B==2){K=X[U];D=X[U+1];l.push(q[K>>2]+q[(K&3)<<4|D>>4]+q[(D&15)<<2]+"=")}var Y=l.join("");
return Y};ch.aFC=function(W,q){var X="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",k=new Uint8Array(64),K=0,D=0,m=0,a=0;
for(var N=0;N<64;N++)k[N]=X.charCodeAt(N);var B=new Uint8Array(W),U=q%3,l=q-U,Y=new Uint8Array(Math.floor(q/3)*4+(U==0?0:4));
for(var N=0;N<l;N+=3){K=B[N];D=B[N+1];m=B[N+2];Y[a]=k[K>>>2];Y[a+1]=k[(K&3)<<4|D>>>4];Y[a+2]=k[(D&15)<<2|m>>>6];
Y[a+3]=k[m&63];a+=4}if(U==1){K=B[l];Y[a]=k[K>>2];Y[a+1]=k[(K&3)<<4];Y[a+2]=61;Y[a+3]=61}if(U==2){K=B[l];
D=B[l+1];Y[a]=k[K>>2];Y[a+1]=k[(K&3)<<4|D>>4];Y[a+2]=k[(D&15)<<2];Y[a+3]=61}return Y};ch.prototype.a7z=function(W){var q,X=W.target.Gy;
if(W.target instanceof XMLHttpRequest)q=W.target.response;else q=W.target.result;ch.kT(X,q,this,W.target.axg);
this.Jg();if(W.target instanceof XMLHttpRequest){this.aga=!1;this.aq$()}else{this.a58=!1;this.auW()}};
ch.axC=function(W,q){var X=new XMLHttpRequest;X.open("POST","https://api.imgur.com/3/image",!0);X.Zc=q;
var k=["2c49c3d17cf0ab5","e1d678b8d6a606b","0546b331803cedb","426d743915497b3"],B=Math.floor(Math.random()*k.length);
console.log(B);X.setRequestHeader("Authorization","Client-ID "+k[B]);X.setRequestHeader("Content-type","application/x-www-form-urlencoded");
X.setRequestHeader("Accept","application/json");X.addEventListener("load",ch.arX);X.addEventListener("progress",function(U){var l=U.target.status;
if(l==429)alert("Too many uploads, try it a bit later.");else if(400<=l)alert("Error. Status code: "+l)});
X.send("type=base64&image="+encodeURIComponent(ch.gV(W)));alert("Saving to Imgur ...",4e3)};ch.arX=function(W){var q=JSON.parse(W.target.response);
if(q.success){if(W.target.Zc)W.target.Zc(q.data.link);else window.open(q.data.link,"Imgur")}};ch.prototype.XJ=function(W,q){this.ys();
var X=new XMLHttpRequest;X.responseType="arraybuffer";X.open("GET","https://f000.backblazeb2.com/file/"+(q?"pp-resources":"psdshared")+"/"+W);
X.onload=this.ac5.bind(this);X.send();X.zI=[Date.now(),W,q]};ch.prototype.ac5=function(W){var q=W.target.zI,X=new Uint8Array(W.target.response);
console.log(X.length+" B,",Date.now()-q[0]+" ms");for(var N=0;N<X.length;N++)X[N]=255-X[N];X=pako.inflateRaw(X);
var k=JSON.parse(Z._o(X,0,2e3));ch.kT({name:k.name,Kn:q[1]},X.slice(2e3).buffer,this);this.Jg();if(!q[2])ch.TM("act=0&id="+q[1])};
ch.prototype.aDa=function(W,q,X,k){if(!(W instanceof ArrayBuffer))throw"e";W=new Uint8Array(W);var B=new Uint8Array(W.length+2e3),p="";
for(var N=0;N<2e3;N++)B[N]=32;Z.o9(JSON.stringify({name:q}),B,0);B.set(W,2e3);W=B;W=pako.deflateRaw(W);
for(var N=0;N<W.length;N++)W[N]=255-W[N];W=W.buffer;var U=W.byteLength,l=eb.qc(U),K=~~(609e5/2),D=~~(209e5/2);
if(U>K){confirm("Your file is "+l+". Our limit is "+eb.qc(K)+". Delete some layers and try again.");
return}if(U>D){var m=confirm("Your file is quite large ("+l+"). Opening it will take a lot of time. Do you still want to proceed?");
if(!m)return}var Y=sha1(W),a=[];for(var N=0;N<20;N++){var M=parseInt(Y.slice(N*2,N*2+2),16);a.push(M);
p+=String.fromCharCode(M)}var x=btoa(p).replace(/\+/g,"-").replace(/\//g,"_").slice(0,8);if(ch.arT(x,k)){console.log("file already exists");
if(X)X(x);else window.open("https://www.photopea.com#i"+x+".psd");return}this.ys("Publishing ...");var R=new XMLHttpRequest;
R.zI=[W,Y,x,X,k];R.open("GET",gv.MG("papi/img/publish.php?rnd="+Math.random()+"&id="+x+"&size="+U+"&bname="+k));
R.onload=this.a40.bind(this);R.send()};ch.arT=function(W,q){try{var X=new XMLHttpRequest;X.open("HEAD","https://f000.backblazeb2.com/file/"+q+"/"+W,!1);
X.send();if(X.status==200)return!0}catch(bu){return!1}return!1};ch.prototype.a40=function(W){console.log(W.target.response);
var q=JSON.parse(W.target.response),X=W.target.zI,k=new XMLHttpRequest;k.open("POST",q.uploadUrl);k.setRequestHeader("Authorization",q.authorizationToken);
k.setRequestHeader("X-Bz-File-Name",X[2]);k.setRequestHeader("Content-Type","b2/x-auto");k.setRequestHeader("X-Bz-Content-Sha1",X[1]);
k.send(new Blob([X[0]]));k.onload=this.apZ.bind({gr:this,zI:X})};ch.prototype.apZ=function(W){this.gr.Jg("Publishing ...");
if(this.zI[3])this.zI[3](this.zI[2]);else window.open("https://www.photopea.com#i"+this.zI[2]+".psd");
if(this.zI[4]=="psdshared")ch.TM("act=2&id="+this.zI[2]+"&fileId="+JSON.parse(W.target.response).fileId)};
ch.TM=function(W){var q=new XMLHttpRequest;q.open("GET","/papi/img/update.php?"+W+"&rnd="+Math.random());
q.send()};ch.save=function(W,q){var X=new Uint8Array(W),k=document.createElement("a");if(typeof k.download=="string"){var B=new Blob([X]),U=window.URL.createObjectURL(B);
k.href=U;k.download=q;document.body.appendChild(k);k.click();document.body.removeChild(k)}else{var l="data:application/octet-stream;base64,"+ch.gV(W);
window.open(l)}};function dl(){this.size=16;this.data=g.j(16)}dl.prototype.Td=function(W,q){if(W+q<=this.size)return;
var X=this.size;while(W+q>this.size)this.size*=2;var k=g.j(this.size);for(var N=0;N<X;N++)k[N]=this.data[N];
this.data=k};var a$={};a$.SH=function(W,q,X,k){var B=q.split(":"),U=B[0];if(B.length==2){if(U=="jpg")k={qual:Math.round(100*parseFloat(B[1])),mtdt:!0};
if(U=="webp")k={qual:Math.round(100*parseFloat(B[1])),mtdt:!0};if(U=="psd")k=[!0,!0,!1,!1,!1];if(U=="svg"){var l=["arst","ahid","vtxt","rtxt","mini"],K=B[1].split(",");
k={};for(var N=0;N<K.length;N++)k[l[N]]=K[N]=="true"}if(U=="jpg"||U=="webp")if(W.Pb())k.srgb=!1}var D=lf.Xi(W,U.toUpperCase(),null,null,k,X);
return D};a$.ajo=function(W,q,X){var k=W.OL(),B=q[0];return a$.SH(W,B,X)};a$.afv=function(){var W=this.xy,q=this.caller,X=W.m8.DK,k=X.formats,B,U;
W.OL();var l=Date.now();if(X.version==1){var K=[],D=0,Y=0;for(var N=0;N<k.length;N++){var m=a$.SH(W,k[N],q.e);
K.push(m);D+=m.byteLength}B=new Uint8Array(2e3+D);var a="{ \"source\": "+JSON.stringify(W.G5)+", \"versions\": [\n";
for(var N=0;N<k.length;N++){var p=new Uint8Array(K[N]);a+="\t{\"format\": \""+k[N].split(":")[0]+"\", \"start\": "+Y+", \"size\": "+p.length+" }"+(N+1<k.length?", ":"")+"\n";
B.set(p,2e3+Y);Y+=K[N].byteLength}a+="] }";var M=Z.o9(a,B,0);for(var N=M;N<2e3;N++)B[N]=32;U="application/octet-stream"}else{var x=new dl,R=0,y="",s=encodeURIComponent;
y="p="+s("{ \"source\": "+JSON.stringify(W.G5)+", \"versions\": [");Z.Me(x,R,y);R+=y.length;for(var N=0;
N<k.length;N++){y=s(" {\"format\": \""+k[N].split(":")[0]+"\", \"data\": \"");Z.Me(x,R,y);R+=y.length;
var m=a$.SH(W,k[N],q.e),F=ch.aFC(m,m.byteLength),M=F.length;x.Td(R,M);for(var E=0;E<M;E++){x.Td(R,3);
var o=F[E];if(o==43){x.data[R]=37;x.data[R+1]=50;x.data[R+2]=66;R+=3}else if(o==47){x.data[R]=37;x.data[R+1]=50;
x.data[R+2]=70;R+=3}else if(o==61){x.data[R]=37;x.data[R+1]=51;x.data[R+2]=68;R+=3}else{x.data[R]=o;
R++}}y=s("\" }"+(N+1<k.length?", ":""));Z.Me(x,R,y);R+=y.length}y=s("] }");Z.Me(x,R,y);R+=y.length;B=x.data.slice(0,R);
U="application/x-www-form-urlencoded"}var G=new XMLHttpRequest;G.open("POST",X.url,!0);if(U)G.setRequestHeader("Content-Type",U);
G.addEventListener("load",a$.aa4.bind(this));G.send(new Blob([B.buffer]))};a$.aa4=function(W){this.caller.Jg("Saving ...");
var q=W.target.response;if(q.charAt(0)=="{"){q=JSON.parse(q);if(q.newSource)this.xy.G5=q.newSource;if(q.message)alert(q.message,2e3);
if(q.script){var X=new ip(S.E.H,!0);X.data={R:S.m.qS,eg:q.script};this.caller.T(X)}}else alert("Saved. Response: "+q,1500)};
a$.ajS=function(W){var q=W.jQ,X=q[1].split(".").pop(),k=a$.SH(W,X,null,X=="psd"&&q[0]==1?[!0,!1,!0,!1]:null),B=Storage.VL(q[0]);
return B.ajy(q[1],k)};a$.aqg=function(W,q){var X=W.Oi.b5;if(q==null)q=a$.SH(W,X);cO.bo(function(){var k=new XMLHttpRequest,B="https://www.googleapis.com/upload/drive/v3/files/"+W.Oi.file.id+"?uploadType=media"+"&"+cO.akG();
k.open("PATCH",B,!0);k.addEventListener("load",function(U){var l=JSON.parse(U.target.response);alert(l.name+" updated")});
k.send(q);alert("Saving \""+W.Oi.file.name+"\" to Google Drive ...")})};a$.kT=function(W,q,X,k,B){if(window.location.href.indexOf("photopea.com")==-1||window.top!=window.self)a$.T5(W,q,X,k);
else{try{a$.T5(W,q,X,k,B)}catch(bu){if(bu=="low_ram"){}else{var U=lf.pP(q),l="Error. Please, send your file to support@photopea.com and we will solve it.";
if(U=="psd")l="Your file is probably damaged :( If your file works well in other programs, send it to support@photopea.com";
if(lf.pP(q)=="eps")l="We support only basic EPS files. Convert your file into PDF (with an online converter) and open the PDF in Photopea.";
alert(l,1e4)}}}};a$.T5=function(W,q,X,k,B){var U;if(W.name){var l=W.name.lastIndexOf(".");U=l==-1?W.name:W.name.slice(0,l);
if(W.name.slice(l+1)=="psdt")U="Untitled-1"}else{if(W.url.substring(0,5)=="data:")U="image";else{var K=W.url.substring(W.url.lastIndexOf("/")+1).split(".");
U=K[0];if(K[1]=="psdt")U="Untitled-1"}U=U.slice(0,50)}var D=W.name?W.name:W.url,m=new Uint8Array(q);
if(m[0]==31&&m[1]==139&&m[2]==8){var Y=pako.inflate(m);a$.T5(W,Y.buffer,X,k,B);return}var a=lf.pP(q);
if(a!=null&&lf.c_(a))gv.event("fmt_"+a,.1);if(a==null)a=Z.zD(m,0,4);if(D&&D.toLowerCase().endsWith(".aco"))a="aco";
if(D&&D.toLowerCase().endsWith(".asv"))a="asv";if(D&&D.toLowerCase().endsWith(".sai"))a="sai2";if(D&&D.toLowerCase().endsWith(".raw")&&a!="tiff"){var p=new ip(S.E.H,!0);
p.data={R:S.m.K_,ud:"importraw",MR:q,k7:D.split("/").pop()};X.T(p);return}else if(a=="json"){var M="";
for(var N=0;N<m.length;N++)M+=String.fromCharCode(m[N]);M=decodeURIComponent(escape(M));var x=JSON.parse(M);
if(x.name&&x.url){x.resID=W.Kn;var p=new ip(S.E.H,!0);p.data={R:S.m.aKQ,_:x};X.T(p)}else{alert("Unknown JSON file opened. See the content in the console.",5e3);
console.log(x)}return}if(a=="html"){var M=Z._o(m,0,m.length),R=new DOMParser,y=R.parseFromString(M,"text/html"),s=y.getElementsByTagName("meta");
for(var N=0;N<s.length;N++){var F=s[N],E=F.getAttribute("property"),o=F.getAttribute("content"),G=null;
if(E=="og:image")G=o;if(E==null&&o&&o.startsWith("0;url=/imgres?")){var K=o.slice(14).split("&");for(var d=0;
d<K.length;d++)if(K[d].startsWith("imgurl"))G=decodeURIComponent(K[d].slice(7))}if(G==null)continue;
var p=new ip(S.E.H,!0);p.data={R:S.m.i3,rl:{url:G,a4Z:!0,m_:W.m_}};X.T(p)}return}if(lf.c_(a)){if(a=="pxz"){var u=UZIP.parse(q);
for(var r in u){if(r.endsWith(".woff")||r.endsWith(".ttf")||r.endsWith(".otf"))a$.kT({name:r},u[r].buffer,X)}}var v,c,V=lf.c_(a);
if(W.m_!=null&&"jpg png gif pdf svg ai psd".split(" ").indexOf(a)!=-1){var p=new ip(S.E.H,!0);if(0<=W.m_)p.data={R:S.m.j1,target:W.m_,XK:W.S8,LV:q,as:U};
else{p=new ip(S.E.O,!0);p.data={R:b.dy,data:new Uint8Array(q),k7:U+"."+a};p.J=_.b9}X.T(p);return}var j=[U,V,a,W,X,k,q];
if(V.MM){v=new ey("");V.Vp(q,v,a$.im,j)}else{c=V.Vp(q,null,a$.im,j,X);if(c==null)return}if(V.Zr!=!0)a$.im(v,c,j);
else X.ys();return}var Q=new ip(S.E.H,!0);Q.data={R:S.m.RO,MR:q,em:W.name};var H=W instanceof File&&W.asm!=!0,p=new ip(S.E.H,!0);
p.data={R:S.m.Dt,m8:"add",rl:null,ij:null,aeD:W.asm};if(a=="zip"){var T=Date.now(),u=UZIP.parse(q),e="xml rels plist iwa db ds_store txt rtf".split(" ");
for(var r in u){var z=!1;for(var N=0;N<e.length;N++)if(r.toLowerCase().endsWith("."+e[N]))z=!0;if(r.startsWith("__MACOSX/")||u[r].length==0)z=!0;
if(z)continue;var J=r.split("/").pop();a$.kT({name:J},u[r].buffer,X,k,!0)}}else if(a=="jsx"||D&&D.toLowerCase().endsWith(".jsx")){if(H)X.T(Q);
var M=Z._o(new Uint8Array(q));p.data={R:S.m.qS,eg:M};X.T(p)}else if(a=="otf"){if(H)X.T(Q);var P=Typr.parse(q);
p.data.rl=aI.Il;for(var N=0;N<P.length;N++){p.data.ij=P[N];X.T(p)}}else if(a=="asl"){if(H)X.T(Q);var P=ae.WZ(q,D);
p.data.rl=aI.dE;p.data.ij=P.B3;X.T(p);p.data.rl=aI.d9;p.data.ij=P.T_;X.T(p)}else if(a=="tpl"){if(H)X.T(Q);
var P=jK.WZ(q);p.data.rl=aI.AC;p.data.ij={n5:P.n5,OJ:P.OJ,list:[]};X.T(p);if(P.agp.length!=0){p.data.rl=aI.EV;
p.data.ij=P.agp;X.T(p)}if(P.T_.length!=0){p.data.rl=aI.d9;p.data.ij=P.T_;X.T(p)}p.data.rl=aI.ai;p.data.ij=P.list;
X.T(p)}else{var L="";for(var A in aI.OO)if(aI.OO[A][0]==a)L=A;if(L!=""){if(H&&!aI.bc[L])X.T(Q);p.data.ij=aI.OO[L][2].WZ(q,D);
p.data.rl=L;X.T(p)}else if(q.byteLength==0)alert("Empty file (0 Bytes)");else{var h=lf.pP(q),C;if(h==null)h=D.split(".").pop().split("?")[0];
var w="eot fntdata csv py txt js json html htm css scss mp3".split(" ");if(w.indexOf(h)!=-1)C=h+" | ...";
else C=h+" | "+new Uint8Array(q).slice(0,4).join(",");if(h.length<=10&&B!=!0)gv.event("ufmt_"+C);alert("Unknown file format: "+JSON.stringify(a))}}};
a$.im=function(W,q,X){var k=X[0],B=X[1],U=X[2],l=X[3],K=X[4],D=X[5],m=X[6];if(B.Zr)K.Jg();if(!B.MM){if(q.length==0)return;
if(q[0].t33421||q[0].t50706){g.raw.normalize(q[0],m);console.log(q[0]);var Y=new ip(S.E.H,!0);Y.data={R:S.m.K_,ud:"rawpea",S0:q[0]};
K.T(Y);return}if(D){D(new Uint8Array(q[0].data),q[0].oq);return}W=lf.kB(k,q)}var a=cC==0?"psd":"ai";
if(cC==0&&lf.iP.indexOf(U)!=-1)a=U;W.name=k+"."+a;W.Kn=l.Kn;W.I7=U;W.m8=l.m8;W.G5=l.url;W.g0=l.g0;W.Oi=l.Oi;
W.oI=l.oI;W.jQ=l.jQ;if(l.oI&&l.oI.name.endsWith(".psdt"))W.oI=null;if(W.Oi)W.Oi.b5=U;if(W.U.length!=0){var Y=new ip(S.E.H,!0);
Y.data={R:l.m_==null?S.m.Zk:S.m.j1,target:l.m_,XK:l.S8,LV:W};K.T(Y)}};function eF(W,q){gH.call(this);
this.uC=eF.uC++;this.m5=W;this.arE=this.aq8.bind(this);this.ay0=this.aI4.bind(this);this.a7l=this.wt.bind(this);
this.ah8=q;this.ayX=this.a31.bind(this);this.a7r=this.alY.bind(this);this.akS=this.aca.bind(this);this._r=0;
this.aDu=0;this.azK=0;this.K=I.a("div","panelblock");this.O0=I.a("div","block");this.BJ=I.a("div","collapsed");
this.K.appendChild(this.O0);this.xr=-1;this.fq=!0;this.kF=I.a("div","panelhead");this.O0.appendChild(this.kF);
this.Ie(this.kF);this.ajK=new iC("\u2261");I.w(this.ajK.K,"position:absolute; right:4px;");this.ajK.Q("click",this.ayG,this);
this.Mh=I.a("div","body");this.O0.appendChild(this.Mh);this.Bv=[];this.A5=null;this.Iw=null}eF.uC=0;
eF.prototype=new gH;eF.P4=26.1;eF.prototype.ayG=function(W){var q=this.Bv[this.xr].So(),X=W.currentTarget.K.getBoundingClientRect();
q.l();q.update();q.parent=this;var k=new ip(S.E.H,!0);k.data={R:S.m.k8,ii:q,x:X.left,y:X.top+X.height+2};
this.T(k)};eF.prototype.JC=function(W){var q=this.O0,X=this.kF,k=this.Mh;if(I.rL(X))q.removeChild(X);
if(I.rL(k))q.removeChild(k);if(W==0)q.appendChild(X);q.appendChild(k);this.azK=W};eF.hk=function(W){W.stopPropagation();
W.preventDefault()};eF.prototype.aq8=function(W){var q=W.dataTransfer.types;if(q[1]!=null&&q[1]!=this.uC+"")return;
eF.hk(W);var a1=W.currentTarget;if(W.target==a1)I.Wx(a1,"highlight")};eF.prototype.aI4=function(W){eF.hk(W);
var a1=W.currentTarget;if(W.target==a1)I.gI(a1,"highlight")};eF.prototype.Ie=function(W){W.addEventListener("dragenter",this.arE,!1);
W.addEventListener("dragleave",this.ay0,!1);W.addEventListener("dragover",eF.hk,!1);W.addEventListener("drop",this.a7l,!1);
W.addEventListener("dragstart",function(q){q.dataTransfer.setData("Text","--panel");q.dataTransfer.setData(this.uC+"","")}.bind(this),!1)};
eF.prototype.wt=function(W){this.ay0(W);var q=null,a1=W.currentTarget,X=this.ajw(a1);if(a1==this.Mh&&this.xr!=-1)q=this.xr;
else if(a1==this.kF)q=null;else if(X!=-1)q=X;var k=W.dataTransfer.getData("Text");if(k==""||k.startsWith("http")||k.startsWith("data:image/"))I.C8(W,this,q);
else if(k=="--panel"){var B=I.IO(W,a1),U=this.Bv,l=U.slice(0),N=this.xr,K=X==-1?U.length:B.x<a1.getBoundingClientRect().width/2?X:X+1;
if(N==K||N+1==K||a1==this.Mh)return;var D=N<K?K-1:K,m=U[N];U.splice(N,1);U.splice(D,0,m);I.ru(this.kF);
for(var Y=0;Y<U.length;Y++)this.kF.appendChild(U[Y].$o);this.Cu(D);var a=[];for(var N=0;N<U.length;N++)a[N]=l.indexOf(U[N]);
var p=new ip("shuffleItems",!1);p.data={aE3:a};this.T(p)}else if(q!=null&&this instanceof hb){var p=new ip(S.E.H,!0);
p.data={R:S.m.a7x,azx:q};this.T(p)}};eF.prototype.zr=function(){return null};eF.prototype.aat=function(){if(this.zr()){this.kF.style.padding="0px";
this.Iw=this.zr();this.Mh.appendChild(this.Iw);this.Z0.Si(!1);var W=new ip(S.E.H,!0);W.data={R:S.m.O3,_:1};
this.T(W)}};eF.prototype.aC4=function(){if(this.Iw){this.kF.style.padding="";this.Mh.removeChild(this.Iw);
this.Iw=null;this.Z0.Si(!0);var W=new ip(S.E.H,!0);W.data={R:S.m.O3,_:0};this.T(W)}};eF.prototype.ajw=function(W){var q=this.Bv;
for(var N=0;N<q.length;N++)if(q[N].$o==W)return N;return-1};eF.prototype.$$=function(){for(var N=0;N<this.Bv.length;
N++)this.Bv[N].$G.Uq()};eF.prototype.vg=function(){return this.xr};eF.prototype.F_=function(){if(this.fq)return;
this.fq=!0;this.K.removeChild(this.BJ);this.K.appendChild(this.O0)};eF.prototype.collapse=function(){if(!this.fq)return;
this.fq=!1;this.K.appendChild(this.BJ);this.K.removeChild(this.O0)};eF.prototype.P4=function(){var W=0;
if(this.azK==0){W=this.kF.getBoundingClientRect().height+1;W=Math.max(W,eF.P4)}return W};eF.prototype.aaw=function(){return this.P4()+this.Mh.getBoundingClientRect().height};
eF.prototype.qL=function(W,q,X){this.kF.style.maxWidth=W+"px";var k=this.P4();if(this.xr!=-1)this.Bv[this.xr].qL(W,q-k,X);
return q-k};eF.prototype.QL=function(W,q){if(this.xr!=-1)this.Bv[this.xr].QL(W,q)};eF.prototype.V9=function(W,q,X){this.Bv[this.xr].V9(W,q,X)};
eF.prototype.IQ=function(W){this.aC4();if(this.Bv.indexOf(W)!=-1){this.Cu(this.Bv.indexOf(W));return}W.parent=this;
this.Bv.push(W);this.kF.appendChild(W.$o);W.$o.addEventListener("mouseover",this.ayX,!1);this.Ie(W.$o);
this.BJ.appendChild(W.$G.K);W.$G.Q("click",this.aKb,this);W.Q("select",this.ae7,this);W.Q(S.E.V_,this.acN,this);
this.Cu(this.Bv.length-1)};eF.prototype.a31=function(W){if(W.buttons==0)return;var q=W.currentTarget,X=q,N=0;
while((X=X.previousSibling)!=null)N++;this.aDu=N;q.addEventListener("mouseout",this.a7r,!1);this._r=setTimeout(this.akS,700)};
eF.prototype.alY=function(W){var q=W.currentTarget,X=q,N=0;while((X=X.previousSibling)!=null)N++;q.removeEventListener("mouseout",this.a7r);
clearTimeout(this._r)};eF.prototype.aca=function(W){this.T(new ip(S.E.amb,!1))};eF.prototype.acB=function(W){return this.aDu};
eF.prototype.DD=function(N){var W=new ip(S.E.V_,!1);W.data={v8:N};this.T(W);var q=this.Bv[N];this.Bv.splice(N,1);
this.kF.removeChild(q.$o);this.BJ.removeChild(q.$G.K);q.$o.className="";q.$G.removeEventListener("click",this.aKb,this);
q.$G.Uq();q.removeEventListener("activate",this.ae7);q.removeEventListener(S.E.V_,this.acN);var X=this.xr;
if(N<X)X--;else if(N==X&&N==this.Bv.length)X--;if(this.fq)this.Cu(X);if(this.Bv.length==0)this.aat()};
eF.prototype.aiR=function(){return this.Bv.length};eF.prototype.FB=function(){if(this.Bv.length!=0)this.Bv[this.xr].FB()};
eF.prototype.Cu=function(W,q){if(q==null)q=!0;for(var N=0;N<this.Bv.length;N++)this.Bv[N].$o.className="";
if(this.A5)this.Mh.removeChild(this.A5);this.A5=null;this.xr=W;if(W==-1)return;var X=this.Bv[this.xr];
this.A5=X.nJ;this.Mh.appendChild(X.nJ);X.$o.className="active";if(!this.fq){this.T(new ip("showFloat"));
this.Bv[W].$G.ju()}if(q)this.T(new ip(S.E.k,!1));X.Ql();var k=this.ajK.K;if(k.parentNode)this.kF.removeChild(k);
if(X.So())this.kF.appendChild(k);var B=new ip(S.E.H,!0);B.data={R:S.m.xT};this.T(B)};eF.prototype.ae7=function(W){if(this.m5&&!this.m5.a7i())return;
var N=this.Bv.indexOf(W.currentTarget);this.Cu(N)};eF.prototype.acN=function(W){var q=this.Bv.indexOf(W.currentTarget);
if(W.data!=null){for(var N=this.Bv.length-1;N>=0;N--){var X=this.Bv[N];if(W.data==1&&N==q)continue;X.FB()}return}if(this.m5&&!this.m5.a7i())return;
this.DD(q)};eF.prototype.aKb=function(W){var q=this.Bv.indexOf(W.currentTarget.parent);if(this.Bv[q].$G.Vg())this.T(new ip("hideFloat"));
else this.Cu(q)};eF.prototype.a1s=function(W){this.T(W)};function hb(W){eF.call(this,W);this.Ah=0;this.QB=0;
I.DA(this.kF,this.a5P.bind(this));this.JF=0;this.T8=-2;this.aHz=this.ari.bind(this);this.Ie(this.Mh);
this.Kd=["default;"];this.Z0=new I.rw(this.Mh);this.vl=new hf(!0);this.vl.parent=this;this.bp=this.vl.K;
hf.eC(this.vl)}hb.prototype=new eF;hb.prototype.a5P=function(W){if(W.target!=this.kF)return;var q=Date.now()-this.JF<300&&this.T8==-1;
this.JF=Date.now();this.T8=-1;if(!q)return;var X=new ip(S.E.H,!0);X.data={R:S.m.K_,ud:"newproject"};
this.T(X)};hb.prototype.Qh=function(W,q){if(q)this.Kd.push(W);else{var X=this.Kd.length-1;if(this.Kd[X]==W)return;
this.Kd[X]=W}this.RQ()};hb.prototype.auC=function(){this.Kd.pop();this.RQ()};hb.prototype.RQ=function(){var W=this.Kd[this.Kd.length-1];
this.Z0.V9(W,this.p2)};hb.prototype.QL=function(W,q){eF.prototype.QL.call(this,W,q);this.vl.QL(W,q);
if(!W.J7){}};hb.prototype.l=function(){eF.prototype.l.call(this);this.vl.l()};hb.prototype.V9=function(W,q){for(var N=0;
N<q.length;N++){var X=q[N];this.Bv[N].b1(X.name+(X.depth==8?"":" (RGB/"+X.depth+")")+(X.uV()?" *":""))}eF.prototype.V9.call(this,W,q)};
hb.prototype.zr=function(){return this.bp};hb.prototype.qL=function(W,q){if(this.Bv.length==0)q+=eF.P4-1;
this.Ah=W;this.QB=q;q=eF.prototype.qL.call(this,W,q);this.p2="height:"+q+"px; width:"+W+"px; overflow:hidden; position:relative;";
this.RQ();this.vl.qL(W,q)};hb.prototype.IQ=function(W){eF.prototype.IQ.call(this,W);W.$o.addEventListener("click",this.aHz,!1)};
hb.prototype.DD=function(N){var W=this.Bv[N];I.xB(W.$o,this.aHz);eF.prototype.DD.call(this,N)};hb.prototype.ari=function(W){var q=this.ajw(W.currentTarget),X=Date.now()-this.JF<300&&this.T8==q;
this.JF=Date.now();this.T8=q;if(!X)return;var k=this.Bv[q].LV.name,B=new ip(S.E.H,!0),U={s:S.E.O,J:_.b9,p:{R:b.ri}};
B.data={R:S.m.K_,ud:"namewindow",bG:k.slice(0,k.length-4),Ii:U};this.T(B)};function aF(W){gH.call(this);
if(W)return;it.awO(1);this.K=I.a("div","flexrow app");this.wa=I.a("div");this.K.appendChild(this.wa);
setTimeout(function(){var X=window.hideCap;if(X)X()},25e3);this.WV=new bu;window.addEventListener("blur",function(X){this.WV.reset()}.bind(this),!1);
window.addEventListener("resize",this.t4.bind(this),!1);var q=this.wa;this.YZ=new kI;this.YZ.parent=this;
q.appendChild(this.YZ.K);this.kw=new g9;this.kw.parent=this;q.appendChild(this.kw.K);this.GO=new fZ(!0);
this.GO.parent=this;q.appendChild(this.GO.K);this.Q(S.E.H,this.ze,this);this.ZJ=this.$R.bind(this);window.requestAnimationFrame(this.ZJ)}aF.prototype=new gH;
aF.prototype.$R=function(W){this.r3();window.requestAnimationFrame(this.ZJ)};aF.prototype.l=function(){};
aF.prototype.t4=function(W){var q=window.innerWidth,X=window.innerHeight;this.qL(q,X)};aF.prototype.qL=function(W,q){this.kw.qL(W,q);
this.YZ.qL(W,q)};aF.prototype.ze=function(W){var q=W.data.R;if(q==S.m.k8)this.kw.amj(W.data);if(q==S.m.bD)this.kw.ajF(W.data);
if(q==S.m.dW)this.kw.aKW(W.data.RU);if(q==S.m.xA)this.kw.a2k(W.data.RU);if(q==S.m.Je)this.kw.u8()};function g6(){aF.call(this);
this.EM={x:0,y:0,Vj:!1};this.O9=!1;this.zn=!1;this.aEk=null;this.awc=0;this.a0G=!1;this.qY=0;document.body.style.overscrollBehavior="contain";
window.onmessage=function(p){if(Storage.ab4(p.source))return;if(p.data instanceof ArrayBuffer){var M=lf.pP(p.data),x=lf.c_(M);
ch.kT({url:"file"},p.data,this);if(x==null)this.ZY()}else if(p.data instanceof Object||p.data.startsWith("{")||p.data.startsWith("amp-")||p.data.startsWith("0=goog")||p.data.startsWith("3PCoo")||p.data.startsWith("ima://")){}else if(p.data.startsWith("--ur ")){var R=p.data.split(" ").pop();
R=R.length==0?[]:R.split(",");var y=new ip(S.E.H,!0);y.data={R:S.m.Dt,rl:aI.aO,O4:R};this.T(y)}else if(p.data.startsWith("--ot ")){if(this.YZ.Ao())this.YZ.Ao().close();
this.$K.XJ(p.data.split(" ").pop())}else if(p.data.startsWith("--et ")){}else{var y=new ip(S.E.H,!0);
y.data={R:S.m.qS,eg:p.data};this.T(y);this.ZY()}}.bind(this);window.onbeforeunload=function(p){this.a2C();
for(var N=0;N<this.Bx.length;N++)if(this.Bx[N].uV()){return this.Bx[N].name}}.bind(this);if(!bB.ue())window.setInterval(this.av8.bind(this),5*60*1e3);
var W=this;if(window.indexedDB){var q={Td:window.indexedDB.open("pp",1)};q.Td.onupgradeneeded=function(p){var M=p.target.result,x=M.createObjectStore("rsrc",{keyPath:"k"})};
q.Td.onsuccess=function(p){var M=W.e.Js.gk=p.target.result,x=M.transaction(["rsrc"],"readwrite").objectStore("rsrc"),R=x.get("fs0");
R.onsuccess=function(p){if(p.target.result){var F=W.e.Js.D9=p.target.result.fset;for(var E in F){if(!E.endsWith(".jsx")&&!E.endsWith(".p"+"sd"))ch.kT({url:E,asm:!0},F[E],W);
var o=E.split(".").pop(),G="";for(var d in aI.OO)if(aI.OO[d][0]==o)G=d;if(aI.bc[G]&&!E.startsWith("_all_"))delete F[E]}}};
var y=new BroadcastChannel("pp-tabs"),s=[];y.onmessage=function(p){if(p.data=="id")y.postMessage(W.e.Js.id);
else s.push(p.data)};y.postMessage("id");setTimeout(function(){var x=M.transaction(["rsrc"],"readwrite").objectStore("rsrc"),F=x.getAllKeys();
F.onsuccess=function(){var E=F.result,o=[],G=0;for(var N=0;N<E.length;N++){if(E[N]=="fs0")continue;if(s.indexOf(E[N])!=-1)continue;
o.push(E[N])}for(var N=0;N<o.length;N++){var R=x.get(o[N]);R.onsuccess=function(p){if(p.target.result){var d=p.target.result.fset;
for(var u in d){try{ch.kT({url:u,asm:!0},d[u],W);var r=W.jz();r.o5=r.a3X=-1}catch(p){console.log(p)}}G++;
if(G==o.length)for(var N=0;N<o.length;N++){var R=x.delete(o[N])}}}}}},200)}}var X="rwx~#.-(;.]6EF rx'|#1,6><@87f?NO \"|'/-&(0><BBDEEMGrVPb w$,*1)379;<<D>iQW \"|'/-4,6:<>??GAlTZ \"|'/-1)(W?E !#$$,&P72<DBIAKOoTZR %%!-~-&,>AI`HN vx!/-3QV66;`HN \"|'/-M)+3A]BDEEMG *#DGUP%(+48>Kk>FHHVXXW(Z(un03y=p{ *#DGUP%:/5457:=IuF_$Q~le'*p4gr x$')61Q9? x$')61Q6899A;".split(" "),k=I.TD[ia.ge][ia.aop];
if(k==null)k=[I.TD[ia.Ks][ia.JK]];for(var B=0;B<k.length;B++){var U=k[B];for(var N=0;N<X.length;N++){var l=I.jC(X[N]);
if(U.indexOf(l)!=-1){var K=I.TD[ia.Ks][ia.Mh],D=ia.wl("+TyeVTVF<pR1:444X3!~'tGkgfkdlfi_R%JQCBGs<B>AV:-;#TIBEsx*CVqux}xreyztGc]Pdea1NH;OPL|93&:;81$}p%&\"Qnh[oplgYSFZ[XTD>1EFBE/){01.)ysfz{wvgw;Hamh+F,3#!T6@=# |0odhjb`RKtGPK\\WI3A3.:_A{{#t~x,E{xu)H]ac[YKDm@IDo_/hcS*OYl}w/{!thr|i]seVT[dUHP>UF8<?3(@% ,4r.Gi%jqa_3t~{a^[nNCGIA?1*S&/*Hw$y<kjgpsilhtSU\\ZUI?OKCCALeh+20+~t%!xx#a`]fi_b'vF l");
I.ru(K);K[ia.aIW]=D;return}}}this.Z=g6.adI();this.e={Z:this.Z,a8u:!1,bt:null,pu:0,cY:{OJ:[],n5:[],list:[],wC:null},KB:[],adx:[],xF:[],bS:[],vy:[],Ix:[],ala:[],ap2:[],vy:[],mh:[jz.wy()],sg:[],uX:[],Zj:null,Bq:0,gl:1-cC,Hr:kE.Hr.wy(),art:kE.Hr.wy(),gh:{O5:1,bE:g.N(kE.EY[0])},Jm:kE.Cs.wy(),att:[null].concat(kE.EY),a6x:[null].concat(kE.EY),yK:new cY(function(p){var M=new ip(S.E.H,!0);
M.data={R:S.m.i3,rl:{url:gv.yh("rsrc/fonts/"+p)}};this.T(M)}.bind(this)),Xz:{MD:[],n6:null,D8:null},font:null,Az:[],ij:[],ajZ:{},w5:0,yY:16777215,RS:!1,$O:!0,bm:{UZ:!0,cM:!1,xx:!0,RM:!0,qF:!0,Ev:!0,hY:20,y4:0,Kt:0,$m:0,vA:0,nI:8421504,Dh:65535,ou:33023},hN:!0,l3:[!0,!0,!1,!0,!0],v3:dE.ES(),FG:1,Su:!0,Mi:{},J7:!0,aAx:!1,compact:!1,axp:1,vL:0,bp:!0,XT:{},dR:null,Js:{id:"ts"+Math.round(Math.random()*16777215),aJx:!1,ai$:!1,D9:{},WX:{},gk:null},aah:0,avj:null,PW:null,ai7:null,i6:null};
cY.Rr.Fs(this);this.aak={OM:new dU,HZ:new hw};this.e.Xz=gZ.aut();this.Vq=new hd;this.vC=new iB;this.nP=new bJ;
this.cw=new jy(this.Z,!0);this.cl=new jk;this.N8=new hb(this);this.SI=I.a("div");this.K1=!1;this.aEe=this.apu.bind(this);
I.Wx(this.N8.K,"mainblock");this.GO.parent=this.Vq.parent=this.vC.parent=this.cw.parent=this.cl.parent=this.N8.parent=this;
this.N8.Q(S.E.k,this.lP,this);this.N8.Q(S.E.V_,this.a6T,this);this.N8.Q("shuffleItems",this.a1q,this);
this.N8.Q(S.E.amb,this.aua,this);this.Q("mouse",this.a2i,this);this.Q(S.E.O,this.s4,this);this.Q(S.E.dq,this.aey,this);
document.body.addEventListener("keydown",this.oW.bind(this),!1);window.addEventListener("keyup",this.It.bind(this),!1);
window.addEventListener("paste",this.aA9.bind(this),!1);window.addEventListener("copy",this.a6F.bind(this),!1);
window.addEventListener("wheel",function(p){if(p.ctrlKey)p.preventDefault()},{passive:!1});window.addEventListener("beforeinstallprompt",function(p){if(window.innerWidth>400)p.preventDefault();
this.e.dR=p}.bind(this));this.aIK=0;this.Bx=[];this.$K=new ch(a$.kT);this.$K.parent=this;var m=this.wa,Y=this.Pc=I.a("div");
Y.appendChild(this.Vq.K);Y.appendChild(this.vC.K);this.GO.a90(Y);var a=this.a7P=I.a("div","flexrow");
m.appendChild(a);a.appendChild(this.cw.K);a.appendChild(this.N8.K);a.appendChild(this.cl.K);this.$K.xH({url:gv.MG("rsrc/basic/basic.zip")});
this.lI(_.zl);gv.Fs(this.an3.bind(this));if(this.yV())return;if(cC==0){gv.event("web_PPea",.01);var U=I.TD[ia.Ks][ia.JK];
if(U=="")U="di"+"rect";U=U.split("//").pop();if(U.startsWith("w"+"ww."))U=U.slice(4);if(U.endsWith("/"))U=U.slice(0,-1);
if(U.startsWith("go"+"ogle."))U="go"+"ogle.com";if(U.startsWith("baidu.com"))U="baidu.com";if(U.startsWith("photopea.com/templates"))U="photopea.com/templates";
if(U.startsWith("photopea.com/tuts"))U="photopea.com/tuts";if(U.endsWith("search.yahoo.com"))U="search.yahoo.com";
if(U.endsWith("gradio.live"))U="gradio.live";if(U.endsWith("proxy.ru"))U="proxy.ru";if(U.length>28&&U.indexOf("/")!=-1)U=U.split("/")[0];
if(U.length>28)U=U.split(".").slice(1).join(".");if(U.length>28)U=U.split(".").slice(1).join(".");if(U.length>28)U=U.slice(U.length-28);
if(bB.ue()){gv.event("i"+"fr_"+U,.01,1)}else gv.event("r"+"ef_"+U,.01,1)}if(cC==1)fetch("//www.photopea.com/papi/event.php?id=web_VPea")}g6.prototype=new aF(!0);
g6.prototype.ZY=function(W){var q=new ip(S.E.H);q.data={R:S.m.dG,rl:W?W:"done"};this.T(q)};g6.prototype.av8=function(){var W=this.e.Js,X=!1;
if(W.gk==null)return;var q=this.Bx;for(var N=0;N<q.length;N++){var k=q[N];if(k.a3X!=k.Wb){var B=Date.now(),U=lf.Xi(k,"psd",0,0,[!0,!1,!0,!1,!0]);
k.a3X=k.Wb;W.WX[k.name]=U;X=!0;console.log(Date.now()-B,"saving "+k.name,U.byteLength)}}if(X){var l=new ip(S.E.H);
l.data={R:S.m.Dt,rl:aI.Mw,ah_:!0};this.T(l)}};g6.prototype.an3=function(){I.TD[ia.Ig](this.akp.bind(this),Math.pow(Math.PI,8)+I.TD[ia.a87][ia.a33]()*1e4);
var W=gv.Ol();if(W!=null&&W.globals!=null)this.AP(W.globals);else{this.a0G=!0;var q=js.a3J();if(q&&q.length!=0){var X=q[0];
js.acx(X,this.aEe)}}if(!this.yV()){var k=I.aDg();if(k==0)this.aAx=!0;if(k==2)this.e.J7=!1;if(k!=1&&Math.random()<.002)I.ara()}if(!bB.ue()||!this.e.J7){this.aIe();
this.r4()}else{var B=I.NN(I.TD[ia.Yy]);B[ia.tV](ia.iJ,this.a2u.bind(this));var U=I.wl("_MYOqDLGJa;A:6");
if(cC!=0)U=ia.jC("@C/25N4/9A?C;:iBQRv")+U;B[ia.by](I.wl("61="),U);B[ia.xc]()}this.O9=!0;this.ZY();var l=new ip(S.E.H);
l.data={R:S.m.K_,ud:"peamark",me:4,index:[10,0]}};g6.prototype.a2u=function(W){var q=JSON.parse(W.target[ia.$D]),X=I.TD[ia.awh][ia.aFk]()/1e3,k=I.TD[ia.Ks][ia.JK],B=!1;
for(var U in q)if(U.indexOf(".")!=-1&&k.indexOf(U)!=-1&&parseInt(q[U])>X)B=!0;if(B)this.e.J7=!1;this.aIe();
this.r4();if(k==""){if(this.e.J7){alert(ia.wl("S[L[PEKNdF640:7'1;\")2tyyz|"))}}};g6.prototype.r4=function(W){this.zn=!0;
if(!this.e.bp)this.N8.bp=null;else if(this.Bx.length==0)this.N8.aat();this.IW(aI.NC);this.l();this.t4();
this.cl.V9(this.jz(),this.Bx,this.e)};g6.prototype.AP=function(W){var q=this.e;if(W.fc!=null){q.w5=W.fc;
var X=q.Xz.n6.FillColor;if(X){var k=g.gC(q.w5);X.Values=[1,k.o/255,k.L/255,k.X/255]}}if(W.bc!=null)q.yY=W.bc;
if(W.ru!=null)q.RS=W.ru==1;if(W.ex!=null)q.$O=W.ex==1;if(W.favFam!=null)q.Az=W.favFam;if(W.ff!=null)q.Az=W.ff.split(",");
if(W.rsrc!=null)q.ij=W.rsrc;if(W.rs!=null)q.ij=W.rs.split(",");if(W.fo!=null)q.Xz.MD[0].Name=W.fo;if(W.panels!=null)q.v3=W.panels;
if(W.pd!=null)q.v3=dE.aJF(W.pd);if(W.as!=null)q.axp=W.as;if(W.co!=null){q.vL=W.co;if(q.vL!=0)alert("Edit > Preferences > Cursor Offset is not Zero.",2500)}var B=W.ep?W.ep:W.eparams;
if(B){var U=q.bm;if(B.guides!=null)U.UZ=B.guides;if(B.grid!=null)U.cM=B.grid;if(B.gsize!=null)U.hY=B.gsize;
if(B.gunits!=null)U.Kt=B.gunits;if(B.gtype!=null)U.$m=B.gtype;if(B.runits!=null)U.vA=B.runits;if(B.gcol!=null)U.nI=B.gcol;
if(B.gucol!=null)U.Dh=B.gucol;if(B.glcol!=null)U.ou=B.glcol;if(B.sels!=null)U.xx=B.sels;if(B.paths!=null)U.RM=B.paths;
if(B.pgrid!=null)U.qF=B.pgrid;if(B.slices!=null)U.Ev=B.slices;if(B.gc!=null)U.nI=B.gc;if(B.uc!=null)U.Dh=B.uc;
if(B.lc!=null)U.ou=B.lc;if(B.gs!=null)U.hY=B.gs;if(B.gv!=null)U.y4=B.gv;if(B.gu!=null)U.Kt=B.gu;if(B.gt!=null)U.$m=B.gt;
if(B.ru!=null)U.vA=B.ru;if(B.gr!=null)U.cM=B.gr==1;if(B.gd!=null)U.UZ=B.gd==1;if(B.se!=null)U.xx=B.se==1;
if(B.pa!=null)U.RM=B.pa==1;if(B.pg!=null)U.qF=B.pg==1;if(B.sl!=null)U.Ev=B.sl==1}if(W.lang!=null)js.acx(W.lang,this.aEe);
if(W.theme!=null)q.FG=W.theme;if(W.to){var l=W.to;for(var N=0;N<l.length;N+=2){var K=this.Z.map[l[N]];
if(K)K.J.Ll(l[N+1],null,this)}}if(W.topt||q.aaU){var D=W.topt?W.topt:{},m=q.aaU?q.aaU:{};for(var Y in this.Z.map){if(Y>=103)continue;
var a="t"+Y;if(D[a]||m[a])this.Z.map[Y].J.Ll(D[a],m[a],this)}}};g6.prototype.aIe=function(){if(this.e.a8u)return;
this.e.a8u=!0;var W=null,q=window.location.href,X=q.indexOf("="),k=q.indexOf("#");if(X!=-1)W=q.substring(q.indexOf("?")+1,X);
if(k!=-1&&k!=q.length-1){W="p";X=k}if(k!=-1&&q[k+1]=="i"){this.$K.XJ(q.slice(k+2,k+10))}else if(q.slice(k+1).startsWith("audit")){}else if(q.slice(k+1).startsWith("goog_rewarded")){}else if(k!=-1&&q[k+1]=="t"){this.$K.XJ(q.slice(k+2,k+10).split("").reverse().join(""))}else if(W=="p"||W=="state"){var B=q.substring(X+1,q.length);
B=JSON.parse(decodeURIComponent(B));if(W=="p"){var U=B.apis,l=this.e;if(U){if(U.rmbg)l.XT.ap0=U.rmbg;
if(U.dezgo)l.XT.ah9=U.dezgo}if(B.script=="alert(73)")this.e.J7=!1;if(B.script)cm.aBF(this);if(B.server)this.aEk=B.server;
if(B.resources)for(var N=0;N<B.resources.length;N++)this.$K.xH({url:B.resources[N]});if(B.files)for(var N=0;
N<B.files.length;N++)this.$K.xH({url:B.files[N],m8:{DK:B.server,atp:B.script}});var K=B.environment;
if(K==null)K={};if(K.plugins!=null)this.cl.anB(K.plugins);if(K.localsave!=null)this.e.Su=K.localsave;
if(K.customIO!=null)this.e.Mi=K.customIO;if(K.vmode!=null){var D=K.vmode;if(D==1)this.e.compact=!0;if(D==2)this.aDP=!0}if(K.intro!=null&&!this.e.J7)this.e.bp=K.intro;
if(K.menus!=null)this.e.aes=K.menus;if(K.tmnu!=null)this.e.aaU=K.tmnu;if(K.panels!=null)this.e.v3=K.panels;
if(K.showtools!=null){var m=K.showtools,Y=m.indexOf(this.e.bt);this.e.bw=m;if(Y==-1)this.lI(m[0])}if(K.phrases!=null)js.acY(K.phrases);
if(K.autosave!=null){this.e.axp=0;window.setInterval(function(){var M=new ip(S.E.H);M.data={R:S.m.lS};
this.T(M)}.bind(this),K.autosave*1e3)}if(K.icons!=null){for(var a in K.icons)if(K.icons[a].indexOf("\"")==-1){if((a==ia.a38||a==ia.a77)&&this.e.J7)continue;
PIMG[a]=K.icons[a];PIMG["__"+a]=!0}}this.AP(K);if(B.files==null&&B.script){bT.KR(B.script,this);this.ZY()}}else if(W=="state"){var p=this.$K;
if(B.action=="create"){var M=new ip(S.E.H);M.data={R:S.m.K_,ud:"newproject",a7B:B.folderId};this.T(M)}if(B.action=="open"){for(var N=0;
N<B.ids.length;N++)cO.bo(function(){var R="https://www.googleapis.com/drive/v3/files/"+this.a6O,y=new XMLHttpRequest;
y.open("GET",R);y.setRequestHeader("Authorization",cO.aug());y.send();y.onload=function(s){var F=JSON.parse(s.target.response);
p.xH({url:R+"?alt=media",name:F.name,Oi:{file:F,b5:""},aKG:{Authorization:cO.aug()}})}}.bind({a6O:B.ids[N]}));
alert("Loading files from Google Drive ...")}}}else{var x=window.launchQueue;if(x){var p=this.$K;x.setConsumer(function(R){var y=R.files,s=[];
for(var N=0;N<y.length;N++){var F=y[N];F.getFile().then(function(E){s.push(E);if(s.length==y.length)p.JH(s,null,null,null,y)})}})}}};
g6.prototype.l=function(){var W=null;if(W){var q=!1,X=W.getElementsByTagName("h1")[0],U=0,K=0,D=0;X.textContent="Free Online Photo Editor";
var k=W.getElementsByTagName("p"),B="Photopea: "+I.mr(js.get([0,17,1])),l=["PSD","AI","PDF","SVG","CDR"];
for(var N=0;N<l.length;N++)B=B.replace(l[N],"<b>"+l[N]+"</b>");if(!q)B+=" (<b>Adobe Photoshop</b>, <b>Adobe Illustrator</b>, <b>PDF</b>,  <b>SVG</b>, <b>CorelDRAW</b>).";
k[0].innerHTML=B;B=js.get([0,17,2])+" "+js.get([0,17,3]);for(var N=0;N<B.length;N++){var m=B[N];if(m=="<")K++;
if(m==">")D++}if(!q&&K*D==9){var Y=["//github.com/photopea/"+["photo","vector"][cC]+"pea/issues","//www.facebook.com/photopea/","//blog.photopea.com/introduction.html"];
for(var N=0;N<3;N++){var a=B.indexOf("<",U),p=B.indexOf(">",U),M=B.slice(0,a)+"<a href=\""+Y[N]+"\" target=\"_blank\">"+B.slice(a+1,p)+"</a>";
U=M.length;B=M+B.slice(p+1)}k[1].innerHTML=B}else k[1].innerHTML=js.get([0,17,2])}this.GO.l();this.Vq.l();
this.nP.l();this.cl.l();this.cw.l();this.YZ.l();this.N8.l();for(var x in this.Z.map)if(this.Z.map[x].sr)this.Z.map[x].sr.l()};
g6.prototype.yV=function(){if(bB.Zn())return!0;return 4<I.TD[ia.ge][ia.rB][ia.aif](ia.wl("'$!|"))};g6.prototype.qL=function(W,q){W=Math.floor(W);
q=Math.floor(q);var X=window.visualViewport,s=0;if(W>q&&X){var k=X.width,B=X.height;if(W>q&&k<B){var U=k;
k=B;B=U}var l=q*(k/B);if(Math.abs(l-W)>100)W=l}var K=I.wl("WUMK&AM"),D=ia.FW,m=I.TD[ia.Ks],Y=Math.max(W,window.screen.width),a=Math.max(q,window.screen.height);
if(bB.a_==null){bB.a_=Math.min(Y,a)<500||Y<750?0:Y<1500?1:2}var p=bB.a_,M=!this.zn||this.yV()||!this.e.J7||gv.jj()||I.VO()==ia.wl("eQLZRRM?8a4=8");
if(!M&&bB.ue()){if(this.aC6==null)this.aC6=Math.random()<.5;M=this.aC6}if(M){if(p!=0&&I.TD[K]&&this.zn)I.TD[K]()}else{if(p==0)q-=84;
else W-=p==1?180:320}aF.prototype.qL.call(this,W,q);if(M&&this.K1){var x=p==0?m[ia.Mh]:this.K;x[ia.a3o](this.SI);
I.ru(this.SI);this.K1=!1}if(!M&&!this.K1){var R=function(o){I.TD[ia.Ig](function(){var G=new ip(S.E.H);
G.data={R:S.m.K_,ud:ia.wl("QZXZLFV")};if(cC==0&&bB.e1()&&!gv.jj())this.T(G)}.bind(this),14720+Math.random()*46351);
if(Math.random()<.002){if(cC==0&&bB.e1())gv.event("gota_0")}if(cC==0&&o)I.TD.___a=!0;this.ac7(W,q);var x=p==0?m[ia.Mh]:this.K;
x.appendChild(this.SI);this.SI[ia.vT](D,I.wl("_MMJLNDfKCAg")+(p==0?10:10)+I.wl("_d$ebOS?I:==Ba-+# }$M"));
this.SI[D][I.wl("_MMJLND&<:E")]=(p==0?0:19)+I.wl("_d");this.SI[D][I.wl("i5WJHX")]=p==0?0:1}.bind(this);
function y(){bB.aGb(R)}setTimeout(y,2800);this.K1=!0}if(I.rL(this.Vq.K))s+=31;if(I.rL(this.vC.K))s+=32;
this.GO.aDb=this.e.J7&&this.zn;this.GO.qL(W,s);var F=q-s,E=I.wl("_d");this.SI[D][ia.abi]=(p==0?100>>>1:q-11)+E;
this.SI[D][ia.anI]=(p==0?W:6*Math.pow(10,2))+E;if(I.rL(this.cw.K))this.cw.qL(W,F);this.cl.qL(W,F);this.N8.qL(W-this.cw.Uz()-this.cl.Uz(),F)};
g6.prototype.ac7=function(W,q){var X=function(){var k=new ip(S.E.H);k.data={R:S.m.K_,ud:"account"};this.T(k)}.bind(this);
bB.ahW(W,q,this.SI,X)};g6.prototype.a6F=function(W){console.log("systemCopy")};g6.prototype.aA9=function(W){if(I.p0())return;
console.log("systemPaste");if(!W.clipboardData)return;var q=W.target.tagName.toLowerCase(),X=W.clipboardData.items;
if(X==null)return;var k=this.asp.bind(this);for(var N=0;N<X.length;N++){var B=X[N],U=B.getAsFile();if(B.type.indexOf("image")!=-1){if(U.size==this.e.aah)return;
this.e.aah=U.size;if(U){U.name="image.png";this.$K.JH([U],k)}}}};g6.prototype.asp=function(W,q){var X={buffer:W,S:q},k=this.e;
if(I.p0()){var B=this.aak,U=B.OM;if(U.r==q.r&&U.$==q.$){X.S=U;X.HZ=B.HZ}}else{if(k.PW){var l=new ip(S.E.O,!0);
l.J=_.Yo;l.data={R:"h_stepbck"};this.T(l)}}k.PW=X;var l=new ip(S.E.H,!0);l.data={R:S.m.M5,az3:!0};this.T(l)};
g6.prototype.aDm=function(){if(this.YZ.Ao()!=null)alert(js.get([15,7,8]));else alert("Escape or Confirm the current action (in the top menu).")};
g6.prototype.s4=function(W){var q=this.jz();if(q==null){alert(js.get([15,7,7]));return}var X=W.J==_.gT||W.J==_.hm;
if(this.YZ.mf()&&W.wV!=!0&&!X){this.aDm();return}var k=this.Z,B=this.e.bt,U=W.J;if(U==_.W6&&B==_.Cq)U=_.Cq;
if(B!=U&&k.map[B].J.mf()&&!X&&!((B==_.Zw||B==_.BG||B==_.py)&&U==_.zF)){console.log("disabling",B);k.map[B].J.disable(q,this,this.e,this.WV)}var l=this.Z.map[U].J;
l.s4(W.data,this,q,this.WV,this.e)};g6.prototype.aey=function(W){var q=this.e;if(W.data.sy!=!0)j0.a01({yx:W.data.yx,Og:W.data.Og},this,q,this.jz());
var X=q.Zj,k=q.uX;if(X==null||W.data.aeU)return;var B={ata:!1,KP:"Step",agn:0,i:!0,exp:!1,yx:W.data.yx};
if(X[2]==null)X[2]=k[X[0]].eO[X[1]].eO.length-1;if(W.data.Og)B.Og=W.data.Og;k[X[0]].eO[X[1]].eO.splice(X[2]+1,0,B);
X[2]++;this.IW(aI.O)};g6.prototype.ze=function(W){if(this.aAx){W.data=0;return W.I}var q=W.data&&W.data.R==S.m.K_&&W.data.ud==ia.arM,X=W.data&&(W.data.R==S.m.k8||W.data.R==S.m._S);
if(I.TD.__csrf&&!gv.jj()&&!q&&!X){var k=ia.wl("?XNGVEhYC9EM@;D5'+05,~\")ggs|\"x7YOYOJa\"KGI8>AKF3/=/ y1!tomv((xeeoTO[cB]+J:?8A6E$# ),\"%-2)EdajmcfpkJZbTE?VH@>SG&0#;+z~~mm&ShlnfdVOx");
alert(k,5e3);return}aF.prototype.ze.call(this,W);var B=W.data.R;if(B==S.m.LT)j0.anl(this.jz(),this.e.uX,W.data.jX[0],W.data.jX[1],this);
if(B==S.m.a7x){this.a4w(W.data.azx)}if(B==S.m.a2K){this.l();this.t4()}if(B==S.m.xT)this.t4();if(B==S.m.g1)if(this.e.dR){this.e.dR.prompt();
this.e.dR=null}if(B==S.m.db)this.N8.Qh(W.data.pq,W.data.push);if(B==S.m.ajB)this.N8.auC();if(B==S.m.a0z)this.lP(null,W.data.dir);
if(B==S.m.vF)this.N8.DD(this.Bx.indexOf(W.data.xy?W.data.xy:this.jz()));if(B==S.m.O3){var U=navigator.keyboard;
if(W.data.FX&&U)U.lock(["Escape"]);if(W.data.FX&&document.fullscreenEnabled){if(document.fullscreenElement)document.exitFullscreen();
else document.body.requestFullscreen()}else if(W.data.FX)document.body.webkitRequestFullScreen();if(W.data._!=null)this.JC(W.data._)}if(B==S.m.aDN){if(W.data.Vj)this.WV.BK(W.data.aK9);
else this.WV.EN(W.data.aK9);this.jm(W.data.Vj?"down":"up")}if(B==S.m.aKQ){var l=W.data._;this.cl.anB([l]);
this.l()}if(B==S.m.Ai){var K=this.jz(),D=K.U[K.Y[0]],m=new dU(0,0,K.r,K.$),Y=K.d?K.d.S.P():m,a=g.j(Y.C()*4);
g.YE(K.OL(),m,a,Y);var p=ey.Gk()+"-d71c-11e5-b1ae-a548a96e5f9f",M=new ip(S.E.H,!0);if(W.data.rl==0){var x={name:"Default/"+K.name.split(".")[0],id:p,CH:[a,Y]};
M.data={R:S.m.Dt,m8:"add",rl:aI.dE,ij:[x]};this.T(M)}if(W.data.rl==1){var R=g.j(Y.C()*4);R.fill(255);
g.v.HX("norm",a,Y,R,Y,Y,1);var y=g.j(Y.C());g.Iv(R,y);g.i5(y);var s=g.Iu(y,Y);if(s.PM())s=Y;var F=g.j(s.C());
g.Z_(y,Y,F,s);s.x=s.y=0;var E={OM:s,id:p,CH:[F,s]},o=gs.FL(p),G=o.Brsh.v;G.Dmtr.v.val=Math.max(s.r,s.$);
G.Spcn.v.val=10;M.data={R:S.m.Dt,m8:"add",rl:aI.AC,ij:{list:[{t:"Objc",v:o}],n5:[E],OJ:[]}};this.T(M);
M.data={R:S.m.Dt,rl:aI.O2,Fj:o};this.T(M)}if(W.data.rl==2){var d=K.Yb(),u=d[0][d[1][0]],r={s$:"Default/"+D.getName(),M$:p,G:u.add.vmsk.P().G},v=g.z.Sa(r.G),c=new ka(v.r,0,0,v.$,v.x,v.y);
c.i5();g.z.Y9(r.G,c);v.x=v.y=0;r.IH=v.P();M.data={R:S.m.Dt,m8:"add",rl:aI.EV,ij:[r]};this.T(M)}}if(B==S.m.i3)this.$K.xH(W.data.rl);
if(B==S.m.hM){var V=W.data.adm,j=W.data.m3;if(V!=!0&&j!=!0&&this.Px("open"))return;var Q=this.N8.vg();
if(j)Q=-1-Q;this.$K.akq(V||j?Q:null,W.data.arH,W.data.gN)}if(B==S.m.gL){var H=aI.OO[W.data.ae2],a=this.a5t(W.data.ae2,W.data.On);
ch.save(a,H[1]+"."+H[0])}if(B==S.m.RO){var T=this.e.Js,e=W.data.avB;if(T.gk&&!T.aJx&&!e){T.ai$=window.confirm("Load \""+W.data.em+"\" also next time you use the editor?\nManage it in Edit - Local Storage.");
T.aJx=!0}if((T.ai$||e)&&T.gk){T.D9[W.data.em]=W.data.MR;var M=new ip(S.E.H);M.data={R:S.m.Dt,rl:aI.Mw};
this.T(M)}}if(B==S.m.ajY){var K=this.jz(),P="<!DOCTYPE HTML>";if(K==null)return;var z=lf.nn(K.OL().buffer,K.r,K.$),J=window.open();
P+="<head><script>setTimeout(function() {window.print();}, 10);</script></head>";P+="<body><img src=\""+z+"\" /></body>";
P+="</html>";J.document.write(P)}if(B==S.m.nj){if(this.Px("publishOnline"))return;var L=W.data.me,A=L=="jpg"||L=="png",K=this.jz();
if(K==null)return;if(!A&&K.Kn)return;var k="Your "+(A?"picture":"document")+" will be published at "+(A?"Imgur":["Photo","Vector"][cC]+"pea")+".com under a public URL (known only to you). Proceed?";
if(!A)k+=" We guarantee 6+ months of storage.";var h=W.data.Zc?!0:confirm(k);if(h){if(L=="psd"){var M=new ip(S.E.O,!0);
M.J=_.b9;M.data={R:b.MF};this.T(M);var C=new dU(0,0,K.r,K.$);for(var N=0;N<K.U.length;N++){var D=K.U[N];
if(D.S.PM()||D.S3()||D.Jx()||D.ID()||D.Nj()||D.add.TySh||D.add.vmsk||D.add.SoLd)continue;var w=C.x$(D.S);
if(!w.AB(D.S)&&!w.PM()){var f=g.j(w.C()*4);g.YE(D.buffer,D.S,f,w);D.buffer=f;D.S=w}if(!g.Md(D.buffer,D.S.r,D.S.$))continue;
var O=D.P$(),n=D.zO,$=D.JY,d9=D.Oa;D.ZR(!0);D.zO=255;D.JY="norm";K.Y=[N];M.data={R:b.JG,me:"jpg"};this.T(M);
var i=K.U[N];D.ZR(O);i.ZR(O);D.zO=i.zO=n;D.JY=i.JY=$,D.Oa=i.Oa=d9}}if(K.X9){K.HQ()}var dF=K.r,t=K.$,im=W.data.aHW,bc;
if(im)while(Math.max(dF,t)>im){dF=dF>>>1;t=t>>>1}console.log(dF,t);if(L=="psd")bc=lf.Xi(K,"psd",0,0,[!0,!0,!0,!1,!0]);
else if(L=="ai")bc=lf.Xi(K,"ai");else if(L=="png")bc=lf.Xi(K,"png",dF,t);else{var at=lf.Xi(K,"png",dF,t),l9=lf.Xi(K,"jpg",dF,t);
bc=at.byteLength<l9.byteLength?at:l9}var fF=W.data.Zc;if(fF==null)fF=function(c2){var ke=A?c2:"https://www."+["photo","vector"][cC]+"pea.com/#i"+c2,M=new ip(S.E.H);
M.data={R:S.m.K_,ud:"linkview",a4R:ke};this.T(M);gv.event("share_"+L)}.bind(this);if(A)ch.axC(bc,fF);
else this.$K.aDa(bc,K.name,fF,"psdshared")}}if(B==S.m.lS){var K=this.jz(),g$=!1;if(K==null)return;if(K.X9){K.HQ()}var fR=this.li();
if(fR.mf())fR.disable(K,this,this.e,this.WV);if(W.data.aI3){if(!this.AU(K,W.data.aI3))return;var a=a$.ajo(K,W.data.aI3,this.e);
this.ZY(a);g$=!0}else if(K.g0){if(this.Bx.indexOf(K.g0.QZ)!=-1){var a=new Uint8Array(lf.c_("PSD")._M(K,null,null,[!0,!1])),M=new ip(S.E.O,!0);
M.data={R:b.dy,LV:K.g0.QZ,data:a,id:K.g0.a71,k7:K.name};M.J=_.b9;this.T(M);alert("Smart Object updated")}g$=!0}else if(this.Px("save")){g$=!0;
if(bB.Zn())alert("File Saved.");if(bB.Zn()&&!gv.jj()){var M=new ip(S.E.H,!0),k=ia.wl("+\\hYWYI?sU=79-Q*$% }'I>ns> j[i[Z\\w\\TRxkZsn261ds-#{+y=.nwsuh`^hrcbZWSSRDF<QD?IaQ\"&!TOr 9E[jrcwEdTYR[Pk\\SFIP1,6D] ;,*,{qF(foiii.Z\\SMWKS]XJ4B4/;`B||$u y-(mtdb6w\"~ewJSNlK@DF><.'&/*H*(q\" z325.-,$\"!~v{tlnilhb\\Ibs$)(,w/NjingoilbUmbQYJ^+'zRrxrin\\L{U4!!+}xg~pa[rQZKaMOEZs6QB@B2(\\>|&   Dpricmaisn`JXJEQvX33:,60C>$+zxL.85{.`id#aVZ\\TRD=<E@^@>(861IHJG??::6/32*'$~~z|t_x%698/Hw(0)zyx0ayvp=-\\6t,w(wV!_\\u;=GM><>.$X:*w(!6goidh1WV\\_MWc|wO?75<I:8:* T6)wo|m<7,}1rXRSNLUw<MIAiMH384\"}6  |z'evrjhaSh*%YRUO=<SD@.dF+,#G|\"p!|4pp1{vhj^P%fXH@>Ea==]Ha\\L1!xv}ID4fhr7"),cr=ia.wl(";QJXQ_*II9"),eE=function(){M.data={R:S.m.K_,ud:"account"};
this.T(M)}.bind(this);M.data={R:S.m.K_,ud:ia._3,_:k,tO:eE,a3d:cr,a4Q:!0};this.T(M)}}else if(K.Oi){a$.aqg(K);
g$=!0}else if(K.jQ){if(K.jQ[0]!=0&&!navigator.onLine){alert("Go online to save this file.");return}var bQ=a$.ajS(K);
if(bQ==1){alert("Already saving another file. Try again later.");return}g$=!0}else if(K.m8&&K.m8.DK){if(!this.AU(K,K.m8.DK.formats))return;
this.$K.aj4(K,this.e,a$.afv);g$=!0}else if(K.oI&&(cC==0&&lf.iP.indexOf(K.I7)!=-1||cC==1&&K.I7=="ai")){this.aIv();
return}if(g$){K.lF()}else{var M=new ip(S.E.H,!0);M.data={R:S.m._S};this.T(M)}}if(B==S.m._S){if(!this.e.Su){alert("function is disabled");
return}if(this.Px("saveAsPSD"))return;var K=this.jz();if(K==null)return;if(!this.AU(K))return;var M=new ip(S.E.O,!0);
M.data={R:b.MF};M.J=_.b9;this.T(M);var hT=K.U.length,df="Your document has "+K.U.length+" layers.";if(hT>1<<15){alert(df+" PSD files can have up to "+(1<<15)+" layers.",5e3);
return}if(hT>8e3&&!confirm(df+" Adobe Photoshop has a bug and crashes, when a PSD has more than 8000 layers. Do you want to proceed?"))return;
var eV={he:[]};K.root.a7W([],eV);var gU=eV.he;if(gU.length>11&&!confirm("One layer is nested "+(gU.length-1)+" times."+" Adobe Photoshop crashes, when a layer in a PSD is nested more than 10 times. Do you want to proceed?\n\nLongest nesting: "+gU.join(" \uD83E\uDC1A ")+"."))return;
var i8=K.name.split(".");i8.pop();i8=i8.join(".")+".psd";var bv=window.showSaveFilePicker;if(window.parent!=window)bv=null;
if(bv&&!W.data.afp){var fE={suggestedName:i8,types:[{description:["PSD","AI"][cC]+" Files",accept:cC==0?{"image/psd":[".p"+"sd"]}:{"application/pdf":[".ai"]}}]};
bv(fE).then(function(W){K.oI=W;K.name=W.name;K.gd=!0;K.I7="psd";this.aIv()}.bind(this));return}var d5=window.gtag;
if(K.R9()&&d5)d5("event",K.I7+":"+I.jC(gv.jj()?"\"'|('61":"w'| "),{event_category:"Formats"});if(K.X9){K.HQ()}var aR=cC==0?"PSD":"AI",l8=lf.c_(aR);
gv.event("efmt_"+aR.toLowerCase(),.1);if(W.data.afp){var a=K.I7=="psd"?l8._M(K):a$.SH(K,K.I7,this.e);
this.amK(a,K,this)}else{var a=l8._M(K);ch.save(a,i8);K.lF()}}if(B==S.m.p4)window.open(W.data.link,"_blank");
if(B==S.m.oQ){if(this.YZ.mf()){this.aDm();return}var K=this.jz(),D=K.U[K.Y[0]],l=K.gW(D.add.SoLd.Idnt.v);
for(var N=0;N<this.Bx.length;N++){var au=this.Bx[N].g0;if(au!=null&&au.a71==l.I8&&au.QZ==K){this.N8.Cu(N);
return}}ch.kT({name:l.k7,g0:{a71:D.add.SoLd.Idnt.v,QZ:K}},l.raw.buffer,this)}if(B==S.m.ayI){var K=this.jz(),D=K.U[K.Y[0]],l=K.gW(D.add.SoLd.Idnt.v);
ch.save(l.raw.buffer,l.k7)}if(B==S.m.a3u){console.log(W.data);ch.kT({name:W.data.jQ[1].split("/").pop(),jQ:W.data.jQ},W.data.Wa,this)}if(B==S.m.a0s){var K=this.jz();
K.jQ=W.data.jQ;K.name=K.jQ[1].split("/").pop();var M=new ip(S.E.H);M.data={R:S.m.lS};this.T(M)}if(B==S.m.Qa){this.aKM()}if(B==S.m.G$){this.aAV(W.data.sn,W.data.q5,W.data.cc)}if(B==S.m.M5){this.aBM(W.data.az3,W.data.aCn,W.data.cc)}if(B==S.m.aqK){var hx=W.data._;
if(this.e.bt==_.W6&&this.li().mf()){var M=new ip(S.E.O,!0);M.J=_.W6;M.data={R:"insertText",_:hx};this.T(M);
return}if(hx.startsWith("vcb;")){var fw=JSON.parse(hx.slice(4));fw[0]=jz.aiZ(fw[0]);var M=new ip(S.E.O,!0);
M.J=_.ZA;M.data={R:"append",xJ:"Paste Paths",am9:fw};this.T(M)}else if(hx.startsWith("lrs;")){var cx=hx.split(";"),fg=this.Bx[parseInt(cx[1])];
if(fg==null)return;var iI=this.jz(),eq=fg.Y;fg.Y=JSON.parse(cx[2]);var fS=fg.Ls(null,fg!=iI);fg.Y=eq;
var M=new ip(S.E.O,!0);M.data={R:b.ex,U:fS,QZ:fg,vq:iI};M.J=_.b9;this.T(M)}else if(hx.startsWith("<!--")||hx.startsWith("<svg")){var f1=Z.hP(hx),c4=lf.c_("svg"),m=new ey("image.p"+"sd");
c4.Vp(f1.buffer,m);if(this.Bx.length!=0){var ea=m.U;if(ea.length==3&&ea[0].getName()=="</Layer group>"&&ea[2].S3())ea=[ea[1]];
var M=new ip(S.E.O,!0);M.J=_.b9;M.data={R:b.ex,U:ea,QZ:m,vq:this.jz()};this.T(M)}else this.arx(m)}}if(B==S.m.qS){bT.KR(W.data.eg,this)}if(B==S.m.dG){if(window.parent!=window)window.parent.postMessage(W.data.rl,"*");
this.cl.mu(W.data.rl)}if(B==S.m.oU){var ie=parseFloat(W.data.ud);if(this.e.v3.indexOf(ie)==-1){var M=new ip(S.E.H,!0);
M.data={R:S.m.Dt,rl:aI.k$,_:ie,m8:"add"};this.T(M)}this.cl.aKl(W.data.ud)}if(B==S.m.j8){this.kw.aL0(this.jz(),this.e)}if(B==S.m.K_){var i$="open_from_url openFromURL camera takePic templates showTemplates newproject new eassets exportLayers".split(" ");
for(var N=0;N<i$.length;N+=2)if(W.data.ud==i$[N]&&this.Px(i$[N+1]))return;if(!this.e.Su&&W.data.window=="saveforweb"){alert("function is disabled");
return}this.YZ.aHR(W.data.ud,this.jz(),W.data,this.Bx,this.WV)}if(B==S.m.Gw){var cI=this.e.Mi.exportAs;
if(cI)this.ZY(W.data.data);else ch.save(W.data.data,W.data.name)}if(B==S.m.Zk){if(!this.YZ.mf()||W.wV)this.arx(W.data.LV)}if(B==S.m.j1){this.N8.Cu(W.data.target);
var M=new ip(S.E.O,!0);M.data={R:b.cG,LV:W.data.LV,as:W.data.as,XK:W.data.XK};M.J=_.b9;this.T(M);this.lI(_.Xx)}if(B==S.m.atG){dd.gP=!dd.gP;
if(this.Bx.length>0)this.jz().I_()}if(B==S.m.ayl){var cD=gv.Ol();if(cD!=null&&cD.globals!=null)this.AP(cD.globals);
this.r4()}if(B==S.m.pB){this.$K.JH(W.data.data,null,W.data.m_,W.data.S8,W.data.atu)}if(B==S.m.oE){var fG=this.li();
if(!this.YZ.Ao()!=null)this.lI(W.data.J,W.data.g2);var cH=this.li();if(cH!=fG&&W.data.afR)cH.mc(this.jz(),this,this.e,this.WV,this.EM)}if(B==S.m.oF){if(this.Z.afg)this.lI(this.Z.afg)}if(B==S.m.MJ){var hL=this.Z.map[W.data.J].J,K=this.jz();
hL.Os(W.data,this,K,this.WV,this.e);if(K)K.qg=!0;this.ali()}if(B==S.m.os){var ee=this.Z.map[W.data.J];
this.aCV(ee);ee.sr.RD(W.data)}if(B==S.m.Dt){var K=this.jz(),aj,iA=!(K&&K.Y.length!=0&&K.U[K.Y[0]].add.TySh),eL=W.data.rl,hZ=W.data.ij,bZ=this.e;
if(W.data.m8=="set"){var cH=_.X4[hZ[1].classID];if(bZ.bt!=cH)this.lI(cH);this.Z.map[cH].sr.Y6(hZ,bZ)}if(W.data.m8=="add"){var H=aI.OO[eL];
if(eL==aI.k$){bZ.v3.push(W.data._);bZ.v3.sort(function(c2,ke){return c2-ke})}else if(H==null){if(hZ)bZ.yK.aIf(hZ,W.data.aeD);
if(K)K.R2=!0}else{var k_=this._E(eL);if(eL==aI.AC){k_.n5=k_.n5.concat(hZ.n5);k_.OJ=k_.OJ.concat(hZ.OJ);
k_=k_.list;hZ=hZ.list}if(eL==aI.d9&&K){for(var N=0;N<hZ.length;N++){var kW=hZ[N].NF.Lefx;if(kW)dx.ajA(kW,K,bZ.Ix)}}if(eL==aI.ai&&hZ==null){var m=this.Z.map[bZ.bt].sr.pC();
if(m==null)return;hZ=[m]}if(aI.bc[eL]&&hZ[0][0]=="_all_")hZ=hZ[0][2];for(var N=0;N<hZ.length;N++)k_.push(hZ[N]);
if(eL==aI.EV){var iU={};for(var N=0;N<k_.length;N++){var kO=k_[N].s$;while(iU[kO]!=null)kO=k_[N].s$=kO+"X";
iU[kO]=!0}}if(W.data.aeD!=!0)if(k_.length!=hZ.length||eL==aI.P1||eL==aI.d9||eL==aI.kg||eL==aI.O)alert(js.get(H[3])+" "+js.get([23,1])+".")}}if(W.data.m8=="del"){if(eL==aI.k$){bZ.v3.splice(bZ.v3.indexOf(W.data._),1)}else{var H=aI.OO[eL],hq=W.data.On,k_=this._E(eL);
if(eL==aI.AC)k_=k_.list;for(var N=0;N<hq.length;N++)k_[hq[N]]=null;for(var N=0;N<k_.length;N++)if(k_[N]==null){k_.splice(N,1);
N--}alert(js.get(H[3])+" deleted.")}}if(W.data.m8=="rnm"){var H=aI.OO[eL],k_=this._E(eL);if(eL==aI.AC)k_=k_.list;
if(k_[W.data.On[0]]==null)return;H[2].b1(k_[W.data.On[0]],(W.data.alo?W.data.alo:"")+W.data._)}if((W.data.m8!=null||W.data.m8=="mdf")&&aI.bc[eL]){var T=this.e.Js,H=aI.OO[eL];
if(T.gk&&!bB.ue()){var e8=this._E(eL),gi=dc._C(e8,H[2]);T.D9["_all_."+H[0]]=gi.buffer;var M=new ip(S.E.H);
M.data={R:S.m.Dt,rl:aI.Mw};this.T(M)}}if(eL==aI.td){var jZ=W.data._;bZ.gh=jZ;bZ.att[jZ.O5]=jZ.bE}if(eL==aI.fQ){var jZ=W.data._;
bZ.Jm=g.N(jZ);var cg=kE.fM(jZ);bZ.a6x[cg.O5]=cg.bE}if(eL==aI.z7){bZ.Hr=W.data._;var hn=kE.Hr.wy(),bF=!0;
for(var m in hn)if(bZ.Hr[m]==null)bF=!1;if(bF)bZ.art=g.N(bZ.Hr)}if(eL==aI.lH){bZ.Bq=W.data._}if(eL==aI.Jr){bZ.gl=W.data._}if(eL==aI.jG){bZ.Xz=W.data.Xz;
var gf=bZ.Xz.n6.FillColor;if(iA&&gf){var eH=gf.Values,h5={o:eH[1]*255,L:eH[2]*255,X:eH[3]*255},gS=g.xS(h5);
if(bZ.w5!=gS){bZ.w5=gS;aj=aI.Z$}}}if(eL==aI.O2){var f=g.N(W.data.Fj),hP=f.useBrushSize;if(hP&&hP.v){f.Brsh.v.Dmtr.v.val=bZ.cY.wC.Brsh.v.Dmtr.v.val;
hP.v=!1}bZ.cY.wC=f;if(f.Nm==null)return;var iy={yx:"select",Og:{__name:"Select",classID:"slct",null:{t:"obj ",v:[{t:"name",v:{classID:"Brsh",val:f.Nm.v.split("/").pop()}}]}}},ee=this.li();
ee.gr=this;ee.track(iy)}if(eL==aI.PP){bZ.Az=W.data.O4}if(eL==aI.aO){var cs=W.data.O4,az=!0,aJ=null;if(W.data.apd){cs=bZ.ij.slice(0);
cs.splice(cs.indexOf(W.data.apd),1)}var fH=cs,fM=bZ.ij;if(fM.length>fH.length){var er=fM;fM=fH;fH=er;
az=!1}for(var N=0;N<fH.length;N++)if(fM.indexOf(fH[N])==-1)aJ=fH[N];ch.TM("act=3&id="+aJ+"&dif="+(az?1:-1));
alert((az?"Resource added.":"Resource removed.")+" "+aJ);if(!az)if(bZ.ajZ[aJ])delete bZ.ajZ[aJ];bZ.ij=cs}if(eL==aI.Z$){var iy,kS="Clrs";
if(W.data.w7<2){var ge=W.data._,aT=W.data.w7==0,fQ=g.ov.E2(g.gC(ge));if(aT)bZ.w5=ge;else bZ.yY=ge;kS=aT?"FrgC":"BckC";
iy={yx:"set",Og:{__name:"Set",classID:"setd",T:{t:"Objc",v:fQ}}}}if(W.data.w7==2){var er=bZ.w5;bZ.w5=bZ.yY;
bZ.yY=er;iy={yx:"exchange",Og:{__name:"Exchange",classID:"Exch"}}}if(W.data.w7==3){bZ.w5=0;bZ.yY=16777215;
if(K!=null&&K.Y.length!=0&&K.U[K.Y[0]].pw==1){var er=bZ.w5;bZ.w5=bZ.yY;bZ.yY=er}iy={yx:"reset",Og:{__name:"Reset",classID:"Rset"}}}if(iy){iy.Og.null={t:"obj ",v:[{t:"prop",v:{classID:"Clr",keyID:kS}}]};
var ee=this.li();ee.gr=this;ee.track(iy)}}if(eL==aI.Oq){bZ.RS=!bZ.RS;this.t4()}if(eL==aI.U$){bZ.$O=!bZ.$O;
this.t4()}var j6=bZ.bm;if(eL==aI.AK){j6.xx=!j6.xx;this.t4()}if(eL==aI.zg){j6.RM=!j6.RM;this.t4()}if(eL==aI.QP){j6.UZ=!j6.UZ;
this.t4()}if(eL==aI.Pd){j6.cM=!j6.cM;this.t4()}if(eL==aI.Ff){j6.qF=!j6.qF;this.t4()}if(eL==aI.QE){j6.Ev=!j6.Ev;
this.t4()}if(eL==aI.VH){bZ.bm=W.data.O4;this.t4()}if(eL==aI.amx){bZ.hN=!bZ.hN;this.t4()}if(eL==aI.FI){bZ.l3[W.data.$c]=!bZ.l3[W.data.$c];
this.t4()}if(eL==aI.lf){js.aJj(W.data.lang,this.aEe)}if(eL==aI._e){bZ.FG=W.data.FG;this.l()}if(eL==aI.Mw&&bZ.Js.gk){var et=bZ.Js.gk.transaction(["rsrc"],"readwrite").objectStore("rsrc"),d2={k:"fs0",fset:bZ.Js.D9};
if(W.data.ah_)d2={k:bZ.Js.id,fset:bZ.Js.WX};var kx=Object.keys(d2.fset).length==0?et.delete(d2.k):et.put(d2);
kx.onerror=function(W){console.log(W);alert("Storing failed. Browser says: "+W.target.error.message,7e3)}}this.IW(eL);
if(aj)this.IW(aj)}};g6.prototype.aIv=function(){var W=this.jz();console.log(W.q0);if(W.q0)return;W.q0=!0;
var q=new ip(S.E.H,!0);q.data={R:S.m.dW,RU:"Saving ..."};this.T(q);setTimeout(function(){var q=new ip(S.E.H,!0);
q.data={R:S.m._S,afp:!0};this.T(q)}.bind(this),20)};g6.prototype.amK=function(W,q){q.oI.createWritable().then(function(X){X.write(W);
return X}).then(function(X){return X.close()}).then(function(X){q.lF();q.q0=!1;var k=new ip(S.E.H,!0);
k.data={R:S.m.xA,RU:"Saving ..."};this.T(k)}.bind(this)).catch(function(X){q.q0=!1;var k=new ip(S.E.H,!0);
k.data={R:S.m.xA,RU:"Saving ..."};this.T(k)}.bind(this))};g6.prototype.aHX=function(){var W=this.e,q=W.ij,X=W.ajZ;
for(var N=0;N<q.length;N++){var k=q[N];if(X[k])continue;X[k]=!0;this.$K.XJ(k,!0)}};g6.prototype.apu=function(){this.l();
this.t4()};g6.prototype.Px=function(W){var q=this.e.Mi[W];if(q){var X=new ip(S.E.H,!0);X.data={R:S.m.qS,eg:q};
this.T(X)}return q!=null};g6.prototype.AU=function(W,q){var X=!0,l=15;if(q){X=!1;for(var N=0;N<q.length;
N++)if(q[N].startsWith(I.wl("__M")))X=!0}var k=W.R9()||W.g0&&W.g0.QZ.R9();if(this.yV())k=!1;var B=new I.TD[ia.awh],U=(B[I.jC("xy,b-66:")]()&1)*60+B[I.wl("VQ]3LNRN<G")]();
if(k&&!gv.jj()&&U>l&&X){var K=I.TD[I.jC("}$z{2*35")][I.jC("y'|!")],D=I.wl("C[hMHT\\GFB6GJ.44>+.(2sq koomg\\beyj;PGS?Ad+sL>6Cpp^7w!|\"mwuhkguVQ[iII`SN=9Q>:5?B$2, \"w-~oi!ddjhfn|}ePIKOK9DM0>*48;--\"/tx{us+");
D+="\n\n"+I.wl("6Q]eD_-L<A:C8G&%\"+.$'/4ouu qb\\sf\\WQRKSA=U430/:7II:''1&lqy\"")+(-U+120)+I.wl("nYRTXTBMd");
if(K.indexOf(I.jC("\"|'/-1)(W0?@"))==-1)D=js.get([0,11+6,3+2]);I.TD._cwY(D);return!1}return!0};g6.prototype._E=function(W){var q=this.e,X=[aI.AC,aI.Zp,aI.Le,aI.kg,aI.dE,aI.EV,aI.d9,aI.P1,aI.O,aI.ai,aI.pN],k=[q.cY,q.xF,q.bS,q.vy,q.Ix,q.mh,q.sg,q.ala,q.uX,q.KB,q.adx];
return k[X.indexOf(W)]};g6.prototype.a5t=function(W,q){var X=this._E(W);console.log(X);if(q){var k=W==aI.AC,B=[];
for(var N=0;N<q.length;N++)B.push((k?X.list:X)[q[N]]);X=k?{OJ:X.OJ,n5:X.n5,list:B}:B}if(W==aI.d9){var U=new ey;
for(var N=0;N<X.length;N++){var l=X[N].NF.Lefx;if(l)dx.a1k(l,U,this.e.Ix)}X={B3:U.add.Patt?U.add.Patt:[],T_:X}}if(W==aI.ai){var K=this.e.cY;
X={n5:[],OJ:[],list:X};console.log(X)}console.log(X);var D=aI.OO[W];return D[2].zX(X)};g6.prototype.aKM=function(){var W=this.aAV(),q=this.jz();
if(q==null||q.Y.length==0)return;var X=q.U[q.Y[0]],k=new ip(S.E.O);if(W==1){k.J=_.ZA;k.data={R:"remove",xJ:"Cut Paths"}}else{k=new ip(S.E.dq);
k.data={yx:"delete"}}this.T(k)};g6.prototype.aAV=function(W,q,X){if(W==null)W=!1;var k=this.e;console.log("doCopy",W,q);
var B=this.jz();if(k.bt==_.W6&&this.li().mf()){var U=new ip(S.E.O,!0);U.J=_.W6;U.data={R:"copyText"};
this.T(U);return}if(B==null||B.Y.length==0&&!W)return;var l=B.U[q==null?B.Y[0]:q],K=B.Yb(),D=K[0],m=K[1],Y=D[m[0]];
if(!W&&Y!=null&&Y.add.vmsk.Y.length!=0&&cC==0){var a=_.U0.LN(Y.add.vmsk,Y.add.vogk);if(I.p0()){a[0]=jz.aHn(a[0]);
var p="vcb;"+JSON.stringify(a);ch.$Q(new Blob([p],{type:"text/plain"}))}else k.i6=a;return 1}else if(B.d==null){if(I.p0()){var p="lrs;"+this.Bx.indexOf(B)+";"+JSON.stringify(B.Y);
ch.$Q(new Blob([p],{type:"text/plain"}))}}else{var M,x;if(W){var R=new dU(0,0,B.r,B.$);x=R.x$(B.d.S);
M=g.j(x.C()*4,B.depth);g.YE(B.OL(),R,M,x);g.Jd(B.d.c,B.d.S,M,x)}else if(B.TC.length!=0){x=B.d.S.P();
M=g.j(x.C()*4,B.depth);var y=B.RH[B.TC[0]],s=y.sA(x);g.LO(s,M);g.fP(B.d.c,M,3)}else{var F=l.KZ(B,B.d);
if(F==null){alert("Copied area is empty");return}M=F.Wa;x=F.S}var E=B.f.K7,o=E[0]+E[1]+E[2];if(o==1){var G=E.indexOf(1);
for(var N=0;N<M.length;N+=4)M[N]=M[N+1]=M[N+2]=M[N+G]}var d=new hw(B.r,B.$);if(I.p0()&&X!=!0){var u=lf.c_("PNG").GC(M.buffer,x.r,x.$,B.depth);
ch.$Q(new Blob([new Uint8Array(u)],{type:"image/png"}));this.aak={OM:x,HZ:d}}else k.PW={buffer:M,S:x,HZ:d};
k.avj=x.P();k.i6=null;var U=new ip(S.E.dq);U.data={yx:"copyEvent",sy:!0};this.T(U)}};g6.prototype.aBM=function(W,q,X){if(q)this.akh=!0;
console.log("doPaste");var k=this.e,B=k.PW,U=this.WV,m;if(this.Bx.length==0){if(!W&&I.p0()){ch.Dn(this,null);
return}if(B){var l=lf.kB("image.p"+"sd",[{data:B.buffer.buffer,oq:B.S}]),K=new ip(S.E.H);K.data={R:S.m.Zk,LV:l};
this.T(K)}return}var l=this.jz();if(k.bt==_.W6&&this.li().mf()){ch.Dn(this,null);return}var D=l.U[l.Y.length==0?l.U.length-1:l.Y[0]];
if(k.i6){var Y=l.Yb(!0),a=Y[0],p=Y[1];m=a[p[0]]}var K=new ip(S.E.O,!0);if(k.i6!=null&&m!=null){K.J=_.ZA;
K.data={R:"append",xJ:"Paste Paths",am9:k.i6}}else if(!W&&I.p0()&&X!=!0){var M=navigator.userAgent.toLowerCase();
ch.Dn(this,this.asp.bind(this));return}else{if(B==null)return;if(l.or(!1)&&(l.f.K7.join("")!="111"||l.TC.length!=0||D.pw>0||D.S.PM())){K.J=_.AC;
K.data={R:"draw",a7u:!0,xJ:[5,2]}}else{K.J=_.b9;K.data={R:b.xi,aFS:this.akh};this.akh=!1}K.data.PW=B;
if(B.S.x==0&&B.S.y==0){var x=l.f.eO,R=l.f.az(l.r/2,l.$/2),y=l.r-B.S.r,s=l.$-B.S.$;if(x.BS(R)){B.S.x=y>>1;
B.S.y=s>>1}else{R=l.f.uy(x.r/2,x.$/2);console.log(R);B.S.x=Math.max(0,Math.min(y,Math.round(R.x-B.S.r/2)));
B.S.y=Math.max(0,Math.min(s,Math.round(R.y-B.S.$/2)))}}}this.T(K);var K=new ip(S.E.dq);K.data={yx:"paste",sy:!0};
this.T(K)};g6.prototype.aFI=function(){var W=this.e.yK;if(W.a0E())return;for(var N=0;N<this.Bx.length;
N++){var q=this.Bx[N];if(!hj.yw(q,W,this))continue;if(q.Tr)hj.pt(q,W,this);var X=q.add.lnk2;if(X)for(var k=0;
k<X.length;k++){var B=X[k];if(B.Tr)_.zB.$A(q,B.I8,B,B,W)}if(q.ai_)continue;q.ai_=!0;if(q.m8&&q.m8.atp)bT.KR(q.m8.atp,this);
this.ZY();var U=new ip(S.E.O);U.J=_.zF;U.data={R:"start",Sw:"blurbTransform"};U.data={R:"start",Sw:"rigidTransform"};
U.data={R:"start",Sw:"perspectiveWarpTransform"};var l=new ip(S.E.H);l.data={R:S.m.oU,ud:dE.FV.aFU}}};
g6.prototype.IW=function(W){this.aHX();var q=this.e,X=q.bt,K=!1;if(W==aI.O2){if(this.Z.map[X].sr)this.Z.map[X].sr.QL(q,W)}else for(var k in this.Z.map)if(this.Z.map[k].sr)this.Z.map[k].sr.QL(q,W);
if(W==aI.Il){if(X!=_.W6)this.Z.map[_.W6].J.QL(q,W);this.aFI()}this.N8.QL(q,W);this.cw.QL(q,W);this.YZ.QL(q,W);
if(cC==1&&W==aI.z7){var B=new ip(S.E.O,!0);B.J=_.b9;B.data={R:b.I5};this.T(B)}else this.li().QL(q,W);
this.cl.QL(q,W);this.Vq.QL(q,W);if(cC==1)this.nP.QL(q,W);if(W==aI._e||W==aI.NC){it.awO(q.FG);this.update(!0)}var U=q.Xz,l=U.n6.Font;
if(W==aI.jG&&l!=null&&U.MD[l].Name!=q.font){q.font=U.MD[l].Name;K=!0}if([aI.k$,aI.PP,aI.aO,aI.Z$,aI.Oq,aI.U$,aI.VH,aI.QP,aI.Pd,aI.AK,aI.zg,aI.Ff,aI.QE,aI.lf,aI._e].indexOf(W)!=-1||K)this.ali()};
g6.prototype.ali=function(){if(!this.O9)return;var W=[],q=this.Z.map;for(var X in q){var k=q[X].J;if(k.p5&&k.p5()!=null)W.push(parseInt(X),k.p5())}var B=this.e,U=B.bm,l={};
if(U.nI!=8421504)l.gc=U.nI;if(U.Dh!=65535)l.uc=U.Dh;if(U.ou!=33023)l.lc=U.ou;if(U.hY!=20)l.gs=parseFloat(U.hY.toFixed(2));
if(U.y4!=0)l.gv=parseFloat(U.y4.toFixed(2));if(U.Kt!=0)l.gu=U.Kt;if(U.$m!=0)l.gt=U.$m;if(U.vA!=0)l.ru=U.vA;
if(U.cM!=!1)l.gr=U.cM?1:0;if(U.UZ!=!0)l.gd=U.UZ?1:0;if(U.xx!=!0)l.se=U.xx?1:0;if(U.RM!=!0)l.pa=U.RM?1:0;
if(U.qF!=!0)l.pg=U.qF?1:0;if(U.Ev!=!0)l.sl=U.Ev?1:0;var K={};if(B.w5!=0)K.fc=B.w5;if(B.yY!=16777215)K.bc=B.yY;
if(B.RS!=!1)K.ru=B.RS?1:0;if(B.$O!=!0)K.ex=B.$O?1:0;if(B.Az.length!=0)K.ff=B.Az.join(",");if(B.ij.length!=0)K.rs=B.ij.join(",");
if(B.FG!=1)K.theme=B.FG;if(B.vL!=0)K.co=B.vL;if(B.font!=null&&B.font!="DejaVuSans")K.fo=B.font;var D=dE.a11(B.v3);
if(D.length!=0)K.pd=D;if(W.length!=0)K.to=W;if(js.yc()!="en")K.lang=js.yc();if(Object.keys(l).length!=0)K.ep=l;
var m=gv.Ol();if(m==null)m={};m.globals=K;gv.Wt(m)};g6.prototype.VQ=function(W){var q=this.WV,X=this.EM,k=this.e.bt,B=this.Z.map[k].J,U=null,l=!1;
for(var N=0;N<this.Z.aJR.length;N++){var K=this.Z.aJR[N],D=!0;for(var m=0;m<K.Rl.length;m++){var Y=K.Rl[m];
if(!q.D(Y))D=!1}if(D&&(!K.g9||!B.mf())&&(K.hG==null||K.hG.indexOf(k)!=-1)){U=K.J;l=K.g9;break}}if((!X.Vj||k==_.fX||W)&&this.Z.gQ!=U&&(U!=k||!l)){var a=this.jz();
if(this.Z.gQ!=null&&U==null)this.li().disable(a,this,this.e,q,!0);this.Z.gQ=U;this.li().enable(a,this,this.e,q,U!=null&&U!=k)}};
g6.prototype.JL=function(W){var q=this.e.bt,X=this.jz();if(q!=null){this.Z.map[q].J.disable(X,this,this.e,this.WV)}};
g6.prototype.aCV=function(W){if(W.sr==null){W.sr=new W.uw(W.J.id);W.sr.aEl(W.J.id,W.J.iI);W.sr.QL(this.e,aI.NC);
W.sr.l()}};g6.prototype.lI=function(W,q){if(W==_.Xx&&this.YZ.Ao())return;var X=this.jz(),k=this.e;if(this.Z.map[W].J.hr(X,k,q)){this.JL();
if(W!=k.bt)this.Z.afg=k.bt?k.bt:_.zl;k.bt=W;this.cw.lI(k.bt);var B=this.Z.map[W];this.Z.IM[B.d_]=B.aBx;
this.aCV(B);this.vC.aKg(cC==0?B.sr:this.nP);var U=B.J;U.enable(X,this,this.e,this.WV,!1,q);if(X)X.qg=!0;
this.t4();this.GO.aCt()}};g6.prototype.li=function(W){var q=this.Z,X=q.Ne,k=q.gQ,B=this.e.bt;if(X)B=X;
else if(k&&W==null)B=k;return q.map[B].J};g6.prototype.arx=function(W){var q=this.e,X=this.Bx.indexOf(W);
if(X!=-1){this.N8.Cu(X);return}if(this.aEk&&(W.m8==null||W.m8.DK==null)){W.m8={DK:this.aEk}}if(W.G5==null){W.G5="local,"+this.awc+","+W.name;
this.awc++}W.a2N=Date.now();if(cC==1&&W.add.arts==null)W.a79();if(bB.e1()!=0&&!this.a0G&&I.TD[I.jC("t$&!'31")].toString().indexOf(I.jC(" u,$4&"))==-1){alert(I.jC("j$--=#66A@5EU`KQaFVjSih\\hpirt2,x&5&+#++A4<8SFOO_FUMQ|"));
return}for(var N=0;N<W.U.length;N++){var k=W.U[N];if(k.add.SoLd!=null){}}var B=W.U.length,U=ia.kU(),l=Math.PI*(7400<<14)+(I.o4(31)?20:10)*7e7;
if(U>l){var B=W.U.length;W.U=[];return B}if(dd.gP){dd.Nw(Math.max(W.r,W.$),W.depth);for(var N=0;N<W.U.length;
N++){var k=W.U[N];if(k.xn())dd.Nw(Math.max(k.S.r,k.S.$))}}W.Hm();W.Ek();if(W.alZ)W.aI0();else W.I_();
W.alZ=!1;this.Bx.push(W);this.N8.IQ(new ex(W));W.qg=!0;W.R2=!0;this.aFI();if(this.aDP)this.JC(1);var K=new ip(S.E.O);
K.J=_.wm;K.data={R:"auto",aBY:2}};g6.prototype.jz=function(){return this.Bx[this.aIK]};g6.prototype.a7i=function(){return this.YZ.Ao()==null};
g6.prototype.lP=function(W,q){this.JL();var X=this.Bx.length;if(q!=null)this.N8.Cu((this.N8.vg()+q+X)%X);
this.aIK=this.N8.vg();var k=this.jz();this.Vq.ol(k,this.e);if(cC==1)this.nP.ol(k,this.e);this.cl.V9(k,this.Bx,this.e);
this.t4();if(k)k.qg=!0};g6.prototype.a6T=function(W){this.JL();var q=this.Bx,X=q[W.data.v8];q.splice(W.data.v8,1);
if(q.length==0){this.lP(W);var k=dd.Nm(),B=ex.VD.rN;if(k.parentNode)k.parentNode.removeChild(k);if(B.parentNode)B.parentNode.removeChild(B)}this.a2C(X.name)};
g6.prototype.a2C=function(W){var q=this.e.Js,X=!1;if(q.gk==null)return;for(var k in q.WX){if(W==null||k==W){delete q.WX[k];
X=!0}}if(X){var B=new ip(S.E.H);B.data={R:S.m.Dt,rl:aI.Mw,ah_:!0};this.T(B)}};g6.prototype.a1q=function(W){var q=[],X=W.data.aE3;
for(var N=0;N<X.length;N++)q[N]=this.Bx[X[N]];this.Bx=q;this.aIK=this.N8.vg()};g6.prototype.aua=function(W){var q=this.N8,X=q.acB(),k=this.li(),B=this.jz();
if(X==q.vg()||!k.av2())return;this.a4w(X,k)};g6.prototype.a4w=function(W,q){console.log("dup2doc");var X=this.e,k=this.N8,B=this.jz(),U=this.Bx[W],l,K=new ip(S.E.O,!0);
K.J=_.b9;if(B.d==null){K.data={R:b.ex,U:B.Ls(null,!0),QZ:B,vq:U,ajX:q==null};this.T(K)}else l=B.U[B.Y[0]].KZ(B,B.d);
var D=this.EM,m=X.RS;X.RS=!1;D=B.f.uy(D.x,D.y);if(q)q.AL(B,this,X,this.WV);k.Cu(W);if(B.d){K.data={R:b.xi,PW:{buffer:l.Wa,S:l.S}};
this.T(K)}D=U.f.az(D.x,D.y);if(q)q.mc(U,this,X,this.WV,D);X.RS=m};g6.prototype.a2i=function(W){var q=this.jz(),X=this.WV,k=this.e,B=W.yP;
if(B)this.EM=B;if(B)B.y-=k.vL;if(this.a2g==null)this.a2g=0;if(W.action=="multidown"){this.wA=W.m7.length;
this.a2g=Date.now()}if(W.action=="up"&&Date.now()-this.a2g<100){var U=new ip(S.E.O);U.J=_.Yo;U.data={R:this.wA==2?"h_stepbck":"h_stepfwd"};
this.T(U)}if(W.action.startsWith("multi")){var l=new ip(S.E.O,!0);l.data={R:W.action,m7:W.m7};l.J=_.hm;
this.T(l);return}var K=this.Z.map[_.zl].J;if((W.action=="down"||W.action=="rdown")&&k.bt!=_.zl&&this.Z.gQ!=_.zl&&K.a4t(q,this,k,X,B)){this.Z.Ne=_.zl;
K.enable(q,this,k,X,!0)}if(W.action=="idown"){X.BK("Space");this.VQ(!0);W.action="down"}var D=this.YZ.Ao(),m=D!=null&&D.U4()&&this.Z.gQ==null?D:this.li();
if(W.action=="scroll"){var Y=!X.D(bu.p7)&&W.v0,a=X.D(bu.Wr);if(window.locStor.getItem("__zwh")=="1")a=!a;
var l=new ip(S.E.O,!0);l.data={R:"scroll",jE:W.jE.P(),yP:B,a9k:Y};l.J=a||Y?_.hm:_.gT;this.T(l)}if(D!=null&&m!=D&&this.YZ.mf()&&m.id!=_.gT&&m.id!=_.hm)return;
if(W.action=="down")m.mc(q,this,k,X,B);if(W.action=="rdown")m.$J(q,this,k,X,B);if(W.action=="move")m.lG(q,this,k,X,B);
if(W.action=="up"||W.action=="iup"||W.action=="cancellast")m.iY(q,this,k,X,B,W.action=="cancellast");
if(W.action=="rup")m.xM(q,this,k,X,B);if(W.action=="iup"){X.EN("Space");this.VQ(!0)}if(W.action=="cancellast"){if(q&&q.history.length!=0&&Date.now()-q.history[q.history.length-1].aD5<200){var U=new ip(S.E.O);
U.J=_.Yo;U.data={R:"h_stepbck"};this.T(U)}}var p=this.cl;if(W.action=="down")p.mc(q,this,k,X,B);if(W.action=="move")p.lG(q,this,k,X,B);
if(W.action=="up")p.iY(q,this,k,X,B);if(W.action=="down"||W.action=="up"){this.VQ()}if(W.action=="down"||W.action=="up"||W.action=="ctx"){q.qg=!0}if((W.action=="up"||W.action=="rup")&&this.Z.Ne){this.Z.Ne=null;
K.disable(q,this,k,X)}if(q&&k.RS)q.R2=!0};g6.prototype.r3=function(W){var q=this.jz(),X=this.EM;if(q&&this.li().Ps(X,this.WV)){var k=q.f,B=k.eO.r,U=k.eO.$,l=0,K=0,D=16;
if(X.x<D)l=D-X.x;if(X.x>B-D)l=X.x-(B-D);if(X.y<D)K=D-X.y;if(X.y>U-D)K=X.y-(U-D);var m=this.WV.D(bu.m4)?8:1;
if((l!=0||K!=0)&&(q.r*k.$Z>B||q.$*k.$Z>U)){l=Math.min(5,l*.5)*m;K=Math.min(5,K*.5)*m;if(X.x>D)l=-l;if(X.y>D)K=-K;
k.h.x+=l;k.h.y+=K;this.a2i({yP:this.EM,action:"move"});q.gd=!0}}this.update()};g6.prototype.update=function(W){var q=this.jz();
if(q==null)return;if(cC!=0){if(q.buffer)throw"e"}if(q.qg){var X=this.Z.map;for(var k in X){if(X[k].J.yi)X[k].J.yi(q,this,this.e,this.WV)}if(cC==1){X[_.wz].J.yi(q,this,this.e,this.WV,!0)}}if(q.X9&&cC==0)if(dd.gP)dd.Nw(Math.max(q.r,q.$));
if(q.X9&&cC==0){q.HQ()}var B=q.f,U=this.qY,l=this.qY=Date.now();if(q.X9||q.r5||q.R2||q.gd||W||B.WE!=B.$Z||!B.gA.AB(B.h)){var K=B.WE;
if(B.WE!=B.$Z){var D=_.OK.ao7(B.$Z,B.WE>B.$Z),m=.12;if(B.WE<B.$Z&&B.WE<D)B.WE=D;if(B.WE>B.$Z&&B.WE>D)B.WE=D;
var Y=Math.abs(B.$Z-D)*(l-U)*.001/m;if(B.WE<B.$Z)B.WE=Math.min(B.$Z,B.WE+Y);else B.WE=Math.max(B.$Z,B.WE-Y)}var a=K==B.$Z?0:(B.WE-B.$Z)/(K-B.$Z);
B.gA.x=B.h.x+a*(B.gA.x-B.h.x);B.gA.y=B.h.y+a*(B.gA.y-B.h.y);this.N8.QL(this.e,null);this.N8.V9(q,this.Bx)}if((q.X9||q.gd||q.qg)&&(!this.EM.Vj||q.NJ)){if(q.qg)q.Ek();
this.cl.V9(q,this.Bx,this.e);this.cw.aBD(q,this.WV);if(cC==1)this.nP.V9(q);q.zf=!1}q.NJ=!1;q.qg=!1;q.X9=null;
q.r5=q.R2=q.gd=!1};g6.prototype.oW=function(W){var q=W.target.tagName.toLowerCase(),X=W.target.getAttribute("type"),k=bu,B=k.aZ(W.code,k.$H);
if(!((q=="input"||q=="select"||q=="button")&&k.aZ(W.code,k.hz))){if(k.aCE(W)&&q!="select"){W.preventDefault()}this.WV.BK(k.sX(W));
this.jm("down")}};g6.prototype.It=function(W){var q=this.WV;if(W.key==" ")q.$T();if(bu.aZ(W.code,bu.afd))q.reset();
q.EN(bu.sX(W));q.at_(W.getModifierState("CapsLock"));var X=W.target.tagName.toLowerCase();if(bu.aCE(W)&&X!="select"){W.preventDefault()}this.jm("up")};
g6.prototype.jm=function(W){var q=this.WV,X=this.jz(),k=X!=null&&X.Y.length!=0;if(this.kw.Ao()!=null){if(q.D(bu.hJ)||q.D(bu.$H)){this.kw.acd()}return}this.VQ();
var B=this.Ku(bu.p7),U=q.D(bu.Wr),l=q.D(bu.m4);if(B&&q.D(bu.xz)&&W=="down"){var K=new ip(S.E.O),D=new ip(S.E.H);
K.J=_.Yo;if(l){K.data={R:"h_stepfwd"}}else{K.data={R:"h_stepbck"}}if(this.YZ.Ao()!=null&&this.YZ.Ao().mf()){}else this.T(K)}if(B){var K=new ip(S.E.O),m=new ip(S.E.dq),D=new ip(S.E.H);
if(q.D(bu.sf)&&q.D(bu.QI)){D.data={R:S.m.K_,ud:"storwindow"};this.T(D)}if(!U&&W=="down")for(var Y in dZ.keys){var a=dZ.keys[Y],p=!0;
for(var N=0;N<a.length;N++)if(!q.D(a[N]))p=!1;if(p){K.J=_.wm;if(Y=="hue2"&&l&&X.U[X.Y[0]].add.SoLd==null)K.data={R:"auto",aBY:3};
else K.data={R:"start",_h:Y}}}if(q.D(bu.m)){if(U){m.data={yx:"selectAllLayers",Og:{classID:"null",null:j0.O8("Lyr",!0)}}}else m.data=_.lR.XU(!0)}if(q.D(bu.uo)){if(U)D.data={R:S.m.K_,ud:"csize"};
else if(X)D.data={R:S.m.G$,sn:l}}if(q.D(bu.lB)&&X.d){m.data=_.lR.XU()}if(q.D(bu.E)&&W=="down"){if(l)m.data={yx:"mergeVisible"};
else if(bM.iC(X).i)m.data={yx:"mergeLayersNew",Og:{__name:"Merge Layers",classID:"Mrg2"}}}if(q.D(bu.aF)){if(l&&this.e.bt!=_.Xx)D.data={R:S.m.K_,ud:"afw_fade"};
else if(U){K.J=_.zF;K.data={R:"applylast"}}else D.data={R:S.m.j8}}if(q.D(bu.Gf)){if(U&&X&&X.Fl(X.Y[0])){K.J=_.b9;
K.data={R:b.W7}}else{K.J=_.b9;K.data={R:b.Pw,_G:l}}}if(cC==1&&q.D(bu.rA)){K.J=_.b9;K.data={R:b.Pw,D7:!0,_G:U}}if(q.D(bu.uv)){D.data={R:S.m.Dt,rl:aI.U$}}if(q.D(bu.sf)){if(l){K.data=null;
if(U)D.data={R:S.m.K_,ud:"finfo"};else m.data={yx:"inverse"}}else if(U)D.data={R:S.m.K_,ud:"isize"}}if(q.D(bu.YJ)){m.data={yx:(l?"cut":"copy")+"ToLayer"}}if(q.D(bu.RI)){D.data={R:S.m.K_,ud:"preferences"}}if(q.D(bu.Xb)){if(l){K.J=_.b9;
K.data={R:b.ZC}}else if(W=="down")D.data={R:S.m.K_,ud:"newproject"}}if(q.D(bu.vV)){if(U)D.data={R:S.m.K_,ud:"storwindow",Bz:0};
else{D.data={R:S.m.hM};q.reset()}}if(q.D(bu.Rt)){D.data={R:S.m.K_,ud:"saveforweb",me:3,aJH:!0}}if(q.D(bu.FV)){D.data={R:S.m.Dt,rl:aI.Oq}}if(q.D(bu.xE)&&W=="down"){if(l){if(U)D.data={R:S.m.K_,ud:"saveforweb"};
else D.data={R:S.m._S}}else D.data={R:S.m.lS}}if(q.D(bu.kJ)){if(l){K.J=_.b9;K.data={R:b.b8};this.T(K);
K.J=_.Xx;K.data={R:"again"}}else D.data={R:S.m.oE,J:_.Xx}}if(q.D(bu.UA)){D.data={R:S.m.M5}}if(q.D(bu.aA5)){this.N8.FB()}if(q.D(bu.XP)&&X&&X.axO()){D.data={R:S.m.Qa}}if(q.D(bu.xt)&&X){K.J=_.hm;
K.data={R:"prvw"}}if(q.D(bu.Vv)||q.D(bu.SP)){K.J=_.b9;K.data={R:b.vz,w7:0};if(q.D(bu.Vv))K.data.w7=l?3:2;
else K.data.w7=l?0:1}if(q.D(bu.$S)&&X&&X.Y.length!=0){var M=X.U[X.Y[0]].P$();m.data={yx:M?"hide":"show",Og:{classID:"null",null:{t:"VlLs",v:[j0.O8("Lyr",!0)]}}}}if(q.D(bu.$H)&&X){var x=0;
if(l)x++;if(U)x+=2;K.J=_.iK;K.data={R:"frompath",jX:[null,0,x]}}if(q.D(bu.tt)){m.data=_.wW.Km(0)}if(q.D(bu.hz)){var R=this.Bx.length,y=q.D(bu.m4)?-1:1;
if(R>1)this.N8.Cu((this.N8.vg()+R+y)%R)}if(q.D(bu.R0)){D.data={R:S.m.Dt,rl:aI.QP}}if(q.D(bu.I6)){D.data={R:S.m.Dt,rl:aI.Pd}}_.OK.aKc(q,K);
if(this.YZ.Ao()!=null&&this.YZ.Ao().mf()){}else{if(K.data)this.T(K);if(m.data)this.T(m);if(D.data)this.T(D)}}if(!B&&U){var s;
if(q.D(bu.Vv))s="Bckw";if(q.D(bu.SP))s="Frwr";if(q.D(bu.$S))s="Back";if(q.D(bu.tt))s="Frnt";if(s){var m=new ip(S.E.dq);
m.data={yx:"select",Og:{__name:"Select",classID:"slct",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:s}}]},MkVs:{t:"bool",v:!1}}};
this.T(m)}}if(X&&X.Y.length!=0){var F=X.U[X.Y[0]],E=F.pw;if(E==1||E==3||B){var K=new ip(S.E.O),o=E==3?F.Q2(X).BD:F.Jx();
if(o){var G=o.kA?X.f.K7.join("")=="111"?1:2:0;K.J=_.hm;if(o&&q.D(bu.hJ)&&G!=0){K.data={R:"mskView",_:0}}if(o&&q.D(bu.agN)){K.data={R:"mskView",_:G==1?0:1}}if(o&&q.D(bu.acR)){K.data={R:"mskView",_:G==2?0:2}}if(K.data)this.T(K)}}}var d=q.z1();
if(X&&B&&2<=d&&d<=5){var u=[1,1,1];if(d>2){u=[0,0,0];u[d-3]=1}var r=new ip(S.E.O,!0);r.J=_.gT;r.data={R:"setcls",K7:u};
this.T(r)}if(!q.D(bu.p7)&&!U&&W=="down"){var K=new ip(S.E.O),D=new ip(S.E.H),v=this.Z.map[this.e.bt],c=-1;
for(var N=0;N<this.Z.keys.length;N++)if(this.Z.keys[N]&&this.Ku(this.Z.keys[N]))c=N;if(c!=-1){var V=null;
if(v.d_!=c)V=this.Z.IM[c];if(v.d_==c&&l)V=(v.aBx+1)%this.Z.zL[c].length;if(V!=null){var j=this.Z.zL[c][V].J.id,Q=this.e.bw;
if((Q==null||Q.indexOf(parseInt(j))!=-1)&&!this.EM.Vj)D.data={R:S.m.oE,J:j}}}if(q.D(bu.uv))D.data={R:S.m.oE,J:_.gT};
if(q.D(bu.FV))D.data={R:S.m.oE,J:_.u5};if(q.D(bu.XP))D.data={R:S.m.Dt,rl:aI.Z$,w7:2};if(q.D(bu.lB))D.data={R:S.m.Dt,rl:aI.Z$,w7:3};
if(D.data)this.T(D);if(q.D(bu.akK)&&X&&X.Y.length==1){var F=X.U[X.Y[0]];K.J=_.b9;var H=F.kW(0)||F.kW(1)||F.kW(2)||F.kW(31);
K.data={R:b.pc,O4:H?[[!1,!1,!1,!1],[0,1,2,31]]:[[!0],[0]]};this.T(K)}var d=q.z1();if(k&&d!=-1&&this.Ku(bu.dh[d])){var T=X.Y[0],F=X.U[T],e=bu.ai6(Math.round(100*F.zO/255),d);
K.J=_.b9;K.data={R:b.s_,O4:Math.round(255*e/100)};this.T(K)}var z=this.e.pu;if(q.D(bu.hz)){D.data={R:S.m.O3,_:z==0?1:0};
this.T(D)}if(q.D(bu.aF)||q.D(bu.hJ)&&z==2){var J=document.fullscreenElement!=null==(z==2);D.data={R:S.m.O3,_:z==0?2:0,FX:J};
this.T(D)}if(q.D(bu.afQ)&&!this.EM.Vj){K.J=_.iK;K.data={R:"qmask"};this.T(K)}}if(!q.D(bu.p7)&&!U&&l){var K=new ip(S.E.O),D=new ip(S.E.H);
if(q.D(bu.$S))D.data={R:S.m.K_,ud:"shortcuts"};if(q.D(bu.afI))D.data={R:S.m.K_,ud:"fill"};if(q.D(bu.a5g))D.data={R:S.m.K_,ud:"sel_feather"};
if(k&&(q.D(bu.Et)||q.D(bu.wn))){var T=X.Y[0],F=X.U[T],P=jm.eB,L=P.length,A=P.indexOf(F.JY);K.J=_.b9;
K.data={R:b.vb,O4:(A+L+(q.D(bu.Et)?1:-1))%L};this.T(K)}if(D.data)this.T(D)}var K=new ip(S.E.O),h=W=="down"&&(this.Ku(bu.GD)||this.Ku(bu.gB));
if((B||U)&&h){K=new ip(S.E.dq);K.data=_.Vz.u$(B?"BckC":"FrgC");this.T(K)}else if(this.YZ.Ao()==null&&X&&h&&!this.EM.Vj){if(X.d!=null){K=new ip(S.E.dq);
K.data={yx:"delete"}}else if(X.Y.length!=0){var F=X.U[X.Y[0]];if(F.pw==1)K.data={R:b.nu};else if(F.pw==3)K.data={R:b.EW};
else K.data={R:b.L5};K.J=_.b9}this.T(K)}if(this.YZ.Ao()!=null){if(q.D(bu.hJ)){this.YZ.Ao().a4b()}else{this.YZ.Ao().jm(X,this,this.e,q)}}if(this.e.bt==null)return;
var v=this.li();if(this.YZ.Ao()==null||this.Z.gQ)v.jm(X,this,this.e,q)};g6.prototype.Ku=function(W){var q=this.WV,X=this.Z.map[this.e.bt].J,top=this.YZ.Ao(),k=this.jz();
return q.D(W)&&!X.hK(W,k)&&(top==null||!top.hK(W,k))};g6.prototype.JC=function(W){var q=this.a7P,X=this.wa;
this.e.pu=W;var k=I.rL,B=this.Vq.K;if(k(B))this.Pc.removeChild(B);var U=this.vC.K;if(k(U))this.Pc.removeChild(U);
var l=this.cw.K;if(k(l))q.removeChild(l);var K=this.N8.K;if(k(K))q.removeChild(K);var D=this.cl.K;if(k(D))q.removeChild(D);
if(W==0){this.Pc.appendChild(B);this.Pc.appendChild(U);X.appendChild(q);q.appendChild(l);q.appendChild(K);
q.appendChild(D)}if(W==1){this.Pc.appendChild(B);q.appendChild(K)}if(W==2){q.appendChild(K)}this.N8.JC(W==2?1:0);
this.t4()};g6.prototype.akp=function(W){if(this.yV())return 1;if(I.aDg()==0){this.e={};this.qL=function(q,X){return Math.sqrt(q*X)}}return-1};
g6.adI=function(){var W=cC==0?[[{J:new _.U6,uw:j4},{J:new _.QO,uw:cq}],[{J:new _.Cz,uw:kV,GM:0},{J:new _.DR,uw:dC,GM:0}],[{J:new _.bh,uw:i1,GM:0},{J:new _.R4,uw:a2,GM:0},{J:new _._K,uw:bO,GM:0}],[{J:new _.t6,uw:kG,GM:0},{J:new _.a8,uw:cN,GM:0},{J:new _.t_,uw:cS,GM:0}],[{J:new _.am5,uw:kA},{J:new _.auF,uw:iK},{J:new _.r1,uw:a0,GM:0},{J:new _.Nc,uw:lm,GM:0}],[{J:new _.Mo,uw:ku},{J:new _.HB,uw:h6,GM:0},{J:new _.VP,uw:jN}],[{J:new _.oi,uw:jf,GM:0},{J:new _.uu,uw:l6,GM:0},{J:new _.bh(!0),uw:aq,GM:0},{J:new _.xl,uw:gm,GM:0},{J:new _.abh,uw:l0,GM:0},{J:new _.e0,uw:dt,GM:0}],[{J:new _.br,uw:hk,GM:0},{J:new _.T1,uw:gh,GM:0},{J:new _.ba,uw:j9,GM:0}],[{J:new _.Oy,uw:ck,GM:0}],[{J:new _.gz,uw:bC,GM:0},{J:new _.dI,uw:gK,GM:0},{J:new _.s8(!0),uw:jV,GM:0}],[{J:new _.ce,uw:ba,GM:0},{J:new _.s8,uw:jV,GM:0}],[{J:new _.fL,uw:kT,GM:0},{J:new _.za,uw:fO,GM:0},{J:new _.GP,uw:fc,GM:0}],[{J:new _.r0,uw:a_,GM:0},{J:new _.Hy,uw:eg,GM:0},{J:new _.TO,uw:ah,GM:0}],[{J:new _._n,uw:dG},{J:new _.YI,uw:dG}],[{J:new _._$(0),uw:jO},{J:new _.XB,uw:b2},{J:new _._$(1),uw:jO},{J:new _._$(2),uw:jO},{J:new _._$(3),uw:jO},{J:new _._$(4),uw:jO}],[{J:new _.a5,uw:dH},{J:new _.N7,uw:kv}],[{J:new _.Rect,uw:bV},{J:new _.am,uw:cT},{J:new _.yA,uw:e7},{J:new _.F$,uw:dX},{J:new _.M2,uw:di}],[{J:new _.gw,uw:kU},{J:new _.mF,uw:fA}],[{J:new _.OK,uw:jw}]]:[[{J:new _.U6,uw:j4}],[{J:new _.N7,uw:kv}],[{J:new _._$(0),uw:jO}],[{J:new _.XB,uw:b2}],[{J:new _._n,uw:dG},{J:new _.YI,uw:dG}],[{J:new _.yA,uw:e7}],[{J:new _.Rect,uw:bV},{J:new _.am,uw:cT}],[{J:new _.fK,uw:kU}],[{J:new _.nX,uw:ba}],[{J:new _.Mo,uw:ku}],[{J:new _.gw,uw:kU},{J:new _.mF,uw:fA}],[{J:new _.OK,uw:jw}]],K="",D="";
if(cC==0&&!I.fO(1))W[6].splice(2,1);var q=cC==0?[bu.UA,bu.i8,bu.xd,bu.aA5,bu.uo,bu.sf,bu.YJ,bu.Jc,bu.xE,bu.E,bu.Gf,null,bu.vV,bu.kJ,bu.Rt,bu.m,bu.QI,bu.uv,bu.xz]:[bu.UA,bu.m,bu.Rt,null,bu.kJ,bu.agN,bu.i8,null,bu.Gf,bu.sf,bu.uv,bu.xz],X=[{J:_.hm,g9:!1,Rl:[bu.aux,bu.BC]},{J:_.hm,g9:!1,Rl:[bu.aux],hG:[_.gT]},{J:_.gT,g9:!1,Rl:[bu.BC]},{J:_.eP,g9:!0,Rl:[bu.p7],hG:[_.pz]},{J:_.pz,g9:!0,Rl:[bu.p7],hG:[_.eP]},{J:_.dm,g9:!0,Rl:[bu.p7],hG:[_.ZA,_.wz,_.IB]}];
if(cC==0)X.push({J:_.ZA,g9:!0,Rl:[bu.p7],hG:[_.dm,_.FE,_.h0,_.c0,_.lb,_.Lu]});X.push({J:_.zl,g9:!0,Rl:[bu.p7]});
var k={aJR:X,zL:W,IM:[],keys:q,Gp:[{J:new _.ano,uw:c0},{J:new _.aKU,uw:ik},{J:new _.aoI,uw:k6},{J:new _.Mo(!0),uw:ku},{J:new _.i0,uw:f$},{J:new _.ff,uw:c$},{J:new _.t0,uw:gW}],atQ:[{J:new _.zB},{J:new _.History},{J:new _.ds},{J:new _.Fx},{J:new _.oc},{J:new _.y6}],map:{},afg:null,gQ:null,Ne:null},B=k.zL;
for(var N=0;N<B.length;N++){var U=B[N];if(js=="---")continue;for(var l=0;l<U.length;l++)if(U[l].GM!=null&&U[l].GM!=cC){U.splice(l,1);
l--}if(U.length==0){B.splice(N,1);k.keys.splice(N,1);N--}}for(var N=0;N<k.zL.length;N++){var m=k.zL[N];
if(m=="---")continue;var Y=k.keys[N];for(var l=0;l<m.length;l++){k.map[m[l].J.id]=m[l];m[l].d_=N;m[l].aBx=l;
var a=js.get(m[l].J.name);D+="<li>"+m[l].J.id+": "+a+"</li>";K+="\t"+JSON.stringify(m[l].J.name)+", "+(Y?"\""+Y.J6+"\"":"null")+", "+m[l].J.id+", // "+a+"\n"}k.IM[N]=0}for(var N=0;
N<k.Gp.length;N++)k.map[k.Gp[N].J.id]=k.Gp[N];for(var N=0;N<k.atQ.length;N++)k.map[k.atQ[N].J.id]=k.atQ[N];
try{var p=window.locStor.getItem("_ltools");if(p){p=p.split(",");for(var N=0;N<p.length;N++){var M=k.map[p[N]];
if(M&&M.d_!=null)k.IM[M.d_]=M.aBx}}}catch(bu){alert("could not load the tool preferences");console.log("Last tools: ",window.locStor.getItem("_ltools"))}return k};
function b6(W){gH.call(this);if(W==null)return;this.Ah=null;this.QB=null;this.K=I.a("div","sbar"+" "+W);
this.cW=new I.a("div","top");this.cW.innerHTML="> <";this.K.appendChild(this.cW);this.Yv=1;this.cW.addEventListener("click",this.aAD.bind(this),!1)}b6.prototype=new gH;
b6.prototype.aAD=function(W){if(this.Ah!=null&&this.Ah<500&&this.Yv==0)return;if(this.Yv==0)this.F_(!0);
else this.collapse(!0)};b6.prototype.abF=function(W){this.Yv=W;this.cW.innerHTML=this.Yv==0?"< >":"> <"};
b6.prototype.azO=function(){var W=new ip(S.E.H,!0);W.data={R:S.m.xT};this.T(W)};b6.prototype.F_=function(W){this.abF(1);
if(W)this.azO()};b6.prototype.collapse=function(W){this.abF(0);if(W)this.azO()};b6.prototype.$d=function(){return this.Yv==1};
function da(W){b6.call(this,"vcolumn");this.aD=W;this.$l();this.hl=I.a("div","cont");I.w(this.hl,"cursor:default;");
this.ayS=this.ate.bind(this);this.az0=this.aIE.bind(this);this.a0x=this.a4H.bind(this);I.aA(this.K,this.ayS);
this.K.appendChild(this.hl);this.aJk=I.a("div");this.hl.appendChild(this.aJk);this.C6=-1;this.a5o=I.a("div","float");
var q=this.WH=I.a("canvas","gsicon"),X=Math.round(12*I.W$());q.width=q.height=X;var k=q.getContext("2d");
k.moveTo(2,2);k.lineTo(X-2,X-2);k.moveTo(2,7);k.lineTo(X-7,X-2);k.stroke();I.w(this.WH,"position:absolute; bottom:0;  left:0;  cursor:nesw-resize;");
I.TK(this.WH);I.aA(this.WH,this.ayS);I.V7(q);this.nx=[];this.afh=[];this.a6e=null;this.Lt=null;this.aq2=0}da.prototype=new b6;
da.prototype.ate=function(W){var q=W.target==this.WH;if(!q){if(W.target!=this.K)return;if(!this.$d())return}else{var X=this.nx[this.C6].O0;
X.style.pointerEvents="none";var k=X.getBoundingClientRect();this.a6e=[k.width,k.height];this.afh[this.C6]=[k.width,k.height]}W.stopPropagation();
this.Lt=I.IO(W,document.body);this.aq2=this.aD;I.wO(document,this.az0);I.DA(document,this.a0x)};da.prototype.aIE=function(W){var q=I.IO(W,document.body);
if(this.$d()){this.aD=this.aq2+this.Lt.x-q.x;this.$l()}else{var X=this.afh[this.C6],k=this.a6e;X[0]=k[0]+this.Lt.x-q.x;
X[1]=k[1]+q.y-this.Lt.y}var B=new ip(S.E.H,!0);B.data={R:S.m.xT};this.T(B)};da.prototype.a4H=function(W){if(!this.$d()){var q=this.nx[this.C6].O0;
q.style.pointerEvents="auto"}I.yO(document,this.az0);I.xB(document,this.a0x)};da.prototype.atH=function(W){W.Q("showFloat",this.alf,this);
W.Q("hideFloat",this.K4,this);this.nx.push(W);W.parent=this;this.hl.appendChild(W.K)};da.prototype.aIV=function(N){var W=this.nx[N];
W.removeEventListener("showFloat",this.alf,this);W.removeEventListener("hideFloat",this.K4,this);this.nx.splice(N,1);
W.parent=null;this.hl.removeChild(W.K)};da.prototype.adu=function(){return this.nx.length};da.prototype.$$=function(){for(var N=0;
N<this.nx.length;N++)this.nx[N].$$()};da.prototype.alf=function(W){this.$$();var q=this.a5o;this.aJk.appendChild(q);
this.C6=this.nx.indexOf(W.currentTarget);var X=this.nx[this.C6].O0;I.ru(q);q.appendChild(X);q.appendChild(this.WH);
this.qL(this.Ah,this.QB)};da.prototype.K4=function(W){this.$$();if(this.C6!=-1){this.aJk.removeChild(this.a5o);
this.C6=-1}};da.prototype.$l=function(){function W(q){return Math.round(q*I.W$())/I.W$()}I.w(this.K,"width: "+this.aD+"px; border-left-width:"+W(4)+"px; cursor:ew-resize;")};
da.prototype.F_=function(W){this.$l();this.K4();for(var N=0;N<this.nx.length;N++)this.nx[N].F_();b6.prototype.F_.call(this,W)};
da.prototype.collapse=function(W){this.K.removeAttribute("style");for(var N=0;N<this.nx.length;N++)this.nx[N].collapse();
b6.prototype.collapse.call(this,W)};da.agl=11;da.prototype.qL=function(W,q,X){this.Ah=W;this.QB=q;q-=da.agl;
var k=this.nx.length;if(k==0)return;this.hl.style.height=q-1+"px";if(!this.$d()){var B=q<400?q:400+(q-400)*.5,U=Math.max(this.aD,(window.innerWidth-350)/3);
for(var N=0;N<k;N++){var l=this.nx[N],K=this.afh[N];l.qL(K?K[0]:l.ah8?U:this.aD,K?K[1]:B,X)}}else{var D=q;
for(var N=0;N<k;N++){var l=this.nx[N],m=l.aaw();if(N==k-1){m=D;l.K.style.borderBottom="none"}l.qL(this.aD,m);
D-=m+4}}};function fZ(W){gH.call(this);this.K=I.a("div");this.hl=null;this.CU=0;this.f$=0;this.akR=W;
this.axZ=this.S4.bind(this);this.alQ=this.HL.bind(this);this.atA=this.qO.bind(this);this.tY=null;this.Ou=null;
this.a1B=null;var q=this.K,k="<svg class=\"gsicon\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">";
I.aA(q,this.axZ);q.addEventListener("touchmove",I.iR,!1);this.aDb=!0;this.$v=[];var X=this.avX=I.a("div");
I.w(X,"float:right; padding:4px;display:none; position:relative;z-index:1; app-region:no-drag;");q.appendChild(X);
var B=[[0,13,3],[0,13,4],[0,13,5],"Blog","API",k+"<path d=\"m21.325 9.308c-.758 0-1.425.319-1.916.816-1.805-1.268-4.239-2.084-6.936-2.171l1.401-6.406 4.461 1.016c0 1.108.89 2.013 1.982 2.013 1.113 0 2.008-.929 2.008-2.038s-.889-2.038-2.007-2.038c-.779 0-1.451.477-1.786 1.129l-4.927-1.108c-.248-.067-.491.113-.557.365l-1.538 7.062c-2.676.113-5.084.928-6.895 2.197-.491-.518-1.184-.837-1.942-.837-2.812 0-3.733 3.829-1.158 5.138-.091.405-.132.837-.132 1.268 0 4.301 4.775 7.786 10.638 7.786 5.888 0 10.663-3.485 10.663-7.786 0-.431-.045-.883-.156-1.289 2.523-1.314 1.594-5.115-1.203-5.117zm-15.724 5.41c0-1.129.89-2.038 2.008-2.038 1.092 0 1.983.903 1.983 2.038 0 1.109-.89 2.013-1.983 2.013-1.113.005-2.008-.904-2.008-2.013zm10.839 4.798c-1.841 1.868-7.036 1.868-8.878 0-.203-.18-.203-.498 0-.703.177-.18.491-.18.668 0 1.406 1.463 6.07 1.488 7.537 0 .177-.18.491-.18.668 0 .207.206.207.524.005.703zm-.041-2.781c-1.092 0-1.982-.903-1.982-2.011 0-1.129.89-2.038 1.982-2.038 1.113 0 2.008.903 2.008 2.038-.005 1.103-.895 2.011-2.008 2.011z\"/>",k+"<path d=\"M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z\"/></svg>",k+"<path d=\"M23.9981 11.9991C23.9981 5.37216 18.626 0 11.9991 0C5.37216 0 0 5.37216 0 11.9991C0 17.9882 4.38789 22.9522 10.1242 23.8524V15.4676H7.07758V11.9991H10.1242V9.35553C10.1242 6.34826 11.9156 4.68714 14.6564 4.68714C15.9692 4.68714 17.3424 4.92149 17.3424 4.92149V7.87439H15.8294C14.3388 7.87439 13.8739 8.79933 13.8739 9.74824V11.9991H17.2018L16.6698 15.4676H13.8739V23.8524C19.6103 22.9522 23.9981 17.9882 23.9981 11.9991Z\"/></svg>"];
for(var N=0;N<B.length;N++){var U=new iC(B[N]);this.$v.push(U);I.w(U.K,"margin-left:"+(N<7?4:0)+"px;cursor:pointer;");
U.Q("click",this.Da,this)}}fZ.prototype=new gH;fZ.prototype.l=function(){var W=this.avX;I.ru(W);for(var N=0;
N<this.$v.length;N++){var q=this.$v[N];if(N<5)q.l();W.appendChild(q.K)}};fZ.prototype.Da=function(W){var N=this.$v.indexOf(W.currentTarget);
if(N==0){if(window.showCap)window.showCap();return}var q=" issues learn blog api twitter facebook".split(" "),X=["","//github.com/photopea/"+["photo","vector"][cC]+"pea/issues","//www.photopea.com/learn","//blog.photopea.com","//www.photopea.com/api","//www.reddit.com/r/photopea","//www.twitter.com/photopeacom","//www.facebook.com/photopea"],k=window.ga;
if(k)k("send","event","Links",q[N]);var B=new ip(S.E.H,!0);B.data={R:S.m.p4,link:X[N]};this.T(B)};fZ.prototype.S4=function(W){if(W.a4O){W.preventDefault();
W.stopPropagation()}var q=window;I.wO(q,this.alQ);I.DA(q,this.atA);q=this.hl;this.tY=new hw(parseInt(q.style.left),parseInt(q.style.top));
this.Ou=I.IO(W,this.K);this.a1B=q.getBoundingClientRect()};fZ.prototype.HL=function(W){var q=I.IO(W,this.K),X=this.tY.x+q.x-this.Ou.x,k=this.tY.y+q.y-this.Ou.y,B=this.CU-this.a1B.width,U=this.f$-this.a1B.height;
if(this.akR)this.hl.style.left=Math.min(0,Math.max(B,X))+"px";else this.hl.style.top=Math.min(0,Math.max(U,k))+"px";
if(X-10>0){this.Ou.x=q.x-10;this.tY.x=0}if(X+10<B){this.Ou.x=q.x+10;this.tY.x=B}};fZ.prototype.qO=function(W){var q=window;
I.yO(q,this.alQ);I.xB(q,this.atA)};fZ.prototype.a90=function(W){if(this.hl){this.K.removeChild(this.hl)}this.hl=W;
this.K.appendChild(W);W.style.position="absolute";W.style.appRegion="no-drag";if(this.akR)W.style.left=0;
else W.style.top=0};fZ.prototype.qL=function(W,q){this.CU=W;this.f$=q;I.w(this.K,"position:relative; width: "+W+"px; height: "+q+"px; overflow:hidden; white-space: nowrap; app-region:drag;");
var X=this.hl.firstChild,k=this.avX,B=X?X.firstChild.getBoundingClientRect().width:1e9,U=170,l=navigator.windowControlsOverlay,K=0,D=0;
if(l&&l.visible){var m=l.getTitlebarAreaRect();D=m.x;K=W-m.width-m.x;if(K<0)K=0;B+=m.x;U+=K}var Y=this.aDb&&W>B+U;
k[ia.FW][ia.ag2]=Y?"":ia.apA;k[ia.FW][ia.oA]=K+"px";if(X){X[ia.FW][ia.ado]=D+"px";X[ia.FW][ia.akC]=ia.aEA}var a=this.$v;
for(var N=0;N<a.length;N++){var p=N>4||W-B-U>330?"":ia.apA,M=a[N];M.K.style.display=p}};fZ.prototype.aCt=function(){this.hl.style.left="0";
this.hl.style.top="0"};function jk(){gH.call(this);this.e=null;this.HM=jk.Rt;this.a7$="";this.K=I.a("div","rightbar");
this.nd=[new da(300),new da(268)];this.nx=[new eF,new eF,new eF,new eF,new eF,new eF,new eF(null,!0)];
this.aBW=[]}jk.prototype=new gH;jk.prototype.l=function(){var W=this.HM;for(var N=0;N<W.length;N++)W[N].ii.l()};
jk.Rt=cC==0?[{ii:new kM,jR:3},{ii:new bg,jR:1},{ii:new gL,jR:4},{ii:new hz,jR:2},{ii:new la(!0),jR:5},{ii:new ii(!0),jR:5},{ii:new ai,jR:0},{ii:new ce,jR:5},{ii:new e$,jR:3},{ii:new hR,jR:0},{ii:new fn,jR:3},{ii:new bM,jR:2},{ii:new jx,jR:4},{ii:new jQ,jR:3},{ii:new bh,jR:5},{ii:new la(!1),jR:5},{ii:new ar,jR:2},{ii:new bS,jR:3},{ii:new jL,jR:1},{ii:new jp,jR:0},{ii:new eQ,jR:5},{ii:new h4,jR:4},{ii:new an,jR:6,tr:!0}]:[{ii:new d_,jR:5},{ii:new la(!0),jR:5},{ii:new la(!1),jR:5},{ii:new h4,jR:4},{ii:new ce,jR:5},{ii:new hR,jR:0},{ii:new bM,jR:2},{ii:new aX,jR:6},{ii:new an,jR:6,tr:!0}];
if(I.fO(1))jk.Rt.push({ii:new av,jR:6,tr:!0});jk.Rt.push({ii:new ga,jR:6,tr:!0},{ii:new dg,jR:6,tr:!0});
(function(){var W=[{name:"Gallery",url:"//www.photopea.com/plugins/gallery.html",icon:"===data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgBAMAAAB54XoeAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAB5QTFRFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAtyhvagAAAAp0Uk5TAP+mc4pfC+rILiKk3cQAAALjSURBVHic7dq/bxMxFAdwKy1HM16up4QtDCDYkv8gTIgtZWGNWMpIJKhgLAtriyrx71Lnh8/2e76c3/tOxW9olUb56Fvf3bPPOWNKlSpVqtSxPv6uIfXj1d77hOFs/bTeGc6r68UjuESCjTHPkF5dr801FrwxV1iwNS+x4MRs7a+3iNP5j5Vmxv5sEN7+fJnuwDkGHFlrB95hwLEDNxiwciDGM+Zpgw9v6vrXBxg4fr+/Lr6F54cYrNz1OtlAQK/Hf0eAI78bzPVgdRu0l40avAgblhdRCEYddKIFySS0VoJkErpRgmTO6P5nETiOPa+disBzCq5U4HMKflWB9xR8oQLfUfBSBTILA3eYReAtBWcqkHrd5ws4rOAHBX7aMCe2Ww2KwHsK6i49eHOAty94g4VPAfhJSjGNngUj7ko+0e/OYXoPMwrB+WDwcIIs4r9XQcSMxdJy/4kTEb2AJ0B3p08iChecy+NnLslboiWxtxWxIm9KFu1em6IRBbcVwcDTiHz1gUEfHXo/3QNGTYoe6FwwavQDI6bB6OryG4AMJD2v1YFMmx8UMQkyU+WgiCmQjGAU8Tx14FMgu9nkRUz0ySTIBvQipvpkEkzshrmIhxFmIvJgIqCL2NMneTC5XXeItIxenwKTAQ8RvT5JIrJgz35iGwRkInJgT0BacUQOzNrwjCMyYFZAEpEBM3dk21NgZsC4CVEwe8u47QeZPpgVkYCCPe2mD8weQVuLHlC06d6kQcEIRhEjUPitQJsCP8s8P2IIMvetuREDUHSIo4gBqPhepeVARcAuogdW4hG01VDwi8ZzETtQF9CtwjtQGfAYsQPVX501ISi+SLpaB6ByBG21AYioNRps0aA90FiwQYOPEcFggwbrBRps0GBdwAIW8AmBW6w3la8z+Zrhn7e5woIt/pkl4d1JqlbqpWFYs40xf5GgfdZtvMV50zvVLRSt1/ul8QPqccF4X7tUqVKl/uf6BxTPzN+MDvNvAAAAAElFTkSuQmCC"},{name:"Peas Maker",url:"//www.photopea.com/plugins/peasmaker"}];
for(var N=0;N<W.length;N++)jk.Rt.push({ii:new k9(W[N],""+(100+N)),jR:6,tr:!0})}());jk.prototype.anB=function(W){for(var N=0;
N<W.length;N++){var q=W[N],X=new k9(q,"plg_"+q.name);this.HM.push({ii:X,jR:6});this.aBW.push(X.cJ)}this.L8()};
jk.prototype.QL=function(W,q){this.e=W;var X=this.HM;for(var N=0;N<X.length;N++)X[N].ii.QL(W,q);if(q==aI.aO||q==aI.k$||q==aI.NC)this.L8()};
jk.prototype.mu=function(W){var q=this.HM;for(var N=0;N<q.length;N++)q[N].ii.mu(W)};jk.prototype.qL=function(W,q){this.Ah=W;
this.QB=q;this.L8();this.nd[0].qL(W,q);this.nd[1].qL(W,q)};jk.prototype.L8=function(){var W=this.e,q=this.Ah,X=this.QB;
if(W==null||q==0)return;var k=this.aBW;for(var N=0;N<k.length;N++){var B=this.GH(k[N]),U=B.ii.Pq.resID;
if(U!=null&&W.ij.indexOf(U)==-1){k.splice(N,1);N--}}var l=W.v3.concat(k),K=q<500||q<700&&q<X,D=JSON.stringify(l)+","+K;
if(D!=this.a7$){this.a7$=D;I.ru(this.K);var m=[];for(var N=0;N<this.nd.length;N++){var Y=this.nd[N];
m[N]=Y.$d();while(Y.adu()!=0)Y.aIV(0);Y.F_()}var a=[];for(var N=0;N<this.nx.length;N++){var p=this.nx[N];
p.F_();while(p.aiR()!=0)p.DD(0);a.push(0)}for(var N=0;N<l.length;N++){var B=this.GH(l[N].toString());
if(B==null)continue;this.nx[B.jR].IQ(B.ii);this.nx[B.jR].Cu(0);a[B.jR]++}var M=[];for(var N=0;N<a.length;
N++){if(a[N]==0)continue;var x=N<3||K?1:0,Y=this.nd[x];Y.parent=this;Y.atH(this.nx[N]);M[x]=!0}for(var N=0;
N<this.nd.length;N++)if(M[N])this.K.appendChild(this.nd[N].K);this.nd[0].collapse();if(q<700||this.e.compact||!m[1]){this.nd[1].collapse()}var R=new ip(S.E.H,!0);
R.data={R:S.m.xT};this.T(R)}};jk.prototype.GH=function(W){for(var N=0;N<this.HM.length;N++)if(this.HM[N].ii.cJ==W)return this.HM[N]};
jk.prototype.aKl=function(W){var q=this.GH(W);if(q==null)return;this.nx[q.jR].IQ(q.ii)};jk.prototype.V9=function(W,q,X){var k=this.HM;
for(var N=0;N<k.length;N++)k[N].ii.V9(W,q,X)};jk.prototype.mc=function(W,q,X,k,B){var U=this.HM;for(var N=0;
N<U.length;N++)U[N].ii.mc(W,q,X,k,B)};jk.prototype.lG=function(W,q,X,k,B){var U=this.HM;for(var N=0;
N<U.length;N++)U[N].ii.lG(W,q,X,k,B)};jk.prototype.iY=function(W,q,X,k,B){var U=this.HM;for(var N=0;
N<U.length;N++)U[N].ii.iY(W,q,X,k,B)};function jy(W,q){b6.call(this,"toolbar");this.K.removeChild(this.cW);
this.da=I.a("div","tools");this.K.appendChild(this.da);this.bw=null;this.bt=null;this.a81=q;this.tx=null;
this.Zl=null;this.adl=-1;var X=window.locStor.getItem("_ltools");this.b2=X?X.split(","):[];this.akg=W;
this.Z=null;this.Bv=null;this.aN=null;this.aB6=null;this.Dc=new f8;this.Dc.K.style.marginTop="5px";this.Dc.K.style.marginBottom="3px";
this.Dc.parent=this;this.hh=new iC(I.KG("lrs/mask"),!1,[6,6,1]);this.hh.Q("click",function(l){var K=new ip(S.E.O,!0);
K.J=_.iK;K.data={R:"qmask"};this.T(K)},this);var k=new fa(null,["Ctrl","Alt","Shift","No Touch"],!0,null,null,!0);
k.Q(S.E.k,this.a03,this);var B=I.a("span","rangecontFloat form padded");B.appendChild(k.K);I.w(B,"position:absolute; width:119px; z-index:2;  padding-right:0px; ");
var U=this.K;this.afH=[!1,!1,!1,!1];this.bR=new iC(I.KG("kb"),!1,"Virtual Keys");this.bR.Q("click",function(l){var K=this.bR.K.getBoundingClientRect();
B.style.top=K.top-110+"px";B.style.left=K.left+K.width+8+"px";if(I.rL(B)){I.Gs({K:B},U)}else{U.appendChild(B);
I.NH({K:B})}},this)}jy.prototype=new b6;jy.prototype.a03=function(W){var q=W.target.V();this.bR.q(q[0]||q[1]||q[2]||q[3]);
var X=new ip(S.E.H,!0);for(var N=0;N<4;N++){if(q[N]!=this.afH[N]){X.data={R:S.m.aDN,Vj:q[N],aK9:[bu.kb()?"MetaLeft":"ControlLeft","AltLeft","ShiftLeft","NoTouch"][N]};
this.T(X)}}this.afH=q.slice(0)};jy.prototype.aBD=function(W,q){this.tx=q;this.Zl=W;if(W==null||W.Y.length==0||W.U[W.Y[0]]==null)return;
var X=W.hh()!=null,k=W.f.K7,B=W.U[W.Y[0]].pw,U=B==1||B==3||X||k[0]+k[1]+k[2]==1;this.Dc.awX(U);this.hh.q(X)};
jy.prototype.avW=function(W,q){var X=W.length,k=[];for(var N=0;N<X;N++)k[N]=W[N].slice(0);W=k;var B=[1,2,4,5,7,8,7,9,11,12,14,15,14,16,10,11,1,3,17,18,7,6,13,14],U=Math.min(B.length/2,X-q);
for(var N=0;N<U;N++){var l=B[2*N],K=B[2*N+1];W[l]=W[l].concat(W[K]);W[K]=null}for(var N=0;N<W.length;
N++)if(W[N]==null){W.splice(N,1);N--}return W};jy.prototype.ap_=function(W,q){for(var N=0;N<q.length;
N++)for(var X=0;X<q[N].length;X++)if(q[N][X].J.id==W)return N};jy.prototype.a00=function(W){var q=this.akg;
this.Bv=[];this.aN=[];this.aB6=[];this.Z=[];var X=q.zL;if(W!=null&&this.a81)X=this.avW(X,W);var k=this.bw;
if(k){var B=[];for(var N=0;N<X.length;N++){var U=[];for(var l=0;l<X[N].length;l++){var K=X[N][l];if(k==null||k.indexOf(parseInt(K.J.id))!=-1)U.push(K)}if(U.length>0)B.push(U)}X=B}for(var N=0;
N<X.length;N++){var D=[],m=this.Bv.length,Y=null,a=-1;for(var l=0;l<X[N].length;l++){var K=X[N][l].J,p=this.ap_(K.id,q.zL),M=q.keys[p];
if(M==bu.uv&&l==1)M=bu.FV;this.Z.push(K);var x=new bw(K.name,M,K.iI,this.Bv.length,N,X[N].length>1);
this.Bv.push(x);var R=this.b2.indexOf(K.id);if(R==-1)R=0;if(R>a){a=R;Y=x}x.Q(S.E.k,this.P7,this);x.Q("mover",this.YM,this);
D.push({name:K.name,S7:K.iI,Rl:M?M.J6:""})}this.aN.push(Y);this.aB6.push(D.length==1?null:[D,m])}};jy.prototype.qL=function(W,q){var X=this.QB=q,k=20;
if(1<I.W$()&&I.W$()<1.5)k=20/I.W$();k+=12.7;var B=this.QB>640&&cC==0?2:1,U=34+5+3+B*(k+4),l=Math.floor((X-U)/k);
if(l!=this.adl){this.adl=l;this.a00(l);this.lI()}var K=this.aN.length*k+U,D=Math.min(1,X/K);if(.75<=D){I.w(this.da,"width:34px; transform-origin: top left; transform: scale("+D+","+D+");");
I.w(this.K,"height:"+(q-2)+"px;")}else{X-=4;I.w(this.da,"height: "+X+"px;  width:"+Math.ceil(K/X)*34+"px");
I.w(this.K,"")}};jy.prototype.l=function(){if(this.Z==null)return;for(var N=0;N<this.Bv.length;N++)this.Bv[N].l()};
jy.prototype.P7=function(W){var q=new ip(S.E.H,!0);q.data={R:S.m.oE,J:this.Z[W.id].id};this.T(q)};jy.prototype.aGF=function(W){var q=W.target.aBJ+W.target.kN()[0];
this.Bv[q].qO(null,!0)};jy.prototype.YM=function(W){var q=this.tx,X=new ip(S.E.H,!0);X.data={R:S.m.Je};
this.T(X);var k=W.target,B=this.aB6[k.d_];if(B==null)return;var U=new j_(B[0],null,!0);U.aBJ=B[1];U.d_=k.d_;
U.Q("select",this.aGF,this);U.parent=this;U.l();var l=k.K.getBoundingClientRect(),X=new ip(S.E.H,!0);
X.data={R:S.m.k8,ii:U,x:l.left+l.width+8,y:l.top};if(q==null||!(q.D(bu.BC)||q.D(bu.p7)))this.T(X)};jy.prototype.lI=function(W){if(W==null)W=this.bt;
this.bt=W;if(this.Z==null)return;var q=this.b2.indexOf(W);if(q!=-1)this.b2.splice(q,1);this.b2.push(W);
window.locStor.setItem("_ltools",this.b2.join(","));var X=-1;for(var N=0;N<this.Z.length;N++)if(this.Z[N].id==W)X=N;
for(var N=0;N<this.Bv.length;N++){var k=this.Bv[N];k.avG(X==N)}if(X==-1)return;this.aN[this.Bv[X].d_]=this.Bv[X];
I.ru(this.da);var B=this.aN;for(var N=0;N<B.length;N++){this.da.appendChild(B[N].K)}if(!this.a81)return;
this.da.appendChild(this.Dc.K);if(this.QB>640&&cC==0)this.da.appendChild(this.hh.K);this.da.appendChild(this.bR.K)};
jy.prototype.QL=function(W,q){if(q==aI.NC&&W.bw){this.bw=W.bw;this.a00();this.lI()}this.Dc.aaM(W.w5,W.yY);
if(cC==1&&(q==aI.z7||q==aI.NC)){this.Dc.ai2(W,this.Zl)}};function bw(W,q,X,k,B,U){gH.call(this);this._r=0;
this.MQ=this.aw0.bind(this);this.d_=B;this.NS=k;this._Z=W;this.ad=q;this.a8M=U;this.iI=X;this.K=I.a("button","");
this.K.innerHTML=I.KG(this.iI);if(this.a8M){var l=I.a("img","gsicon");l.setAttribute("src",PIMG["tools/corner"]);
I.w(l,"position:absolute; right:0;  bottom:0; width:100%; height:100%;");this.K.appendChild(l)}this.K.addEventListener("touchstart",I.iR,!1);
this.l();I.aA(this.K,this.S4.bind(this));I.DA(this.K,this.qO.bind(this));this.K.addEventListener("contextmenu",this.MQ,!1);
this.K.addEventListener("contextmenu",bw.hk,!1)}bw.prototype=new gH;bw.hk=function(W){W.stopPropagation();
W.preventDefault();return!1};bw.prototype.l=function(){var W=this.ad?" ("+this.ad.J6+")":"";this.K.setAttribute("title",js.get(this._Z)+W)};
bw.prototype.S4=function(W){bw.tW=this.NS;this._r=setTimeout(this.MQ,160)};bw.prototype.qO=function(W,q){if(q==null&&bw.tW!=this.NS)return;
clearTimeout(this._r);var X=new ip(S.E.k,!1);X.target=this;X.id=this.NS;this.T(X)};bw.prototype.aw0=function(W){var q=new ip("mover",!1);
q.target=this;q.id=this.NS;this.T(q)};bw.prototype.avG=function(W){this.K.className=W?"toolbtn active":"toolbtn"};
function hd(){gH.call(this);this.K=I.a("div","topbar");this.a3g=I.a("span");this.a9M=I.a("span");this.a70=0;
this.K.appendChild(this.a3g);this.K.appendChild(this.a9M);this.LV=null;this.e=null;this.dt=[];this.v3=[];
var W=this.S4.bind(this);for(var N=0;N<hd.data.length;N++){var q=I.a("button");this.dt.push(q);var X=hd.data[N];
q.addEventListener("mouseover",W,!1);I.aA(q,W)}this.ZP=new iC([0,13,0],!1,null,!0);this.ZP.Q("click",this.Vw,this);
this.u9=new iC(I.KG("tools/zoom",null,"autoscale"),!1,[12,86]);this.u9.Q("click",this.Vw,this);this.ajh=new iC("<svg class=\"gsicon\" version=\"1.1\"  width=\"20\" height=\"20\" viewBox=\"8 8 20 20\"><path d=\"m 10,16 2,0 0,-4 4,0 0,-2 L 10,10 l 0,6 0,0 z\"></path><path d=\"m 20,10 0,2 4,0 0,4 2,0 L 26,10 l -6,0 0,0 z\"></path><path d=\"m 24,24 -4,0 0,2 L 26,26 l 0,-6 -2,0 0,4 0,0 z\"></path><path d=\"M 12,20 10,20 10,26 l 6,0 0,-2 -4,0 0,-4 0,0 z\"></path></svg>",!1,"Fullscreen");
this.ajh.Q("click",this.Vw,this)}hd.prototype=new gH;hd.prototype.apC=function(){if(this.v3.length!=0)return;
for(var N=0;N<hd.data.length;N++){var W=hd.data[N],q=new j_(W.items,W.rx);q.parent=this;this.v3.push(q)}this.l()};
hd.prototype.l=function(){this.ZP.l();this.u9.l();this.ajh.l();for(var N=0;N<this.dt.length;N++)this.dt[N].textContent=js.get(hd.data[N].name);
this.axQ();for(var N=0;N<this.v3.length;N++)this.v3[N].l()};hd.prototype.Vw=function(W){var q=new ip(S.E.H,!0);
if(W.target==this.ZP)q.data={R:S.m.K_,ud:"account"};else if(W.target==this.u9)q.data={R:S.m.j8};else q.data={R:S.m.O3,FX:!0};
this.T(q)};hd.prototype.ol=function(W,q){this.LV=W;this.e=q};hd.prototype.QL=function(W,q){this.e=W;
if(q==aI.NC){var X=W.aes;I.ru(this.a3g);for(var N=0;N<this.dt.length;N++){var k=hd.data[N];if(X==null||X[N]==1||X[N]instanceof Array)this.a3g.appendChild(this.dt[N]);
if(X!=null&&X[N]instanceof Array){this.apC();this.v3[N].a1J(X[N])}}var B=this.a9M;I.ru(B);if(W.J7){B.appendChild(this.ZP.K)}B.appendChild(this.u9.K);
B.appendChild(this.ajh.K)}this.axQ()};hd.prototype.axQ=function(W,q){var X=this.ZP,k=12255232;if(gv.XV())k=gv.jj()?43520:16755200;
I.w(X.K,"color:#ffffff; background-color:#"+g.Ga(k))};hd.prototype.S4=function(W){this.apC();var N=this.dt.indexOf(W.currentTarget),q=this.v3[N];
if(W.type=="mouseover"&&!I.rL(this.v3[this.a70].K))return;if(I.rL(q.K))return;W.a4O=!0;this.a70=N;for(var N=0;
N<hd.data.length;N++)this.v3[N].update(this.LV,this.e);var X=W.target.getBoundingClientRect(),k=new ip(S.E.H,!0);
k.data={R:S.m.k8,ii:q,x:X.left,y:X.top+X.height+2,abY:!0};this.T(k)};hd.a83=function(W){var q=bu,X=q.p7,k=q.m4,B=q.Wr,U=function(s){return{i:s!=null}},l=function(s){return{i:s!=null&&s.d!=null}},K=function(s){return{i:s!=null&&s.or(!1)}},D=function(s){return{i:s!=null&&s.or(!1)&&s.d!=null}},m=[{name:[7,0],i:U,Rl:[X,q.m]},{name:[7,1],Rl:[X,q.lB],i:l},{name:[7,2],Rl:[k,X,q.sf],i:l,nC:!0},{name:"Remove BG",i:hd.HP},{name:[7,8],i:U,r8:!0},{name:[7,13],r8:!0,i:function(s){return{i:s!=null&&s.Y.length!=0&&!s.U[s.Y[0]].S.PM()}}},{name:[7,14],i:hd.HP,nC:!0},{name:[7,11],r8:!0,i:function(s){return{i:s!=null&&s.Y.length!=0&&!s.U[s.Y[0]].S.PM()}}},{name:[7,3],i:U,nC:!0,sub:[{name:[7,9],r8:!0,i:l},{name:[19,3,0],r8:!0,i:l},{name:[7,4],r8:!0,i:l},{name:[7,5],r8:!0,i:l},{name:[7,6],r8:!0,i:l,Rl:"Shift+F6"}]},{name:[7,15],i:l},{name:[7,16],i:l,nC:!0},{name:[7,10],i:l,nC:!0},{name:[6,6,1],i:function(s){return{i:s!=null,jc:s!=null&&s.hh()!=null}},Rl:[q.afQ],nC:!0},{name:[[23,6],[17,2]]},{name:["VAR0 VAR1",[1,2],[17,2]],i:l}],Y=[{s:S.E.dq,p:_.lR.XU(!0)},{s:S.E.dq,p:_.lR.XU()},{s:S.E.dq,p:{yx:"inverse"}},{s:S.E.O,J:_.iK,p:{R:"bgrm",_:1}},{s:S.E.H,p:{R:S.m.K_,ud:"crange"}},{s:S.E.H,p:{R:S.m.K_,ud:"magiccut"}},{s:S.E.O,J:_.iK,p:{R:"bgrm",_:2}},{s:S.E.H,p:{R:S.m.K_,ud:"redge"}},{sub:[{s:S.E.H,p:{R:S.m.K_,ud:"sel_border"}},{s:S.E.H,p:{R:S.m.K_,ud:"sel_smoothness"}},{s:S.E.H,p:{R:S.m.K_,ud:"sel_expand"}},{s:S.E.H,p:{R:S.m.K_,ud:"sel_contract"}},{s:S.E.H,p:{R:S.m.K_,ud:"sel_feather"}}]},{s:S.E.dq,p:{yx:"grow",Og:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}},{s:S.E.dq,p:{yx:"similar",Og:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}},{s:S.E.H,p:{R:S.m.oE,J:_.oV}},{s:S.E.O,J:_.iK,p:{R:"qmask"}},{s:S.E.H,p:{R:S.m.K_,ud:"loadsel"}},{s:S.E.H,p:{R:S.m.K_,ud:"savesel"}}];
if(W){var a=[1,2,8,7,"",14,"a","","b","c","d","","e",11,"","f","g"],p={a:[{name:"Make Work Path",i:l},{s:S.E.dq,p:_.lR.akI()}],b:[{name:[6,49,0],i:l},{s:S.E.dq,p:{yx:"copyToLayer"}}],c:[{name:[6,49,1],i:D},{s:S.E.dq,p:{yx:"cutToLayer"}}],d:[{name:[6,13]},{s:S.E.O,J:_.b9,p:{R:b.ZC}}],e:[{name:[10,16],i:U},{s:S.E.H,p:{R:S.m.oE,J:_.Xx}}],f:[{name:[2,3],i:D,r8:!0},{s:S.E.H,p:{R:S.m.K_,ud:"fill"}}],g:[{name:[14,9],i:D,r8:!0},{s:S.E.H,p:{R:S.m.K_,ud:"stroke"}}]},M=[],x=[];
for(var N=0;N<a.length;N++){var R=a[N];if(m[R]){var y=m[R];y.nC=!1;delete y.Rl;M.push(y);x.push(Y[R])}else if(R==""){M[M.length-1].nC=!0}else if(p[R]){var y=p[R];
M.push(y[0]);x.push(y[1])}}Y=x;m=M}return{name:[0,5],items:m,rx:Y}};hd.HP=function(W){return{i:I.fO(1)&&W!=null&&W.Y.length!=0&&!W.U[W.Y[0]].S.PM()}};
hd.b4=function(W,q){if(W==null||W.Y.length==0)return!1;var X=W.U[W.Y[0]];return X.add.TySh!=null&&q.bt==_.W6};
hd.aCR=function(){var W=bu,q=W.p7,X=W.m4,k=W.Wr,B=function(U){return{i:U!=null}};return[[{name:[5,0],Rl:[q,W.XP],i:function(U,l){return{i:U!=null&&(U.axO()||hd.b4(U,l))}}},{name:[5,1],Rl:[q,W.uo],i:B},{name:[5,2],Rl:[q,W.UA],i:function(U,l){return{i:hd.b4()||I.p0()||l.PW!=null||l.i6!=null||l.a6E!=null}}},{name:[2,2],i:function(U,l){return{i:U!=null&&(U.d!=null||hd.b4(U,l))}},Rl:"Delete",nC:!0}],[{s:S.E.H,p:{R:S.m.Qa}},{s:S.E.H,p:{R:S.m.G$}},{s:S.E.H,p:{R:S.m.M5}},{s:S.E.dq,p:{yx:"delete"}}]]};
hd.gW=function(W,q){var X=function(m){return{i:m!=null&&m.Y.length!=0&&m.U[m.Y[0]].add.SoLd!=null}},k=function(m){return{i:m!=null}},B=[],U=[],l="none maxx avrg medn minn rang stdv summ vari".split(" "),K=[[22,5,0],[24,17,2],[24,3,0],[24,7,3],[24,17,3],[12,12],"Standard Deviation","Summation","Variance"];
for(var N=0;N<l.length;N++){B.push({name:K[N],i:function(m,Y){if(m==null||m.Y.length!=1)return{i:!1};
var a=m.U[m.Y[0]].add.SoLd;if(a==null)return{i:!1};return{i:!0,jc:a.Impr.v.classID==this.aFW}}.bind({aFW:l[N]})});
U.push({s:S.E.O,J:_.b9,p:{R:b.oy,O4:l[N]}})}var D={name:[6,7,1],i:k,nC:!0,sub:[{name:[6,7,0]},{name:"New Smart Obj. via Copy",i:X,nC:!0},{name:"Open (Edit Contents)",i:X,r8:!0},{name:"Reset Transform",i:X},{name:"Replace Contents",i:X,r8:!0},{name:"Export Contents",i:X,r8:!0,nC:!0},{name:"Convert to Layers",i:X,r8:!0,nC:!0},{name:[6,36,4],i:X,sub:B},{name:"Turn into JPG",i:X}]};
if(!W)D={sub:[{s:S.E.dq,p:{yx:"newPlacedLayer"}},{s:S.E.dq,p:{yx:"placedLayerMakeCopy"}},{s:S.E.dq,p:{yx:"placedLayerEditContents",Og:{classID:"placedLayerEditContents"}}},{s:S.E.dq,p:{yx:"placedLayerResetTransforms",Og:{classID:"placedLayerResetTransforms"}}},{s:S.E.dq,p:{yx:"placedLayerReplaceContents",Og:{classID:"placedLayerReplaceContents"}}},{s:S.E.dq,p:{yx:"placedLayerExportContents",Og:{classID:"placedLayerExportContents"}}},{s:S.E.dq,p:{yx:"placedLayerConvertToLayers",Og:{classID:"placedLayerConvertToLayers"}}},{sub:U},{s:S.E.O,J:_.b9,p:{R:b.aus}}]};
if(q)D.sub.splice(0,1);return D};hd.data=function(){var W=bu,q=W.p7,X=W.m4,k=W.Wr,B=function(o){return{i:o!=null&&o.Y.length!=0}},U=function(o){return{i:o!=null}},l=function(o){return{i:o!=null&&o.or(!1)}},K=function(o){return{i:o!=null&&o.or(!1)&&!o.U[o.Y[0]].S.PM()}},D=hd.aCR(!0),m=[],Y=[],a=[],p="assignProfile",M="convertToProfile",x=function(o,G,N){return{jc:o!=null&&o.a82()==N,i:!0}};
for(var N=0;N<ey.ki.length;N++){var R=ey.ki[N];m.push({name:R,i:x});var y={classID:p,null:j0.O8("Dcmn",!0)};
if(R!="sRGB")y.profile={t:"TEXT",v:ey.Tu[N]};var s={classID:M,null:j0.O8("Dcmn",!0)};s.T={t:"TEXT",v:ey.Tu[N]};
Y.push({s:S.E.dq,p:{yx:p,Og:y}});a.push({s:S.E.dq,p:{yx:M,Og:s}})}var F=[{name:[0,0],items:[{name:[5,3],Rl:[k,q,W.Xb],title:[11,7],r8:!0},{name:[1,0],Rl:[q,W.vV],r8:!0},{name:[1,11],r8:!0,i:U},{name:["VAR0 VAR1",[1,0],[0,14]],nC:!0,sub:[{name:"From Any Folder"},{name:[1,19,1],r8:!0,Rl:[k,q,W.vV]},{name:[1,5],r8:!0},{name:[11,0],r8:!0},{name:["PSD VAR0",[25,0]],r8:!0}]},{name:[1,18],nC:!0,i:U,sub:[{name:"PNG",Rl:"Imgur.com",i:function(o,G){return{i:o!=null&&G.Su}}},{name:"JPG",Rl:"Imgur.com",i:function(o,G){return{i:o!=null&&G.Su}}},{name:cC==0?"PSD":"AI",Rl:["Photo","Vector"][cC]+"pea.com",i:function(o,G){return{i:o!=null&&G.Su&&!o.Kn}}}]},{name:"Save ...",Rl:[q,W.xE],i:function(o,G){var d=js.get([1,2]),u=!0;
if(o){if(o.g0)d+=" ("+js.get([6,7,1])+")";if(o.Oi)d+=" (Google Drive)";if(o.jQ)d+=" ("+Storage.list[o.jQ[0]][0]+")";
u=lf.iP.indexOf(o.I7)!=-1;if(cC==1)u=o.I7=="ai"}return{i:o!=null&&(o.jQ!=null||o.oI!=null&&u||o.g0!=null||o.m8!=null&&o.m8.DK!=null||o.Oi!=null||G.Mi.save!=null),cT:d}}},{name:cC==0?[1,3]:"Save as AI",i:function(o,G){return{i:o!=null&&G.Su}}},{name:["VAR0 VAR1",[1,2],[0,14]],i:U,sub:[{name:["VAR0 VAR1",cC==0?"PSD":"AI",[1,19,2]],i:function(o,G){return{i:o!=null&&G.Su}}},{name:["VAR0 PSD/PSB",[1,2]],r8:!0,i:function(o,G){return{i:o!=null&&G.Su}}}]},{name:[1,8],i:U,sub:function(){var o=lf.dT(0),G=[];
for(var N=0;N<o.length;N++)G.push({name:o[N],Rl:"."+o[N].toLowerCase()});G.push({name:[0,14],sub:function(){var o=lf.dT(1),G=[];
for(var N=0;N<o.length;N++)G.push({name:o[N],Rl:"."+o[N].toLowerCase()});return G}()});return G}()},{name:[1,4],r8:!0,i:U,nC:!0,Rl:[q,W.Rt]},{name:[1,9],r8:!0,i:U},{name:"Export Color Lookup",r8:!0,i:U,nC:!0},{name:[1,14],r8:!0,i:U,nC:!0},{name:[1,17],sub:[{name:"Batch",r8:!0},{name:"PDF Presentation",r8:!0},{name:"Convert Formats",r8:!0},{name:"Generate Mockups",r8:!0,i:U},{name:"Resize Images",r8:!0,nC:!0},{name:"Crop and Straighten Photos",i:U}]},{name:[1,10],r8:!0}],rx:[{s:S.E.H,p:{R:S.m.K_,ud:"newproject"}},{s:S.E.H,p:{R:S.m.hM}},{s:S.E.H,p:{R:S.m.hM,adm:!0}},{sub:[{s:S.E.H,p:{R:S.m.hM,gN:!0}},{s:S.E.H,p:{R:S.m.K_,ud:"storwindow",Bz:0}},{s:S.E.H,p:{R:S.m.K_,ud:"open_from_url"}},{s:S.E.H,p:{R:S.m.K_,ud:"camera"}},{s:S.E.H,p:{R:S.m.K_,ud:"res0"}}]},{sub:[{s:S.E.H,p:{R:S.m.nj,me:"png"}},{s:S.E.H,p:{R:S.m.nj,me:"jpg"}},{s:S.E.H,p:{R:S.m.nj,me:cC==0?"psd":"ai"}}]},{s:S.E.H,p:{R:S.m.lS}},{s:S.E.H,p:{R:S.m._S}},{sub:[{s:S.E.H,p:{R:S.m.K_,ud:"storwindow",Bz:1}},{s:S.E.H,p:{R:S.m.K_,ud:"savepsb"}}]},{sub:function(){var o=lf.dT(0),G=[];
for(var N=0;N<o.length;N++)G.push({s:S.E.H,p:{R:S.m.K_,ud:"saveforweb",me:N}});G.push({sub:function(){var d=lf.dT(0).length,o=lf.dT(1),G=[];
for(var N=0;N<o.length;N++)G.push({s:S.E.H,p:{R:S.m.K_,ud:"saveforweb",me:d+N}});return G}()});return G}()},{s:S.E.H,p:{R:S.m.K_,ud:"saveforweb",me:3,aJH:!0}},{s:S.E.H,p:{R:S.m.K_,ud:"eassets"}},{s:S.E.H,p:{R:S.m.K_,ud:"exlut"}},{s:S.E.H,p:{R:S.m.K_,ud:"finfo"}},{sub:[{s:S.E.H,p:{R:S.m.K_,ud:"batch"}},{s:S.E.H,p:{R:S.m.K_,ud:"pdfpres"}},{s:S.E.H,p:{R:S.m.K_,ud:"cformat"}},{s:S.E.H,p:{R:S.m.K_,ud:"mockups"}},{s:S.E.H,p:{R:S.m.K_,ud:"resize"}},{s:S.E.O,J:_.mq,p:{R:"cropAndStr"}}]},{s:S.E.H,p:{R:S.m.K_,ud:"script"}}]},{name:[0,1],items:[{name:[2,8],i:U},{name:[2,0],i:U,Rl:[X,q,W.xz]},{name:[2,1],i:U,Rl:[q,W.xz],nC:!0},{name:[2,11],Rl:[X,q,W.aF],nC:!0,r8:!0,i:function(o,G){return{i:cP.a9l(o)&&G.bt!=_.Xx}}},D[0][0],D[0][1],{name:[5,7],Rl:[X,q,W.uo],i:function(o){return{i:o!=null&&o.d!=null}}},D[0][2],D[0][3],{name:[2,3],i:l,r8:!0,Rl:[X,W.afI]},{name:[14,9],i:l,r8:!0,nC:!0},{name:[10,48],i:l},{name:[10,46],i:function(o){return{i:_.yI.sv(o)}}},{name:"Perspective Warp",i:function(o){return{i:_.yI.sv(o)}}},{name:[10,16],i:U,Rl:[k,q,W.kJ]},{name:[2,4],i:U,sub:dK.a6X()},{name:[2,10,1],i:U},{name:[2,10,0],i:U,nC:!0},{name:"Assign Profile",sub:m},{name:"Convert to Profile",sub:m,nC:!0},{name:[12,87],i:U,sub:[{name:[12,62],i:U},{name:[9,3],i:U},{name:[10,31],i:function(o){return{i:o!=null&&o.Yb()[1].length!=0}}}]},{name:[1,15],r8:!0},{name:[12,79],r8:!0,Rl:[q,W.RI]},{name:[1,13],r8:!0}],rx:[{s:S.E.O,J:_.Yo,p:{R:"h_undoredo"}},{s:S.E.O,J:_.Yo,p:{R:"h_stepfwd"}},{s:S.E.O,J:_.Yo,p:{R:"h_stepbck"}},{s:S.E.H,p:{R:S.m.K_,ud:"afw_fade"}},D[1][0],D[1][1],{s:S.E.H,p:{R:S.m.G$,sn:!0}},D[1][2],D[1][3],{s:S.E.H,p:{R:S.m.K_,ud:"fill"}},{s:S.E.H,p:{R:S.m.K_,ud:"stroke"}},{s:S.E.H,p:{R:S.m.oE,J:_.Fh}},{s:S.E.O,J:_.zF,p:{R:"start",Sw:"rigidTransform"}},{s:S.E.O,J:_.zF,p:{R:"start",Sw:"perspectiveWarpTransform"}},{s:S.E.H,p:{R:S.m.oE,J:_.Xx}},{sub:dK.ad_()},{s:S.E.dq,p:{yx:"align",Og:{classID:"null",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},Usng:{t:"enum",v:{ADSt:"ADSContent"}},alignToCanvas:{t:"bool",v:!1},Aply:{t:"enum",v:{projection:"Auto"}},vignette:{t:"bool",v:!1},radialDistort:{t:"bool",v:!1}}}},{s:S.E.O,J:_.b9,p:{R:b.a8U}},{sub:Y},{sub:a},{sub:[{s:S.E.H,p:{R:S.m.Ai,rl:0}},{s:S.E.H,p:{R:S.m.Ai,rl:1}},{s:S.E.H,p:{R:S.m.Ai,rl:2}}]},{s:S.E.H,p:{R:S.m.K_,ud:"pmanager"}},{s:S.E.H,p:{R:S.m.K_,ud:"preferences"}},{s:S.E.H,p:{R:S.m.K_,ud:"locstor"}}]},{name:[0,2],items:[{name:[12,36],i:U,nC:!0,sub:[{name:"RGB",i:function(o){if(o==null)return{i:!1};
return{jc:o.add.fcmy==null,i:!0}}},{name:"CMYK",nC:!0,i:function(o){if(o==null)return{i:!1};return{jc:o.add.fcmy!=null,i:o.depth!=32}}}].concat(h2?[{name:"8 Bits/Channel",i:function(o){if(o==null)return{i:!1};
return{jc:o.depth==8,i:!0}}},{name:"16 Bits/Channel",i:function(o){if(o==null)return{i:!1};return{jc:o.depth==16,i:!0}}},{name:"32 Bits/Channel",i:function(o){if(o==null)return{i:!1};
return{jc:o.depth==32,i:o.add.fcmy!=1}}}]:[])},{name:[3],i:U,nC:!0,sub:function(){var o=[];for(var G in dZ.names){o.push({name:dZ.names[G],r8:kf[G]!=null,Rl:dZ.keys[G],nC:dZ.ad8.indexOf(G)!=-1});
if(G=="selc"){o.push({name:["VAR0/VAR1",[19,6,0],[19,6,2]],r8:!0,nC:!0});o.push({name:[19,7,0],Rl:[q,X,W.QI],i:l});
o.push({name:[4,18],r8:!0,i:l})}}return o}()},{name:[4,16,0],i:l},{name:[4,16,1],i:l},{name:[4,16,2],i:l,nC:!0},{name:[11,11,1],i:K,r8:!0},{name:[11,11,0],i:K,r8:!0},{name:"Wavelet Decompose",i:K,nC:!0},{name:[11,3],i:U,r8:!0,Rl:[k,q,W.uo]},{name:[11,10],i:U,r8:!0,Rl:[k,q,W.sf]},{name:[2,4],i:U,sub:[{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]},{name:[11,12,1],i:function(o){return{i:o!=null&&o.d!=null}}},{name:[11,12,0],i:U,Rl:[q,W.tt],r8:!0},{name:[11,12,2],i:U,nC:!0},{name:[12,53],i:U},{name:[2,12],i:l,r8:!0,nC:!0},{name:[2,14],i:U,r8:!0}],rx:[{sub:[{s:S.E.O,J:_.zl,p:{R:"fcmy",_:0}},{s:S.E.O,J:_.zl,p:{R:"fcmy",_:1}},{s:S.E.dq,p:{yx:"convertMode",Og:{classID:"CnvM",Dpth:{t:"long",v:8},Mrge:{t:"bool",v:!1}}}},{s:S.E.dq,p:{yx:"convertMode",Og:{classID:"CnvM",Dpth:{t:"long",v:16},Mrge:{t:"bool",v:!1}}}},{s:S.E.dq,p:{yx:"convertMode",Og:{classID:"CnvM",Dpth:{t:"long",v:32},Mrge:{t:"bool",v:!1}}}}]},{sub:function(){var o=[];
for(var G in dZ.names){o.push({s:S.E.O,J:_.wm,p:{R:"start",_h:G}});if(G=="selc"){o.push({s:S.E.O,J:_.zF,p:{R:"start",Sw:"adaptCorrect"}});
o.push({s:S.E.dq,p:{yx:"desaturate"}});o.push({s:S.E.O,J:_.wm,p:{R:"start",_h:"matc"}})}}return o}()},{s:S.E.dq,p:{yx:"levels",Og:{classID:"Lvls",Auto:{t:"bool",v:!0}}}},{s:S.E.dq,p:{yx:"levels",Og:{classID:"Lvls",AuCo:{t:"bool",v:!0}}}},{s:S.E.dq,p:{yx:"levels",Og:{classID:"Lvls",autoBlackWhite:{t:"bool",v:!0},autoNeutrals:{t:"bool",v:!0}}}},{s:S.E.H,p:{R:S.m.K_,ud:"rcolors"}},{s:S.E.H,p:{R:S.m.K_,ud:"vbitmap"}},{s:S.E.O,J:_.b9,p:{R:b.aG0}},{s:S.E.H,p:{R:S.m.K_,ud:"csize"}},{s:S.E.H,p:{R:S.m.K_,ud:"isize"}},{sub:[{s:S.E.dq,p:_.Gz.t8(!0,90)},{s:S.E.dq,p:_.Gz.t8(!0,-90)},{s:S.E.dq,p:_.Gz.t8(!0,-180)},{s:S.E.dq,p:_.Gz.t8(!1,"Hrzn")},{s:S.E.dq,p:_.Gz.t8(!1,"Vrtc")}]},{s:S.E.dq,p:{yx:"crop",Og:{__name:"Crop",classID:"Crop"}}},{s:S.E.H,p:{R:S.m.K_,ud:"trim"}},{s:S.E.dq,p:{yx:"revealAll",Og:{classID:"RvlA"}}},{s:S.E.dq,p:{yx:"duplicate",Og:{classID:"Dplc",null:j0.O8("Dcmn",!0)}}},{s:S.E.O,J:_.wm,p:{R:"start",_h:"aply"}},{s:S.E.H,p:{R:S.m.K_,ud:"varsdats"}}]},{name:[0,3],items:[{name:[5,3],i:U,sub:[{name:[0,3],Rl:[X,q,W.Xb]},{name:[0,4]},{name:[1,16,0],r8:!0},{name:[1,16,3],r8:!0,nC:!0},{name:[6,49,0],Rl:[q,W.YJ]},{name:[6,49,1],Rl:[X,q,W.YJ],i:function(o){return{i:o!=null&&o.d!=null&&o.or(!1)}}}]},{name:[6,0],i:B},{name:[11,4],i:B},{name:[5,4],i:B,nC:!0},{name:"Text",i:function(o){return{i:o!=null&&o.Y.length!=0&&o.U[o.Y[0]].add.TySh!=null}},sub:[{name:[6,40]}]},{name:[11,6],i:B,nC:!0,sub:bP.Vx(!0)},{name:[6,48,1],i:U,sub:[{name:[6,48,0,0]},{name:[6,48,0,1]},{name:[6,48,0,2]}]},{name:[6,1],i:U,nC:!0,sub:bP.aB9()},{name:[6,2],i:U,sub:[{name:[6,4],i:function(o){return{i:o!=null&&o.Y.length!=0&&o.U[o.Y[0]].Jx()==null}}},{name:[6,5,0],i:function(o){return{i:o!=null&&o.Y.length!=0&&o.U[o.Y[0]].Jx()==null}}},{name:[6,5,1],i:function(o){return{i:o!=null&&o.Y.length!=0&&o.U[o.Y[0]].Jx()==null&&o.d!=null}}},{name:[6,5,2],i:function(o){return{i:o!=null&&o.Y.length!=0&&o.U[o.Y[0]].Jx()==null&&o.d!=null}}},{name:[6,5,3],i:function(o){return{i:o!=null&&o.Y.length!=0&&o.U[o.Y[0]].Jx()==null}},nC:!0},{name:[5,4],i:function(o){return{i:o!=null&&o.Y.length!=0&&o.U[o.Y[0]].Jx()!=null}}},{name:[5,8],i:function(o){return{i:o!=null&&o.Y.length!=0&&o.U[o.Y[0]].Jx()!=null&&o.or(!1,!0)}}},{name:["VAR0/VAR1",[5,5],[5,6]],i:function(o){return{i:o!=null&&o.Y.length!=0&&o.U[o.Y[0]].Jx()!=null}}}]},{name:[6,3],i:U,sub:[{name:[6,4],i:function(o){return{i:o!=null&&o.Y.length!=0&&o.U[o.Y[0]].add.vmsk==null}}},{name:[6,5,0],i:function(o){return{i:o!=null&&o.Y.length!=0&&o.U[o.Y[0]].add.vmsk==null}}},{name:[12,76,7],i:function(o){return{i:o!=null&&o.Y.length!=0&&o.U[o.Y[0]].add.vmsk==null}},nC:!0},{name:[5,4],i:function(o){return{i:o!=null&&o.Y.length!=0&&o.U[o.Y[0]].add.vmsk!=null}}},{name:["VAR0/VAR1",[5,5],[5,6]],i:function(o){return{i:o!=null&&o.Y.length!=0&&o.U[o.Y[0]].add.vmsk!=null}}}]},bM.aEU(!0),hd.gW(!0),{name:[6,8],i:bM.anh},{name:[6,34],nC:!0,i:function(o){if(o==null||o.Y.length==0)return{i:!1};
var G=o.U[o.Y[0]];return{i:G.add.lmfx!=null&&!G.S3()}}},{name:[6,9],i:U,nC:!0,Rl:[q,W.Gf]},{name:[6,55],i:U,sub:[{name:[6,56,0],Rl:[X,q,W.SP]},{name:[6,56,1],Rl:[q,W.SP]},{name:[6,56,2],Rl:[q,W.Vv]},{name:[6,56,3],Rl:[X,q,W.Vv]}]},{name:"Combine Shapes",i:U,nC:!0,sub:[{name:[18,1],S7:"set/union"},{name:[18,2],S7:"set/difference"},{name:[18,3],S7:"set/intersection"},{name:[18,4],S7:"set/xor"}]},{name:[6,58],i:U,nC:!0,sub:[{name:["Make Frames"]},{name:["Unmake Frames"]},{name:[18,5]}]},{name:[6,12,0],Rl:[q,W.E],i:bM.iC},{name:[6,12,1],i:U},{name:[2,13],i:U}],rx:[{sub:[{s:S.E.O,J:_.b9,p:{R:b.ZC}},{s:S.E.O,J:_.b9,p:{R:b.DL}},{s:S.E.H,p:{R:S.m.K_,ud:"newartb",Bz:0}},{s:S.E.H,p:{R:S.m.K_,ud:"newartb",Bz:1}},{s:S.E.dq,p:{yx:"copyToLayer"}},{s:S.E.dq,p:{yx:"cutToLayer"}}]},{s:S.E.O,J:_.b9,p:{R:b.b8}},{s:S.E.H,p:{R:S.m.K_,ud:"duplinto"}},{s:S.E.O,J:_.b9,p:{R:b.L5}},{sub:[{s:S.E.O,J:_.b9,p:{R:b.n9}}]},{sub:bP.Af(!0)},{sub:[{s:S.E.O,J:_.FE,p:{R:"newfill",R7:0}},{s:S.E.dq,p:_.Wp.u$(1)},{s:S.E.dq,p:_.Wp.u$(2)}]},{sub:bP.j0()},{sub:[{s:S.E.O,J:_.b9,p:{R:b.PU,Bz:"RvlA"}},{s:S.E.O,J:_.b9,p:{R:b.PU,Bz:"HdAl"}},{s:S.E.O,J:_.b9,p:{R:b.PU,Bz:"RvlS"}},{s:S.E.O,J:_.b9,p:{R:b.PU,Bz:"HdSl"}},{s:S.E.O,J:_.b9,p:{R:b.PU,Bz:"Trns"}},{s:S.E.O,J:_.b9,p:{R:b.nu}},{s:S.E.O,J:_.b9,p:{R:b.OA}},{s:S.E.O,J:_.b9,p:{R:b.Bo}}]},{sub:[{s:S.E.dq,p:_.U0.sc(0)},{s:S.E.dq,p:_.U0.sc(1)},{s:S.E.dq,p:_.U0.sc(2)},{s:S.E.dq,p:_.U0.sc(3)},{s:S.E.O,J:_.b9,p:{R:b.lO}}]},{s:S.E.O,J:_.b9,p:{R:b.W7}},hd.gW(!1),{s:S.E.dq,p:{yx:"rasterizeLayer",Og:{classID:"rasterizeLayer",null:j0.O8("Lyr",!0)}}},{s:S.E.dq,p:{yx:"rasterizeLayer",Og:{classID:"rasterizeLayer",null:j0.O8("Lyr",!0),What:{t:"enum",v:{rasterizeItem:"layerStyle"}}}}},{s:S.E.O,J:_.b9,p:{R:b.Pw}},{sub:[{s:S.E.O,J:_.b9,p:{R:b.vz,w7:0}},{s:S.E.O,J:_.b9,p:{R:b.vz,w7:1}},{s:S.E.O,J:_.b9,p:{R:b.vz,w7:2}},{s:S.E.O,J:_.b9,p:{R:b.vz,w7:3}}]},{sub:[{s:S.E.O,J:_.b9,p:{R:b.Qf,Gg:0}},{s:S.E.O,J:_.b9,p:{R:b.Qf,Gg:1}},{s:S.E.O,J:_.b9,p:{R:b.Qf,Gg:2}},{s:S.E.O,J:_.b9,p:{R:b.Qf,Gg:3}}]},{sub:[{s:S.E.O,J:_.b9,p:{R:b.QC,w7:"makeframes"}},{s:S.E.O,J:_.b9,p:{R:b.QC,w7:"unmakeframes"}},{s:S.E.O,J:_.b9,p:{R:b.QC,w7:"merge"}}]},{s:S.E.dq,p:{yx:"mergeLayersNew",Og:{__name:"Merge Layers",classID:"Mrg2"}}},{s:S.E.dq,p:{yx:"flattenImage"}},{s:S.E.O,J:_.zF,p:{R:"start",Sw:"defr"}}]},hd.a83(!1),function(){var o={name:[0,6],items:[{name:[24,18,4],Rl:[k,q,W.aF],i:U,nC:!0}],rx:[{s:S.E.O,J:_.zF,p:{R:"applylast"}}]};
for(var N=0;N<dY.dK.length;N++){var G=dY.dK[N],d=G.s3;if(G.bE!=null){var u={name:dY.names[G.bE],r8:!0,nC:G.nC,i:U};
if(G.bE=="VaPo")u.i=l;o.items.push(u);o.rx.push({s:S.E.O,J:_.zF,p:{R:"start",Sw:G.bE}});continue}var r={name:G.kf,sub:[],i:U};
o.items.push(r);var v={sub:[]};o.rx.push(v);for(var c=0;c<d.length;c++){var V=d[c],j=dY.names[V];if(V=="blurbTransform")j=[24,3,12,c];
var Q={name:j,r8:dY.wy(V)!=null};r.sub.push(Q);var H={s:S.E.O,J:_.zF,p:{R:"start",Sw:V,asG:c<2?c:c+1}};
v.sub.push(H)}}return o}(),{name:[0,7],items:[{name:[8,0],i:U,Rl:[q,W.Et]},{name:[8,1],i:U,Rl:[q,W.wn]},{name:[20,3],i:U,Rl:[q,W.gi]},{name:[20,2],i:U,Rl:[q,W.rp]},{name:[8,14],i:function(o,G){return{i:o!=null,jc:o!=null&&o.Cg}},nC:!0},{name:[12,36],nC:!0,sub:[{name:"Fullscreen",i:function(o,G){return{jc:document.fullscreenElement!=null}},nC:!0},{name:"Standard",i:function(o,G){return{jc:G.pu==0}}},{name:"Menu Bar and Canvas",i:function(o,G){return{jc:G.pu==1}}}]},{name:[8,13],Rl:[q,W.uv],i:function(o,G){return{jc:G.$O}}},{name:[8,12],nC:!0,sub:[{name:[17,2],i:function(o,G){return{i:G.$O,jc:G.bm.xx}}},{name:[8,9],i:function(o,G){return{i:G.$O,jc:G.bm.RM}}},{name:[8,2],i:function(o,G){return{i:G.$O,jc:G.bm.UZ}},Rl:[q,W.R0]},{name:[8,4],i:function(o,G){return{i:G.$O,jc:G.bm.cM}},Rl:[q,W.I6]},{name:[8,8],i:function(o,G){return{i:G.$O,jc:G.bm.qF}}},{name:[8,11,0],i:function(o,G){return{i:G.$O,jc:G.bm.Ev}}}]},{name:[8,3],i:function(o,G){return{jc:G.RS}},Rl:[q,W.FV],nC:!0},{name:[8,5],i:function(o,G){return{jc:G.hN}}},{name:[8,6],nC:!0,sub:[{name:[8,2],i:function(o,G){return{jc:G.l3[0]}}},{name:[8,4],i:function(o,G){return{jc:G.l3[1]}}},{name:[9,1],i:function(o,G){return{jc:G.l3[2]}}},{name:[8,11,0],i:function(o,G){return{jc:G.l3[3]}}},{name:[8,7,0],i:function(o,G){return{jc:G.l3[4]}}}]},{name:[11,15,2],i:function(o,G){return{i:o!=null,jc:o!=null&&o.y2}}},{name:[11,15,0],i:U},{name:[11,14],i:U,r8:!0},{name:[11,15,1],i:function(o,G){return{i:o!=null&&o.Y.length!=0}},nC:!0},{name:[8,11,2],i:function(o,G){return{i:o!=null&&o.Ev.length!=0}}}],rx:[{s:S.E.O,J:_.hm,p:{R:"zoom",IK:!0}},{s:S.E.O,J:_.hm,p:{R:"zoom",IK:!1}},{s:S.E.O,J:_.hm,p:{R:"adapt",_:"fitscr"}},{s:S.E.O,J:_.hm,p:{R:"adapt",_:"pixel"}},{s:S.E.O,J:_.zl,p:{R:"pview"}},{sub:[{s:S.E.H,p:{R:S.m.O3,FX:!0}},{s:S.E.H,p:{R:S.m.O3,_:0}},{s:S.E.H,p:{R:S.m.O3,_:1}},{s:S.E.H,p:{R:S.m.O3,_:2}}]},{s:S.E.H,p:{R:S.m.Dt,rl:aI.U$}},{sub:[{s:S.E.H,p:{R:S.m.Dt,rl:aI.AK}},{s:S.E.H,p:{R:S.m.Dt,rl:aI.zg}},{s:S.E.H,p:{R:S.m.Dt,rl:aI.QP}},{s:S.E.H,p:{R:S.m.Dt,rl:aI.Pd}},{s:S.E.H,p:{R:S.m.Dt,rl:aI.Ff}},{s:S.E.H,p:{R:S.m.Dt,rl:aI.QE}}]},{s:S.E.H,p:{R:S.m.Dt,rl:aI.Oq}},{s:S.E.H,p:{R:S.m.Dt,rl:aI.amx}},{sub:[{s:S.E.H,p:{R:S.m.Dt,rl:aI.FI,$c:0}},{s:S.E.H,p:{R:S.m.Dt,rl:aI.FI,$c:1}},{s:S.E.H,p:{R:S.m.Dt,rl:aI.FI,$c:2}},{s:S.E.H,p:{R:S.m.Dt,rl:aI.FI,$c:3}},{s:S.E.H,p:{R:S.m.Dt,rl:aI.FI,$c:4}}]},{s:S.E.O,J:_.zl,p:{R:"lockguides"}},{s:S.E.O,J:_.zl,p:{R:"gids",$w:[[],[]]}},{s:S.E.H,p:{R:S.m.K_,ud:"addguides"}},{s:S.E.O,J:_.zl,p:{R:"gidsFromLayer"}},{s:S.E.O,J:_.eP,p:{R:"deleteAll"}}]},function(){var o={name:[0,8],items:[{name:[0,14],nC:!0,sub:[]},{name:"Plugins",nC:!0}],rx:[{sub:[]},{s:S.E.H,p:{R:S.m.K_,ud:"res1"}}]};
for(var N=0;N<jk.Rt.length;N++){var G=jk.Rt[N],d=function(){var u=G.ii.cJ;return function(r,v){return{jc:v.v3.indexOf(parseInt(u))!=-1}}}();
(G.tr?o.items[0].sub:o.items).push({name:G.ii.name,i:d});(G.tr?o.rx[0].sub:o.rx).push({s:S.E.H,p:{R:S.m.oU,ud:G.ii.cJ}})}return o}(),function(){var o={name:[0,14],items:[],rx:[]},G={name:[0,9],sub:[]};
o.items.push(G);var d={sub:[]};o.rx.push(d);var u=js.aGg();for(var N=0;N<u.length;N++){var r=u[N],v=r.code,c=js.aFZ(v);
G.sub.push({name:r.name,Rl:v,i:function(V,j){return{jc:this.Rl==js.yc()}}});d.sub.push({s:S.E.H,p:{R:S.m.Dt,rl:aI.lf,lang:c}})}G.sub.push({name:[0,12]});
d.sub.push({s:S.E.H,p:{R:S.m.p4,link:"https://www.photopea.com/translate/"}});var G={name:[0,15],sub:[]};
o.items.push(G);var d={sub:[]};o.rx.push(d);for(var N=0;N<it.$z.length;N++){G.sub.push({name:it.$z[N].name,i:function(V,j){return{jc:this.name==it.$z[j.FG].name}}});
d.sub.push({s:S.E.H,p:{R:S.m.Dt,rl:aI._e,FG:N}})}o.items.push({name:cC==0?[0,17,6]:"Install Vectorpea",i:function(V,j){return{i:j.dR!=null}}});
o.rx.push({s:S.E.H,p:{R:S.m.g1}});if(cC==0){o.items.push({name:[11,13]});o.rx.push({s:S.E.H,p:{R:S.m.K_,ud:"shortcuts"}});
o.items.push({name:[0,16],i:function(V){return{jc:dd.gP,i:dd.aCD}},nC:!0});o.rx.push({s:S.E.H,p:{R:S.m.atG}})}o.items.push({name:"PeaMark"});
o.rx.push({s:S.E.H,p:{R:S.m.K_,ud:"peamark"}});o.items.push({name:"",i:function(V,j){return j.J7?{cT:"About "+["Photopea","Vectorpea"][cC],i:!0}:{cT:"",i:!1}}});
o.rx.push({s:S.E.H,p:{R:S.m.K_,ud:"aboutpp"}});return o}()],E=[F[0],F[1],{name:"Object",items:[{name:[6,9],i:U,nC:!0,Rl:[q,W.Gf]},{name:[6,6,0],sub:[{name:[5,5],Rl:[q,W.rA]},{name:[5,6],Rl:[k,q,W.rA]}]},{name:[1,16,1],sub:[{name:"Fit to Artwork Bounds"}]}],rx:[{s:S.E.O,J:_.b9,p:{R:b.Pw}},{sub:[{s:S.E.O,J:_.b9,p:{R:b.Pw,D7:!0}},{s:S.E.O,J:_.b9,p:{R:b.Pw,D7:!0,_G:!0}}]},{sub:[{s:S.E.O,J:_.eh,p:{R:"adapt"}}]}]},{name:[0,7],items:[{name:"Outline View",i:function(o,G){return{jc:o&&o.add.prvw==0,i:o!=null}},nC:!0,Rl:[q,W.xt]},{name:[8,0],i:U,Rl:[q,W.Et]},{name:[8,1],i:U,Rl:[q,W.wn]},{name:[12,36],nC:!0,sub:[{name:"Fullscreen",i:function(o,G){return{jc:document.fullscreenElement!=null}},nC:!0},{name:"Standard",i:function(o,G){return{jc:G.pu==0}}},{name:"Menu Bar and Canvas",i:function(o,G){return{jc:G.pu==1}}}]},{name:[8,3],i:function(o,G){return{jc:G.RS}},Rl:[q,W.FV]}],rx:[{s:S.E.O,J:_.hm,p:{R:"prvw"}},{s:S.E.O,J:_.hm,p:{R:"zoom",IK:!0}},{s:S.E.O,J:_.hm,p:{R:"zoom",IK:!1}},{sub:[{s:S.E.H,p:{R:S.m.O3,FX:!0}},{s:S.E.H,p:{R:S.m.O3,_:0}},{s:S.E.H,p:{R:S.m.O3,_:1}}]},{s:S.E.H,p:{R:S.m.Dt,rl:aI.Oq}}]},F[7],F[8]];
return cC==0?F:E}();function kI(){gH.call(this);this.K=I.a("div","");this.CU=0;this.f$=0;this.e=null;
this.jR=I.a("div","");I.w(this.jR,"width:200em; height:100em; position:absolute;");this.Vm=[];this.Ho=[];
this.tF={}}kI.prototype=new gH;kI.prototype.Y3=function(W){var q=Date.now(),X=[];if(W=="-"){X=[new gr,new hl,new bd,new iw("pdfpres"),new iw("cformat"),new iw("batch"),new iw("mockups"),new iw("resize"),new d8,new ja,new eb,new cG,new cG(!0),new aW,new bA,new cJ,new bq,new cV,new ko,new iR,new lh,new fd,new dQ,new bP,new cZ("isize"),new cZ("csize"),new km,new jd,new eJ,new bD,new aE,new l3,new go,new be,new dw(!1),new dw(!0),new eT(0),new eT(1),new hG,new aU,new fC,new dB,new cU,new eP,new eG(0),new eG(1),new eG(2),new eG(3),new eG(4),new eG(5),new eG(6),new eG(7),new eG(8),new hp,new eM,new f0,new fi,new el,new fh,new jh,new c8,new hv,new iG,new gX(0),new gX(1),new jB("border",[7,9],"px"),new jB("smoothness",[19,3,0],"px"),new jB("expand",[7,4],"px"),new jB("contract",[7,5],"px"),new jB("feather",[7,6],"px"),new i4(0,"namewindow",[12,48]),new i4(2,"billto","Bill To"),new i4(1,"cornerradius",[12,94,0],"px",!0,!0),new i4(1,"scaleeffects",[6,30,1],"%",!0),new i4(1,"doczoom","Zoom","%",!0),new i4(1,"setFPS","Set FPS","fps,120",!1),new i4(1,"simplifypath",[12,94,2],"%,100",!0,!0)];
if(cC==0){X.push(new fB)}}else X=[new cP(W.slice(4))];this.a1Y(X);this.tF[W]=!0};kI.prototype.a1Y=function(W){var q=this.e;
for(var N=0;N<W.length;N++){var X=W[N];X.parent=this;this.Ho.push(X);this.Yx(X);X.l();if(q)X.QL(q,aI.NC);
X.Q(S.E.V_,this.Tx,this);I.Gs(X)}};kI.prototype.qL=function(W,q){this.CU=W;this.f$=q;for(var N=0;N<this.Ho.length;
N++)this.Yx(this.Ho[N])};kI.prototype.l=function(){for(var N=0;N<this.Ho.length;N++)this.Ho[N].l()};
kI.prototype.Ao=function(){return this.Vm.length==0?null:this.Vm[this.Vm.length-1]};kI.prototype.mf=function(){for(var N=0;
N<this.Vm.length;N++)if(this.Vm[N].mf())return!0;return!1};kI.prototype.aHR=function(W,q,X,k,B){console.log("Show",W);
var U=W.startsWith("afw_"),l=null;if(!U&&!this.tF["-"])this.Y3("-");if(U&&!this.tF[W])this.Y3(W);if(typeof W=="object"){l=W;
if(!l.aiu(S.E.V_,this.Tx))l.Q(S.E.V_,this.Tx,this);l.parent=this}else for(var N=0;N<this.Ho.length;N++)if(this.Ho[N].id==W)l=this.Ho[N];
if(this.mf()&&l.mf()){alert("Finish the current action first");return}if(!l.C$(q))return;if(this.Vm.indexOf(l)!=-1){if(W=="colorpicker")this.Tx(null,l);
else return}var K=this.Vm.length-1;if(K>=0)I.Wx(this.Vm[K].K,"wdisabled");this.K.appendChild(l.K);this.Vm.push(l);
this.Yx(l);I.NH(l);l.V9(q,X,k,B)};kI.prototype.Yx=function(W){var q=this.CU,X=this.f$,k=W.zs(q,X),B;
if(k!=null){B=k}else{k=new hw(0,0);B=W.aHd();if(B==null){var U=this.Vm.indexOf(W)+1;if(q<450||X<450)B=new hw(0,0);
else B=new hw(U*150,U*150)}}W.K.style.left=B.x+"px";W.K.style.top=this.K.offsetTop+B.y+"px";W.qL(this.CU-k.x*2,this.f$-k.y*2-34)};
kI.prototype.QL=function(W,q){this.e=W;for(var N=0;N<this.Ho.length;N++)this.Ho[N].QL(W,q)};kI.prototype.Tx=function(W,q){if(q==null){q=this.Vm.pop();
I.Gs(q,this.K)}else{this.Vm.splice(this.Vm.indexOf(q),1);this.K.removeChild(q.K);I.gI(q.K,"wdisabled")}var X=this.Vm.length-1;
if(X>=0)I.gI(this.Vm[X].K,"wdisabled");if(this.jR.parentNode==this.K)this.K.removeChild(this.jR)};document.body.appendChild(new g6().K)}())